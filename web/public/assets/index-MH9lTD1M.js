var Kt=Object.defineProperty,Xt=Object.defineProperties;var Zt=Object.getOwnPropertyDescriptors;var rt=Object.getOwnPropertySymbols;var Yt=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable;var lt=(e,n,o)=>n in e?Kt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,re=(e,n)=>{for(var o in n||(n={}))Yt.call(n,o)&&lt(e,o,n[o]);if(rt)for(var o of rt(n))qt.call(n,o)&&lt(e,o,n[o]);return e},xe=(e,n)=>Xt(e,Zt(n));var N=(e,n,o)=>new Promise((s,a)=>{var d=r=>{try{c(o.next(r))}catch(p){a(p)}},l=r=>{try{c(o.throw(r))}catch(p){a(p)}},c=r=>r.done?s(r.value):Promise.resolve(r.value).then(d,l);c((o=o.apply(e,n)).next())});import{a7 as u,aJ as P,at as x,bW as ht,H as D,y as B,r as Ae,ai as it,J as vt,bX as Jt,h as m,aL as yt,aG as Qt,A as ie,u as t,a8 as b,a9 as h,aD as H,aa as f,aI as K,aO as te,ay as Be,aE as Ve,az as bt,aN as en,bi as tn,aC as nn,bR as on,aT as sn,an,bG as rn,bw as ln,bE as St,bF as Ct,N as ye,bz as Lt,c7 as ke,D as ne,ax as oe,aw as V,bc as be,cG as ct,cH as cn,B as un,cI as dn,bb as pn,aS as gn,c4 as ut,_ as Te,bx as Ue,cJ as fn,cK as dt,x as Ce,cL as wt,cM as mn,cN as pt,cO as _n,cP as hn,cQ as kt,aX as vn,am as fe,o as yn,c9 as Ze,c6 as Tt,a6 as z,cR as bn,cS as Mt,ar as Ye,as as Rt,aY as Sn,aH as Cn,aZ as Se,t as $t,cT as Ln,av as Et,cU as wn,ci as kn,cV as Tn,bD as Mn,bT as Rn,cW as $n,cX as gt,cY as En,bd as xn,br as In,bo as On}from"./vendor--53G7TFY.js";import{g as Hn,s as Bn,_ as Pn,f as An}from"./socket-PYKdCiI0.js";import{u as le,c as Fn,d as Nn}from"./useAppInject-4CezJXac.js";import{a as Le,w as me,z as Dn,y as xt,a2 as Z,m as Fe,P as zn,a3 as Vn,a4 as Un,d as ce,t as _e,a5 as ge,a6 as Gn,a7 as It,a8 as qe,a9 as Ot,aa as Wn,ab as Je,ac as Qe,ad as jn,ae as Q,af as Ht,ag as Kn,ah as Ne,ai as Bt,Q as Pt,aj as ve,ak as At,K as De,v as Xn,al as Zn,_ as Yn,am as Ft,an as qn,ao as Jn,ap as Ie,aq as Oe}from"./index-BeP8DsMB.js";import{u as Y}from"./useDesign-WRqooCBp.js";import{p as W}from"./propTypes-qKSNSMFe.js";import{I as Ge}from"./Icon-ieGKZtJF.js";import{u as Qn}from"./useBreakpoint-RlAXwn_f.js";import{u as eo}from"./useLocale-nBju4mbt.js";import{_ as to,a as no,C as oo}from"./clickOutside-fHT7bwL5.js";import so from"./index-LgNixcGt.js";import{u as ao}from"./useTransition-4NA9ntj9.js";import{u as ro}from"./layoutContentResize-U6EaH3eo.js";import{F as lo}from"./index-r4yZAjiV.js";import{u as io}from"./useRunLog-1CmBzH4c.js";const co={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},uo=x("path",{fill:"currentColor",d:"M19 7h-2.81c-.45-.8-1.07-1.5-1.82-2L16 3.41L14.59 2l-2.17 2.17a6.002 6.002 0 0 0-2.83 0L7.41 2L6 3.41L7.62 5c-.75.5-1.36 1.21-1.81 2H3v2h2.09c-.06.33-.09.66-.09 1v1H3v2h2v1c0 .34.03.67.09 1H3v2h2.81A6.002 6.002 0 0 0 13 19.65V19c0-.57.09-1.14.25-1.69c-.66.45-1.45.69-2.25.69c-2.21 0-4-1.79-4-4v-4c0-2.21 1.79-4 4-4s4 1.79 4 4v4c0 .19 0 .39-.05.58c.59-.54 1.29-.96 2.05-1.23V13h2v-2h-2v-1c0-.34-.03-.67-.09-1H19zm-6 2v2H9V9zm0 4v2H9v-2zm3 3h6v6h-6z"},null,-1),po=[uo];function go(e,n){return u(),P("svg",co,[...po])}const fo={name:"mdi-bug-stop-outline",render:go},mo={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},_o=x("path",{fill:"currentColor",d:"M6 3h8.99v1.5H6zM2.99 6h1.5v1.5h-1.5zm0-3h1.5v1.5h-1.5zm0 6.01H4.5v1.5H2.99z"},null,-1),ho=x("path",{fill:"currentColor",d:"M4.5 12h-3V1.49h15V6H18V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v9.48a2 2 0 0 0 2 2h2.5Z"},null,-1),vo=x("path",{fill:"currentColor",d:"M22 7.5H8a2 2 0 0 0-2 2V19a2 2 0 0 0 2 2h5.53v1.53H12V24h6v-1.49h-1.5V21H22a2 2 0 0 0 2-2V9.5a2 2 0 0 0-2-2m.51 12h-15V9h15Z"},null,-1),yo=[_o,ho,vo];function bo(e,n){return u(),P("svg",mo,[...yo])}const So={name:"eos-icons-background-tasks",render:bo},Co={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Lo=x("path",{fill:"currentColor",d:"M22.54 21.12L20.41 19l2.13-2.12l-1.42-1.42L19 17.59l-2.12-2.13l-1.42 1.42L17.59 19l-2.13 2.12l1.42 1.42L19 20.41l2.12 2.13M6 2a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h7.81c-.36-.62-.61-1.3-.73-2H6V4h7v5h5v4.08c.33-.05.67-.08 1-.08c.34 0 .67.03 1 .08V8l-6-6M8 12v2h8v-2m-8 4v2h5v-2Z"},null,-1),wo=[Lo];function ko(e,n){return u(),P("svg",Co,[...wo])}const To={name:"mdi-file-document-remove-outline",render:ko},Mo={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Ro=ht('<g stroke="currentColor" stroke-linecap="round" stroke-width="2"><path fill="currentColor" fill-opacity="0" stroke-dasharray="60" stroke-dashoffset="60" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"></animate><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.15s" values="0;0.3"></animate></path><path fill="none" stroke-dasharray="8" stroke-dashoffset="8" d="M12 12L16 16M12 12L8 8M12 12L8 16M12 12L16 8"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="8;0"></animate></path></g>',1),$o=[Ro];function Eo(e,n){return u(),P("svg",Mo,[...$o])}const xo={name:"line-md-close-circle-twotone",render:Eo},Io={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Oo=ht('<g stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path fill="currentColor" fill-opacity="0" stroke-dasharray="60" stroke-dashoffset="60" d="M12 3L21 20H3L12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"></animate><animate fill="freeze" attributeName="fill-opacity" begin="1.2s" dur="0.15s" values="0;0.3"></animate></path><path fill="none" stroke-dasharray="6" stroke-dashoffset="6" d="M12 10V14"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"></animate></path></g><circle cx="12" cy="17" r="1" fill="currentColor" fill-opacity="0"><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.4s" values="0;1"></animate></circle>',2),Ho=[Oo];function Bo(e,n){return u(),P("svg",Io,[...Ho])}const Po={name:"line-md-alert-twotone",render:Bo},Ao={style:{"vertical-align":"-4px",padding:"0 2px"}},Fo=D({__name:"index",setup(e,{expose:n}){const{getIsMobile:o}=le(),{t:s}=Le(),a=B(null);let d=null,l=null;const c={show:!1,title:s("component.runLog.title"),cmd:"",runId:"",logRef:"",runTimes:0,isLogOverOk:!1,isLogOverFail:!1,isLogOverExit:!1,isLogReachBottom:!0,isStoping:!1,isLogEmpty:!1},r=Ae(it(c)),{show:p,title:i,logRef:g,runTimes:v,isLogOverOk:y,isLogOverFail:C,isLogOverExit:w,isStoping:T,isLogEmpty:R}=vt(r),I=E=>N(this,null,function*(){r.runId=yield An({cmd:E})}),F=E=>N(this,null,function*(){switch(E){case"cmdStop":if(!r.cmd)return;r.isStoping=!0;const _=r.cmd.split("task run ")[1].split(" ")[0];try{const M=yield Bn({path:_});setTimeout(()=>{g.value+=`
${M}
`,r.isLogOverOk=!1,r.isLogOverFail=!1,r.isLogOverExit=!0},1e3)}catch(M){r.isStoping=!1}break;case"close":r.show=!1,l&&clearInterval(l),l=null;break}}),A=Jt(E=>{const _=a.value.$el.clientHeight,M=E.target.scrollTop,q=E.target.scrollHeight;r.isLogReachBottom=_+M>=q-10},300),k=m(()=>r.isLogOverOk||r.isLogOverFail||r.isLogOverExit?s("component.modal.close"):""),S=m(()=>r.cmd.startsWith("task run ")),O=(E={cmd:""})=>{Object.assign(r,it(c),E,{show:!0}),ie().then(()=>setTimeout(()=>I(r.cmd),500)),d==null||d.off("runLog").on("runLog",({code:_,result:M={}})=>{l||(l=setInterval(()=>{v.value+=.1},100)),M.runId===r.runId&&(M.over&&(clearInterval(l),g.value||(R.value=!0)),g.value+=M.log||"",_?!r.isStoping&&(r.isLogOverOk=M.over):!r.isStoping&&(r.isLogOverFail=M.over))}),ie().then(()=>{var M;const _=(M=a.value.scrollbarRef)==null?void 0:M.containerRef;_.removeEventListener("scroll",A),_.addEventListener("scroll",A)})};return yt(()=>{d=Hn(),Qt(()=>{r.logRef&&ie(()=>{var E;r.isLogReachBottom&&((E=a.value)==null||E.scrollTo({position:"bottom",silent:!0}))})})}),n({open:O}),(E,_)=>{const M=bt,q=Pn,ee=Po,j=xo,U=en,se=tn,J=nn,Re=on,ue=To,$e=sn,L=So,$=an,G=fo,Ee=rn,de=ln,he=St,pe=Ct;return t(o)?(u(),b(pe,{key:1,show:t(p),"onUpdate:show":_[7]||(_[7]=ae=>Ve(p)?p.value=ae:null),height:"100vh",placement:"bottom","auto-focus":!1,"mask-closable":!1},{default:h(()=>[f(he,{closable:!t(S),"header-style":"height: 60px; padding: 16px 12px","body-content-style":"padding: 4px 12px","footer-style":"padding: 16px 24px"},{header:h(()=>[f(J,null,{default:h(()=>[!t(y)&&!t(C)&&!t(w)?(u(),b(M,{key:0,size:"small",style:{"vertical-align":"-0.05em","padding-right":"12px",width:"26px",height:"26px","padding-left":".5em"}})):(u(),b(U,{key:1,size:26},{default:h(()=>[t(y)?(u(),b(q,{key:0,style:{color:"var(--app-success-color)","vertical-align":"0"}})):t(w)?(u(),b(ee,{key:1,style:{color:"var(--app-warning-color)","vertical-align":"0"}})):t(C)?(u(),b(j,{key:2,style:{color:"var(--app-error-color)","vertical-align":"0"}})):H("",!0)]),_:1})),f(de,{style:{height:"100%","max-width":"260px"}},{tooltip:h(()=>[x("span",null,K(t(i)),1)]),default:h(()=>[x("span",Ao,K(t(i)),1)]),_:1}),t(v)!==0?(u(),b(se,{key:2,depth:3,style:{"font-size":"8px","vertical-align":"-6px"}},{default:h(()=>[te(K(`${t(v).toFixed(1)}s`),1)]),_:1})):H("",!0)]),_:1})]),footer:h(()=>[!t(y)&&!t(C)&&!t(w)?(u(),b(J,{key:0},{default:h(()=>[f($,{secondary:"",focusable:!1,onClick:_[4]||(_[4]=ae=>F("close"))},{icon:h(()=>[f(U,null,{default:h(()=>[f(L,{style:{"vertical-align":"baseline"}})]),_:1})]),default:h(()=>[te(" "+K(t(s)("component.runLog.runBackground")),1)]),_:1}),t(S)?(u(),b($,{key:0,secondary:"",focusable:!1,loading:t(T),onClick:_[5]||(_[5]=ae=>F("cmdStop"))},{icon:h(()=>[f(U,null,{default:h(()=>[f(G,{style:{"vertical-align":"baseline"}})]),_:1})]),default:h(()=>[te(" "+K(t(s)("component.runLog.stop")),1)]),_:1},8,["loading"])):H("",!0)]),_:1})):H("",!0),t(k)?(u(),b(Be,{key:1,name:"fade",mode:"out-in",appear:""},{default:h(()=>[f($,{type:t(w)?"warning":t(C)?"error":"primary",focusable:!1,onClick:_[6]||(_[6]=ae=>F("close"))},{default:h(()=>[te(K(t(k)),1)]),_:1},8,["type"])]),_:1})):H("",!0)]),default:h(()=>[t(R)?(u(),b($e,{key:1,class:"flex-jc-ac",style:{height:"400px"},size:"huge",description:t(s)("component.runLog.emptyTitle")},{icon:h(()=>[f(U,null,{default:h(()=>[f(ue)]),_:1})]),_:1},8,["description"])):(u(),b(Re,{key:0,ref_key:"logInstRef",ref:a,log:t(g),"font-size":14,"line-height":1.5,language:"naive-log",style:{width:"100%",height:"100%"}},null,8,["log"]))]),_:1},8,["closable"])]),_:1},8,["show"])):(u(),b(Ee,{key:0,show:t(p),"onUpdate:show":_[3]||(_[3]=ae=>Ve(p)?p.value=ae:null),preset:"dialog",closable:!t(S),"auto-focus":!1,"close-on-esc":!1,"mask-closable":!1,style:{width:"600px"}},{icon:h(()=>[!t(y)&&!t(C)&&!t(w)?(u(),b(M,{key:0,size:"small",style:{"vertical-align":"-0.05em","padding-right":"1em",width:"24px",height:"24px","padding-left":".5em"}})):H("",!0),f(U,null,{default:h(()=>[t(y)?(u(),b(q,{key:0,style:{color:"var(--app-success-color)","vertical-align":"0"}})):t(w)?(u(),b(ee,{key:1,style:{color:"var(--app-warning-color)","vertical-align":"0"}})):t(C)?(u(),b(j,{key:2,style:{color:"var(--app-error-color)","vertical-align":"0"}})):H("",!0)]),_:1})]),header:h(()=>[f(J,null,{default:h(()=>[te(K(t(i))+" ",1),t(v)!==0?(u(),b(se,{key:0,depth:3,style:{"font-size":"8px","vertical-align":"-0.1em"}},{default:h(()=>[te(K(`${t(v).toFixed(1)}s`),1)]),_:1})):H("",!0)]),_:1})]),action:h(()=>[!t(y)&&!t(C)&&!t(w)?(u(),b(J,{key:0},{default:h(()=>[f($,{secondary:"",size:"small",focusable:!1,onClick:_[0]||(_[0]=ae=>F("close"))},{icon:h(()=>[f(U,null,{default:h(()=>[f(L,{style:{"vertical-align":"baseline"}})]),_:1})]),default:h(()=>[te(" "+K(t(s)("component.runLog.runBackground")),1)]),_:1}),t(S)?(u(),b($,{key:0,secondary:"",size:"small",focusable:!1,loading:t(T),onClick:_[1]||(_[1]=ae=>F("cmdStop"))},{icon:h(()=>[f(U,null,{default:h(()=>[f(G,{style:{"vertical-align":"baseline"}})]),_:1})]),default:h(()=>[te(" "+K(t(s)("component.runLog.stop")),1)]),_:1},8,["loading"])):H("",!0)]),_:1})):H("",!0),t(k)?(u(),b(Be,{key:1,name:"fade",mode:"out-in",appear:""},{default:h(()=>[f($,{size:"small",type:t(w)?"warning":t(C)?"error":"primary",focusable:!1,onClick:_[2]||(_[2]=ae=>F("close"))},{default:h(()=>[te(K(t(k)),1)]),_:1},8,["type"])]),_:1})):H("",!0)]),default:h(()=>[t(R)?(u(),b($e,{key:1,class:"flex-jc-ac",style:{height:"600px"},size:"huge",description:t(s)("component.runLog.emptyTitle")},{icon:h(()=>[f(U,null,{default:h(()=>[f(ue)]),_:1})]),_:1},8,["description"])):(u(),b(Re,{key:0,ref_key:"logInstRef",ref:a,log:t(g),"font-size":15,"line-height":1.5,language:"naive-log",style:{"padding-top":"1em",width:"100%",height:"600px"}},null,8,["log"]))]),_:1},8,["show","closable"]))}}}),Nt=D({__name:"ScrollContainer",props:{inverted:{type:Boolean}},setup(e){const n=e,{color:o,colorHover:s}=me("Scrollbar",!0),a=m(()=>n.inverted?{color:o,colorHover:s}:void 0);return(d,l)=>{const c=Lt;return u(),b(c,{"builtin-theme-overrides":t(a)},{default:h(()=>[ye(d.$slots,"default")]),_:3},8,["builtin-theme-overrides"])}}}),No=/^(\d|\.)+$/,ft=/(\d|\.)+/;function we(e,{c:n=1,offset:o=0,attachPx:s=!0}={}){if(typeof e=="number"){const a=(e+o)*n;return a===0?"0":`${a}px`}else if(typeof e=="string")if(No.test(e)){const a=(Number(e)+o)*n;return s?a===0?"0":`${a}px`:`${a}`}else{const a=ft.exec(e);return a?e.replace(ft,String((Number(a[0])+o)*n)):e}return e}const Do=""+new URL("logo-RS-iFM1K.png",import.meta.url).href,zo=["src"],et=D({__name:"AppLogo",props:{logoSize:W.stringNumber.def(24),showTitle:W.bool.def(!0),titleSize:W.stringNumber.def(18),titleColor:W.string,collapsed:W.bool,collapsedShowTitle:W.bool.def(!1),isStatic:W.bool.def(!1),width:W.stringNumber,canGoHome:W.bool.def(!1)},setup(e){ke(S=>({"1390b5f8":t(F)}));const n=e,{prefixCls:o}=Y("app-logo"),s=Dn(),{title:a}=xt(),{getMenuWidth:d,getMobileWidth:l,getMenuRootIndent:c,getCollapsed:r}=Z(),{getIsMobile:p}=le(),i=B(),g=B(),v=B(`inset(0px ${n.collapsed?100:0}% 0px 0px)`);ne([i,g,()=>n.showTitle],()=>{y()});function y(){const S=be(i),O=be(g);if(!S||!O||!n.showTitle)return;const E=C(S,O);E();let _;ct(S,"transitionstart",()=>{if(_){_.resume();return}_=cn(E)}),ct(S,"transitionend",()=>{_&&_.pause()})}function C(...S){return()=>{const[O,E]=S,_=O.offsetWidth,M=E.offsetWidth,q=E.offsetLeft,ee=16,j=M-_+q+ee;v.value=`inset(0px ${un(j,0,M+1)}px 0px 0px)`}}const w=Fe(),T=m(()=>{const{collapsed:S,collapsedShowTitle:O,isStatic:E,width:_,canGoHome:M}=n;return Object.assign({cursor:M?"pointer":"unset"},E?{}:{paddingLeft:S?"7px":`${c.value-4}px`,width:(S!=null?S:r.value)&&!O?we(Vn):we((_!=null?_:p.value)?l.value:d.value)})}),R=m(()=>({fontSize:we(n.logoSize),transition:"font-size var(--app-transition-duration) var(--app-bezier)",zIndex:10,height:"24px",width:"24px",marginLeft:"6px"})),I=m(()=>{const{titleSize:S,titleColor:O}=n;return re(re({fontSize:we(S),lineHeight:1.3},n.isStatic?{}:{clipPath:v.value}),O?{color:O}:{})}),F=m(()=>n.collapsed?0:"100%"),A=m(()=>a);function k(){n.canGoHome&&w(s.getUserInfo.homePath||zn.BASE_HOME)}return(S,O)=>(u(),P("div",{ref_key:"wrapperEl",ref:i,class:"flex-ac ease-in-out-300",style:oe(t(T)),onClick:k},[x("img",{src:t(Do),title:"Logo",style:oe(t(R))},null,12,zo),f(Be,{name:"fade-slide-right",mode:"out-in"},{default:h(()=>[e.showTitle&&!e.collapsed?(u(),P("div",{key:0,ref_key:"titleEl",ref:g,class:V(["font-segoe ml-3 font-semibold",[`${t(o)}__title`]]),style:oe(t(I))},K(t(A)),7)):H("",!0)]),_:1})],4))}});function Me(e,n){n=n||{};const{size:o="small",delay:s=100,timeout:a=3e4,loading:d=!1,loadingComponent:l,retry:c=!0}=n;return dn({loader:e,loadingComponent:d?f(bt,{size:o,style:"margin:1rem;"},null):l,timeout:a,delay:s,onError:c?(r,p,i,g)=>{r.message.match(/fetch/)&&g<=3?p():i()}:Un})}const Vo=D({name:"FullScreen",setup(){const{t:e}=Le(),{toggle:n,isFullscreen:o}=pn();return{getTitle:m(()=>t(o)?e("layout.header.tooltipExitFull"):e("layout.header.tooltipEntryFull")),isFullscreen:o,toggle:n}}});function Uo(e,n,o,s,a,d){const l=to,c=no,r=gn;return u(),b(r,{trigger:"hover",placement:"bottom",delay:1e3},{trigger:h(()=>[x("span",{class:"app-layout-header-anction-icon",style:{transition:".2s"},onClick:n[0]||(n[0]=(...p)=>e.toggle&&e.toggle(...p))},[e.isFullscreen?(u(),b(l,{key:0,viewBox:"64 64 896 896"})):(u(),b(c,{key:1,viewBox:"64 64 896 896"}))])]),default:h(()=>[te(" "+K(e.getTitle),1)]),_:1})}const Go=ce(Vo,[["render",Uo]]),Wo=Me(()=>Te(()=>import("./UserDropdown-yaG8W4x2.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),{loadingComponent:f("div",{class:"flex items-center space-x-2"},[f(ut,{height:"24px",circle:!0},null),f(ut,{text:!0,round:!0,class:"w-60px h-12px"},null)])}),jo=Me(()=>Te(()=>import("./Breadcrumb-B5dA0r_H.js"),__vite__mapDeps([5,6,1,2,7,3,4]),import.meta.url));Me(()=>Te(()=>import("./index-U_hv5SPE.js"),__vite__mapDeps([8,1,2,9,3,4]),import.meta.url));const Ko=Me(()=>Te(()=>import("./DarkModeToggle-k2oCXS6A.js"),__vite__mapDeps([10,11,1,2,6,7,3,4]),import.meta.url)),Xo=Me(()=>Te(()=>import("./LocalePicker-YZj3Bhks.js"),__vite__mapDeps([12,13,1,2,14,3,4]),import.meta.url)),Zo=D({__name:"BarTrigger",props:{collapsed:W.bool.def(!1),onClick:{type:Function}},setup(e){const{siderToggleBarColor:n,siderToggleBarColorHover:o}=me("Layout"),{siderToggleBarColor:s,siderToggleBarColorHover:a}=me("Layout",!0),{getIsDarkMode:d}=_e(),l=m(()=>{const r=d.value;return{color:r?s:n,hoverColor:r?a:o}});ke(()=>({"toggle-bar-color":l.value.color,"toggle-bar-color-hover":l.value.hoverColor}));const{prefixCls:c}=Y("layout-toggle-bar");return(r,p)=>(u(),P("div",{class:V([t(c),{collapsed:e.collapsed}]),onClick:p[0]||(p[0]=(...i)=>e.onClick&&e.onClick(...i))},[x("div",{class:V(`${t(c)}__top`)},null,2),x("div",{class:V(`${t(c)}__bottom`)},null,2)],2))}}),Yo=x("i",{class:"icon"},[x("svg",{viewBox:"0 0 16 16",fill:"none",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},[x("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"})])],-1),qo=[Yo],Jo=D({__name:"ButtonTrigger",props:{collapsed:W.bool.def(!1),onClick:{type:Function}},setup(e){const{siderToggleButtonColor:n,siderToggleButtonIconColor:o,siderToggleButtonBorder:s}=me("Layout"),{siderToggleBarColor:a,siderToggleButtonIconColor:d,siderToggleButtonBorder:l}=me("Layout",!0),{getIsDarkMode:c}=_e(),r=m(()=>{const i=c.value;return{bgColor:i?a:n,iconColor:i?d:o,border:i?l:s}});ke(()=>{const i=r.value;return{"toggle-button-color":i.bgColor,"toggle-button-icon-color":i.iconColor,"toggle-button-border":i.border}});const{prefixCls:p}=Y("layout-toggle-button");return(i,g)=>(u(),P("div",{class:V([t(p),{collapsed:e.collapsed}]),onClick:g[0]||(g[0]=(...v)=>e.onClick&&e.onClick(...v))},qo,2))}}),Qo={style:{display:"inline-block"},viewBox:"0 0 1024 1024",width:"1em",height:"1em"},es=x("path",{fill:"currentColor",d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8"},null,-1),ts=[es];function ns(e,n){return u(),P("svg",Qo,[...ts])}const os={name:"ant-design-menu-fold-outlined",render:ns},ss={style:{display:"inline-block"},viewBox:"0 0 1024 1024",width:"1em",height:"1em"},as=x("path",{fill:"currentColor",d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7"},null,-1),rs=[as];function ls(e,n){return u(),P("svg",ss,[...rs])}const is={name:"ant-design-menu-unfold-outlined",render:ls},cs=D({__name:"HeaderTrigger",props:{collapsed:W.bool.def(!1),onClick:{type:Function}},setup(e){const{getIsMobile:n}=le();return(o,s)=>{const a=is,d=os;return u(),P("span",{class:"app-layout-header-anction-icon",style:oe(t(n)?"background-color: transparent !important":""),onClick:s[0]||(s[0]=(...l)=>e.onClick&&e.onClick(...l))},[e.collapsed?(u(),b(a,{key:0,viewBox:"64 64 896 896"})):(u(),b(d,{key:1,viewBox:"64 64 896 896"}))],4)}}}),Dt=D({__name:"index",props:{type:{default:ge.BAR},onClick:null},setup(e){const n=e,o=new Map;o.set(ge.BAR,Zo),o.set(ge.BUTTON,Jo),o.set(ge.HEADER,cs);const{toggleCollapsed:s}=Z(),a=()=>{n!=null&&n.onClick&&fn(n.onClick)?n.onClick():s()};return(d,l)=>e.type?(u(),b(Ue(t(o).get(e.type)),{key:0,style:{transition:".2s"},onClick:a})):H("",!0)}}),mt=Object.assign({}),We=[];Object.keys(mt).forEach(e=>{const n=mt[e].default||{},o=Array.isArray(n)?[...n]:[n];We.push(...o)});const tt=()=>jn().getProjectConfig.permissionMode,us=()=>tt()===Je.BACK,ds=()=>tt()===Je.ROUTE_MAPPING,nt=()=>tt()===Je.ROLE,je=(e,n)=>e.filter(o=>{var s;return(!n||!((s=o.meta)!=null&&s.hideMenu))&&!o.hideMenu}).map(o=>(o.children&&(o.children=je(o.children,n),o.children.length||Reflect.deleteProperty(o,"children")),o)),zt=[];(()=>{We.sort((e,n)=>(e.orderNo||0)-(n.orderNo||0));for(const e of We)zt.push(Gn(e))})();function ot(){return N(this,null,function*(){const e=Qe();return us()?je(e.getBackMenuList,!0):ds()?je(e.getFrontMenuList):zt})}const Vt=()=>N(void 0,null,function*(){const e=yield ot();if(nt()){const n=qe.getRoutes();return Ot(e,st(n))}return e});function Pe(e){return N(this,null,function*(){const n=yield ot(),o=yield It(n,e);return o==null?void 0:o[0]})}function Ke(){return N(this,null,function*(){const n=(yield ot()).map(o=>xe(re({},o),{children:void 0}));if(nt()){const o=qe.getRoutes();return n.filter(st(o))}return n})}function He(e){return N(this,null,function*(){var s;const o=(yield Vt()).find(a=>a.path===e);if(!o||!o.children||(s=o==null?void 0:o.meta)!=null&&s.hideChildrenInMenu)return[];if(nt()){const a=qe.getRoutes();return Ot(o.children,st(a))}return o.children})}function st(e){return n=>!!e.find(s=>{var d,l;if(Wn(n.path))return!0;if((d=s.meta)!=null&&d.carryParam)return dt(s.path).test(n.path);const a=s.path===n.path;return a?(l=s.meta)!=null&&l.ignoreAuth?!0:a||dt(s.path).test(n.path):!1})}function ps(e,n,o){const s=B(),{currentRoute:a}=Ce(),{getIsMobile:d}=le(),l=Qe(),{setMenuSetting:c,getIsHorizontal:r,getSplit:p}=Z(),i=mn(w,50),g=m(()=>t(e)!==Q.SECONDARY&&!t(r)),v=m(()=>{let R=t(p);const I=t(o);return wt(I)&&(R=I),!R||t(e)!==Q.SECONDARY}),y=m(()=>t(e)===Q.ROOT),C=m(()=>t(e)===Q.NONE||!t(p));ne([()=>t(a).path,()=>t(n),()=>t(e)],F=>N(this,[F],function*([R,I]){if(t(g)||t(d))return;const{meta:A}=t(a),k=A.currentActiveMenu;let S;I?S=I:(S=yield Pe(R),S||(S=yield Pe(k))),S&&i(S)}),{immediate:!0}),ne([()=>l.getLastBuildMenuTime,()=>l.getBackMenuList],()=>{T()},{immediate:!0}),ne(()=>p.value,()=>{t(g)||T()});function w(R){return N(this,null,function*(){if(t(v)||t(d))return;const I=yield He(R);if(!I||!I.length){c({hidden:!0}),s.value=[];return}c({hidden:!1}),s.value=I})}function T(){return N(this,null,function*(){if(t(C)||t(d)){s.value=yield Vt();return}if(t(y)){const R=yield Ke();s.value=R}})}return{menusRef:s}}const ze=Ht&&navigator.connection,Ut=ze&&!/([a-z]-)?2g/.test(ze.effectiveType)&&!ze.saveData,_t={};function gs(e){var o;if(!Ht)return!1;const n=document.createElement("link");return(o=n==null?void 0:n.relList)==null?void 0:o.supports(e)}function fs(e){return new Promise((n,o)=>{const s=document.createElement("link");s.rel="prefetch",s.href=e,s.addEventListener("load",n),s.addEventListener("error",o),document.head.appendChild(s)})}function Gt(e){return new Promise((n,o)=>{const s=new XMLHttpRequest;s.open("GET",e,s.withCredentials=!0),s.addEventListener("load",()=>{s.status===200?n():o()}),s.send()})}function ms(e){return Reflect.has(window,"fetch")?fetch(e,{credentials:"include"}):Gt(e)}const _s=gs("prefetch")?fs:Gt;function hs(e,n){if(!(!Ut||_t[e]))return(n?ms:_s)(e).then(()=>{_t[e]=!0})}const vs=D({name:"PrefetchLink",props:xe(re({},pt.props),{prefetch:{type:Boolean,default:!0},prefetchFiles:{type:Array},timeout:{type:Number,default:1e3}}),setup(e,{slots:n}){const o=_n({to:e.to}),s=B(),a=B(!1),d=m(()=>yn(e,["prefetch","prefetchFiles","timeout"])),{stop:l,isSupported:c}=hn(s,g=>N(this,[g],function*([{isIntersecting:i}]){i&&(yield Ze(e.timeout),p())}));kt(s,()=>{e.prefetch&&t(c)&&Ut&&(a.value=!0)}),vn(()=>{a.value=!1});function r(i){return i.matched.map(g=>Object.values(g.components)).flat().filter(g=>typeof g=="function")}function p(){const i=o.route.value;if(i.meta.__prefetched)return;i.meta.__prefetched=!0;const g=i.meta.prefetch;if(g){const y=r(i);for(const C of y)C();typeof g=="function"&&g(i)}const v=[...e.prefetchFiles||[],...i.meta.prefetchFiles||[]];if(v.length>0)for(const y of v)hs(y);l()}return()=>{const i=n.default&&n.default(o);return e.custom?(ie(()=>{if(i){const g=i[0];if(Kn(g.type))throw new Error('[PrefetchLink Component] when "props.custom" is true, slot content must not be plain text');s.value=be(g.el)}else console.warn('[PrefetchLink Component] when "props.custom" is true, must exist default slot')}),i):fe(pt,re({ref:g=>{s.value=g}},d.value),()=>i)}}}),ys=D({name:"LayoutMenu",props:{inverted:W.bool,parentPath:W.string,noCollapsed:W.bool,globalSplit:{type:Boolean,default:void 0},splitType:{type:Number,default:Q.NONE},menuMode:{type:[String],default:""}},setup(e){const n=B(null),{splitType:o,parentPath:s,globalSplit:a}=vt(e),{menusRef:d}=ps(o,s,a),{getMenuMode:l,getMenuIndent:c,getMenuRootIndent:r,getCollapsed:p,getAccordion:i,toggleCollapsed:g}=Z(),{currentRoute:v}=Ce(),y=Fe(),{t:C}=Le(),w=B([]),T=B(),R=_=>{console.log(_,"expand"),w.value=_},I=_=>{y(_),t(F)&&g()},{getIsMobile:F}=le(),A=m(()=>t(F)?Ne.VERTICAL:e.menuMode||t(l)),k=m(()=>o.value===Q.ROOT);return ne([v,d],q=>N(this,[q],function*([_,M]){const{name:ee,path:j,meta:U}=_;if(ee!==Bt&&(T.value=j,i.value&&M&&M.length>0)){const se=It(M,j);if(k.value){const J=yield Pe(j);T.value=J}else U.currentActiveMenu?(T.value=U.currentActiveMenu,ie(()=>{var J;(J=n.value)==null||J.showOption(U.currentActiveMenu)})):(se.length>=2&&se.pop(),w.value=se)}}),{immediate:!0}),{getRealCollapsed:m(()=>e.noCollapsed||k.value?!1:p.value),getInverted:!1,menuValue:T,menuInstRef:n,menusRef:d,expandedKeys:w,handleUpdateExpandedKeys:R,handleUpdateValue:I,renderIcon:({meta:_})=>{const M=_==null?void 0:_.icon;return M?fe(Ge,{icon:M}):null},renderLabel:_=>fe(vs,{to:_.path,custom:!0},{default:()=>fe("span",null,{default:()=>{var M;return C((M=_==null?void 0:_.label)!=null?M:"")}})}),getRealMenuMode:A,getMenuIndent:c,getMenuRootIndent:r}}});function bs(e,n,o,s,a,d){const l=Tt;return u(),b(l,{ref:"menuInstRef",value:e.menuValue,"onUpdate:value":[n[0]||(n[0]=c=>e.menuValue=c),e.handleUpdateValue],mode:e.getRealMenuMode,"key-field":"path",collapsed:e.getRealCollapsed,inverted:e.getInverted,indent:e.getMenuIndent,"root-indent":e.getMenuRootIndent,options:e.menusRef,"expanded-keys":e.expandedKeys,"render-icon":e.renderIcon,"render-label":e.renderLabel,"onUpdate:expandedKeys":e.handleUpdateExpandedKeys},null,8,["value","mode","collapsed","inverted","indent","root-indent","options","expanded-keys","render-icon","render-label","onUpdate:expandedKeys","onUpdate:value"])}const at=ce(ys,[["render",bs]]);function Wt(){const e=Pt(),{getMenuMode:n,getSplit:o,getShowHeaderTrigger:s,getIsSidebarType:a,getIsMixSidebar:d}=Z(),{getShowBreadCrumb:l,getShowLogo:c}=_e(),r=m(()=>e.getHeaderSetting.show),p=m(()=>e.getHeaderSetting.height),i=m(()=>t(n)!==Ne.HORIZONTAL&&t(l)&&!t(o)),g=m(()=>t(c)&&!t(a)&&!t(d)),v=m(()=>t(i)||t(s));function y(C){e.setProjectConfig({headerSetting:C})}return{setHeaderSetting:y,getShowBread:i,getShowContent:v,getShowHeaderLogo:g,getShowHeader:r,getHeaderHeight:p}}const Ss=D({name:"LayoutHeader",components:{Trigger:Dt,LayoutBreadcrumb:jo,LayoutMenu:at,FullScreen:Go,DarkModeToggle:Ko,LocalePicker:Xo,UserDropDown:Wo},props:{fixed:W.bool},setup(){const{prefixCls:e}=Y("layout-header"),{getIsMobile:n}=le(),{smaller:o,sizeEnum:s}=Qn(),a=o(s.XXS),{getSplit:d,getCollapsed:l,getMenuInverted:c,getShowTopMenu:r,getIsSidebarType:p,getIsMixSidebar:i,getIsTopMenu:g,getTrigger:v}=Z(),{getShowBread:y,getShowContent:C,getShowHeader:w}=Wt(),T=m(()=>v.value===ge.HEADER&&!g.value&&C.value&&!d.value),{getShowLocalePicker:R}=eo(),I=m(()=>!(t(p)||t(i))),F=m(()=>d.value?Q.ROOT:Q.NONE),A=m(()=>Ne.HORIZONTAL),k=m(()=>c.value&&(d.value||g.value));return{getShowHeader:w,getIsMobile:n,getShowLocalePicker:R,prefixCls:e,getShowBread:y,getShowContent:C,getShowLogo:I,getCollapsed:l,getShowTopMenu:r,getShowTrigger:T,TriggerEnum:ge,getSplitType:F,getMenuMode:A,getInverted:k,getIs2xs:a}}}),Cs={class:"flex-jb-ac h-full text-1.2em"},Ls={class:"flex-jb-ac h-full"},ws={key:0,class:"flex-ac h-full"},ks={key:0,ref:"scrollEl",class:"flex-jb-ac flex-1 min-w-0 px-2 relative h-full"},Ts={class:"flex-ac h-full"};function Ms(e,n,o,s,a,d){const l=et,c=z("Trigger"),r=z("LayoutBreadcrumb"),p=z("LayoutMenu"),i=Nt,g=z("FullScreen"),v=z("LocalePicker"),y=z("DarkModeToggle"),C=z("UserDropDown"),w=bn;return e.getShowHeader?(u(),b(w,{key:0,bordered:!e.getIsMobile,class:V([e.prefixCls,{inverted:e.getInverted}]),inverted:e.getInverted},{default:h(()=>[x("div",Cs,[x("div",Ls,[e.getShowLogo?(u(),P("div",ws,[f(l,{collapsed:e.getCollapsed,"collapsed-show-title":"","title-color":e.getInverted?"white":void 0},null,8,["collapsed","title-color"])])):H("",!0),e.getShowTrigger||e.getIsMobile?(u(),b(c,{key:1,type:e.TriggerEnum.HEADER,collapsed:e.getCollapsed},null,8,["type","collapsed"])):H("",!0),e.getShowContent&&e.getShowBread?(u(),b(r,{key:2,class:V(e.getIsMobile?"":"ml-3")},null,8,["class"])):H("",!0)]),e.getShowTopMenu&&!e.getIsMobile?(u(),P("div",ks,[f(i,{"x-scrollable":"",inverted:e.getInverted,class:"absolute left-0 top-2px"},{default:h(()=>[f(p,{"menu-mode":e.getMenuMode,"split-type":e.getSplitType,inverted:e.getInverted},null,8,["menu-mode","split-type","inverted"])]),_:1},8,["inverted"])],512)):H("",!0),x("div",Ts,[e.getIsMobile?H("",!0):(u(),b(g,{key:0})),e.getShowLocalePicker?(u(),b(v,{key:1,"trigger-cls":"app-layout-header-anction-icon",reload:!0})):H("",!0),f(y),f(C)])])]),_:1},8,["bordered","class","inverted"])):H("",!0)}const Rs=ce(Ss,[["render",Ms]]),$s={key:0},Xe=D({__name:"SiderWrapper",props:{inverted:{type:Boolean,default:void 0},trigger:{type:Boolean,default:!0},width:null},setup(e){const n=e,{prefixCls:o}=Y("layout-sideBar"),{getIsDarkMode:s}=_e(),{getMenuInverted:a,getTrigger:d,getCollapsed:l,getSplit:c}=Z(),{getIsMobile:r}=le(),p=m(()=>n.trigger&&(d.value!==ge.HEADER&&!t(r)||t(c))),i=B(null),{height:g}=Mt(i),v=m(()=>({maxHeight:`${g.value}px`})),y=m(()=>wt(n.inverted)?n.inverted:a.value),{siderColor:C,siderColorInverted:w,siderBorderColor:T,siderBorderColorInverted:R}=me("Layout"),{siderColor:I,siderBorderColor:F}=me("Layout",!0),A=m(()=>t(s)?I:t(y)?w:C),k=m(()=>t(s)?F:t(y)?R:T);ke(()=>({"mix-sider-bg-color":t(A),"mix-sider-border-color":t(k)}));const S=m(()=>({width:we(n.width)}));return(O,E)=>{const _=Nt;return u(),P("div",{class:V(t(o))},[x("div",{class:V(`${t(o)}_wrapper`)},[x("div",{class:"menu_wrapper",style:oe(t(S))},[ye(O.$slots,"header"),x("div",{ref_key:"scrollEl",ref:i,class:"menu"},[f(_,{style:oe(t(v)),inverted:t(y)},{default:h(()=>[ye(O.$slots,"default")]),_:3},8,["style","inverted"])],512),ye(O.$slots,"trigger",{},()=>[t(p)?(u(),b(Dt,{key:0,collapsed:t(l),type:t(d)},null,8,["collapsed","type"])):H("",!0)])],4),O.$slots.secondaryMenu?(u(),P("div",$s,[ye(O.$slots,"secondaryMenu")])):H("",!0)],2)],2)}}}),Es=D({__name:"LayoutSider",setup(e){const{prefixCls:n}=Y("layout-sideBar"),{getIsMobile:o}=le(),{getCollapsed:s,getRealWidth:a,getMobileWidth:d,getMenuHidden:l,getMenuInverted:c,getIsSidebarType:r,getSplit:p}=Z(),i=m(()=>p.value?Q.SECONDARY:Q.NONE),g=m(()=>p.value?Ne.VERTICAL:null),v=m(()=>p.value?!l.value:!0),y=m(()=>c.value&&!p.value),C=m(()=>o.value?d.value:a.value);return(w,T)=>{const R=et;return Ye((u(),b(Xe,{class:V(t(n)),width:t(C),inverted:t(y)},{header:h(()=>[t(r)?(u(),b(R,{key:0,class:"flex-ac h-64px",collapsed:t(s),"title-color":t(c)?"white":void 0},null,8,["collapsed","title-color"])):H("",!0)]),default:h(()=>[f(at,{"menu-mode":t(g),"split-type":t(i),inverted:t(y)},null,8,["menu-mode","split-type","inverted"])]),_:1},8,["class","width","inverted"])),[[Rt,t(v)]])}}}),xs={class:"header_wrapper"},Is={class:"title font-segoe"},Os={name:"LayoutMixSider",directives:{clickOutside:oo}},Hs=D(xe(re({},Os),{setup(e){ke(L=>({"3630a3d8":t(M),36152966:t(E)}));const n=B(),o=B(""),s=B(),a=B(!1),d=B(),l=Ae({borderLeftColor:"transparent",borderRightColor:"transparent",borderWidth:void 0}),c=B(null),{prefixCls:r}=Y("layout-mix-sider"),p=Fe(),{t:i}=Le(),{getIsDarkMode:g}=_e(),{getMenuWidth:v,getCloseMixSidebarOnChange:y,getMixSideTrigger:C,getMenuInverted:w,getMixSideFixed:T,mixSideHasChildrenRef:R,setMenuSetting:I,getIsMixSidebar:F,getCollapsed:A}=Z(),{title:k}=xt(),S=Qe(),O=m(()=>re({left:t(T)?0:`${t(_)}px`,position:t(T)?"static":"absolute"},l)),E=m(()=>t(g)||t(w)?"white":"var(--app-primary-color)");ne(T,L=>N(this,null,function*(){const $=be(d);if($)if(L)$.style.transitionProperty="";else{yield ie();const G=getComputedStyle($).transitionProperty;$.style.transitionProperty=`${G}, left`}})),ne([T,a],([L,$])=>{l.borderLeftColor=L?"transparent":$?t(w)&&!t(g)?"rgb(18, 41, 64)":"var(--mix-sider-border-color)":"transparent",l.borderRightColor=L?"transparent":$?"var(--mix-sider-border-color)":"transparent",l.borderWidth=$?void 0:0},{immediate:!0}),ne([s,T],([L,$])=>{R.value=!!(L&&(L==null?void 0:L.length)>0);const G=$&&t(R);G&&(a.value=G)});const _=m(()=>t(A)?ve.COLLAPSED_WIDTH:ve.WIDTH),M=m(()=>t(A)?ve.LOGO_COLLAPSED_WRAPPER_HEIGHT:ve.LOGO_WRAPPER_HEIGHT),q=m(()=>t(A)?ve.LOGO_COLLAPSED_SIZE:ve.LOGO_SIZE),ee=m(()=>t(T)?{}:{onMouseleave:se});yt(()=>N(this,null,function*(){n.value=yield Ke()})),ne([()=>S.getLastBuildMenuTime,()=>S.getBackMenuList],()=>N(this,null,function*(){n.value=yield Ke()}),{immediate:!0}),At(L=>{c.value=L,U(!0),t(y)&&ue()});function j(L,$=!1){return N(this,null,function*(){const G=yield He(L);if(t(o)===L?($?t(a)||(a.value=!0):t(a)?ue():a.value=!0,t(a)||U()):(a.value=!0,o.value=L),!G||G.length===0){$||p(L),s.value=[],ue();return}s.value=G})}function U(L=!1){return N(this,null,function*(){var G;const $=(G=c.value)==null?void 0:G.path;if($&&(o.value=yield Pe($),t(F))){const de=(n.value||[]).find(pe=>pe.path===t(o)),he=de==null?void 0:de.path;if(he){const pe=yield He(he);L&&(s.value=pe,t(T)&&(a.value=pe.length>0)),pe.length===0&&(s.value=[])}}})}function se(){U(!0),ue()}function J(L){return t(C)==="hover"?{onMouseenter:()=>j(L.path,!0),onClick:()=>N(this,null,function*(){const $=yield He(L.path);L.path&&$&&$.length===0&&p(L.path)})}:{onClick:()=>j(L.path)}}function Re(){I({mixSideFixed:!t(T)})}function ue(){const L=t(s);t(T)?(!L||L.length===0)&&(a.value=!1):a.value=!1}const $e=L=>{var $;return fe("div",re({class:"item_wrapper"},J(L)),[fe(Ge,{useTranstion:!0,size:A.value?18:22,icon:L.icon||L.meta&&L.meta.icon}),fe("p",{class:"item_label"},i(($=L==null?void 0:L.label)!=null?$:""))])};return(L,$)=>{const G=et,Ee=Tt,de=Sn("click-outside");return Ye((u(),b(Xe,Cn({class:[t(r),{mini:t(A)}],width:t(_)},t(ee)),{header:h(()=>[f(G,{class:V(`${t(r)}-logo`),"logo-size":t(q),"show-title":!1,"is-static":""},null,8,["class","logo-size"])]),default:h(()=>[f(Ee,{value:t(o),"onUpdate:value":$[0]||($[0]=he=>Ve(o)?o.value=he:null),indent:0,options:t(n),inverted:t(w),"key-field":"path",class:V(`${t(r)}-menu`),"render-icon":()=>null,"render-label":$e},null,8,["value","options","inverted","class"])]),secondaryMenu:h(()=>[f(Xe,{ref_key:"sideRef",ref:d,class:V(`${t(r)}-secondary-menu_wrapper`),style:oe(t(O)),width:t(a)?t(v):0,trigger:!1},{header:h(()=>[x("div",xs,[x("span",Is,K(t(k)),1),f(Ge,{size:16,icon:t(T)?"ri:pushpin-2-fill":"ri:pushpin-2-line",color:t(w)||t(g)?"white":void 0,class:"pushpin",onClick:Re},null,8,["icon","color"])])]),default:h(()=>[f(at,{inverted:t(w),"split-type":t(Q).SECONDARY,"parent-path":t(o),"global-split":"","no-collapsed":""},null,8,["inverted","split-type","parent-path"])]),_:1},8,["class","style","width"])]),_:1},16,["class","width"])),[[de,se]])}}})),Bs=D({name:"SiderWrapper",components:{Sider:Es,MixSider:Hs},setup(){const{prefixCls:e}=Y("layout-sider-wrapper"),{getIsMobile:n}=le(),{setMenuSetting:o,getShowSidebar:s,getIsMixSidebar:a,getMobileWidth:d,getCollapsed:l}=Z();function c(r){o({collapsed:!r})}return{prefixCls:e,getMobileWidth:d,getShowSidebar:s,getIsMobile:n,getIsMixSidebar:a,getCollapsed:l,handleChange:c}}});function Ps(e,n,o,s,a,d){const l=z("Sider"),c=St,r=Ct,p=z("MixSider");return e.getShowSidebar||e.getIsMobile?(u(),P(Se,{key:0},[e.getIsMobile?(u(),b(r,{key:0,placement:"left",class:V(e.prefixCls),width:e.getMobileWidth,show:!e.getCollapsed,"onUpdate:show":e.handleChange},{default:h(()=>[f(c,{"body-content-style":"padding:0;"},{default:h(()=>[f(l)]),_:1})]),_:1},8,["class","width","show","onUpdate:show"])):e.getIsMixSidebar?(u(),b(p,{key:1})):(u(),b(l,{key:2}))],64)):H("",!0)}const As=ce(Bs,[["render",Ps]]);function jt(){const e=Pt(),n=m(()=>e.getMultiTabsSetting.show);function o(s){e.setProjectConfig({multiTabsSetting:s})}return{setMultipleTabSetting:o,getShowMultipleTab:n}}function Fs(){const e=Ce(),{currentRoute:n}=e,{getShowMultipleTab:o}=jt(),s=De(),a=m(()=>l($t(e.getRoutes()))||[]),d=m(()=>s.getTabList.reduce((p,i)=>(i.meta&&Reflect.has(i.meta,"frameSrc")&&p.push(i.name),p),[]));function l(p){let i=[];for(const g of p){const{meta:{frameSrc:v}={},children:y}=g;v&&i.push(g),y&&y.length&&i.push(...l(y))}return i=Ln(i,"name"),i}function c(p){return p.name===t(n).name}function r(p){return t(o)?t(d).includes(p):e.currentRoute.value.name===p}return{hasRenderFrame:r,getFramePages:a,showIframe:c,getAllFramePages:l}}const Ns=D({name:"FrameLayout",components:{FramePage:so},setup(){const{getFramePages:e,hasRenderFrame:n,showIframe:o}=Fs(),s=m(()=>t(e).length>0);return{getFramePages:e,hasRenderFrame:n,showIframe:o,showFrame:s}}}),Ds={key:0};function zs(e,n,o,s,a,d){const l=z("FramePage");return e.showFrame?(u(),P("div",Ds,[(u(!0),P(Se,null,Et(e.getFramePages,c=>{var r;return u(),P(Se,{key:c.path},[(r=c.meta)!=null&&r.frameSrc&&e.hasRenderFrame(c.name)?Ye((u(),b(l,{key:0,"frame-src":c.meta.frameSrc},null,8,["frame-src"])),[[Rt,e.showIframe(c)]]):H("",!0)],64)}),128))])):H("",!0)}const Vs=ce(Ns,[["render",zs]]),Us=D({name:"PageLayout",components:{FrameLayout:Vs},setup(){const e=B("readly"),n=B("fade-slide"),{getCanEmbedIFramePage:o}=_e();Fn({pageTranstionName:n,pageTranstionState:e});const{openCache:s,getCaches:a,getKey:d}=ao(n);return{openCache:s,getCaches:a,getKey:d,pageTranstionName:n,handleStart:()=>{e.value="readly"},handleEnter:()=>{e.value="running"},handleEnd:()=>{e.value="finshed"},getCanEmbedIFramePage:o}}});function Gs(e,n,o,s,a,d){const l=z("RouterView"),c=z("FrameLayout");return u(),P(Se,null,[f(l,null,{default:h(({Component:r})=>[f(Be,{name:e.pageTranstionName,mode:"out-in",appear:"",onBeforeEnter:e.handleStart,onEnter:e.handleEnter,onAfterEnter:e.handleEnd},{default:h(()=>[e.openCache?(u(),b(wn,{key:0,include:e.getCaches},[(u(),b(Ue(r),{key:e.getKey}))],1032,["include"])):(u(),b(Ue(r),{key:e.getKey}))]),_:2},1032,["name","onBeforeEnter","onEnter","onAfterEnter"])]),_:1}),e.getCanEmbedIFramePage?(u(),b(c,{key:0})):H("",!0)],64)}const Ws=ce(Us,[["render",Gs]]),js={class:"flex-1"},Ks=D({__name:"index",setup(e){const n=B(),o=B(),s=kn(),{prefixCls:a}=Y("layout-content"),{getOpenPageLoading:d}=Xn(),{getPageLoading:l}=_e(),{width:c,height:r}=Mt(o),{emit:p}=ro();Tn(o,p),Nn({width:c,height:r});const i=m(()=>{var g;return d.value&&!((g=s.meta)!=null&&g.hideLoading)&&l.value});return Zn(()=>N(this,null,function*(){const g=n.value;g&&(yield Ze(300),g.scrollTo({left:0,top:0}))})),(g,v)=>{const y=Yn,C=Mn,w=Lt,T=Rn;return u(),P("main",{ref_key:"contentEl",ref:o,class:V(["transform-gpu transform",[t(a)]])},[f(y,{show:t(i)},null,8,["show"]),f(T,{embedded:"",class:"h-full",position:"absolute"},{default:h(()=>[f(w,{ref_key:"scrollBarEl",ref:n,style:oe({maxHeight:`${t(r)}px`})},{default:h(()=>[f(C,{right:40,bottom:60}),x("div",{class:"flex flex-col",style:oe({minHeight:`${t(r)}px`})},[x("div",js,[f(Ws)]),ye(g.$slots,"footer")],4)]),_:3},8,["style"])]),_:3})],2)}}}),Xs=D({__name:"TabRedo",setup(e){const n=B(!1),{refreshPage:o}=Ft();function s(){return N(this,null,function*(){const a=Date.now();n.value=!0,yield o(),yield Ze(1200-(Date.now()-a)%1200),n.value=!1})}return(a,d)=>(u(),P("div",{class:"app-mtabs-anction-btn-wrapper group",onClick:s},[x("span",{class:V(["i-codicon-refresh app-mtabs-anction-btn",{"app-ease-spin animate-duration-1200":t(n)}])},null,2)]))}});var X=(e=>(e[e.REFRESH_PAGE=0]="REFRESH_PAGE",e[e.TOGGLE_FULL_SCREEN=1]="TOGGLE_FULL_SCREEN",e[e.CLOSE_CURRENT=2]="CLOSE_CURRENT",e[e.CLOSE_LEFT=3]="CLOSE_LEFT",e[e.CLOSE_RIGHT=4]="CLOSE_RIGHT",e[e.CLOSE_OTHER=5]="CLOSE_OTHER",e[e.CLOSE_ALL=6]="CLOSE_ALL",e[e.SCALE=7]="SCALE",e))(X||{});function Zs(e,n){const o=Ae({current:null,currentIndex:0}),{t:s}=Le(),a=De(),{currentRoute:d}=Ce(),{refreshPage:l,closeAll:c,close:r,closeLeft:p,closeOther:i,closeRight:g}=Ft(),v=m(()=>t(n)?e.tabItem:t(d)),{getShowMenu:y,setMenuSetting:C}=Z(),{getShowHeader:w,setHeaderSetting:T}=Wt(),R=$n(gt(y),gt(w));function I(){const S=R.value;C({show:S,hidden:!S}),T({show:S})}const F=m(()=>{if(!t(v))return;const{path:S}=t(d),O=o.current,E=O?O.path===S:!1,_=o.currentIndex,M=_===0||!E,q=a.getTabList.length===1,ee=!E||_===a.getTabList.length-1&&a.getLastDragEndIndex>=0,j=[{key:X.TOGGLE_FULL_SCREEN,label:s("layout.multipleTab.toggleFullScreen"),iconName:R.value?"i-radix-icons-exit-full-screen":"i-radix-icons-enter-full-screen"},{type:"divider",key:"d2"},{key:X.CLOSE_LEFT,label:s("layout.multipleTab.closeLeft"),disabled:M,iconName:"i-ph:arrow-line-left-bold"},{key:X.CLOSE_RIGHT,label:s("layout.multipleTab.closeRight"),disabled:ee,iconName:"i-ph:arrow-line-right-bold"},{key:X.CLOSE_OTHER,label:s("layout.multipleTab.closeOther"),disabled:q||!E,iconName:"i-dashicons:align-center"},{key:X.CLOSE_ALL,label:s("layout.multipleTab.closeAll"),disabled:q,iconName:"i-clarity:minus-line"}];return n.value?j.slice(2):j});function A(S){return O=>{if(!S)return;O==null||O.preventDefault();const E=a.getTabList.findIndex(_=>_.path===S.path);o.current=S,o.currentIndex=E}}function k(S){switch(S){case X.REFRESH_PAGE:l();break;case X.TOGGLE_FULL_SCREEN:I();break;case X.CLOSE_CURRENT:r(e.tabItem);break;case X.CLOSE_LEFT:p();break;case X.CLOSE_RIGHT:g();break;case X.CLOSE_OTHER:i();break;case X.CLOSE_ALL:c();break}}return{getDropMenuList:F,handleMenuEvent:k,handleContextMenu:A}}const Ys=D({name:"TabContent",props:{tabItem:{type:Object,default:null},isExtra:Boolean},setup(e){const{prefixCls:n}=Y("multiple-tabs-content"),{t:o}=Le(),s=Ae({x:0,y:0}),a=En(!1),d=m(()=>{const{tabItem:{meta:k}={}}=e;return k&&o(k.title)}),l=m(()=>!e.isExtra),c=m(()=>t(l)?s.x:void 0),r=m(()=>t(l)?s.y:void 0),p=m(()=>t(l)?t(a):void 0),i=m(()=>t(l)?I:void 0),g=m(()=>t(l)?"manual":"click"),v=m(()=>t(l)?"bottom-start":"bottom-end"),{getDropMenuList:y,handleMenuEvent:C,handleContextMenu:w}=Zs(e,l);function T(k){return N(this,null,function*(){e.tabItem&&(k.preventDefault(),a.value=!1,yield ie(),s.x=k.clientX,s.y=k.clientY,a.value=!0,w(e.tabItem)(k))})}function R(k){e.tabItem&&w(e.tabItem)(k)}function I(){a.value=!1}function F(k){C(k),I()}function A(k){return f("i",{class:`${k.iconName} z-1 text-4`},null)}return()=>f(Se,null,[t(l)&&f("div",{class:`${n}__info py-1 pl-2`,onContextmenu:T},[f("span",null,[t(d)])]),f(xn,{x:t(c),y:t(r),show:t(p),onSelect:F,onClickoutside:t(i),options:t(y),"render-label":({label:k})=>k,"render-icon":A,trigger:t(g),placement:t(v)},{default:()=>[!t(l)&&f("div",{class:"app-mtabs-anction-btn-wrapper group",onClick:R},[f("span",{class:"i-fluent-options-48-regular app-mtabs-anction-btn"},null)])]})])}});function qs(){const e=B([]),n=De(),o=Ce();function s(l){const c=[];return l&&l.forEach(r=>{r.meta&&r.meta.affix&&c.push($t(r))}),c}function a(){const l=s(o.getRoutes());e.value=l;for(const c of l)n.addTab({meta:c.meta,name:c.name,path:c.path})}let d=!1;return d||(a(),d=!0),e.value.map(l=>{var c;return(c=l.meta)==null?void 0:c.title}).filter(Boolean)}const Js=D({name:"MultipleTabs",components:{TabRedo:Xs,TabContent:Ys},setup(){qs();const e=B(),n=B(),o=Ce(),s=De(),{prefixCls:a}=Y("multiple-tabs"),{getShowMultipleTab:d}=jt(),l=Fe(),c=B({borderTop:"none",borderRadius:"0px",padding:"0px",paddingRight:"6px"}),r=m(()=>({backgroundColor:qn("Layout","headerColor").value})),p=m(()=>s.getTabList.filter(v=>{var y;return!((y=v.meta)!=null&&y.hideTab)}));return At(v=>{const{name:y}=v;if(y===Bt||!v)return;const{path:C,fullPath:w,meta:T={}}=v,{currentActiveMenu:R,hideTab:I}=T,F=I?R:null,A=F||w||C;if(n.value!==A&&(n.value=A),F){const k=o.getRoutes().find(S=>S.path===R);k&&s.addTab(k)}else s.addTab(t(v))}),ne(()=>n.value,v=>{ie(()=>{var C;if(!v)return;const y=(C=be(e))==null?void 0:C.querySelector(`[data-name="${v}"]`);y&&setTimeout(()=>{y.scrollIntoView({behavior:"smooth"})},50)})},{immediate:!0}),kt(()=>be(e),v=>{const y=v.querySelector(".n-tabs-nav");y.style.minHeight=`${Jn}px`}),{activeKeyRef:n,panels:p,tabsElRef:e,handleClose:v=>{s.closeTabByKey(v,o)},handleTabChange:v=>{n.value=v,l(v,!1)},prefixCls:a,getTabStyle:c,getWrapperStyle:r,getShowMultipleTab:d}}}),Qs=x("div",{class:"placeholder"},null,-1),ea={class:"flex h-full w-18"};function ta(e,n,o,s,a,d){const l=z("TabContent"),c=In,r=z("TabRedo"),p=On;return e.getShowMultipleTab?(u(),P("div",{key:0,style:oe(e.getWrapperStyle),class:V(e.prefixCls)},[f(p,{ref:"tabsElRef",value:e.activeKeyRef,"onUpdate:value":[n[0]||(n[0]=i=>e.activeKeyRef=i),e.handleTabChange],type:"card",size:"small",closable:"","tab-style":e.getTabStyle,onClose:e.handleClose},{prefix:h(()=>[Qs]),suffix:h(()=>[x("div",ea,[f(l,{"is-extra":"","tab-item":e.$route},null,8,["tab-item"]),f(r)])]),default:h(()=>[(u(!0),P(Se,null,Et(e.panels,i=>{var g,v;return u(),b(c,{key:i.path||i.fullPath,name:i.path||i.fullPath,class:V({"!pr-2":(g=i==null?void 0:i.meta)==null?void 0:g.affix}),closable:!((v=i==null?void 0:i.meta)!=null&&v.affix)},{default:h(()=>[f(l,{"tab-item":i},null,8,["tab-item"])]),_:2},1032,["name","class","closable"])}),128))]),_:1},8,["value","tab-style","onClose","onUpdate:value"])],6)):H("",!0)}const na=ce(Js,[["render",ta]]),oa=D({name:"DefaultLayout",components:{LayoutSider:As,LayoutHeader:Rs,LayoutContent:Ks,LayoutFooter:lo,MTabs:na},setup(){const{prefixCls:e}=Y("default-layout"),{getMenuType:n}=Z(),{runLog:o}=io();return{getLayoutCls:m(()=>{let a="";switch(n.value){case Ie.SIDEBAR:a=Oe.SIDEBAR;break;case Ie.MIX_SIDEBAR:a=Oe.MIX_SIDEBAR;break;case Ie.MIX:a=Oe.MIX;break;case Ie.TOP_MENU:a=Oe.TOP_MENU;break}return`${a}`}),prefixCls:e,runLog:o}}});function sa(e,n,o,s,a,d){const l=z("LayoutHeader"),c=z("LayoutSider"),r=z("MTabs"),p=z("LayoutFooter"),i=z("LayoutContent"),g=Fo;return u(),P("div",{class:V([e.prefixCls,e.getLayoutCls])},[f(l),f(c),f(r),f(i,null,{footer:h(()=>[f(p)]),_:1}),f(g,{ref:"runLog"},null,512)],2)}const Sa=ce(oa,[["render",sa]]);export{Sa as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./UserDropdown-yaG8W4x2.js","./vendor--53G7TFY.js","./vendor-R3Rv6mP0.css","./index-BeP8DsMB.js","./index-Gofo9UYK.css","./Breadcrumb-B5dA0r_H.js","./Icon-ieGKZtJF.js","./propTypes-qKSNSMFe.js","./index-U_hv5SPE.js","./useDesign-WRqooCBp.js","./DarkModeToggle-k2oCXS6A.js","./wb-sunny-outline-2RVz_2Cr.js","./LocalePicker-YZj3Bhks.js","./language-awN0eQfq.js","./useLocale-nBju4mbt.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}