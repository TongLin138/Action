var Yt=Object.defineProperty,qt=Object.defineProperties;var Jt=Object.getOwnPropertyDescriptors;var it=Object.getOwnPropertySymbols;var Qt=Object.prototype.hasOwnProperty,en=Object.prototype.propertyIsEnumerable;var ct=(e,n,o)=>n in e?Yt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,re=(e,n)=>{for(var o in n||(n={}))Qt.call(n,o)&&ct(e,o,n[o]);if(it)for(var o of it(n))en.call(n,o)&&ct(e,o,n[o]);return e},Ie=(e,n)=>qt(e,Jt(n));var F=(e,n,o)=>new Promise((s,a)=>{var d=r=>{try{c(o.next(r))}catch(p){a(p)}},l=r=>{try{c(o.throw(r))}catch(p){a(p)}},c=r=>r.done?s(r.value):Promise.resolve(r.value).then(d,l);c((o=o.apply(e,n)).next())});import{a6 as u,aI as B,as as I,bX as Ye,cz as tn,G as D,x as H,r as Ne,ah as ut,I as yt,cA as nn,h as _,aL as bt,aF as on,y as ie,u as t,a7 as b,a8 as h,aJ as P,a9 as f,aH as K,aN as te,ax as Be,aD as Ue,ay as Ct,aB as sn,bh as an,aC as rn,bN as ln,aS as cn,am as un,bC as dn,bs as pn,bA as St,bB as Lt,M as ye,bx as kt,bZ as we,C as ne,aw as oe,av as V,bb as be,cB as dt,cC as gn,A as fn,cD as _n,ba as mn,aR as hn,bV as pt,_ as Te,bv as Ge,cE as vn,cF as gt,w as Se,cG as wt,cH as yn,cI as ft,cJ as bn,cK as Cn,cL as Tt,aW as Sn,al as fe,o as Ln,b$ as qe,bY as Mt,a5 as z,cM as kn,cN as Et,aq as Je,ar as Rt,aX as wn,aG as Tn,aY as Ce,t as $t,cO as Mn,au as It,cP as En,c6 as Rn,cQ as $n,bz as In,bP as xn,cR as On,cS as _t,cT as Pn,bc as Bn,bp as Hn,bm as An}from"./vendor-tP7MJkVm.js";import{u as le,c as Nn,d as Fn}from"./useAppInject-BuU8lio7.js";import{K as xt,M as Ot,q as Dn,a as Le,v as _e,y as zn,x as Pt,a2 as X,k as Fe,P as Vn,a3 as Un,a4 as Gn,_ as ce,r as me,a5 as ge,a6 as Wn,a7 as Bt,a8 as Qe,a9 as Ht,aa as jn,ab as et,ac as tt,ad as Kn,ae as Q,af as At,ag as Zn,ah as De,ai as Nt,Q as Ft,aj as ve,ak as Dt,J as ze,t as Xn,al as Yn,L as qn,am as zt,an as Jn,ao as Qn,ap as xe,aq as Oe}from"./index-YWZYq8iG.js";import{u as Y}from"./useDesign-7GyM2Hwu.js";import{p as W}from"./propTypes-LGH0h7_d.js";import{_ as We}from"./Icon-b2WQYhf_.js";import{u as eo}from"./useBreakpoint-bV1NAm7K.js";import{u as to}from"./useLocale-mNzPju1N.js";import{_ as no,a as oo,C as so}from"./clickOutside-wB3G0zpN.js";import ao from"./index-G12l2amO.js";import{u as ro}from"./useTransition-qMbJRxJj.js";import{u as lo}from"./layoutContentResize-oI4tMClB.js";import{F as io}from"./index-2zwNOwES.js";import{u as co}from"./useRunLog-IJiSGNPm.js";const uo={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},po=I("path",{fill:"currentColor",d:"M19 7h-2.81c-.45-.8-1.07-1.5-1.82-2L16 3.41L14.59 2l-2.17 2.17a6.002 6.002 0 0 0-2.83 0L7.41 2L6 3.41L7.62 5c-.75.5-1.36 1.21-1.81 2H3v2h2.09c-.06.33-.09.66-.09 1v1H3v2h2v1c0 .34.03.67.09 1H3v2h2.81A6.002 6.002 0 0 0 13 19.65V19c0-.57.09-1.14.25-1.69c-.66.45-1.45.69-2.25.69c-2.21 0-4-1.79-4-4v-4c0-2.21 1.79-4 4-4s4 1.79 4 4v4c0 .19 0 .39-.05.58c.59-.54 1.29-.96 2.05-1.23V13h2v-2h-2v-1c0-.34-.03-.67-.09-1H19V7m-6 2v2H9V9h4m0 4v2H9v-2h4m3 3h6v6h-6v-6Z"},null,-1),go=[po];function fo(e,n){return u(),B("svg",uo,[...go])}const _o={name:"mdi-bug-stop-outline",render:fo},mo={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},ho=I("path",{fill:"currentColor",d:"M6 3h8.99v1.5H6zM2.99 6h1.5v1.5h-1.5zm0-3h1.5v1.5h-1.5zm0 6.01H4.5v1.5H2.99z"},null,-1),vo=I("path",{fill:"currentColor",d:"M4.5 12h-3V1.49h15V6H18V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v9.48a2 2 0 0 0 2 2h2.5Z"},null,-1),yo=I("path",{fill:"currentColor",d:"M22 7.5H8a2 2 0 0 0-2 2V19a2 2 0 0 0 2 2h5.53v1.53H12V24h6v-1.49h-1.5V21H22a2 2 0 0 0 2-2V9.5a2 2 0 0 0-2-2Zm.51 12h-15V9h15Z"},null,-1),bo=[ho,vo,yo];function Co(e,n){return u(),B("svg",mo,[...bo])}const So={name:"eos-icons-background-tasks",render:Co},Lo={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},ko=I("path",{fill:"currentColor",d:"M22.54 21.12L20.41 19l2.13-2.12l-1.42-1.42L19 17.59l-2.12-2.13l-1.42 1.42L17.59 19l-2.13 2.12l1.42 1.42L19 20.41l2.12 2.13M6 2a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h7.81c-.36-.62-.61-1.3-.73-2H6V4h7v5h5v4.08c.33-.05.67-.08 1-.08c.34 0 .67.03 1 .08V8l-6-6M8 12v2h8v-2m-8 4v2h5v-2Z"},null,-1),wo=[ko];function To(e,n){return u(),B("svg",Lo,[...wo])}const Mo={name:"mdi-file-document-remove-outline",render:To},Eo={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Ro=Ye('<g stroke="currentColor" stroke-linecap="round" stroke-width="2"><path fill="currentColor" fill-opacity="0" stroke-dasharray="60" stroke-dashoffset="60" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"></animate><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.15s" values="0;0.3"></animate></path><path fill="none" stroke-dasharray="8" stroke-dashoffset="8" d="M12 12L16 16M12 12L8 8M12 12L8 16M12 12L16 8"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="8;0"></animate></path></g>',1),$o=[Ro];function Io(e,n){return u(),B("svg",Eo,[...$o])}const xo={name:"line-md-close-circle-twotone",render:Io},Oo={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Po=Ye('<g stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path fill="currentColor" fill-opacity="0" stroke-dasharray="60" stroke-dashoffset="60" d="M12 3L21 20H3L12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"></animate><animate fill="freeze" attributeName="fill-opacity" begin="1.2s" dur="0.15s" values="0;0.3"></animate></path><path fill="none" stroke-dasharray="6" stroke-dashoffset="6" d="M12 10V14"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"></animate></path></g><circle cx="12" cy="17" r="1" fill="currentColor" fill-opacity="0"><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.4s" values="0;1"></animate></circle>',2),Bo=[Po];function Ho(e,n){return u(),B("svg",Oo,[...Bo])}const Ao={name:"line-md-alert-twotone",render:Ho},No={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Fo=Ye('<g stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path fill="currentColor" fill-opacity="0" stroke-dasharray="60" stroke-dashoffset="60" d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"></animate><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.15s" values="0;0.3"></animate></path><path fill="none" stroke-dasharray="14" stroke-dashoffset="14" d="M8 12L11 15L16 10"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="14;0"></animate></path></g>',1),Do=[Fo];function zo(e,n){return u(),B("svg",No,[...Do])}const Vo={name:"line-md-confirm-circle-twotone",render:zo},Uo=(e,n="message")=>xt.post({url:"/runCmd",data:e,headers:{"Content-Type":Ot.JSON}},{errorMessageMode:n}),Go=(e,n="message")=>xt.post({url:"/stopTask",data:e,headers:{"Content-Type":Ot.JSON}},{errorMessageMode:n});var Wo={VITE_GLOB_APP_TITLE:"Arcadia",VITE_GLOB_APP_SHORT_NAME:"arcadia",VITE_USE_MOCK:"false",VITE_PUBLIC_PATH:"./",VITE_DROP_CONSOLE:"true",VITE_BUILD_COMPRESS:"none",VITE_BUILD_COMPRESS_DELETE_ORIGIN_FILE:"false",VITE_GLOB_API_URL:"/api",VITE_GLOB_UPLOAD_URL:"/upload",VITE_GLOB_API_URL_PREFIX:"",VITE_USE_IMAGEMIN:"true",VITE_USE_PWA:"false",VITE_LEGACY:"false",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let He=null;const jo=()=>{const e=Wo.VITE_PROXY||"[]";return JSON.parse(e),""},Ko=()=>{const e=Dn();He=tn(jo(),{path:"/api/ws",extraHeaders:{Authorization:`Bearer ${e}`}}),He.on("connect",()=>{console.log("ws connected")})},Zo=()=>(He||Ko(),He),Xo={style:{"vertical-align":"-4px",padding:"0 2px"}},Yo=D({__name:"index",setup(e,{expose:n}){const{getIsMobile:o}=le(),{t:s}=Le(),a=H(null);let d=null,l=null;const c={show:!1,title:s("component.runLog.title"),cmd:"",runId:"",logRef:"",runTimes:0,isLogOverOk:!1,isLogOverFail:!1,isLogOverExit:!1,isLogReachBottom:!0,isStoping:!1,isLogEmpty:!1},r=Ne(ut(c)),{show:p,title:i,logRef:g,runTimes:v,isLogOverOk:y,isLogOverFail:S,isLogOverExit:k,isStoping:T,isLogEmpty:E}=yt(r),x=$=>F(this,null,function*(){r.runId=yield Uo({cmd:$})}),N=$=>F(this,null,function*(){switch($){case"cmdStop":if(!r.cmd)return;r.isStoping=!0;const m=r.cmd.split("task run ")[1].split(" ")[0];try{const M=yield Go({path:m});setTimeout(()=>{g.value+=`
${M}
`,r.isLogOverOk=!1,r.isLogOverFail=!1,r.isLogOverExit=!0},1e3)}catch(M){r.isStoping=!1}break;case"close":r.show=!1,l&&clearInterval(l),l=null;break}}),A=nn($=>{const m=a.value.$el.clientHeight,M=$.target.scrollTop,q=$.target.scrollHeight;r.isLogReachBottom=m+M>=q-10},300),w=_(()=>r.isLogOverOk||r.isLogOverFail||r.isLogOverExit?s("component.modal.close"):""),C=_(()=>r.cmd.startsWith("task run ")),O=($={cmd:""})=>{Object.assign(r,ut(c),$,{show:!0}),ie().then(()=>setTimeout(()=>x(r.cmd),500)),d==null||d.off("runLog").on("runLog",({code:m,result:M={}})=>{l||(l=setInterval(()=>{v.value+=.1},100)),M.runId===r.runId&&(M.over&&(clearInterval(l),g.value||(E.value=!0)),g.value+=M.log||"",m?!r.isStoping&&(r.isLogOverOk=M.over):!r.isStoping&&(r.isLogOverFail=M.over))}),ie().then(()=>{var M;const m=(M=a.value.scrollbarRef)==null?void 0:M.containerRef;m.removeEventListener("scroll",A),m.addEventListener("scroll",A)})};return bt(()=>{d=Zo(),on(()=>{r.logRef&&ie(()=>{var $;r.isLogReachBottom&&(($=a.value)==null||$.scrollTo({position:"bottom",silent:!0}))})})}),n({open:O}),($,m)=>{const M=Ct,q=Vo,ee=Ao,j=xo,U=sn,se=an,J=rn,Ee=ln,ue=Mo,Re=cn,L=So,R=un,G=_o,$e=dn,de=pn,he=St,pe=Lt;return t(o)?(u(),b(pe,{key:1,show:t(p),"onUpdate:show":m[7]||(m[7]=ae=>Ue(p)?p.value=ae:null),height:"100vh",placement:"bottom","auto-focus":!1,"mask-closable":!1},{default:h(()=>[f(he,{closable:!t(C),"header-style":"height: 60px; padding: 16px 12px","body-content-style":"padding: 4px 12px","footer-style":"padding: 16px 24px"},{header:h(()=>[f(J,null,{default:h(()=>[!t(y)&&!t(S)&&!t(k)?(u(),b(M,{key:0,size:"small",style:{"vertical-align":"-0.05em","padding-right":"12px",width:"26px",height:"26px","padding-left":".5em"}})):(u(),b(U,{key:1,size:26},{default:h(()=>[t(y)?(u(),b(q,{key:0,style:{color:"var(--app-success-color)","vertical-align":"0"}})):t(k)?(u(),b(ee,{key:1,style:{color:"var(--app-warning-color)","vertical-align":"0"}})):t(S)?(u(),b(j,{key:2,style:{color:"var(--app-error-color)","vertical-align":"0"}})):P("",!0)]),_:1})),f(de,{style:{height:"100%","max-width":"260px"}},{tooltip:h(()=>[I("span",null,K(t(i)),1)]),default:h(()=>[I("span",Xo,K(t(i)),1)]),_:1}),t(v)!==0?(u(),b(se,{key:2,depth:3,style:{"font-size":"8px","vertical-align":"-6px"}},{default:h(()=>[te(K(`${t(v).toFixed(1)}s`),1)]),_:1})):P("",!0)]),_:1})]),footer:h(()=>[!t(y)&&!t(S)&&!t(k)?(u(),b(J,{key:0},{default:h(()=>[f(R,{secondary:"",focusable:!1,onClick:m[4]||(m[4]=ae=>N("close"))},{icon:h(()=>[f(U,null,{default:h(()=>[f(L,{style:{"vertical-align":"baseline"}})]),_:1})]),default:h(()=>[te(" "+K(t(s)("component.runLog.runBackground")),1)]),_:1}),t(C)?(u(),b(R,{key:0,secondary:"",focusable:!1,loading:t(T),onClick:m[5]||(m[5]=ae=>N("cmdStop"))},{icon:h(()=>[f(U,null,{default:h(()=>[f(G,{style:{"vertical-align":"baseline"}})]),_:1})]),default:h(()=>[te(" "+K(t(s)("component.runLog.stop")),1)]),_:1},8,["loading"])):P("",!0)]),_:1})):P("",!0),t(w)?(u(),b(Be,{key:1,name:"fade",mode:"out-in",appear:""},{default:h(()=>[f(R,{type:t(k)?"warning":t(S)?"error":"primary",focusable:!1,onClick:m[6]||(m[6]=ae=>N("close"))},{default:h(()=>[te(K(t(w)),1)]),_:1},8,["type"])]),_:1})):P("",!0)]),default:h(()=>[t(E)?(u(),b(Re,{key:1,class:"flex-jc-ac",style:{height:"400px"},size:"huge",description:t(s)("component.runLog.emptyTitle")},{icon:h(()=>[f(U,null,{default:h(()=>[f(ue)]),_:1})]),_:1},8,["description"])):(u(),b(Ee,{key:0,ref_key:"logInstRef",ref:a,log:t(g),"font-size":14,"line-height":1.5,language:"naive-log",style:{width:"100%",height:"100%"}},null,8,["log"]))]),_:1},8,["closable"])]),_:1},8,["show"])):(u(),b($e,{key:0,show:t(p),"onUpdate:show":m[3]||(m[3]=ae=>Ue(p)?p.value=ae:null),preset:"dialog",closable:!t(C),"auto-focus":!1,"close-on-esc":!1,"mask-closable":!1,style:{width:"600px"}},{icon:h(()=>[!t(y)&&!t(S)&&!t(k)?(u(),b(M,{key:0,size:"small",style:{"vertical-align":"-0.05em","padding-right":"1em",width:"24px",height:"24px","padding-left":".5em"}})):P("",!0),f(U,null,{default:h(()=>[t(y)?(u(),b(q,{key:0,style:{color:"var(--app-success-color)","vertical-align":"0"}})):t(k)?(u(),b(ee,{key:1,style:{color:"var(--app-warning-color)","vertical-align":"0"}})):t(S)?(u(),b(j,{key:2,style:{color:"var(--app-error-color)","vertical-align":"0"}})):P("",!0)]),_:1})]),header:h(()=>[f(J,null,{default:h(()=>[te(K(t(i))+" ",1),t(v)!==0?(u(),b(se,{key:0,depth:3,style:{"font-size":"8px","vertical-align":"-0.1em"}},{default:h(()=>[te(K(`${t(v).toFixed(1)}s`),1)]),_:1})):P("",!0)]),_:1})]),action:h(()=>[!t(y)&&!t(S)&&!t(k)?(u(),b(J,{key:0},{default:h(()=>[f(R,{secondary:"",size:"small",focusable:!1,onClick:m[0]||(m[0]=ae=>N("close"))},{icon:h(()=>[f(U,null,{default:h(()=>[f(L,{style:{"vertical-align":"baseline"}})]),_:1})]),default:h(()=>[te(" "+K(t(s)("component.runLog.runBackground")),1)]),_:1}),t(C)?(u(),b(R,{key:0,secondary:"",size:"small",focusable:!1,loading:t(T),onClick:m[1]||(m[1]=ae=>N("cmdStop"))},{icon:h(()=>[f(U,null,{default:h(()=>[f(G,{style:{"vertical-align":"baseline"}})]),_:1})]),default:h(()=>[te(" "+K(t(s)("component.runLog.stop")),1)]),_:1},8,["loading"])):P("",!0)]),_:1})):P("",!0),t(w)?(u(),b(Be,{key:1,name:"fade",mode:"out-in",appear:""},{default:h(()=>[f(R,{size:"small",type:t(k)?"warning":t(S)?"error":"primary",focusable:!1,onClick:m[2]||(m[2]=ae=>N("close"))},{default:h(()=>[te(K(t(w)),1)]),_:1},8,["type"])]),_:1})):P("",!0)]),default:h(()=>[t(E)?(u(),b(Re,{key:1,class:"flex-jc-ac",style:{height:"600px"},size:"huge",description:t(s)("component.runLog.emptyTitle")},{icon:h(()=>[f(U,null,{default:h(()=>[f(ue)]),_:1})]),_:1},8,["description"])):(u(),b(Ee,{key:0,ref_key:"logInstRef",ref:a,log:t(g),"font-size":15,"line-height":1.5,language:"naive-log",style:{"padding-top":"1em",width:"100%",height:"600px"}},null,8,["log"]))]),_:1},8,["show","closable"]))}}}),Vt=D({__name:"ScrollContainer",props:{inverted:{type:Boolean}},setup(e){const n=e,{color:o,colorHover:s}=_e("Scrollbar",!0),a=_(()=>n.inverted?{color:o,colorHover:s}:void 0);return(d,l)=>{const c=kt;return u(),b(c,{"builtin-theme-overrides":t(a)},{default:h(()=>[ye(d.$slots,"default")]),_:3},8,["builtin-theme-overrides"])}}}),qo=/^(\d|\.)+$/,mt=/(\d|\.)+/;function ke(e,{c:n=1,offset:o=0,attachPx:s=!0}={}){if(typeof e=="number"){const a=(e+o)*n;return a===0?"0":`${a}px`}else if(typeof e=="string")if(qo.test(e)){const a=(Number(e)+o)*n;return s?a===0?"0":`${a}px`:`${a}`}else{const a=mt.exec(e);return a?e.replace(mt,String((Number(a[0])+o)*n)):e}return e}const Jo=""+new URL("logo-RS-iFM1K.png",import.meta.url).href,Qo=["src"],nt=D({__name:"AppLogo",props:{logoSize:W.stringNumber.def(24),showTitle:W.bool.def(!0),titleSize:W.stringNumber.def(18),titleColor:W.string,collapsed:W.bool,collapsedShowTitle:W.bool.def(!1),isStatic:W.bool.def(!1),width:W.stringNumber,canGoHome:W.bool.def(!1)},setup(e){we(C=>({"1390b5f8":t(N)}));const n=e,{prefixCls:o}=Y("app-logo"),s=zn(),{title:a}=Pt(),{getMenuWidth:d,getMobileWidth:l,getMenuRootIndent:c,getCollapsed:r}=X(),{getIsMobile:p}=le(),i=H(),g=H(),v=H(`inset(0px ${n.collapsed?100:0}% 0px 0px)`);ne([i,g,()=>n.showTitle],()=>{y()});function y(){const C=be(i),O=be(g);if(!C||!O||!n.showTitle)return;const $=S(C,O);$();let m;dt(C,"transitionstart",()=>{if(m){m.resume();return}m=gn($)}),dt(C,"transitionend",()=>{m&&m.pause()})}function S(...C){return()=>{const[O,$]=C,m=O.offsetWidth,M=$.offsetWidth,q=$.offsetLeft,ee=16,j=M-m+q+ee;v.value=`inset(0px ${fn(j,0,M+1)}px 0px 0px)`}}const k=Fe(),T=_(()=>{const{collapsed:C,collapsedShowTitle:O,isStatic:$,width:m,canGoHome:M}=n;return Object.assign({cursor:M?"pointer":"unset"},$?{}:{paddingLeft:C?"7px":`${c.value-4}px`,width:(C!=null?C:r.value)&&!O?ke(Un):ke((m!=null?m:p.value)?l.value:d.value)})}),E=_(()=>({fontSize:ke(n.logoSize),transition:"font-size var(--app-transition-duration) var(--app-bezier)",zIndex:10,height:"24px",width:"24px",marginLeft:"6px"})),x=_(()=>{const{titleSize:C,titleColor:O}=n;return re(re({fontSize:ke(C),lineHeight:1.3},n.isStatic?{}:{clipPath:v.value}),O?{color:O}:{})}),N=_(()=>n.collapsed?0:"100%"),A=_(()=>a);function w(){n.canGoHome&&k(s.getUserInfo.homePath||Vn.BASE_HOME)}return(C,O)=>(u(),B("div",{ref_key:"wrapperEl",ref:i,class:"flex-ac ease-in-out-300",style:oe(t(T)),onClick:w},[I("img",{src:t(Jo),title:"Logo",style:oe(t(E))},null,12,Qo),f(Be,{name:"fade-slide-right",mode:"out-in"},{default:h(()=>[e.showTitle&&!e.collapsed?(u(),B("div",{key:0,ref_key:"titleEl",ref:g,class:V(["font-segoe ml-3 font-semibold",[`${t(o)}__title`]]),style:oe(t(x))},K(t(A)),7)):P("",!0)]),_:1})],4))}});function Me(e,n){n=n||{};const{size:o="small",delay:s=100,timeout:a=3e4,loading:d=!1,loadingComponent:l,retry:c=!0}=n;return _n({loader:e,loadingComponent:d?f(Ct,{size:o,style:"margin:1rem;"},null):l,timeout:a,delay:s,onError:c?(r,p,i,g)=>{r.message.match(/fetch/)&&g<=3?p():i()}:Gn})}const es=D({name:"FullScreen",setup(){const{t:e}=Le(),{toggle:n,isFullscreen:o}=mn();return{getTitle:_(()=>t(o)?e("layout.header.tooltipExitFull"):e("layout.header.tooltipEntryFull")),isFullscreen:o,toggle:n}}});function ts(e,n,o,s,a,d){const l=no,c=oo,r=hn;return u(),b(r,{trigger:"hover",placement:"bottom",delay:1e3},{trigger:h(()=>[I("span",{class:"app-layout-header-anction-icon",style:{transition:".2s"},onClick:n[0]||(n[0]=(...p)=>e.toggle&&e.toggle(...p))},[e.isFullscreen?(u(),b(l,{key:0,viewBox:"64 64 896 896"})):(u(),b(c,{key:1,viewBox:"64 64 896 896"}))])]),default:h(()=>[te(" "+K(e.getTitle),1)]),_:1})}const ns=ce(es,[["render",ts]]),os=Me(()=>Te(()=>import("./UserDropdown-JqupRVNA.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),{loadingComponent:f("div",{class:"flex items-center space-x-2"},[f(pt,{height:"24px",circle:!0},null),f(pt,{text:!0,round:!0,class:"w-60px h-12px"},null)])}),ss=Me(()=>Te(()=>import("./Breadcrumb-HrMQC1v0.js"),__vite__mapDeps([5,6,1,2,7,3,4]),import.meta.url));Me(()=>Te(()=>import("./index-KX-tFjxQ.js"),__vite__mapDeps([8,1,2,9,3,4]),import.meta.url));const as=Me(()=>Te(()=>import("./DarkModeToggle-nFhon69C.js"),__vite__mapDeps([10,11,1,2,3,4]),import.meta.url)),rs=Me(()=>Te(()=>import("./LocalePicker-iJBtfs-f.js"),__vite__mapDeps([12,13,1,2,14,3,4]),import.meta.url)),ls=D({__name:"BarTrigger",props:{collapsed:W.bool.def(!1),onClick:{type:Function}},setup(e){const{siderToggleBarColor:n,siderToggleBarColorHover:o}=_e("Layout"),{siderToggleBarColor:s,siderToggleBarColorHover:a}=_e("Layout",!0),{getIsDarkMode:d}=me(),l=_(()=>{const r=d.value;return{color:r?s:n,hoverColor:r?a:o}});we(()=>({"toggle-bar-color":l.value.color,"toggle-bar-color-hover":l.value.hoverColor}));const{prefixCls:c}=Y("layout-toggle-bar");return(r,p)=>(u(),B("div",{class:V([t(c),{collapsed:e.collapsed}]),onClick:p[0]||(p[0]=(...i)=>e.onClick&&e.onClick(...i))},[I("div",{class:V(`${t(c)}__top`)},null,2),I("div",{class:V(`${t(c)}__bottom`)},null,2)],2))}}),is=I("i",{class:"icon"},[I("svg",{viewBox:"0 0 16 16",fill:"none",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},[I("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"})])],-1),cs=[is],us=D({__name:"ButtonTrigger",props:{collapsed:W.bool.def(!1),onClick:{type:Function}},setup(e){const{siderToggleButtonColor:n,siderToggleButtonIconColor:o,siderToggleButtonBorder:s}=_e("Layout"),{siderToggleBarColor:a,siderToggleButtonIconColor:d,siderToggleButtonBorder:l}=_e("Layout",!0),{getIsDarkMode:c}=me(),r=_(()=>{const i=c.value;return{bgColor:i?a:n,iconColor:i?d:o,border:i?l:s}});we(()=>{const i=r.value;return{"toggle-button-color":i.bgColor,"toggle-button-icon-color":i.iconColor,"toggle-button-border":i.border}});const{prefixCls:p}=Y("layout-toggle-button");return(i,g)=>(u(),B("div",{class:V([t(p),{collapsed:e.collapsed}]),onClick:g[0]||(g[0]=(...v)=>e.onClick&&e.onClick(...v))},cs,2))}}),ds={style:{display:"inline-block"},viewBox:"0 0 1024 1024",width:"1em",height:"1em"},ps=I("path",{fill:"currentColor",d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"},null,-1),gs=[ps];function fs(e,n){return u(),B("svg",ds,[...gs])}const _s={name:"ant-design-menu-fold-outlined",render:fs},ms={style:{display:"inline-block"},viewBox:"0 0 1024 1024",width:"1em",height:"1em"},hs=I("path",{fill:"currentColor",d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"},null,-1),vs=[hs];function ys(e,n){return u(),B("svg",ms,[...vs])}const bs={name:"ant-design-menu-unfold-outlined",render:ys},Cs=D({__name:"HeaderTrigger",props:{collapsed:W.bool.def(!1),onClick:{type:Function}},setup(e){const{getIsMobile:n}=le();return(o,s)=>{const a=bs,d=_s;return u(),B("span",{class:"app-layout-header-anction-icon",style:oe(t(n)?"background-color: transparent !important":""),onClick:s[0]||(s[0]=(...l)=>e.onClick&&e.onClick(...l))},[e.collapsed?(u(),b(a,{key:0,viewBox:"64 64 896 896"})):(u(),b(d,{key:1,viewBox:"64 64 896 896"}))],4)}}}),Ut=D({__name:"index",props:{type:{default:ge.BAR},onClick:null},setup(e){const n=e,o=new Map;o.set(ge.BAR,ls),o.set(ge.BUTTON,us),o.set(ge.HEADER,Cs);const{toggleCollapsed:s}=X(),a=()=>{n!=null&&n.onClick&&vn(n.onClick)?n.onClick():s()};return(d,l)=>e.type?(u(),b(Ge(t(o).get(e.type)),{key:0,style:{transition:".2s"},onClick:a})):P("",!0)}}),ht=Object.assign({}),je=[];Object.keys(ht).forEach(e=>{const n=ht[e].default||{},o=Array.isArray(n)?[...n]:[n];je.push(...o)});const ot=()=>Kn().getProjectConfig.permissionMode,Ss=()=>ot()===et.BACK,Ls=()=>ot()===et.ROUTE_MAPPING,st=()=>ot()===et.ROLE,Ke=(e,n)=>e.filter(o=>{var s;return(!n||!((s=o.meta)!=null&&s.hideMenu))&&!o.hideMenu}).map(o=>(o.children&&(o.children=Ke(o.children,n),o.children.length||Reflect.deleteProperty(o,"children")),o)),Gt=[];(()=>{je.sort((e,n)=>(e.orderNo||0)-(n.orderNo||0));for(const e of je)Gt.push(Wn(e))})();function at(){return F(this,null,function*(){const e=tt();return Ss()?Ke(e.getBackMenuList,!0):Ls()?Ke(e.getFrontMenuList):Gt})}const Wt=()=>F(void 0,null,function*(){const e=yield at();if(st()){const n=Qe.getRoutes();return Ht(e,rt(n))}return e});function Ae(e){return F(this,null,function*(){const n=yield at(),o=yield Bt(n,e);return o==null?void 0:o[0]})}function Ze(){return F(this,null,function*(){const n=(yield at()).map(o=>Ie(re({},o),{children:void 0}));if(st()){const o=Qe.getRoutes();return n.filter(rt(o))}return n})}function Pe(e){return F(this,null,function*(){var s;const o=(yield Wt()).find(a=>a.path===e);if(!o||!o.children||(s=o==null?void 0:o.meta)!=null&&s.hideChildrenInMenu)return[];if(st()){const a=Qe.getRoutes();return Ht(o.children,rt(a))}return o.children})}function rt(e){return n=>!!e.find(s=>{var d,l;if(jn(n.path))return!0;if((d=s.meta)!=null&&d.carryParam)return gt(s.path).test(n.path);const a=s.path===n.path;return a?(l=s.meta)!=null&&l.ignoreAuth?!0:a||gt(s.path).test(n.path):!1})}function ks(e,n,o){const s=H(),{currentRoute:a}=Se(),{getIsMobile:d}=le(),l=tt(),{setMenuSetting:c,getIsHorizontal:r,getSplit:p}=X(),i=yn(k,50),g=_(()=>t(e)!==Q.SECONDARY&&!t(r)),v=_(()=>{let E=t(p);const x=t(o);return wt(x)&&(E=x),!E||t(e)!==Q.SECONDARY}),y=_(()=>t(e)===Q.ROOT),S=_(()=>t(e)===Q.NONE||!t(p));ne([()=>t(a).path,()=>t(n),()=>t(e)],N=>F(this,[N],function*([E,x]){if(t(g)||t(d))return;const{meta:A}=t(a),w=A.currentActiveMenu;let C;x?C=x:(C=yield Ae(E),C||(C=yield Ae(w))),C&&i(C)}),{immediate:!0}),ne([()=>l.getLastBuildMenuTime,()=>l.getBackMenuList],()=>{T()},{immediate:!0}),ne(()=>p.value,()=>{t(g)||T()});function k(E){return F(this,null,function*(){if(t(v)||t(d))return;const x=yield Pe(E);if(!x||!x.length){c({hidden:!0}),s.value=[];return}c({hidden:!1}),s.value=x})}function T(){return F(this,null,function*(){if(t(S)||t(d)){s.value=yield Wt();return}if(t(y)){const E=yield Ze();s.value=E}})}return{menusRef:s}}const Ve=At&&navigator.connection,jt=Ve&&!/([a-z]-)?2g/.test(Ve.effectiveType)&&!Ve.saveData,vt={};function ws(e){var o;if(!At)return!1;const n=document.createElement("link");return(o=n==null?void 0:n.relList)==null?void 0:o.supports(e)}function Ts(e){return new Promise((n,o)=>{const s=document.createElement("link");s.rel="prefetch",s.href=e,s.addEventListener("load",n),s.addEventListener("error",o),document.head.appendChild(s)})}function Kt(e){return new Promise((n,o)=>{const s=new XMLHttpRequest;s.open("GET",e,s.withCredentials=!0),s.addEventListener("load",()=>{s.status===200?n():o()}),s.send()})}function Ms(e){return Reflect.has(window,"fetch")?fetch(e,{credentials:"include"}):Kt(e)}const Es=ws("prefetch")?Ts:Kt;function Rs(e,n){if(!(!jt||vt[e]))return(n?Ms:Es)(e).then(()=>{vt[e]=!0})}const $s=D({name:"PrefetchLink",props:Ie(re({},ft.props),{prefetch:{type:Boolean,default:!0},prefetchFiles:{type:Array},timeout:{type:Number,default:1e3}}),setup(e,{slots:n}){const o=bn({to:e.to}),s=H(),a=H(!1),d=_(()=>Ln(e,["prefetch","prefetchFiles","timeout"])),{stop:l,isSupported:c}=Cn(s,g=>F(this,[g],function*([{isIntersecting:i}]){i&&(yield qe(e.timeout),p())}));Tt(s,()=>{e.prefetch&&t(c)&&jt&&(a.value=!0)}),Sn(()=>{a.value=!1});function r(i){return i.matched.map(g=>Object.values(g.components)).flat().filter(g=>typeof g=="function")}function p(){const i=o.route.value;if(i.meta.__prefetched)return;i.meta.__prefetched=!0;const g=i.meta.prefetch;if(g){const y=r(i);for(const S of y)S();typeof g=="function"&&g(i)}const v=[...e.prefetchFiles||[],...i.meta.prefetchFiles||[]];if(v.length>0)for(const y of v)Rs(y);l()}return()=>{const i=n.default&&n.default(o);return e.custom?(ie(()=>{if(i){const g=i[0];if(Zn(g.type))throw new Error('[PrefetchLink Component] when "props.custom" is true, slot content must not be plain text');s.value=be(g.el)}else console.warn('[PrefetchLink Component] when "props.custom" is true, must exist default slot')}),i):fe(ft,re({ref:g=>{s.value=g}},d.value),()=>i)}}}),Is=D({name:"LayoutMenu",props:{inverted:W.bool,parentPath:W.string,noCollapsed:W.bool,globalSplit:{type:Boolean,default:void 0},splitType:{type:Number,default:Q.NONE},menuMode:{type:[String],default:""}},setup(e){const n=H(null),{splitType:o,parentPath:s,globalSplit:a}=yt(e),{menusRef:d}=ks(o,s,a),{getMenuMode:l,getMenuIndent:c,getMenuRootIndent:r,getCollapsed:p,getAccordion:i,toggleCollapsed:g}=X(),{currentRoute:v}=Se(),y=Fe(),{t:S}=Le(),k=H([]),T=H(),E=m=>{console.log(m,"expand"),k.value=m},x=m=>{y(m),t(N)&&g()},{getIsMobile:N}=le(),A=_(()=>t(N)?De.VERTICAL:e.menuMode||t(l)),w=_(()=>o.value===Q.ROOT);return ne([v,d],q=>F(this,[q],function*([m,M]){const{name:ee,path:j,meta:U}=m;if(ee!==Nt&&(T.value=j,i.value&&M&&M.length>0)){const se=Bt(M,j);if(w.value){const J=yield Ae(j);T.value=J}else U.currentActiveMenu?(T.value=U.currentActiveMenu,ie(()=>{var J;(J=n.value)==null||J.showOption(U.currentActiveMenu)})):(se.length>=2&&se.pop(),k.value=se)}}),{immediate:!0}),{getRealCollapsed:_(()=>e.noCollapsed||w.value?!1:p.value),getInverted:!1,menuValue:T,menuInstRef:n,menusRef:d,expandedKeys:k,handleUpdateExpandedKeys:E,handleUpdateValue:x,renderIcon:({meta:m})=>{const M=m==null?void 0:m.icon;return M?fe(We,{icon:M}):null},renderLabel:m=>fe($s,{to:m.path,custom:!0},{default:()=>fe("span",null,{default:()=>{var M;return S((M=m==null?void 0:m.label)!=null?M:"")}})}),getRealMenuMode:A,getMenuIndent:c,getMenuRootIndent:r}}});function xs(e,n,o,s,a,d){const l=Mt;return u(),b(l,{ref:"menuInstRef",value:e.menuValue,"onUpdate:value":[n[0]||(n[0]=c=>e.menuValue=c),e.handleUpdateValue],mode:e.getRealMenuMode,"key-field":"path",collapsed:e.getRealCollapsed,inverted:e.getInverted,indent:e.getMenuIndent,"root-indent":e.getMenuRootIndent,options:e.menusRef,"expanded-keys":e.expandedKeys,"render-icon":e.renderIcon,"render-label":e.renderLabel,"onUpdate:expandedKeys":e.handleUpdateExpandedKeys},null,8,["value","mode","collapsed","inverted","indent","root-indent","options","expanded-keys","render-icon","render-label","onUpdate:expandedKeys","onUpdate:value"])}const lt=ce(Is,[["render",xs]]);function Zt(){const e=Ft(),{getMenuMode:n,getSplit:o,getShowHeaderTrigger:s,getIsSidebarType:a,getIsMixSidebar:d}=X(),{getShowBreadCrumb:l,getShowLogo:c}=me(),r=_(()=>e.getHeaderSetting.show),p=_(()=>e.getHeaderSetting.height),i=_(()=>t(n)!==De.HORIZONTAL&&t(l)&&!t(o)),g=_(()=>t(c)&&!t(a)&&!t(d)),v=_(()=>t(i)||t(s));function y(S){e.setProjectConfig({headerSetting:S})}return{setHeaderSetting:y,getShowBread:i,getShowContent:v,getShowHeaderLogo:g,getShowHeader:r,getHeaderHeight:p}}const Os=D({name:"LayoutHeader",components:{Trigger:Ut,LayoutBreadcrumb:ss,LayoutMenu:lt,FullScreen:ns,DarkModeToggle:as,LocalePicker:rs,UserDropDown:os},props:{fixed:W.bool},setup(){const{prefixCls:e}=Y("layout-header"),{getIsMobile:n}=le(),{smaller:o,sizeEnum:s}=eo(),a=o(s.XXS),{getSplit:d,getCollapsed:l,getMenuInverted:c,getShowTopMenu:r,getIsSidebarType:p,getIsMixSidebar:i,getIsTopMenu:g,getTrigger:v}=X(),{getShowBread:y,getShowContent:S,getShowHeader:k}=Zt(),T=_(()=>v.value===ge.HEADER&&!g.value&&S.value&&!d.value),{getShowLocalePicker:E}=to(),x=_(()=>!(t(p)||t(i))),N=_(()=>d.value?Q.ROOT:Q.NONE),A=_(()=>De.HORIZONTAL),w=_(()=>c.value&&(d.value||g.value));return{getShowHeader:k,getIsMobile:n,getShowLocalePicker:E,prefixCls:e,getShowBread:y,getShowContent:S,getShowLogo:x,getCollapsed:l,getShowTopMenu:r,getShowTrigger:T,TriggerEnum:ge,getSplitType:N,getMenuMode:A,getInverted:w,getIs2xs:a}}}),Ps={class:"flex-jb-ac h-full text-1.2em"},Bs={class:"flex-jb-ac h-full"},Hs={key:0,class:"flex-ac h-full"},As={key:0,ref:"scrollEl",class:"flex-jb-ac flex-1 min-w-0 px-2 relative h-full"},Ns={class:"flex-ac h-full"};function Fs(e,n,o,s,a,d){const l=nt,c=z("Trigger"),r=z("LayoutBreadcrumb"),p=z("LayoutMenu"),i=Vt,g=z("FullScreen"),v=z("LocalePicker"),y=z("DarkModeToggle"),S=z("UserDropDown"),k=kn;return e.getShowHeader?(u(),b(k,{key:0,bordered:!e.getIsMobile,class:V([e.prefixCls,{inverted:e.getInverted}]),inverted:e.getInverted},{default:h(()=>[I("div",Ps,[I("div",Bs,[e.getShowLogo?(u(),B("div",Hs,[f(l,{collapsed:e.getCollapsed,"collapsed-show-title":"","title-color":e.getInverted?"white":void 0},null,8,["collapsed","title-color"])])):P("",!0),e.getShowTrigger||e.getIsMobile?(u(),b(c,{key:1,type:e.TriggerEnum.HEADER,collapsed:e.getCollapsed},null,8,["type","collapsed"])):P("",!0),e.getShowContent&&e.getShowBread?(u(),b(r,{key:2,class:V(e.getIsMobile?"":"ml-3")},null,8,["class"])):P("",!0)]),e.getShowTopMenu&&!e.getIsMobile?(u(),B("div",As,[f(i,{"x-scrollable":"",inverted:e.getInverted,class:"absolute left-0 top-2px"},{default:h(()=>[f(p,{"menu-mode":e.getMenuMode,"split-type":e.getSplitType,inverted:e.getInverted},null,8,["menu-mode","split-type","inverted"])]),_:1},8,["inverted"])],512)):P("",!0),I("div",Ns,[e.getIsMobile?P("",!0):(u(),b(g,{key:0})),e.getShowLocalePicker?(u(),b(v,{key:1,"trigger-cls":"app-layout-header-anction-icon",reload:!0})):P("",!0),f(y),f(S)])])]),_:1},8,["bordered","class","inverted"])):P("",!0)}const Ds=ce(Os,[["render",Fs]]),zs={key:0},Xe=D({__name:"SiderWrapper",props:{inverted:{type:Boolean,default:void 0},trigger:{type:Boolean,default:!0},width:null},setup(e){const n=e,{prefixCls:o}=Y("layout-sideBar"),{getIsDarkMode:s}=me(),{getMenuInverted:a,getTrigger:d,getCollapsed:l,getSplit:c}=X(),{getIsMobile:r}=le(),p=_(()=>n.trigger&&(d.value!==ge.HEADER&&!t(r)||t(c))),i=H(null),{height:g}=Et(i),v=_(()=>({maxHeight:`${g.value}px`})),y=_(()=>wt(n.inverted)?n.inverted:a.value),{siderColor:S,siderColorInverted:k,siderBorderColor:T,siderBorderColorInverted:E}=_e("Layout"),{siderColor:x,siderBorderColor:N}=_e("Layout",!0),A=_(()=>t(s)?x:t(y)?k:S),w=_(()=>t(s)?N:t(y)?E:T);we(()=>({"mix-sider-bg-color":t(A),"mix-sider-border-color":t(w)}));const C=_(()=>({width:ke(n.width)}));return(O,$)=>{const m=Vt;return u(),B("div",{class:V(t(o))},[I("div",{class:V(`${t(o)}_wrapper`)},[I("div",{class:"menu_wrapper",style:oe(t(C))},[ye(O.$slots,"header"),I("div",{ref_key:"scrollEl",ref:i,class:"menu"},[f(m,{style:oe(t(v)),inverted:t(y)},{default:h(()=>[ye(O.$slots,"default")]),_:3},8,["style","inverted"])],512),ye(O.$slots,"trigger",{},()=>[t(p)?(u(),b(Ut,{key:0,collapsed:t(l),type:t(d)},null,8,["collapsed","type"])):P("",!0)])],4),O.$slots.secondaryMenu?(u(),B("div",zs,[ye(O.$slots,"secondaryMenu")])):P("",!0)],2)],2)}}}),Vs=D({__name:"LayoutSider",setup(e){const{prefixCls:n}=Y("layout-sideBar"),{getIsMobile:o}=le(),{getCollapsed:s,getRealWidth:a,getMobileWidth:d,getMenuHidden:l,getMenuInverted:c,getIsSidebarType:r,getSplit:p}=X(),i=_(()=>p.value?Q.SECONDARY:Q.NONE),g=_(()=>p.value?De.VERTICAL:null),v=_(()=>p.value?!l.value:!0),y=_(()=>c.value&&!p.value),S=_(()=>o.value?d.value:a.value);return(k,T)=>{const E=nt;return Je((u(),b(Xe,{class:V(t(n)),width:t(S),inverted:t(y)},{header:h(()=>[t(r)?(u(),b(E,{key:0,class:"flex-ac h-64px",collapsed:t(s),"title-color":t(c)?"white":void 0},null,8,["collapsed","title-color"])):P("",!0)]),default:h(()=>[f(lt,{"menu-mode":t(g),"split-type":t(i),inverted:t(y)},null,8,["menu-mode","split-type","inverted"])]),_:1},8,["class","width","inverted"])),[[Rt,t(v)]])}}}),Us={class:"header_wrapper"},Gs={class:"title font-segoe"},Ws={name:"LayoutMixSider",directives:{clickOutside:so}},js=D(Ie(re({},Ws),{setup(e){we(L=>({"3630a3d8":t(M),36152966:t($)}));const n=H(),o=H(""),s=H(),a=H(!1),d=H(),l=Ne({borderLeftColor:"transparent",borderRightColor:"transparent",borderWidth:void 0}),c=H(null),{prefixCls:r}=Y("layout-mix-sider"),p=Fe(),{t:i}=Le(),{getIsDarkMode:g}=me(),{getMenuWidth:v,getCloseMixSidebarOnChange:y,getMixSideTrigger:S,getMenuInverted:k,getMixSideFixed:T,mixSideHasChildrenRef:E,setMenuSetting:x,getIsMixSidebar:N,getCollapsed:A}=X(),{title:w}=Pt(),C=tt(),O=_(()=>re({left:t(T)?0:`${t(m)}px`,position:t(T)?"static":"absolute"},l)),$=_(()=>t(g)||t(k)?"white":"var(--app-primary-color)");ne(T,L=>F(this,null,function*(){const R=be(d);if(R)if(L)R.style.transitionProperty="";else{yield ie();const G=getComputedStyle(R).transitionProperty;R.style.transitionProperty=`${G}, left`}})),ne([T,a],([L,R])=>{l.borderLeftColor=L?"transparent":R?t(k)&&!t(g)?"rgb(18, 41, 64)":"var(--mix-sider-border-color)":"transparent",l.borderRightColor=L?"transparent":R?"var(--mix-sider-border-color)":"transparent",l.borderWidth=R?void 0:0},{immediate:!0}),ne([s,T],([L,R])=>{E.value=!!(L&&(L==null?void 0:L.length)>0);const G=R&&t(E);G&&(a.value=G)});const m=_(()=>t(A)?ve.COLLAPSED_WIDTH:ve.WIDTH),M=_(()=>t(A)?ve.LOGO_COLLAPSED_WRAPPER_HEIGHT:ve.LOGO_WRAPPER_HEIGHT),q=_(()=>t(A)?ve.LOGO_COLLAPSED_SIZE:ve.LOGO_SIZE),ee=_(()=>t(T)?{}:{onMouseleave:se});bt(()=>F(this,null,function*(){n.value=yield Ze()})),ne([()=>C.getLastBuildMenuTime,()=>C.getBackMenuList],()=>F(this,null,function*(){n.value=yield Ze()}),{immediate:!0}),Dt(L=>{c.value=L,U(!0),t(y)&&ue()});function j(L,R=!1){return F(this,null,function*(){const G=yield Pe(L);if(t(o)===L?(R?t(a)||(a.value=!0):t(a)?ue():a.value=!0,t(a)||U()):(a.value=!0,o.value=L),!G||G.length===0){R||p(L),s.value=[],ue();return}s.value=G})}function U(L=!1){return F(this,null,function*(){var G;const R=(G=c.value)==null?void 0:G.path;if(R&&(o.value=yield Ae(R),t(N))){const de=(n.value||[]).find(pe=>pe.path===t(o)),he=de==null?void 0:de.path;if(he){const pe=yield Pe(he);L&&(s.value=pe,t(T)&&(a.value=pe.length>0)),pe.length===0&&(s.value=[])}}})}function se(){U(!0),ue()}function J(L){return t(S)==="hover"?{onMouseenter:()=>j(L.path,!0),onClick:()=>F(this,null,function*(){const R=yield Pe(L.path);L.path&&R&&R.length===0&&p(L.path)})}:{onClick:()=>j(L.path)}}function Ee(){x({mixSideFixed:!t(T)})}function ue(){const L=t(s);t(T)?(!L||L.length===0)&&(a.value=!1):a.value=!1}const Re=L=>{var R;return fe("div",re({class:"item_wrapper"},J(L)),[fe(We,{useTranstion:!0,size:A.value?18:22,icon:L.icon||L.meta&&L.meta.icon}),fe("p",{class:"item_label"},i((R=L==null?void 0:L.label)!=null?R:""))])};return(L,R)=>{const G=nt,$e=Mt,de=wn("click-outside");return Je((u(),b(Xe,Tn({class:[t(r),{mini:t(A)}],width:t(m)},t(ee)),{header:h(()=>[f(G,{class:V(`${t(r)}-logo`),"logo-size":t(q),"show-title":!1,"is-static":""},null,8,["class","logo-size"])]),default:h(()=>[f($e,{value:t(o),"onUpdate:value":R[0]||(R[0]=he=>Ue(o)?o.value=he:null),indent:0,options:t(n),inverted:t(k),"key-field":"path",class:V(`${t(r)}-menu`),"render-icon":()=>null,"render-label":Re},null,8,["value","options","inverted","class"])]),secondaryMenu:h(()=>[f(Xe,{ref_key:"sideRef",ref:d,class:V(`${t(r)}-secondary-menu_wrapper`),style:oe(t(O)),width:t(a)?t(v):0,trigger:!1},{header:h(()=>[I("div",Us,[I("span",Gs,K(t(w)),1),f(We,{size:16,icon:t(T)?"ri:pushpin-2-fill":"ri:pushpin-2-line",color:t(k)||t(g)?"white":void 0,class:"pushpin",onClick:Ee},null,8,["icon","color"])])]),default:h(()=>[f(lt,{inverted:t(k),"split-type":t(Q).SECONDARY,"parent-path":t(o),"global-split":"","no-collapsed":""},null,8,["inverted","split-type","parent-path"])]),_:1},8,["class","style","width"])]),_:1},16,["class","width"])),[[de,se]])}}})),Ks=D({name:"SiderWrapper",components:{Sider:Vs,MixSider:js},setup(){const{prefixCls:e}=Y("layout-sider-wrapper"),{getIsMobile:n}=le(),{setMenuSetting:o,getShowSidebar:s,getIsMixSidebar:a,getMobileWidth:d,getCollapsed:l}=X();function c(r){o({collapsed:!r})}return{prefixCls:e,getMobileWidth:d,getShowSidebar:s,getIsMobile:n,getIsMixSidebar:a,getCollapsed:l,handleChange:c}}});function Zs(e,n,o,s,a,d){const l=z("Sider"),c=St,r=Lt,p=z("MixSider");return e.getShowSidebar||e.getIsMobile?(u(),B(Ce,{key:0},[e.getIsMobile?(u(),b(r,{key:0,placement:"left",class:V(e.prefixCls),width:e.getMobileWidth,show:!e.getCollapsed,"onUpdate:show":e.handleChange},{default:h(()=>[f(c,{"body-content-style":"padding:0;"},{default:h(()=>[f(l)]),_:1})]),_:1},8,["class","width","show","onUpdate:show"])):e.getIsMixSidebar?(u(),b(p,{key:1})):(u(),b(l,{key:2}))],64)):P("",!0)}const Xs=ce(Ks,[["render",Zs]]);function Xt(){const e=Ft(),n=_(()=>e.getMultiTabsSetting.show);function o(s){e.setProjectConfig({multiTabsSetting:s})}return{setMultipleTabSetting:o,getShowMultipleTab:n}}function Ys(){const e=Se(),{currentRoute:n}=e,{getShowMultipleTab:o}=Xt(),s=ze(),a=_(()=>l($t(e.getRoutes()))||[]),d=_(()=>s.getTabList.reduce((p,i)=>(i.meta&&Reflect.has(i.meta,"frameSrc")&&p.push(i.name),p),[]));function l(p){let i=[];for(const g of p){const{meta:{frameSrc:v}={},children:y}=g;v&&i.push(g),y&&y.length&&i.push(...l(y))}return i=Mn(i,"name"),i}function c(p){return p.name===t(n).name}function r(p){return t(o)?t(d).includes(p):e.currentRoute.value.name===p}return{hasRenderFrame:r,getFramePages:a,showIframe:c,getAllFramePages:l}}const qs=D({name:"FrameLayout",components:{FramePage:ao},setup(){const{getFramePages:e,hasRenderFrame:n,showIframe:o}=Ys(),s=_(()=>t(e).length>0);return{getFramePages:e,hasRenderFrame:n,showIframe:o,showFrame:s}}}),Js={key:0};function Qs(e,n,o,s,a,d){const l=z("FramePage");return e.showFrame?(u(),B("div",Js,[(u(!0),B(Ce,null,It(e.getFramePages,c=>{var r;return u(),B(Ce,{key:c.path},[(r=c.meta)!=null&&r.frameSrc&&e.hasRenderFrame(c.name)?Je((u(),b(l,{key:0,"frame-src":c.meta.frameSrc},null,8,["frame-src"])),[[Rt,e.showIframe(c)]]):P("",!0)],64)}),128))])):P("",!0)}const ea=ce(qs,[["render",Qs]]),ta=D({name:"PageLayout",components:{FrameLayout:ea},setup(){const e=H("readly"),n=H("fade-slide"),{getCanEmbedIFramePage:o}=me();Nn({pageTranstionName:n,pageTranstionState:e});const{openCache:s,getCaches:a,getKey:d}=ro(n);return{openCache:s,getCaches:a,getKey:d,pageTranstionName:n,handleStart:()=>{e.value="readly"},handleEnter:()=>{e.value="running"},handleEnd:()=>{e.value="finshed"},getCanEmbedIFramePage:o}}});function na(e,n,o,s,a,d){const l=z("RouterView"),c=z("FrameLayout");return u(),B(Ce,null,[f(l,null,{default:h(({Component:r})=>[f(Be,{name:e.pageTranstionName,mode:"out-in",appear:"",onBeforeEnter:e.handleStart,onEnter:e.handleEnter,onAfterEnter:e.handleEnd},{default:h(()=>[e.openCache?(u(),b(En,{key:0,include:e.getCaches},[(u(),b(Ge(r),{key:e.getKey}))],1032,["include"])):(u(),b(Ge(r),{key:e.getKey}))]),_:2},1032,["name","onBeforeEnter","onEnter","onAfterEnter"])]),_:1}),e.getCanEmbedIFramePage?(u(),b(c,{key:0})):P("",!0)],64)}const oa=ce(ta,[["render",na]]),sa={class:"flex-1"},aa=D({__name:"index",setup(e){const n=H(),o=H(),s=Rn(),{prefixCls:a}=Y("layout-content"),{getOpenPageLoading:d}=Xn(),{getPageLoading:l}=me(),{width:c,height:r}=Et(o),{emit:p}=lo();$n(o,p),Fn({width:c,height:r});const i=_(()=>{var g;return d.value&&!((g=s.meta)!=null&&g.hideLoading)&&l.value});return Yn(()=>F(this,null,function*(){const g=n.value;g&&(yield qe(300),g.scrollTo({left:0,top:0}))})),(g,v)=>{const y=qn,S=In,k=kt,T=xn;return u(),B("main",{ref_key:"contentEl",ref:o,class:V(["transform-gpu transform",[t(a)]])},[f(y,{show:t(i)},null,8,["show"]),f(T,{embedded:"",class:"h-full",position:"absolute"},{default:h(()=>[f(k,{ref_key:"scrollBarEl",ref:n,style:oe({maxHeight:`${t(r)}px`})},{default:h(()=>[f(S,{right:40,bottom:60}),I("div",{class:"flex flex-col",style:oe({minHeight:`${t(r)}px`})},[I("div",sa,[f(oa)]),ye(g.$slots,"footer")],4)]),_:3},8,["style"])]),_:3})],2)}}}),ra=D({__name:"TabRedo",setup(e){const n=H(!1),{refreshPage:o}=zt();function s(){return F(this,null,function*(){const a=Date.now();n.value=!0,yield o(),yield qe(1200-(Date.now()-a)%1200),n.value=!1})}return(a,d)=>(u(),B("div",{class:"app-mtabs-anction-btn-wrapper group",onClick:s},[I("span",{class:V(["i-codicon-refresh app-mtabs-anction-btn",{"app-ease-spin animate-duration-1200":t(n)}])},null,2)]))}});var Z=(e=>(e[e.REFRESH_PAGE=0]="REFRESH_PAGE",e[e.TOGGLE_FULL_SCREEN=1]="TOGGLE_FULL_SCREEN",e[e.CLOSE_CURRENT=2]="CLOSE_CURRENT",e[e.CLOSE_LEFT=3]="CLOSE_LEFT",e[e.CLOSE_RIGHT=4]="CLOSE_RIGHT",e[e.CLOSE_OTHER=5]="CLOSE_OTHER",e[e.CLOSE_ALL=6]="CLOSE_ALL",e[e.SCALE=7]="SCALE",e))(Z||{});function la(e,n){const o=Ne({current:null,currentIndex:0}),{t:s}=Le(),a=ze(),{currentRoute:d}=Se(),{refreshPage:l,closeAll:c,close:r,closeLeft:p,closeOther:i,closeRight:g}=zt(),v=_(()=>t(n)?e.tabItem:t(d)),{getShowMenu:y,setMenuSetting:S}=X(),{getShowHeader:k,setHeaderSetting:T}=Zt(),E=On(_t(y),_t(k));function x(){const C=E.value;S({show:C,hidden:!C}),T({show:C})}const N=_(()=>{if(!t(v))return;const{path:C}=t(d),O=o.current,$=O?O.path===C:!1,m=o.currentIndex,M=m===0||!$,q=a.getTabList.length===1,ee=!$||m===a.getTabList.length-1&&a.getLastDragEndIndex>=0,j=[{key:Z.TOGGLE_FULL_SCREEN,label:s("layout.multipleTab.toggleFullScreen"),iconName:E.value?"i-radix-icons-exit-full-screen":"i-radix-icons-enter-full-screen"},{type:"divider",key:"d2"},{key:Z.CLOSE_LEFT,label:s("layout.multipleTab.closeLeft"),disabled:M,iconName:"i-ph:arrow-line-left-bold"},{key:Z.CLOSE_RIGHT,label:s("layout.multipleTab.closeRight"),disabled:ee,iconName:"i-ph:arrow-line-right-bold"},{key:Z.CLOSE_OTHER,label:s("layout.multipleTab.closeOther"),disabled:q||!$,iconName:"i-dashicons:align-center"},{key:Z.CLOSE_ALL,label:s("layout.multipleTab.closeAll"),disabled:q,iconName:"i-clarity:minus-line"}];return n.value?j.slice(2):j});function A(C){return O=>{if(!C)return;O==null||O.preventDefault();const $=a.getTabList.findIndex(m=>m.path===C.path);o.current=C,o.currentIndex=$}}function w(C){switch(C){case Z.REFRESH_PAGE:l();break;case Z.TOGGLE_FULL_SCREEN:x();break;case Z.CLOSE_CURRENT:r(e.tabItem);break;case Z.CLOSE_LEFT:p();break;case Z.CLOSE_RIGHT:g();break;case Z.CLOSE_OTHER:i();break;case Z.CLOSE_ALL:c();break}}return{getDropMenuList:N,handleMenuEvent:w,handleContextMenu:A}}const ia=D({name:"TabContent",props:{tabItem:{type:Object,default:null},isExtra:Boolean},setup(e){const{prefixCls:n}=Y("multiple-tabs-content"),{t:o}=Le(),s=Ne({x:0,y:0}),a=Pn(!1),d=_(()=>{const{tabItem:{meta:w}={}}=e;return w&&o(w.title)}),l=_(()=>!e.isExtra),c=_(()=>t(l)?s.x:void 0),r=_(()=>t(l)?s.y:void 0),p=_(()=>t(l)?t(a):void 0),i=_(()=>t(l)?x:void 0),g=_(()=>t(l)?"manual":"click"),v=_(()=>t(l)?"bottom-start":"bottom-end"),{getDropMenuList:y,handleMenuEvent:S,handleContextMenu:k}=la(e,l);function T(w){return F(this,null,function*(){e.tabItem&&(w.preventDefault(),a.value=!1,yield ie(),s.x=w.clientX,s.y=w.clientY,a.value=!0,k(e.tabItem)(w))})}function E(w){e.tabItem&&k(e.tabItem)(w)}function x(){a.value=!1}function N(w){S(w),x()}function A(w){return f("i",{class:`${w.iconName} z-1 text-4`},null)}return()=>f(Ce,null,[t(l)&&f("div",{class:`${n}__info py-1 pl-2`,onContextmenu:T},[f("span",null,[t(d)])]),f(Bn,{x:t(c),y:t(r),show:t(p),onSelect:N,onClickoutside:t(i),options:t(y),"render-label":({label:w})=>w,"render-icon":A,trigger:t(g),placement:t(v)},{default:()=>[!t(l)&&f("div",{class:"app-mtabs-anction-btn-wrapper group",onClick:E},[f("span",{class:"i-fluent-options-48-regular app-mtabs-anction-btn"},null)])]})])}});function ca(){const e=H([]),n=ze(),o=Se();function s(l){const c=[];return l&&l.forEach(r=>{r.meta&&r.meta.affix&&c.push($t(r))}),c}function a(){const l=s(o.getRoutes());e.value=l;for(const c of l)n.addTab({meta:c.meta,name:c.name,path:c.path})}let d=!1;return d||(a(),d=!0),e.value.map(l=>{var c;return(c=l.meta)==null?void 0:c.title}).filter(Boolean)}const ua=D({name:"MultipleTabs",components:{TabRedo:ra,TabContent:ia},setup(){ca();const e=H(),n=H(),o=Se(),s=ze(),{prefixCls:a}=Y("multiple-tabs"),{getShowMultipleTab:d}=Xt(),l=Fe(),c=H({borderTop:"none",borderRadius:"0px",padding:"0px",paddingRight:"6px"}),r=_(()=>({backgroundColor:Jn("Layout","headerColor").value})),p=_(()=>s.getTabList.filter(v=>{var y;return!((y=v.meta)!=null&&y.hideTab)}));return Dt(v=>{const{name:y}=v;if(y===Nt||!v)return;const{path:S,fullPath:k,meta:T={}}=v,{currentActiveMenu:E,hideTab:x}=T,N=x?E:null,A=N||k||S;if(n.value!==A&&(n.value=A),N){const w=o.getRoutes().find(C=>C.path===E);w&&s.addTab(w)}else s.addTab(t(v))}),ne(()=>n.value,v=>{ie(()=>{var S;if(!v)return;const y=(S=be(e))==null?void 0:S.querySelector(`[data-name="${v}"]`);y&&setTimeout(()=>{y.scrollIntoView({behavior:"smooth"})},50)})},{immediate:!0}),Tt(()=>be(e),v=>{const y=v.querySelector(".n-tabs-nav");y.style.minHeight=`${Qn}px`}),{activeKeyRef:n,panels:p,tabsElRef:e,handleClose:v=>{s.closeTabByKey(v,o)},handleTabChange:v=>{n.value=v,l(v,!1)},prefixCls:a,getTabStyle:c,getWrapperStyle:r,getShowMultipleTab:d}}}),da=I("div",{class:"placeholder"},null,-1),pa={class:"flex h-full w-18"};function ga(e,n,o,s,a,d){const l=z("TabContent"),c=Hn,r=z("TabRedo"),p=An;return e.getShowMultipleTab?(u(),B("div",{key:0,style:oe(e.getWrapperStyle),class:V(e.prefixCls)},[f(p,{ref:"tabsElRef",value:e.activeKeyRef,"onUpdate:value":[n[0]||(n[0]=i=>e.activeKeyRef=i),e.handleTabChange],type:"card",size:"small",closable:"","tab-style":e.getTabStyle,onClose:e.handleClose},{prefix:h(()=>[da]),suffix:h(()=>[I("div",pa,[f(l,{"is-extra":"","tab-item":e.$route},null,8,["tab-item"]),f(r)])]),default:h(()=>[(u(!0),B(Ce,null,It(e.panels,i=>{var g,v;return u(),b(c,{key:i.path||i.fullPath,name:i.path||i.fullPath,class:V({"!pr-2":(g=i==null?void 0:i.meta)==null?void 0:g.affix}),closable:!((v=i==null?void 0:i.meta)!=null&&v.affix)},{default:h(()=>[f(l,{"tab-item":i},null,8,["tab-item"])]),_:2},1032,["name","class","closable"])}),128))]),_:1},8,["value","tab-style","onClose","onUpdate:value"])],6)):P("",!0)}const fa=ce(ua,[["render",ga]]),_a=D({name:"DefaultLayout",components:{LayoutSider:Xs,LayoutHeader:Ds,LayoutContent:aa,LayoutFooter:io,MTabs:fa},setup(){const{prefixCls:e}=Y("default-layout"),{getMenuType:n}=X(),{runLog:o}=co();return{getLayoutCls:_(()=>{let a="";switch(n.value){case xe.SIDEBAR:a=Oe.SIDEBAR;break;case xe.MIX_SIDEBAR:a=Oe.MIX_SIDEBAR;break;case xe.MIX:a=Oe.MIX;break;case xe.TOP_MENU:a=Oe.TOP_MENU;break}return`${a}`}),prefixCls:e,runLog:o}}});function ma(e,n,o,s,a,d){const l=z("LayoutHeader"),c=z("LayoutSider"),r=z("MTabs"),p=z("LayoutFooter"),i=z("LayoutContent"),g=Yo;return u(),B("div",{class:V([e.prefixCls,e.getLayoutCls])},[f(l),f(c),f(r),f(i,null,{footer:h(()=>[f(p)]),_:1}),f(g,{ref:"runLog"},null,512)],2)}const xa=ce(_a,[["render",ma]]);export{xa as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./UserDropdown-JqupRVNA.js","./vendor-tP7MJkVm.js","./vendor-vWBeemth.css","./index-YWZYq8iG.js","./index-zEJZ9m4X.css","./Breadcrumb-HrMQC1v0.js","./Icon-b2WQYhf_.js","./propTypes-LGH0h7_d.js","./index-KX-tFjxQ.js","./useDesign-7GyM2Hwu.js","./DarkModeToggle-nFhon69C.js","./moon-osndrlCn.js","./LocalePicker-iJBtfs-f.js","./language-Q5I6a_V3.js","./useLocale-mNzPju1N.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}