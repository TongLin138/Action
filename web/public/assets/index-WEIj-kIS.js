var $=(A,g,S)=>new Promise((m,o)=>{var he=N=>{try{Q(S.next(N))}catch(E){o(E)}},K=N=>{try{Q(S.throw(N))}catch(E){o(E)}},Q=N=>N.done?m(N.value):Promise.resolve(N.value).then(he,K);Q((S=S.apply(A,g)).next())});import{_ as vl}from"./PageWrapper.vue_vue_type_style_index_0_lang-dycZnHT_.js";import{a as _t,r as Be,m as Re,g as mt,b as yl,c as vt,u as yt,d as gl,e as bl,f as hl}from"./create-1CACe2pt.js";import{_ as kl,a as xl,b as wl}from"./sliders-horizontal-bold-vyzFljLz.js";import{d as Fe,c as Cl,a as $l,_ as zl}from"./index-BeP8DsMB.js";import{_ as Dl}from"./search2-line-zBtWZXsE.js";import{_ as Ml}from"./shortcut-dsQbhps1.js";import{_ as Pl,a as Il}from"./find-replace-NSyJ9kOt.js";import{_ as Tl}from"./swap-outlined-EmPlqTw7.js";import{a7 as _,aJ as J,at as z,a8 as k,a9 as a,aa as l,aN as c,H as Bl,x as Rl,y as d,aL as Sl,aM as Nl,au as Fl,u as e,ay as ye,aC as x,an as h,aE as H,aO as T,aI as y,aS as F,aD as W,ax as El,av as Ul,aZ as Ol,bi as Se,am as u,bO as Hl,bw as Ll,bd as ql,aQ as Al,aR as Vl,bA as jl,b3 as Wl,bP as Kl,bz as Ql,bQ as Yl,bD as Jl,bY as Xl,bS as Gl,aT as Zl,bT as ea,aK as ta,bG as la,aP as aa,bH as na,bI as oa,bJ as sa,bK as ia,bL as ra,bx as gt,c3 as ua}from"./vendor--53G7TFY.js";import{d as ca,c as da,_ as pa,a as fa,b as _a,e as ma}from"./close-to-menu-alt-transition-J7d9Dxsc.js";import{_ as va}from"./index.vue_vue_type_style_index_0_lang-POY4VtHw.js";import{_ as ya}from"./runParamModal.vue_vue_type_script_setup_true_lang-wMI0hVWz.js";import{u as ga}from"./useAppInject-4CezJXac.js";import{u as ba}from"./useTransition-4NA9ntj9.js";import{d as Ne,a as ha,f as ka,b as xa,c as bt}from"./delete-hyih3ozW.js";import{s as wa,f as ht,g as kt,a as Ca,c as $a,d as za,e as xt,h as Da,i as Ma}from"./file-t38khhI7.js";import{c as ge,f as re,a as Pa,b as wt}from"./index-mha2uNNI.js";import{f as be}from"./filePrefix-mz56KsCB.js";import{f as Ct}from"./folderEmpty-vMWcUIOA.js";import"./sharp-arrow-back-ios-8mKfxEIv.js";import"./useDesign-WRqooCBp.js";import"./clock-edit-outline-snRpqneo.js";import"./more-horiz-X0395mZf.js";import"./content-copy-wxzOstfv.js";import"./propTypes-qKSNSMFe.js";import"./useRunLog-1CmBzH4c.js";const Ia={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Ta=z("path",{fill:"currentColor",d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7zm2 16H5V5h11.17L19 7.83zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3s3-1.34 3-3s-1.34-3-3-3M6 6h9v4H6z"},null,-1),Ba=[Ta];function Ra(A,g){return _(),J("svg",Ia,[...Ba])}const Sa={name:"mdi-content-save-outline",render:Ra},Na={};function Fa(A,g){const S=Sa,m=c;return _(),k(m,null,{default:a(()=>[l(S,{style:{"vertical-align":"baseline"}})]),_:1})}const $t=Fe(Na,[["render",Fa]]),Ea={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Ua=z("path",{fill:"currentColor",d:"M19 7h-2.81c-.45-.8-1.07-1.5-1.82-2L16 3.41L14.59 2l-2.17 2.17a6.002 6.002 0 0 0-2.83 0L7.41 2L6 3.41L7.62 5c-.75.5-1.36 1.21-1.81 2H3v2h2.09c-.06.33-.09.66-.09 1v1H3v2h2v1c0 .34.03.67.09 1H3v2h2.81A6.002 6.002 0 0 0 13 19.65V19c0-.57.09-1.14.25-1.69c-.66.45-1.45.69-2.25.69c-2.21 0-4-1.79-4-4v-4c0-2.21 1.79-4 4-4s4 1.79 4 4v4c0 .19 0 .39-.05.58c.59-.54 1.29-.96 2.05-1.23V13h2v-2h-2v-1c0-.34-.03-.67-.09-1H19zm-6 2v2H9V9zm0 4v2H9v-2zm4 3v6l5-3z"},null,-1),Oa=[Ua];function Ha(A,g){return _(),J("svg",Ea,[...Oa])}const La={name:"mdi-bug-play-outline",render:Ha},qa={};function Aa(A,g){const S=La,m=c;return _(),k(m,null,{default:a(()=>[l(S,{style:{"vertical-align":"baseline"}})]),_:1})}const zt=Fe(qa,[["render",Aa]]),Va={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},ja=z("path",{fill:"currentColor",d:"M13 19c0 .34.04.67.09 1H6.5c-1.5 0-2.81-.5-3.89-1.57C1.54 17.38 1 16.09 1 14.58c0-1.3.39-2.46 1.17-3.48S4 9.43 5.25 9.15c.42-1.53 1.25-2.77 2.5-3.72S10.42 4 12 4c1.95 0 3.6.68 4.96 2.04C18.32 7.4 19 9.05 19 11c1.15.13 2.1.63 2.86 1.5c.51.57.84 1.21 1 1.92A5.908 5.908 0 0 0 19 13h-2v-2c0-1.38-.5-2.56-1.46-3.54C14.56 6.5 13.38 6 12 6s-2.56.5-3.54 1.46C7.5 8.44 7 9.62 7 11h-.5c-.97 0-1.79.34-2.47 1.03c-.69.68-1.03 1.5-1.03 2.47s.34 1.79 1.03 2.5c.68.66 1.5 1 2.47 1h6.59c-.05.33-.09.66-.09 1m7-1v-3h-2v3h-3v2h3v3h2v-3h3v-2z"},null,-1),Wa=[ja];function Ka(A,g){return _(),J("svg",Va,[...Wa])}const Qa={name:"mdi-cloud-plus-outline",render:Ka},Ya={key:1,class:"font-bold text-xl"},Ja={key:2},Xa={class:"font-bold text-xl"},Ga={class:"pb-1 mr-3"},Za={class:"pb-1 mr-3"},en={style:{"margin-bottom":"12px"}},tn=Bl({__name:"index",setup(A){const{message:g,confirm:S}=Cl(),{getIsMobile:m}=ga(),{t:o}=$l(),he=Rl(),K=d("fade-slide");ba(K);const Q=d(),N=d(),E=d(o("routes.main.page.script.manage")),ke=d([]),xe=d([]),ue=d([]),L=d(""),Ee=d([]),Ue=d(0),Oe=d(0),U=d([]),Dt=d(""),He=d(""),Le=d(""),X=d(!m.value),G=d(m.value?"on":"off"),we=d(!1),V=d(m.value?13:15),P=d([]),O=d({}),Y=d(""),ce=d(!1),Z=d(!1),ee=d(!1),te=d(!1),le=d(!1),R=d(!1),B=d(void 0),Ce=d(!1),de=d(!0),ae=d(!1),ne=d(!1),f=d(null),p=d({}),D=d({}),pe=d(""),M=d({type:1,name:"",dir:""}),I=n=>$(this,null,function*(){switch(n){case"findBox":we.value=!we.value,R.value=!1;break;case"wordWrap":G.value=G.value==="on"?"off":"on",R.value=!1;break;case"minimap":X.value=!X.value,R.value=!1;break;case"showEditorShortcutsInfo":e(U.value)[`editor-${f.value.key}`].showShortCuts();break;case"siderCollapse":B.value=!B.value;break;case"save":Ce.value=!0;const t=e(U.value)[`editor-${f.value.key}`].getValue();try{yield wa({content:t,path:f.value.key}),g.success(o("editor.main.savedSuccess")),O.value[f.value.key].content=t}finally{Ce.value=!1}break;case"clickContextMenu":ce.value=!1;break;case"exitContextMenu":ce.value=!1,b("contextMenu");break}}),Mt=n=>{if(!f.value)return;const t=f.value.key;n!==t&&(O.value[t].content=e(U.value)[`editor-${t}`].getValue())},fe=n=>{P.value.forEach(t=>{t.key===n&&(E.value=t.label,Y.value=n,f.value=t)})},oe=n=>{P.value.forEach((t,r)=>{t.key===n&&(P.value.splice(r,1),delete O.value[t.key],delete U.value[`editor-${t.key}`],P.value.length>0?Y.value===n&&fe(P.value[P.value.length-1].key):(b("content"),b("tmpData"),Ve(t.key)))})},Pt=n=>{Mt(n),fe(n)},It=n=>{oe(n.value)},se=(n,t,r)=>{if(!r.node)return;const s=r.node,v=s.title;switch(r.action){case"expand":s.prefix=()=>u(c,null,{default:()=>u(ge.open[v]||Pa)});break;case"collapse":s.prefix=()=>u(c,null,{default:()=>u(ge.close[v]||re)});break}},Tt=n=>u(F,{placement:"left",delay:1500,duration:500,showArrow:!1,overlap:!0,style:{width:"max-content",fontSize:"12px",right:"26px"}},{trigger:()=>n.option.label,default:()=>u(x,{style:"gap: 4px"},{default:()=>[n.option.key,u(h,{text:!0,type:"primary",focusable:!1,onClick:()=>Et(n.option.key)},{default:()=>u(da)})]})}),qe=(n,t,r)=>$(this,null,function*(){if(r.action!=="select")return;const s=r.node;if(s.isDir||s.disabled)return;m.value&&(B.value=!0),P.value.find(C=>C.key===s.key)||(yield Ae(s.key,s.language),P.value.push(s)),fe(s.key)}),Bt=r=>$(this,[r],function*({node:n,dragNode:t}){if(!n.isDir)return;const s=t.key,v=`${n.key}${s.includes("\\")?"\\":"/"}${t.label}`;if(s!==v)try{yield ht({path:s,newPath:v}),g.success(o("file.move.success")),oe(s),j()}catch(C){}}),$e=(n,t,r)=>{switch(r.action){case"select":r.node&&(D.value=r.node,M.value.dir=r.node.key);break;case"delete":case"clear":case"unselect":b("treeSelect");break}},Rt=n=>$(this,null,function*(){const t=r=>{r.length&&r.forEach(s=>{if(s.type===0)Object.assign(s,{key:s.path,label:s.title,isDir:!0,canRun:!1,disabled:!1,icon:()=>u(re),prefix:()=>u(c,null,{default:()=>u(ge.close[s.title]||re)})}),t(s.children),s.children.length||(Object.assign(s,{children:null}),s.prefix=()=>u(c,null,{default:()=>u(Ct)}));else{const v=s.name;if(v){const C=v.substring(v.lastIndexOf(".")+1),w=wt[C]||{};Object.assign(s,{key:s.path,label:v,isDir:!1,language:w.language||"plaintext",canRun:w.canRun||!1,disabled:w.disabled||!w.language,icon:()=>u(w.icon||be),prefix:()=>u(c,null,{default:()=>u(w.icon||be)})})}}})};return t(n),n}),St=n=>$(this,null,function*(){const t=r=>{r.length&&r.forEach(s=>{s.type===0&&(Object.assign(s,{key:s.path,label:s.title,isDir:!0,canRun:!1,disabled:!1,icon:()=>u(re),prefix:()=>u(c,null,{default:()=>u(ge.close[s.title]||re)})}),t(s.children),s.children.length||(Object.assign(s,{children:null}),s.prefix=()=>u(c,null,{default:()=>u(Ct)})))})};return t(n),n}),Nt=({option:n})=>({onContextmenu(t){Ee.value=ze("ContextMenu",{option:n}),ce.value=!0,Ue.value=t.clientX,Oe.value=t.clientY,t.preventDefault(),p.value=n}}),ze=(n,{option:t})=>{const r={save:{label:o("file.save.button"),key:"save",icon:()=>u(c,null,{default:()=>u($t)}),props:{onClick:()=>{I("save")}}},run:{label:o("file.run.button"),key:"run",icon:()=>u(c,null,{default:()=>u(zt)}),props:{onClick:()=>{je()}}},attribute:{label:o("file.attribute.button"),key:"attribute",icon:()=>u(c,null,{default:()=>u(_t)}),props:{onClick:()=>{Ge()}}},create:{label:o("file.create.button"),key:"create",icon:()=>u(c,null,{default:()=>u(vt)}),props:{onClick:()=>{Qt()}}},upload:{label:o("file.upload.button"),key:"upload",icon:()=>u(c,null,{default:()=>u(yt)}),props:{onClick:()=>{Gt()}}},more:{label:()=>u(Se,{style:{color:"var(--app-primary-color)"}},{default:()=>o("file.more.button")}),key:"more",icon:()=>u(c,{color:"var(--app-primary-color)"},{default:()=>u(mt)}),children:[{label:o("file.download.button"),key:"download",icon:()=>u(c,null,{default:()=>u(t.isDir?ha:ka)}),props:{onClick:()=>{Xe()}}},{label:o("file.move.button"),key:"move",icon:()=>u(c,null,{default:()=>u(Re)}),props:{onClick:()=>{We()}}},{label:o("file.rename.button"),key:"rename",icon:()=>u(c,null,{default:()=>u(Be)}),props:{onClick:()=>{Qe()}}},{type:"divider",key:"d1"},{label:()=>u(Se,{style:{color:"var(--app-error-color)"}},{default:()=>o("file.delete.button")}),key:"delete",icon:()=>u(c,{color:"var(--app-error-color)"},{default:()=>u(Ne)}),props:{onClick:()=>{Je()}}}]}};let s=[];return n==="ContextMenu"?(s=[r.attribute],t.isDir?s=[r.create,r.upload,...s,...r.more.children]:t.disabled?s=[...s,...r.more.children]:(s=[...s,r.more],t.canRun&&s.unshift(r.run))):n==="MobileHeader"?(s=[r.save,r.more.children[0],r.more.children[1],r.more.children[2],r.attribute,r.more.children[3],r.more.children[4]],t.canRun&&s.splice(1,0,r.run)):n==="HeaderSubTitle"&&(s=[r.create,r.upload]),s},j=()=>$(this,null,function*(){de.value=!0;const n=yield kt({}),t=yield Rt(n);ke.value=t,de.value=!1}),De=()=>$(this,null,function*(){ne.value=!0;const n=yield kt({isDir:"true"}),t=yield St(n);ue.value=t,ne.value=!1}),Ft=()=>$(this,null,function*(){const n=he.currentRoute.value.query.path;if(!n)return;const t=n.split("/").pop()||"",r=t.substring(t.lastIndexOf(".")+1),s=wt[r]||{},v=s.language||"plaintext";if(v)if(yield Ae(n,v),O.value[n].content){xe.value=n.split("/").slice(0,-1).map((w,Pe,ie)=>ie.slice(0,Pe+1).join("/"));const C={key:n,label:t,isDir:!1,language:v,canRun:s.canRun||!1,disabled:s.disabled||!v,icon:()=>u(s.icon||be),prefix:()=>u(c,null,{default:()=>u(s.icon||be)})};P.value.push(C),fe(C.key),m.value&&(B.value=!0)}else O.value={}}),Ae=(n,t)=>$(this,null,function*(){Dt.value=t||"plaintext",ae.value=!0;try{const r=yield Ca({path:encodeURI(n)});ae.value=!1,r?O.value[n]={content:r,language:t}:(O.value[n]={content:"",language:t},g.info(o("page.script.fileContentIsEmptyMsg")))}catch(r){b("content"),b("tmpData")}finally{ae.value=!1}}),Ve=n=>{U.value.length>0&&U.value[`editor-${n}`]&&(U.value[`editor-${n}`].dispose(),delete e(U.value)[`editor-${n}`])},Et=n=>{Hl(n)?g.success(o("common.copyOk")):g.error(o("common.copyFail"))},Me=()=>({ghost:!1,tertiary:!0}),b=n=>{switch(n){case"title":E.value=o("routes.main.page.script.manage");break;case"content":b("title"),f.value=null,Y.value="",m.value&&(B.value=!1);break;case"contextMenu":p.value=null;break;case"renameInput":pe.value="";break;case"treeSelect":D.value={},M.value.dir=void 0;break;case"createData":M.value={type:1,name:void 0,dir:void 0};break;case"tmpData":b("contextMenu"),b("renameInput"),b("treeSelect"),b("createData");break}},je=()=>{var n;He.value=p.value?p.value.key:f.value.key,Le.value=p.value?p.value.label:f.value.label;try{(n=Q.value)==null||n.open({title:Le.value,runPath:He.value})}catch(t){}finally{b("tmpData")}},Ut=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(Re)}),We=()=>{ee.value=!0,De()},Ot=()=>$(this,null,function*(){const n=p.value?p.value.key:f.value.key,t=p.value?p.value.label:f.value.label;let r=D.value?D.value.key:"";r=`${r}${n.includes("\\")?"\\":"/"}${t}`;try{yield ht({path:n,newPath:r}),g.success(o("file.move.success")),oe(n),j()}catch(s){}finally{b("tmpData")}}),Ht=()=>({disabled:!D.value}),Ke=()=>{ee.value=!1,b("treeSelect")},Lt=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(Be)}),Qe=()=>{Z.value=!0},qt=()=>$(this,null,function*(){const n=p.value?p.value.key:f.value.key;try{yield $a({path:n,name:pe.value}),g.success(o("file.rename.success")),oe(n),j()}catch(t){}finally{b("tmpData")}}),At=()=>({disabled:!pe.value}),Ye=()=>{Z.value=!1,b("tmpData")},Vt=n=>{pe.value=n},jt=n=>!["<",">","?","*","/"].some(t=>n.includes(t)),Je=()=>$(this,null,function*(){const n=p.value?p.value.key:f.value.key;S.error({title:o("file.delete.title"),content:o("file.delete.confirm"),icon:()=>u(c,{style:"vertical-align: 0"},{default:()=>u(Ne)}),closable:!1,maskClosable:!1,autoFocus:!1,positiveText:o("file.delete.button"),onPositiveClick:()=>$(this,null,function*(){try{yield za({path:n}),g.success(o("file.delete.success")),oe(n),j()}catch(t){}finally{b("tmpData")}}),onNegativeClick:()=>{b("tmpData")},negativeButtonProps:{ghost:!1,tertiary:!0}})}),Xe=()=>$(this,null,function*(){const n=p.value?p.value.key:f.value.key,t=p.value?p.value.label:f.value.label,r=p.value?p.value.isDir:f.value.isDir,s=g.info(o("file.download.wait"),{duration:0,icon:()=>u(c,null,{default:()=>u(xa)})});try{if(r){const{code:v,message:C,blob:w}=yield xt({path:n});s.destroy(),v?(g.success(o("file.download.success")),w&&bt(w,`${t}.zip`)):C&&g.error(C)}else{const{code:v,message:C,blob:w}=yield xt({path:n});s.destroy(),v?(g.success(o("file.download.success")),w&&bt(w,t)):C&&g.error(C)}}catch(v){s.destroy(),g.error(o("file.download.fail"),{keepAliveOnHover:!0})}finally{b("tmpData")}}),Ge=()=>$(this,null,function*(){var r;const n=p.value?p.value.key:f.value.key,t=p.value?p.value.isDir:f.value.isDir;try{(r=N.value)==null||r.open({path:n,isDir:t})}catch(s){}finally{b("tmpData")}}),Wt={name:{required:!0},dir:{required:!0}},Kt=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(vt)}),Qt=()=>{te.value=!0,p.value&&({label:D.value.label,key:D.value.key}=p.value,M.value.dir=D.value.key),De()},Yt=()=>$(this,null,function*(){const n=M.value.type,t=M.value.name,r=M.value.dir;try{yield Da({type:n,name:t,dir:r}),g.success(o("file.create.success")),j()}catch(s){}finally{b("tmpData")}}),Ze=()=>{te.value=!1,b("tmpData")},Jt=()=>({disabled:!D.value||!M.value.name}),Xt=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(yt)}),Gt=()=>{le.value=!0,p.value&&({label:D.value.label,key:D.value.key}=p.value),De()},Zt=({file:n,onFinish:t,onError:r,onProgress:s})=>{const v=n.name,C=new FormData;C.append("file",n.file),Ma({params:C,path:D.value.key,onUploadProgress:({progress:w})=>{s({percent:Math.ceil((w||0)*100)})}}).then(()=>{g.success(`${v} ${o("file.upload.success")}`),j(),t()}).catch(w=>{g.error(w.message,{keepAliveOnHover:!0}),r()})},el=()=>{le.value=!1,b("tmpData")};return Sl(()=>$(this,null,function*(){yield j(),Ft()})),Nl(()=>{P.value.length>0&&Ve(P.value[0].key)}),(n,t)=>{const r=pa,s=fa,v=Ll,C=_a,w=ma,Pe=Qa,ie=ql,et=kl,tt=xl,lt=Al,at=Pl,nt=Tl,ot=Il,st=Vl,tl=Ml,it=jl,rt=Dl,_e=Wl,ut=Kl,ct=Ql,me=zl,dt=Yl,ll=Jl,al=ua,nl=Xl,pt=Gl,ol=wl,sl=Zl,il=ea,ft=ta,ve=la,Ie=aa,rl=na,ul=gl,cl=oa,dl=sa,pl=bl,fl=hl,Te=ia,_l=ra,ml=vl;return _(),k(ml,{ref:"pageWrapper","content-full":""},Fl({title:a(()=>[l(e(x),null,{default:a(()=>[e(f)&&e(m)?(_(),k(ye,{key:0,name:e(K),mode:"in-out",appear:""},{default:a(()=>[l(e(h),{strong:"",tertiary:"",size:"tiny",style:{height:"29px",padding:"0 8px"},focusable:!1,onClick:t[0]||(t[0]=i=>I("siderCollapse"))},{icon:a(()=>[l(e(c),{size:20},{default:a(()=>[e(B)?(_(),k(s,{key:1,style:{"vertical-align":"baseline"}})):(_(),k(r,{key:0,style:{"vertical-align":"baseline"}}))]),_:1})]),_:1})]),_:1},8,["name"])):W("",!0),e(m)?(_(),J("div",Ja,[l(v,{style:{height:"100%","max-width":"170px"}},{tooltip:a(()=>[z("span",null,y(e(E)),1)]),default:a(()=>[z("span",Xa,y(e(E)),1)]),_:1})])):(_(),J("span",Ya,y(e(E)),1))]),_:1})]),subtitle:a(()=>[l(e(x),{style:El(e(m)?"gap: 4px":"gap: 0")},{default:a(()=>[e(m)?W("",!0):(_(),k(e(h),{key:0,strong:"",quaternary:!e(m),secondary:e(m),size:"small",focusable:!1,style:{"vertical-align":"-0.15em",padding:"6px 6px",height:"28px",width:"28px"},onClick:t[1]||(t[1]=i=>I("siderCollapse"))},{icon:a(()=>[l(e(c),{size:14},{default:a(()=>[e(B)?(_(),k(w,{key:1,style:{"vertical-align":"baseline"}})):(_(),k(C,{key:0,style:{"vertical-align":"baseline"}}))]),_:1})]),_:1},8,["quaternary","secondary"])),e(m)&&e(f)?W("",!0):(_(),k(ie,{key:1,trigger:"click",options:ze("HeaderSubTitle",{option:e(f)})},{default:a(()=>[l(e(h),{strong:"",quaternary:!e(m),secondary:e(m),size:"small",focusable:!1,style:{"vertical-align":"-0.15em",padding:"6px 6px",height:"28px",width:"28px"}},{default:a(()=>[l(e(c),{size:16},{default:a(()=>[l(Pe,{style:{"vertical-align":"baseline"}})]),_:1})]),_:1},8,["quaternary","secondary"])]),_:1},8,["options"]))]),_:1},8,["style"])]),default:a(()=>[l(ft,{bordered:!e(m),style:{height:"100%","word-break":"unset"},"content-style":"padding: 0; height: 100%"},{default:a(()=>[l(il,{"has-sider":"",style:{height:"100%"},"content-style":"height: 100%"},{default:a(()=>[e(m)?(_(),k(dt,{key:1,class:"scripts-container",width:"100%","content-style":"display: flex; flex-direction: column; height: 100%; padding: .8em 0 0 .8em",bordered:!1,"collapsed-width":0,"show-collapsed-content":!1,"native-scrollbar":!1,collapsed:e(B),"on-update:collapsed":i=>B.value=i},{default:a(()=>[z("div",Za,[l(_e,{value:e(L),"onUpdate:value":t[23]||(t[23]=i=>H(L)?L.value=i:null),clearable:"",size:"small",style:{"margin-bottom":".5em"},placeholder:e(o)("page.script.searchInputPlaceholder")},{prefix:a(()=>[l(rt)]),_:1},8,["value","placeholder"])]),l(ct,{"x-scrollable":"",class:"flex-1 pr-3"},{default:a(()=>[l(ut,{"expand-on-click":"","block-line":"",style:{"font-size":"15px"},"show-irrelevant-nodes":!1,pattern:e(L),data:e(ke),"default-expanded-keys":e(xe),"on-update:expanded-keys":se,"on-update:selected-keys":qe},null,8,["pattern","data","default-expanded-keys"]),l(ll,{right:20,bottom:20})]),_:1}),l(me,{show:e(de)},null,8,["show"])]),_:1},8,["collapsed","on-update:collapsed"])):(_(),k(dt,{key:0,class:"scripts-container",width:"320","content-style":"display: flex; flex-direction: column; height: 100%; padding: .8em 0 0 .8em",bordered:!e(B),"collapsed-width":0,"show-collapsed-content":!1,"native-scrollbar":!1,collapsed:e(B),"on-update:collapsed":i=>B.value=i},{default:a(()=>[z("div",Ga,[l(_e,{value:e(L),"onUpdate:value":t[20]||(t[20]=i=>H(L)?L.value=i:null),clearable:"",style:{"margin-bottom":".5em"},placeholder:e(o)("page.script.searchInputPlaceholder")},{prefix:a(()=>[l(rt)]),_:1},8,["value","placeholder"])]),l(ct,{"x-scrollable":"",class:"flex-1 pr-3"},{default:a(()=>[l(ut,{"expand-on-click":"",draggable:"","show-line":"","show-irrelevant-nodes":!1,"node-props":Nt,pattern:e(L),data:e(ke),"default-expanded-keys":e(xe),"render-label":Tt,"on-update:expanded-keys":se,"on-update:selected-keys":qe,onDrop:Bt},null,8,["pattern","data","default-expanded-keys"]),l(ie,{trigger:"manual",placement:"bottom-start",show:e(ce),options:e(Ee),x:e(Ue),y:e(Oe),onSelect:t[21]||(t[21]=i=>I("clickContextMenu")),onClickoutside:t[22]||(t[22]=i=>I("exitContextMenu"))},null,8,["show","options","x","y"])]),_:1}),l(me,{show:e(de)},null,8,["show"])]),_:1},8,["bordered","collapsed","on-update:collapsed"])),e(P).length>0?(_(),k(pt,{key:2,class:"tab-panel"},{default:a(()=>[l(nl,{value:e(Y),"onUpdate:value":t[24]||(t[24]=i=>H(Y)?Y.value=i:null),"drag-sort":"",style:{height:"100%",width:"100%",display:"flex","flex-direction":"column"},theme:"card",onChange:Pt,onRemove:It},{default:a(()=>[(_(!0),J(Ol,null,Ul(e(P),i=>(_(),k(al,{key:i.key,value:i.key,removable:"",style:{height:"100%",width:"100%",padding:"0"},"destroy-on-hide":!1},{label:a(()=>[e(m)?(_(),k(e(x),{key:1,style:{gap:"4px"}},{default:a(()=>[l(e(c),{size:16},{default:a(()=>[(_(),k(gt(i.icon),{style:{"vertical-align":"-0.3em"}}))]),_:2},1024),T(" "+y(i.label),1)]),_:2},1024)):(_(),k(e(F),{key:0,placement:"top",trigger:"hover","show-arrow":!1,delay:1e3},{trigger:a(()=>[l(e(x),{style:{gap:"4px"}},{default:a(()=>[l(e(c),{size:16},{default:a(()=>[(_(),k(gt(i.icon),{style:{"vertical-align":"-0.3em"}}))]),_:2},1024),T(" "+y(i.label),1)]),_:2},1024)]),default:a(()=>[z("span",null,y(i.key),1)]),_:2},1024))]),default:a(()=>[l(ye,{name:"fade",mode:"out-in",appear:""},{default:a(()=>[l(va,{ref_for:!0,ref:q=>e(U)[`editor-${i.key}`]=q,style:{height:"100%",padding:"0","z-index":"999999"},value:{content:e(O)[i.key].content,language:e(O)[i.key].language},"word-wrap":e(G),minimap:e(X),"font-size":e(V),"find-box":e(we)},null,8,["value","word-wrap","minimap","font-size","find-box"])]),_:2},1024)]),_:2},1032,["value"]))),128)),l(me,{show:e(ae)},null,8,["show"])]),_:1},8,["value"])]),_:1})):(_(),k(pt,{key:3},{default:a(()=>[e(f)?W("",!0):(_(),k(sl,{key:0,class:"min-h-200px flex-jc-ac h-full",size:"huge","show-description":!0,description:e(o)("common.selectFileEmptyDesc")},{icon:a(()=>[l(e(c),null,{default:a(()=>[l(ol)]),_:1})]),_:1},8,["description"])),l(me,{show:e(ae)},null,8,["show"])]),_:1}))]),_:1})]),_:1},8,["bordered"]),l(ve,{show:e(Z),"onUpdate:show":t[25]||(t[25]=i=>H(Z)?Z.value=i:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:Lt,title:e(o)("file.rename.title"),"positive-text":e(o)("common.okText"),"negative-text":e(o)("common.cancelText"),"on-close":Ye,"positive-button-props":At(),"negative-button-props":Me(),onNegativeClick:t[26]||(t[26]=i=>Ye()),onPositiveClick:t[27]||(t[27]=i=>qt())},{default:a(()=>[l(_e,{clearable:"",style:{"margin-top":"5px"},"default-value":e(p)?e(p).label:e(f)?e(f).label:null,"allow-input":jt,onInput:Vt},null,8,["default-value"])]),_:1},8,["show","title","positive-text","negative-text","positive-button-props","negative-button-props"]),l(ve,{show:e(ee),"onUpdate:show":t[28]||(t[28]=i=>H(ee)?ee.value=i:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:Ut,title:e(o)("file.move.title"),"positive-text":e(o)("common.okText"),"negative-text":e(o)("common.cancelText"),"on-close":Ke,"positive-button-props":Ht(),"negative-button-props":Me(),onNegativeClick:t[29]||(t[29]=i=>Ke()),onPositiveClick:t[30]||(t[30]=i=>Ot())},{default:a(()=>[l(Ie,{clearable:"","show-path":!0,separator:"/",style:{"margin-top":"5px"},"consistent-menu-width":!1,loading:e(ne),options:e(ue),"on-update:expanded-keys":se,"on-update:value":$e},null,8,["loading","options"])]),_:1},8,["show","title","positive-text","negative-text","positive-button-props","negative-button-props"]),l(ve,{show:e(le),"onUpdate:show":t[31]||(t[31]=i=>H(le)?le.value=i:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:Xt,title:!e(D)&&!e(p)?e(o)("file.upload.needSelect"):e(o)("file.upload.title"),"on-close":el},{default:a(()=>[l(e(x),{vertical:""},{default:a(()=>{var i;return[l(Ie,{"default-value":(i=e(D))==null?void 0:i.key,clearable:"","show-path":!0,separator:"/",style:{"margin-top":"5px"},placeholder:e(o)("file.upload.selectPlaceholder"),"consistent-menu-width":!1,loading:e(ne),options:e(ue),"on-update:expanded-keys":se,"on-update:value":$e},null,8,["default-value","placeholder","loading","options"]),l(rl,{type:"info",closable:""},{default:a(()=>[T(y(e(o)("file.upload.info")),1)]),_:1}),l(dl,{multiple:"","directory-dnd":"",disabled:!e(D)&&!e(p),"custom-request":Zt},{default:a(()=>[l(cl,null,{default:a(()=>[z("div",en,[l(e(c),{size:"48",depth:3},{default:a(()=>[l(ul)]),_:1})]),l(e(Se),{style:{"font-size":"16px"}},{default:a(()=>[T(y(e(o)("file.upload.draggerText")),1)]),_:1})]),_:1})]),_:1},8,["disabled"])]}),_:1})]),_:1},8,["show","title"]),l(ve,{show:e(te),"onUpdate:show":t[35]||(t[35]=i=>H(te)?te.value=i:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:Kt,title:e(o)("file.create.title"),"on-close":Ze,"positive-text":e(o)("common.okText"),"negative-text":e(o)("common.cancelText"),"positive-button-props":Jt(),"negative-button-props":Me(),onNegativeClick:t[36]||(t[36]=i=>Ze()),onPositiveClick:t[37]||(t[37]=i=>Yt())},{default:a(()=>[l(ft,{bordered:!1,style:{height:"100%","word-break":"unset"},"content-style":"padding: 0"},{default:a(()=>[l(_l,{model:e(M),rules:Wt,"label-placement":"left",style:{"padding-top":"1em"}},{default:a(()=>[l(Te,{label:e(o)("file.create.form.type"),"show-label":!1,path:"type",style:{"padding-top":"1em"}},{default:a(()=>[l(e(x),{style:{width:"100%",height:"140px",gap:"0"},justify:"space-around"},{default:a(()=>[l(e(h),{strong:"",dashed:"",type:e(M).type===1?"primary":"default",focusable:!1,style:{width:"120px",height:"100%"},onClick:t[32]||(t[32]=i=>e(M).type=1)},{default:a(()=>[l(e(x),{vertical:"",style:{gap:"20px"}},{default:a(()=>[l(e(c),{size:48},{default:a(()=>[l(pl,{style:{"vertical-align":"base-line"}})]),_:1}),T(" "+y(e(o)("file.create.form.typeFile")),1)]),_:1})]),_:1},8,["type"]),l(e(h),{strong:"",dashed:"",type:e(M).type===0?"primary":"default",focusable:!1,style:{width:"120px",height:"100%"},onClick:t[33]||(t[33]=i=>e(M).type=0)},{default:a(()=>[l(e(x),{vertical:"",style:{gap:"20px"}},{default:a(()=>[l(e(c),{size:48},{default:a(()=>[l(fl,{style:{"vertical-align":"base-line"}})]),_:1}),T(" "+y(e(o)("file.create.form.typeFolder")),1)]),_:1})]),_:1},8,["type"])]),_:1})]),_:1},8,["label"]),l(Te,{label:e(o)("file.create.form.name"),path:"name"},{default:a(()=>[l(_e,{value:e(M).name,"onUpdate:value":t[34]||(t[34]=i=>e(M).name=i),clearable:"",placeholder:e(o)("file.create.form.namePlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),l(Te,{label:e(o)("file.create.form.path"),path:"dir"},{default:a(()=>{var i;return[l(Ie,{"default-value":(i=e(D))==null?void 0:i.key,clearable:"","show-path":!0,separator:" / ",style:{"margin-top":"5px"},"consistent-menu-width":!1,loading:e(ne),options:e(ue),"on-update:expanded-keys":se,"on-update:value":$e},null,8,["default-value","loading","options"])]}),_:1},8,["label"])]),_:1},8,["model"])]),_:1})]),_:1},8,["show","title","positive-text","negative-text","positive-button-props","negative-button-props"]),l(ya,{ref_key:"runParamModal",ref:Q},null,512),l(yl,{ref_key:"fileAttributeModal",ref:N},null,512)]),_:2},[e(m)?{name:"extra",fn:a(()=>[e(f)?(_(),k(ye,{key:0,name:e(K),mode:"out-in",appear:""},{default:a(()=>[l(e(x),null,{default:a(()=>[l(st,{trigger:"manual",style:{padding:"8px"},show:e(R),"show-arrow":!1,placement:"bottom"},{trigger:a(()=>[l(e(h),{strong:"",quaternary:"",size:"small",type:e(R)?"primary":"tertiary",style:{padding:"6px"},focusable:!1,onClick:t[15]||(t[15]=i=>R.value=!e(R))},{default:a(()=>[l(e(c),{size:"18"},{default:a(()=>[l(et,{style:{"vertical-align":"baseline"}})]),_:1})]),_:1},8,["type"])]),default:a(()=>[l(e(x),{vertical:""},{default:a(()=>[l(e(x),{size:"small"},{default:a(()=>[l(e(c),{size:20},{default:a(()=>[l(tt,{style:{"vertical-align":"-0.4em"}})]),_:1}),l(lt,{value:e(V),"onUpdate:value":t[16]||(t[16]=i=>H(V)?V.value=i:null),min:12,max:40,"button-placement":"both",size:"small",class:"max-w-94px",style:{"text-align":"center"}},null,8,["value"])]),_:1}),l(e(x),{size:"small"},{default:a(()=>[l(e(c),{size:20},{default:a(()=>[l(at,{style:{"vertical-align":"-0.4em"}})]),_:1}),l(e(h),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[17]||(t[17]=i=>I("findBox"))},{default:a(()=>[T(y(e(o)("editor.switch.findBtn")),1)]),_:1})]),_:1}),l(e(x),{size:"small"},{default:a(()=>[l(e(c),{size:20,color:e(G)==="on"?"var(--app-primary-color)":void 0},{default:a(()=>[l(nt,{style:{"vertical-align":"-0.4em"}})]),_:1},8,["color"]),l(e(h),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[18]||(t[18]=i=>I("wordWrap"))},{default:a(()=>[T(y(e(o)("editor.switch.wordWrapBtn")),1)]),_:1})]),_:1}),l(e(x),{size:"small"},{default:a(()=>[l(e(c),{size:20,color:e(X)?"var(--app-primary-color)":void 0},{default:a(()=>[l(ot,{style:{"vertical-align":"-0.4em"}})]),_:1},8,["color"]),l(e(h),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[19]||(t[19]=i=>I("minimap"))},{default:a(()=>[T(y(e(o)("editor.switch.minimapBtn")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["show"]),l(it,null,{default:a(()=>[l(ie,{trigger:"click",placement:"bottom-start",options:ze("MobileHeader",{option:e(f)})},{default:a(()=>[l(e(h),{strong:"",tertiary:"",size:"small",focusable:!1},{icon:a(()=>[l(e(mt))]),default:a(()=>[T(" "+y(e(o)("file.more.button")),1)]),_:1})]),_:1},8,["options"])]),_:1})]),_:1})]),_:1},8,["name"])):W("",!0)]),key:"1"}:{name:"extra",fn:a(()=>[e(f)?(_(),k(ye,{key:0,name:e(K),mode:"out-in",appear:""},{default:a(()=>[l(e(x),null,{default:a(()=>[l(e(x),{style:{gap:"0"}},{default:a(()=>[l(st,{trigger:"manual",style:{padding:"8px"},show:e(R),"show-arrow":!1,placement:"bottom"},{trigger:a(()=>[l(e(h),{strong:"",quaternary:"",size:"small",type:e(R)?"primary":"tertiary",style:{padding:"6px"},focusable:!1,onClick:t[2]||(t[2]=i=>R.value=!e(R))},{default:a(()=>[l(e(c),{size:"18"},{default:a(()=>[l(et,{style:{"vertical-align":"baseline"}})]),_:1})]),_:1},8,["type"])]),default:a(()=>[l(e(x),{vertical:""},{default:a(()=>[l(e(x),{size:"small"},{default:a(()=>[l(e(c),{size:20},{default:a(()=>[l(tt,{style:{"vertical-align":"-0.4em"}})]),_:1}),l(lt,{value:e(V),"onUpdate:value":t[3]||(t[3]=i=>H(V)?V.value=i:null),min:12,max:40,"button-placement":"both",size:"small",class:"max-w-94px",style:{"text-align":"center"}},null,8,["value"])]),_:1}),l(e(x),{size:"small"},{default:a(()=>[l(e(c),{size:20},{default:a(()=>[l(at,{style:{"vertical-align":"-0.4em"}})]),_:1}),l(e(h),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[4]||(t[4]=i=>I("findBox"))},{default:a(()=>[T(y(e(o)("editor.switch.findBtn")),1)]),_:1})]),_:1}),l(e(x),{size:"small"},{default:a(()=>[l(e(c),{size:20,color:e(G)==="on"?"var(--app-primary-color)":void 0},{default:a(()=>[l(nt,{style:{"vertical-align":"-0.4em"}})]),_:1},8,["color"]),l(e(h),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[5]||(t[5]=i=>I("wordWrap"))},{default:a(()=>[T(y(e(o)("editor.switch.wordWrapBtn")),1)]),_:1})]),_:1}),l(e(x),{size:"small"},{default:a(()=>[l(e(c),{size:20,color:e(X)?"var(--app-primary-color)":void 0},{default:a(()=>[l(ot,{style:{"vertical-align":"-0.4em"}})]),_:1},8,["color"]),l(e(h),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[6]||(t[6]=i=>I("minimap"))},{default:a(()=>[T(y(e(o)("editor.switch.minimapBtn")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["show"]),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(h),{strong:"",quaternary:"",size:"small",type:"tertiary",style:{padding:"6px"},focusable:!1,onClick:t[7]||(t[7]=i=>I("showEditorShortcutsInfo"))},{default:a(()=>[l(e(c),{size:"18"},{default:a(()=>[l(tl,{style:{"vertical-align":"baseline"}})]),_:1})]),_:1})]),default:a(()=>[z("span",null,y(e(o)("editor.switch.shortcutsTips")),1)]),_:1})]),_:1}),l(it,null,{default:a(()=>{var i;return[l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(h),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[8]||(t[8]=q=>Ge())},{icon:a(()=>[l(e(_t))]),_:1})]),default:a(()=>[z("span",null,y(e(o)("file.attribute.button")),1)]),_:1}),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(h),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[9]||(t[9]=q=>Xe())},{icon:a(()=>[l(e(ca))]),_:1})]),default:a(()=>[z("span",null,y(e(o)("file.download.button")),1)]),_:1}),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(h),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[10]||(t[10]=q=>Je())},{icon:a(()=>[l(e(Ne))]),_:1})]),default:a(()=>[z("span",null,y(e(o)("file.delete.button")),1)]),_:1}),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(h),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[11]||(t[11]=q=>Qe())},{icon:a(()=>[l(e(Be))]),_:1})]),default:a(()=>[z("span",null,y(e(o)("file.rename.button")),1)]),_:1}),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(h),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[12]||(t[12]=q=>We())},{icon:a(()=>[l(e(Re))]),_:1})]),default:a(()=>[z("span",null,y(e(o)("file.move.button")),1)]),_:1}),(i=e(f))!=null&&i.canRun?(_(),k(e(F),{key:0,placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(h),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[13]||(t[13]=q=>je())},{icon:a(()=>[l(e(zt))]),_:1})]),default:a(()=>[z("span",null,y(e(o)("file.run.button")),1)]),_:1})):W("",!0),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(h),{strong:"",tertiary:"",size:"small",loading:e(Ce),focusable:!1,onClick:t[14]||(t[14]=q=>I("save"))},{icon:a(()=>[l(e($t))]),_:1},8,["loading"])]),default:a(()=>[z("span",null,y(e(o)("editor.main.saveButton")),1)]),_:1})]}),_:1})]),_:1})]),_:1},8,["name"])):W("",!0)]),key:"0"}]),1536)}}}),In=Fe(tn,[["__scopeId","data-v-191a6bee"]]);export{In as default};
