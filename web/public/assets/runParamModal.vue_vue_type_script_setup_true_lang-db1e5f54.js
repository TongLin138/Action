import{a6 as v,aH as $,as as i,G as E,r as O,ah as N,I as z,u as l,a7 as U,a8 as n,a9 as e,aM as f,aI as d,aD as I,aB as F,bD as G,aC as Z,bE as q,bC as J,c8 as Q,br as W,bF as X,by as Y,bo as ee,am as le,c5 as ne,c6 as oe}from"./vendor-3ca7b8d8.js";import{c as ae,a as te}from"./index-19149e19.js";import{u as re}from"./useAppInject-44f70e5f.js";import{u as se}from"./useRunLog-d7317ea5.js";const ue={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},ie=i("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[i("path",{d:"m18 4l3 3l-3 3m0 10l3-3l-3-3"}),i("path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5m0-10h-5a4.978 4.978 0 0 0-3 1m-4 8a4.984 4.984 0 0 1-3 1H3"})],-1),ce=[ie];function de(x,y){return v(),$("svg",ue,ce)}const pe={name:"tabler-arrows-shuffle",render:de},_e={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},me=i("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[i("path",{d:"M3 7h1.948c1.913 0 3.705.933 4.802 2.5a5.861 5.861 0 0 0 4.802 2.5H21"}),i("path",{d:"M3 17h1.95a5.854 5.854 0 0 0 4.798-2.5a5.854 5.854 0 0 1 4.798-2.5H20"}),i("path",{d:"m18 15l3-3l-3-3"})],-1),fe=[me];function he(x,y){return v(),$("svg",_e,fe)}const ve={name:"tabler-arrows-join2",render:he},ye={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},ge=i("path",{fill:"currentColor",d:"M13.54 22H10c-.25 0-.46-.18-.5-.42l-.37-2.65c-.63-.25-1.17-.59-1.69-.99l-2.49 1.01c-.22.08-.49 0-.61-.22l-2-3.46a.493.493 0 0 1 .12-.64l2.11-1.66L4.5 12l.07-1l-2.11-1.63a.493.493 0 0 1-.12-.64l2-3.46c.12-.22.39-.31.61-.22l2.49 1c.52-.39 1.06-.73 1.69-.98l.37-2.65c.04-.24.25-.42.5-.42h4c.25 0 .46.18.5.42l.37 2.65c.63.25 1.17.59 1.69.98l2.49-1c.22-.09.49 0 .61.22l2 3.46c.13.22.07.49-.12.64L19.43 11l.07 1v.19c-.5-.12-1-.19-1.5-.19c-.17 0-.34 0-.5.03c0-.62-.1-1.24-.3-1.83l2.11-1.55l-.75-1.3l-2.41 1.04a5.42 5.42 0 0 0-3.03-1.77L12.75 4h-1.5l-.37 2.61c-1.2.25-2.26.89-3.03 1.78L5.44 7.35l-.75 1.3L6.8 10.2a5.55 5.55 0 0 0 0 3.6l-2.12 1.56l.75 1.3l2.43-1.04c.77.88 1.82 1.52 3.01 1.76l.37 2.62h1.11c.26.75.65 1.42 1.19 2m2.42-9.64c.04-.12.04-.24.04-.36c0-2.21-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4c.12 0 .24 0 .36-.04a6.045 6.045 0 0 1 3.6-3.6M12 14c-1.1 0-2-.89-2-2s.9-2 2-2s2 .9 2 2s-.89 2-2 2m4 1v6l5-3l-5-3Z"},null,-1),be=[ge];function ke(x,y){return v(),$("svg",ye,be)}const xe={name:"mdi-cog-play-outline",render:ke},we={style:{"vertical-align":"-4px",padding:"0 2px"}},Ve=E({__name:"runParamModal",setup(x,{expose:y}){const{getIsMobile:D}=re(),{message:H}=ae(),{t:a}=te(),{runLog:K}=se(),M={show:!1,title:"",runPath:"",model:{param:[],env:[],runMode:"run"},cmd:""},u=O(N(M)),{show:p,title:w,model:s}=z(u),P=async()=>{let c;c=`task ${u.model.runMode} ${u.runPath}`;const o=u.model.param.map(t=>t.key?t.value?`${t.key} ${t.value}`:`${t.key}`:"").join(" ");o&&(c=`${c} ${o}`);const h=u.model.env.map(t=>t.key?`task env edit ${t.key} ${t.value||'""'} >/dev/null 2>&1`:"").join(" ; ");h&&(c=`${h} ; ${c}`);try{u.cmd=c,u.show=!1,K.value?.open({title:u.title,cmd:u.cmd})}catch(t){H?.error(`${a("file.run.fail")} (${t})`,{keepAliveOnHover:!0})}};return y({open:(c={runPath:""})=>{Object.assign(u,N(M),c,{show:!0})}}),(c,o)=>{const h=xe,t=F,C=ve,g=G,L=pe,_=Z,V=q,m=J,b=Q,k=W,B=X,T=Y,A=ee,j=le,R=ne,S=oe;return l(D)?(v(),U(S,{key:1,show:l(p),"onUpdate:show":o[10]||(o[10]=r=>I(p)?p.value=r:null),height:"100vh",width:"100vw",placement:"right","auto-focus":!1,"mask-closable":!1},{default:n(()=>[e(R,{closable:"","header-style":"height: 60px; padding: 16px 12px","body-content-style":"padding: 4px 12px","footer-style":"padding: 16px 24px"},{header:n(()=>[e(_,null,{default:n(()=>[e(t,{color:"var(--app-primary-color)"},{default:n(()=>[e(h,{style:{"font-size":"24px","vertical-align":"0"}})]),_:1}),e(A,{style:{height:"100%","max-width":"260px"}},{tooltip:n(()=>[i("span",null,d(l(w)),1)]),default:n(()=>[i("span",we,d(l(w)),1)]),_:1})]),_:1})]),footer:n(()=>[e(_,null,{default:n(()=>[e(j,{tertiary:"",focusable:!1,onClick:o[8]||(o[8]=r=>p.value=!1)},{default:n(()=>[f(d(l(a)("common.cancelText")),1)]),_:1}),e(j,{type:"primary",focusable:!1,onClick:o[9]||(o[9]=r=>P())},{default:n(()=>[f(d(l(a)("common.okText")),1)]),_:1})]),_:1})]),default:n(()=>[e(B,{model:l(s),style:{"padding-top":"1em"}},{default:n(()=>[e(_,{vertical:""},{default:n(()=>[e(m,{"show-feedback":!1,label:l(a)("file.run.form.runModeLable"),path:"runMode"},{default:n(()=>[e(V,{value:l(s).runMode,"onUpdate:value":o[5]||(o[5]=r=>l(s).runMode=r)},{default:n(()=>[e(_,null,{default:n(()=>[e(g,{value:"run"},{default:n(()=>[f(d(l(a)("file.run.form.runModeValueNormal"))+" ",1),e(t,null,{default:n(()=>[e(C,{style:{"vertical-align":"-0.15em"}})]),_:1})]),_:1}),e(g,{value:"conc"},{default:n(()=>[f(d(l(a)("file.run.form.runModeValueConcurrency"))+" ",1),e(t,null,{default:n(()=>[e(L,{style:{"vertical-align":"-0.15em"}})]),_:1})]),_:1})]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),e(m,{"show-feedback":!1,label:l(a)("file.run.form.optionsLable"),path:"param"},{default:n(()=>[e(k,{style:{"max-height":"160px"}},{default:n(()=>[e(b,{value:l(s).param,"onUpdate:value":o[6]||(o[6]=r=>l(s).param=r),preset:"pair","key-placeholder":l(a)("file.run.form.paramKeyPlaceholder"),"value-placeholder":l(a)("file.run.form.paramValuePlaceholder")},null,8,["value","key-placeholder","value-placeholder"])]),_:1})]),_:1},8,["label"]),e(m,{"show-feedback":!1,label:l(a)("file.run.form.envLable"),path:"env"},{default:n(()=>[e(k,{style:{"max-height":"160px"}},{default:n(()=>[e(b,{value:l(s).env,"onUpdate:value":o[7]||(o[7]=r=>l(s).env=r),preset:"pair","key-placeholder":l(a)("file.run.form.envKeyPlaceholder"),"value-placeholder":l(a)("file.run.form.envValuePlaceholder")},null,8,["value","key-placeholder","value-placeholder"])]),_:1})]),_:1},8,["label"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])):(v(),U(T,{key:0,show:l(p),"onUpdate:show":o[3]||(o[3]=r=>I(p)?p.value=r:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,title:l(w),"positive-text":l(a)("file.run.form.confirmButtion"),"negative-text":l(a)("common.cancelText"),style:{width:"600px"},"negative-button-props":{ghost:!1,tertiary:!0},onPositiveClick:o[4]||(o[4]=r=>P())},{icon:n(()=>[e(t,null,{default:n(()=>[e(h,{style:{"vertical-align":"-0.15em"}})]),_:1})]),default:n(()=>[e(B,{model:l(s),style:{"padding-top":"1em"}},{default:n(()=>[e(_,{vertical:""},{default:n(()=>[e(m,{"show-feedback":!1,label:l(a)("file.run.form.runModeLable"),path:"runMode"},{default:n(()=>[e(V,{value:l(s).runMode,"onUpdate:value":o[0]||(o[0]=r=>l(s).runMode=r)},{default:n(()=>[e(_,null,{default:n(()=>[e(g,{value:"run"},{default:n(()=>[f(d(l(a)("file.run.form.runModeValueNormal"))+" ",1),e(t,null,{default:n(()=>[e(C,{style:{"vertical-align":"-0.15em"}})]),_:1})]),_:1}),e(g,{value:"conc"},{default:n(()=>[f(d(l(a)("file.run.form.runModeValueConcurrency"))+" ",1),e(t,null,{default:n(()=>[e(L,{style:{"vertical-align":"-0.15em"}})]),_:1})]),_:1})]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),e(m,{"show-feedback":!1,label:l(a)("file.run.form.optionsLable"),path:"param"},{default:n(()=>[e(k,{style:{"max-height":"160px"}},{default:n(()=>[e(b,{value:l(s).param,"onUpdate:value":o[1]||(o[1]=r=>l(s).param=r),preset:"pair","key-placeholder":l(a)("file.run.form.paramKeyPlaceholder"),"value-placeholder":l(a)("file.run.form.paramValuePlaceholder")},null,8,["value","key-placeholder","value-placeholder"])]),_:1})]),_:1},8,["label"]),e(m,{"show-feedback":!1,label:l(a)("file.run.form.envLable"),path:"env"},{default:n(()=>[e(k,{style:{"max-height":"160px"}},{default:n(()=>[e(b,{value:l(s).env,"onUpdate:value":o[2]||(o[2]=r=>l(s).env=r),preset:"pair","key-placeholder":l(a)("file.run.form.envKeyPlaceholder"),"value-placeholder":l(a)("file.run.form.envValuePlaceholder")},null,8,["value","key-placeholder","value-placeholder"])]),_:1})]),_:1},8,["label"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show","title","positive-text","negative-text"]))}}});export{Ve as _};
