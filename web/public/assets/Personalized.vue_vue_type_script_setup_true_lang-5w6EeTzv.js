var u=(g,o,t)=>new Promise((c,s)=>{var m=e=>{try{a(t.next(e))}catch(r){s(r)}},p=e=>{try{a(t.throw(e))}catch(r){s(r)}},a=e=>e.done?c(e.value):Promise.resolve(e.value).then(m,p);a((t=t.apply(g,o)).next())});import{u as F,_ as b}from"./useForm-lQwIfMOo.js";import{Q as P,t as T,a as v,p as x,q as y,s as h}from"./index-mGrCK8oI.js";import{H as I,r as S,h as k,aL as w,a7 as B,aJ as V,N as D,aa as C,a9 as N,aO as A,aI as E,u as f,at as M,bH as O}from"./vendor-kg4oYVSQ.js";const R={class:"grid grid-cols-1 grid-flow-row-dense md:grid-cols-[450px_1fr] gap-4"},J=I({__name:"Personalized",setup(g){const o=P(),{getThemeColor:t,getIsDarkMode:c}=T(),{t:s}=v(),m=S({projectConfig:x.getLocal(y)}),p=k(()=>{var i;const n=t.value,d=(i=m.projectConfig)==null?void 0:i.themeColor,l=c.value?h.themeOverrides.dark.common.primaryColor:h.themeOverrides.light.common.primaryColor;return!o.getThemeColorIsManualChange&&o.getThemeColorIsFirstChange||n===d?l:d}),a=[{field:"themeColor",component:"NColorPicker",label:s("setting.personalized.themeColor"),componentProps:{modes:["hex"],showAlpha:!1,swatches:["#2d8cf0","#0960bd","#0084f4","#009688","#536dfe","#ff5c93","#ee4f12","#0096c7","#9c27b0","#ff9800","#FF3D68","#00C1D4","#71EFA3","#171010","#78DEC7","#1768AC","#FB9300","#FC5404"]},defaultValue:p.value}],[e,{setFieldsValue:r}]=F({schemas:a,labelPlacement:"top",gridProps:{cols:3,xGap:6},giProps:{span:2},submitButtonText:s("setting.identity.button.confirm")}),_=n=>u(this,null,function*(){o.setThemeColorIsFirstChange(!1),o.setThemeColorIsManualChange(!0),o.setProjectConfig({themeColor:n.themeColor})});return w(()=>u(this,null,function*(){r({})})),(n,d)=>{const l=O,i=b;return B(),V("div",null,[D(n.$slots,"title"),C(l,{type:"info",closable:"",style:{"max-width":"fit-content","padding-right":"2em"}},{default:N(()=>[A(E(f(s)("setting.personalized.resetHelp")),1)]),_:1}),M("div",R,[C(i,{onRegister:f(e),onSubmit:_},null,8,["onRegister"])])])}}});export{J as _};
