var $=(V,y,N)=>new Promise((h,o)=>{var ke=S=>{try{Z(N.next(S))}catch(E){o(E)}},W=S=>{try{Z(N.throw(S))}catch(E){o(E)}},Z=S=>S.done?h(S.value):Promise.resolve(S.value).then(ke,W);Z((N=N.apply(V,y)).next())});import{o as m,p as G,v as D,_ as Fe,c as w,w as a,a as l,d as pl,z as fl,b as ml,bd as _l,r as d,B as vl,C as yl,au as gl,e,D as ye,f as b,i as O,E as P,t as v,q as Y,x as hl,L as ge,ab as bl,ac as kl,h as u,y as xl,aI as wl,aG as pt}from"./index-797c0a85.js";import{_ as Cl}from"./PageWrapper.vue_vue_type_style_index_0_lang-f0d6bddb.js";import{a as ft,r as Be,m as Re,g as mt,b as $l,c as _t,u as vt,d as Dl,e as zl,f as Ml,h as yt}from"./create-cb04db47.js";import{a as Il,b as Pl,c as Tl,_ as Bl}from"./index.vue_vue_type_style_index_0_lang-50975d62.js";import{_ as Rl}from"./search2-line-a8ff87e9.js";import{f as he,_ as Nl}from"./filePrefix-28253f5c.js";import{_ as Sl,a as Fl}from"./find-replace-a4b07bd8.js";import{_ as El}from"./swap-outlined-e52ae3c2.js";import{d as Ul,c as Ll,_ as Ol,a as Hl,b as ql}from"./close-to-menu-alt-transition-73fc69ff.js";import{c as Vl}from"./index-f66bd7de.js";import{_ as Al}from"./runParamModal.vue_vue_type_script_setup_true_lang-cd9e9527.js";import{u as jl}from"./useAppInject-e4ee4e96.js";import{u as Wl}from"./useTransition-5809f8e4.js";import{d as Ne,a as Zl,f as Xl,b as Yl,c as gt}from"./delete-9a94d6a6.js";import{s as Gl,f as ht,g as bt,a as Kl,c as Ql,d as Jl,e as kt,h as ea,i as ta}from"./file-6dbc6db3.js";import{c as be,f as ie,a as la,b as xt}from"./index-9f937feb.js";import{N as c}from"./Icon-abc31adc.js";import{T as aa,a as na}from"./index-a4ce3dd6.js";import{N as k}from"./Space-3cb079f3.js";import{a as F,_ as oa}from"./Tooltip-271e10cc.js";import{_ as Se}from"./text-116532e9.js";import{_ as sa}from"./Ellipsis-348a6bfd.js";import{N as ia}from"./Dropdown-03dfd01d.js";import{N as ra}from"./InputNumber-d8e642e9.js";import{_ as ua}from"./ButtonGroup-4b5594ea.js";import{_ as ca}from"./Input-c8aa899c.js";import{_ as da}from"./Tree-c1a4f7b1.js";import{_ as pa}from"./Scrollbar-cdc51570.js";import{_ as fa}from"./BackTop-ed1045ea.js";import{_ as ma}from"./LayoutContent-5bfc63ec.js";import{_ as _a}from"./Empty-aa248199.js";import{_ as va}from"./Layout-06ff11a6.js";import{N as ya}from"./TreeSelect-10e2e39e.js";import{_ as ga}from"./Alert-c87d39d3.js";import{_ as ha,N as ba}from"./Upload-a0b3c563.js";import{_ as ka,a as xa}from"./FormItem-e64e13b9.js";import"./monacoEditor-d72532b2.js";import"./sharp-arrow-back-ios-ca1144ee.js";import"./useDesign-a03ef768.js";import"./clock-edit-outline-f7ef4db4.js";import"./Tag-274eae2a.js";import"./Skeleton-e990348c.js";import"./use-houdini-2ac76cd5.js";import"./Table-f28f3c40.js";import"./more-horiz-d6aadfdf.js";import"./propTypes-69de8b77.js";import"./ChevronRight-54f6887a.js";import"./interface-6b37b567.js";import"./useRunLog-7bd89b36.js";import"./DynamicInput-8878e17a.js";import"./use-locale-3967e664.js";import"./Add-843bb42e.js";import"./Remove-cd58428d.js";import"./ArrowDown-a35ebdc5.js";import"./RadioGroup-69d2c4f1.js";import"./DrawerContent-784d0172.js";import"./trash-531af726.js";import"./helper-b8eb37e9.js";import"./on-fonts-ready-2684803e.js";import"./create-ref-setter-f485918b.js";import"./Checkbox-007ffc49.js";import"./FocusDetector-effeeed3.js";import"./Selection-a7bafa19.js";import"./attribute-2ee9e579.js";import"./use-resize-d169ca1a.js";import"./Image-b643de14.js";import"./utils-e4b90de2.js";const wa={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Ca=D("path",{fill:"currentColor",d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4m2 16H5V5h11.17L19 7.83V19m-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3s3-1.34 3-3s-1.34-3-3-3M6 6h9v4H6V6Z"},null,-1),$a=[Ca];function Da(V,y){return m(),G("svg",wa,[...$a])}const za={name:"mdi-content-save-outline",render:Da},Ma={};function Ia(V,y){const N=za,h=c;return m(),w(h,null,{default:a(()=>[l(N,{style:{"vertical-align":"baseline"}})]),_:1})}const wt=Fe(Ma,[["render",Ia]]),Pa={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Ta=D("path",{fill:"currentColor",d:"M19 7h-2.81c-.45-.8-1.07-1.5-1.82-2L16 3.41L14.59 2l-2.17 2.17a6.002 6.002 0 0 0-2.83 0L7.41 2L6 3.41L7.62 5c-.75.5-1.36 1.21-1.81 2H3v2h2.09c-.06.33-.09.66-.09 1v1H3v2h2v1c0 .34.03.67.09 1H3v2h2.81A6.002 6.002 0 0 0 13 19.65V19c0-.57.09-1.14.25-1.69c-.66.45-1.45.69-2.25.69c-2.21 0-4-1.79-4-4v-4c0-2.21 1.79-4 4-4s4 1.79 4 4v4c0 .19 0 .39-.05.58c.59-.54 1.29-.96 2.05-1.23V13h2v-2h-2v-1c0-.34-.03-.67-.09-1H19V7m-6 2v2H9V9h4m0 4v2H9v-2h4m4 3v6l5-3l-5-3Z"},null,-1),Ba=[Ta];function Ra(V,y){return m(),G("svg",Pa,[...Ba])}const Na={name:"mdi-bug-play-outline",render:Ra},Sa={};function Fa(V,y){const N=Na,h=c;return m(),w(h,null,{default:a(()=>[l(N,{style:{"vertical-align":"baseline"}})]),_:1})}const Ct=Fe(Sa,[["render",Fa]]),Ea={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Ua=D("path",{fill:"currentColor",d:"M13 19c0 .34.04.67.09 1H6.5c-1.5 0-2.81-.5-3.89-1.57C1.54 17.38 1 16.09 1 14.58c0-1.3.39-2.46 1.17-3.48S4 9.43 5.25 9.15c.42-1.53 1.25-2.77 2.5-3.72S10.42 4 12 4c1.95 0 3.6.68 4.96 2.04C18.32 7.4 19 9.05 19 11c1.15.13 2.1.63 2.86 1.5c.51.57.84 1.21 1 1.92A5.908 5.908 0 0 0 19 13h-2v-2c0-1.38-.5-2.56-1.46-3.54C14.56 6.5 13.38 6 12 6s-2.56.5-3.54 1.46C7.5 8.44 7 9.62 7 11h-.5c-.97 0-1.79.34-2.47 1.03c-.69.68-1.03 1.5-1.03 2.47s.34 1.79 1.03 2.5c.68.66 1.5 1 2.47 1h6.59c-.05.33-.09.66-.09 1m7-1v-3h-2v3h-3v2h3v3h2v-3h3v-2h-3Z"},null,-1),La=[Ua];function Oa(V,y){return m(),G("svg",Ea,[...La])}const Ha={name:"mdi-cloud-plus-outline",render:Oa},qa={key:1,class:"font-bold text-xl"},Va={key:2},Aa={class:"font-bold text-xl"},ja={class:"pb-1 mr-3"},Wa={class:"pb-1 mr-3"},Za={style:{"margin-bottom":"12px"}},Xa=pl({__name:"index",setup(V){const{message:y,confirm:N}=fl(),{getIsMobile:h}=jl(),{t:o}=ml(),ke=_l(),W=d("fade-slide");Wl(W);const Z=d(),S=d(),E=d(o("routes.main.page.script.manage")),xe=d([]),we=d([]),re=d([]),H=d(""),Ee=d([]),Ue=d(0),Le=d(0),U=d([]),$t=d(""),Oe=d(""),He=d(""),K=d(!h.value),Q=d(h.value?"on":"off"),Ce=d(!1),A=d(h.value?13:15),I=d([]),L=d({}),X=d(""),ue=d(!1),J=d(!1),ee=d(!1),te=d(!1),le=d(!1),B=d(!1),R=d(void 0),$e=d(!1),ce=d(!0),ae=d(!1),ne=d(!1),f=d(null),p=d(null),z=d({}),de=d(""),M=d({type:1,name:"",dir:""}),T=n=>$(this,null,function*(){switch(n){case"findBox":Ce.value=!Ce.value,B.value=!1;break;case"wordWrap":Q.value=Q.value==="on"?"off":"on",B.value=!1;break;case"minimap":K.value=!K.value,B.value=!1;break;case"showEditorShortcutsInfo":e(U.value)[`editor-${f.value.key}`].showShortCuts();break;case"siderCollapse":R.value=!R.value;break;case"save":$e.value=!0;const t=e(U.value)[`editor-${f.value.key}`].getValue();try{yield Gl({content:t,path:f.value.key}),y.success(o("editor.main.savedSuccess")),L.value[f.value.key].content=t}finally{$e.value=!1}break;case"clickContextMenu":ue.value=!1;break;case"exitContextMenu":ue.value=!1,g("contextMenu");break}}),Dt=n=>{if(!f.value)return;const t=f.value.key;n!==t&&(L.value[t].content=e(U.value)[`editor-${t}`].getValue())},pe=n=>{I.value.forEach(t=>{t.key===n&&(E.value=t.label,X.value=n,f.value=t)})},oe=n=>{I.value.forEach((t,r)=>{t.key===n&&(I.value.splice(r,1),delete L.value[t.key],delete U.value[`editor-${t.key}`],I.value.length>0?X.value===n&&pe(I.value[I.value.length-1].key):(g("content"),g("tmpData"),Ae(t.key)))})},zt=n=>{Dt(n),pe(n)},Mt=n=>{oe(n.value)},se=(n,t,r)=>{if(!r.node)return;const s=r.node,_=s.title;switch(r.action){case"expand":s.prefix=()=>u(c,null,{default:()=>u(be.open[_]||la)});break;case"collapse":s.prefix=()=>u(c,null,{default:()=>u(be.close[_]||ie)});break}},It=n=>u(F,{placement:"left",delay:1500,duration:500,showArrow:!1,overlap:!0,style:{width:"max-content",fontSize:"12px",right:"26px"}},{trigger:()=>n.option.label,default:()=>u(k,{style:"gap: 4px"},{default:()=>[n.option.key,u(b,{text:!0,type:"primary",focusable:!1,onClick:()=>St(n.option.key)},{default:()=>u(Ll)})]})}),qe=(n,t,r)=>$(this,null,function*(){if(r.action!=="select")return;const s=r.node;if(s.isDir||s.disabled)return;h.value&&(R.value=!0),I.value.find(C=>C.key===s.key)||(yield Ve(s.key,s.language),I.value.push(s)),pe(s.key)}),Pt=r=>$(this,[r],function*({node:n,dragNode:t}){if(!n.isDir)return;const s=t.key,_=`${n.key}${s.includes("\\")?"\\":"/"}${t.label}`;if(s!==_)try{yield ht({path:s,newPath:_}),y.success(o("file.move.success")),oe(s),j()}catch(C){}}),De=(n,t,r)=>{switch(r.action){case"select":r.node&&(z.value=r.node,M.value.dir=r.node.key);break;case"delete":case"clear":case"unselect":g("treeSelect");break}},Tt=n=>$(this,null,function*(){const t=r=>{r.length&&r.forEach(s=>{if(s.type===0)Object.assign(s,{key:s.path,label:s.title,isDir:!0,canRun:!1,disabled:!1,icon:()=>u(ie),prefix:()=>u(c,null,{default:()=>u(be.close[s.title]||ie)})}),t(s.children),s.children.length||(Object.assign(s,{children:null}),s.prefix=()=>u(c,null,{default:()=>u(yt)}));else{const _=s.name;if(_){const C=_.substring(_.lastIndexOf(".")+1),x=xt[C]||{};Object.assign(s,{key:s.path,label:_,isDir:!1,language:x.language||"plaintext",canRun:x.canRun||!1,disabled:x.disabled||!x.language,icon:()=>u(x.icon||he),prefix:()=>u(c,null,{default:()=>u(x.icon||he)})})}}})};return t(n),n}),Bt=n=>$(this,null,function*(){const t=r=>{r.length&&r.forEach(s=>{s.type===0&&(Object.assign(s,{key:s.path,label:s.title,isDir:!0,canRun:!1,disabled:!1,icon:()=>u(ie),prefix:()=>u(c,null,{default:()=>u(be.close[s.title]||ie)})}),t(s.children),s.children.length||(Object.assign(s,{children:null}),s.prefix=()=>u(c,null,{default:()=>u(yt)})))})};return t(n),n}),Rt=({option:n})=>({onContextmenu(t){Ee.value=ze("ContextMenu",{option:n}),ue.value=!0,Ue.value=t.clientX,Le.value=t.clientY,t.preventDefault(),p.value=n}}),ze=(n,{option:t})=>{const r={save:{label:o("file.save.button"),key:"save",icon:()=>u(c,null,{default:()=>u(wt)}),props:{onClick:()=>{T("save")}}},run:{label:o("file.run.button"),key:"run",icon:()=>u(c,null,{default:()=>u(Ct)}),props:{onClick:()=>{je()}}},attribute:{label:o("file.attribute.button"),key:"attribute",icon:()=>u(c,null,{default:()=>u(ft)}),props:{onClick:()=>{Qe()}}},create:{label:o("file.create.button"),key:"create",icon:()=>u(c,null,{default:()=>u(_t)}),props:{onClick:()=>{Wt()}}},upload:{label:o("file.upload.button"),key:"upload",icon:()=>u(c,null,{default:()=>u(vt)}),props:{onClick:()=>{Gt()}}},more:{label:()=>u(Se,{style:{color:"var(--app-primary-color)"}},{default:()=>o("file.more.button")}),key:"more",icon:()=>u(c,{color:"var(--app-primary-color)"},{default:()=>u(mt)}),children:[{label:o("file.download.button"),key:"download",icon:()=>u(c,null,{default:()=>u(t.isDir?Zl:Xl)}),props:{onClick:()=>{Ke()}}},{label:o("file.move.button"),key:"move",icon:()=>u(c,null,{default:()=>u(Re)}),props:{onClick:()=>{We()}}},{label:o("file.rename.button"),key:"rename",icon:()=>u(c,null,{default:()=>u(Be)}),props:{onClick:()=>{Xe()}}},{type:"divider",key:"d1"},{label:()=>u(Se,{style:{color:"var(--app-error-color)"}},{default:()=>o("file.delete.button")}),key:"delete",icon:()=>u(c,{color:"var(--app-error-color)"},{default:()=>u(Ne)}),props:{onClick:()=>{Ge()}}}]}};let s=[];return n==="ContextMenu"?(s=[r.attribute],t.isDir?s=[r.create,r.upload,...s,...r.more.children]:t.disabled?s=[...s,...r.more.children]:(s=[...s,r.more],t.canRun&&s.unshift(r.run))):n==="MobileHeader"?(s=[r.save,r.more.children[0],r.more.children[1],r.more.children[2],r.attribute,r.more.children[3],r.more.children[4]],t.canRun&&s.splice(1,0,r.run)):n==="HeaderSubTitle"&&(s=[r.create,r.upload]),s},j=()=>$(this,null,function*(){ce.value=!0;const n=yield bt({}),t=yield Tt(n);xe.value=t,ce.value=!1}),Me=()=>$(this,null,function*(){ne.value=!0;const n=yield bt({isDir:"true"}),t=yield Bt(n);re.value=t,ne.value=!1}),Nt=()=>$(this,null,function*(){const n=ke.currentRoute.value.query.path;if(!n)return;const t=n.split("/").pop()||"",r=t.substring(t.lastIndexOf(".")+1),s=xt[r]||{},_=s.language||"plaintext";if(_)if(yield Ve(n,_),L.value[n].content){we.value=n.split("/").slice(0,-1).map((x,fe,me)=>me.slice(0,fe+1).join("/"));const C={key:n,label:t,isDir:!1,language:_,canRun:s.canRun||!1,disabled:s.disabled||!_,icon:()=>u(s.icon||he),prefix:()=>u(c,null,{default:()=>u(s.icon||he)})};I.value.push(C),pe(C.key),h.value&&(R.value=!0)}else L.value={}}),Ve=(n,t)=>$(this,null,function*(){$t.value=t||"plaintext",ae.value=!0;try{const r=yield Kl({path:encodeURI(n)});ae.value=!1,r?L.value[n]={content:r,language:t}:(L.value[n]={content:"",language:t},y.info(o("page.script.fileContentIsEmptyMsg")))}catch(r){g("content"),g("tmpData")}finally{ae.value=!1}}),Ae=n=>{U.value.length>0&&U.value[`editor-${n}`]&&(U.value[`editor-${n}`].dispose(),delete e(U.value)[n])},St=n=>{Vl(n)?y.success(o("common.copyOk")):y.error(o("common.copyFail"))},Ie=()=>({ghost:!1,tertiary:!0}),g=n=>{switch(n){case"title":E.value=o("routes.main.page.script.manage");break;case"content":g("title"),f.value=null,X.value="",h.value&&(R.value=!1);break;case"contextMenu":p.value=null;break;case"renameInput":de.value="";break;case"treeSelect":z.value={},M.value.dir=void 0;break;case"createData":M.value={type:1,name:void 0,dir:void 0};break;case"tmpData":g("contextMenu"),g("renameInput"),g("treeSelect"),g("createData");break}},je=()=>{var n;Oe.value=p.value?p.value.key:f.value.key,He.value=p.value?p.value.label:f.value.label;try{(n=Z.value)==null||n.open({title:He.value,runPath:Oe.value})}catch(t){}finally{g("tmpData")}},Ft=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(Re)}),We=()=>{ee.value=!0,Me()},Et=()=>$(this,null,function*(){const n=p.value?p.value.key:f.value.key,t=p.value?p.value.label:f.value.label;let r=z.value?z.value.key:"";r=`${r}${n.includes("\\")?"\\":"/"}${t}`;try{yield ht({path:n,newPath:r}),y.success(o("file.move.success")),oe(n),j()}catch(s){}finally{g("tmpData")}}),Ut=()=>({disabled:!z.value}),Ze=()=>{ee.value=!1,g("treeSelect")},Lt=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(Be)}),Xe=()=>{J.value=!0},Ot=()=>$(this,null,function*(){const n=p.value?p.value.key:f.value.key;try{yield Ql({path:n,name:de.value}),y.success(o("file.rename.success")),oe(n),j()}catch(t){}finally{g("tmpData")}}),Ht=()=>({disabled:!de.value}),Ye=()=>{J.value=!1,g("tmpData")},qt=n=>{de.value=n},Vt=n=>!["<",">","?","*","/"].some(t=>n.includes(t)),Ge=()=>$(this,null,function*(){const n=p.value?p.value.key:f.value.key;N.error({title:o("file.delete.title"),content:o("file.delete.confirm"),icon:()=>u(c,{style:"vertical-align: 0"},{default:()=>u(Ne)}),closable:!1,maskClosable:!1,autoFocus:!1,positiveText:o("file.delete.button"),onPositiveClick:()=>$(this,null,function*(){try{yield Jl({path:n}),y.success(o("file.delete.success")),oe(n),j()}catch(t){}finally{g("tmpData")}}),onNegativeClick:()=>{g("tmpData")},negativeButtonProps:{ghost:!1,tertiary:!0}})}),Ke=()=>$(this,null,function*(){const n=p.value?p.value.key:f.value.key,t=p.value?p.value.label:f.value.label,r=p.value?p.value.isDir:f.value.isDir,s=y.info(o("file.download.wait"),{duration:0,icon:()=>u(c,null,{default:()=>u(Yl)})});try{if(r){const{code:_,message:C,blob:x}=yield kt({path:n});s.destroy(),_?(y.success(o("file.download.success")),x&&gt(x,`${t}.zip`)):C&&y.error(C)}else{const{code:_,message:C,blob:x}=yield kt({path:n});s.destroy(),_?(y.success(o("file.download.success")),x&&gt(x,t)):C&&y.error(C)}}catch(_){s.destroy(),y.error(o("file.download.fail"),{keepAliveOnHover:!0})}finally{g("tmpData")}}),Qe=()=>$(this,null,function*(){var r;const n=p.value?p.value.key:f.value.key,t=p.value?p.value.isDir:f.value.isDir;try{(r=S.value)==null||r.open({path:n,isDir:t})}catch(s){}finally{g("tmpData")}}),At={name:{required:!0},dir:{required:!0}},jt=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(_t)}),Wt=()=>{te.value=!0,p.value&&({label:z.value.label,key:z.value.key}=p.value,M.value.dir=z.value.key),Me()},Zt=()=>$(this,null,function*(){const n=M.value.type,t=M.value.name,r=M.value.dir;try{yield ea({type:n,name:t,dir:r}),y.success(o("file.create.success")),j()}catch(s){}finally{g("tmpData")}}),Je=()=>{te.value=!1,g("tmpData")},Xt=()=>({disabled:!z.value||!M.value.name}),Yt=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(vt)}),Gt=()=>{le.value=!0,p.value&&({label:z.value.label,key:z.value.key}=p.value),Me()},Kt=({file:n,onFinish:t,onError:r,onProgress:s})=>{const _=n.name,C=new FormData;C.append("file",n.file),ta({params:C,path:z.value.key,onUploadProgress:({progress:x})=>{s({percent:Math.ceil((x||0)*100)})}}).then(()=>{y.success(`${_} ${o("file.upload.success")}`),j(),t()}).catch(x=>{y.error(x.message,{keepAliveOnHover:!0}),r()})},Qt=()=>{le.value=!1,g("tmpData")};return vl(()=>$(this,null,function*(){yield j(),Nt()})),yl(()=>{I.value.length>0&&Ae(I.value[0].key)}),(n,t)=>{const r=Ol,s=Hl,_=sa,C=Ha,x=ia,fe=Il,me=Pl,et=ra,tt=Sl,lt=El,at=Fl,nt=oa,Jt=Nl,ot=ua,st=Rl,_e=ca,it=da,rt=pa,ut=ql,el=fa,ct=ma,tl=Tl,ll=_a,al=va,dt=xl,ve=wl,Pe=ya,nl=ga,ol=Dl,sl=ha,il=ba,rl=zl,ul=Ml,Te=ka,cl=xa,dl=Cl;return m(),w(dl,{ref:"pageWrapper","content-full":!0},gl({title:a(()=>[l(e(k),null,{default:a(()=>[e(h)&&e(f)?(m(),w(ye,{key:0,name:e(W),mode:"in-out",appear:""},{default:a(()=>[l(e(b),{strong:"",tertiary:"",size:"tiny",style:{height:"29px",padding:"0 8px"},focusable:!1,onClick:t[0]||(t[0]=i=>T("siderCollapse"))},{icon:a(()=>[l(e(c),{size:20},{default:a(()=>[e(R)?(m(),w(s,{key:1,style:{"vertical-align":"baseline"}})):(m(),w(r,{key:0,style:{"vertical-align":"baseline"}}))]),_:1})]),_:1})]),_:1},8,["name"])):Y("",!0),e(h)?(m(),G("div",Va,[l(_,{style:{height:"100%","max-width":"170px"}},{tooltip:a(()=>[D("span",null,v(e(E)),1)]),default:a(()=>[D("span",Aa,v(e(E)),1)]),_:1})])):(m(),G("span",qa,v(e(E)),1))]),_:1})]),subtitle:a(()=>[l(e(k),{style:hl(e(h)?"gap: 4px":"gap: 0")},{default:a(()=>[e(h)&&e(f)?Y("",!0):(m(),w(x,{key:0,trigger:"click",options:ze("HeaderSubTitle",{option:e(f)})},{default:a(()=>[l(e(b),{circle:"",strong:"",quaternary:!e(h),secondary:e(h),size:"small",focusable:!1,style:{"vertical-align":"-0.15em"}},{default:a(()=>[l(C)]),_:1},8,["quaternary","secondary"])]),_:1},8,["options"]))]),_:1},8,["style"])]),default:a(()=>[l(dt,{bordered:!e(h),style:{height:"100%","word-break":"unset"},"content-style":"padding: 0; height: 100%"},{default:a(()=>[l(al,{"has-sider":"",style:{height:"100%"},"content-style":"height: 100%"},{default:a(()=>[e(h)?(m(),w(ut,{key:1,class:"scripts-container",width:"100%","content-style":"display: flex; flex-direction: column; height: 100%; padding: .8em 0 0 .8em","trigger-style":"margin-right: .75em","collapsed-trigger-style":"margin-right: -0.75em","collapsed-width":0,bordered:!1,"show-trigger":!1,"show-collapsed-content":!1,collapsed:e(R),"on-update:collapsed":i=>R.value=i,"native-scrollbar":!1},{default:a(()=>[D("div",Wa,[l(_e,{value:e(H),"onUpdate:value":t[22]||(t[22]=i=>O(H)?H.value=i:null),clearable:"",size:"small",style:{"margin-bottom":".5em"},placeholder:e(o)("page.script.searchInputPlaceholder")},{prefix:a(()=>[l(st)]),_:1},8,["value","placeholder"])]),l(rt,{"x-scrollable":"",class:"flex-1 pr-3"},{default:a(()=>[l(it,{"expand-on-click":"","block-line":"",style:{"font-size":"15px"},"show-irrelevant-nodes":!1,pattern:e(H),data:e(xe),"default-expanded-keys":e(we),"on-update:expanded-keys":se,"on-update:selected-keys":qe},null,8,["pattern","data","default-expanded-keys"]),l(el,{right:20,bottom:20})]),_:1}),l(ge,{show:e(ce)},null,8,["show"])]),_:1},8,["collapsed","on-update:collapsed"])):(m(),w(ut,{key:0,class:"scripts-container",width:"320","content-style":"display: flex; flex-direction: column; height: 100%; padding: .8em 0 0 .8em",bordered:"","collapsed-width":0,"show-trigger":"bar","show-collapsed-content":!1,"native-scrollbar":!1,collapsed:e(R),"on-update:collapsed":R.value=void 0},{default:a(()=>[D("div",ja,[l(_e,{value:e(H),"onUpdate:value":t[19]||(t[19]=i=>O(H)?H.value=i:null),clearable:"",style:{"margin-bottom":".5em"},placeholder:e(o)("page.script.searchInputPlaceholder")},{prefix:a(()=>[l(st)]),_:1},8,["value","placeholder"])]),l(rt,{"x-scrollable":"",class:"flex-1 pr-3"},{default:a(()=>[l(it,{"expand-on-click":"",draggable:"","show-line":"","show-irrelevant-nodes":!1,"node-props":Rt,pattern:e(H),data:e(xe),"default-expanded-keys":e(we),"render-label":It,"on-update:expanded-keys":se,"on-update:selected-keys":qe,onDrop:Pt},null,8,["pattern","data","default-expanded-keys"]),l(x,{trigger:"manual",placement:"bottom-start",show:e(ue),options:e(Ee),x:e(Ue),y:e(Le),onSelect:t[20]||(t[20]=i=>T("clickContextMenu")),onClickoutside:t[21]||(t[21]=i=>T("exitContextMenu"))},null,8,["show","options","x","y"])]),_:1}),l(ge,{show:e(ce)},null,8,["show"])]),_:1},8,["collapsed","on-update:collapsed"])),e(I).length>0?(m(),w(ct,{key:2,class:"tab-panel"},{default:a(()=>[l(e(aa),{value:e(X),"onUpdate:value":t[23]||(t[23]=i=>O(X)?X.value=i:null),"drag-sort":"",direction:"vertical",style:{height:"100%",width:"100%"},theme:"card","on-drag-sort":()=>{},onChange:zt,onRemove:Mt},{default:a(()=>[(m(!0),G(kl,null,bl(e(I),i=>(m(),w(e(na),{key:i.key,value:i.key,removable:"",style:{height:"100%",width:"100%",padding:"0"},"destroy-on-hide":!1},{label:a(()=>[e(h)?(m(),w(e(k),{key:1,style:{gap:"2px"}},{default:a(()=>[(m(),w(pt(i.prefix),{style:{"vertical-align":"-0.15em"}})),P(" "+v(i.label),1)]),_:2},1024)):(m(),w(e(F),{key:0,placement:"top",trigger:"hover",overlap:"",delay:1e3},{trigger:a(()=>[l(e(k),{style:{gap:"2px"}},{default:a(()=>[(m(),w(pt(i.prefix),{style:{"vertical-align":"-0.15em"}})),P(" "+v(i.label),1)]),_:2},1024)]),default:a(()=>[D("span",null,v(i.key),1)]),_:2},1024))]),default:a(()=>[l(ye,{name:"fade",mode:"out-in",appear:""},{default:a(()=>[l(Bl,{ref_for:!0,ref:q=>e(U)[`editor-${i.key}`]=q,style:{height:"100%",padding:"0","z-index":"999999"},value:{content:e(L)[i.key].content,language:e(L)[i.key].language},"word-wrap":e(Q),minimap:e(K),"font-size":e(A),"find-box":e(Ce)},null,8,["value","word-wrap","minimap","font-size","find-box"])]),_:2},1024)]),_:2},1032,["value"]))),128)),l(ge,{show:e(ae)},null,8,["show"])]),_:1},8,["value"])]),_:1})):(m(),w(ct,{key:3},{default:a(()=>[e(R)!==!0?(m(),w(ll,{key:0,class:"min-h-200px flex-jc-ac h-full",size:"huge","show-description":!0,description:e(o)("common.selectFileEmptyDesc")},{icon:a(()=>[l(e(c),null,{default:a(()=>[l(tl)]),_:1})]),_:1},8,["description"])):Y("",!0),l(ge,{show:e(ae)},null,8,["show"])]),_:1}))]),_:1})]),_:1},8,["bordered"]),l(ve,{show:e(J),"onUpdate:show":t[24]||(t[24]=i=>O(J)?J.value=i:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:Lt,title:e(o)("file.rename.title"),"positive-text":e(o)("common.okText"),"negative-text":e(o)("common.cancelText"),"on-close":Ye,"positive-button-props":Ht(),"negative-button-props":Ie(),onNegativeClick:t[25]||(t[25]=i=>Ye()),onPositiveClick:t[26]||(t[26]=i=>Ot())},{default:a(()=>[l(_e,{clearable:"",style:{"margin-top":"5px"},"default-value":e(p)?e(p).label:e(f)?e(f).label:null,"allow-input":Vt,onInput:qt},null,8,["default-value"])]),_:1},8,["show","title","positive-text","negative-text","positive-button-props","negative-button-props"]),l(ve,{show:e(ee),"onUpdate:show":t[27]||(t[27]=i=>O(ee)?ee.value=i:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:Ft,title:e(o)("file.move.title"),"positive-text":e(o)("common.okText"),"negative-text":e(o)("common.cancelText"),"on-close":Ze,"positive-button-props":Ut(),"negative-button-props":Ie(),onNegativeClick:t[28]||(t[28]=i=>Ze()),onPositiveClick:t[29]||(t[29]=i=>Et())},{default:a(()=>[l(Pe,{clearable:"","show-path":!0,separator:"/",style:{"margin-top":"5px"},"consistent-menu-width":!1,loading:e(ne),options:e(re),"on-update:expanded-keys":se,"on-update:value":De},null,8,["loading","options"])]),_:1},8,["show","title","positive-text","negative-text","positive-button-props","negative-button-props"]),l(ve,{show:e(le),"onUpdate:show":t[30]||(t[30]=i=>O(le)?le.value=i:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:Yt,title:!e(z)&&!e(p)?e(o)("file.upload.needSelect"):e(o)("file.upload.title"),"on-close":Qt},{default:a(()=>[l(e(k),{vertical:""},{default:a(()=>{var i;return[l(Pe,{"default-value":(i=e(z))==null?void 0:i.key,clearable:"","show-path":!0,separator:"/",style:{"margin-top":"5px"},placeholder:e(o)("file.upload.selectPlaceholder"),"consistent-menu-width":!1,loading:e(ne),options:e(re),"on-update:expanded-keys":se,"on-update:value":De},null,8,["default-value","placeholder","loading","options"]),l(nl,{type:"info",closable:""},{default:a(()=>[P(v(e(o)("file.upload.info")),1)]),_:1}),l(il,{multiple:"","directory-dnd":"",disabled:!e(z)&&!e(p),"custom-request":Kt},{default:a(()=>[l(sl,null,{default:a(()=>[D("div",Za,[l(e(c),{size:"48",depth:3},{default:a(()=>[l(ol)]),_:1})]),l(e(Se),{style:{"font-size":"16px"}},{default:a(()=>[P(v(e(o)("file.upload.draggerText")),1)]),_:1})]),_:1})]),_:1},8,["disabled"])]}),_:1})]),_:1},8,["show","title"]),l(ve,{show:e(te),"onUpdate:show":t[34]||(t[34]=i=>O(te)?te.value=i:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:jt,title:e(o)("file.create.title"),"on-close":Je,"positive-text":e(o)("common.okText"),"negative-text":e(o)("common.cancelText"),"positive-button-props":Xt(),"negative-button-props":Ie(),onNegativeClick:t[35]||(t[35]=i=>Je()),onPositiveClick:t[36]||(t[36]=i=>Zt())},{default:a(()=>[l(dt,{bordered:!1,style:{height:"100%","word-break":"unset"},"content-style":"padding: 0"},{default:a(()=>[l(cl,{model:e(M),rules:At,"label-placement":"left",style:{"padding-top":"1em"}},{default:a(()=>[l(Te,{label:e(o)("file.create.form.type"),"show-label":!1,path:"type",style:{"padding-top":"1em"}},{default:a(()=>[l(e(k),{style:{width:"100%",height:"140px",gap:"0"},justify:"space-around"},{default:a(()=>[l(e(b),{strong:"",dashed:"",type:e(M).type===1?"primary":"default",focusable:!1,style:{width:"120px",height:"100%"},onClick:t[31]||(t[31]=i=>e(M).type=1)},{default:a(()=>[l(e(k),{vertical:"",style:{gap:"20px"}},{default:a(()=>[l(e(c),{size:48},{default:a(()=>[l(rl,{style:{"vertical-align":"base-line"}})]),_:1}),P(" "+v(e(o)("file.create.form.typeFile")),1)]),_:1})]),_:1},8,["type"]),l(e(b),{strong:"",dashed:"",type:e(M).type===0?"primary":"default",focusable:!1,style:{width:"120px",height:"100%"},onClick:t[32]||(t[32]=i=>e(M).type=0)},{default:a(()=>[l(e(k),{vertical:"",style:{gap:"20px"}},{default:a(()=>[l(e(c),{size:48},{default:a(()=>[l(ul,{style:{"vertical-align":"base-line"}})]),_:1}),P(" "+v(e(o)("file.create.form.typeFolder")),1)]),_:1})]),_:1},8,["type"])]),_:1})]),_:1},8,["label"]),l(Te,{label:e(o)("file.create.form.name"),path:"name"},{default:a(()=>[l(_e,{value:e(M).name,"onUpdate:value":t[33]||(t[33]=i=>e(M).name=i),clearable:"",placeholder:e(o)("file.create.form.namePlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),l(Te,{label:e(o)("file.create.form.path"),path:"dir"},{default:a(()=>{var i;return[l(Pe,{"default-value":(i=e(z))==null?void 0:i.key,clearable:"","show-path":!0,separator:" / ",style:{"margin-top":"5px"},"consistent-menu-width":!1,loading:e(ne),options:e(re),"on-update:expanded-keys":se,"on-update:value":De},null,8,["default-value","loading","options"])]}),_:1},8,["label"])]),_:1},8,["model"])]),_:1})]),_:1},8,["show","title","positive-text","negative-text","positive-button-props","negative-button-props"]),l(Al,{ref_key:"runParamModal",ref:Z},null,512),l($l,{ref_key:"fileAttributeModal",ref:S},null,512)]),_:2},[e(h)?{name:"extra",fn:a(()=>[e(f)?(m(),w(ye,{key:0,name:e(W),mode:"out-in",appear:""},{default:a(()=>[l(e(k),null,{default:a(()=>[l(nt,{trigger:"manual",style:{padding:"8px"},show:e(B),"show-arrow":!1,placement:"bottom"},{trigger:a(()=>[l(e(b),{strong:"",quaternary:"",size:"small",type:e(B)?"primary":"tertiary",style:{padding:"6px"},focusable:!1,onClick:t[14]||(t[14]=i=>B.value=!e(B))},{default:a(()=>[l(e(c),{size:"18"},{default:a(()=>[l(fe,{style:{"vertical-align":"baseline"}})]),_:1})]),_:1},8,["type"])]),default:a(()=>[l(e(k),{vertical:""},{default:a(()=>[l(e(k),{size:"small"},{default:a(()=>[l(e(c),{size:20},{default:a(()=>[l(me,{style:{"vertical-align":"-0.4em"}})]),_:1}),l(et,{value:e(A),"onUpdate:value":t[15]||(t[15]=i=>O(A)?A.value=i:null),min:12,max:40,"button-placement":"both",size:"small",class:"max-w-94px",style:{"text-align":"center"}},null,8,["value"])]),_:1}),l(e(k),{size:"small"},{default:a(()=>[l(e(c),{size:20},{default:a(()=>[l(tt,{style:{"vertical-align":"-0.4em"}})]),_:1}),l(e(b),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[16]||(t[16]=i=>T("findBox"))},{default:a(()=>[P(v(e(o)("editor.switch.findBtn")),1)]),_:1})]),_:1}),l(e(k),{size:"small"},{default:a(()=>[l(e(c),{size:20,color:e(Q)==="on"?"var(--app-primary-color)":void 0},{default:a(()=>[l(lt,{style:{"vertical-align":"-0.4em"}})]),_:1},8,["color"]),l(e(b),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[17]||(t[17]=i=>T("wordWrap"))},{default:a(()=>[P(v(e(o)("editor.switch.wordWrapBtn")),1)]),_:1})]),_:1}),l(e(k),{size:"small"},{default:a(()=>[l(e(c),{size:20,color:e(K)?"var(--app-primary-color)":void 0},{default:a(()=>[l(at,{style:{"vertical-align":"-0.4em"}})]),_:1},8,["color"]),l(e(b),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[18]||(t[18]=i=>T("minimap"))},{default:a(()=>[P(v(e(o)("editor.switch.minimapBtn")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["show"]),l(ot,null,{default:a(()=>[l(x,{trigger:"click",placement:"bottom-start",options:ze("MobileHeader",{option:e(f)})},{default:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1},{icon:a(()=>[l(e(mt))]),default:a(()=>[P(" "+v(e(o)("file.more.button")),1)]),_:1})]),_:1},8,["options"])]),_:1})]),_:1})]),_:1},8,["name"])):Y("",!0)]),key:"1"}:{name:"extra",fn:a(()=>[e(f)?(m(),w(ye,{key:0,name:e(W),mode:"out-in",appear:""},{default:a(()=>[l(e(k),null,{default:a(()=>[l(e(k),{style:{gap:"0"}},{default:a(()=>[l(nt,{trigger:"manual",style:{padding:"8px"},show:e(B),"show-arrow":!1,placement:"bottom"},{trigger:a(()=>[l(e(b),{strong:"",quaternary:"",size:"small",type:e(B)?"primary":"tertiary",style:{padding:"6px"},focusable:!1,onClick:t[1]||(t[1]=i=>B.value=!e(B))},{default:a(()=>[l(e(c),{size:"18"},{default:a(()=>[l(fe,{style:{"vertical-align":"baseline"}})]),_:1})]),_:1},8,["type"])]),default:a(()=>[l(e(k),{vertical:""},{default:a(()=>[l(e(k),{size:"small"},{default:a(()=>[l(e(c),{size:20},{default:a(()=>[l(me,{style:{"vertical-align":"-0.4em"}})]),_:1}),l(et,{value:e(A),"onUpdate:value":t[2]||(t[2]=i=>O(A)?A.value=i:null),min:12,max:40,"button-placement":"both",size:"small",class:"max-w-94px",style:{"text-align":"center"}},null,8,["value"])]),_:1}),l(e(k),{size:"small"},{default:a(()=>[l(e(c),{size:20},{default:a(()=>[l(tt,{style:{"vertical-align":"-0.4em"}})]),_:1}),l(e(b),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[3]||(t[3]=i=>T("findBox"))},{default:a(()=>[P(v(e(o)("editor.switch.findBtn")),1)]),_:1})]),_:1}),l(e(k),{size:"small"},{default:a(()=>[l(e(c),{size:20,color:e(Q)==="on"?"var(--app-primary-color)":void 0},{default:a(()=>[l(lt,{style:{"vertical-align":"-0.4em"}})]),_:1},8,["color"]),l(e(b),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[4]||(t[4]=i=>T("wordWrap"))},{default:a(()=>[P(v(e(o)("editor.switch.wordWrapBtn")),1)]),_:1})]),_:1}),l(e(k),{size:"small"},{default:a(()=>[l(e(c),{size:20,color:e(K)?"var(--app-primary-color)":void 0},{default:a(()=>[l(at,{style:{"vertical-align":"-0.4em"}})]),_:1},8,["color"]),l(e(b),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[5]||(t[5]=i=>T("minimap"))},{default:a(()=>[P(v(e(o)("editor.switch.minimapBtn")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["show"]),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",quaternary:"",size:"small",type:"tertiary",style:{padding:"6px"},focusable:!1,onClick:t[6]||(t[6]=i=>T("showEditorShortcutsInfo"))},{default:a(()=>[l(e(c),{size:"18"},{default:a(()=>[l(Jt,{style:{"vertical-align":"baseline"}})]),_:1})]),_:1})]),default:a(()=>[D("span",null,v(e(o)("editor.switch.shortcutsTips")),1)]),_:1})]),_:1}),l(ot,null,{default:a(()=>{var i;return[l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[7]||(t[7]=q=>Qe())},{icon:a(()=>[l(e(ft))]),_:1})]),default:a(()=>[D("span",null,v(e(o)("file.attribute.button")),1)]),_:1}),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[8]||(t[8]=q=>Ke())},{icon:a(()=>[l(e(Ul))]),_:1})]),default:a(()=>[D("span",null,v(e(o)("file.download.button")),1)]),_:1}),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[9]||(t[9]=q=>Ge())},{icon:a(()=>[l(e(Ne))]),_:1})]),default:a(()=>[D("span",null,v(e(o)("file.delete.button")),1)]),_:1}),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[10]||(t[10]=q=>Xe())},{icon:a(()=>[l(e(Be))]),_:1})]),default:a(()=>[D("span",null,v(e(o)("file.rename.button")),1)]),_:1}),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[11]||(t[11]=q=>We())},{icon:a(()=>[l(e(Re))]),_:1})]),default:a(()=>[D("span",null,v(e(o)("file.move.button")),1)]),_:1}),(i=e(f))!=null&&i.canRun?(m(),w(e(F),{key:0,placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[12]||(t[12]=q=>je())},{icon:a(()=>[l(e(Ct))]),_:1})]),default:a(()=>[D("span",null,v(e(o)("file.run.button")),1)]),_:1})):Y("",!0),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",loading:e($e),focusable:!1,onClick:t[13]||(t[13]=q=>T("save"))},{icon:a(()=>[l(e(wt))]),_:1},8,["loading"])]),default:a(()=>[D("span",null,v(e(o)("editor.main.saveButton")),1)]),_:1})]}),_:1})]),_:1})]),_:1},8,["name"])):Y("",!0)]),key:"0"}]),1536)}}});const co=Fe(Xa,[["__scopeId","data-v-2d870f84"]]);export{co as default};
