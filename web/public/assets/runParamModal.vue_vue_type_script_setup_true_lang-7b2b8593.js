import{a6 as m,as as p,aG as c,G as U,r as z,ah as x,I as A,ac as e,a8 as o,u as n,aL as M,aC as L,aE as E,aJ as P,bz as G,aN as K,bA as O,by as S,c1 as T,bp as J,bB as Z,bu as q}from"./vendor-95d24bd5.js";import{c as F,b as Q}from"./index-1a66f6b1.js";import{u as W}from"./useRunLog-932cf7d0.js";const X={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Y=c("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[c("path",{d:"m18 4l3 3l-3 3m0 10l3-3l-3-3"}),c("path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5m0-10h-5a4.978 4.978 0 0 0-3 1m-4 8a4.984 4.984 0 0 1-3 1H3"})],-1),ee=[Y];function ne(f,_){return m(),p("svg",X,ee)}const oe={name:"tabler-arrows-shuffle",render:ne},le={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},te=c("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[c("path",{d:"M3 7h1.948c1.913 0 3.705.933 4.802 2.5a5.861 5.861 0 0 0 4.802 2.5H21"}),c("path",{d:"M3 17h1.95a5.854 5.854 0 0 0 4.798-2.5a5.854 5.854 0 0 1 4.798-2.5H20"}),c("path",{d:"m18 15l3-3l-3-3"})],-1),ae=[te];function se(f,_){return m(),p("svg",le,ae)}const re={name:"tabler-arrows-join2",render:se},ce={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},ie=c("path",{fill:"currentColor",d:"M13.54 22H10c-.25 0-.46-.18-.5-.42l-.37-2.65c-.63-.25-1.17-.59-1.69-.99l-2.49 1.01c-.22.08-.49 0-.61-.22l-2-3.46a.493.493 0 0 1 .12-.64l2.11-1.66L4.5 12l.07-1l-2.11-1.63a.493.493 0 0 1-.12-.64l2-3.46c.12-.22.39-.31.61-.22l2.49 1c.52-.39 1.06-.73 1.69-.98l.37-2.65c.04-.24.25-.42.5-.42h4c.25 0 .46.18.5.42l.37 2.65c.63.25 1.17.59 1.69.98l2.49-1c.22-.09.49 0 .61.22l2 3.46c.13.22.07.49-.12.64L19.43 11l.07 1v.19c-.5-.12-1-.19-1.5-.19c-.17 0-.34 0-.5.03c0-.62-.1-1.24-.3-1.83l2.11-1.55l-.75-1.3l-2.41 1.04a5.42 5.42 0 0 0-3.03-1.77L12.75 4h-1.5l-.37 2.61c-1.2.25-2.26.89-3.03 1.78L5.44 7.35l-.75 1.3L6.8 10.2a5.55 5.55 0 0 0 0 3.6l-2.12 1.56l.75 1.3l2.43-1.04c.77.88 1.82 1.52 3.01 1.76l.37 2.62h1.11c.26.75.65 1.42 1.19 2m2.42-9.64c.04-.12.04-.24.04-.36c0-2.21-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4c.12 0 .24 0 .36-.04a6.045 6.045 0 0 1 3.6-3.6M12 14c-1.1 0-2-.89-2-2s.9-2 2-2s2 .9 2 2s-.89 2-2 2m4 1v6l5-3l-5-3Z"},null,-1),ue=[ie];function _e(f,_){return m(),p("svg",ce,ue)}const de={name:"mdi-cog-play-outline",render:_e},ve=U({__name:"runParamModal",setup(f,{expose:_}){const{message:B}=F(),{t}=Q(),{runLogModal:C}=W(),g={show:!1,title:"参数设置",runPath:"",model:{param:[],env:[],runMode:"run"},cmd:""},s=z(x(g)),{show:h,title:N,model:i}=A(s),V=async()=>{let r;r=`task ${s.model.runMode} ${s.runPath}`;const a=s.model.param.map(l=>l.key?l.value?`${l.key} ${l.value}`:`${l.key}`:"").join(" ");a&&(r=`${r} ${a}`);const d=s.model.env.map(l=>l.key?`task env edit ${l.key} ${l.value||'""'} >/dev/null 2>&1`:"").join(" ; ");d&&(r=`${d} ; ${r}`);try{s.cmd=r,s.show=!1,C.value?.open({title:s.title,cmd:s.cmd})}catch(l){B?.error(`${t("file.run.fail")} (${l})`,{keepAliveOnHover:!0})}};return _({open:(r={runPath:""})=>{Object.assign(s,x(g),r,{show:!0})}}),(r,a)=>{const d=de,l=P,j=re,y=P,k=G,H=oe,b=K,I=O,v=S,w=T,$=J,D=Z,R=q;return m(),p("div",null,[e(R,{show:n(h),"onUpdate:show":a[3]||(a[3]=u=>E(h)?h.value=u:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,title:n(N),"positive-text":n(t)("file.run.form.confirmButtion"),"negative-text":n(t)("common.cancelText"),style:{width:"400px"},onPositiveClick:V},{icon:o(()=>[e(l,null,{default:o(()=>[e(d,{style:{"vertical-align":"-0.15em"}})]),_:1})]),default:o(()=>[e(D,{ref:"formRef",model:n(i),style:{"padding-top":"1em"}},{default:o(()=>[e(b,{vertical:""},{default:o(()=>[e(v,{"show-feedback":!1,label:n(t)("file.run.form.runModeLable"),path:"runMode"},{default:o(()=>[e(I,{value:n(i).runMode,"onUpdate:value":a[0]||(a[0]=u=>n(i).runMode=u)},{default:o(()=>[e(b,null,{default:o(()=>[e(k,{value:"run"},{default:o(()=>[M(L(n(t)("file.run.form.runModeValueNormal"))+" ",1),e(y,null,{default:o(()=>[e(j,{style:{"vertical-align":"-0.15em"}})]),_:1})]),_:1}),e(k,{value:"conc"},{default:o(()=>[M(L(n(t)("file.run.form.runModeValueConcurrency"))+" ",1),e(y,null,{default:o(()=>[e(H,{style:{"vertical-align":"-0.15em"}})]),_:1})]),_:1})]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),e(v,{size:"small","show-feedback":!1,label:n(t)("file.run.form.optionsLable"),path:"param"},{default:o(()=>[e($,{style:{"max-height":"160px"}},{default:o(()=>[e(w,{value:n(i).param,"onUpdate:value":a[1]||(a[1]=u=>n(i).param=u),preset:"pair","key-placeholder":n(t)("file.run.form.paramKeyPlaceholder"),"value-placeholder":n(t)("file.run.form.paramValuePlaceholder")},null,8,["value","key-placeholder","value-placeholder"])]),_:1})]),_:1},8,["label"]),e(v,{size:"small","show-feedback":!1,label:n(t)("file.run.form.envLable"),path:"env"},{default:o(()=>[e($,{style:{"max-height":"160px"}},{default:o(()=>[e(w,{value:n(i).env,"onUpdate:value":a[2]||(a[2]=u=>n(i).env=u),preset:"pair","key-placeholder":n(t)("file.run.form.envKeyPlaceholder"),"value-placeholder":n(t)("file.run.form.envValuePlaceholder")},null,8,["value","key-placeholder","value-placeholder"])]),_:1})]),_:1},8,["label"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show","title","positive-text","negative-text"])])}}});export{ve as _};
