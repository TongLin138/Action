import{a6 as _,aH as V,as as $,a7 as w,a8 as a,a9 as l,aB as c,G as dl,w as pl,x as d,aL as fl,aM as _l,at as ml,u as e,ax as fe,aC as g,am as b,aD as F,aN as P,aI as m,aR as R,aJ as H,aw as vl,au as yl,aV as gl,bj as ze,al as u,bu as bl,b9 as hl,aP as kl,aQ as xl,by as wl,a$ as Cl,bK as $l,bx as Dl,bL as zl,bz as Ml,bN as Pl,aS as Il,bO as Tl,aK as Bl,bC as Rl,aO as Sl,bD as Nl,bE as Fl,bF as El,bG as Ul,bH as Ll,bv as ut}from"./vendor-339b2486.js";import{_ as Ol}from"./PageWrapper.vue_vue_type_style_index_0_lang-ebcdd68c.js";import{a as ct,r as Me,m as Pe,g as dt,b as Hl,c as pt,u as ft,d as Vl,e as ql,f as jl,h as _t}from"./create-971d7f82.js";import{a as Al,b as Wl,c as Kl,_ as Zl}from"./index.vue_vue_type_style_index_0_lang-f5024cf5.js";import{_ as Gl}from"./search2-line-bea82623.js";import{f as _e,_ as Ql}from"./filePrefix-033be9bb.js";import{_ as Xl,a as Yl}from"./find-replace-019bb954.js";import{_ as Jl}from"./swap-outlined-206b9abd.js";import{d as ea,c as ta,_ as la,a as aa}from"./close-to-menu-alt-transition-d9411680.js";import{c as na}from"./index-11f80ee5.js";import{_ as Te,c as oa,a as sa,L as me}from"./index-b98e63e9.js";import{_ as ia}from"./runParamModal.vue_vue_type_script_setup_true_lang-d3a297a0.js";import{u as ra}from"./useAppInject-25d4ad8f.js";import{u as ua}from"./useTransition-0172c80f.js";import{d as Ie,a as ca,f as da,b as pa,c as mt}from"./delete-15d244d2.js";import{s as fa,f as vt,g as yt,a as _a,c as ma,d as va,e as gt,h as ya,i as ga}from"./file-1f2fda02.js";import{c as ve,f as le,a as ba,b as bt}from"./index-02fa18bb.js";import{T as ha,a as ka}from"./index-03bc6ce5.js";import"./sharp-arrow-back-ios-59e3289b.js";import"./useDesign-d1f0a28d.js";import"./clock-edit-outline-4df5b965.js";import"./more-horiz-299ff3a0.js";import"./propTypes-8a448afd.js";import"./useRunLog-a426dd0e.js";import"./trash-ddde501b.js";import"./helper-121dcefa.js";const xa={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},wa=$("path",{fill:"currentColor",d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4m2 16H5V5h11.17L19 7.83V19m-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3s3-1.34 3-3s-1.34-3-3-3M6 6h9v4H6V6Z"},null,-1),Ca=[wa];function $a(q,y){return _(),V("svg",xa,[...Ca])}const Da={name:"mdi-content-save-outline",render:$a},za={};function Ma(q,y){const j=Da,x=c;return _(),w(x,null,{default:a(()=>[l(j,{style:{"vertical-align":"baseline"}})]),_:1})}const ht=Te(za,[["render",Ma]]),Pa={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Ia=$("path",{fill:"currentColor",d:"M19 7h-2.81c-.45-.8-1.07-1.5-1.82-2L16 3.41L14.59 2l-2.17 2.17a6.002 6.002 0 0 0-2.83 0L7.41 2L6 3.41L7.62 5c-.75.5-1.36 1.21-1.81 2H3v2h2.09c-.06.33-.09.66-.09 1v1H3v2h2v1c0 .34.03.67.09 1H3v2h2.81A6.002 6.002 0 0 0 13 19.65V19c0-.57.09-1.14.25-1.69c-.66.45-1.45.69-2.25.69c-2.21 0-4-1.79-4-4v-4c0-2.21 1.79-4 4-4s4 1.79 4 4v4c0 .19 0 .39-.05.58c.59-.54 1.29-.96 2.05-1.23V13h2v-2h-2v-1c0-.34-.03-.67-.09-1H19V7m-6 2v2H9V9h4m0 4v2H9v-2h4m4 3v6l5-3l-5-3Z"},null,-1),Ta=[Ia];function Ba(q,y){return _(),V("svg",Pa,[...Ta])}const Ra={name:"mdi-bug-play-outline",render:Ba},Sa={};function Na(q,y){const j=Ra,x=c;return _(),w(x,null,{default:a(()=>[l(j,{style:{"vertical-align":"baseline"}})]),_:1})}const kt=Te(Sa,[["render",Na]]),Fa={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Ea=$("path",{fill:"currentColor",d:"M13 19c0 .34.04.67.09 1H6.5c-1.5 0-2.81-.5-3.89-1.57C1.54 17.38 1 16.09 1 14.58c0-1.3.39-2.46 1.17-3.48S4 9.43 5.25 9.15c.42-1.53 1.25-2.77 2.5-3.72S10.42 4 12 4c1.95 0 3.6.68 4.96 2.04C18.32 7.4 19 9.05 19 11c1.15.13 2.1.63 2.86 1.5c.51.57.84 1.21 1 1.92A5.908 5.908 0 0 0 19 13h-2v-2c0-1.38-.5-2.56-1.46-3.54C14.56 6.5 13.38 6 12 6s-2.56.5-3.54 1.46C7.5 8.44 7 9.62 7 11h-.5c-.97 0-1.79.34-2.47 1.03c-.69.68-1.03 1.5-1.03 2.47s.34 1.79 1.03 2.5c.68.66 1.5 1 2.47 1h6.59c-.05.33-.09.66-.09 1m7-1v-3h-2v3h-3v2h3v3h2v-3h3v-2h-3Z"},null,-1),Ua=[Ea];function La(q,y){return _(),V("svg",Fa,[...Ua])}const Oa={name:"mdi-cloud-plus-outline",render:La},Ha={key:1,class:"font-bold text-xl"},Va={key:2},qa={class:"font-bold text-xl"},ja={class:"pb-1 mr-3"},Aa={class:"pb-1 mr-3"},Wa={style:{"margin-bottom":"12px"}},Ka=dl({__name:"index",setup(q){const{message:y,confirm:j}=oa(),{getIsMobile:x}=ra(),{t:o}=sa(),xt=pl(),ae=d("fade-slide");ua(ae);const Be=d(),Re=d(),A=d(o("routes.main.page.script.manage")),ye=d([]),ge=d([]),ne=d([]),E=d(""),Se=d([]),Ne=d(0),Fe=d(0),S=d([]),wt=d(""),Ee=d(""),Ue=d(""),W=d(!x.value),K=d(x.value?"on":"off"),be=d(!1),U=d(x.value?13:15),M=d([]),N=d({}),O=d(""),oe=d(!1),Z=d(!1),G=d(!1),Q=d(!1),X=d(!1),T=d(!1),B=d(void 0),he=d(!1),se=d(!0),Y=d(!1),J=d(!1),f=d(null),p=d(null),D=d({}),ie=d(""),z=d({type:1,name:"",dir:""}),I=async n=>{switch(n){case"findBox":be.value=!be.value,T.value=!1;break;case"wordWrap":K.value=K.value==="on"?"off":"on",T.value=!1;break;case"minimap":W.value=!W.value,T.value=!1;break;case"showEditorShortcutsInfo":e(S.value)[`editor-${f.value.key}`].showShortCuts();break;case"siderCollapse":B.value=!B.value;break;case"save":he.value=!0;const t=e(S.value)[`editor-${f.value.key}`].getValue();try{await fa({content:t,path:f.value.key}),y.success(o("editor.main.savedSuccess")),N.value[f.value.key].content=t}finally{he.value=!1}break;case"clickContextMenu":oe.value=!1;break;case"exitContextMenu":oe.value=!1,v("contextMenu");break}},Ct=n=>{if(!f.value)return;const t=f.value.key;n!==t&&(N.value[t].content=e(S.value)[`editor-${t}`].getValue())},re=n=>{M.value.forEach(t=>{t.key===n&&(A.value=t.label,O.value=n,f.value=t)})},ee=n=>{M.value.forEach((t,i)=>{t.key===n&&(M.value.splice(i,1),delete N.value[t.key],delete S.value[`editor-${t.key}`],M.value.length>0?O.value===n&&re(M.value[M.value.length-1].key):(v("content"),v("tmpData"),He(t.key)))})},$t=n=>{Ct(n),re(n)},Dt=n=>{ee(n.value)},te=(n,t,i)=>{if(!i.node)return;const s=i.node,h=s.title;switch(i.action){case"expand":s.prefix=()=>u(c,null,{default:()=>u(ve.open[h]||ba)});break;case"collapse":s.prefix=()=>u(c,null,{default:()=>u(ve.close[h]||le)});break}},zt=n=>u(R,{placement:"left",delay:1500,duration:500,showArrow:!1,overlap:!0,style:{width:"max-content",fontSize:"12px",right:"26px"}},{trigger:()=>n.option.label,default:()=>u(g,{style:"gap: 4px"},{default:()=>[n.option.key,u(b,{text:!0,type:"primary",focusable:!1,onClick:()=>Rt(n.option.key)},{default:()=>u(ta)})]})}),Le=async(n,t,i)=>{if(i.action!=="select")return;const s=i.node;if(s.isDir||s.disabled)return;x.value&&(B.value=!0),M.value.find(C=>C.key===s.key)||(await Oe(s.key,s.language),M.value.push(s)),re(s.key)},Mt=async({node:n,dragNode:t})=>{if(!n.isDir)return;const i=t.key,s=`${n.key}${i.includes("\\")?"\\":"/"}${t.label}`;if(i!==s)try{await vt({path:i,newPath:s}),y.success(o("file.move.success")),ee(i),L()}catch{}},ke=(n,t,i)=>{switch(i.action){case"select":i.node&&(D.value=i.node,z.value.dir=i.node.key);break;case"delete":case"clear":case"unselect":v("treeSelect");break}},Pt=async n=>{const t=i=>{i.length&&i.forEach(s=>{if(s.type===0)Object.assign(s,{key:s.path,label:s.title,isDir:!0,canRun:!1,disabled:!1,icon:()=>u(le),prefix:()=>u(c,null,{default:()=>u(ve.close[s.title]||le)})}),t(s.children),s.children.length||(Object.assign(s,{children:null}),s.prefix=()=>u(c,null,{default:()=>u(_t)}));else{const h=s.name;if(h){const C=h.substring(h.lastIndexOf(".")+1),k=bt[C]||{};Object.assign(s,{key:s.path,label:h,isDir:!1,language:k.language||"plaintext",canRun:k.canRun||!1,disabled:k.disabled||!k.language,icon:()=>u(k.icon||_e),prefix:()=>u(c,null,{default:()=>u(k.icon||_e)})})}}})};return t(n),n},It=async n=>{const t=i=>{i.length&&i.forEach(s=>{s.type===0&&(Object.assign(s,{key:s.path,label:s.title,isDir:!0,canRun:!1,disabled:!1,icon:()=>u(le),prefix:()=>u(c,null,{default:()=>u(ve.close[s.title]||le)})}),t(s.children),s.children.length||(Object.assign(s,{children:null}),s.prefix=()=>u(c,null,{default:()=>u(_t)})))})};return t(n),n},Tt=({option:n})=>({onContextmenu(t){Se.value=xe("ContextMenu",{option:n}),oe.value=!0,Ne.value=t.clientX,Fe.value=t.clientY,t.preventDefault(),p.value=n}}),xe=(n,{option:t})=>{const i={save:{label:o("file.save.button"),key:"save",icon:()=>u(c,null,{default:()=>u(ht)}),props:{onClick:()=>{I("save")}}},run:{label:o("file.run.button"),key:"run",icon:()=>u(c,null,{default:()=>u(kt)}),props:{onClick:()=>{Ve()}}},attribute:{label:o("file.attribute.button"),key:"attribute",icon:()=>u(c,null,{default:()=>u(ct)}),props:{onClick:()=>{Ge()}}},create:{label:o("file.create.button"),key:"create",icon:()=>u(c,null,{default:()=>u(pt)}),props:{onClick:()=>{jt()}}},upload:{label:o("file.upload.button"),key:"upload",icon:()=>u(c,null,{default:()=>u(ft)}),props:{onClick:()=>{Zt()}}},more:{label:()=>u(ze,{style:{color:"var(--app-primary-color)"}},{default:()=>o("file.more.button")}),key:"more",icon:()=>u(c,{color:"var(--app-primary-color)"},{default:()=>u(dt)}),children:[{label:o("file.download.button"),key:"download",icon:()=>u(c,null,{default:()=>u(t.isDir?ca:da)}),props:{onClick:()=>{Ze()}}},{label:o("file.move.button"),key:"move",icon:()=>u(c,null,{default:()=>u(Pe)}),props:{onClick:()=>{qe()}}},{label:o("file.rename.button"),key:"rename",icon:()=>u(c,null,{default:()=>u(Me)}),props:{onClick:()=>{Ae()}}},{type:"divider",key:"d1"},{label:()=>u(ze,{style:{color:"var(--app-error-color)"}},{default:()=>o("file.delete.button")}),key:"delete",icon:()=>u(c,{color:"var(--app-error-color)"},{default:()=>u(Ie)}),props:{onClick:()=>{Ke()}}}]}};let s=[];return n==="ContextMenu"?(s=[i.attribute],t.isDir?s=[i.create,i.upload,...s,...i.more.children]:t.disabled?s=[...s,...i.more.children]:(s=[...s,i.more],t.canRun&&s.unshift(i.run))):n==="MobileHeader"?(s=[i.save,i.more.children[0],i.more.children[1],i.more.children[2],i.attribute,i.more.children[3],i.more.children[4]],t.canRun&&s.splice(1,0,i.run)):n==="HeaderSubTitle"&&(s=[i.create,i.upload]),s},L=async()=>{se.value=!0;const n=await yt({}),t=await Pt(n);ye.value=t,se.value=!1},we=async()=>{J.value=!0;const n=await yt({isDir:"true"}),t=await It(n);ne.value=t,J.value=!1},Bt=async()=>{const n=xt.currentRoute.value.query.path;if(!n)return;const t=n.split("/").pop()||"",i=t.substring(t.lastIndexOf(".")+1),s=bt[i]||{},h=s.language||"plaintext";if(h)if(await Oe(n,h),N.value[n].content){ge.value=n.split("/").slice(0,-1).map((k,ue,ce)=>ce.slice(0,ue+1).join("/"));const C={key:n,label:t,isDir:!1,language:h,canRun:s.canRun||!1,disabled:s.disabled||!h,icon:()=>u(s.icon||_e),prefix:()=>u(c,null,{default:()=>u(s.icon||_e)})};M.value.push(C),re(C.key),x.value&&(B.value=!0)}else N.value={}},Oe=async(n,t)=>{wt.value=t||"plaintext",Y.value=!0;try{const i=await _a({path:encodeURI(n)});Y.value=!1,i?N.value[n]={content:i,language:t}:(N.value[n]={content:"",language:t},y.info(o("page.script.fileContentIsEmptyMsg")))}catch{v("content"),v("tmpData")}finally{Y.value=!1}},He=n=>{S.value.length>0&&S.value[`editor-${n}`]&&(S.value[`editor-${n}`].dispose(),delete e(S.value)[n])},Rt=n=>{na(n)?y.success(o("common.copyOk")):y.error(o("common.copyFail"))},Ce=()=>({ghost:!1,tertiary:!0}),v=n=>{switch(n){case"title":A.value=o("routes.main.page.script.manage");break;case"content":v("title"),f.value=null,O.value="",x.value&&(B.value=!1);break;case"contextMenu":p.value=null;break;case"renameInput":ie.value="";break;case"treeSelect":D.value={},z.value.dir=void 0;break;case"createData":z.value={type:1,name:void 0,dir:void 0};break;case"tmpData":v("contextMenu"),v("renameInput"),v("treeSelect"),v("createData");break}},Ve=()=>{Ee.value=p.value?p.value.key:f.value.key,Ue.value=p.value?p.value.label:f.value.label;try{Be.value?.open({title:Ue.value,runPath:Ee.value})}catch{}finally{v("tmpData")}},St=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(Pe)}),qe=()=>{G.value=!0,we()},Nt=async()=>{const n=p.value?p.value.key:f.value.key,t=p.value?p.value.label:f.value.label;let i=D.value?D.value.key:"";i=`${i}${n.includes("\\")?"\\":"/"}${t}`;try{await vt({path:n,newPath:i}),y.success(o("file.move.success")),ee(n),L()}catch{}finally{v("tmpData")}},Ft=()=>({disabled:!D.value}),je=()=>{G.value=!1,v("treeSelect")},Et=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(Me)}),Ae=()=>{Z.value=!0},Ut=async()=>{const n=p.value?p.value.key:f.value.key;try{await ma({path:n,name:ie.value}),y.success(o("file.rename.success")),ee(n),L()}catch{}finally{v("tmpData")}},Lt=()=>({disabled:!ie.value}),We=()=>{Z.value=!1,v("tmpData")},Ot=n=>{ie.value=n},Ht=n=>!["<",">","?","*","/"].some(t=>n.includes(t)),Ke=async()=>{const n=p.value?p.value.key:f.value.key;j.error({title:o("file.delete.title"),content:o("file.delete.confirm"),icon:()=>u(c,{style:"vertical-align: 0"},{default:()=>u(Ie)}),closable:!1,maskClosable:!1,autoFocus:!1,positiveText:o("file.delete.button"),onPositiveClick:async()=>{try{await va({path:n}),y.success(o("file.delete.success")),ee(n),L()}catch{}finally{v("tmpData")}},onNegativeClick:()=>{v("tmpData")},negativeButtonProps:{ghost:!1,tertiary:!0}})},Ze=async()=>{const n=p.value?p.value.key:f.value.key,t=p.value?p.value.label:f.value.label,i=p.value?p.value.isDir:f.value.isDir,s=y.info(o("file.download.wait"),{duration:0,icon:()=>u(c,null,{default:()=>u(pa)})});try{if(i){const{code:h,message:C,blob:k}=await gt({path:n});s.destroy(),h?(y.success(o("file.download.success")),k&&mt(k,`${t}.zip`)):C&&y.error(C)}else{const{code:h,message:C,blob:k}=await gt({path:n});s.destroy(),h?(y.success(o("file.download.success")),k&&mt(k,t)):C&&y.error(C)}}catch{s.destroy(),y.error(o("file.download.fail"),{keepAliveOnHover:!0})}finally{v("tmpData")}},Ge=async()=>{const n=p.value?p.value.key:f.value.key,t=p.value?p.value.isDir:f.value.isDir;try{Re.value?.open({path:n,isDir:t})}catch{}finally{v("tmpData")}},Vt={name:{required:!0},dir:{required:!0}},qt=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(pt)}),jt=()=>{Q.value=!0,p.value&&({label:D.value.label,key:D.value.key}=p.value,z.value.dir=D.value.key),we()},At=async()=>{const n=z.value.type,t=z.value.name,i=z.value.dir;try{await ya({type:n,name:t,dir:i}),y.success(o("file.create.success")),L()}catch{}finally{v("tmpData")}},Qe=()=>{Q.value=!1,v("tmpData")},Wt=()=>({disabled:!D.value||!z.value.name}),Kt=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(ft)}),Zt=()=>{X.value=!0,p.value&&({label:D.value.label,key:D.value.key}=p.value),we()},Gt=({file:n,onFinish:t,onError:i,onProgress:s})=>{const h=n.name,C=new FormData;C.append("file",n.file),ga({params:C,path:D.value.key,onUploadProgress:({progress:k})=>{s({percent:Math.ceil((k||0)*100)})}}).then(()=>{y.success(`${h} ${o("file.upload.success")}`),L(),t()}).catch(k=>{y.error(k.message,{keepAliveOnHover:!0}),i()})},Qt=()=>{X.value=!1,v("tmpData")};return fl(async()=>{await L(),Bt()}),_l(()=>{M.value.length>0&&He(M.value[0].key)}),(n,t)=>{const i=la,s=aa,h=bl,C=Oa,k=hl,ue=Al,ce=Wl,Xe=kl,Ye=Xl,Je=Jl,et=Yl,tt=xl,Xt=Ql,lt=wl,at=Gl,de=Cl,nt=$l,ot=Dl,st=zl,Yt=Ml,it=Pl,Jt=Kl,el=Il,tl=Tl,rt=Bl,pe=Rl,$e=Sl,ll=Nl,al=Vl,nl=Fl,ol=El,sl=ql,il=jl,De=Ul,rl=Ll,ul=Ol;return _(),w(ul,{ref:"pageWrapper","content-full":!0},ml({title:a(()=>[l(e(g),null,{default:a(()=>[e(x)&&e(f)?(_(),w(fe,{key:0,name:e(ae),mode:"in-out",appear:""},{default:a(()=>[l(e(b),{strong:"",tertiary:"",size:"tiny",style:{height:"29px",padding:"0 8px"},focusable:!1,onClick:t[0]||(t[0]=r=>I("siderCollapse"))},{icon:a(()=>[l(e(c),{size:20},{default:a(()=>[e(B)?(_(),w(s,{key:1,style:{"vertical-align":"baseline"}})):(_(),w(i,{key:0,style:{"vertical-align":"baseline"}}))]),_:1})]),_:1})]),_:1},8,["name"])):H("",!0),e(x)?(_(),V("div",Va,[l(h,{style:{height:"100%","max-width":"170px"}},{tooltip:a(()=>[$("span",null,m(e(A)),1)]),default:a(()=>[$("span",qa,m(e(A)),1)]),_:1})])):(_(),V("span",Ha,m(e(A)),1))]),_:1})]),subtitle:a(()=>[l(e(g),{style:vl(e(x)?"gap: 4px":"gap: 0")},{default:a(()=>[e(x)&&e(f)?H("",!0):(_(),w(k,{key:0,trigger:"click",options:xe("HeaderSubTitle",{option:e(f)})},{default:a(()=>[l(e(b),{circle:"",strong:"",quaternary:!e(x),secondary:e(x),size:"small",focusable:!1,style:{"vertical-align":"-0.15em"}},{default:a(()=>[l(C)]),_:1},8,["quaternary","secondary"])]),_:1},8,["options"]))]),_:1},8,["style"])]),default:a(()=>[l(rt,{bordered:!e(x),style:{height:"100%","word-break":"unset"},"content-style":"padding: 0; height: 100%"},{default:a(()=>[l(tl,{"has-sider":"",style:{height:"100%"},"content-style":"height: 100%"},{default:a(()=>[e(x)?(_(),w(st,{key:1,class:"scripts-container",width:"100%","content-style":"display: flex; flex-direction: column; height: 100%; padding: .8em 0 0 .8em","trigger-style":"margin-right: .75em","collapsed-trigger-style":"margin-right: -0.75em","collapsed-width":0,bordered:!1,"show-trigger":!1,"show-collapsed-content":!1,collapsed:e(B),"on-update:collapsed":r=>B.value=r,"native-scrollbar":!1},{default:a(()=>[$("div",Aa,[l(de,{value:e(E),"onUpdate:value":t[22]||(t[22]=r=>F(E)?E.value=r:null),clearable:"",size:"small",style:{"margin-bottom":".5em"},placeholder:e(o)("page.script.searchInputPlaceholder")},{prefix:a(()=>[l(at)]),_:1},8,["value","placeholder"])]),l(ot,{"x-scrollable":"",class:"flex-1 pr-3"},{default:a(()=>[l(nt,{"expand-on-click":"","block-line":"",style:{"font-size":"15px"},"show-irrelevant-nodes":!1,pattern:e(E),data:e(ye),"default-expanded-keys":e(ge),"on-update:expanded-keys":te,"on-update:selected-keys":Le},null,8,["pattern","data","default-expanded-keys"]),l(Yt,{right:20,bottom:20})]),_:1}),l(me,{show:e(se)},null,8,["show"])]),_:1},8,["collapsed","on-update:collapsed"])):(_(),w(st,{key:0,class:"scripts-container",width:"320","content-style":"display: flex; flex-direction: column; height: 100%; padding: .8em 0 0 .8em",bordered:"","collapsed-width":0,"show-trigger":"bar","show-collapsed-content":!1,"native-scrollbar":!1,collapsed:e(B),"on-update:collapsed":B.value=void 0},{default:a(()=>[$("div",ja,[l(de,{value:e(E),"onUpdate:value":t[19]||(t[19]=r=>F(E)?E.value=r:null),clearable:"",style:{"margin-bottom":".5em"},placeholder:e(o)("page.script.searchInputPlaceholder")},{prefix:a(()=>[l(at)]),_:1},8,["value","placeholder"])]),l(ot,{"x-scrollable":"",class:"flex-1 pr-3"},{default:a(()=>[l(nt,{"expand-on-click":"",draggable:"","show-line":"","show-irrelevant-nodes":!1,"node-props":Tt,pattern:e(E),data:e(ye),"default-expanded-keys":e(ge),"render-label":zt,"on-update:expanded-keys":te,"on-update:selected-keys":Le,onDrop:Mt},null,8,["pattern","data","default-expanded-keys"]),l(k,{trigger:"manual",placement:"bottom-start",show:e(oe),options:e(Se),x:e(Ne),y:e(Fe),onSelect:t[20]||(t[20]=r=>I("clickContextMenu")),onClickoutside:t[21]||(t[21]=r=>I("exitContextMenu"))},null,8,["show","options","x","y"])]),_:1}),l(me,{show:e(se)},null,8,["show"])]),_:1},8,["collapsed","on-update:collapsed"])),e(M).length>0?(_(),w(it,{key:2,class:"tab-panel"},{default:a(()=>[l(e(ha),{value:e(O),"onUpdate:value":t[23]||(t[23]=r=>F(O)?O.value=r:null),"drag-sort":"",direction:"vertical",style:{height:"100%",width:"100%"},theme:"card","on-drag-sort":()=>{},onChange:$t,onRemove:Dt},{default:a(()=>[(_(!0),V(gl,null,yl(e(M),r=>(_(),w(e(ka),{key:r.key,value:r.key,removable:"",style:{height:"100%",width:"100%",padding:"0"},"destroy-on-hide":!1},{label:a(()=>[e(x)?(_(),w(e(g),{key:1,style:{gap:"2px"}},{default:a(()=>[(_(),w(ut(r.prefix),{style:{"vertical-align":"-0.15em"}})),P(" "+m(r.label),1)]),_:2},1024)):(_(),w(e(R),{key:0,placement:"top",trigger:"hover",overlap:"",delay:1e3},{trigger:a(()=>[l(e(g),{style:{gap:"2px"}},{default:a(()=>[(_(),w(ut(r.prefix),{style:{"vertical-align":"-0.15em"}})),P(" "+m(r.label),1)]),_:2},1024)]),default:a(()=>[$("span",null,m(r.key),1)]),_:2},1024))]),default:a(()=>[l(fe,{name:"fade",mode:"out-in",appear:""},{default:a(()=>[l(Zl,{ref_for:!0,ref:cl=>e(S)[`editor-${r.key}`]=cl,style:{height:"100%",padding:"0","z-index":"999999"},value:{content:e(N)[r.key].content,language:e(N)[r.key].language},"word-wrap":e(K),minimap:e(W),"font-size":e(U),"find-box":e(be)},null,8,["value","word-wrap","minimap","font-size","find-box"])]),_:2},1024)]),_:2},1032,["value"]))),128)),l(me,{show:e(Y)},null,8,["show"])]),_:1},8,["value"])]),_:1})):(_(),w(it,{key:3},{default:a(()=>[e(B)!==!0?(_(),w(el,{key:0,class:"min-h-200px flex-jc-ac h-full",size:"huge","show-description":!0,description:e(o)("common.selectFileEmptyDesc")},{icon:a(()=>[l(e(c),null,{default:a(()=>[l(Jt)]),_:1})]),_:1},8,["description"])):H("",!0),l(me,{show:e(Y)},null,8,["show"])]),_:1}))]),_:1})]),_:1},8,["bordered"]),l(pe,{show:e(Z),"onUpdate:show":t[24]||(t[24]=r=>F(Z)?Z.value=r:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:Et,title:e(o)("file.rename.title"),"positive-text":e(o)("common.okText"),"negative-text":e(o)("common.cancelText"),"on-close":We,"positive-button-props":Lt(),"negative-button-props":Ce(),onNegativeClick:t[25]||(t[25]=r=>We()),onPositiveClick:t[26]||(t[26]=r=>Ut())},{default:a(()=>[l(de,{clearable:"",style:{"margin-top":"5px"},"default-value":e(p)?e(p).label:e(f)?e(f).label:null,"allow-input":Ht,onInput:Ot},null,8,["default-value"])]),_:1},8,["show","title","positive-text","negative-text","positive-button-props","negative-button-props"]),l(pe,{show:e(G),"onUpdate:show":t[27]||(t[27]=r=>F(G)?G.value=r:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:St,title:e(o)("file.move.title"),"positive-text":e(o)("common.okText"),"negative-text":e(o)("common.cancelText"),"on-close":je,"positive-button-props":Ft(),"negative-button-props":Ce(),onNegativeClick:t[28]||(t[28]=r=>je()),onPositiveClick:t[29]||(t[29]=r=>Nt())},{default:a(()=>[l($e,{clearable:"","show-path":!0,separator:"/",style:{"margin-top":"5px"},"consistent-menu-width":!1,loading:e(J),options:e(ne),"on-update:expanded-keys":te,"on-update:value":ke},null,8,["loading","options"])]),_:1},8,["show","title","positive-text","negative-text","positive-button-props","negative-button-props"]),l(pe,{show:e(X),"onUpdate:show":t[30]||(t[30]=r=>F(X)?X.value=r:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:Kt,title:!e(D)&&!e(p)?e(o)("file.upload.needSelect"):e(o)("file.upload.title"),"on-close":Qt},{default:a(()=>[l(e(g),{vertical:""},{default:a(()=>[l($e,{"default-value":e(D)?.key,clearable:"","show-path":!0,separator:"/",style:{"margin-top":"5px"},placeholder:e(o)("file.upload.selectPlaceholder"),"consistent-menu-width":!1,loading:e(J),options:e(ne),"on-update:expanded-keys":te,"on-update:value":ke},null,8,["default-value","placeholder","loading","options"]),l(ll,{type:"info",closable:""},{default:a(()=>[P(m(e(o)("file.upload.info")),1)]),_:1}),l(ol,{multiple:"","directory-dnd":"",disabled:!e(D)&&!e(p),"custom-request":Gt},{default:a(()=>[l(nl,null,{default:a(()=>[$("div",Wa,[l(e(c),{size:"48",depth:3},{default:a(()=>[l(al)]),_:1})]),l(e(ze),{style:{"font-size":"16px"}},{default:a(()=>[P(m(e(o)("file.upload.draggerText")),1)]),_:1})]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1},8,["show","title"]),l(pe,{show:e(Q),"onUpdate:show":t[34]||(t[34]=r=>F(Q)?Q.value=r:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:qt,title:e(o)("file.create.title"),"on-close":Qe,"positive-text":e(o)("common.okText"),"negative-text":e(o)("common.cancelText"),"positive-button-props":Wt(),"negative-button-props":Ce(),onNegativeClick:t[35]||(t[35]=r=>Qe()),onPositiveClick:t[36]||(t[36]=r=>At())},{default:a(()=>[l(rt,{bordered:!1,style:{height:"100%","word-break":"unset"},"content-style":"padding: 0"},{default:a(()=>[l(rl,{model:e(z),rules:Vt,"label-placement":"left",style:{"padding-top":"1em"}},{default:a(()=>[l(De,{label:e(o)("file.create.form.type"),"show-label":!1,path:"type",style:{"padding-top":"1em"}},{default:a(()=>[l(e(g),{style:{width:"100%",height:"140px",gap:"0"},justify:"space-around"},{default:a(()=>[l(e(b),{strong:"",dashed:"",type:e(z).type===1?"primary":"default",focusable:!1,style:{width:"120px",height:"100%"},onClick:t[31]||(t[31]=r=>e(z).type=1)},{default:a(()=>[l(e(g),{vertical:"",style:{gap:"20px"}},{default:a(()=>[l(e(c),{size:48},{default:a(()=>[l(sl,{style:{"vertical-align":"base-line"}})]),_:1}),P(" "+m(e(o)("file.create.form.typeFile")),1)]),_:1})]),_:1},8,["type"]),l(e(b),{strong:"",dashed:"",type:e(z).type===0?"primary":"default",focusable:!1,style:{width:"120px",height:"100%"},onClick:t[32]||(t[32]=r=>e(z).type=0)},{default:a(()=>[l(e(g),{vertical:"",style:{gap:"20px"}},{default:a(()=>[l(e(c),{size:48},{default:a(()=>[l(il,{style:{"vertical-align":"base-line"}})]),_:1}),P(" "+m(e(o)("file.create.form.typeFolder")),1)]),_:1})]),_:1},8,["type"])]),_:1})]),_:1},8,["label"]),l(De,{label:e(o)("file.create.form.name"),path:"name"},{default:a(()=>[l(de,{value:e(z).name,"onUpdate:value":t[33]||(t[33]=r=>e(z).name=r),clearable:"",placeholder:e(o)("file.create.form.namePlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),l(De,{label:e(o)("file.create.form.path"),path:"dir"},{default:a(()=>[l($e,{"default-value":e(D)?.key,clearable:"","show-path":!0,separator:" / ",style:{"margin-top":"5px"},"consistent-menu-width":!1,loading:e(J),options:e(ne),"on-update:expanded-keys":te,"on-update:value":ke},null,8,["default-value","loading","options"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1})]),_:1},8,["show","title","positive-text","negative-text","positive-button-props","negative-button-props"]),l(ia,{ref_key:"runParamModal",ref:Be},null,512),l(Hl,{ref_key:"fileAttributeModal",ref:Re},null,512)]),_:2},[e(x)?{name:"extra",fn:a(()=>[e(f)?(_(),w(fe,{key:0,name:e(ae),mode:"out-in",appear:""},{default:a(()=>[l(e(g),null,{default:a(()=>[l(tt,{trigger:"manual",style:{padding:"8px"},show:e(T),"show-arrow":!1,placement:"bottom"},{trigger:a(()=>[l(e(b),{strong:"",quaternary:"",size:"small",type:e(T)?"primary":"tertiary",style:{padding:"6px"},focusable:!1,onClick:t[14]||(t[14]=r=>T.value=!e(T))},{default:a(()=>[l(e(c),{size:"18"},{default:a(()=>[l(ue,{style:{"vertical-align":"baseline"}})]),_:1})]),_:1},8,["type"])]),default:a(()=>[l(e(g),{vertical:""},{default:a(()=>[l(e(g),{size:"small"},{default:a(()=>[l(e(c),{size:20},{default:a(()=>[l(ce,{style:{"vertical-align":"-0.4em"}})]),_:1}),l(Xe,{value:e(U),"onUpdate:value":t[15]||(t[15]=r=>F(U)?U.value=r:null),min:12,max:40,"button-placement":"both",size:"small",class:"max-w-94px",style:{"text-align":"center"}},null,8,["value"])]),_:1}),l(e(g),{size:"small"},{default:a(()=>[l(e(c),{size:20},{default:a(()=>[l(Ye,{style:{"vertical-align":"-0.4em"}})]),_:1}),l(e(b),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[16]||(t[16]=r=>I("findBox"))},{default:a(()=>[P(m(e(o)("editor.switch.findBtn")),1)]),_:1})]),_:1}),l(e(g),{size:"small"},{default:a(()=>[l(e(c),{size:20,color:e(K)==="on"?"var(--app-primary-color)":void 0},{default:a(()=>[l(Je,{style:{"vertical-align":"-0.4em"}})]),_:1},8,["color"]),l(e(b),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[17]||(t[17]=r=>I("wordWrap"))},{default:a(()=>[P(m(e(o)("editor.switch.wordWrapBtn")),1)]),_:1})]),_:1}),l(e(g),{size:"small"},{default:a(()=>[l(e(c),{size:20,color:e(W)?"var(--app-primary-color)":void 0},{default:a(()=>[l(et,{style:{"vertical-align":"-0.4em"}})]),_:1},8,["color"]),l(e(b),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[18]||(t[18]=r=>I("minimap"))},{default:a(()=>[P(m(e(o)("editor.switch.minimapBtn")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["show"]),l(lt,null,{default:a(()=>[l(k,{trigger:"click",placement:"bottom-start",options:xe("MobileHeader",{option:e(f)})},{default:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1},{icon:a(()=>[l(e(dt))]),default:a(()=>[P(" "+m(e(o)("file.more.button")),1)]),_:1})]),_:1},8,["options"])]),_:1})]),_:1})]),_:1},8,["name"])):H("",!0)]),key:"1"}:{name:"extra",fn:a(()=>[e(f)?(_(),w(fe,{key:0,name:e(ae),mode:"out-in",appear:""},{default:a(()=>[l(e(g),null,{default:a(()=>[l(e(g),{style:{gap:"0"}},{default:a(()=>[l(tt,{trigger:"manual",style:{padding:"8px"},show:e(T),"show-arrow":!1,placement:"bottom"},{trigger:a(()=>[l(e(b),{strong:"",quaternary:"",size:"small",type:e(T)?"primary":"tertiary",style:{padding:"6px"},focusable:!1,onClick:t[1]||(t[1]=r=>T.value=!e(T))},{default:a(()=>[l(e(c),{size:"18"},{default:a(()=>[l(ue,{style:{"vertical-align":"baseline"}})]),_:1})]),_:1},8,["type"])]),default:a(()=>[l(e(g),{vertical:""},{default:a(()=>[l(e(g),{size:"small"},{default:a(()=>[l(e(c),{size:20},{default:a(()=>[l(ce,{style:{"vertical-align":"-0.4em"}})]),_:1}),l(Xe,{value:e(U),"onUpdate:value":t[2]||(t[2]=r=>F(U)?U.value=r:null),min:12,max:40,"button-placement":"both",size:"small",class:"max-w-94px",style:{"text-align":"center"}},null,8,["value"])]),_:1}),l(e(g),{size:"small"},{default:a(()=>[l(e(c),{size:20},{default:a(()=>[l(Ye,{style:{"vertical-align":"-0.4em"}})]),_:1}),l(e(b),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[3]||(t[3]=r=>I("findBox"))},{default:a(()=>[P(m(e(o)("editor.switch.findBtn")),1)]),_:1})]),_:1}),l(e(g),{size:"small"},{default:a(()=>[l(e(c),{size:20,color:e(K)==="on"?"var(--app-primary-color)":void 0},{default:a(()=>[l(Je,{style:{"vertical-align":"-0.4em"}})]),_:1},8,["color"]),l(e(b),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[4]||(t[4]=r=>I("wordWrap"))},{default:a(()=>[P(m(e(o)("editor.switch.wordWrapBtn")),1)]),_:1})]),_:1}),l(e(g),{size:"small"},{default:a(()=>[l(e(c),{size:20,color:e(W)?"var(--app-primary-color)":void 0},{default:a(()=>[l(et,{style:{"vertical-align":"-0.4em"}})]),_:1},8,["color"]),l(e(b),{strong:"",tertiary:"",size:"small",style:{width:"94px"},onClick:t[5]||(t[5]=r=>I("minimap"))},{default:a(()=>[P(m(e(o)("editor.switch.minimapBtn")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["show"]),l(e(R),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",quaternary:"",size:"small",type:"tertiary",style:{padding:"6px"},focusable:!1,onClick:t[6]||(t[6]=r=>I("showEditorShortcutsInfo"))},{default:a(()=>[l(e(c),{size:"18"},{default:a(()=>[l(Xt,{style:{"vertical-align":"baseline"}})]),_:1})]),_:1})]),default:a(()=>[$("span",null,m(e(o)("editor.switch.shortcutsTips")),1)]),_:1})]),_:1}),l(lt,null,{default:a(()=>[l(e(R),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[7]||(t[7]=r=>Ge())},{icon:a(()=>[l(e(ct))]),_:1})]),default:a(()=>[$("span",null,m(e(o)("file.attribute.button")),1)]),_:1}),l(e(R),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[8]||(t[8]=r=>Ze())},{icon:a(()=>[l(e(ea))]),_:1})]),default:a(()=>[$("span",null,m(e(o)("file.download.button")),1)]),_:1}),l(e(R),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[9]||(t[9]=r=>Ke())},{icon:a(()=>[l(e(Ie))]),_:1})]),default:a(()=>[$("span",null,m(e(o)("file.delete.button")),1)]),_:1}),l(e(R),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[10]||(t[10]=r=>Ae())},{icon:a(()=>[l(e(Me))]),_:1})]),default:a(()=>[$("span",null,m(e(o)("file.rename.button")),1)]),_:1}),l(e(R),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[11]||(t[11]=r=>qe())},{icon:a(()=>[l(e(Pe))]),_:1})]),default:a(()=>[$("span",null,m(e(o)("file.move.button")),1)]),_:1}),e(f)?.canRun?(_(),w(e(R),{key:0,placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[12]||(t[12]=r=>Ve())},{icon:a(()=>[l(e(kt))]),_:1})]),default:a(()=>[$("span",null,m(e(o)("file.run.button")),1)]),_:1})):H("",!0),l(e(R),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(b),{strong:"",tertiary:"",size:"small",loading:e(he),focusable:!1,onClick:t[13]||(t[13]=r=>I("save"))},{icon:a(()=>[l(e(ht))]),_:1},8,["loading"])]),default:a(()=>[$("span",null,m(e(o)("editor.main.saveButton")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["name"])):H("",!0)]),key:"0"}]),1536)}}});const kn=Te(Ka,[["__scopeId","data-v-2d870f84"]]);export{kn as default};
