var WH=Object.defineProperty;var zk=(s,e)=>{if(e=Symbol[s])return e;throw Error("Symbol."+s+" is not defined")};var VH=(s,e,t)=>e in s?WH(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var oi=(s,e,t)=>(VH(s,typeof e!="symbol"?e+"":e,t),t);var g0=(s,e,t)=>new Promise((i,n)=>{var o=l=>{try{a(t.next(l))}catch(c){n(c)}},r=l=>{try{a(t.throw(l))}catch(c){n(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,r);a((t=t.apply(s,e)).next())}),HH=function(s,e){this[0]=s,this[1]=e};var Uk=s=>{var e=s[zk("asyncIterator")],t=!1,i,n={};return e==null?(e=s[zk("iterator")](),i=o=>n[o]=r=>e[o](r)):(e=e.call(s),i=o=>n[o]=r=>{if(t){if(t=!1,o==="throw")throw r;return r}return t=!0,{done:!1,value:new HH(new Promise(a=>{var l=e[o](r);if(!(l instanceof Object))throw TypeError("Object expected");a(l)}),1)}}),n[zk("iterator")]=()=>n,i("next"),"throw"in e?i("throw"):n.throw=o=>{throw o},"return"in e&&i("return"),n};const zH="modulepreload",UH=function(s,e){return new URL(s,e).href},IP={},ve=function(e,t,i){if(!t||t.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map(o=>{if(o=UH(o,i),o in IP)return;IP[o]=!0;const r=o.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(!!i)for(let d=n.length-1;d>=0;d--){const u=n[d];if(u.href===o&&(!r||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":zH,r||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),r)return new Promise((d,u)=>{c.addEventListener("load",d),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=o,window.dispatchEvent(r),!r.defaultPrevented)throw o})};function vs(s,e=0){return s[s.length-(1+e)]}function $H(s){if(s.length===0)throw new Error("Invalid tail call");return[s.slice(0,s.length-1),s[s.length-1]]}function bi(s,e,t=(i,n)=>i===n){if(s===e)return!0;if(!s||!e||s.length!==e.length)return!1;for(let i=0,n=s.length;i<n;i++)if(!t(s[i],e[i]))return!1;return!0}function jH(s,e){const t=s.length-1;e<t&&(s[e]=s[t]),s.pop()}function Wb(s,e,t){return KH(s.length,i=>t(s[i],e))}function KH(s,e){let t=0,i=s-1;for(;t<=i;){const n=(t+i)/2|0,o=e(n);if(o<0)t=n+1;else if(o>0)i=n-1;else return n}return-(t+1)}function Gx(s,e,t){if(s=s|0,s>=e.length)throw new TypeError("invalid index");const i=e[Math.floor(e.length*Math.random())],n=[],o=[],r=[];for(const a of e){const l=t(a,i);l<0?n.push(a):l>0?o.push(a):r.push(a)}return s<n.length?Gx(s,n,t):s<n.length+r.length?r[0]:Gx(s-(n.length+r.length),o,t)}function TP(s,e){const t=[];let i;for(const n of s.slice(0).sort(e))!i||e(i[0],n)!==0?(i=[n],t.push(i)):i.push(n);return t}function*F5(s,e){let t,i;for(const n of s)i!==void 0&&e(i,n)?t.push(n):(t&&(yield t),t=[n]),i=n;t&&(yield t)}function B5(s,e){for(let t=0;t<=s.length;t++)e(t===0?void 0:s[t-1],t===s.length?void 0:s[t])}function qH(s,e){for(let t=0;t<s.length;t++)e(t===0?void 0:s[t-1],s[t],t+1===s.length?void 0:s[t+1])}function Qa(s){return s.filter(e=>!!e)}function EP(s){let e=0;for(let t=0;t<s.length;t++)s[t]&&(s[e]=s[t],e+=1);s.length=e}function W5(s){return!Array.isArray(s)||s.length===0}function Bn(s){return Array.isArray(s)&&s.length>0}function wd(s,e=t=>t){const t=new Set;return s.filter(i=>{const n=e(i);return t.has(n)?!1:(t.add(n),!0)})}function V5(s,e){return s.length>0?s[0]:e}function Xn(s,e){let t=typeof e=="number"?s:0;typeof e=="number"?t=s:(t=0,e=s);const i=[];if(t<=e)for(let n=t;n<e;n++)i.push(n);else for(let n=t;n>e;n--)i.push(n);return i}function SS(s,e,t){const i=s.slice(0,e),n=s.slice(e);return i.concat(t,n)}function $k(s,e){const t=s.indexOf(e);t>-1&&(s.splice(t,1),s.unshift(e))}function f0(s,e){const t=s.indexOf(e);t>-1&&(s.splice(t,1),s.push(e))}function Zx(s,e){for(const t of e)s.push(t)}function rA(s){return Array.isArray(s)?s:[s]}function GH(s,e,t){const i=H5(s,e),n=s.length,o=t.length;s.length=n+o;for(let r=n-1;r>=i;r--)s[r+o]=s[r];for(let r=0;r<o;r++)s[r+i]=t[r]}function NP(s,e,t,i){const n=H5(s,e);let o=s.splice(n,t);return o===void 0&&(o=[]),GH(s,n,i),o}function H5(s,e){return e<0?Math.max(e+s.length,0):Math.min(e,s.length)}var Vb;(function(s){function e(o){return o<0}s.isLessThan=e;function t(o){return o<=0}s.isLessThanOrEqual=t;function i(o){return o>0}s.isGreaterThan=i;function n(o){return o===0}s.isNeitherLessOrGreaterThan=n,s.greaterThan=1,s.lessThan=-1,s.neitherLessOrGreaterThan=0})(Vb||(Vb={}));function Es(s,e){return(t,i)=>e(s(t),s(i))}function ZH(...s){return(e,t)=>{for(const i of s){const n=i(e,t);if(!Vb.isNeitherLessOrGreaterThan(n))return n}return Vb.neitherLessOrGreaterThan}}const Ql=(s,e)=>s-e,QH=(s,e)=>Ql(s?1:0,e?1:0);function z5(s){return(e,t)=>-s(e,t)}class rc{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}class ja{constructor(e){this.iterate=e}toArray(){const e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new ja(t=>this.iterate(i=>e(i)?t(i):!0))}map(e){return new ja(t=>this.iterate(i=>t(e(i))))}findLast(e){let t;return this.iterate(i=>(e(i)&&(t=i),!0)),t}findLastMaxBy(e){let t,i=!0;return this.iterate(n=>((i||Vb.isGreaterThan(e(n,t)))&&(i=!1,t=n),!0)),t}}ja.empty=new ja(s=>{});function ao(s){return typeof s=="string"}function no(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)&&!(s instanceof RegExp)&&!(s instanceof Date)}function YH(s){const e=Object.getPrototypeOf(Uint8Array);return typeof s=="object"&&s instanceof e}function Cd(s){return typeof s=="number"&&!isNaN(s)}function AP(s){return!!s&&typeof s[Symbol.iterator]=="function"}function U5(s){return s===!0||s===!1}function Mo(s){return typeof s=="undefined"}function Hb(s){return!Xo(s)}function Xo(s){return Mo(s)||s===null}function Lt(s,e){if(!s)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}function Vu(s){if(Xo(s))throw new Error("Assertion Failed: argument is undefined or null");return s}function zb(s){return typeof s=="function"}function XH(s,e){const t=Math.min(s.length,e.length);for(let i=0;i<t;i++)JH(s[i],e[i])}function JH(s,e){if(ao(e)){if(typeof s!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(zb(e)){try{if(s instanceof e)return}catch(t){}if(!Xo(s)&&s.constructor===e||e.length===1&&e.call(void 0,s)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Tl(s){if(!s||typeof s!="object"||s instanceof RegExp)return s;const e=Array.isArray(s)?[]:{};return Object.entries(s).forEach(([t,i])=>{e[t]=i&&typeof i=="object"?Tl(i):i}),e}function ez(s){if(!s||typeof s!="object")return s;const e=[s];for(;e.length>0;){const t=e.shift();Object.freeze(t);for(const i in t)if($5.call(t,i)){const n=t[i];typeof n=="object"&&!Object.isFrozen(n)&&!YH(n)&&e.push(n)}}return s}const $5=Object.prototype.hasOwnProperty;function j5(s,e){return Qx(s,e,new Set)}function Qx(s,e,t){if(Xo(s))return s;const i=e(s);if(typeof i!="undefined")return i;if(Array.isArray(s)){const n=[];for(const o of s)n.push(Qx(o,e,t));return n}if(no(s)){if(t.has(s))throw new Error("Cannot clone recursive data-structure");t.add(s);const n={};for(const o in s)$5.call(s,o)&&(n[o]=Qx(s[o],e,t));return t.delete(s),n}return s}function yS(s,e,t=!0){return no(s)?(no(e)&&Object.keys(e).forEach(i=>{i in s?t&&(no(s[i])&&no(e[i])?yS(s[i],e[i],t):s[i]=e[i]):s[i]=e[i]}),s):e}function as(s,e){if(s===e)return!0;if(s==null||e===null||e===void 0||typeof s!=typeof e||typeof s!="object"||Array.isArray(s)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(s)){if(s.length!==e.length)return!1;for(t=0;t<s.length;t++)if(!as(s[t],e[t]))return!1}else{const n=[];for(i in s)n.push(i);n.sort();const o=[];for(i in e)o.push(i);if(o.sort(),!as(n,o))return!1;for(t=0;t<n.length;t++)if(!as(s[n[t]],e[n[t]]))return!1}return!0}function tz(s){let e=[];for(;Object.prototype!==s;)e=e.concat(Object.getOwnPropertyNames(s)),s=Object.getPrototypeOf(s);return e}function aA(s){const e=[];for(const t of tz(s))typeof s[t]=="function"&&e.push(t);return e}function iz(s,e){const t=n=>function(){const o=Array.prototype.slice.call(arguments,0);return e(n,o)},i={};for(const n of s)i[n]=t(n);return i}globalThis&&globalThis.__awaiter;let nz=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function oz(s,e){let t;return e.length===0?t=s:t=s.replace(/\{(\d+)\}/g,(i,n)=>{const o=n[0],r=e[o];let a=i;return typeof r=="string"?a=r:(typeof r=="number"||typeof r=="boolean"||r===void 0||r===null)&&(a=String(r)),a}),nz&&(t="［"+t.replace(/[aouei]/g,"$&$&")+"］"),t}function f(s,o,t,...i){var n=typeof o=="object"?o.key:o,o={"vs/base/browser/ui/actionbar/actionViewItems":{titleLabel:"{0} ({1})"},"vs/base/browser/ui/button/button":{"button dropdown more actions":"更多操作..."},"vs/base/browser/ui/dialog/dialog":{dialogClose:"关闭对话框",dialogErrorMessage:"错误",dialogInfoMessage:"信息",dialogPendingMessage:"正在进行",dialogWarningMessage:"警告",ok:"确定"},"vs/base/browser/ui/dropdown/dropdownActionViewItem":{moreActions:"更多操作..."},"vs/base/browser/ui/findinput/findInput":{defaultLabel:"输入"},"vs/base/browser/ui/findinput/findInputToggles":{caseDescription:"区分大小写",regexDescription:"使用正则表达式",wordsDescription:"全字匹配"},"vs/base/browser/ui/findinput/replaceInput":{defaultLabel:"输入","label.preserveCaseToggle":"保留大小写"},"vs/base/browser/ui/iconLabel/iconLabelHover":{"iconLabel.loading":"正在加载…"},"vs/base/browser/ui/inputbox/inputBox":{alertErrorMessage:"错误: {0}",alertInfoMessage:"信息: {0}",alertWarningMessage:"警告: {0}",clearedInput:"清除的输入","history.inputbox.hint":"对于历史记录"},"vs/base/browser/ui/keybindingLabel/keybindingLabel":{unbound:"未绑定"},"vs/base/browser/ui/menu/menubar":{mAppMenu:"应用程序菜单",mMore:"更多"},"vs/base/browser/ui/selectBox/selectBoxCustom":{selectBox:"选择框"},"vs/base/browser/ui/splitview/paneview":{viewSection:"{0}部分"},"vs/base/browser/ui/toolbar/toolbar":{moreActions:"更多操作..."},"vs/base/browser/ui/tree/abstractTree":{close:"关闭",filter:"筛选器",fuzzySearch:"模糊匹配","not found":"未找到元素。","type to filter":"要筛选的类型","type to search":"要搜索的类型"},"vs/base/browser/ui/tree/treeDefaults":{"collapse all":"全部折叠"},"vs/base/common/actions":{"submenu.empty":"(空)"},"vs/base/common/date":{"date.fromNow.days.plural":"{0} 天","date.fromNow.days.plural.ago":"{0} 天前","date.fromNow.days.singular":"{0} 天","date.fromNow.days.singular.ago":"{0} 天前","date.fromNow.hours.plural":"{0} 小时","date.fromNow.hours.plural.ago":"{0} 小时前","date.fromNow.hours.plural.ago.fullWord":"{0} 小时前","date.fromNow.hours.plural.fullWord":"{0} 小时","date.fromNow.hours.singular":"{0} 小时","date.fromNow.hours.singular.ago":"{0} 小时前","date.fromNow.hours.singular.ago.fullWord":"{0} 小时前","date.fromNow.hours.singular.fullWord":"{0} 小时","date.fromNow.in":"{0} 后","date.fromNow.minutes.plural":"{0} 分钟","date.fromNow.minutes.plural.ago":"{0} 分钟前","date.fromNow.minutes.plural.ago.fullWord":"{0} 分钟前","date.fromNow.minutes.plural.fullWord":"{0} 分钟","date.fromNow.minutes.singular":"{0} 分钟","date.fromNow.minutes.singular.ago":"{0} 分钟前","date.fromNow.minutes.singular.ago.fullWord":"{0} 分钟前","date.fromNow.minutes.singular.fullWord":"{0} 分钟","date.fromNow.months.plural":"{0} 个月","date.fromNow.months.plural.ago":"{0} 个月前","date.fromNow.months.plural.ago.fullWord":"{0} 个月前","date.fromNow.months.plural.fullWord":"{0} 个月","date.fromNow.months.singular":"{0} 个月","date.fromNow.months.singular.ago":"{0} 个月前","date.fromNow.months.singular.ago.fullWord":"{0} 个月前","date.fromNow.months.singular.fullWord":"{0} 月","date.fromNow.now":"现在","date.fromNow.seconds.plural":"{0} 秒","date.fromNow.seconds.plural.ago":"{0} 秒前","date.fromNow.seconds.plural.ago.fullWord":"{0} 秒前","date.fromNow.seconds.plural.fullWord":"{0} 秒","date.fromNow.seconds.singular":"{0} 秒","date.fromNow.seconds.singular.ago":"{0} 秒前","date.fromNow.seconds.singular.ago.fullWord":"{0} 秒前","date.fromNow.seconds.singular.fullWord":"{0} 秒","date.fromNow.weeks.plural":"{0} 周","date.fromNow.weeks.plural.ago":"{0} 周前","date.fromNow.weeks.plural.ago.fullWord":"{0} 周前","date.fromNow.weeks.plural.fullWord":"{0} 周","date.fromNow.weeks.singular":"{0} 周","date.fromNow.weeks.singular.ago":"{0} 周前","date.fromNow.weeks.singular.ago.fullWord":"{0} 周前","date.fromNow.weeks.singular.fullWord":"{0} 周","date.fromNow.years.plural":"{0} 年","date.fromNow.years.plural.ago":"{0} 年前","date.fromNow.years.plural.ago.fullWord":"{0} 年前","date.fromNow.years.plural.fullWord":"{0} 年","date.fromNow.years.singular":"{0} 年","date.fromNow.years.singular.ago":"{0} 年前","date.fromNow.years.singular.ago.fullWord":"{0} 年前","date.fromNow.years.singular.fullWord":"{0} 年"},"vs/base/common/errorMessage":{"error.defaultMessage":"出现未知错误。有关详细信息，请参阅日志。","error.moreErrors":"{0} 个(共 {1} 个错误)",nodeExceptionMessage:"发生了系统错误 ({0})","stackTrace.format":"{0}: {1}"},"vs/base/common/jsonErrorMessages":{"error.closeBraceExpected":"需要右大括号","error.closeBracketExpected":"需要右括号","error.colonExpected":"需要冒号","error.commaExpected":"需要逗号","error.endOfFileExpected":"文件应结束","error.invalidNumberFormat":"数字格式无效","error.invalidSymbol":"无效符号","error.propertyNameExpected":"需要属性名","error.valueExpected":"需要值"},"vs/base/common/keybindingLabels":{altKey:"Alt","altKey.long":"Alt","cmdKey.long":"Command",ctrlKey:"Ctrl","ctrlKey.long":"Control","optKey.long":"选项",shiftKey:"Shift","shiftKey.long":"Shift",superKey:"超键","superKey.long":"超键",windowsKey:"Windows","windowsKey.long":"Windows"},"vs/base/common/platform":{ensureLoaderPluginIsLoaded:"_"},"vs/base/node/zip":{incompleteExtract:"解压不完整。找到了 {0} / {1} 个项目","invalid file":"提取 {0} 时出错。文件无效。",notFound:"在 Zip 中找不到 {0}。"},"vs/editor/browser/controller/textAreaHandler":{accessibilityModeOff:"现在无法访问编辑器。",accessibilityOffAriaLabel:"{0} 若要启用屏幕阅读器优化模式，请使用 {1}",accessibilityOffAriaLabelNoKb:"{0} 若要启用屏幕阅读器优化模式，请使用 {1} 打开快速选取，然后运行“切换屏幕阅读器辅助功能模式”命令；当前无法通过键盘触发此命令。",accessibilityOffAriaLabelNoKbs:"{0} 请通过使用 {1} 访问键绑定编辑器并运行它，为“切换屏幕阅读器辅助功能模式”命令分配键绑定。",editor:"编辑器"},"vs/editor/browser/coreCommands":{removedCursor:"已删除辅助游标",stickydesc:"即使转到较长的行，也一直到末尾"},"vs/editor/browser/editorExtensions":{miRedo:"恢复(&&R)",miSelectAll:"全选(&&S)",miUndo:"撤消(&&U)",redo:"恢复",selectAll:"选择全部",undo:"撤消"},"vs/editor/browser/widget/codeEditorWidget":{"cursors.maximum":"已将光标数限制为 {0}。请考虑使用 [查找和替换](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace)进行较大的更改或增加编辑器多光标限制设置。",goToSetting:"增加多光标限制"},"vs/editor/browser/widget/diffEditor.contribution":{"Open Accessible Diff Viewer":"Open Accessible Diff Viewer",accessibleDiffViewer:"可访问的差异查看器","editor.action.accessibleDiffViewer.next":"转至下一个差异","editor.action.accessibleDiffViewer.prev":"转至上一个差异"},"vs/editor/browser/widget/diffEditorWidget":{"diff-aria-navigation-tip":" 使用 Shift + F7 导航更改","diff.tooLarge":"文件过大，无法比较。",diffInsertIcon:"差异编辑器中插入项的线条修饰。",diffRemoveIcon:"差异编辑器中删除项的线条修饰。",revertChangeHoverMessage:"单击以还原更改"},"vs/editor/browser/widget/diffEditorWidget2/accessibleDiffViewer":{accessibleDiffViewerCloseIcon:"Icon for 'Close' in accessible diff viewer.",accessibleDiffViewerInsertIcon:"Icon for 'Insert' in accessible diff viewer.",accessibleDiffViewerRemoveIcon:"Icon for 'Remove' in accessible diff viewer.",ariaLabel:"可访问的差异查看器。使用向上和向下箭头导航。",blankLine:"空白",deleteLine:"- {0}原始行{1}",equalLine:"{0}原始行{1}修改的行{2}",header:"差异 {0}/ {1}: 原始行 {2}，{3}，修改后的行 {4}，{5}",insertLine:"+ {0}修改的行{1}","label.close":"关闭",more_lines_changed:"更改了 {0} 行",no_lines_changed:"未更改行",one_line_changed:"更改了 1 行",unchangedLine:"{0} 未更改的行 {1}"},"vs/editor/browser/widget/diffEditorWidget2/colors":{"diffEditor.move.border":"在差异编辑器中移动的文本的边框颜色。"},"vs/editor/browser/widget/diffEditorWidget2/decorations":{diffInsertIcon:"差异编辑器中插入项的线条修饰。",diffRemoveIcon:"差异编辑器中删除项的线条修饰。",revertChangeHoverMessage:"单击以还原更改"},"vs/editor/browser/widget/diffEditorWidget2/diffEditorEditors":{"diff-aria-navigation-tip":" 使用 {0} 打开辅助功能帮助。"},"vs/editor/browser/widget/diffEditorWidget2/diffEditorWidget2.contribution":{collapseUnchangedRegions:"显示未更改的区域",diffEditor:"差异编辑器",showMoves:"显示移动",showUnchangedRegions:"折叠未更改的区域",switchSide:"切换侧面",toggleCollapseUnchangedRegions:"切换折叠未更改的区域",toggleShowMovedCodeBlocks:"切换显示移动的代码块"},"vs/editor/browser/widget/diffEditorWidget2/inlineDiffDeletedCodeMargin":{"diff.clipboard.copyChangedLineContent.label":"复制更改的行({0})","diff.clipboard.copyChangedLinesContent.label":"复制更改的行","diff.clipboard.copyChangedLinesContent.single.label":"复制更改的行","diff.clipboard.copyDeletedLineContent.label":"复制已删除的行({0})","diff.clipboard.copyDeletedLinesContent.label":"复制已删除的行","diff.clipboard.copyDeletedLinesContent.single.label":"复制已删除的行","diff.inline.revertChange.label":"还原此更改"},"vs/editor/browser/widget/diffEditorWidget2/unchangedRanges":{foldUnchanged:"折叠未更改的区域"},"vs/editor/browser/widget/diffReview":{blankLine:"空白",deleteLine:"- {0}原始行{1}",diffReviewCloseIcon:"差异评审中的“关闭”图标。",diffReviewInsertIcon:"差异评审中的“插入”图标。",diffReviewRemoveIcon:"差异评审中的“删除”图标。",equalLine:"{0}原始行{1}修改的行{2}",header:"差异 {0}/ {1}: 原始行 {2}，{3}，修改后的行 {4}，{5}",insertLine:"+ {0}修改的行{1}","label.close":"关闭",more_lines_changed:"更改了 {0} 行",no_lines_changed:"未更改行",one_line_changed:"更改了 1 行",unchangedLine:"{0} 未更改的行 {1}"},"vs/editor/browser/widget/inlineDiffMargin":{"diff.clipboard.copyChangedLineContent.label":"复制更改的行({0})","diff.clipboard.copyChangedLinesContent.label":"复制更改的行","diff.clipboard.copyChangedLinesContent.single.label":"复制更改的行","diff.clipboard.copyDeletedLineContent.label":"复制已删除的行({0})","diff.clipboard.copyDeletedLinesContent.label":"复制已删除的行","diff.clipboard.copyDeletedLinesContent.single.label":"复制已删除的行","diff.inline.revertChange.label":"还原此更改"},"vs/editor/common/config/editorConfigurationSchema":{codeLens:"控制是否在编辑器中显示 CodeLens。",collapseUnchangedRegions:"控制差异编辑器是否显示未更改的区域。仅当设置了 {0} 时才有效。",detectIndentation:"控制在基于文件内容打开文件时是否自动检测 {0} 和 {1}。","diffAlgorithm.advanced":"使用高级差异算法。","diffAlgorithm.legacy":"使用旧差异算法。","editor.experimental.asyncTokenization":"控制是否应在 Web 辅助进程上异步进行标记化。","editor.experimental.asyncTokenizationLogging":"控制是否应记录异步词汇切分。仅用于调试。","editor.experimental.asyncTokenizationVerification":"控制是否应对旧版后台令牌化验证异步令牌化。可能会减慢令牌化速度。仅用于调试。",editorConfigurationTitle:"编辑器",ignoreTrimWhitespace:"启用后，差异编辑器将忽略前导空格或尾随空格中的更改。",indentSize:'用于缩进或 `"tabSize"` 的空格数，可使用 `#editor.tabSize#` 中的值。当 `#editor.detectIndentation#` 处于打开状态时，将根据文件内容替代此设置。',insertSpaces:"按 `Tab` 时插入空格。当 {0} 打开时，将根据文件内容替代此设置。",largeFileOptimizations:"对大型文件进行特殊处理，禁用某些内存密集型功能。",maxComputationTime:"超时(以毫秒为单位)，之后将取消差异计算。使用0表示没有超时。",maxFileSize:"要为其计算差异的最大文件大小(MB)。使用 0 表示无限制。",maxTokenizationLineLength:"由于性能原因，超过这个长度的行将不会被标记",renderIndicators:"控制差异编辑器是否为添加/删除的更改显示 +/- 指示符号。",renderMarginRevertIcon:"启用后，差异编辑器会在其字形边距中显示箭头以还原更改。","schema.brackets":"定义增加和减少缩进的括号。","schema.closeBracket":"右方括号字符或字符串序列。","schema.colorizedBracketPairs":"如果启用方括号对着色，则按照其嵌套级别定义已着色的方括号对。","schema.openBracket":"左方括号字符或字符串序列。","semanticHighlighting.configuredByTheme":'语义突出显示是由当前颜色主题的 "semanticHighlighting" 设置配置的。',"semanticHighlighting.enabled":"控制是否为支持它的语言显示语义突出显示。","semanticHighlighting.false":"对所有颜色主题禁用语义突出显示。","semanticHighlighting.true":"对所有颜色主题启用语义突出显示。",showEmptyDecorations:"控制差异编辑器是否显示空修饰，以查看插入或删除字符的位置。",showMoves:"控制差异编辑器是否应显示检测到的代码移动情况。仅当设置了 {0} 时才有效。",sideBySide:"控制差异编辑器的显示方式是并排还是内联。",stablePeek:"保持速览编辑器处于打开状态，即使双击其中的内容或者点击 `Escape` 键也是如此。",tabSize:"一个制表符等于的空格数。当 {0} 打开时，将根据文件内容替代此设置。",trimAutoWhitespace:"删除自动插入的尾随空白符号。",useVersion2:"控制差异编辑器是使用新实现还是旧实现。",wordBasedSuggestions:"控制是否根据文档中的字词计算自动补全列表。",wordBasedSuggestionsMode:"控制通过哪些文档计算基于字词的补全。","wordBasedSuggestionsMode.allDocuments":"建议所有打开的文档中的字词。","wordBasedSuggestionsMode.currentDocument":"仅建议活动文档中的字词。","wordBasedSuggestionsMode.matchingDocuments":"建议使用同一语言的所有打开的文档中的字词。","wordWrap.inherit":"行将根据 {0} 设置进行换行。","wordWrap.off":"永不换行。","wordWrap.on":"将在视区宽度处换行。"},"vs/editor/common/config/editorOptions":{acceptSuggestionOnCommitCharacter:"控制是否应在遇到提交字符时接受建议。例如，在 JavaScript 中，半角分号 (`;`) 可以为提交字符，能够在接受建议的同时键入该字符。",acceptSuggestionOnEnter:"控制除了 `Tab` 键以外， `Enter` 键是否同样可以接受建议。这能减少“插入新行”和“接受建议”命令之间的歧义。",acceptSuggestionOnEnterSmart:"仅当建议包含文本改动时才可使用 `Enter` 键进行接受。",accessibilityPageSize:"控制编辑器中可由屏幕阅读器一次读出的行数。我们检测到屏幕阅读器时，会自动将默认值设置为 500。警告: 如果行数大于默认值，可能会影响性能。",accessibilitySupport:"控制 UI 是否应在已针对屏幕阅读器进行优化的模式下运行。","accessibilitySupport.auto":"连接屏幕阅读器后使用平台 API 进行检测","accessibilitySupport.off":"假定未连接屏幕阅读器","accessibilitySupport.on":"针对屏幕阅读器的使用进行优化",alternativeDeclarationCommand:'当"转到声明"的结果为当前位置时将要执行的替代命令的 ID。',alternativeDefinitionCommand:'当"转到定义"的结果为当前位置时将要执行的替代命令的 ID。',alternativeImplementationCommand:'当"转到实现"的结果为当前位置时将要执行的替代命令的 ID。',alternativeReferenceCommand:'当"转到引用"的结果是当前位置时正在执行的替代命令 ID。',alternativeTypeDefinitionCommand:'当"转到类型定义"的结果是当前位置时正在执行的备用命令 ID。',autoClosingBrackets:"控制编辑器是否在左括号后自动插入右括号。",autoClosingDelete:"控制在删除时编辑器是否应删除相邻的右引号或右方括号。",autoClosingOvertype:"控制编辑器是否应改写右引号或右括号。",autoClosingQuotes:"控制编辑器是否在左引号后自动插入右引号。",autoIndent:"控制编辑器是否应在用户键入、粘贴、移动或缩进行时自动调整缩进。",autoSurround:"控制在键入引号或方括号时，编辑器是否应自动将所选内容括起来。","bracketPairColorization.enabled":"控制是否启用括号对着色。请使用 {0} 重写括号突出显示颜色。","bracketPairColorization.independentColorPoolPerBracketType":"控制每个方括号类型是否具有自己的独立颜色池。",codeActions:"在编辑器中启用代码操作小灯泡提示。",codeLens:"控制是否在编辑器中显示 CodeLens。",codeLensFontFamily:"控制 CodeLens 的字体系列。",codeLensFontSize:"控制 CodeLens 的字号(以像素为单位)。设置为 0 时，将使用 90% 的 `#editor.fontSize#`。",colorDecoratorActivatedOn:"控制从颜色修饰器显示颜色选取器的条件",colorDecorators:"控制编辑器是否显示内联颜色修饰器和颜色选取器。",colorDecoratorsLimit:"控制可一次性在编辑器中呈现的最大颜色修饰器数。",columnSelection:"启用使用鼠标和键进行列选择。","comments.ignoreEmptyLines":"控制在对行注释执行切换、添加或删除操作时，是否应忽略空行。","comments.insertSpace":"控制在注释时是否插入空格字符。",copyWithSyntaxHighlighting:"控制在复制时是否同时复制语法高亮。",cursorBlinking:"控制光标的动画样式。",cursorSmoothCaretAnimation:"控制是否启用平滑插入动画。","cursorSmoothCaretAnimation.explicit":"仅当用户使用显式手势移动光标时，才启用平滑脱字号动画。","cursorSmoothCaretAnimation.off":"已禁用平滑脱字号动画。","cursorSmoothCaretAnimation.on":"始终启用平滑脱字号动画。",cursorStyle:"控制光标样式。",cursorSurroundingLines:"控制光标周围可见的前置行(最小值为 0)和尾随行(最小值为 1)的最小数目。在其他一些编辑器中称为 “scrollOff” 或 “scrollOffset”。",cursorSurroundingLinesStyle:'控制何时应强制执行"光标环绕行"。',"cursorSurroundingLinesStyle.all":'始终强制执行 "cursorSurroundingLines"',"cursorSurroundingLinesStyle.default":'仅当通过键盘或 API 触发时，才会强制执行"光标环绕行"。',cursorWidth:"当 `#editor.cursorStyle#` 设置为 `line` 时，控制光标的宽度。",defaultColorDecorators:"控制是否应使用默认文档颜色提供程序显示内联颜色修饰",definitionLinkOpensInPeek:'控制"转到定义"鼠标手势是否始终打开预览小部件。',deprecated:'此设置已弃用，请改用单独的设置，如"editor.suggest.showKeywords"或"editor.suggest.showSnippets"。',dragAndDrop:"控制在编辑器中是否允许通过拖放来移动选中内容。","dropIntoEditor.enabled":"控制是否可以通过按住 `Shift` (而不是在编辑器中打开文件)将文件拖放到编辑器中。","dropIntoEditor.showDropSelector":"控制将文件放入编辑器时是否显示小组件。使用此小组件可以控制文件的删除方式。","dropIntoEditor.showDropSelector.afterDrop":"将文件放入编辑器后显示放置选择器小组件。","dropIntoEditor.showDropSelector.never":"切勿显示放置选择器小组件。而是始终使用默认删除提供程序。","editor.autoClosingBrackets.beforeWhitespace":"仅当光标位于空白字符左侧时，才自动闭合括号。","editor.autoClosingBrackets.languageDefined":"使用语言配置确定何时自动闭合括号。","editor.autoClosingDelete.auto":"仅在自动插入时才删除相邻的右引号或右括号。","editor.autoClosingOvertype.auto":"仅在自动插入时才改写右引号或右括号。","editor.autoClosingQuotes.beforeWhitespace":"仅当光标位于空白字符左侧时，才自动闭合引号。","editor.autoClosingQuotes.languageDefined":"使用语言配置确定何时自动闭合引号。","editor.autoIndent.advanced":"编辑器将保留当前行的缩进、使用语言定义的括号并调用语言定义的特定 onEnterRules。","editor.autoIndent.brackets":"编辑器将保留当前行的缩进并遵循语言定义的括号。","editor.autoIndent.full":"编辑器将保留当前行的缩进，使用语言定义的括号，调用由语言定义的特殊输入规则，并遵循由语言定义的缩进规则。","editor.autoIndent.keep":"编辑器将保留当前行的缩进。","editor.autoIndent.none":"编辑器不会自动插入缩进。","editor.autoSurround.brackets":"使用括号而非引号来包住所选内容。","editor.autoSurround.languageDefined":"使用语言配置确定何时自动包住所选内容。","editor.autoSurround.quotes":"使用引号而非括号来包住所选内容。","editor.colorDecoratorActivatedOn.click":"单击颜色修饰器时显示颜色选取器","editor.colorDecoratorActivatedOn.clickAndHover":"在颜色修饰器单击和悬停时使颜色选取器同时显示","editor.colorDecoratorActivatedOn.hover":"使颜色选取器在颜色修饰器悬停时显示","editor.editor.gotoLocation.multipleDeclarations":'控制存在多个目标位置时"转到声明"命令的行为。',"editor.editor.gotoLocation.multipleDefinitions":'控制存在多个目标位置时"转到定义"命令的行为。',"editor.editor.gotoLocation.multipleImplemenattions":'控制存在多个目标位置时"转到实现"命令的行为。',"editor.editor.gotoLocation.multipleReferences":'控制存在多个目标位置时"转到引用"命令的行为。',"editor.editor.gotoLocation.multipleTypeDefinitions":'控制存在多个目标位置时"转到类型定义"命令的行为。',"editor.find.autoFindInSelection.always":"始终自动打开“在选定内容中查找”。","editor.find.autoFindInSelection.multiline":"选择多行内容时，自动打开“在选定内容中查找”。","editor.find.autoFindInSelection.never":"从不自动打开“在选定内容中查找”(默认)。","editor.find.seedSearchStringFromSelection.always":"始终为编辑器选择中的搜索字符串设定种子，包括光标位置的字词。","editor.find.seedSearchStringFromSelection.never":"切勿为编辑器选择中的搜索字符串设定种子。","editor.find.seedSearchStringFromSelection.selection":"仅为编辑器选择中的搜索字符串设定种子。","editor.gotoLocation.multiple.deprecated":'此设置已弃用，请改用单独的设置，如"editor.editor.gotoLocation.multipleDefinitions"或"editor.editor.gotoLocation.multipleImplementations"。',"editor.gotoLocation.multiple.goto":"转到主结果，并对其他结果启用无速览导航","editor.gotoLocation.multiple.gotoAndPeek":"转到主结果并显示速览视图","editor.gotoLocation.multiple.peek":"显示结果的速览视图(默认)","editor.guides.bracketPairs":"控制是否启用括号对指南。","editor.guides.bracketPairs.active":"仅为活动括号对启用括号对参考线。","editor.guides.bracketPairs.false":"禁用括号对参考线。","editor.guides.bracketPairs.true":"启用括号对参考线。","editor.guides.bracketPairsHorizontal":"控制是否启用水平括号对指南。","editor.guides.bracketPairsHorizontal.active":"仅为活动括号对启用水平参考线。","editor.guides.bracketPairsHorizontal.false":"禁用水平括号对参考线。","editor.guides.bracketPairsHorizontal.true":"启用水平参考线作为垂直括号对参考线的添加项。","editor.guides.highlightActiveBracketPair":"控制编辑器是否应突出显示活动的括号对。","editor.guides.highlightActiveIndentation":"控制是否突出显示编辑器中活动的缩进参考线。","editor.guides.highlightActiveIndentation.always":"突出显示活动缩进参考线，即使突出显示了括号参考线。","editor.guides.highlightActiveIndentation.false":"不要突出显示活动缩进参考线。","editor.guides.highlightActiveIndentation.true":"突出显示活动缩进参考线。","editor.guides.indentation":"控制编辑器是否显示缩进参考线。","editor.inlayHints.off":"已禁用内嵌提示","editor.inlayHints.offUnlessPressed":"默认情况下隐藏内嵌提示，并在按住 {0} 时显示","editor.inlayHints.on":"已启用内嵌提示","editor.inlayHints.onUnlessPressed":"默认情况下显示内嵌提示，并在按住 {0} 时隐藏","editor.stickyScroll.defaultModel":"定义用于确定要粘贴的行的模型。如果大纲模型不存在，它将回退到回退到缩进模型的折叠提供程序模型上。在所有三种情况下都遵循此顺序。","editor.stickyScroll.enabled":"在编辑器顶部的滚动过程中显示嵌套的当前作用域。","editor.stickyScroll.maxLineCount":"定义要显示的最大粘滞行数。","editor.suggest.matchOnWordStartOnly":"启用后，IntelliSense 筛选要求第一个字符在单词开头匹配，例如 “Console” 或 “WebContext” 上的 “c”，但 “description” 上的 _not_。禁用后，IntelliSense 将显示更多结果，但仍按匹配质量对其进行排序。","editor.suggest.showClasss":"启用后，IntelliSense 将显示“类”建议。","editor.suggest.showColors":"启用后，IntelliSense 将显示“颜色”建议。","editor.suggest.showConstants":"启用后，IntelliSense 将显示“常量”建议。","editor.suggest.showConstructors":"启用后，IntelliSense 将显示“构造函数”建议。","editor.suggest.showCustomcolors":"启用后，IntelliSense 将显示“自定义颜色”建议。","editor.suggest.showDeprecated":"启用后，IntelliSense 将显示`已弃用`建议。","editor.suggest.showEnumMembers":'启用后，IntelliSense 将显示 "enumMember" 建议。',"editor.suggest.showEnums":"启用后，IntelliSense 将显示“枚举”建议。","editor.suggest.showEvents":"启用后，IntelliSense 将显示“事件”建议。","editor.suggest.showFields":"启用后，IntelliSense 将显示“字段”建议。","editor.suggest.showFiles":"启用后，IntelliSense 将显示“文件”建议。","editor.suggest.showFolders":"启用后，IntelliSense 将显示“文件夹”建议。","editor.suggest.showFunctions":"启用后，IntelliSense 将显示“函数”建议。","editor.suggest.showInterfaces":"启用后，IntelliSense 将显示“接口”建议。","editor.suggest.showIssues":'启用后，IntelliSense 将显示"问题"建议。',"editor.suggest.showKeywords":"启用后，IntelliSense 将显示“关键字”建议。","editor.suggest.showMethods":"启用后，IntelliSense 将显示“方法”建议。","editor.suggest.showModules":"启用后，IntelliSense 将显示“模块”建议。","editor.suggest.showOperators":"启用后，IntelliSense 将显示“操作符”建议。","editor.suggest.showPropertys":"启用后，IntelliSense 将显示“属性”建议。","editor.suggest.showReferences":"启用后，IntelliSense 将显示“参考”建议。","editor.suggest.showSnippets":"启用后，IntelliSense 将显示“片段”建议。","editor.suggest.showStructs":"启用后，IntelliSense 将显示“结构”建议。","editor.suggest.showTexts":"启用后，IntelliSense 将显示“文本”建议。","editor.suggest.showTypeParameters":'启用后，IntelliSense 将显示 "typeParameter" 建议。',"editor.suggest.showUnits":"启用后，IntelliSense 将显示“单位”建议。","editor.suggest.showUsers":'启用后，IntelliSense 将显示"用户"建议。',"editor.suggest.showValues":"启用后，IntelliSense 将显示“值”建议。","editor.suggest.showVariables":"启用后，IntelliSense 将显示“变量”建议。",editorViewAccessibleLabel:"编辑器内容",emptySelectionClipboard:"控制在没有选择内容时进行复制是否复制当前行。",experimentalWhitespaceRendering:"控制是否使用新的实验性方法呈现空格。","experimentalWhitespaceRendering.font":"使用包含字体字符的新呈现方法。","experimentalWhitespaceRendering.off":"使用稳定呈现方法。","experimentalWhitespaceRendering.svg":"将新的呈现方法与 svg 配合使用。",fastScrollSensitivity:'按下"Alt"时滚动速度倍增。',"find.addExtraSpaceOnTop":'控制 "查找小部件" 是否应在编辑器顶部添加额外的行。如果为 true, 则可以在 "查找小工具" 可见时滚动到第一行之外。',"find.autoFindInSelection":"控制自动打开“在选定内容中查找”的条件。","find.cursorMoveOnType":"控制在键入时光标是否应跳转以查找匹配项。","find.globalFindClipboard":"控制“查找”小组件是否读取或修改 macOS 的共享查找剪贴板。","find.loop":"控制在找不到其他匹配项时，是否自动从开头(或结尾)重新开始搜索。","find.seedSearchStringFromSelection":"控制是否将编辑器选中内容作为搜索词填入到查找小组件中。",folding:"控制编辑器是否启用了代码折叠。",foldingHighlight:"控制编辑器是否应突出显示折叠范围。",foldingImportsByDefault:"控制编辑器是否自动折叠导入范围。",foldingMaximumRegions:"可折叠区域的最大数量。如果当前源具有大量可折叠区域，那么增加此值可能会导致编辑器的响应速度变慢。",foldingStrategy:"控制计算折叠范围的策略。","foldingStrategy.auto":"使用特定于语言的折叠策略(如果可用)，否则使用基于缩进的策略。","foldingStrategy.indentation":"使用基于缩进的折叠策略。",fontFamily:"控制字体系列。",fontFeatureSettings:'显式 "font-feature-settings" CSS 属性。如果只需打开/关闭连字，可以改为传递布尔值。',fontLigatures:'启用/禁用字体连字("calt" 和 "liga" 字体特性)。将此更改为字符串，可对 "font-feature-settings" CSS 属性进行精细控制。',fontLigaturesGeneral:'配置字体连字或字体特性。可以是用于启用/禁用连字的布尔值，或用于设置 CSS "font-feature-settings" 属性值的字符串。',fontSize:"控制字体大小(像素)。",fontVariationSettings:"显式“font-variation-settings”CSS 属性。如果只需将 font-weight 转换为 font-variation-settings，则可以改为传递布尔值。",fontVariations:"启用/禁用从 font-weight 到 font-variation-settings 的转换。将此项更改为字符串，以便对“font-variation-settings”CSS 属性进行细化控制。",fontVariationsGeneral:"配置字体变体。可以是用于启用/禁用从 font-weight 到 font-variation-settings 的转换的布尔值，也可以是 CSS“font-variation-settings”属性值的字符串。",fontWeight:"控制字体粗细。接受关键字“正常”和“加粗”，或者接受介于 1 至 1000 之间的数字。",fontWeightErrorMessage:"仅允许使用关键字“正常”和“加粗”，或使用介于 1 至 1000 之间的数字。",formatOnPaste:"控制编辑器是否自动格式化粘贴的内容。格式化程序必须可用，并且能针对文档中的某一范围进行格式化。",formatOnType:"控制编辑器在键入一行后是否自动格式化该行。",glyphMargin:"控制编辑器是否应呈现垂直字形边距。字形边距最常用于调试。",hideCursorInOverviewRuler:"控制是否在概览标尺中隐藏光标。","hover.above":"如果有空间，首选在线条上方显示悬停。","hover.delay":"控制显示悬停提示前的等待时间 (毫秒)。","hover.enabled":"控制是否显示悬停提示。","hover.sticky":"控制当鼠标移动到悬停提示上时，其是否保持可见。","inlayHints.enable":"在编辑器中启用内联提示。","inlayHints.fontFamily":"控制编辑器中嵌入提示的字体系列。设置为空时，将使用 {0}。","inlayHints.fontSize":"控制编辑器中嵌入提示的字号。默认情况下，当配置的值小于 {1} 或大于编辑器字号时，将使用 {0}。","inlayHints.padding":"在编辑器中启用叠加提示周围的填充。",inline:"快速建议显示为虚影文本","inlineSuggest.enabled":"控制是否在编辑器中自动显示内联建议。","inlineSuggest.showToolbar":"控制何时显示内联建议工具栏。","inlineSuggest.showToolbar.always":"每当显示内联建议时，显示内联建议工具栏。","inlineSuggest.showToolbar.onHover":"将鼠标悬停在内联建议上时显示内联建议工具栏。","inlineSuggest.suppressSuggestions":"控制内联建议如何与建议小组件交互。如果启用，当内联建议可用时，不会自动显示建议小组件。",letterSpacing:"控制字母间距(像素)。",lineHeight:`控制行高。\r
 - 使用 0 根据字号自动计算行高。\r
 - 介于 0 和 8 之间的值将用作字号的乘数。\r
 - 大于或等于 8 的值将用作有效值。`,lineNumbers:"控制行号的显示。","lineNumbers.interval":"每 10 行显示一次行号。","lineNumbers.off":"不显示行号。","lineNumbers.on":"将行号显示为绝对行数。","lineNumbers.relative":"将行号显示为与光标相隔的行数。",linkedEditing:"控制编辑器是否已启用链接编辑。相关符号(如 HTML 标记)将在编辑时进行更新，具体取决于语言。",links:"控制是否在编辑器中检测链接并使其可被点击。",matchBrackets:"突出显示匹配的括号。","minimap.autohide":"控制是否自动隐藏缩略图。","minimap.enabled":"控制是否显示缩略图。","minimap.maxColumn":"限制缩略图的宽度，控制其最多显示的列数。","minimap.renderCharacters":"渲染每行的实际字符，而不是色块。","minimap.scale":"在迷你地图中绘制的内容比例: 1、2 或 3。","minimap.showSlider":"控制何时显示迷你地图滑块。","minimap.side":"控制在哪一侧显示缩略图。","minimap.size":"控制迷你地图的大小。","minimap.size.fill":"迷你地图将根据需要拉伸或缩小以填充编辑器的高度(不滚动)。","minimap.size.fit":"迷你地图将根据需要缩小，永远不会大于编辑器(不滚动)。","minimap.size.proportional":"迷你地图的大小与编辑器内容相同(并且可能滚动)。",mouseWheelScrollSensitivity:"对鼠标滚轮滚动事件的 `deltaX` 和 `deltaY` 乘上的系数。",mouseWheelZoom:"按住 `Ctrl` 键并滚动鼠标滚轮时对编辑器字体大小进行缩放。",multiCursorLimit:"控制一次可以在活动编辑器中显示的最大游标数。",multiCursorMergeOverlapping:"当多个光标重叠时进行合并。",multiCursorModifier:"用于使用鼠标添加多个游标的修饰符。“转到定义”和“打开链接”鼠标手势将进行调整，使其不与 [多光标修饰符](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier)冲突。","multiCursorModifier.alt":"映射为 `Alt` (Windows 和 Linux) 或 `Option` (macOS)。","multiCursorModifier.ctrlCmd":"映射为 `Ctrl` (Windows 和 Linux) 或 `Command` (macOS)。",multiCursorPaste:"控制粘贴时粘贴文本的行计数与光标计数相匹配。","multiCursorPaste.full":"每个光标粘贴全文。","multiCursorPaste.spread":"每个光标粘贴一行文本。",occurrencesHighlight:"控制编辑器是否突出显示语义符号的匹配项。",off:"已禁用快速建议",on:"快速建议显示在建议小组件内",overviewRulerBorder:"控制是否在概览标尺周围绘制边框。","padding.bottom":"控制编辑器的底边和最后一行之间的间距量。","padding.top":"控制编辑器的顶边和第一行之间的间距量。","parameterHints.cycle":"控制参数提示菜单在到达列表末尾时进行循环还是关闭。","parameterHints.enabled":"在输入时显示含有参数文档和类型信息的小面板。","pasteAs.enabled":"控制是否可以以不同的方式粘贴内容。","pasteAs.showPasteSelector":"控制将内容粘贴到编辑器时是否显示小组件。使用此小组件可以控制文件的粘贴方式。","pasteAs.showPasteSelector.afterPaste":"将内容粘贴到编辑器后显示粘贴选择器小组件。","pasteAs.showPasteSelector.never":"切勿显示粘贴选择器小组件。而是始终使用默认粘贴行为。",peekWidgetDefaultFocus:"控制是将焦点放在内联编辑器上还是放在预览小部件中的树上。","peekWidgetDefaultFocus.editor":"打开预览时将焦点放在编辑器上","peekWidgetDefaultFocus.tree":"打开速览时聚焦树",quickSuggestions:"控制键入时是否应自动显示建议。这可以用于在注释、字符串和其他代码中键入时进行控制。可配置快速建议以显示为虚影文本或建议小组件。另请注意控制建议是否由特殊字符触发的“{0}”设置。","quickSuggestions.comments":"在注释内启用快速建议。","quickSuggestions.other":"在字符串和注释外启用快速建议。","quickSuggestions.strings":"在字符串内启用快速建议。",quickSuggestionsDelay:"控制显示快速建议前的等待时间 (毫秒)。",renameOnType:"控制是否在编辑器中输入时自动重命名。",renameOnTypeDeprecate:'已弃用，请改用 "editor.linkedEditing"。',renderControlCharacters:"控制编辑器是否显示控制字符。",renderFinalNewline:"当文件以换行符结束时, 呈现最后一行的行号。",renderLineHighlight:"控制编辑器的当前行进行高亮显示的方式。","renderLineHighlight.all":"同时突出显示导航线和当前行。",renderLineHighlightOnlyWhenFocus:"控制编辑器是否仅在焦点在编辑器时突出显示当前行。",renderWhitespace:"控制编辑器在空白字符上显示符号的方式。","renderWhitespace.boundary":"呈现空格字符(字词之间的单个空格除外)。","renderWhitespace.selection":"仅在选定文本上呈现空白字符。","renderWhitespace.trailing":"仅呈现尾随空格字符。",roundedSelection:"控制选区是否有圆角。",rulers:"在一定数量的等宽字符后显示垂直标尺。输入多个值，显示多个标尺。若数组为空，则不绘制标尺。","rulers.color":"此编辑器标尺的颜色。","rulers.size":"此编辑器标尺将渲染的等宽字符数。",screenReaderAnnounceInlineSuggestion:"控制内联建议是否由屏幕阅读器公布。",scrollBeyondLastColumn:"控制编辑器水平滚动时可以超过范围的字符数。",scrollBeyondLastLine:"控制编辑器是否可以滚动到最后一行之后。",scrollPredominantAxis:"同时垂直和水平滚动时，仅沿主轴滚动。在触控板上垂直滚动时，可防止水平漂移。","scrollbar.horizontal":"控制水平滚动条的可见性。","scrollbar.horizontal.auto":"水平滚动条仅在必要时可见。","scrollbar.horizontal.fit":"水平滚动条将始终隐藏。","scrollbar.horizontal.visible":"水平滚动条将始终可见。","scrollbar.horizontalScrollbarSize":"水平滚动条的高度。","scrollbar.scrollByPage":"控制单击按页滚动还是跳转到单击位置。","scrollbar.vertical":"控制垂直滚动条的可见性。","scrollbar.vertical.auto":"垂直滚动条仅在必要时可见。","scrollbar.vertical.fit":"垂直滚动条将始终隐藏。","scrollbar.vertical.visible":"垂直滚动条将始终可见。","scrollbar.verticalScrollbarSize":"垂直滚动条的宽度。",selectLeadingAndTrailingWhitespace:"是否应始终选择前导和尾随空格。",selectSubwords:"是否应选择子字(如“fooBar”或“foo_bar”中的“foo”)。",selectionClipboard:"控制是否支持 Linux 主剪贴板。",selectionHighlight:"控制编辑器是否应突出显示与所选内容类似的匹配项。",showDeprecated:"控制加删除线被弃用的变量。",showFoldingControls:"控制何时显示行号槽上的折叠控件。","showFoldingControls.always":"始终显示折叠控件。","showFoldingControls.mouseover":"仅在鼠标位于装订线上方时显示折叠控件。","showFoldingControls.never":"切勿显示折叠控件并减小装订线大小。",showUnused:"控制是否淡化未使用的代码。",smoothScrolling:"控制编辑器是否使用动画滚动。",snippetSuggestions:"控制代码片段是否与其他建议一起显示及其排列的位置。","snippetSuggestions.bottom":"在其他建议下方显示代码片段建议。","snippetSuggestions.inline":"在其他建议中穿插显示代码片段建议。","snippetSuggestions.none":"不显示代码片段建议。","snippetSuggestions.top":"在其他建议上方显示代码片段建议。",stickyTabStops:"在使用空格进行缩进时模拟制表符的选择行为。所选内容将始终使用制表符停止位。","suggest.filterGraceful":"控制对建议的筛选和排序是否考虑小的拼写错误。","suggest.insertMode":"控制接受补全时是否覆盖单词。请注意，这取决于扩展选择使用此功能。","suggest.insertMode.always":"自动触发 IntelliSense 时始终选择建议。","suggest.insertMode.insert":"插入建议而不覆盖光标右侧的文本。","suggest.insertMode.never":"自动触发 IntelliSense 时，切勿选择建议。","suggest.insertMode.replace":"插入建议并覆盖光标右侧的文本。","suggest.insertMode.whenQuickSuggestion":"仅在键入时触发 IntelliSense 时才选择建议。","suggest.insertMode.whenTriggerCharacter":"仅当从触发器字符触发 IntelliSense 时，才选择建议。","suggest.localityBonus":"控制排序时是否首选光标附近的字词。","suggest.maxVisibleSuggestions.dep":"此设置已弃用。现在可以调整建议小组件的大小。","suggest.preview":"控制是否在编辑器中预览建议结果。","suggest.selectionMode":"控制在显示小组件时是否选择建议。请注意，这仅适用于(“#editor.quickSuggestions#”和“#editor.suggestOnTriggerCharacters#”)自动触发的建议，并且始终在显式调用时选择建议，例如通过“Ctrl+Space”。","suggest.shareSuggestSelections":"控制是否在多个工作区和窗口间共享记忆的建议选项(需要 `#editor.suggestSelection#`)。","suggest.showIcons":"控制是否在建议中显示或隐藏图标。","suggest.showInlineDetails":"控制建议详细信息是随标签内联显示还是仅显示在详细信息小组件中。","suggest.showStatusBar":"控制建议小部件底部的状态栏的可见性。","suggest.snippetsPreventQuickSuggestions":"控制活动代码段是否阻止快速建议。",suggestFontSize:"建议小组件的字号。设置为 {0} 时，将使用 {1} 的值。",suggestLineHeight:"建议小组件的行高。设置为 {0} 时，将使用 {1} 的值。最小值为 8。",suggestOnTriggerCharacters:"控制在键入触发字符后是否自动显示建议。",suggestSelection:"控制在建议列表中如何预先选择建议。","suggestSelection.first":"始终选择第一个建议。","suggestSelection.recentlyUsed":"选择最近的建议，除非进一步键入选择其他项。例如 `console. -> console.log`，因为最近补全过 `log`。","suggestSelection.recentlyUsedByPrefix":"根据之前补全过的建议的前缀来进行选择。例如，`co -> console`、`con -> const`。",tabCompletion:"启用 Tab 补全。","tabCompletion.off":"禁用 Tab 补全。","tabCompletion.on":"在按下 Tab 键时进行 Tab 补全，将插入最佳匹配建议。","tabCompletion.onlySnippets":'在前缀匹配时进行 Tab 补全。在 "quickSuggestions" 未启用时体验最好。',tabFocusMode:"控制编辑器是接收选项卡还是将其延迟到工作台进行导航。",unfoldOnClickAfterEndOfLine:"控制单击已折叠的行后面的空内容是否会展开该行。","unicodeHighlight.allowedCharacters":"定义未突出显示的允许字符。","unicodeHighlight.allowedLocales":"未突出显示在允许区域设置中常见的 Unicode 字符。","unicodeHighlight.ambiguousCharacters":"控制是否突出显示可能与基本 ASCII 字符混淆的字符，但当前用户区域设置中常见的字符除外。","unicodeHighlight.includeComments":"控制注释中的字符是否也应进行 Unicode 突出显示。","unicodeHighlight.includeStrings":"控制字符串中的字符是否也应进行 Unicode 突出显示。","unicodeHighlight.invisibleCharacters":"控制是否突出显示仅保留空格或完全没有宽度的字符。","unicodeHighlight.nonBasicASCII":"控制是否突出显示所有非基本 ASCII 字符。只有介于 U+0020 到 U+007E 之间的字符、制表符、换行符和回车符才被视为基本 ASCII。",unusualLineTerminators:"删除可能导致问题的异常行终止符。","unusualLineTerminators.auto":"自动删除异常的行终止符。","unusualLineTerminators.off":"忽略异常的行终止符。","unusualLineTerminators.prompt":"提示删除异常的行终止符。",useTabStops:"根据制表位插入和删除空格。",wordBreak:"控制中文/日语/韩语(CJK)文本使用的断字规则。","wordBreak.keepAll":"中文/日语/韩语(CJK)文本不应使用断字功能。非 CJK 文本行为与普通文本行为相同。","wordBreak.normal":"使用默认换行规则。",wordSeparators:"执行单词相关的导航或操作时作为单词分隔符的字符。",wordWrap:"控制折行的方式。","wordWrap.bounded":"在视区宽度和 `#editor.wordWrapColumn#` 中的较小值处折行。","wordWrap.off":"永不换行。","wordWrap.on":"将在视区宽度处换行。","wordWrap.wordWrapColumn":"在 `#editor.wordWrapColumn#` 处折行。",wordWrapColumn:"在 `#editor.wordWrap#` 为 `wordWrapColumn` 或 `bounded` 时，控制编辑器的折行列。",wrappingIndent:"控制折行的缩进。","wrappingIndent.deepIndent":"折行的缩进量比其父级多 2。","wrappingIndent.indent":"折行的缩进量比其父级多 1。","wrappingIndent.none":"没有缩进。折行从第 1 列开始。","wrappingIndent.same":"折行的缩进量与其父级相同。",wrappingStrategy:"控制计算包装点的算法。请注意，在辅助功能模式下，高级版将用于提供最佳体验。","wrappingStrategy.advanced":"将包装点计算委托给浏览器。这是一个缓慢算法，可能会导致大型文件被冻结，但它在所有情况下都正常工作。","wrappingStrategy.simple":"假定所有字符的宽度相同。这是一种快速算法，适用于等宽字体和某些字形宽度相等的文字(如拉丁字符)。"},"vs/editor/common/core/editorColorRegistry":{caret:"编辑器光标颜色。",deprecatedEditorActiveIndentGuide:"“editorIndentGuide.activeBackground” 已弃用。请改用 “editorIndentGuide.activeBackground1”。",deprecatedEditorActiveLineNumber:'"Id" 已被弃用，请改用 "editorLineNumber.activeForeground"。',deprecatedEditorIndentGuides:"“editorIndentGuide.background” 已弃用。请改用 “editorIndentGuide.background1”。",editorActiveIndentGuide:"编辑器活动缩进参考线的颜色。",editorActiveIndentGuide1:"编辑器活动缩进参考线 (1) 的颜色。",editorActiveIndentGuide2:"编辑器活动缩进参考线 (2) 的颜色。",editorActiveIndentGuide3:"编辑器活动缩进参考线 (3) 的颜色。",editorActiveIndentGuide4:"编辑器活动缩进参考线 (4) 的颜色。",editorActiveIndentGuide5:"编辑器活动缩进参考线 (5) 的颜色。",editorActiveIndentGuide6:"编辑器活动缩进参考线 (6) 的颜色。",editorActiveLineNumber:"编辑器活动行号的颜色",editorBracketHighlightForeground1:"括号的前景色(1)。需要启用括号对着色。",editorBracketHighlightForeground2:"括号的前景色(2)。需要启用括号对着色。",editorBracketHighlightForeground3:"括号的前景色(3)。需要启用括号对着色。",editorBracketHighlightForeground4:"括号的前景色(4)。需要启用括号对着色。",editorBracketHighlightForeground5:"括号的前景色(5)。需要启用括号对着色。",editorBracketHighlightForeground6:"括号的前景色(6)。需要启用括号对着色。",editorBracketHighlightUnexpectedBracketForeground:"方括号出现意外的前景色。",editorBracketMatchBackground:"匹配括号的背景色",editorBracketMatchBorder:"匹配括号外框的颜色","editorBracketPairGuide.activeBackground1":"活动括号对指南的背景色(1)。需要启用括号对指南。","editorBracketPairGuide.activeBackground2":"活动括号对指南的背景色(2)。需要启用括号对指南。","editorBracketPairGuide.activeBackground3":"活动括号对指南的背景色(3)。需要启用括号对指南。","editorBracketPairGuide.activeBackground4":"活动括号对指南的背景色(4)。需要启用括号对指南。","editorBracketPairGuide.activeBackground5":"活动括号对指南的背景色(5)。需要启用括号对指南。","editorBracketPairGuide.activeBackground6":"活动括号对指南的背景色(6)。需要启用括号对指南。","editorBracketPairGuide.background1":"非活动括号对指南的背景色(1)。需要启用括号对指南。","editorBracketPairGuide.background2":"非活动括号对指南的背景色(2)。需要启用括号对指南。","editorBracketPairGuide.background3":"非活动括号对指南的背景色(3)。需要启用括号对指南。","editorBracketPairGuide.background4":"非活动括号对指南的背景色(4)。需要启用括号对指南。","editorBracketPairGuide.background5":"非活动括号对指南的背景色(5)。需要启用括号对指南。","editorBracketPairGuide.background6":"非活动括号对指南的背景色(6)。需要启用括号对指南。",editorCodeLensForeground:"编辑器 CodeLens 的前景色",editorCursorBackground:"编辑器光标的背景色。可以自定义块型光标覆盖字符的颜色。",editorDimmedLineNumber:"将 editor.renderFinalNewline 设置为灰色时最终编辑器行的颜色。",editorGhostTextBackground:"编辑器中虚影文本的背景色。",editorGhostTextBorder:"编辑器中虚影文本的边框颜色。",editorGhostTextForeground:"编辑器中虚影文本的前景色。",editorGutter:"编辑器导航线的背景色。导航线包括边缘符号和行号。",editorIndentGuides:"编辑器缩进参考线的颜色。",editorIndentGuides1:"编辑器缩进参考线 (1) 的颜色。",editorIndentGuides2:"编辑器缩进参考线 (2) 的颜色。",editorIndentGuides3:"编辑器缩进参考线 (3) 的颜色。",editorIndentGuides4:"编辑器缩进参考线 (4) 的颜色。",editorIndentGuides5:"编辑器缩进参考线 (5) 的颜色。",editorIndentGuides6:"编辑器缩进参考线 (6) 的颜色。",editorLineNumbers:"编辑器行号的颜色。",editorOverviewRulerBackground:"编辑器概述标尺的背景色。",editorOverviewRulerBorder:"概览标尺边框的颜色。",editorRuler:"编辑器标尺的颜色。","editorUnicodeHighlight.background":"用于突出显示 Unicode 字符的背景颜色。","editorUnicodeHighlight.border":"用于突出显示 Unicode 字符的边框颜色。",editorWhitespaces:"编辑器中空白字符的颜色。",lineHighlight:"光标所在行高亮内容的背景颜色。",lineHighlightBorderBox:"光标所在行四周边框的背景颜色。",overviewRuleError:"概览标尺中错误标记的颜色。",overviewRuleInfo:"概览标尺中信息标记的颜色。",overviewRuleWarning:"概览标尺中警告标记的颜色。",overviewRulerRangeHighlight:"用于突出显示范围的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。",rangeHighlight:"背景颜色的高亮范围，喜欢通过快速打开和查找功能。颜色不能不透明，以免隐藏底层装饰。",rangeHighlightBorder:"高亮区域边框的背景颜色。",symbolHighlight:"高亮显示符号的背景颜色，例如转到定义或转到下一个/上一个符号。颜色不能是不透明的，以免隐藏底层装饰。",symbolHighlightBorder:"高亮显示符号周围的边框的背景颜色。",unnecessaryCodeBorder:"编辑器中不必要(未使用)的源代码的边框颜色。",unnecessaryCodeOpacity:'非必须(未使用)代码的在编辑器中显示的不透明度。例如，"#000000c0" 将以 75% 的不透明度显示代码。对于高对比度主题，请使用 ”editorUnnecessaryCode.border“ 主题来为非必须代码添加下划线，以避免颜色淡化。'},"vs/editor/common/editorContextKeys":{accessibleDiffViewerVisible:"Whether the accessible diff viewer is visible",editorColumnSelection:'是否已启用 "editor.columnSelection"',editorFocus:"编辑器或编辑器小组件是否具有焦点(例如焦点在“查找”小组件中)",editorHasCodeActionsProvider:"编辑器是否具有代码操作提供程序",editorHasCodeLensProvider:"编辑器是否具有 CodeLens 提供程序",editorHasCompletionItemProvider:"编辑器是否具有补全项提供程序",editorHasDeclarationProvider:"编辑器是否具有声明提供程序",editorHasDefinitionProvider:"编辑器是否具有定义提供程序",editorHasDocumentFormattingProvider:"编辑器是否具有文档格式设置提供程序",editorHasDocumentHighlightProvider:"编辑器是否具有文档突出显示提供程序",editorHasDocumentSelectionFormattingProvider:"编辑器是否具有文档选择格式设置提供程序",editorHasDocumentSymbolProvider:"编辑器是否具有文档符号提供程序",editorHasHoverProvider:"编辑器是否具有悬停提供程序",editorHasImplementationProvider:"编辑器是否具有实现提供程序",editorHasInlayHintsProvider:"编辑器是否具有内联提示提供程序",editorHasMultipleDocumentFormattingProvider:"编辑器是否具有多个文档格式设置提供程序",editorHasMultipleDocumentSelectionFormattingProvider:"编辑器是否有多个文档选择格式设置提供程序",editorHasMultipleSelections:"编辑器是否有多个选择",editorHasReferenceProvider:"编辑器是否具有引用提供程序",editorHasRenameProvider:"编辑器是否具有重命名提供程序",editorHasSelection:"编辑器是否已选定文本",editorHasSignatureHelpProvider:"编辑器是否具有签名帮助提供程序",editorHasTypeDefinitionProvider:"编辑器是否具有类型定义提供程序",editorHoverFocused:"是否聚焦编辑器悬停",editorHoverVisible:"编辑器软键盘是否可见",editorLangId:"编辑器的语言标识符",editorReadonly:"编辑器是否为只读",editorTabMovesFocus:'"Tab" 是否将焦点移出编辑器',editorTextFocus:"编辑器文本是否具有焦点(光标是否闪烁)",inCompositeEditor:"该编辑器是否是更大的编辑器(例如笔记本)的一部分",inDiffEditor:"上下文是否为差异编辑器",isEmbeddedDiffEditor:"上下文是否为嵌入式差异编辑器",standaloneColorPickerFocused:"独立颜色选取器是否聚焦",standaloneColorPickerVisible:"独立颜色选取器是否可见",stickyScrollFocused:"是否聚焦粘性滚动",stickyScrollVisible:"粘性滚动是否可见",textInputFocus:"编辑器或 RTF 输入是否有焦点(光标是否闪烁)"},"vs/editor/common/languages":{Array:"数组",Boolean:"布尔值",Class:"类",Constant:"常数",Constructor:"构造函数",Enum:"枚举",EnumMember:"枚举成员",Event:"事件",Field:"字段",File:"文件",Function:"函数",Interface:"接口",Key:"键",Method:"方法",Module:"模块",Namespace:"命名空间",Null:"Null",Number:"数字",Object:"对象",Operator:"运算符",Package:"包",Property:"属性",String:"字符串",Struct:"结构",TypeParameter:"类型参数",Variable:"变量",symbolAriaLabel:"{0} ({1})"},"vs/editor/common/languages/modesRegistry":{"plainText.alias":"纯文本"},"vs/editor/common/model/editStack":{edit:"输入"},"vs/editor/common/standaloneStrings":{accessibilityHelpMessage:"按 Alt+F1 可打开辅助功能选项。",accessibilityHelpTitle:"辅助功能帮助",auto_off:"对该应用程序进行配置但不优化，以配合屏幕读取器的使用。",auto_on:"对该应用程序进行配置并优化，以配合屏幕读取器的使用。",bulkEditServiceSummary:"在 {1} 个文件中进行了 {0} 次编辑",changeConfigToOnMac:"若要配置编辑器，并将其进行优化以高效配合屏幕阅读器的使用，请即刻按下 Command+E。",changeConfigToOnWinLinux:"若要配置编辑器，并将其进行优化以高效配合屏幕阅读器的使用，请即刻按下 Ctrl+E。",editableDiffEditor:"在一个差异编辑器的窗格中。",editableEditor:"在代码编辑器中",editorViewAccessibleLabel:"编辑器内容",gotoLineActionLabel:"转到行/列...",helpQuickAccess:"显示所有快速访问提供程序",inspectTokens:"开发人员: 检查令牌",openingDocs:"正在打开辅助功能文档页面。",quickCommandActionHelp:"显示并运行命令",quickCommandActionLabel:"命令面板",quickOutlineActionLabel:"转到符号...",quickOutlineByCategoryActionLabel:"按类别转到符号...",readonlyDiffEditor:"在差异编辑器的只读窗格中。",readonlyEditor:"在只读代码编辑器中",screenReaderModeDisabled:"已禁用屏幕阅读器优化模式。",screenReaderModeEnabled:"已启用屏幕阅读器优化模式。",showAccessibilityHelpAction:"显示辅助功能帮助",tabFocusModeOffMsg:"在当前编辑器中按 Tab 将插入制表符。通过按 {0} 切换此行为。",tabFocusModeOffMsgNoKb:"在当前编辑器中按 Tab 会插入制表符。当前无法通过键绑定触发命令 {0}。",tabFocusModeOnMsg:"在当前编辑器中按 Tab 会将焦点移动到下一个可聚焦的元素。通过按 {0} 切换此行为。",tabFocusModeOnMsgNoKb:"在当前编辑器中按 Tab 会将焦点移动到下一个可聚焦的元素。当前无法通过按键绑定触发命令 {0}。",toggleHighContrast:"切换高对比度主题"},"vs/editor/common/viewLayout/viewLineRenderer":{"overflow.chars":"{0} 字符",showMore:"显示更多({0})"},"vs/editor/contrib/anchorSelect/browser/anchorSelect":{anchorSet:"定位点设置为 {0}:{1}",cancelSelectionAnchor:"取消选择定位点",goToSelectionAnchor:"转到选择定位点",selectFromAnchorToCursor:"选择从定位点到光标",selectionAnchor:"选择定位点",setSelectionAnchor:"设置选择定位点"},"vs/editor/contrib/bracketMatching/browser/bracketMatching":{miGoToBracket:"转到括号(&&B)",overviewRulerBracketMatchForeground:"概览标尺上表示匹配括号的标记颜色。","smartSelect.jumpBracket":"转到括号","smartSelect.removeBrackets":"删除括号","smartSelect.selectToBracket":"选择括号所有内容"},"vs/editor/contrib/caretOperations/browser/caretOperations":{"caret.moveLeft":"向左移动所选文本","caret.moveRight":"向右移动所选文本"},"vs/editor/contrib/caretOperations/browser/transpose":{"transposeLetters.label":"转置字母"},"vs/editor/contrib/clipboard/browser/clipboard":{"actions.clipboard.copyLabel":"复制","actions.clipboard.copyWithSyntaxHighlightingLabel":"复制并突出显示语法","actions.clipboard.cutLabel":"剪切","actions.clipboard.pasteLabel":"粘贴","copy as":"复制为",miCopy:"复制(&&C)",miCut:"剪切(&&T)",miPaste:"粘贴(&&P)",share:"共享"},"vs/editor/contrib/codeAction/browser/codeAction":{applyCodeActionFailed:"应用代码操作时发生未知错误"},"vs/editor/contrib/codeAction/browser/codeActionCommands":{"args.schema.apply":"控制何时应用返回的操作。","args.schema.apply.first":"始终应用第一个返回的代码操作。","args.schema.apply.ifSingle":"如果仅返回的第一个代码操作，则应用该操作。","args.schema.apply.never":"不要应用返回的代码操作。","args.schema.kind":"要运行的代码操作的种类。","args.schema.preferred":"如果只应返回首选代码操作，则应返回控件。","autoFix.label":"自动修复...","editor.action.autoFix.noneMessage":"没有可用的自动修复程序","editor.action.codeAction.noneMessage":"没有可用的代码操作","editor.action.codeAction.noneMessage.kind":'没有适用于"{0}"的代码操作',"editor.action.codeAction.noneMessage.preferred":"没有可用的首选代码操作","editor.action.codeAction.noneMessage.preferred.kind":'没有适用于"{0}"的首选代码操作',"editor.action.organize.noneMessage":"没有可用的整理 import 语句操作","editor.action.quickFix.noneMessage":"没有可用的代码操作","editor.action.refactor.noneMessage":"没有可用的重构操作","editor.action.refactor.noneMessage.kind":'没有可用的"{0}"重构',"editor.action.refactor.noneMessage.preferred":"没有可用的首选重构","editor.action.refactor.noneMessage.preferred.kind":'没有适用于"{0}"的首选重构',"editor.action.source.noneMessage":"没有可用的源代码操作","editor.action.source.noneMessage.kind":"没有适用于“ {0}”的源操作","editor.action.source.noneMessage.preferred":"没有可用的首选源操作","editor.action.source.noneMessage.preferred.kind":'没有适用于"{0}"的首选源操作',"fixAll.label":"全部修复","fixAll.noneMessage":"没有可用的“全部修复”操作","organizeImports.label":"整理 import 语句","quickfix.trigger.label":"快速修复...","refactor.label":"重构...","source.label":"源代码操作..."},"vs/editor/contrib/codeAction/browser/codeActionContributions":{showCodeActionHeaders:"启用/禁用在代码操作菜单中显示组标头。"},"vs/editor/contrib/codeAction/browser/codeActionController":{hideMoreActions:"隐藏已禁用项",showMoreActions:"显示已禁用项"},"vs/editor/contrib/codeAction/browser/codeActionMenu":{"codeAction.widget.id.convert":"重写...","codeAction.widget.id.extract":"提取...","codeAction.widget.id.inline":"内联...","codeAction.widget.id.more":"更多操作...","codeAction.widget.id.move":"移动...","codeAction.widget.id.quickfix":"快速修复...","codeAction.widget.id.source":"源代码操作...","codeAction.widget.id.surround":"环绕方式..."},"vs/editor/contrib/codeAction/browser/lightBulbWidget":{codeAction:"显示代码操作",codeActionWithKb:"显示代码操作({0})",preferredcodeActionWithKb:"显示代码操作。首选可用的快速修复({0})"},"vs/editor/contrib/codelens/browser/codelensController":{showLensOnLine:"显示当前行的 Code Lens 命令"},"vs/editor/contrib/colorPicker/browser/colorPickerWidget":{clickToToggleColorOptions:"单击以切换颜色选项 (rgb/hsl/hex)",closeIcon:"用于关闭颜色选取器的图标"},"vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions":{hideColorPicker:"隐藏颜色选取器",insertColorWithStandaloneColorPicker:"使用独立颜色选取器插入颜色",mishowOrFocusStandaloneColorPicker:"&&显示或聚焦独立颜色选取器",showOrFocusStandaloneColorPicker:"显示或聚焦独立颜色选取器"},"vs/editor/contrib/comment/browser/comment":{"comment.block":"切换块注释","comment.line":"切换行注释","comment.line.add":"添加行注释","comment.line.remove":"删除行注释",miToggleBlockComment:"切换块注释(&&B)",miToggleLineComment:"切换行注释(&&T)"},"vs/editor/contrib/contextmenu/browser/contextmenu":{"action.showContextMenu.label":"显示编辑器上下文菜单","context.minimap.minimap":"缩略图","context.minimap.renderCharacters":"呈现字符","context.minimap.size":"垂直大小","context.minimap.size.fill":"填充","context.minimap.size.fit":"适应","context.minimap.size.proportional":"成比例","context.minimap.slider":"滑块","context.minimap.slider.always":"始终","context.minimap.slider.mouseover":"鼠标悬停"},"vs/editor/contrib/cursorUndo/browser/cursorUndo":{"cursor.redo":"光标重做","cursor.undo":"光标撤消"},"vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution":{pasteAs:"粘贴为...","pasteAs.id":"要尝试应用的粘贴编辑的 ID。如果未提供，编辑器将显示选取器。"},"vs/editor/contrib/dropOrPasteInto/browser/copyPasteController":{pasteAsPickerPlaceholder:"选择粘贴操作",pasteAsProgress:"正在运行粘贴处理程序",pasteIntoEditorProgress:"正在运行粘贴处理程序。单击以取消",pasteWidgetVisible:"是否显示粘贴小组件",postPasteWidgetTitle:"显示粘贴选项..."},"vs/editor/contrib/dropOrPasteInto/browser/defaultProviders":{builtIn:"内置","defaultDropProvider.uriList.path":"插入路径","defaultDropProvider.uriList.paths":"插入路径","defaultDropProvider.uriList.relativePath":"插入相对路径","defaultDropProvider.uriList.relativePaths":"插入相对路径","defaultDropProvider.uriList.uri":"插入 URI","defaultDropProvider.uriList.uris":"插入 URI","text.label":"插入纯文本"},"vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController":{dropIntoEditorProgress:"正在运行放置处理程序。单击以取消",dropWidgetVisible:"是否显示放置小组件",postDropWidgetTitle:"显示放置选项..."},"vs/editor/contrib/editorState/browser/keybindingCancellation":{cancellableOperation:"编辑器是否运行可取消的操作，例如“预览引用”"},"vs/editor/contrib/find/browser/findController":{"actions.find.isRegexOverride":`重写“使用正则表达式”标记。\r
将不会保留该标记供将来使用。\r
0: 不执行任何操作\r
1: True\r
2: False`,"actions.find.matchCaseOverride":`重写“数学案例”标记。\r
将不会保留该标记供将来使用。\r
0: 不执行任何操作\r
1: True\r
2: False`,"actions.find.preserveCaseOverride":`重写“保留服务案例”标记。\r
将不会保留该标记供将来使用。\r
0: 不执行任何操作\r
1: True\r
2: False`,"actions.find.wholeWordOverride":`重写“匹配整个字词”标记。\r
将不会保留该标记供将来使用。\r
0: 不执行任何操作\r
1: True\r
2: False`,"findMatchAction.goToMatch":"转到“匹配”...","findMatchAction.inputPlaceHolder":"键入数字以转到特定匹配项(介于 1 和 {0} 之间)","findMatchAction.inputValidationMessage":"请键入介于 1 和 {0} 之间的数字","findMatchAction.noResults":"无匹配项。请尝试搜索其他内容。",findNextMatchAction:"查找下一个",findPreviousMatchAction:"查找上一个",miFind:"查找(&&F)",miReplace:"替换(&&R)",nextSelectionMatchFindAction:"查找下一个选择",previousSelectionMatchFindAction:"查找上一个选择",startFindAction:"查找",startFindWithArgsAction:"使用参数查找",startFindWithSelectionAction:"查找选定内容",startReplace:"替换"},"vs/editor/contrib/find/browser/findWidget":{ariaSearchNoResult:"为“{1}”找到 {0}",ariaSearchNoResultEmpty:"找到 {0}",ariaSearchNoResultWithLineNum:"在 {2} 处找到“{1}”的 {0}",ariaSearchNoResultWithLineNumNoCurrentMatch:"为“{1}”找到 {0}","ctrlEnter.keybindingChanged":"Ctrl+Enter 现在由全部替换改为插入换行。你可以修改editor.action.replaceAll 的按键绑定以覆盖此行为。",findCollapsedIcon:"用于指示编辑器查找小组件已折叠的图标。",findExpandedIcon:"用于指示编辑器查找小组件已展开的图标。",findNextMatchIcon:"编辑器查找小组件中的“查找下一个”图标。",findPreviousMatchIcon:"编辑器查找小组件中的“查找上一个”图标。",findReplaceAllIcon:"编辑器查找小组件中的“全部替换”图标。",findReplaceIcon:"编辑器查找小组件中的“替换”图标。",findSelectionIcon:"编辑器查找小组件中的“在选定内容中查找”图标。","label.closeButton":"关闭","label.find":"查找","label.findDialog":"查找/替换","label.matchesLocation":"第 {0} 项，共 {1} 项","label.nextMatchButton":"下一个匹配项","label.noResults":"无结果","label.previousMatchButton":"上一个匹配项","label.replace":"替换","label.replaceAllButton":"全部替换","label.replaceButton":"替换","label.toggleReplaceButton":"切换替换","label.toggleSelectionFind":"在选定内容中查找","placeholder.find":"查找","placeholder.replace":"替换","title.matchesCountLimit":"仅高亮了前 {0} 个结果，但所有查找操作均针对全文。"},"vs/editor/contrib/folding/browser/folding":{"createManualFoldRange.label":"根据所选内容创建折叠范围","foldAction.label":"折叠","foldAllAction.label":"全部折叠","foldAllBlockComments.label":"折叠所有块注释","foldAllExcept.label":"折叠除所选区域之外的所有区域","foldAllMarkerRegions.label":"折叠所有区域","foldLevelAction.label":"折叠级别 {0}","foldRecursivelyAction.label":"以递归方式折叠","gotoNextFold.label":"转到下一个折叠范围","gotoParentFold.label":"跳转到父级折叠","gotoPreviousFold.label":"转到上一个折叠范围","removeManualFoldingRanges.label":"删除手动折叠范围","toggleFoldAction.label":"切换折叠","unFoldRecursivelyAction.label":"以递归方式展开","unfoldAction.label":"展开","unfoldAllAction.label":"全部展开","unfoldAllExcept.label":"展开除所选区域之外的所有区域","unfoldAllMarkerRegions.label":"展开所有区域"},"vs/editor/contrib/folding/browser/foldingDecorations":{"editorGutter.foldingControlForeground":"编辑器装订线中折叠控件的颜色。",foldBackgroundBackground:"折叠范围后面的背景颜色。颜色必须设为透明，以免隐藏底层装饰。",foldingCollapsedIcon:"编辑器字形边距中已折叠的范围的图标。",foldingExpandedIcon:"编辑器字形边距中已展开的范围的图标。",foldingManualCollapedIcon:"编辑器字形边距中手动折叠的范围的图标。",foldingManualExpandedIcon:"编辑器字形边距中手动展开的范围的图标。"},"vs/editor/contrib/fontZoom/browser/fontZoom":{"EditorFontZoomIn.label":"放大编辑器字体","EditorFontZoomOut.label":"缩小编辑器字体","EditorFontZoomReset.label":"重置编辑器字体大小"},"vs/editor/contrib/format/browser/format":{hint11:"在第 {0} 行进行了 1 次格式编辑",hint1n:"第 {0} 行到第 {1} 行间进行了 1 次格式编辑",hintn1:"在第 {1} 行进行了 {0} 次格式编辑",hintnn:"第 {1} 行到第 {2} 行间进行了 {0} 次格式编辑"},"vs/editor/contrib/format/browser/formatActions":{"formatDocument.label":"格式化文档","formatSelection.label":"格式化选定内容"},"vs/editor/contrib/gotoError/browser/gotoError":{"markerAction.next.label":"转到下一个问题 (错误、警告、信息)","markerAction.nextInFiles.label":"转到文件中的下一个问题 (错误、警告、信息)","markerAction.previous.label":"转到上一个问题 (错误、警告、信息)","markerAction.previousInFiles.label":"转到文件中的上一个问题 (错误、警告、信息)",miGotoNextProblem:"下一个问题(&&P)",miGotoPreviousProblem:"上一个问题(&&P)",nextMarkerIcon:"“转到下一个”标记的图标。",previousMarkerIcon:"“转到上一个”标记的图标。"},"vs/editor/contrib/gotoError/browser/gotoErrorWidget":{Error:"错误",Hint:"提示",Info:"信息",Warning:"警告",change:"{0} 个问题(共 {1} 个)",editorMarkerNavigationBackground:"编辑器标记导航小组件背景色。",editorMarkerNavigationError:"编辑器标记导航小组件错误颜色。",editorMarkerNavigationErrorHeaderBackground:"编辑器标记导航小组件错误标题背景色。",editorMarkerNavigationInfo:"编辑器标记导航小组件信息颜色。",editorMarkerNavigationInfoHeaderBackground:"编辑器标记导航小组件信息标题背景色。",editorMarkerNavigationWarning:"编辑器标记导航小组件警告颜色。",editorMarkerNavigationWarningBackground:"编辑器标记导航小组件警告标题背景色。","marker aria":"{1} 中的 {0}",problems:"{0} 个问题(共 {1} 个)"},"vs/editor/contrib/gotoSymbol/browser/goToCommands":{"actions.goToDecl.label":"转到定义","actions.goToDeclToSide.label":"打开侧边的定义","actions.goToDeclaration.label":"转到声明","actions.goToImplementation.label":"转到实现","actions.goToTypeDefinition.label":"转到类型定义","actions.peekDecl.label":"查看声明","actions.peekImplementation.label":"查看实现","actions.peekTypeDefinition.label":"快速查看类型定义","actions.previewDecl.label":"速览定义","decl.generic.noResults":"未找到声明","decl.noResultWord":"未找到“{0}”的声明","decl.title":"声明","def.title":"定义","generic.noResult":"无“{0}”的结果","generic.noResults":"找不到定义","generic.title":"位置","goToImplementation.generic.noResults":"未找到实现","goToImplementation.noResultWord":"未找到“{0}”的实现","goToReferences.label":"转到引用","goToTypeDefinition.generic.noResults":"未找到类型定义","goToTypeDefinition.noResultWord":"未找到“{0}”的类型定义","impl.title":"实现","label.generic":"转到任何符号",miGotoDeclaration:"转到声明(&&D)",miGotoDefinition:"转到定义(&&D)",miGotoImplementation:"转到实现(&&I)",miGotoReference:"转到引用(&&R)",miGotoTypeDefinition:"转到类型定义(&&T)",noResultWord:"未找到“{0}”的任何定义","peek.submenu":"快速查看","ref.title":"引用","references.action.label":"查看引用","references.no":'未找到"{0}"的引用',"references.noGeneric":"未找到引用","typedef.title":"类型定义"},"vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition":{multipleResults:"单击显示 {0} 个定义。"},"vs/editor/contrib/gotoSymbol/browser/peek/referencesController":{labelLoading:"正在加载...","metaTitle.N":"{0} ({1})",referenceSearchVisible:"引用速览是否可见，例如“速览引用”或“速览定义”"},"vs/editor/contrib/gotoSymbol/browser/peek/referencesTree":{referenceCount:"{0} 个引用",referencesCount:"{0} 个引用",treeAriaLabel:"引用"},"vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget":{missingPreviewMessage:"无可用预览",noResults:"无结果","peekView.alternateTitle":"引用"},"vs/editor/contrib/gotoSymbol/browser/referencesModel":{"aria.fileReferences.1":"{0} 中有 1 个符号，完整路径: {1}","aria.fileReferences.N":"{1} 中有 {0} 个符号，完整路径: {2}","aria.oneReference":"在列 {2} 行 {1} 的 {0} 中","aria.oneReference.preview":"在列 {3} 行 {2} 的 {1} 中的 {0}","aria.result.0":"未找到结果","aria.result.1":"在 {0} 中找到 1 个符号","aria.result.n1":"在 {1} 中找到 {0} 个符号","aria.result.nm":"在 {1} 个文件中找到 {0} 个符号"},"vs/editor/contrib/gotoSymbol/browser/symbolNavigation":{hasSymbols:"是否存在只能通过键盘导航的符号位置。",location:"{1} 的符号 {0}","location.kb":"{1} 的符号 {0}，下一个使用 {2}"},"vs/editor/contrib/hover/browser/hover":{chatAccessibleViewHint:"在辅助视图中用 {0} 检查此项",chatAccessibleViewHintNoKb:"通过命令“打开辅助视图”在辅助视图中检查此项，该命令当前无法通过键绑定触发",goToBottomHover:"转到底部悬停",goToTopHover:"转到顶部悬停",pageDownHover:"向下翻页悬停",pageUpHover:"向上翻页悬停",scrollDownHover:"向下滚动悬停",scrollLeftHover:"向左滚动悬停",scrollRightHover:"向右滚动悬停",scrollUpHover:"向上滚动悬停",showDefinitionPreviewHover:"显示定义预览悬停",showOrFocusHover:"显示或聚焦悬停"},"vs/editor/contrib/hover/browser/markdownHoverParticipant":{"modesContentHover.loading":"正在加载...","stopped rendering":"由于性能原因，长线的呈现已暂停。可通过`editor.stopRenderingLineAfter`配置此设置。","too many characters":"出于性能原因，未对长行进行解析。解析长度阈值可通过“editor.maxTokenizationLineLength”进行配置。"},"vs/editor/contrib/hover/browser/markerHoverParticipant":{checkingForQuickFixes:"正在检查快速修复...",noQuickFixes:"没有可用的快速修复","quick fixes":"快速修复...","view problem":"查看问题"},"vs/editor/contrib/indentation/browser/indentation":{changeTabDisplaySize:"更改制表符显示大小",configuredTabSize:"已配置制表符大小",currentTabSize:"当前选项卡大小",defaultTabSize:"默认选项卡大小",detectIndentation:"从内容中检测缩进方式","editor.reindentlines":"重新缩进行","editor.reindentselectedlines":"重新缩进所选行",indentUsingSpaces:"使用空格缩进",indentUsingTabs:"使用制表符缩进",indentationToSpaces:"将缩进转换为空格",indentationToTabs:"将缩进转换为制表符",selectTabWidth:"选择当前文件的制表符大小"},"vs/editor/contrib/inlayHints/browser/inlayHintsHover":{"hint.cmd":"执行命令","hint.dbl":"双击以插入","hint.def":"转到定义（{0}）","hint.defAndCommand":"转到定义 ({0})，点击右键以查看详细信息","links.navigate.kb.alt":"alt + 点击","links.navigate.kb.alt.mac":"option + 点击","links.navigate.kb.meta":"ctrl + 点击","links.navigate.kb.meta.mac":"cmd + 点击"},"vs/editor/contrib/inlineCompletions/browser/commands":{accept:"接受",acceptLine:"接受行",acceptWord:"接受 Word","action.inlineSuggest.accept":"接受内联建议","action.inlineSuggest.acceptNextLine":"接受内联建议的下一行","action.inlineSuggest.acceptNextWord":"接受内联建议的下一个字","action.inlineSuggest.alwaysShowToolbar":"始终显示工具栏","action.inlineSuggest.hide":"隐藏内联建议","action.inlineSuggest.showNext":"显示下一个内联建议","action.inlineSuggest.showPrevious":"显示上一个内联建议","action.inlineSuggest.trigger":"触发内联建议"},"vs/editor/contrib/inlineCompletions/browser/hoverParticipant":{inlineSuggestionFollows:"建议:"},"vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys":{inlineSuggestionHasIndentation:"内联建议是否以空白开头",inlineSuggestionHasIndentationLessThanTabSize:"内联建议是否以小于选项卡插入内容的空格开头",inlineSuggestionVisible:"内联建议是否可见",suppressSuggestions:"是否应抑制当前建议"},"vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget":{content:"{0} ({1})",next:"下一个",parameterHintsNextIcon:"“显示下一个参数”提示的图标。",parameterHintsPreviousIcon:"“显示上一个参数”提示的图标。",previous:"上一个"},"vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace":{"InPlaceReplaceAction.next.label":"替换为下一个值","InPlaceReplaceAction.previous.label":"替换为上一个值"},"vs/editor/contrib/lineSelection/browser/lineSelection":{expandLineSelection:"展开行选择"},"vs/editor/contrib/linesOperations/browser/linesOperations":{duplicateSelection:"重复选择","editor.transformToCamelcase":"转换为驼峰式大小写","editor.transformToKebabcase":"转换为 Kebab 案例","editor.transformToLowercase":"转换为小写","editor.transformToSnakecase":"转换为蛇形命名法","editor.transformToTitlecase":"转换为词首字母大写","editor.transformToUppercase":"转换为大写","editor.transpose":"转置光标处的字符","lines.copyDown":"向下复制行","lines.copyUp":"向上复制行","lines.delete":"删除行","lines.deleteAllLeft":"删除左侧所有内容","lines.deleteAllRight":"删除右侧所有内容","lines.deleteDuplicates":"删除重复行","lines.indent":"行缩进","lines.insertAfter":"在下面插入行","lines.insertBefore":"在上面插入行","lines.joinLines":"合并行","lines.moveDown":"向下移动行","lines.moveUp":"向上移动行","lines.outdent":"行减少缩进","lines.sortAscending":"按升序排列行","lines.sortDescending":"按降序排列行","lines.trimTrailingWhitespace":"裁剪尾随空格",miCopyLinesDown:"向下复制一行(&&P)",miCopyLinesUp:"向上复制一行(&&C)",miDuplicateSelection:"重复选择(&&D)",miMoveLinesDown:"向下移动一行(&&L)",miMoveLinesUp:"向上移动一行(&&V)"},"vs/editor/contrib/linkedEditing/browser/linkedEditing":{editorLinkedEditingBackground:"编辑器根据类型自动重命名时的背景色。","linkedEditing.label":"启动链接编辑"},"vs/editor/contrib/links/browser/links":{"invalid.url":"此链接格式不正确，无法打开: {0}",label:"打开链接","links.navigate.executeCmd":"执行命令","links.navigate.follow":"打开链接","links.navigate.kb.alt":"alt + 单击","links.navigate.kb.alt.mac":"option + 单击","links.navigate.kb.meta":"ctrl + 单击","links.navigate.kb.meta.mac":"cmd + 单击","missing.url":"此链接目标已丢失，无法打开。","tooltip.explanation":"执行命令 {0}"},"vs/editor/contrib/message/browser/messageController":{messageVisible:"编辑器当前是否正在显示内联消息"},"vs/editor/contrib/multicursor/browser/multicursor":{addSelectionToNextFindMatch:"将下一个查找匹配项添加到选择",addSelectionToPreviousFindMatch:"将选择内容添加到上一查找匹配项","changeAll.label":"更改所有匹配项",cursorAdded:"添加的光标: {0}",cursorsAdded:"添加的游标: {0}",miAddSelectionToNextFindMatch:"添加下一个匹配项(&&N)",miAddSelectionToPreviousFindMatch:"添加上一个匹配项(&&R)",miInsertCursorAbove:"在上面添加光标(&&A)",miInsertCursorAtEndOfEachLineSelected:"在行尾添加光标(&&U)",miInsertCursorBelow:"在下面添加光标(&&D)",miSelectHighlights:"选择所有匹配项(&&O)",moveSelectionToNextFindMatch:"将上次选择移动到下一个查找匹配项",moveSelectionToPreviousFindMatch:"将上个选择内容移动到上一查找匹配项","mutlicursor.addCursorsToBottom":"在底部添加光标","mutlicursor.addCursorsToTop":"在顶部添加光标","mutlicursor.focusNextCursor":"聚焦下一个光标","mutlicursor.focusNextCursor.description":"聚焦下一个光标","mutlicursor.focusPreviousCursor":"聚焦上一个光标","mutlicursor.focusPreviousCursor.description":"聚焦上一个光标","mutlicursor.insertAbove":"在上面添加光标","mutlicursor.insertAtEndOfEachLineSelected":"在行尾添加光标","mutlicursor.insertBelow":"在下面添加光标",selectAllOccurrencesOfFindMatch:"选择所有找到的查找匹配项"},"vs/editor/contrib/parameterHints/browser/parameterHints":{"parameterHints.trigger.label":"触发参数提示"},"vs/editor/contrib/parameterHints/browser/parameterHintsWidget":{editorHoverWidgetHighlightForeground:"参数提示中活动项的前景色。",hint:"{0}，提示",parameterHintsNextIcon:"“显示下一个参数”提示的图标。",parameterHintsPreviousIcon:"“显示上一个参数”提示的图标。"},"vs/editor/contrib/peekView/browser/peekView":{inReferenceSearchEditor:"速览中是否嵌入了当前代码编辑器","label.close":"关闭",peekViewBorder:"速览视图边框和箭头颜色。",peekViewEditorBackground:"速览视图编辑器背景色。",peekViewEditorGutterBackground:"速览视图编辑器中装订线的背景色。",peekViewEditorMatchHighlight:"在速览视图编辑器中匹配突出显示颜色。",peekViewEditorMatchHighlightBorder:"在速览视图编辑器中匹配项的突出显示边框。",peekViewEditorStickScrollBackground:"速览视图编辑器中粘滞滚动的背景色。",peekViewResultsBackground:"速览视图结果列表背景色。",peekViewResultsFileForeground:"速览视图结果列表中文件节点的前景色。",peekViewResultsMatchForeground:"速览视图结果列表中行节点的前景色。",peekViewResultsMatchHighlight:"在速览视图结果列表中匹配突出显示颜色。",peekViewResultsSelectionBackground:"速览视图结果列表中所选条目的背景色。",peekViewResultsSelectionForeground:"速览视图结果列表中所选条目的前景色。",peekViewTitleBackground:"速览视图标题区域背景颜色。",peekViewTitleForeground:"速览视图标题颜色。",peekViewTitleInfoForeground:"速览视图标题信息颜色。"},"vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess":{cannotRunGotoLine:"先打开文本编辑器然后跳转到行。",gotoLineColumnLabel:"转到第 {0} 行第 {1} 个字符。",gotoLineLabel:"转到行 {0}。",gotoLineLabelEmpty:"当前行: {0}，字符: {1}。 键入要导航到的行号。",gotoLineLabelEmptyWithLimit:"当前行: {0}，字符: {1}。键入要导航到的行号(介于 1 至 {2} 之间)。"},"vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess":{_constructor:"构造函数 ({0})",array:"数组({0})",boolean:"布尔值({0})",cannotRunGotoSymbolWithoutEditor:"要转到符号，首先打开具有符号信息的文本编辑器。",cannotRunGotoSymbolWithoutSymbolProvider:"活动文本编辑器不提供符号信息。",class:"类({0})",constant:"常量({0})",enum:"枚举({0})",enumMember:"枚举成员({0})",event:"事件({0})",field:"字段({0})",file:"文件({0})",function:"函数({0})",interface:"接口({0})",key:"键({0})",method:"方法({0})",modules:"模块({0})",namespace:"命名空间({0})",noMatchingSymbolResults:"没有匹配的编辑器符号",noSymbolResults:"没有编辑器符号",number:"数字({0})",object:"对象({0})",openToBottom:"在底部打开",openToSide:"在侧边打开",operator:"运算符({0})",package:"包({0})",property:"属性({0})",string:"字符串({0})",struct:"结构({0})",symbols:"符号({0})",typeParameter:"类型参数({0})",variable:"变量({0})"},"vs/editor/contrib/readOnlyMessage/browser/contribution":{"editor.readonly":"无法在只读编辑器中编辑","editor.simple.readonly":"无法在只读输入中编辑"},"vs/editor/contrib/rename/browser/rename":{aria:"成功将“{0}”重命名为“{1}”。摘要: {2}",enablePreview:"启用/禁用重命名之前预览更改的功能",label:"正在将“{0}”重命名为“{1}”","no result":"无结果。",quotableLabel:"将 {0} 重命名为 {1}","rename.failed":"重命名无法计算修改","rename.failedApply":"重命名无法应用修改","rename.label":"重命名符号",resolveRenameLocationFailed:"解析重命名位置时发生未知错误"},"vs/editor/contrib/rename/browser/renameInputField":{label:"按 {0} 进行重命名，按 {1} 进行预览",renameAriaLabel:'重命名输入。键入新名称并按 "Enter" 提交。',renameInputVisible:"重命名输入小组件是否可见"},"vs/editor/contrib/smartSelect/browser/smartSelect":{miSmartSelectGrow:"扩大选区(&&E)",miSmartSelectShrink:"缩小选区(&&S)","smartSelect.expand":"展开选择","smartSelect.shrink":"收起选择"},"vs/editor/contrib/snippet/browser/snippetController2":{hasNextTabstop:"在代码片段模式下时是否存在下一制表位",hasPrevTabstop:"在代码片段模式下时是否存在上一制表位",inSnippetMode:"编辑器目前是否在代码片段模式下",next:"转到下一个占位符..."},"vs/editor/contrib/snippet/browser/snippetVariables":{April:"四月",AprilShort:"4月",August:"八月",AugustShort:"8月",December:"十二月",DecemberShort:"12月",February:"二月",FebruaryShort:"2月",Friday:"星期五",FridayShort:"周五",January:"一月",JanuaryShort:"1月",July:"七月",JulyShort:"7月",June:"六月",JuneShort:"6月",March:"三月",MarchShort:"3月",May:"5月",MayShort:"5月",Monday:"星期一",MondayShort:"周一",November:"十一月",NovemberShort:"11 月",October:"十月",OctoberShort:"10月",Saturday:"星期六",SaturdayShort:"周六",September:"九月",SeptemberShort:"9月",Sunday:"星期天",SundayShort:"周日",Thursday:"星期四",ThursdayShort:"周四",Tuesday:"星期二",TuesdayShort:"周二",Wednesday:"星期三",WednesdayShort:"周三"},"vs/editor/contrib/stickyScroll/browser/stickyScrollActions":{focusStickyScroll:"聚焦粘性滚动","goToFocusedStickyScrollLine.title":"转到聚焦的粘性滚动行",miStickyScroll:"粘滞滚动(&&S)",mifocusStickyScroll:"聚焦粘性滚动(&&F)",mitoggleStickyScroll:"切换粘滞滚动(&&T)","selectEditor.title":"选择编辑器","selectNextStickyScrollLine.title":"选择下一个粘性滚动行","selectPreviousStickyScrollLine.title":"选择上一个粘性滚动行",stickyScroll:"粘滞滚动",toggleStickyScroll:"切换粘滞滚动"},"vs/editor/contrib/suggest/browser/suggest":{acceptSuggestionOnEnter:"按 Enter 时是否会插入建议",suggestWidgetDetailsVisible:"建议详细信息是否可见",suggestWidgetHasSelection:"是否以任何建议为中心",suggestWidgetMultipleSuggestions:"是否存在多条建议可供选择",suggestionCanResolve:"当前建议是否支持解析更多详细信息",suggestionHasInsertAndReplaceRange:"当前建议是否具有插入和替换行为",suggestionInsertMode:"默认行为是否是插入或替换",suggestionMakesTextEdit:"插入当前建议是否会导致更改或导致已键入所有内容"},"vs/editor/contrib/suggest/browser/suggestController":{"accept.insert":"插入","accept.replace":"替换","aria.alert.snippet":"选择“{0}”后进行了其他 {1} 次编辑","detail.less":"显示更多","detail.more":"显示更少","suggest.reset.label":"重置建议小组件大小","suggest.trigger.label":"触发建议"},"vs/editor/contrib/suggest/browser/suggestWidget":{ariaCurrenttSuggestionReadDetails:"{0}，文档: {1}",editorSuggestWidgetBackground:"建议小组件的背景色。",editorSuggestWidgetBorder:"建议小组件的边框颜色。",editorSuggestWidgetFocusHighlightForeground:"当某项获得焦点时，在建议小组件中突出显示的匹配项的颜色。",editorSuggestWidgetForeground:"建议小组件的前景色。",editorSuggestWidgetHighlightForeground:"建议小组件中匹配内容的高亮颜色。",editorSuggestWidgetSelectedBackground:"建议小组件中所选条目的背景色。",editorSuggestWidgetSelectedForeground:"建议小组件中所选条目的前景色。",editorSuggestWidgetSelectedIconForeground:"建议小组件中所选条目的图标前景色。",editorSuggestWidgetStatusForeground:"建议小组件状态的前景色。","label.desc":"{0}，{1}","label.detail":"{0}{1}","label.full":"{0}{1}，{2}",suggest:"建议","suggestWidget.loading":"正在加载...","suggestWidget.noSuggestions":"无建议。"},"vs/editor/contrib/suggest/browser/suggestWidgetDetails":{"details.close":"关闭",loading:"正在加载…"},"vs/editor/contrib/suggest/browser/suggestWidgetRenderer":{readMore:"了解详细信息",suggestMoreInfoIcon:"建议小组件中的详细信息的图标。"},"vs/editor/contrib/suggest/browser/suggestWidgetStatus":{content:"{0} ({1})"},"vs/editor/contrib/symbolIcons/browser/symbolIcons":{"symbolIcon.arrayForeground":"数组符号的前景色。这些符号将显示在大纲、痕迹导航栏和建议小组件中。","symbolIcon.booleanForeground":"布尔符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.classForeground":"类符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.colorForeground":"颜色符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.constantForeground":"常量符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.constructorForeground":"构造函数符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.enumeratorForeground":"枚举符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.enumeratorMemberForeground":"枚举器成员符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.eventForeground":"事件符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.fieldForeground":"字段符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.fileForeground":"文件符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.folderForeground":"文件夹符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.functionForeground":"函数符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.interfaceForeground":"接口符号的前景色。这些符号将显示在大纲、痕迹导航栏和建议小组件中。","symbolIcon.keyForeground":"键符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.keywordForeground":"关键字符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.methodForeground":"方法符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.moduleForeground":"模块符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.namespaceForeground":"命名空间符号的前景颜色。这些符号出现在轮廓、痕迹导航栏和建议小部件中。","symbolIcon.nullForeground":"空符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.numberForeground":"数字符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.objectForeground":"对象符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.operatorForeground":"运算符符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.packageForeground":"包符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.propertyForeground":"属性符号的前景色。这些符号出现在大纲、痕迹导航栏和建议小组件中。","symbolIcon.referenceForeground":"参考符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.snippetForeground":"片段符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.stringForeground":"字符串符号的前景颜色。这些符号出现在轮廓、痕迹导航栏和建议小部件中。","symbolIcon.structForeground":"结构符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.textForeground":"文本符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.typeParameterForeground":"类型参数符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.unitForeground":"单位符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.variableForeground":"变量符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。"},"vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode":{"toggle.tabMovesFocus":"切换 Tab 键移动焦点","toggle.tabMovesFocus.off":"Tab 键将插入制表符","toggle.tabMovesFocus.on":"Tab 键将移动到下一可聚焦的元素"},"vs/editor/contrib/tokenization/browser/tokenization":{forceRetokenize:"开发人员: 强制重新进行标记"},"vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter":{"action.unicodeHighlight.disableHighlightingInComments":"禁用批注中字符的突出显示","action.unicodeHighlight.disableHighlightingInStrings":"禁用字符串中字符的突出显示","action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters":"禁止突出显示歧义字符","action.unicodeHighlight.disableHighlightingOfInvisibleCharacters":"禁止突出显示不可见字符","action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters":"禁止突出显示非基本 ASCII 字符","action.unicodeHighlight.showExcludeOptions":"显示排除选项","unicodeHighlight.adjustSettings":"调整设置","unicodeHighlight.allowCommonCharactersInLanguage":"允许语言“{0}”中更常见的 unicode 字符。","unicodeHighlight.characterIsAmbiguous":"字符 {0} 可能会与字符 {1} 混淆，后者在源代码中更为常见。","unicodeHighlight.characterIsAmbiguousASCII":"字符 {0} 可能会与 ASCII 字符 {1} 混淆，后者在源代码中更为常见。","unicodeHighlight.characterIsInvisible":"字符 {0} 不可见。","unicodeHighlight.characterIsNonBasicAscii":"字符 {0} 不是基本 ASCII 字符。","unicodeHighlight.configureUnicodeHighlightOptions":"配置 Unicode 突出显示选项","unicodeHighlight.disableHighlightingInComments.shortLabel":"禁用批注中的突出显示","unicodeHighlight.disableHighlightingInStrings.shortLabel":"禁用字符串中的突出显示","unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel":"禁用不明确的突出显示","unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel":"禁用不可见突出显示","unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel":"禁用非 ASCII 突出显示","unicodeHighlight.excludeCharFromBeingHighlighted":"在突出显示内容中排除{0}","unicodeHighlight.excludeInvisibleCharFromBeingHighlighted":"不突出显示 {0} (不可见字符)","unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters":"本文档包含许多不明确的 unicode 字符","unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters":"本文档包含许多不可见的 unicode 字符","unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters":"本文档包含许多非基本 ASCII unicode 字符",warningIcon:"扩展编辑器中随警告消息一同显示的图标。"},"vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators":{"unusualLineTerminators.detail":`文件“{0}”包含一个或多个异常的行终止符，例如行分隔符(LS)或段落分隔符(PS)。\r
\r
建议从文件中删除它们。可通过“editor.unusualLineTerminators”进行配置。`,"unusualLineTerminators.fix":"删除异常行终止符(&&R)","unusualLineTerminators.ignore":"忽略","unusualLineTerminators.message":"检测到异常行终止符","unusualLineTerminators.title":"异常行终止符"},"vs/editor/contrib/wordHighlighter/browser/highlightDecorations":{overviewRulerWordHighlightForeground:"用于突出显示符号的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。",overviewRulerWordHighlightStrongForeground:"用于突出显示写权限符号的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。",overviewRulerWordHighlightTextForeground:"符号在文本中出现时的概述标尺标记颜色。颜色必须透明，以免隐藏下层的修饰。",wordHighlight:"读取访问期间符号的背景色，例如读取变量时。颜色必须透明，以免隐藏下面的修饰效果。",wordHighlightBorder:"符号在进行读取访问操作时的边框颜色，例如读取变量。",wordHighlightStrong:"写入访问过程中符号的背景色，例如写入变量时。颜色必须透明，以免隐藏下面的修饰效果。",wordHighlightStrongBorder:"符号在进行写入访问操作时的边框颜色，例如写入变量。",wordHighlightText:"符号在文本中出现时的背景色。颜色必须透明，以免隐藏下层的修饰。",wordHighlightTextBorder:"符号在文本中出现时的边框颜色。"},"vs/editor/contrib/wordHighlighter/browser/wordHighlighter":{"wordHighlight.next.label":"转到下一个突出显示的符号","wordHighlight.previous.label":"转到上一个突出显示的符号","wordHighlight.trigger.label":"触发符号高亮"},"vs/editor/contrib/wordOperations/browser/wordOperations":{deleteInsideWord:"删除 Word"},"vs/platform/action/common/actionCommonCategories":{developer:"开发人员",file:"文件",help:"帮助",preferences:"首选项",test:"测试",view:"查看"},"vs/platform/actions/browser/buttonbar":{labelWithKeybinding:"{0} ({1})"},"vs/platform/actions/browser/menuEntryActionViewItem":{titleAndKb:"{0} ({1})",titleAndKbAndAlt:`{0}\r
[{1}] {2}`},"vs/platform/actions/browser/toolbar":{hide:"隐藏",resetThisMenu:"重置菜单"},"vs/platform/actions/common/menuResetAction":{title:"重置所有菜单"},"vs/platform/actions/common/menuService":{"hide.label":"隐藏“{0}”"},"vs/platform/actionWidget/browser/actionList":{customQuickFixWidget:"操作小组件","customQuickFixWidget.labels":"{0}，禁用原因: {1}",label:"按 {0} 以应用","label-preview":"按 {0} 以应用，按 {1} 以预览"},"vs/platform/actionWidget/browser/actionWidget":{"acceptSelected.title":"接受所选操作",codeActionMenuVisible:"操作小组件列表是否可见","hideCodeActionWidget.title":"隐藏操作小组件","previewSelected.title":"预览所选操作","selectNextCodeAction.title":"选择下一个操作","selectPrevCodeAction.title":"选择上一个操作"},"vs/platform/audioCues/browser/audioCueService":{"audioCues.chatRequestSent":"已发送聊天请求","audioCues.chatResponsePending":"聊天响应挂起","audioCues.chatResponseReceived":"已收到聊天响应","audioCues.diffLineDeleted":"已删除差异行","audioCues.diffLineInserted":"已插入差异线","audioCues.diffLineModified":"差异行已修改","audioCues.lineHasBreakpoint.name":"行上的断点","audioCues.lineHasError.name":"行上的错误","audioCues.lineHasFoldedArea.name":"行上的折叠区域","audioCues.lineHasInlineSuggestion.name":"行上的内联建议","audioCues.lineHasWarning.name":"行上的警告","audioCues.noInlayHints":"行上无嵌入提示","audioCues.notebookCellCompleted":"笔记本单元格已完成","audioCues.notebookCellFailed":"笔记本单元格失败","audioCues.onDebugBreak.name":"调试程序已在断点处停止","audioCues.taskCompleted":"任务已完成","audioCues.taskFailed":"任务失败","audioCues.terminalBell":"终端钟","audioCues.terminalCommandFailed":"终端命令失败","audioCues.terminalQuickFix.name":"终端快速修复"},"vs/platform/configuration/common/configurationRegistry":{"config.policy.duplicate":'无法注册 "{0}"。关联的策略 {1} 已向 {2} 注册。',"config.property.duplicate":"无法注册“{0}”。此属性已注册。","config.property.empty":"无法注册空属性","config.property.languageDefault":'无法注册“{0}”。其符合描述特定语言编辑器设置的表达式 "\\\\[.*\\\\]$"。请使用 "configurationDefaults"。',"defaultLanguageConfiguration.description":"配置要为 {0} 语言替代的设置。","defaultLanguageConfigurationOverrides.title":"默认语言配置替代","overrideSettings.defaultDescription":"针对某种语言，配置替代编辑器设置。","overrideSettings.errorMessage":"此设置不支持按语言配置。"},"vs/platform/contextkey/browser/contextKeyService":{getContextKeyInfo:"用于返回上下文键的相关信息的命令"},"vs/platform/contextkey/common/contextkey":{"contextkey.parser.error.closingParenthesis":'右括号 ")"',"contextkey.parser.error.emptyString":"上下文键表达式为空","contextkey.parser.error.emptyString.hint":'忘记写入表达式了吗? 还可以放置 "false" 或 "true" 以始终分别评估为 false 或 true。',"contextkey.parser.error.expectedButGot":`应为: {0}\r
收到的: "{1}"。`,"contextkey.parser.error.noInAfterNot":'"not" 后面的 "in"。',"contextkey.parser.error.unexpectedEOF":"意外的表达式结尾","contextkey.parser.error.unexpectedEOF.hint":"忘记放置上下文键了吗?","contextkey.parser.error.unexpectedToken":"意外的令牌","contextkey.parser.error.unexpectedToken.hint":"忘记在令牌之前放置 && 或 || 了吗?","contextkey.scanner.errorForLinter":"意外的令牌。","contextkey.scanner.errorForLinterWithHint":"意外的令牌。提示: {0}"},"vs/platform/contextkey/common/contextkeys":{inputFocus:"键盘焦点是否在输入框中",isIOS:"操作系统是否为 iOS",isLinux:"操作系统是否为 Linux",isMac:"操作系统是否 macOS",isMacNative:"操作系统是否是非浏览器平台上的 macOS",isMobile:"平台是否为 Web 浏览器",isWeb:"平台是否为 Web 浏览器",isWindows:"操作系统是否为 Windows",productQualityType:"VS Code 的质量类型"},"vs/platform/contextkey/common/scanner":{"contextkey.scanner.hint.didYouForgetToEscapeSlash":'忘记转义 "/"(斜杠)字符了吗? 在该字符前放置两个反斜杠以进行转义，例如 "\\\\/"。',"contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote":"忘记左引号或右引号了吗?","contextkey.scanner.hint.didYouMean1":"你指的是 {0} 吗?","contextkey.scanner.hint.didYouMean2":"你指的是 {0} 还是 {1}?","contextkey.scanner.hint.didYouMean3":"你指的是 {0}、{1} 还是 {2}?"},"vs/platform/dialogs/common/dialogs":{cancelButton:"取消",moreFile:"...1 个其他文件未显示",moreFiles:"...{0} 个其他文件未显示",okButton:"确定(&&O)",yesButton:"是(&&Y)"},"vs/platform/dialogs/electron-main/dialogMainService":{open:"打开",openFile:"打开文件",openFolder:"打开文件夹",openWorkspace:"打开(&&O)",openWorkspaceTitle:"从文件打开工作区"},"vs/platform/dnd/browser/dnd":{fileTooLarge:"文件太大，无法以无标题的编辑器形式打开。请先将其上传到文件资源管理器，然后重试。"},"vs/platform/environment/node/argv":{add:"将文件夹添加到上一个活动窗口。",category:"使用 --list-extensions 时，按提供的类别筛选已安装的扩展。",cliDataDir:"应在其中存储 CLI 元数据的目录。","deprecated.useInstead":"请改用 {0}。",diff:"将两个文件相互比较。",disableChromiumSandbox:"仅当需要在 Linux 上以 sudo 用户身份启动应用程序或在 Windows 上的 applocker 环境中以提升的用户身份运行时，才使用此选项。",disableExtension:"禁用提供的扩展。此选项不会持久化，并且仅在命令打开新窗口时有效。",disableExtensions:"禁用所有已安装的扩展。此选项不会持久化，并且仅在命令打开新窗口时有效。",disableGPU:"禁用 GPU 硬件加速。",experimentalApis:"为扩展启用实验性 API 功能。可以输入一个或多个扩展的 ID 来进行单独启用。",extensionHomePath:"设置扩展的根路径。",extensionsManagement:"扩展管理",goto:"打开路径下的文件并定位到特定行和特定列。",help:"打印使用情况。","inspect-brk-extensions":"允许扩展宿主在启动后暂停时进行扩展的调试和分析。您可以在开发人员工具中找到连接 URI。","inspect-extensions":"允许调试和分析扩展。您可以在开发人员工具中找到连接 URI。","install prerelease":"使用 --install-extension 时安装扩展的预发行版本",installExtension:"安装或更新扩展。参数是 VSIX 的扩展 ID 或路径。扩展的标识符为 '${publisher}.${name}'。使用 '--force' 参数更新到最新版本。若要安装特定版本，请提供 '@${version}'。例如:'vscode.csharp@1.2.3'。",listExtensions:"列出已安装的扩展。",locale:"要使用的区域设置(例如 en-US 或 zh-TW)。",log:'要使用的日志级别。默认值为 "info"。允许的值为 "critical"、"error"、"warn"、"info"、"debug"、"trace"、"off"。还可以通过以下格式传递扩展 ID 和日志级别以配置扩展的日志级别: "${publisher}.${name}:${logLevel}"。例如: "vscode.csharp:trace"。可以接收一个或多个此类条目。',merge:"通过提供文件的两个修改版本的路径、两个修改版本的共同来源，以及保存合并结果的输出文件来执行三向合并。",newWindow:"强制打开新窗口。",options:"选项",optionsUpperCase:"选项",paths:"路径","prof-startup":"启动期间运行 CPU 探查器。",profileName:"使用给定的配置文件打开所提供的文件夹或工作区，并将配置文件与工作区相关联。如果配置文件不存在，则会创建一个新的空配置文件。必须提供文件夹或工作区才能使配置文件生效。",reuseWindow:"强制在已打开的窗口中打开文件或文件夹。",showVersions:"使用 --list-extensions 时，显示已安装扩展的版本。",status:"打印进程使用情况和诊断信息。",stdinUnix:`要从 stdin 中读取，请追加 "-" (例如 "ps aux | grep code | {0} -')`,stdinWindows:`要读取其他程序的输出，请追加 "-" (例如 "echo Hello World | {0} -')`,subcommands:"子命令",telemetry:"显示 VS Code 收集的所有遥测事件。",troubleshooting:"故障排查","turn sync":"打开或关闭同步。",uninstallExtension:"卸载扩展。",unknownCommit:"未知提交",unknownVersion:"未知版本",usage:"使用情况",userDataDir:"指定保存用户数据的目录。可用于打开多个不同的 Code 实例。",verbose:"打印详细输出(表示 - 等待)。",version:"打印版本。",wait:"等文件关闭后再返回。"},"vs/platform/environment/node/argvHelper":{deprecatedArgument:"已弃用选项“{0}”: {1}",emptyValue:"选项“{0}”需要非空值。忽略该选项。",gotoValidation:'"--goto" 模式中的参数格式应为 "FILE(:LINE(:CHARACTER))"。',multipleValues:"对选项“{0}”进行了多次定义。使用值“{1}”。",unknownOption:'警告: "{0}"不在已知选项列表中，但仍传递给 Electron/Chromium。',unknownSubCommandOption:"警告:“{0}”不在子命令“{1}”的已知选项列表中"},"vs/platform/extensionManagement/common/abstractExtensionManagementService":{MarketPlaceDisabled:"市场未启用","incompatible platform":"'{0}' 扩展在 {1} 中对于 {2} 不可用。","malicious extension":"无法安装 '{0}' 扩展，因为其被报告为存在问题。",multipleDependentsError:"无法卸载扩展“{0}”。“{1}”、“{2}”以及其他扩展都依赖于它。",multipleIndirectDependentsError:"无法卸载扩展“{0}”。该操作会一并卸载依赖于它的扩展“{1}”、“{2}”、“{3}”和其他扩展。",notFoundCompatibleDependency:"无法安装“{0}”扩展，因为它与当前 {1} 版本不兼容(版本 {2})。",notFoundDeprecatedReplacementExtension:"Can't install '{0}' extension since it was deprecated and the replacement extension '{1}' can't be found.",notFoundReleaseExtension:"由于 '{0}' 扩展没有发布版本，因此无法安装。",singleDependentError:"无法卸载扩展“{0}”。扩展“{1}”依赖于它。",singleIndirectDependentError:"无法卸载扩展“{0}”。该操作会一并卸载依赖于它的扩展“{1}”和“{2}”。",twoDependentsError:"无法卸载扩展“{0}”。扩展“{1}”和“{2}”依赖于它。",twoIndirectDependentsError:"无法卸载扩展“{0}”。该操作会一并卸载依赖于它的扩展“{1}”、“{2}”和“{3}”。"},"vs/platform/extensionManagement/common/extensionManagement":{extensions:"扩展",preferences:"首选项"},"vs/platform/extensionManagement/common/extensionManagementCLI":{alreadyInstalled:"已安装扩展“{0}”。","alreadyInstalled-checkAndUpdate":'已安装扩展 "{0}" v{1}。使用 "--force" 选项更新到最新版本，或提供 "@<version>" 以安装特定版本，例如: "{2}@1.2.3"。',builtin:"扩展“{0}”是内置扩展，无法卸载",cancelInstall:"已取消安装扩展“{0}”。",cancelVsixInstall:"已取消安装扩展“{0}”。","error while installing extensions":"安装扩展时出错: {0}",forceDowngrade:'已安装扩展“{0}”v{1} 的较新版本。请使用 "--force" 选项降级到旧版本。',forceUninstall:'用户已将扩展“{0}”标记为内置扩展。请使用 "--force" 选项将其卸载。',"installation failed":"未能安装扩展: {0}",installing:"正在安装扩展“{0}”...","installing builtin ":"正在安装内置扩展“{0}”...","installing builtin with version":"正在安装内置扩展“{0}”v{1}…","installing with version":"正在安装扩展“{0}”v{1}...",installingExtensions:"正在安装扩展…",installingExtensionsOnLocation:"正在 {0} 上安装扩展…",listFromLocation:"{0} 上安装的扩展:",notFound:"找不到扩展“{0}”。",notInstalled:"未安装扩展“{0}”。",notInstalleddOnLocation:"{1} 上未安装扩展“{0}”。",successInstall:"已成功安装扩展“{0}”v{1}。",successUninstall:"已成功卸载扩展“{0}”!",successUninstallFromLocation:"已成功从 {1} 卸载扩展“{0}”!",successVsixInstall:"已成功安装扩展“{0}”。",uninstalling:"正在卸载 {0}…",updateMessage:'将扩展 "{0}" 更新到版本 {1}',useId:"确认使用了包括发布者在内的完整扩展 ID，例如: {0}"},"vs/platform/extensionManagement/common/extensionNls":{missingNLSKey:"无法找到键 {0} 的消息。"},"vs/platform/extensionManagement/common/extensionsScannerService":{fileReadFail:"无法读取文件 {0}: {1}。",jsonInvalidFormat:"格式 {0} 无效: 应为 JSON 对象。",jsonParseFail:"无法解析 {0}: [{1}, {2}] {3}.",jsonParseInvalidType:"清单文件 {0} 无效: 不是 JSON 对象。",jsonsParseReportErrors:"未能分析 {0}: {1}。"},"vs/platform/extensionManagement/node/extensionManagementService":{MarketPlaceDisabled:"市场未启用","Not a Marketplace extension":"只能重新安装商店中的扩展","cannot read":"无法从 {0} 读取扩展",errorDeleting:"安装扩展“{1}”时无法删除现有文件夹“{0}”。请手动删除此文件夹，然后重试",incompatible:"无法安装扩展“{0}”，因为它与 VS Code“{1}”不兼容。",removeError:"删除扩展时出错: {0}。请重启 VS Code，然后重试。",renameError:"将 {0} 重命名为 {1} 时发生未知错误",restartCode:"请在重新安装{0}之前重新启动 VS Code。"},"vs/platform/extensionManagement/node/extensionManagementUtil":{invalidManifest:"VSIX 无效: package.json 不是 JSON 文件。"},"vs/platform/extensions/common/extensionValidator":{"extensionDescription.activationEvents1":"属性“{0}”可以省略，否则其类型必须是 `string[]`","extensionDescription.activationEvents2":"如果扩展没有“{1}”或“{2}”属性，则应省略属性“{0}”。","extensionDescription.browser1":"属性“{0}”可以省略，否则其类型必须是 `string`","extensionDescription.browser2":"应在扩展文件夹({1})中包含 `browser` ({0})。这可能会使扩展不可移植。","extensionDescription.engines":"属性“{0}”是必要属性，其类型必须是 `object`","extensionDescription.engines.vscode":"属性“{0}”是必需的，其类型必须是 `string`","extensionDescription.extensionDependencies":"属性“{0}”可以省略，否则其类型必须是 `string[]`","extensionDescription.extensionKind":"仅当同时定义了属性“main”时，才能定义属性“{0}”。","extensionDescription.main1":"属性 `{0}` 可以省略，否则其类型必须是 `string`","extensionDescription.main2":"应在扩展文件夹({1})中包含 `main` ({0})。这可能会使扩展不可移植。","extensionDescription.name":"属性“{0}”是必需的，其类型必须是 `string`","extensionDescription.publisher":"属性 publisher 的类型必须是 `string`。","extensionDescription.version":"属性“{0}”是必需的，其类型必须是 `string`",notSemver:"扩展版本与 semver 不兼容。",versionMismatch:"扩展与 Code {0} 不兼容。扩展需要: {1}。",versionSpecificity1:'"engines.vscode" ({0}) 中指定的版本不够具体。对于 1.0.0 之前的 vscode 版本，请至少定义主要和次要想要的版本。例如: ^0.10.0、0.10.x、0.11.0 等。',versionSpecificity2:'"engines.vscode" ({0}) 中指定的版本不够具体。对于 1.0.0 之后的 vscode 版本，请至少定义主要想要的版本。例如: ^1.10.0、1.10.x、1.x.x、2.x.x 等。',versionSyntax:'无法解析 "engines.vscode" 的值 {0}。请改为如 ^1.22.0, ^1.22.x 等。'},"vs/platform/externalTerminal/node/externalTerminalService":{"console.title":"VS Code 控制台","ext.term.app.not.found":'找不到终端应用程序 "{0}"',"linux.term.failed":"“{0}”失败，退出代码为 {1}","mac.terminal.script.failed":"脚本“{0}”失败，退出代码为 {1}","mac.terminal.type.not.supported":"不支持“{0}”","press.any.key":"按任意键继续..."},"vs/platform/files/browser/htmlFileSystemProvider":{fileSystemNotAllowedError:"权限不足。请重试并允许该操作。",fileSystemRenameError:"仅文件支持重命名。"},"vs/platform/files/browser/indexedDBFileSystemProvider":{dirIsNotEmpty:"目录不为空",fileExceedsStorageQuota:"文件超出可用存储配额",fileIsDirectory:"文件为目录",fileNotDirectory:"文件不是目录",fileNotExists:"文件不存在",internal:"IndexedDB 文件系统提供程序中发生内部错误。({0})"},"vs/platform/files/common/files":{sizeB:"{0} B",sizeGB:"{0} GB",sizeKB:"{0} KB",sizeMB:"{0} MB",sizeTB:"{0} TB",unknownError:"未知错误"},"vs/platform/files/common/fileService":{deleteFailedAtomicUnsupported:'无法自动删除文件"{0}"，因为提供程序不支持它。',deleteFailedNonEmptyFolder:"无法删除非空文件夹“{0}”。",deleteFailedNotFound:"无法删除不存在的文件 '{0}'",deleteFailedTrashAndAtomicUnsupported:'无法以原子方式删除文件 "{0}"，因为已启用使用回收站。',deleteFailedTrashUnsupported:'无法通过回收站删除文件"{0}"，因为提供程序不支持它。',"err.read":"无法读取文件'{0}' ({1})","err.readonly":"无法修改只读文件“{0}”","err.write":'无法写入文件"{0}"({1})',fileExists:"如果未设置覆盖标记，则无法创建文件“{0}”，因为它已存在",fileIsDirectoryReadError:'无法读取实际上是一个目录的文件"{0}"',fileIsDirectoryWriteError:'无法写入实际上是一个目录的文件"{0}"',fileModifiedError:"自以下时间已修改的文件:",fileNotFoundError:"无法解析不存在的文件 '{0}'",fileNotModifiedError:"自以下时间未修改的文件:",fileTooLargeError:"无法读取文件“{0}”，该文件太大，无法打开",invalidPath:'无法解析具有相对文件路径"{0}"的文件系统提供程序',mkdirExistsError:'无法创建已存在但不是目录的文件夹"{0}"',noProviderFound:'ENOPRO: 未找到资源 "{0}" 的文件系统提供程序',unableToMoveCopyError1:'当源"{0}"与目标"{1}"在不区分大小写的文件系统上具有不同路径大小写时，无法复制',unableToMoveCopyError2:'当源"{0}"是目标"{1}"的父级时，无法移动/复制。',unableToMoveCopyError3:'无法移动/复制"{0}"，因为目标"{1}"已存在于目标位置。',unableToMoveCopyError4:'无法将"{0}"移动/复制到"{1}"中，因为文件将替换包含该文件的文件夹。',writeFailedAtomicUnlock:'无法解锁文件 "{0}"，因为已启用原子写入。',writeFailedAtomicUnsupported:'无法以原子方式写入文件 "{0}"，因为提供程序不支持它。',writeFailedUnlockUnsupported:"无法解锁文件“{0}”，因为提供程序不支持它。"},"vs/platform/files/common/io":{fileTooLargeError:"文件太大，无法打开"},"vs/platform/files/electron-main/diskFileSystemProviderServer":{binFailed:"未能将“{0}”移动到回收站",trashFailed:"未能将“{0}”移动到废纸篓"},"vs/platform/files/node/diskFileSystemProvider":{copyError:'无法将 "{0}" 复制到 "{1}" ({2}) 中。',fileCopyErrorPathCase:"文件不能复制到仅大小写不同的相同路径",fileExists:"文件已存在",fileMoveCopyErrorExists:"目标上的文件已存在，因此不会移动/复制到其中，除非指定了覆盖",fileMoveCopyErrorNotFound:"要移动/复制的文件不存在",fileNotExists:"文件不存在",moveError:'无法将 "{0}" 移动到 "{1}" ({2}) 中。'},"vs/platform/history/browser/contextScopedHistoryWidget":{suggestWidgetVisible:"建议是否可见"},"vs/platform/issue/electron-main/issueMainService":{cancel:"取消",confirmCloseIssueReporter:"您的输入将不会保存。确实要关闭此窗口吗？",issueReporter:"问题报告程序",issueReporterWriteToClipboard:"数据太多，无法直接发送到 GitHub。数据将被复制到剪贴板，请将其粘贴到打开的 GitHub 问题页。",local:"本地",ok:"确定(&&O)",processExplorer:"进程管理器","trace.detail":`请创建问题并手动附加以下文件:\r
{0}`,"trace.message":"已成功创建跟踪文件","trace.ok":"确定(&&O)",yes:"是(&&Y)"},"vs/platform/keybinding/common/abstractKeybindingService":{"first.chord":"({0})已按下。正在等待按下第二个键...","missing.chord":"组合键({0}，{1})不是命令。","next.chord":"已按下({0})。正在等待第二个键..."},"vs/platform/keyboardLayout/common/keyboardConfig":{dispatch:'控制按键的分派逻辑以使用 "code" (推荐) 或 "keyCode"。',keyboardConfigurationTitle:"键盘",mapAltGrToCtrlAlt:"控制是否应将 AltGraph+ 修饰符视为 Ctrl+Alt+。"},"vs/platform/languagePacks/common/languagePacks":{currentDisplayLanguage:" (当前)"},"vs/platform/languagePacks/common/localizedStrings":{close:"关闭",find:"查找",open:"打开"},"vs/platform/list/browser/listService":{"Fast Scroll Sensitivity":'按下"Alt"时滚动速度倍增。',"Mouse Wheel Scroll Sensitivity":"对鼠标滚轮滚动事件的 `deltaX` 和 `deltaY` 乘上的系数。",defaultFindMatchTypeSettingKey:"控制在工作台中搜索列表和树时使用的匹配类型。","defaultFindMatchTypeSettingKey.contiguous":"在搜索时使用连续匹配。","defaultFindMatchTypeSettingKey.fuzzy":"在搜索时使用模糊匹配。",defaultFindModeSettingKey:"控制工作台中列表和树的默认查找模式。","defaultFindModeSettingKey.filter":"搜索时筛选元素。","defaultFindModeSettingKey.highlight":"搜索时突出显示元素。进一步向上和向下导航将仅遍历突出显示的元素。","expand mode":"控制在单击文件夹名称时如何扩展树文件夹。请注意，如果不适用，某些树和列表可能会选择忽略此设置。","horizontalScrolling setting":"控制工作台上的列表和树是否支持水平滚动。警告: 打开此设置会影响性能。",keyboardNavigationSettingKey:"控制工作台中的列表和树的键盘导航样式。它可为“简单”、“突出显示”或“筛选”。","keyboardNavigationSettingKey.filter":"筛选器键盘导航将筛选出并隐藏与键盘输入不匹配的所有元素。","keyboardNavigationSettingKey.highlight":"高亮键盘导航会突出显示与键盘输入相匹配的元素。进一步向上和向下导航将仅遍历突出显示的元素。","keyboardNavigationSettingKey.simple":"简单键盘导航聚焦与键盘输入相匹配的元素。仅对前缀进行匹配。",keyboardNavigationSettingKeyDeprecated:'请改用 "workbench.list.defaultFindMode" 和 "workbench.list.typeNavigationMode"。',"list smoothScrolling setting":"控制列表和树是否具有平滑滚动效果。","list.scrollByPage":"控制在滚动条中单击时是否逐页单击。",multiSelectModifier:"在通过鼠标多选树和列表条目时使用的修改键 (例如“资源管理器”、“打开的编辑器”和“源代码管理”视图)。“在侧边打开”功能所需的鼠标动作 (若可用) 将会相应调整，不与多选修改键冲突。","multiSelectModifier.alt":"映射为 `Alt` (Windows 和 Linux) 或 `Option` (macOS)。","multiSelectModifier.ctrlCmd":"映射为 `Ctrl` (Windows 和 Linux) 或 `Command` (macOS)。",openModeModifier:"控制如何使用鼠标打开树和列表中的项(若支持)。请注意，如果此设置不适用，某些树和列表可能会选择忽略它。","render tree indent guides":"控制树是否应呈现缩进参考线。","tree indent setting":"控制树缩进(以像素为单位)。",typeNavigationMode:'控制类型导航在工作台的列表和树中的工作方式。如果设置为 "trigger"，则在运行 "list.triggerTypeNavigation" 命令后，类型导航将开始。',workbenchConfigurationTitle:"工作台"},"vs/platform/markers/common/markers":{"sev.error":"错误","sev.info":"信息","sev.warning":"警告"},"vs/platform/menubar/electron-main/menubar":{cancel:"取消",mAbout:"关于 {0}",mBringToFront:"全部置于顶层",mEdit:"编辑(&&E)",mFile:"文件(&&F)",mGoto:"转到(&&G)",mHelp:"帮助(&&H)",mHide:"隐藏 {0}",mHideOthers:"隐藏其他",mMergeAllWindows:"合并所有窗口",mMinimize:"最小化",mMoveTabToNewWindow:"移动标签页到新窗口",mNewTab:"新建标签页",mRun:"运行(&&R)",mSelection:"选择(&&S)",mServices:"服务",mShowAll:"全部显示",mShowNextTab:"显示下一个选项卡",mShowPreviousTab:"显示上一个选项卡",mTerminal:"终端(&&T)",mView:"查看(&&V)",mWindow:"窗口",mZoom:"缩放",miCheckForUpdates:"检查更新(&&U)...",miCheckingForUpdates:"正在检查更新...",miDownloadUpdate:"下载可用更新(&&O)",miDownloadingUpdate:"正在下载更新...",miInstallUpdate:"安装更新(&&U)...",miInstallingUpdate:"正在安装更新...",miNewWindow:"新建窗口(&&W)",miPreferences:"首选项(&&P)",miQuit:"退出 {0}",miRestartToUpdate:"重新启动以更新(&&U)",miSwitchWindow:"切换窗口(&&W)...",quit:"退出(&&Q)",quitMessage:"是否确实要退出?"},"vs/platform/native/electron-main/nativeHostMainService":{cancel:"取消",cantCreateBinFolder:"无法安装 Shell 命令“{0}”。",cantUninstall:"无法卸载 Shell 命令“{0}”。",ok:"确定(&&O)",sourceMissing:'在 "{0}" 中找不到 shell 脚本',warnEscalation:'{0}将通过 "osascript" 提示需要管理员权限才可安装 shell 命令。',warnEscalationUninstall:'{0} 将使用 "osascript" 来提示获取管理员权限，从而卸载 Shell 命令。'},"vs/platform/quickinput/browser/commandsQuickAccess":{canNotRun:'命令 "{0}" 导致错误',commandPickAriaLabelWithKeybinding:"{0}, {1}",commonlyUsed:"常用",morecCommands:"其他命令",recentlyUsed:"最近使用"},"vs/platform/quickinput/browser/helpQuickAccess":{helpPickAriaLabel:"{0}, {1}"},"vs/platform/quickinput/browser/quickInput":{custom:"自定义",inputModeEntry:'按 "Enter" 以确认或按 "Esc" 以取消',inputModeEntryDescription:'{0} (按 "Enter" 以确认或按 "Esc" 以取消)',ok:"确定","quickInput.back":"上一步","quickInput.backWithKeybinding":"后退 ({0})","quickInput.checkAll":"切换所有复选框","quickInput.countSelected":"已选 {0} 项","quickInput.steps":"{0}/{1}","quickInput.visibleCount":"{0} 个结果","quickInputBox.ariaLabel":"在此输入可缩小结果范围。"},"vs/platform/quickinput/browser/quickInputList":{quickInput:"快速输入"},"vs/platform/quickinput/browser/quickInputUtils":{executeCommand:'单击以执行命令 "{0}"'},"vs/platform/quickinput/browser/quickPickPin":{pinCommand:"固定命令",pinnedCommand:"已固定命令","terminal.commands.pinned":"已固定"},"vs/platform/remoteTunnel/common/remoteTunnel":{remoteTunnelLog:"远程隧道服务"},"vs/platform/remoteTunnel/node/remoteTunnelService":{"remoteTunnelService.authorizing":"正在以 {0} 的身份连接({1})","remoteTunnelService.building":"正在从源生成 CLI","remoteTunnelService.openTunnel":"正在打开隧道","remoteTunnelService.openTunnelWithName":"正在打开隧道 {0}","remoteTunnelService.serviceInstallFailed":"未能安装隧道即服务，从会话开始..."},"vs/platform/request/common/request":{httpConfigurationTitle:"HTTP",proxy:'要使用的代理设置。如果未设置，则将从 "http_proxy" 和 "https_proxy" 环境变量中继承。',proxyAuthorization:'要作为每个网络请求的 "Proxy-Authorization" 标头发送的值。',proxyKerberosServicePrincipal:"使用 HTTP 代理替代 Kerberos 身份验证的主体服务名称。未设置此选项时，将使用基于代理主机名的默认值。",proxySupport:"对扩展使用代理支持。",proxySupportFallback:"在未找到代理的情况下，启用扩展的代理支持，回退到请求选项。",proxySupportOff:"禁用对扩展的代理支持。",proxySupportOn:"为扩展启用代理支持。",proxySupportOverride:"为扩展启用代理支持，覆盖请求选项。",request:"网络请求",strictSSL:"控制是否根据提供的 CA 列表验证代理服务器证书。",systemCertificates:"控制是否应从操作系统加载 CA 证书。(在 Windows 和 macOS 上, 关闭此窗口后需要重新加载窗口。)"},"vs/platform/shell/node/shellEnv":{resolveShellEnvError:"无法解析 shell 环境: {0}",resolveShellEnvExitError:"来自生成的 shell 的意外退出代码(代码 {0}、信号 {1})",resolveShellEnvTimeout:"无法在合理的时间内解析 shell 环境。请检查 shell 配置，然后重启。"},"vs/platform/telemetry/common/telemetryLogAppender":{telemetryLog:"遥测{0}"},"vs/platform/telemetry/common/telemetryService":{enableTelemetryDeprecated:"如果此设置为 false，则无论新设置的值如何，都不会发送遥测数据。已弃用，推荐使用 {0} 设置。","telemetry.crashReports":"崩溃报告","telemetry.docsAndPrivacyStatement":"详细了解[我们收集的数据]({0})和我们的[隐私声明]({1})。","telemetry.docsStatement":"详细了解[我们收集的数据]({0})。","telemetry.enableTelemetry":"启用要收集的诊断数据。这有助于我们更好地了解 {0} 的执行情况以及哪里需要改进。","telemetry.enableTelemetryMd":"启用要收集的诊断数据。这有助于我们更好地了解 {0} 的执行情况以及哪里需要改进。[阅读详细信息]({1})关于我们收集的内容和隐私声明。","telemetry.errors":"错误遥测","telemetry.restart":"若要使崩溃报告更改生效，必须完全重新启动应用程序。","telemetry.telemetryLevel.crash":"发送 OS 级别故障报告。","telemetry.telemetryLevel.default":"发送使用情况数据、错误、故障报告。","telemetry.telemetryLevel.deprecated":"****注意:*** 如果此设置为“关闭”，则无论其他遥测设置如何，都不会发送遥测数据。如果此设置为“关闭”以外的任何选项，并且使用弃用的设置禁用遥测，则不会发送遥测数据。*","telemetry.telemetryLevel.error":"发送常规错误遥测和故障报告。","telemetry.telemetryLevel.off":"禁用所有产品遥测。","telemetry.telemetryLevel.tableDescription":"下表概述了每个设置所发送的数据:","telemetry.telemetryLevelMd":"控制 {0} 遥测、第一方扩展遥测和参与的第三方扩展遥测。一些第三方扩展可能不遵守此设置。请查阅特定扩展的文档以确定。遥测有助于我们更好地了解 {0} 的执行情况、需要改进的地方以及功能的使用方式。","telemetry.usage":"用法数据",telemetryConfigurationTitle:"遥测"},"vs/platform/terminal/common/terminalLogService":{terminalLoggerName:"终端"},"vs/platform/terminal/common/terminalPlatformConfiguration":{"terminal.integrated.automationProfile.linux":"要在 Linux 上用于自动化相关终端使用(如任务和调试)的终端配置文件。","terminal.integrated.automationProfile.osx":"要在 macOS 上用于自动化相关终端使用(如任务和调试)的终端配置文件。","terminal.integrated.automationProfile.windows":"要用于自动化相关终端使用(如任务和调试)的终端配置文件。如果设置了 {0} (现已弃用)，则当前将忽略此设置。","terminal.integrated.confirmIgnoreProcesses":"使用 {0} 设置时要忽略的一组流程名称。","terminal.integrated.defaultProfile.linux":"Linux 上的默认终端配置文件。","terminal.integrated.defaultProfile.osx":"macOS 上的默认终端配置文件。","terminal.integrated.defaultProfile.windows":"Windows 上的默认终端配置文件。","terminal.integrated.inheritEnv":"新 shell 是否应从 VS Code 继承其环境，这可能会生成登录 shell，以确保初始化 $PATH 和其他开发变量。这不会对 Windows 造成影响。","terminal.integrated.persistentSessionScrollback":"控制重新连接到永久性终端会话时将还原的最大行数。增加此数量将以占用更多内存为代价还原更多的回滚行，并增加在启动时连接到终端所需的时间。此设置需要重启才能生效，并应设置为小于或等于 `#terminal.integrated.scrollback#` 的值。","terminal.integrated.profile":`一组用于 {0} 的终端配置文件自定义，可在该平台上添加、移除或更改终端的启动方式。配置文件由强制路径、可选参数和其他演示选项组成。\r
\r
要替代现有配置文件，请使用其配置文件名称作为键，例如:\r
\r
{1}\r
\r
{2}详细了解如何对配置文件进行配置{3}。`,"terminal.integrated.showLinkHover":"是否显示终端输出中链接的悬停。","terminal.integrated.useWslProfiles":"控制是否在终端下拉列表中显示 WSL 发行版","terminalAutomationProfile.path":"shell 可执行文件的单个路径。",terminalIntegratedConfigurationTitle:"集成终端","terminalProfile.args":"用于运行 shell 可执行文件的可选参数集。","terminalProfile.color":"要与终端图标关联的主题颜色 ID。","terminalProfile.env":'具有将添加到终端配置文件进程的环境变量的对象。设置为 "null" 以从基本环境中删除环境变量。',"terminalProfile.icon":"要与终端图标关联的 codicon ID。","terminalProfile.linuxExtensionId":"扩展终端的 ID","terminalProfile.linuxExtensionIdentifier":"提供此配置文件的扩展。","terminalProfile.linuxExtensionTitle":"扩展终端的名称","terminalProfile.osxExtensionId":"扩展终端的 ID","terminalProfile.osxExtensionIdentifier":"提供此配置文件的扩展。","terminalProfile.osxExtensionTitle":"扩展终端的名称","terminalProfile.overrideName":"控制配置文件名称是否替代自动检测到的名称。","terminalProfile.path":"指向 shell 可执行文件的单一路径或一个路径数组(当一个路径失败时，这些路径将被用作回退)。","terminalProfile.windowsExtensionId":"扩展终端的 ID","terminalProfile.windowsExtensionIdentifier":"提供此配置文件的扩展。","terminalProfile.windowsExtensionTitle":"扩展终端的名称","terminalProfile.windowsSource":"将自动检测 shell 路径的配置文件源。请注意，非标准可执行文件位置不受支持，必须在新的配置文件中手动创建。"},"vs/platform/terminal/common/terminalProfiles":{terminalAutomaticProfile:"自动检测默认值"},"vs/platform/terminal/node/ptyHostMain":{ptyHost:"Pty 主机"},"vs/platform/terminal/node/ptyService":{"terminal-history-restored":"还原的历史记录"},"vs/platform/terminal/node/terminalProcess":{"launchFail.cwdDoesNotExist":"启动目录(cwd)“{0}”不存在","launchFail.cwdNotDirectory":"启动目录(cwd)“{0}”不是一个目录","launchFail.executableDoesNotExist":"shell 可执行文件“{0}”的路径不存在","launchFail.executableIsNotFileOrSymlink":'shell 可执行文件 "{0}" 的路径非文件或符号链接'},"vs/platform/theme/common/colorRegistry":{activeContrastBorder:"在活动元素周围额外的一层边框，用来提高对比度从而区别其他元素。",activeLinkForeground:"活动链接颜色。",badgeBackground:"Badge 背景色。Badge 是小型的信息标签，如表示搜索结果数量的标签。",badgeForeground:"Badge 前景色。Badge 是小型的信息标签，如表示搜索结果数量的标签。",breadcrumbsBackground:"导航路径项的背景色。",breadcrumbsFocusForeground:"焦点导航路径的颜色",breadcrumbsSelectedBackground:"导航路径项选择器的背景色。",breadcrumbsSelectedForeground:"已选导航路径项的颜色。",buttonBackground:"按钮背景色。",buttonBorder:"按钮边框颜色。",buttonForeground:"按钮前景色。",buttonHoverBackground:"按钮在悬停时的背景颜色。",buttonSecondaryBackground:"辅助按钮背景色。",buttonSecondaryForeground:"辅助按钮前景色。",buttonSecondaryHoverBackground:"悬停时的辅助按钮背景色。",buttonSeparator:"按钮分隔符颜色。",chartsBlue:"图表可视化效果中使用的蓝色。",chartsForeground:"图表中使用的前景颜色。",chartsGreen:"图表可视化效果中使用的绿色。",chartsLines:"用于图表中的水平线条的颜色。",chartsOrange:"图表可视化效果中使用的橙色。",chartsPurple:"图表可视化效果中使用的紫色。",chartsRed:"图表可视化效果中使用的红色。",chartsYellow:"图表可视化效果中使用的黄色。","checkbox.background":"复选框小部件的背景颜色。","checkbox.border":"复选框小部件的边框颜色。","checkbox.foreground":"复选框小部件的前景色。","checkbox.select.background":"选择复选框小组件所在的元素时该小组件的背景色。","checkbox.select.border":"选择复选框小组件所在的元素时该小组件的边框颜色。",contrastBorder:"在元素周围额外的一层边框，用来提高对比度从而区别其他元素。",descriptionForeground:"提供其他信息的说明文本的前景色，例如标签文本。",diffDiagonalFill:"差异编辑器的对角线填充颜色。对角线填充用于并排差异视图。","diffEditor.unchangedCodeBackground":"差异编辑器中未更改代码的背景色。","diffEditor.unchangedRegionBackground":"差异编辑器中未更改块的背景色。","diffEditor.unchangedRegionForeground":"差异编辑器中未更改块的前景色。",diffEditorBorder:"两个文本编辑器之间的边框颜色。",diffEditorInserted:"已插入的文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。",diffEditorInsertedLineGutter:"插入行的边距的背景色。",diffEditorInsertedLines:"已插入的行的背景色。颜色必须透明，以免隐藏下面的修饰效果。",diffEditorInsertedOutline:"插入的文本的轮廓颜色。",diffEditorOverviewInserted:"插入内容的差异概述标尺前景。",diffEditorOverviewRemoved:"删除内容的差异概述标尺前景。",diffEditorRemoved:"已删除的文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。",diffEditorRemovedLineGutter:"删除行的边距的背景色。",diffEditorRemovedLines:"已删除的行的背景色。颜色必须透明，以免隐藏下面的修饰效果。",diffEditorRemovedOutline:"被删除文本的轮廓颜色。",disabledForeground:"已禁用元素的整体前景色。仅在未由组件替代时才能使用此颜色。",dropdownBackground:"下拉列表背景色。",dropdownBorder:"下拉列表边框。",dropdownForeground:"下拉列表前景色。",dropdownListBackground:"下拉列表背景色。",editorBackground:"编辑器背景色。","editorError.background":"编辑器中错误文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。","editorError.foreground":"编辑器中错误波浪线的前景色。",editorFindMatch:"当前搜索匹配项的颜色。",editorFindMatchBorder:"当前搜索匹配项的边框颜色。",editorForeground:"编辑器默认前景色。","editorHint.foreground":"编辑器中提示波浪线的前景色。",editorInactiveSelection:"非活动编辑器中所选内容的颜色，颜色必须透明，以免隐藏下面的装饰效果。","editorInfo.background":"编辑器中信息文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。","editorInfo.foreground":"编辑器中信息波浪线的前景色。",editorInlayHintBackground:"内联提示的背景色",editorInlayHintBackgroundParameter:"参数内联提示的背景色",editorInlayHintBackgroundTypes:"类型内联提示的背景色",editorInlayHintForeground:"内联提示的前景色",editorInlayHintForegroundParameter:"参数内联提示的前景色",editorInlayHintForegroundTypes:"类型内联提示的前景色",editorLightBulbAutoFixForeground:"用于灯泡自动修复操作图标的颜色。",editorLightBulbForeground:"用于灯泡操作图标的颜色。",editorSelectionBackground:"编辑器所选内容的颜色。",editorSelectionForeground:"用以彰显高对比度的所选文本的颜色。",editorSelectionHighlight:"具有与所选项相关内容的区域的颜色。颜色必须透明，以免隐藏下面的修饰效果。",editorSelectionHighlightBorder:"与所选项内容相同的区域的边框颜色。",editorStickyScrollBackground:"编辑器的粘滞滚动背景色",editorStickyScrollHoverBackground:"编辑器悬停背景色上的粘滞滚动","editorWarning.background":"编辑器中警告文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。","editorWarning.foreground":"编辑器中警告波浪线的前景色。",editorWidgetBackground:"编辑器组件(如查找/替换)背景颜色。",editorWidgetBorder:"编辑器小部件的边框颜色。此颜色仅在小部件有边框且不被小部件重写时适用。",editorWidgetForeground:"编辑器小部件的前景色，如查找/替换。",editorWidgetResizeBorder:"编辑器小部件大小调整条的边框颜色。此颜色仅在小部件有调整边框且不被小部件颜色覆盖时使用。",errorBorder:"如果设置，编辑器中错误的双下划线颜色。",errorForeground:"错误信息的整体前景色。此颜色仅在不被组件覆盖时适用。",findMatchHighlight:"其他搜索匹配项的颜色。颜色必须透明，以免隐藏下面的修饰效果。",findMatchHighlightBorder:"其他搜索匹配项的边框颜色。",findRangeHighlight:"限制搜索范围的颜色。颜色不能不透明，以免隐藏底层装饰。",findRangeHighlightBorder:"限制搜索的范围的边框颜色。颜色必须透明，以免隐藏下面的修饰效果。",focusBorder:"焦点元素的整体边框颜色。此颜色仅在不被其他组件覆盖时适用。",foreground:"整体前景色。此颜色仅在不被组件覆盖时适用。",highlight:"在列表或树中搜索时，其中匹配内容的高亮颜色。",hintBorder:"如果设置，编辑器中提示的双下划线颜色。",hoverBackground:"编辑器悬停提示的背景颜色。",hoverBorder:"光标悬停时编辑器的边框颜色。",hoverForeground:"编辑器悬停的前景颜色。",hoverHighlight:"在下面突出显示悬停的字词。颜色必须透明，以免隐藏下面的修饰效果。",iconForeground:"工作台中图标的默认颜色。",infoBorder:"如果设置，编辑器中信息的双下划线颜色。",inputBoxActiveOptionBorder:"输入字段中已激活选项的边框颜色。",inputBoxBackground:"输入框背景色。",inputBoxBorder:"输入框边框。",inputBoxForeground:"输入框前景色。","inputOption.activeBackground":"输入字段中选项的背景悬停颜色。","inputOption.activeForeground":"输入字段中已激活的选项的前景色。","inputOption.hoverBackground":"输入字段中激活选项的背景颜色。",inputPlaceholderForeground:"输入框中占位符的前景色。",inputValidationErrorBackground:"输入验证结果为错误级别时的背景色。",inputValidationErrorBorder:"严重性为错误时输入验证的边框颜色。",inputValidationErrorForeground:"输入验证结果为错误级别时的前景色。",inputValidationInfoBackground:"输入验证结果为信息级别时的背景色。",inputValidationInfoBorder:"严重性为信息时输入验证的边框颜色。",inputValidationInfoForeground:"输入验证结果为信息级别时的前景色。",inputValidationWarningBackground:"严重性为警告时输入验证的背景色。",inputValidationWarningBorder:"严重性为警告时输入验证的边框颜色。",inputValidationWarningForeground:"输入验证结果为警告级别时的前景色。",invalidItemForeground:"列表或树中无效项的前景色，例如资源管理器中没有解析的根目录。",keybindingLabelBackground:"键绑定标签背景色。键绑定标签用于表示键盘快捷方式。",keybindingLabelBorder:"键绑定标签边框色。键绑定标签用于表示键盘快捷方式。",keybindingLabelBottomBorder:"键绑定标签边框底部色。键绑定标签用于表示键盘快捷方式。",keybindingLabelForeground:"键绑定标签前景色。键绑定标签用于表示键盘快捷方式。",listActiveSelectionBackground:"已选项在列表或树活动时的背景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listActiveSelectionForeground:"已选项在列表或树活动时的前景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listActiveSelectionIconForeground:"已选项在列表/树活动时的列表/树图标前景颜色。活动的列表/树具有键盘焦点，非活动的则没有。",listDeemphasizedForeground:"取消强调的项目的列表/树前景颜色。",listDropBackground:"使用鼠标移动项目时，列表或树进行拖放的背景颜色。",listErrorForeground:"包含错误的列表项的前景颜色。",listFilterMatchHighlight:"筛选后的匹配项的背景颜色。",listFilterMatchHighlightBorder:"筛选后的匹配项的边框颜色。",listFilterWidgetBackground:"列表和树中类型筛选器小组件的背景色。",listFilterWidgetNoMatchesOutline:"当没有匹配项时，列表和树中类型筛选器小组件的轮廓颜色。",listFilterWidgetOutline:"列表和树中类型筛选器小组件的轮廓颜色。",listFilterWidgetShadow:"列表和树中类型筛选器小组件的阴影颜色。",listFocusAndSelectionOutline:"当列表/树处于活动状态且已选择时，重点项的列表/树边框颜色。活动的列表/树具有键盘焦点，但非活动的则没有。",listFocusBackground:"焦点项在列表或树活动时的背景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listFocusForeground:"焦点项在列表或树活动时的前景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listFocusHighlightForeground:"在列表或树中搜索时，匹配活动聚焦项的突出显示内容的列表/树前景色。",listFocusOutline:"列表/树活动时，焦点项目的列表/树边框色。活动的列表/树具有键盘焦点，非活动的没有。",listHoverBackground:"使用鼠标移动项目时，列表或树的背景颜色。",listHoverForeground:"鼠标在项目上悬停时，列表或树的前景颜色。",listInactiveFocusBackground:"非活动的列表或树控件中焦点项的背景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listInactiveFocusOutline:"列表/数非活动时，焦点项目的列表/树边框色。活动的列表/树具有键盘焦点，非活动的没有。",listInactiveSelectionBackground:"已选项在列表或树非活动时的背景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listInactiveSelectionForeground:"已选项在列表或树非活动时的前景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listInactiveSelectionIconForeground:"已选项在列表/树非活动时的图标前景颜色。活动的列表/树具有键盘焦点，非活动的则没有。",listWarningForeground:"包含警告的列表项的前景颜色。",menuBackground:"菜单项的背景颜色。",menuBorder:"菜单的边框颜色。",menuForeground:"菜单项的前景颜色。",menuSelectionBackground:"菜单中所选菜单项的背景色。",menuSelectionBorder:"菜单中所选菜单项的边框颜色。",menuSelectionForeground:"菜单中选定菜单项的前景色。",menuSeparatorBackground:"菜单中分隔线的颜色。",mergeBorder:"内联合并冲突中标头和分割线的边框颜色。",mergeCommonContentBackground:"内联合并冲突中的常见祖先内容背景。颜色必须透明，以免隐藏下面的修饰效果。",mergeCommonHeaderBackground:"内联合并冲突中的常见祖先标头背景。颜色必须透明，以免隐藏下面的修饰效果。",mergeCurrentContentBackground:"内联合并冲突中的当前内容背景。颜色必须透明，以免隐藏下面的修饰效果。",mergeCurrentHeaderBackground:"当前标题背景的内联合并冲突。颜色不能不透明，以免隐藏底层装饰。",mergeIncomingContentBackground:"内联合并冲突中的传入内容背景。颜色必须透明，以免隐藏下面的修饰效果。",mergeIncomingHeaderBackground:"内联合并冲突中的传入标题背景。颜色必须透明，以免隐藏下面的修饰效果。",minimapBackground:"迷你地图背景颜色。",minimapError:"用于错误的迷你地图标记颜色。",minimapFindMatchHighlight:"用于查找匹配项的迷你地图标记颜色。",minimapForegroundOpacity:'在缩略图中呈现的前景元素的不透明度。例如，"#000000c0" 将呈现不透明度为 75% 的元素。',minimapSelectionHighlight:"编辑器选区在迷你地图中对应的标记颜色。",minimapSelectionOccurrenceHighlight:"用于重复编辑器选择的缩略图标记颜色。",minimapSliderActiveBackground:"单击时，迷你地图滑块的背景颜色。",minimapSliderBackground:"迷你地图滑块背景颜色。",minimapSliderHoverBackground:"悬停时，迷你地图滑块的背景颜色。",overviewRuleWarning:"用于警告的迷你地图标记颜色。",overviewRulerCommonContentForeground:"内联合并冲突中共同祖先区域的概览标尺前景色。",overviewRulerCurrentContentForeground:"内联合并冲突中当前版本区域的概览标尺前景色。",overviewRulerFindMatchForeground:"用于查找匹配项的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。",overviewRulerIncomingContentForeground:"内联合并冲突中传入的版本区域的概览标尺前景色。",overviewRulerSelectionHighlightForeground:"用于突出显示所选内容的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。",pickerBackground:"背景颜色快速选取器。快速选取器小部件是选取器(如命令调色板)的容器。",pickerForeground:"前景颜色快速选取器。快速选取器小部件是命令调色板等选取器的容器。",pickerGroupBorder:"快速选取器分组边框的颜色。",pickerGroupForeground:"快速选取器分组标签的颜色。",pickerTitleBackground:"标题背景颜色快速选取器。快速选取器小部件是命令调色板等选取器的容器。",problemsErrorIconForeground:"用于问题错误图标的颜色。",problemsInfoIconForeground:"用于问题信息图标的颜色。",problemsWarningIconForeground:"用于问题警告图标的颜色。",progressBarBackground:"表示长时间操作的进度条的背景色。","quickInput.list.focusBackground deprecation":"请改用 quickInputList.focusBackground","quickInput.listFocusBackground":"焦点项目的快速选择器背景色。","quickInput.listFocusForeground":"焦点项目的快速选择器前景色。","quickInput.listFocusIconForeground":"焦点项目的快速选取器图标前景色。",sashActiveBorder:"活动框格的边框颜色。",scrollbarShadow:"表示视图被滚动的滚动条阴影。",scrollbarSliderActiveBackground:"滚动条滑块在被点击时的背景色。",scrollbarSliderBackground:"滚动条滑块背景色",scrollbarSliderHoverBackground:"滚动条滑块在悬停时的背景色","search.resultsInfoForeground":"搜索 Viewlet 完成消息中文本的颜色。","searchEditor.editorFindMatchBorder":"搜索编辑器查询匹配的边框颜色。","searchEditor.queryMatch":"搜索编辑器查询匹配的颜色。",selectionBackground:"工作台所选文本的背景颜色(例如输入字段或文本区域)。注意，本设置不适用于编辑器。",snippetFinalTabstopHighlightBackground:"代码片段中最后的 Tab 位的高亮背景色。",snippetFinalTabstopHighlightBorder:"代码片段中最后的制表位的高亮边框颜色。",snippetTabstopHighlightBackground:"代码片段 Tab 位的高亮背景色。",snippetTabstopHighlightBorder:"代码片段 Tab 位的高亮边框颜色。",statusBarBackground:"编辑器悬停状态栏的背景色。",tableColumnsBorder:"列之间的表边框颜色。",tableOddRowsBackgroundColor:"奇数表行的背景色。",textBlockQuoteBackground:"文本中块引用的背景颜色。",textBlockQuoteBorder:"文本中块引用的边框颜色。",textCodeBlockBackground:"文本中代码块的背景颜色。",textLinkActiveForeground:"文本中链接在点击或鼠标悬停时的前景色 。",textLinkForeground:"文本中链接的前景色。",textPreformatForeground:"预格式化文本段的前景色。",textSeparatorForeground:"文字分隔符的颜色。",toolbarActiveBackground:"将鼠标悬停在操作上时的工具栏背景",toolbarHoverBackground:"使用鼠标悬停在操作上时显示工具栏背景",toolbarHoverOutline:"使用鼠标悬停在操作上时显示工具栏轮廓",treeInactiveIndentGuidesStroke:"非活动缩进参考线的树描边颜色。",treeIndentGuidesStroke:"缩进参考线的树描边颜色。",warningBorder:"如果设置，编辑器中警告的双下划线颜色。",widgetBorder:"编辑器内小组件(如查找/替换)的边框颜色。",widgetShadow:"编辑器内小组件(如查找/替换)的阴影颜色。"},"vs/platform/theme/common/iconRegistry":{"iconDefinition.fontCharacter":"与图标定义关联的字体字符。","iconDefinition.fontId":"要使用的字体的 ID。如果未设置，则使用最先定义的字体。",nextChangeIcon:"“转到下一个编辑器位置”图标。",previousChangeIcon:"“转到上一个编辑器位置”图标。",widgetClose:"小组件中“关闭”操作的图标。"},"vs/platform/theme/common/tokenClassificationRegistry":{abstract:"用于抽象符号的样式。",async:"用于异步的符号的样式。",class:"类样式。",comment:"注释的样式。",declaration:"所有符号声明的样式。",decorator:"修饰器和注释的样式。",deprecated:"用于已弃用的符号的样式。",documentation:"用于文档中引用的样式。",enum:"枚举的样式。",enumMember:"枚举成员的样式。",event:"事件的样式。",function:"函数样式",interface:"接口样式。",keyword:"关键字的样式。",labels:"文本样式",macro:"宏样式。",member:"成员函数的样式",method:"成员(成员函数)的样式",modification:"用于写入访问的样式。",namespace:"命名空间的样式。",number:"数字样式。",operator:"运算符的样式。",parameter:"参数样式。",property:"属性的样式。",readonly:"用于只读符号的样式。",regexp:"表达式的样式。","schema.fontStyle.error":'字形必须为 "italic" (斜体)、"bold" (粗体)、"underline" (下划线)、"strikethrough" (删除线) 或是上述的组合。空字符串将取消设置的所有字形。',"schema.token.background.warning":"暂不支持标记背景色。","schema.token.bold":'将字形设置为粗体或取消粗体设置。请注意，如果存在 "fontStyle"，则会替代此设置。',"schema.token.fontStyle":'设置规则的所有字形: "italic" (斜体)、"bold" (粗体)、"underline" (下划线)、"strikethrough" (删除线) 或是上述的组合。所有未列出的字形都将取消设置。空字符串将取消设置的所有字形。',"schema.token.fontStyle.none":"无 (清除继承的设置)","schema.token.foreground":"标记的前景色。","schema.token.italic":'将字形设置为倾斜或取消倾斜设置。请注意，如果存在 "fontStyle"，则会替代此设置。',"schema.token.settings":"标记的颜色和样式。","schema.token.strikethrough":'将字形设置为下划线或取消下划线设置。请注意，如果存在 "fontStyle"，则会替代此设置。',"schema.token.underline":'将字形设置为下划线或取消下划线设置。请注意，如果存在 "fontStyle"，则会替代此设置。',static:"用于静态符号的样式。",string:"字符串的样式。",struct:"结构样式。",type:"类型的样式。",typeParameter:"类型参数的样式。",variable:"变量的样式。"},"vs/platform/undoRedo/common/undoRedoService":{cannotResourceRedoDueToInProgressUndoRedo:"无法重做“{0}”，因为已有一项撤消或重做操作正在运行。",cannotResourceUndoDueToInProgressUndoRedo:"无法撤销“{0}”，因为已有一项撤消或重做操作正在运行。",cannotWorkspaceRedo:"无法在所有文件中重做“{0}”。{1}",cannotWorkspaceRedoDueToChanges:"无法对所有文件重做“{0}”，因为已更改 {1}",cannotWorkspaceRedoDueToInMeantimeUndoRedo:"无法跨所有文件重做“{0}”，因为同时发生了一项撤消或重做操作",cannotWorkspaceRedoDueToInProgressUndoRedo:"无法跨所有文件重做“{0}”，因为 {1} 上已有一项撤消或重做操作正在运行",cannotWorkspaceUndo:"无法在所有文件中撤消“{0}”。{1}",cannotWorkspaceUndoDueToChanges:"无法撤消所有文件的“{0}”，因为已更改 {1}",cannotWorkspaceUndoDueToInMeantimeUndoRedo:"无法跨所有文件撤销“{0}”，因为同时发生了一项撤消或重做操作",cannotWorkspaceUndoDueToInProgressUndoRedo:"无法跨所有文件撤销“{0}”，因为 {1} 上已有一项撤消或重做操作正在运行",confirmDifferentSource:"是否要撤消“{0}”?","confirmDifferentSource.no":"否","confirmDifferentSource.yes":"是(&&Y)",confirmWorkspace:"是否要在所有文件中撤消“{0}”?",externalRemoval:"以下文件已关闭并且已在磁盘上修改: {0}。",noParallelUniverses:"以下文件已以不兼容的方式修改: {0}。",nok:"撤消此文件(&&F)",ok:"在 {0} 个文件中撤消(&&U)"},"vs/platform/update/common/update.config.contribution":{default:"启用自动更新检查。代码将定期自动检查更新。",deprecated:"此设置已弃用，请改用“{0}”。",enableWindowsBackgroundUpdates:"启用在 Windows 上后台下载和安装新的 VS Code 版本。",enableWindowsBackgroundUpdatesTitle:"在 Windows 上启用后台更新",manual:"禁用自动后台更新检查。如果手动检查更新，更新将可用。",none:"禁用更新。",showReleaseNotes:"在更新后显示发行说明。发行说明将从 Microsoft 联机服务中获取。",start:"仅在启动时检查更新。禁用自动后台更新检查。",updateConfigurationTitle:"更新",updateMode:"配置是否接收自动更新。更改后需要重新启动。更新是从微软在线服务获取的。"},"vs/platform/userDataProfile/common/userDataProfile":{defaultProfile:"默认"},"vs/platform/userDataSync/common/abstractSynchronizer":{incompatible:"无法同步 {0}，因为它的本地版本 {1} 与其远程版本 {2} 不兼容","incompatible sync data":"无法分析同步数据，因为它与当前版本不兼容。"},"vs/platform/userDataSync/common/keybindingsSync":{errorInvalidSettings:"无法同步键绑定，因为文件中的内容无效。请打开文件并进行更正。"},"vs/platform/userDataSync/common/settingsSync":{errorInvalidSettings:"无法同步设置，因为设置文件中存在错误/警告。"},"vs/platform/userDataSync/common/userDataAutoSyncService":{"default service changed":"默认服务已更改，因此无法同步","service changed":"同步服务已更改，因此无法同步","session expired":"无法同步，因为当前会话已过期","turned off":"无法同步，因为同步在云中已关闭","turned off machine":"无法同步，因为已从另一台计算机上关闭了此计算机上的同步。"},"vs/platform/userDataSync/common/userDataSync":{"app.extension.identifier.errorMessage":'预期的格式 "${publisher}.${name}"。例如: "vscode.csharp"。',"settings sync":"设置同步","settingsSync.ignoredExtensions":'同步时要忽略的扩展列表。扩展的标识符始终为 "${publisher}.${name}"。例如: "vscode.csharp"。',"settingsSync.ignoredSettings":"配置在同步时要忽略的设置。","settingsSync.keybindingsPerPlatform":"为每个平台各自同步键绑定。"},"vs/platform/userDataSync/common/userDataSyncLog":{userDataSyncLog:"设置同步"},"vs/platform/userDataSync/common/userDataSyncMachines":{"error incompatible":"无法读取计算机数据，因为当前版本不兼容。请更新 {0}，然后重试。"},"vs/platform/userDataSync/common/userDataSyncResourceProvider":{"incompatible sync data":"无法分析同步数据，因为它与当前版本不兼容。"},"vs/platform/windows/electron-main/windowImpl":{appGone:"窗口意外终止",appGoneDetailEmptyWindow:"对此造成的不便，我们深表歉意。可以打开新的空窗口以重新启动。",appGoneDetailWorkspace:"我们对此不便表示抱歉! 请重启该窗口以从上次停止的位置继续。",appGoneDetails:'窗口意外终止(原因: "{0}"，代码: "{1}")',appStalled:"窗口未响应",appStalledDetail:"你可以重新打开或关闭窗口，或者保持等待。",close:"关闭(&&C)",doNotRestoreEditors:"不还原编辑器",hiddenMenuBar:"你仍可以通过 Alt 键访问菜单栏。",newWindow:"新建窗口(&&N)",reopen:"重新打开(&&R)",wait:"继续等待(&&K)"},"vs/platform/windows/electron-main/windowsMainService":{allow:"允许(&&A)",cancel:"取消(&&C)",confirmOpenDetail:"路径“{0}”使用不允许的主机。除非信任主机，否则应按“取消”",confirmOpenMessage:"在允许的主机列表中找不到主机“{0}”。是否仍要允许?",doNotAskAgain:'永久允许主机 "{0}"',learnMore:"了解详细信息(&&L)",ok:"确定(&&O)",pathNotExistDetail:"此计算机上不存在路径“{0}”。",pathNotExistTitle:"路径不存在",uriInvalidDetail:"URI“{0}”无效，无法打开。",uriInvalidTitle:"无法打开 uri"},"vs/platform/workspace/common/workspace":{codeWorkspace:"Code 工作区"},"vs/platform/workspace/common/workspaceTrust":{trusted:"受信任",untrusted:"受限模式"},"vs/platform/workspaces/electron-main/workspacesHistoryMainService":{newWindow:"新窗口",newWindowDesc:"打开新窗口",recentFolders:"最近使用的文件夹",recentFoldersAndWorkspaces:"最近使用的文件夹和工作区",untitledWorkspace:"无标题(工作区)",workspaceName:"{0} (工作区)"},"vs/platform/workspaces/electron-main/workspacesManagementMainService":{ok:"确定(&&O)",workspaceOpenedDetail:"已在另一个窗口打开工作区。请先关闭该窗口，然后重试。",workspaceOpenedMessage:"无法保存工作区“{0}”"},"vs/server/node/remoteExtensionHostAgentCli":{remotecli:"远程 CLI"},"vs/server/node/serverEnvironmentService":{acceptLicenseTerms:"如果已设置，则用户接受服务器许可条款，并将在没有用户提示的情况下启用服务器。","connection-token":"必须包含在所有请求中的机密。","connection-token-file":"包含连接令牌的文件的路径。","default-folder":"未在浏览器 URL 中指定输入时要打开的工作区文件夹。已针对当前工作目录解析相对或绝对路径。","default-workspace":"未在浏览器 URL 中指定输入时要打开的工作区。已针对当前工作目录解析相对或绝对路径。",host:"服务器应侦听的主机名或 IP 地址。如果未设置，则默认为 “localhost”。",port:"服务器应侦听的端口。如果传递了 0，则会选取一个随机的空闲端口。如果传递了采用 num-num 格式的范围，则将从范围中选择(包含结束)空闲端口。",serverDataDir:"指定保存服务器数据的目录。","socket-path":"服务器要侦听的套接字文件的路径。","start-server":"安装或卸载扩展时启动服务器。将与 “install-extension”、“install-builtin-extension” 和 “uninstall-extension” 结合使用。","telemetry-level":"设置初始遥测级别。有效级别为: “off”、 crash”、“error” 和 “all”。如果未指定，服务器将在客户端连接之前发送遥测数据，然后将使用客户端遥测设置。将此项设置为 “off” 等效于 --disable-telemetry","without-connection-token":"在没有连接令牌的情况下运行。仅当通过其他方式保护连接时才使用此项。"},"vs/server/node/serverServices":{remoteExtensionLog:"服务器"},"win32/i18n/messages":{AddContextMenuFiles:"将“通过 %1 打开”操作添加到 Windows 资源管理器文件上下文菜单",AddContextMenuFolders:"将“通过 %1 打开”操作添加到 Windows 资源管理器目录上下文菜单",AddToPath:"添加到 PATH (需要重启 shell)",AdditionalIcons:"其他图标:",AssociateWithFiles:"将 %1 注册为受支持的文件类型的编辑器",ConfirmUninstall:"确定要完全删除 %1 及其所有组件?",CreateDesktopIcon:"创建桌面图标(&D)",CreateQuickLaunchIcon:'创建 "快速启动" 图标(&Q)',FinishedLabel:"安装程序已在计算机上安装好 [name]。选择安装的快捷方式即可启动该应用程序。",OpenWithCodeContextMenu:"使用 %1 打开(&I)",Other:"其他:",RunAfter:"安装后运行 %1",SourceFile:"%1 源文件"},"vs/code/electron-main/app":{cancel:"否(&&N)",confirmOpenDetail:"如果你未发起此请求，则可能表示有人试图攻击你的系统。除非你采取了明确操作来发起此请求，否则应按“否”",confirmOpenMessage:"外部应用程序想要在 {1} 中打开“{0}”。是否要打开此文件或文件夹?",open:"是(&Y)"},"vs/code/electron-main/main":{close:"关闭(&C)",mainLog:"主进程",secondInstanceAdmin:"{0} 的另一个实例已在以管理员身份运行。",secondInstanceAdminDetail:"请先关闭另一个实例，然后重试。",secondInstanceNoResponse:"{0} 的另一实例正在运行但没有响应",secondInstanceNoResponseDetail:"请先关闭其他所有实例，然后重试。",startupDataDirError:"无法写入程序用户数据。",startupUserDataAndExtensionsDirErrorDetail:`{0}\r
\r
请确保以下目录是可写的:\r
\r
{1}`,statusWarning:"警告: --status 参数只能在已运行 {0} 时使用。请在启动 {0} 后再次运行它。"},"vs/code/electron-sandbox/issue/issueReporterPage":{chooseExtension:"扩展",completeInEnglish:"请使用英文进行填写。",descriptionEmptyValidation:"需要描述。",details:"请输入详细信息。",disableExtensions:"禁用所有扩展并重新加载窗口",disableExtensionsLabelText:"请试着在{0}之后重现问题。如果此问题仅在扩展运行时才能重现，那么这可能是一个扩展的问题。",extensionWithNoBugsUrl:"问题报告程序无法为此扩展创建问题，因为它没有指定用于报告问题的 URL。请查看此扩展的应用商店页面，以便查看是否有其他说明。",extensionWithNonstandardBugsUrl:"问题报告程序无法为此扩展创建问题。请访问{0}报告问题。",issueSourceEmptyValidation:"问题源是必需的。",issueSourceLabel:"提交到",issueTitleLabel:"标题",issueTitleRequired:"请输入标题。",issueTypeLabel:"这是一个",reviewGuidanceLabel:'在此处报告问题之前，请<a href="https://github.com/microsoft/vscode/wiki/Submitting-Bugs-and-Suggestions" target="_blank">查看我们提供的指南</a>。',sendExperiments:"包括 A/B 试验信息",sendExtensions:"包含已启用的扩展",sendProcessInfo:"包含当前运行中的进程",sendSystemInfo:"包含系统信息",sendWorkspaceInfo:"包含工作区元数据",show:"显示",titleEmptyValidation:"标题是必需的。",titleLengthValidation:"标题太长。"},"vs/code/electron-sandbox/issue/issueReporterService":{bugDescription:"请分享能稳定重现此问题的必要步骤，并包含实际和预期的结果。我们支持 GitHub 版的 Markdown。您将能在 GitHub 上预览时编辑这个问题并添加截图。",bugReporter:"Bug 报告",closed:"已关闭",createOnGitHub:"在 GitHub 上创建",description:"说明",disabledExtensions:"扩展已禁用",elsewhereDescription:'"{0}" 扩展更倾向于使用外部问题报告器。要转到该问题报告体验，请点击下面的按钮。',extension:"扩展",featureRequest:"功能请求",featureRequestDescription:"请描述您希望能够使用的功能。我们支持 GitHub 版的 Markdown。您将能在 GitHub 上预览时编辑问题并添加截图。",handlesIssuesElsewhere:"此扩展处理 VS Code 之外的问题",hide:"隐藏",loadingData:"正在加载数据…",marketplace:"扩展市场",noCurrentExperiments:"无当前试验。",noSimilarIssues:"没有找到类似问题",open:"打开",openIssueReporter:"打开外部问题报告器",pasteData:"所需的数据太大，无法直接发送。我们已经将其写入剪贴板，请粘贴。",performanceIssue:"性能问题",performanceIssueDesciption:"这个性能问题是在什么时候发生的? 是在启动时，还是在一系列特定的操作之后? 我们支持 GitHub 版的 Markdown。您将能在 GitHub 上预览时编辑这个问题并添加截图。",previewOnGitHub:"在 GitHub 中预览",rateLimited:"超出 GitHub 查询限制。请稍候。",selectSource:"选择源",show:"显示",similarIssues:"类似的问题",stepsToReproduce:"重现步骤",unknown:"不知道",vscode:"Visual Studio Code"},"vs/code/electron-sandbox/processExplorer/processExplorerMain":{copy:"复制",copyAll:"全部复制",cpu:"CPU (%)",debug:"调试",forceKillProcess:"强制结束进程",killProcess:"结束进程",memory:"内存(MB)",name:"进程名称",pid:"PID"},"vs/code/node/cliProcessMain":{cli:"CLI"},"vs/code/node/sharedProcess/sharedProcessMain":{sharedLog:"共享进程"},"vs/workbench/api/browser/mainThreadAuthentication":{accountLastUsedDate:"上次使用此帐户的时间: {0}",allow:"允许(&&A)",confirmLogin:'扩展"{0}"希望使用{1}登录。',confirmRelogin:"扩展“{0}”希望你使用 {1} 重新登录。",manageExtensions:"选择可以访问此帐户的扩展",manageTrustedExtensions:"管理受信任的扩展","manageTrustedExtensions.cancel":"取消",noTrustedExtensions:"尚无任何扩展使用此帐户。",notUsed:"未使用此帐户",signOut:"退出登录(&&S)",signOutMessage:`帐户“{0}”已由以下扩展使用: \r
\r
{1}\r
\r
 是否注销这些扩展?`,signOutMessageSimple:"注销“{0}”?",signedOut:"已成功注销。"},"vs/workbench/api/browser/mainThreadCLICommands":{"cannot be installed":"无法安装“{0}”扩展，因为它被声明为不在此安装程序中运行。"},"vs/workbench/api/browser/mainThreadComments":{commentsViewIcon:"查看备注视图的图标。"},"vs/workbench/api/browser/mainThreadCustomEditors":{defaultEditLabel:"编辑",vetoExtHostRestart:"无法保存自定义编辑器“{0}”。"},"vs/workbench/api/browser/mainThreadEditSessionIdentityParticipant":{"timeout.onWillCreateEditSessionIdentity":"10000ms 后已中止 onWillCreateEditSessionIdentity-event"},"vs/workbench/api/browser/mainThreadExtensionService":{disabledDep:"无法激活“{0}”扩展，因为它依赖于“{1}”扩展，该扩展已禁用。是否要启用扩展并重新加载窗口?",disabledDepNoAction:"无法激活“{0}”扩展，因为它依赖于被禁用的“{1}”扩展。","enable dep":"启用和重新加载","install missing dep":"安装并重新加载",manageWorkspaceTrust:"管理工作区信任",notSupportedInWorkspace:'无法激活 "{0}" 扩展，因为它依赖于当前工作区中不支持的 "{1}" 扩展',reload:"重新加载窗口","reload window":'无法激活 "{0}" 扩展, 因为它依赖于未加载的 "{1}" 扩展。是否要重新加载窗口以加载扩展名？',restrictedMode:'无法激活 "{0}" 扩展，因为它依赖于受限模式下不支持的 "{1}" 扩展',uninstalledDep:'无法激活 "{0}" 扩展, 因为它依赖于未安装的 "{1}" 扩展。是否要安装扩展并重新加载窗口？',unknownDep:"无法激活“{0}”扩展，因为它依赖未知的“{1}”扩展。"},"vs/workbench/api/browser/mainThreadFileSystemEventService":{again:"不再询问","ask.1.copy":'扩展 "{0}" 希望通过复制此文件来进行重构更改',"ask.1.create":'扩展 "{0}" 希望通过创建此文件来进行重构更改',"ask.1.delete":'扩展 "{0}" 希望通过删除此文件来进行重构更改',"ask.1.move":'扩展 "{0}" 希望通过移动此文件来进行重构更改',"ask.N.copy":"{0} 扩展希望通过复制此文件来进行重构更改","ask.N.create":"{0} 扩展希望通过创建此文件来进行重构更改","ask.N.delete":"{0} 扩展希望通过删除此文件来进行重构更改","ask.N.move":"{0} 扩展希望通过移动此文件来进行重构更改",cancel:"跳过更改",label:"“文件操作需要预览”的重置选项","msg-copy":"正在运行“文件复制”参与者…","msg-create":'正在运行"文件创建"参与者...',"msg-delete":'正在运行"文件删除"参与者...',"msg-rename":'正在运行"文件重命名"参与者...',"msg-write":"正在运行“文件写入”参与者...",ok:"确定(&&O)",preview:"显示预览(&&P)"},"vs/workbench/api/browser/mainThreadMessageService":{cancel:"取消",defaultSource:"扩展",extensionSource:"{0} (扩展)",manageExtension:"管理扩展",ok:"确定(&&O)"},"vs/workbench/api/browser/mainThreadNotebookSaveParticipant":{"timeout.onWillSave":"1750ms 后中止 onWillSaveNotebookDocument-event"},"vs/workbench/api/browser/mainThreadProgress":{manageExtension:"管理扩展"},"vs/workbench/api/browser/mainThreadSaveParticipant":{"timeout.onWillSave":"在 1750ms 后终止了 onWillSaveTextDocument 事件"},"vs/workbench/api/browser/mainThreadTask":{"task.label":"{0}: {1}"},"vs/workbench/api/browser/mainThreadTunnelService":{"remote.tunnel.openTunnel":"扩展 {0} 具有转发端口 {1}。需要以超级用户身份运行，才能在本地使用端口 {2}。","remote.tunnelsView.elevationButton":"使用端口 {0} 作为 Sudo…"},"vs/workbench/api/browser/mainThreadUriOpeners":{openerFailedMessage:'无法使用 "{0}" 打开 uri: {1}',openerFailedUseDefault:"使用默认 opener 打开"},"vs/workbench/api/browser/mainThreadWebviews":{errorMessage:"还原视图时出错: {0}"},"vs/workbench/api/browser/mainThreadWorkspace":{folderStatusChangeFolder:"扩展“{0}”更改了工作区中的文件夹",folderStatusMessageAddMultipleFolders:"扩展“{0}”添加了 {1} 个文件夹到工作区",folderStatusMessageAddSingleFolder:"扩展“{0}”添加了 1 个文件夹到工作区",folderStatusMessageRemoveMultipleFolders:"扩展“{0}”从工作区删除了 {1} 个文件夹",folderStatusMessageRemoveSingleFolder:"扩展“{0}”从工作区删除了 1 个文件夹"},"vs/workbench/api/browser/statusBarExtensionPoint":{accessibilityInformation:"定义在状态栏条目聚焦时要使用的角色和 aria 标签。","accessibilityInformation.label":"状态栏条目的 aria 标签。默认为条目的文本。","accessibilityInformation.role":"定义屏幕阅读器如何与其交互的状态栏条目的角色。有关 aria 角色的详细信息，请参阅此处 https://w3c.github.io/aria/#widget_roles",alignment:"状态栏条目的对齐方式。",command:"点击状态栏条目时要执行的命令。",id:'状态栏条目的标识符。在扩展中必须具有唯一性。调用 "vscode.window.createStatusBarItem(id, ...)"-API 时必须使用相同的值',invalid:"状态栏项贡献无效。",name:"条目名称，例如“Python 语言指示器”、“Git 状态”等。尽量使名称长度保持较短，但其描述性足以让用户了解状态栏项包含的内容。",priority:"状态栏条目的优先级。值越高，意味着应在左侧显示更多项。",text:'要为该条目显示的文本。可以使用 "$(<name>)" 语法(例如 "Hello $(globe)!")在文本中嵌入图标',tooltip:"条目的工具提示文本。","vscode.extension.contributes.statusBarItems":"将项目贡献到状态栏。"},"vs/workbench/api/browser/viewsExtensionPoint":{ViewContainerDoesnotExist:"视图容器“{0}”不存在。所有注册到其中的视图将被添加到“资源管理器”中。",ViewContainerRequiresProposedAPI:"查看容器“{0}”需要将 “enabledApiProposals: [“contribViewsRemote”]” 添加到“远程”。",duplicateView1:"无法注册具有相同 ID“{0}”的多个视图",duplicateView2:"已注册 ID 为“{0}”的视图。",optenum:"属性“{0}”可被省略或必须是 {1} 之一",optstring:'属性 "{0}" 可以省略，或者必须为 "string" 类型',requirearray:"视图必须是一个数组",requireidstring:"属性“{0}”是必需的，并且必须为具有非空值的类型 `string`。只允许使用字母数字字符、 “_” 和 “-”。",requirenonemptystring:"属性“{0}”是必需的，并且必须为具有非空值的类型 `string`",requirestring:'属性 "{0}" 是必需项并且必须为 "string" 类型',unknownViewType:"未知视图类型“{0}”。","viewcontainer requirearray":"视图容器必须为数组","views.container.activitybar":"向活动栏提供视图容器","views.container.panel":"向面板提供视图容器","views.contributed":"向“提供的视图”容器提供视图","views.debug":"向活动栏中的“调试”容器提供视图","views.explorer":"向活动栏中的“资源管理器”容器提供视图","views.remote":"在活动栏中为远程容器提供视图。要为此容器提供帮助，需要启用enableProposedApi。","views.scm":"向活动栏中的“源代码管理”容器提供视图","views.test":"向活动栏中的“测试”容器提供视图","vscode.extension.contributes.view.contextualTitle":"当视图移出其原始位置时的用户可读上下文。默认情况下，将使用视图的容器名称。","vscode.extension.contributes.view.group":"视图中的嵌套组","vscode.extension.contributes.view.icon":"视图图标的路径。无法显示视图名称时，将显示视图图标。可以接受任何图像文件类型，但建议图标采用 SVG 格式。","vscode.extension.contributes.view.id":'视图的标识符。这在所有视图中都应是唯一的。建议将扩展 ID 包含在视图 ID 中。使用此选项通过 "vscode.window.registerTreeDataProviderForView" API 注册数据提供程序。也可通过将 "onView:${id}" 事件注册为 "activationEvents" 来触发激活扩展。',"vscode.extension.contributes.view.initialState":"首次安装扩展时视图的初始状态。用户一旦通过折叠、移动或隐藏视图更改视图状态，就不再使用初始状态。","vscode.extension.contributes.view.initialState.collapsed":"视图将在视图容器中折叠显示。","vscode.extension.contributes.view.initialState.hidden":"视图不会显示在视图容器中，但可通过视图菜单和其他视图入口点发现，而且用户可取消隐藏视图。","vscode.extension.contributes.view.initialState.visible":"视图的默认初始状态。但在大多数容器中，视图将展开，但某些内置容器(资源管理器、scm 和调试)显示所有已折叠的参与视图，无论“可见性”如何，都是如此。","vscode.extension.contributes.view.name":"用户可读的视图名称。将显示它","vscode.extension.contributes.view.remoteName":"与此视图关联的远程类型的名称","vscode.extension.contributes.view.tree":'该视图由 "createTreeView" 创建的 "TreeView" 提供支持。',"vscode.extension.contributes.view.type":'视图的类型。对于基于树状视图的视图，这可以是 "tree"，对于基于 Web 视图的视图，这可以是 "webview"。默认值为 "tree"。',"vscode.extension.contributes.view.webview":'该视图由 "registerWebviewViewProvider" 注册的 "WebviewView" 提供支持。',"vscode.extension.contributes.view.when":"为真时才显示此视图的条件","vscode.extension.contributes.views":"向编辑器提供视图","vscode.extension.contributes.views.containers.icon":'容器图标的路径。图标大小为 24x24，并居中放置在 50x40 的区域内，其填充颜色为 "rgb(215, 218, 224)" 或 "#d7dae0"。所有图片格式均可用，推荐使用 SVG 格式。',"vscode.extension.contributes.views.containers.id":'用于标识容器的唯一 ID，视图能在容器内通过 "view" 参与点提供。',"vscode.extension.contributes.views.containers.title":"人类可读的用于表示此容器的字符串","vscode.extension.contributes.viewsContainers":"向编辑器提供视图容器","vscode.extension.contributs.view.size":"视图的初始大小。大小的行为将类似于 css “flex” 属性，并将在首次显示视图时设置初始大小。在侧栏中，这是视图的高度。仅当同一扩展同时拥有视图和视图容器时，才考虑此值。"},"vs/workbench/api/common/configurationExtensionPoint":{"config.property.defaultConfiguration.warning":"无法注册“{0}”的配置默认值。仅支持可重写计算机、窗口、资源和可重写语言范围设置的默认值。","config.property.duplicate":"无法注册“{0}”。此属性已注册。","invalid.allOf":'"configuration.allOf" 已被弃用且不应被使用。你可以将多个配置单元作为数组传递给 "configuration" 参与点。',"invalid.properties":"configuration.properties 必须是对象","invalid.property":"配置对象属性“{0}”必须是对象","invalid.title":"configuration.title 必须是字符串","scope.application.description":"只能在用户设置中进行配置的配置。","scope.deprecationMessage":"设置后，该属性将被标记为已弃用，并将给定的消息显示为解释。","scope.description":'配置适用的作用域。可用作用域包括"application"、"machine"、"window"、"resource"和"machine-overridable"。',"scope.editPresentation":"指定后，控制字符串设置的表示格式。","scope.enumDescriptions":"枚举值的说明","scope.enumItemLabels":"要在“设置”编辑器中显示的枚举值的标签。指定后，{0}值仍显示在标签之后，但突出显示较少。","scope.ignoreSync":"启用后，“设置同步”默认不会同步此配置的用户值。","scope.language-overridable.description":"可在语言特定设置中配置的资源配置。","scope.machine-overridable.description":"也可在工作区或文件夹设置中配置的计算机配置。","scope.machine.description":"只能在用户设置或远程设置中配置的配置。","scope.markdownDeprecationMessage":"设置后，该属性将被标记为已弃用，并按 Markdown 格式显示给定的消息作为解释。","scope.markdownDescription":"Markdown 格式的说明。","scope.markdownEnumDescriptions":"Markdown 格式的枚举值说明。","scope.multilineText.description":"该值将显示在文本区域中。","scope.order":"指定后，提供此设置相对于同一类别中其他设置的顺序。在未设置此属性的设置之前，将放置具有顺序属性的设置。","scope.resource.description":"可在用户、远程、工作区或文件夹设置中对其进行配置的配置。","scope.singlelineText.description":"该值将显示在输入框中。","scope.window.description":"可在用户、远程或工作区设置中对其进行配置的配置。",unknownWorkspaceProperty:"未知的工作区配置属性","vscode.extension.contributes.configuration":"用于配置字符串。","vscode.extension.contributes.configuration.order":"指定后，提供此类别的设置相对于其他类别的顺序。","vscode.extension.contributes.configuration.properties":"配置属性的描述。","vscode.extension.contributes.configuration.properties.schema":"配置属性的架构。","vscode.extension.contributes.configuration.property.empty":"属性不应为空。","vscode.extension.contributes.configuration.title":"当前设置类别的标题。此标签将在“设置”编辑器中以副标题形式呈现。如果标题与扩展显示名称相同，则类别将分组到主扩展标题下。","workspaceConfig.extensions.description":"工作区扩展","workspaceConfig.folders.description":"将载入到工作区的文件夹列表。","workspaceConfig.launch.description":"工作区启动配置","workspaceConfig.name.description":"文件夹的可选名称。","workspaceConfig.path.description":'文件路径。例如 "/root/folderA" 或 "./folderA"。后者表示根据工作区文件位置进行解析的相对路径。',"workspaceConfig.remoteAuthority":"工作区所在的远程服务器。","workspaceConfig.settings.description":"工作区设置","workspaceConfig.tasks.description":"工作区任务配置","workspaceConfig.transient":"重启或重新加载时，暂时性工作区将消失。","workspaceConfig.uri.description":"文件夹的 URI"},"vs/workbench/api/common/extHostChat":{emptyResponse:"提供程序返回了 null 响应",errorResponse:"提供程序出错: {0}"},"vs/workbench/api/common/extHostDiagnostics":{limitHit:"未显示 {0} 个进一步的错误和警告。"},"vs/workbench/api/common/extHostExtensionService":{extensionTestError:"路径 {0} 未指向有效的扩展测试运行程序。",extensionTestError1:"无法加载测试运行程序。"},"vs/workbench/api/common/extHostLanguageFeatures":{defaultDropLabel:"使用“{0}”扩展删除",defaultPasteLabel:"使用“{0}”扩展粘贴"},"vs/workbench/api/common/extHostLogService":{local:"扩展宿主",remote:"扩展主机(远程)",worker:"扩展主机(辅助角色)"},"vs/workbench/api/common/extHostNotebook":{"err.readonly":"无法修改只读文件“{0}”",fileModifiedError:"自以下时间已修改的文件:"},"vs/workbench/api/common/extHostProgress":{extensionSource:"{0} (扩展)"},"vs/workbench/api/common/extHostStatusBar":{extensionLabel:"{0} (扩展)","status.extensionMessage":"扩展状态"},"vs/workbench/api/common/extHostTelemetry":{extensionTelemetryLog:"扩展遥测{0}"},"vs/workbench/api/common/extHostTerminalService":{"launchFail.idMissingOnExtHost":"在扩展主机上找不到 ID 为 {0} 的终端"},"vs/workbench/api/common/extHostTreeViews":{"treeView.duplicateElement":"ID 为 {0} 的元素已被注册"},"vs/workbench/api/common/extHostTunnelService":{"tunnelPrivacy.private":"专用","tunnelPrivacy.public":"公共"},"vs/workbench/api/common/extHostWorkspace":{updateerror:"扩展“{0}”未能更新工作区文件夹: {1}"},"vs/workbench/api/common/jsonValidationExtensionPoint":{"contributes.jsonValidation":"用于 json 架构配置。","contributes.jsonValidation.fileMatch":'要匹配的文件模式(或模式数组)，例如"package.json"或"*. launch"。排除模式以"!"开头',"contributes.jsonValidation.url":`到扩展文件夹('./')的架构 URL ("http:"、"https:")或相对路径。`,"invalid.fileMatch":'"configuration.jsonValidation.fileMatch"必须定义为字符串或字符串数组。',"invalid.jsonValidation":"configuration.jsonValidation 必须是数组","invalid.path.1":'"contributes.{0}.url" ({1})应包含在扩展的文件夹({2})内。这可能会使扩展不可移植。',"invalid.url":"configuration.jsonValidation.url 必须是 URL 或相对路径","invalid.url.fileschema":"configuration.jsonValidation.url 是无效的相对 URL: {0}","invalid.url.schema":'"configuration.jsonValidation.url" 必须是绝对 URL 或者以 "./" 开头，以引用扩展中的架构。'},"vs/workbench/api/node/extHostDebugService":{"debug.terminal.title":"调试流程"},"vs/workbench/browser/actions/developerActions":{"inspect context keys":"检查上下文键值",logStorage:"记录存储数据库内容",logWorkingCopies:"日志工作副本","screencastMode.fontSize":"控制截屏模式键盘的字体大小(以像素为单位)。","screencastMode.keyboardOptions.description":"用于在屏幕广播模式下自定义键盘覆盖的选项。","screencastMode.keyboardOptions.showCommandGroups":"显示命令时，同时也显示命令组名称。","screencastMode.keyboardOptions.showCommands":"显示命令名称。","screencastMode.keyboardOptions.showKeys":"显示原始键。","screencastMode.keyboardOptions.showSingleEditorCursorMoves":"显示单个编辑器光标移动命令。","screencastMode.keyboardOverlayTimeout":"控制截屏模式下键盘覆盖显示的时长(以毫秒为单位)。","screencastMode.location.verticalPosition":"控制截屏模式叠加的垂直偏移,从底部作为工作台高度的百分比。","screencastMode.mouseIndicatorColor":"控制截屏视频模式下鼠标指示器的十六进制(#RGB、#RGBA、#RRGGBB 或 #RRGGBBAA)的颜色。","screencastMode.mouseIndicatorSize":"控制截屏模式下鼠标光标的大小(以像素为单位)。",screencastModeConfigurationTitle:"截屏模式",storageLogDialogDetails:"从菜单中打开开发人员工具，并选择“控制台”选项卡。",storageLogDialogMessage:"存储数据库内容已记录到开发人员工具中。","toggle screencast mode":"切换屏幕模式"},"vs/workbench/browser/actions/helpActions":{keybindingsReference:"键盘快捷方式参考",miDocumentation:"文档(&&D)",miKeyboardShortcuts:"键盘快捷方式参考(&&K)",miLicense:"查看许可证(&&V)",miPrivacyStatement:"隐私声明(&&Y)",miTipsAndTricks:"贴士和技巧(&&C)",miTwitter:"Twitter 上和我们互动(&&J)",miUserVoice:"搜索功能请求(&&S)",miVideoTutorials:"视频教程(&&V)",newsletterSignup:"订阅 VS Code 新闻邮件",openDocumentationUrl:"文档",openLicenseUrl:"查看许可证",openPrivacyStatement:"隐私声明",openTipsAndTricksUrl:"提示与技巧",openTwitterUrl:"在 Twitter 上和我们互动",openUserVoiceUrl:"搜索功能请求",openVideoTutorialsUrl:"视频教程"},"vs/workbench/browser/actions/layoutActions":{active:"活动",activityBar:"活动栏",activityBarLeft:"表示活动栏在左侧位置",activityBarRight:"表示活动栏在右侧位置",centerLayoutIcon:"表示居中布局模式",centerPanel:"居中",centeredLayout:"居中布局",close:"关闭",closeSidebar:"关闭主侧栏",cofigureLayoutIcon:"图标表示工作台布局配置。","compositePart.hideSideBarLabel":"隐藏主边栏",configureLayout:"配置布局",customizeLayout:"自定义布局...",customizeLayoutQuickPickTitle:"自定义布局",decreaseEditorHeight:"降低编辑器高度",decreaseEditorWidth:"降低编辑器宽度",decreaseViewSize:"减小当前视图大小",fullScreenIcon:"表示全屏",fullscreen:"全屏",increaseEditorHeight:"增加编辑器高度",increaseEditorWidth:"增加编辑器宽度",increaseViewSize:"增加当前视图大小",justifyPanel:"两端对齐",layoutModes:"模式",leftPanel:"左对齐",leftSideBar:"左对齐",menuBar:"菜单栏",menuBarIcon:"表示菜单栏",miActivityBar:"活动栏(&&A)",miAppearance:"外观(&&A)",miMenuBar:"菜单栏(&&B)",miMenuBarNoMnemonic:"菜单栏",miMoveSidebarLeft:"向左移动主侧栏(&M)",miMoveSidebarRight:"向右移动主侧栏(&&M)",miShowEditorArea:"显示编辑区域(&&E)",miStatusbar:"状态栏(&&T)",miToggleCenteredLayout:"居中布局(&&C)",miToggleZenMode:"禅模式","move second sidebar left":"向左移动辅助边栏","move second sidebar right":"向右移动辅助边栏","move side bar right":"向右移动主侧栏","move sidebar left":"向左移动主侧栏","move sidebar right":"向右移动主侧栏",moveFocusedView:"移动焦点视图","moveFocusedView.error.noFocusedView":"当前没有重点视图。","moveFocusedView.error.nonMovableView":"当前焦点视图不可移动。","moveFocusedView.newContainerInPanel":"新建面板条目","moveFocusedView.newContainerInSidePanel":"新建辅助侧栏条目","moveFocusedView.newContainerInSidebar":"新侧边栏条目","moveFocusedView.selectDestination":"选择视图的目标","moveFocusedView.selectView":"选择要移动的视图","moveFocusedView.title":"视图: 移动 {0}",moveSidebarLeft:"向左移动主侧栏",moveSidebarRight:"向右移动主侧栏",moveView:"移动视图",panel:"面板",panelAlignment:"面板对齐方式",panelBottom:"表示底部面板",panelBottomCenter:"表示底部面板对齐方式设为居中",panelBottomJustify:"表示设置底部面板对齐方式设为两端对齐",panelBottomLeft:"表示底部面板对齐方式设为左对齐",panelBottomRight:"表示底部面板对齐方式设为右对齐",panelContainer:"面板/{0}",panelLeft:"表示左侧位置的侧栏",panelLeftOff:"表示已关闭的左侧位置的侧栏",panelRight:"表示右侧位置的侧栏",panelRightOff:"表示已关闭的右侧位置的侧栏","primary sidebar":"主侧边栏","primary sidebar mnemonic":"主侧边栏(&&P)","resetFocusedView.error.noFocusedView":"当前没有重点视图。",resetFocusedViewLocation:"重置焦点视图位置",resetViewLocations:"重置视图位置","restore defaults":"还原默认值",rightPanel:"右对齐",rightSideBar:"右对齐",secondarySideBar:"辅助侧边栏",secondarySideBarContainer:"辅助侧栏/{0}",selectToHide:"选择以隐藏",selectToShow:"选择以显示",sideBar:"主侧栏",sideBarPosition:"主侧栏位置",sidebar:"侧边栏",sidebarContainer:"侧边栏/{0}",statusBar:"状态栏",statusBarIcon:"表示状态栏",toggleActivityBar:"切换活动栏可见性",toggleCenteredLayout:"切换居中布局",toggleEditor:"切换编辑器区域可见性",toggleMenuBar:"切换菜单栏",toggleSideBar:"切换主侧栏",toggleSidebar:"切换主侧栏可见性",toggleSidebarPosition:"切换主侧栏位置",toggleStatusbar:"切换状态栏可见性",toggleTabs:"切换标签页可见性",toggleVisibility:"可见性",toggleZenMode:"切换禅模式",zenMode:"禅模式",zenModeIcon:"表示禅模式"},"vs/workbench/browser/actions/navigationActions":{focusNextPart:"专注下一部分",focusPreviousPart:"专注上一部分",navigateDown:"导航到下方视图",navigateLeft:"导航到左侧视图",navigateRight:"导航到右侧视图",navigateUp:"导航到上方视图"},"vs/workbench/browser/actions/quickAccessActions":{quickNavigateNext:"在 Quick Open 中导航到下一个",quickNavigatePrevious:"在 Quick Open 中导航到上一个",quickOpen:"转到文件...",quickOpenWithModes:"Quick Open",quickSelectNext:"在 Quick Open 中选择“下一步”",quickSelectPrevious:"在 Quick Open 中选择“上一步”"},"vs/workbench/browser/actions/textInputActions":{copy:"复制",cut:"剪切",paste:"粘贴",redo:"恢复",selectAll:"选择全部",undo:"撤消"},"vs/workbench/browser/actions/windowActions":{about:"关于",blur:"从具有焦点的元素中删除键盘焦点",dirtyFolder:"包含未保存的文件的文件夹",dirtyFolderConfirm:"是否要打开文件夹以查看未保存的文件?",dirtyFolderConfirmDetail:"在保存或还原所有未保存的文件之前，无法删除包含未保存的文件的文件夹。",dirtyRecentlyOpenedFolder:"包含未保存的文件的文件夹",dirtyRecentlyOpenedWorkspace:"包含未保存的文件的工作区",dirtyWorkspace:"包含未保存的文件的工作区",dirtyWorkspaceConfirm:"是否要打开工作区以查看未保存的文件?",dirtyWorkspaceConfirmDetail:"在保存或还原所有未保存的文件之前，无法删除包含未保存的文件的工作区。",files:"文件",folders:"文件夹",miAbout:"关于(&&A)",miConfirmClose:"关闭前确认",miMore:"更多(&&M)...",miNewWindow:"新建窗口(&&W)",miOpenRecent:"打开最近的文件(&&R)",miToggleFullScreen:"全屏(&&F)",newWindow:"新建窗口",openRecent:"打开最近的文件…",openRecentPlaceholder:"选中以打开(按 Ctrl 键强制打开新窗口，或按 Alt 键打开同一窗口)",openRecentPlaceholderMac:"选中以打开(按 Cmd 键强制打开新窗口，或按 Option 键打开同一窗口)",quickOpenRecent:"快速打开最近的文件…",recentDirtyFolderAriaLabel:"{0}，包含未保存的更改的文件夹",recentDirtyWorkspaceAriaLabel:"{0}，包含未保存的更改的工作区",reloadWindow:"重新加载窗口",remove:"从最近打开中删除",toggleFullScreen:"切换全屏",workspacesAndFolders:"文件夹和工作区"},"vs/workbench/browser/actions/workspaceActions":{closeWorkspace:"关闭工作区",duplicateWorkspace:"复制工作区",duplicateWorkspaceInNewWindow:"在新窗口中复制工作区",globalRemoveFolderFromWorkspace:"将文件夹从工作区删除…",miAddFolderToWorkspace:"将文件夹添加到工作区(&&D)...",miCloseFolder:"关闭文件夹(&&F)",miCloseWorkspace:"关闭工作区(&&W)",miOpen:"打开(&&O)...",miOpenFile:"打开文件(&&O)...",miOpenFolder:"打开文件夹(&&F)...",miOpenWorkspace:"从文件打开工作区(&&K)...",miSaveWorkspaceAs:"将工作区另存为...",openFile:"打开文件...",openFileFolder:"打开...",openFolder:"打开文件夹...",openWorkspaceAction:"从文件打开工作区...",openWorkspaceConfigFile:"打开工作区配置文件",saveWorkspaceAsAction:"将工作区另存为...",workspaces:"工作区"},"vs/workbench/browser/actions/workspaceCommands":{add:"添加(&&A)",addFolderToWorkspace:"将文件夹添加到工作区...",addFolderToWorkspaceTitle:"将文件夹添加到工作区",workspaceFolderPickerPlaceholder:"选择工作区文件夹"},"vs/workbench/browser/editor":{pinned:"{0}，已固定",preview:"{0}，预览"},"vs/workbench/browser/parts/activitybar/activitybarActions":{authProviderUnavailable:"{0} 当前不可用",focusActivityBar:"将焦点放在活动栏上",hideAccounts:"隐藏帐户",loading:"正在加载...",manage:"管理 {0} (配置文件)",manageTrustedExtensions:"管理受信任的扩展",nextSideBarView:"下一个主侧栏视图",noAccounts:"你未登录任何帐户",previousSideBarView:"上一个主侧栏视图",signOut:"注销"},"vs/workbench/browser/parts/activitybar/activitybarPart":{accounts:"帐户",accountsViewBarIcon:"视图栏中的“帐户”图标。",hideActivitBar:"隐藏活动栏",hideMenu:"隐藏菜单",manage:"管理",menu:"菜单",resetLocation:"重置位置",settingsViewBarIcon:"视图栏中的“设置”图标。"},"vs/workbench/browser/parts/auxiliarybar/auxiliaryBarActions":{focusAuxiliaryBar:"将焦点置于辅助侧栏",hideAuxiliaryBar:"隐藏辅助侧栏","secondary sidebar":"辅助侧边栏","secondary sidebar mnemonic":"辅助侧边栏(&&D)",toggleAuxiliaryBar:"切换辅助侧栏可见性",toggleAuxiliaryIconLeft:"用于在其左侧位置切换辅助栏的图标。",toggleAuxiliaryIconLeftOn:"用于打开其左侧位置辅助栏的图标。",toggleAuxiliaryIconRight:"用于在其右侧位置关闭辅助栏的图标。",toggleAuxiliaryIconRightOn:"用于打开其右侧位置辅助栏的图标。",toggleSecondarySideBar:"切换辅助侧栏"},"vs/workbench/browser/parts/auxiliarybar/auxiliaryBarPart":{"hide second side bar":"隐藏辅助侧栏","move second side bar left":"向左移动辅助边栏","move second side bar right":"向右移动辅助边栏"},"vs/workbench/browser/parts/banner/bannerPart":{focusBanner:"焦点横幅"},"vs/workbench/browser/parts/compositeBar":{activityBarAriaLabel:"活动视图切换器"},"vs/workbench/browser/parts/compositeBarActions":{additionalViews:"其他视图",badgeTitle:"{0} - {1}",hide:"隐藏“{0}”",hideBadge:"隐藏徽章",keep:"保留“{0}”",manageExtension:"管理扩展",numberBadge:"{0} ({1})",showBadge:"显示徽章",titleKeybinding:"{0} ({1})",toggle:"切换已固定的视图",toggleBadge:"切换视图徽章"},"vs/workbench/browser/parts/compositePart":{ariaCompositeToolbarLabel:"{0}操作",titleTooltip:"{0} ({1})",viewsAndMoreActions:"视图和更多操作…"},"vs/workbench/browser/parts/dialogs/dialogHandler":{aboutDetail:`版本: {0}\r
提交: {1}\r
日期: {2}\r
浏览器: {3}`,copy:"复制(&&C)",ok:"确定"},"vs/workbench/browser/parts/editor/accessibilityStatus":{screenReaderDetected:"已为屏幕阅读器优化","screenReaderDetectedExplanation.answerNo":"否","screenReaderDetectedExplanation.answerYes":"是","screenReaderDetectedExplanation.question":"你是否在使用屏幕阅读器操作 VS Code?","status.editor.screenReaderMode":"屏幕阅读器模式"},"vs/workbench/browser/parts/editor/binaryDiffEditor":{metadataDiff:"{0} ↔ {1}"},"vs/workbench/browser/parts/editor/binaryEditor":{binaryEditor:"二进制查看器",binaryError:"此文件是二进制文件或使用了不受支持的文本编码，所以无法在文本编辑器中显示。",openAnyway:"仍然打开"},"vs/workbench/browser/parts/editor/breadcrumbs":{enabled:"启用/禁用导航路径。",filepath:"控制是否及如何在“导航路径”视图中显示文件路径。","filepath.last":"在导航路径视图中仅显示文件路径的最后一个元素。","filepath.off":"不在导航路径视图中显示文件路径。","filepath.on":"在导航路径视图中显示文件路径。","filteredTypes.array":"启用后，痕迹导航栏将显示“数组”符号。","filteredTypes.boolean":"启用后，痕迹导航栏将显示“布尔”符号。","filteredTypes.class":"启用后，痕迹导航栏显示“类”符号。","filteredTypes.constant":"启用后，痕迹导航栏将显示“常量”符号。","filteredTypes.constructor":"启用后，痕迹符将显示“构造函数”符号。","filteredTypes.enum":"启用后，痕迹导航栏将显示“枚举”符号。","filteredTypes.enumMember":'启用后，痕迹导航栏将显示 "enumMember" 符号。',"filteredTypes.event":"启用后，痕迹导航栏将显示“事件”符号。","filteredTypes.field":"启用后，痕迹导航栏将显示“字段”符号。","filteredTypes.file":"启用后，痕迹导航栏将显示“文件”符号。","filteredTypes.function":"启用后，痕迹导航栏将显示“函数”符号。","filteredTypes.interface":"启用后，痕迹导航栏将显示“接口”符号。","filteredTypes.key":"启用后，痕迹导航栏将显示“键”符号。","filteredTypes.method":"启用后，痕迹导航栏将显示“方法”符号。","filteredTypes.module":"启用后，痕迹导航栏将显示“模块”符号。","filteredTypes.namespace":"启用后，痕迹导航栏将显示“命名空间”符号。","filteredTypes.null":'启用后，痕迹导航栏将显示 "null" 符号。',"filteredTypes.number":"启用后，痕迹导航栏将显示“数字”符号。","filteredTypes.object":"启用后，痕迹导航栏将显示“对象”符号。","filteredTypes.operator":"启用后，痕迹导航栏将显示“运算符”符号。","filteredTypes.package":"启用后，痕迹导航栏将显示“包”符号。","filteredTypes.property":"启用后，痕迹导航栏将显示“属性”符号。","filteredTypes.string":"启用后，痕迹导航栏将显示“字符串”符号。","filteredTypes.struct":"启用后，痕迹导航栏将显示“结构”符号。","filteredTypes.typeParameter":'启用后，痕迹导航栏将显示 "typeParameter" 符号。',"filteredTypes.variable":"启用后，痕迹导航栏将显示“变量”符号。",icons:"使用图标渲染面包屑导航项。",symbolSortOrder:"控制“导航路径”大纲视图中符号的排序方式。","symbolSortOrder.name":"以字母顺序显示符号大纲。","symbolSortOrder.position":"以文件位置顺序显示符号大纲。","symbolSortOrder.type":"以符号类型顺序显示符号大纲。",symbolpath:"控制是否及如何在“导航路径”视图中显示符号。","symbolpath.last":"在导航路径视图中仅显示当前符号。","symbolpath.off":"不在导航路径视图中显示符号。","symbolpath.on":"在“导航路径”视图中显示所有符号。",title:"导航路径"},"vs/workbench/browser/parts/editor/breadcrumbsControl":{breadcrumbsActive:"焦点是否在痕迹导航上",breadcrumbsPossible:"编辑器是否可显示痕迹导航",breadcrumbsVisible:"痕迹导航当前是否可见","cmd.focus":"聚焦到“导航路径”视图","cmd.focusAndSelect":"聚焦并选择痕迹导航","cmd.toggle":"切换导航路径","cmd.toggle2":"痕迹导航",empty:"无元素",miBreadcrumbs:"切换痕迹导航(&&B)",miBreadcrumbs2:"痕迹导航(&&B)",separatorIcon:"痕迹导航中分隔符的图标。"},"vs/workbench/browser/parts/editor/breadcrumbsPicker":{breadcrumbs:"痕迹导航"},"vs/workbench/browser/parts/editor/editor.contribution":{activeGroupEditorsByMostRecentlyUsedQuickAccess:"按最近使用显示活动组中的编辑器",allEditorsByAppearanceQuickAccess:"按外观显示所有打开的编辑器",allEditorsByMostRecentlyUsedQuickAccess:"按最近使用显示所有打开的编辑器",binaryDiffEditor:"二进制差异编辑器",close:"关闭",closeAll:"全部关闭",closeAllSaved:"关闭已保存",closeEditor:"关闭编辑器",closeEditorGroup:"关闭编辑器组",closeEditorsInGroup:"关闭组中的所有编辑器",closeGroupAction:"关闭组",closeOtherEditors:"关闭组中其他编辑器",closeOthers:"关闭其他",closePinnedEditor:"关闭固定的编辑器",closeRight:"关闭右侧标签页",closeRightEditors:"关闭组中右侧编辑器",closeSavedEditors:"关闭组中已保存的编辑器",editorQuickAccessPlaceholder:"键入要打开的编辑器名称。","ignoreTrimWhitespace.label":"忽略前导/尾随空格差异",inlineView:"内联视图",joinInGroup:"合并组",keepEditor:"保留编辑器",keepOpen:"保持打开状态",lockGroup:"锁定组",miClearRecentOpen:"清除最近打开记录(&&C)",miEditorLayout:"编辑器布局(&&L)",miFirstSideEditor:"编辑器中的第一侧(&&F)",miFocusAboveGroup:"上方组(&&A)",miFocusBelowGroup:"下方组(&&B)",miFocusFifthGroup:"第 5 组(&&5)",miFocusFirstGroup:"第 1 组(&&1)",miFocusFourthGroup:"第 4 组(&&4)",miFocusLeftGroup:"左侧组(&&L)",miFocusRightGroup:"右侧组(&&R)",miFocusSecondGroup:"第 2 组(&&2)",miFocusThirdGroup:"第 3 组(&&3)",miJoinEditorInGroup:"加入组(&&G)",miJoinEditorInGroupWithoutMnemonic:"合并组",miLastEditLocation:"上次编辑位置(&&L)",miNextEditor:"下一个编辑器(&&N)",miNextEditorInGroup:"组中的下一个编辑器(&&N)",miNextGroup:"下一个组(&&N)",miNextRecentlyUsedEditor:"下一个使用过的编辑器(&&N)",miNextUsedEditorInGroup:"组中下一个使用过的编辑器(&&N)",miPreviousEditor:"上一个编辑器(&&P)",miPreviousEditorInGroup:"组中的上一个编辑器(&&P)",miPreviousGroup:"上一个组(&&P)",miPreviousRecentlyUsedEditor:"上一个使用过的编辑器(&&P)",miPreviousUsedEditorInGroup:"组中上一个使用过的编辑器(&&P)",miReopenClosedEditor:"重新打开已关闭的编辑器(&&R)",miSecondSideEditor:"编辑器中的第二侧(&&S)",miShare:"共享",miSingleColumnEditorLayout:"单列(&&S)",miSingleColumnEditorLayoutWithoutMnemonic:"单一",miSplitEditorDown:"向下拆分(&&D)",miSplitEditorDownWithoutMnemonic:"向下拆分",miSplitEditorInGroup:"在组中拆分(&&G)",miSplitEditorInGroupWithoutMnemonic:"在组中拆分",miSplitEditorLeft:"向左拆分(&&L)",miSplitEditorLeftWithoutMnemonic:"向左拆分",miSplitEditorRight:"向右拆分(&&R)",miSplitEditorRightWithoutMnemonic:"向右拆分",miSplitEditorUp:"向上拆分(&&U)",miSplitEditorUpWithoutMnemonic:"向上拆分",miSwitchEditor:"切换编辑器(&&E)",miSwitchGroup:"切换组(&&G)",miThreeColumnsEditorLayout:"三列(&&H)",miThreeColumnsEditorLayoutWithoutMnemonic:"三列",miThreeRowsEditorLayout:"三行(&&R)",miThreeRowsEditorLayoutWithoutMnemonic:"三行",miTwoByTwoGridEditorLayout:"2x2 网格(&&G)",miTwoByTwoGridEditorLayoutWithoutMnemonic:"2x2 网格",miTwoColumnsBottomEditorLayout:"底部双列(&&C)",miTwoColumnsBottomEditorLayoutWithoutMnemonic:"底部双列",miTwoColumnsEditorLayout:"双列(&&T)",miTwoColumnsEditorLayoutWithoutMnemonic:"两列",miTwoRowsEditorLayout:"双行(&&W)",miTwoRowsEditorLayoutWithoutMnemonic:"双行",miTwoRowsRightEditorLayout:"右侧双行(&&O)",miTwoRowsRightEditorLayoutWithoutMnemonic:"右侧双行","navigate.next.label":"下一个更改","navigate.prev.label":"上一个更改",nextChangeIcon:"差异编辑器中下一个更改操作的图标",pin:"固定",pinEditor:"固定编辑器",previousChangeIcon:"差异编辑器中上一个更改操作的图标",reopenWith:"重新打开编辑器的方式…",showOpenedEditors:"显示打开的编辑器","showTrimWhitespace.label":"显示前导/尾随空格差异",sideBySideEditor:"并排编辑器",splitDown:"向下拆分",splitEditorDown:"向下拆分编辑器",splitEditorRight:"向右拆分编辑器",splitInGroup:"在组中拆分",splitLeft:"向左拆分",splitRight:"向右拆分",splitUp:"向上拆分",textDiffEditor:"文本差异编辑器",textEditor:"文本编辑器",toggleLockGroup:"锁定组",togglePreviewMode:"启用预览编辑器",toggleSplitEditorInGroupLayout:"切换布局",toggleTabs:"启用选项卡",toggleWhitespace:"差异编辑器中“切换空白”操作的图标",unlockEditorGroup:"解锁组",unlockGroupAction:"解锁组",unpin:"取消固定",unpinEditor:"取消固定编辑器"},"vs/workbench/browser/parts/editor/editorActions":{clearButtonLabel:"清除(&&C)",clearEditorHistory:"清除编辑器历史记录",clearRecentFiles:"清除最近打开",closeAllEditors:"关闭所有编辑器",closeAllGroups:"关闭所有编辑器组",closeEditor:"关闭编辑器",closeEditorInAllGroups:"在所有组中关闭此编辑器",closeEditorsInOtherGroups:"关闭其他组中的编辑器",closeEditorsToTheLeft:"关闭组中左侧编辑器",closeOneEditor:"关闭",confirmClearDetail:"此操作不可逆!",confirmClearEditorHistoryMessage:"是否要清除最近打开的编辑器的历史记录?",confirmClearRecentsMessage:"是否要清除最近打开的所有文件和工作区?",duplicateActiveGroupDown:"向下复制编辑器组",duplicateActiveGroupLeft:"向左复制编辑器组",duplicateActiveGroupRight:"向右复制编辑器组",duplicateActiveGroupUp:"向上复制编辑器组",editorLayoutSingle:"单列编辑器布局",editorLayoutThreeColumns:"三列编辑器布局",editorLayoutThreeRows:"三行编辑器布局",editorLayoutTwoByTwoGrid:"2x2 网格编辑器布局",editorLayoutTwoColumns:"双列编辑器布局",editorLayoutTwoColumnsBottom:"底部双列编辑器布局",editorLayoutTwoRows:"双行编辑器布局",editorLayoutTwoRowsRight:"右侧双行编辑器布局",evenEditorGroups:"重置编辑器组大小",firstEditorInGroup:"打开组中的第一个编辑器",focusAboveGroup:"专注上述编辑器组",focusActiveEditorGroup:"聚焦到活动编辑器组",focusBelowGroup:"专注以下编辑器组",focusFirstEditorGroup:"聚焦于第一个编辑器组",focusLastEditorGroup:"聚焦到最终组编辑器",focusLeftGroup:"聚焦到左侧编辑器组",focusNextGroup:"聚焦到下一组编辑器",focusPreviousGroup:"聚焦到上一组编辑器",focusRightGroup:"聚焦到右侧编辑器组",joinAllGroups:"合并所有编辑器组",joinTwoGroups:"将编辑器组与下一组合并",lastEditorInGroup:"打开组中最后一个编辑器",maximizeEditor:"最大化编辑器组并隐藏侧栏",miBack:"返回(&&B)",miForward:"前进(&&F)",minimizeOtherEditorGroups:"最大化编辑器组",moveActiveGroupDown:"向下移动编辑器组",moveActiveGroupLeft:"向左移动编辑器组",moveActiveGroupRight:"向右移动编辑器组",moveActiveGroupUp:"向上移动编辑器组",moveEditorLeft:"向左移动编辑器",moveEditorRight:"向右移动编辑器",moveEditorToAboveGroup:"将编辑器移动到上述组",moveEditorToBelowGroup:"将编辑器移动到以下组",moveEditorToFirstGroup:"将编辑器移动到第一组",moveEditorToLastGroup:"将编辑器移动到最后一组",moveEditorToLeftGroup:"将编辑器移动到左侧组",moveEditorToNextGroup:"将编辑器移动到下一组",moveEditorToPreviousGroup:"将编辑器移动到上一组",moveEditorToRightGroup:"将编辑器移动到右侧组",navigateBack:"返回",navigateBackInEdits:"编辑位置中的“返回”",navigateBackInNavigations:"导航位置中的“返回”",navigateEditorGroups:"在编辑器组间进行导航",navigateEditorHistoryByInput:"从历史记录中快速打开上一个编辑器",navigateForward:"前进",navigateForwardInEdits:"编辑位置中的“前进”",navigateForwardInNavigations:"导航位置中的“前进”",navigatePrevious:"转到上一页",navigatePreviousInEdits:"编辑位置中的“转到上一页”",navigatePreviousInNavigationLocations:"导航位置中的“转到上一页”",navigateToLastEditLocation:"转到上一编辑位置",navigateToLastNavigationLocation:"转到上一导航位置",newGroupAbove:"在上方新建编辑器组",newGroupBelow:"在下方新建编辑器组",newGroupLeft:"在左侧新建编辑器组",newGroupRight:"在右侧新建编辑器组",nextEditorInGroup:"打开组中的下一个编辑器",openNextEditor:"打开下一个编辑器",openNextRecentlyUsedEditor:"打开下一个最近使用的编辑器",openNextRecentlyUsedEditorInGroup:"打开组中下一个最近使用的编辑器",openPreviousEditor:"打开上一个编辑器",openPreviousEditorInGroup:"打开组中上一个编辑器",openPreviousRecentlyUsedEditor:"打开上一个最近使用的编辑器",openPreviousRecentlyUsedEditorInGroup:"打开组中上一个最近使用的编辑器",quickOpenLeastRecentlyUsedEditor:"快速打开最近使用频率最低的编辑器",quickOpenLeastRecentlyUsedEditorInGroup:"快速打开组中最近使用频率最低的编辑器",quickOpenPreviousRecentlyUsedEditor:"快速打开上一个最近使用过的编辑器",quickOpenPreviousRecentlyUsedEditorInGroup:"快速打开组中上一个最近使用过的编辑器",reopenClosedEditor:"重新打开已关闭的编辑器",reopenTextEditor:"使用文本编辑器重新打开编辑器",revertAndCloseActiveEditor:"还原并关闭编辑器",showAllEditors:"按外观显示所有编辑器",showAllEditorsByMostRecentlyUsed:"按最近使用显示所有编辑器",showEditorsInActiveGroup:"按最近使用显示活动组中的编辑器",splitEditor:"拆分编辑器",splitEditorGroupDown:"向下拆分编辑器",splitEditorGroupLeft:"向左拆分编辑器",splitEditorGroupRight:"向右拆分编辑器",splitEditorGroupUp:"向上拆分编辑器",splitEditorOrthogonal:"正交拆分编辑器",splitEditorToAboveGroup:"将编辑器拆分为上述组",splitEditorToBelowGroup:"将编辑器拆分为以下组",splitEditorToFirstGroup:"将编辑器拆分为第一组",splitEditorToLastGroup:"将编辑器拆分为最后一个组",splitEditorToLeftGroup:"将编辑器拆分为左组",splitEditorToNextGroup:"将编辑器拆分为下一组",splitEditorToPreviousGroup:"将编辑器拆分为上一组",splitEditorToRightGroup:"将编辑器拆分为右组",toggleEditorType:"切换编辑器类型",toggleEditorWidths:"切换编辑器组大小",unpinEditor:"取消固定编辑器"},"vs/workbench/browser/parts/editor/editorCommands":{compare:"比较","editorCommand.activeEditorCopy.arg.description":`参数属性\r
	* 'to': 提供复制位置的字符串值。\r
	* 'value': 提供要复制的位置数或绝对位置数的数字值。`,"editorCommand.activeEditorCopy.arg.name":"活动编辑器复制参数","editorCommand.activeEditorCopy.description":"按组复制活动编辑器","editorCommand.activeEditorMove.arg.description":`参数属性:\r
	* "to": 表示向何处移动的字符串值。\r
	* "by": 表示移动单位的字符串值 (按选项卡或按组)。\r
	* "value": 表示移动的位置数量或移动到的绝对位置的数字型值。`,"editorCommand.activeEditorMove.arg.name":"活动编辑器移动参数","editorCommand.activeEditorMove.description":"按标签或按组移动活动编辑器",focusLeftSideEditor:"在活动编辑器中专注第一侧",focusOtherSideEditor:"在活动编辑器中专注其他侧",focusRightSideEditor:"在活动编辑器中专注第二侧",joinEditorInGroup:"在组中加入编辑器",lockEditorGroup:"锁定编辑器组",splitEditorInGroup:"在组中拆分编辑器",toggleEditorGroupLock:"切换编辑器组锁定",toggleInlineView:"切换内联视图",toggleJoinEditorInGroup:"在组中切换拆分编辑器",toggleSplitEditorInGroupLayout:"切换组中拆分编辑器的布局",unlockEditorGroup:"解锁编辑器组"},"vs/workbench/browser/parts/editor/editorConfiguration":{"editor.editorAssociations":'将 [glob 模式](https://aka.ms/vscode-glob-patterns)配置到编辑器(例如 `"*.hex": "hexEditor.hexedit"`)。这些优先于默认行为。',editorLargeFileSizeConfirmation:"在要求在编辑器中打开时进行确认之前，控制以 MB 为单位的文件的最小大小。请注意，此设置可能不适用于所有编辑器类型和环境。",interactiveWindow:"交互窗口",markdownPreview:"Markdown 预览","workbench.editor.autoLockGroups":"如果与列出的其中一个类型匹配的编辑器作为编辑器组中的第一个编辑器打开，且打开了多个组，则该组会自动锁定。锁定的组仅用于在用户手势(例如拖放等)显式选择时打开编辑器，默认情况下不使用。因此，锁定的组中的活动编辑器不太可能被意外替换为其他编辑器。","workbench.editor.defaultBinaryEditor":"检测为二进制文件的默认编辑器。如果未定义，将向用户显示选取器。"},"vs/workbench/browser/parts/editor/editorDropTarget":{dropIntoEditorPrompt:"按住 __{0}__ 以放入编辑器中"},"vs/workbench/browser/parts/editor/editorGroupView":{ariaLabelGroupActions:"空编辑器组操作",emptyEditorGroup:"{0} (空)",groupAriaLabel:"编辑器组{0}",groupLabel:"第 {0} 组"},"vs/workbench/browser/parts/editor/editorGroupWatermark":{"watermark.findInFiles":"在文件中查找","watermark.newUntitledFile":"新的无标题文本文件","watermark.openFile":"打开文件","watermark.openFileFolder":"打开文件或文件夹","watermark.openFolder":"打开文件夹","watermark.openRecent":"打开最近的文件","watermark.quickAccess":"转到文件","watermark.showCommands":"显示所有命令","watermark.showSettings":"显示设置","watermark.startDebugging":"开始调试","watermark.toggleFullscreen":"切换全屏","watermark.toggleTerminal":"切换终端"},"vs/workbench/browser/parts/editor/editorPanes":{editorOpenErrorDialog:"无法打开“{0}”",ok:"确定(&&O)"},"vs/workbench/browser/parts/editor/editorPlaceholder":{errorEditor:"编辑器错误",manageTrust:"管理工作区信任",requiresFolderTrustText:"该文件未在编辑器中显示，因为尚未向该文件夹授予信任。",requiresWorkspaceTrustText:"该文件未在编辑器中显示，因为尚未向该工作区夹授予信任。",retry:"重试",trustRequiredEditor:"需要工作区信任",unavailableResourceErrorEditorText:"由于找不到该文件，因此无法打开编辑器。",unknownErrorEditorTextWithError:"由于意外错误，无法打开编辑器: {0}",unknownErrorEditorTextWithoutError:"由于意外错误，无法打开编辑器。"},"vs/workbench/browser/parts/editor/editorQuickAccess":{closeEditor:"关闭编辑器",entryAriaLabelDirty:"{0}，个未保存的更改",entryAriaLabelWithGroup:"{0}, {1}",entryAriaLabelWithGroupDirty:"{0}, 个未保存的更改，{1}",noViewResults:"没有匹配的编辑器"},"vs/workbench/browser/parts/editor/editorStatus":{autoDetect:"自动检测",changeEncoding:"更改文件编码",changeEndOfLine:"更改行尾序列",changeMode:"更改语言模式",columnSelectionModeEnabled:"列选择",configureAssociationsExt:"“{0}”的配置文件关联...",configureModeSettings:"配置“{0}”语言基础设置...",currentAssociation:"当前关联",currentProblem:"当前问题",disableColumnSelectionMode:"禁用列选择模式",disableTabMode:"禁用辅助功能模式",endOfLineCarriageReturnLineFeed:"CRLF",endOfLineLineFeed:"LF",fileInfo:"文件信息",gotoLine:"转到行/列",guessedEncoding:"通过内容猜测",indentConvert:"转换文件",indentView:"更改视图",languageDescription:"({0}) - 已配置的语言",languageDescriptionConfigured:"({0})",languagesPicks:"语言(标识符)",multiSelection:"{0} 选择",multiSelectionRange:"{0} 选择(已选择 {1} 个字符)",noEditor:"当前没有活动的文本编辑器",noFileEditor:"此时无活动文件",noWritableCodeEditor:"活动代码编辑器为只读模式。",pickAction:"选择操作",pickEncodingForReopen:"选择文件编码以重新打开文件",pickEncodingForSave:"选择用于保存的文件编码",pickEndOfLine:"选择行尾序列",pickLanguage:"选择语言模式",pickLanguageToConfigure:"选择要与“{0}”关联的语言模式",reopenWithEncoding:"通过编码重新打开",saveWithEncoding:"通过编码保存",selectEOL:"选择行尾序列",selectEncoding:"选择编码",selectIndentation:"选择缩进",selectLanguageMode:"选择语言模式",showLanguageExtensions:"搜索“{0}”的应用市场扩展程序...",singleSelection:"行 {0}，列 {1}",singleSelectionRange:"行 {0}，列 {1} (已选择{2})",spacesAndTabsSize:"空格: {0}(选项卡大小: {1})",spacesSize:"空格: {0}","status.editor.columnSelectionMode":"列选择模式","status.editor.encoding":"编辑器编码","status.editor.eol":"编辑器结束行","status.editor.indentation":"编辑器缩进","status.editor.info":"文件信息","status.editor.mode":"编辑器语言","status.editor.selection":"编辑器选择","status.editor.tabFocusMode":"辅助功能模式",tabFocusModeEnabled:"按 Tab 移动焦点",tabSize:"制表符长度: {0}"},"vs/workbench/browser/parts/editor/sideBySideEditor":{sideBySideEditor:"并排编辑器"},"vs/workbench/browser/parts/editor/tabsTitleControl":{ariaLabelTabActions:"选项卡操作"},"vs/workbench/browser/parts/editor/textCodeEditor":{textEditor:"文本编辑器"},"vs/workbench/browser/parts/editor/textDiffEditor":{fileTooLargeForHeapErrorWithSize:"文本比较编辑器中至少有一个文件未显示，因为它非常大({0})。",fileTooLargeForHeapErrorWithoutSize:"文本比较编辑器中至少有一个文件未显示，因为它非常大。",textDiffEditor:"文本差异编辑器"},"vs/workbench/browser/parts/editor/textEditor":{editor:"编辑器"},"vs/workbench/browser/parts/editor/titleControl":{ariaLabelEditorActions:"编辑器操作",draggedEditorGroup:"{0} (+{1})"},"vs/workbench/browser/parts/notifications/notificationsActions":{clearAllIcon:"通知中“全部清除”操作的图标。",clearIcon:"通知中“清除”操作的图标。",clearNotification:"清除通知",clearNotifications:"清除所有通知",collapseIcon:"通知中“折叠”操作的图标。",collapseNotification:"折叠通知",configureIcon:"通知中“配置”操作的图标。",configureNotification:"配置通知",copyNotification:"复制文本",doNotDisturbIcon:"通知中“静音全部操作”的图标。",expandIcon:"通知中“展开”操作的图标。",expandNotification:"展开通知",hideIcon:"通知中“隐藏”操作的图标。",hideNotificationsCenter:"隐藏通知",toggleDoNotDisturbMode:"切换“请勿打扰”模式"},"vs/workbench/browser/parts/notifications/notificationsAlerts":{alertErrorMessage:"错误: {0}",alertInfoMessage:"信息: {0}",alertWarningMessage:"警告: {0}"},"vs/workbench/browser/parts/notifications/notificationsCenter":{notifications:"通知",notificationsCenterWidgetAriaLabel:"通知中心",notificationsEmpty:"无新通知",notificationsToolbar:"通知中心操作"},"vs/workbench/browser/parts/notifications/notificationsCommands":{acceptNotificationPrimaryAction:"接受通知主要操作",clearAllNotifications:"清除所有通知",focusNotificationToasts:"将焦点放在通知横幅上",hideNotifications:"隐藏通知",notifications:"通知",showNotifications:"显示通知",toggleDoNotDisturbMode:"切换“请勿打扰”模式"},"vs/workbench/browser/parts/notifications/notificationsList":{notificationAriaLabel:"{0}，通知",notificationWithSourceAriaLabel:"{0}，源: {1}，通知",notificationsList:"通知列表"},"vs/workbench/browser/parts/notifications/notificationsStatus":{hideNotifications:"隐藏通知",noNotifications:"无新通知",noNotificationsWithProgress:"无新通知({0} 正在进行中)",notifications:"{0} 条新通知",notificationsWithProgress:"{0} 条新通知({1} 个正在进行中)",oneNotification:"1 条新通知",oneNotificationWithProgress:"1 条新通知({0} 条正在进行中)","status.doNotDisturb":"请勿打扰","status.doNotDisturbTooltip":"已启用“请勿打扰”模式","status.message":"状态消息","status.notifications":"通知",zeroNotifications:"没有通知"},"vs/workbench/browser/parts/notifications/notificationsToasts":{chatAccessibleViewHint:"使用 {0} 检查辅助视图中的响应",chatAccessibleViewHintNoKb:"通过命令“打开辅助视图”在辅助视图中检查响应，该命令当前无法通过键绑定触发",notificationAriaLabel:"{0}，通知",notificationAriaLabelViewHint:"{0}，通知 {1}",notificationWithSourceAriaLabel:"{0}，源: {1}，通知",notificationWithSourceAriaLabelViewHint:"{0}，源: {1}，通知 {2}"},"vs/workbench/browser/parts/notifications/notificationsViewer":{executeCommand:'单击以执行命令 "{0}"',notificationActions:"通知操作",notificationSource:"来源: {0}"},"vs/workbench/browser/parts/panel/panelActions":{alignPanel:"对齐面板",alignPanelCenter:"将面板对齐设置为“居中”",alignPanelCenterShort:"居中",alignPanelJustify:"将面板对齐设置为“两端对齐”",alignPanelJustifyShort:"两端对齐",alignPanelLeft:"将面板对齐方式设置为“左对齐”",alignPanelLeftShort:"左",alignPanelRight:"将面板对齐方式设置为“右对齐”",alignPanelRightShort:"右",closeIcon:"用于关闭面板的图标。",closePanel:"关闭面板",closeSecondarySideBar:"关闭辅助侧栏",focusPanel:"聚焦到面板中",hidePanel:"隐藏面板",maximizeIcon:"用于最大化面板的图标。",maximizePanel:"最大化面板大小",minimizePanel:"恢复面板大小",movePanelToSecondarySideBar:"将面板视图移动到辅助侧栏",moveSidePanelToPanel:"将辅助侧栏视图移动到面板",nextPanelView:"下一个面板视图",panelMaxNotSupported:"仅当面板居中对齐时，才支持最大化面板。",positionPanel:"面板位置",positionPanelBottom:"将面板移至底部",positionPanelBottomShort:"底部",positionPanelLeft:"将面板移至左侧",positionPanelLeftShort:"左",positionPanelRight:"将面板移至右侧",positionPanelRightShort:"右",previousPanelView:"上一个面板视图",restoreIcon:"用于还原面板的图标。","toggle panel":"面板","toggle panel mnemonic":"面板(&&P)",toggleMaximizedPanel:"切换最大化面板",togglePanel:"切换面板",togglePanelOffIcon:"用于在面板打开时关闭面板的图标。",togglePanelOnIcon:"用于在面板关闭时打开面板的图标。",togglePanelVisibility:"切换面板可见性"},"vs/workbench/browser/parts/panel/panelPart":{"align panel":"对齐面板",hidePanel:'"隐藏" 面板',moreActions:"更多操作...","panel position":"面板位置","panel.emptyMessage":"将视图拖动到此处显示。",resetLocation:"重置位置"},"vs/workbench/browser/parts/sidebar/sidebarActions":{focusSideBar:"将焦点置于主侧栏"},"vs/workbench/browser/parts/statusbar/statusbarActions":{focusStatusBar:"焦点状态栏",hide:"隐藏“{0}”"},"vs/workbench/browser/parts/statusbar/statusbarPart":{hideStatusBar:"隐藏状态栏"},"vs/workbench/browser/parts/titlebar/commandCenterControl":{"commandCenter-activeBackground":"命令中心的活动背景色","commandCenter-activeBorder":"命令中心的活动边框颜色","commandCenter-activeForeground":"命令中心的活动前景色","commandCenter-background":"命令中心背景色","commandCenter-border":"命令中心的边框颜色","commandCenter-foreground":"命令中心前景色","commandCenter-inactiveBorder":"窗口处于非活动状态时命令中心的边框颜色","commandCenter-inactiveForeground":"窗口处于非活动状态时命令中心的前景色","label.dfl":"搜索",label1:"{0} {1}",label2:"{0} {1}",title:"搜索 {0} ({1}) - {2}",title2:"搜索 {0} - {1}"},"vs/workbench/browser/parts/titlebar/menubarControl":{DownloadingUpdate:"正在下载更新...",checkForUpdates:"检查更新(&&U)...",checkingForUpdates:"正在检查更新...","download now":"下载更新(&&O)",focusMenu:"聚焦应用程序菜单",goToSetting:"打开设置","installUpdate...":"安装更新(&&U)...",installingUpdate:"正在安装更新...",mEdit:"编辑(&&E)",mFile:"文件(&&F)",mGoto:"转到(&&G)",mHelp:"帮助(&&H)",mPreferences:"首选项",mSelection:"选择(&&S)",mTerminal:"终端(&&T)",mView:"查看(&&V)","menubar.customTitlebarAccessibilityNotification":"为您启用了辅助功能支持。对于最易于访问的体验, 我们建议使用自定义标题栏样式。",restartToUpdate:"重新启动以更新(&&U)"},"vs/workbench/browser/parts/titlebar/titlebarPart":{focusTitleBar:"焦点标题栏","toggle.commandCenter":"命令中心","toggle.layout":"布局控件"},"vs/workbench/browser/parts/titlebar/windowTitle":{devExtensionWindowTitlePrefix:"[扩展开发宿主]",userIsAdmin:"[管理员]",userIsSudo:"[超级用户]"},"vs/workbench/browser/parts/views/checkbox":{checked:"已选中",unchecked:"未选中"},"vs/workbench/browser/parts/views/treeView":{collapseAll:"全部折叠","command-error":"运行命令 {1} 错误: {0}。这可能是由提交 {1} 的扩展引起的。","no-dataprovider":"没有可提供视图数据的已注册数据提供程序。",refresh:"刷新","treeView.enableCollapseAll":"ID 为 {0} 的树状视图是否启用全部折叠。","treeView.enableRefresh":"ID 为 {0} 的树状视图是否启用刷新。","treeView.toggleCollapseAll":"ID 为 {0} 的树状视图是否切换为全部折叠。"},"vs/workbench/browser/parts/views/viewFilter":{"more filters":"更多筛选器..."},"vs/workbench/browser/parts/views/viewPane":{viewPaneContainerCollapsedIcon:"已折叠的视图窗格容器的图标。",viewPaneContainerExpandedIcon:"已展开的视图窗格容器的图标。",viewToolbarAriaLabel:"{0}操作"},"vs/workbench/browser/parts/views/viewPaneContainer":{viewMoveDown:"向下移动视图",viewMoveLeft:"向左移动视图",viewMoveRight:"向右移动视图",viewMoveUp:"向上移动视图",views:"视图",viewsMove:"移动视图"},"vs/workbench/browser/parts/views/viewsService":{"focus view":"焦点在 {0} 视图上",resetViewLocation:"重置位置","show view":"显示 {0}","toggle view":"切换 {0}"},"vs/workbench/browser/quickaccess":{inQuickOpen:"键盘焦点是否在快速打开控件中"},"vs/workbench/browser/web.main":{rendererLog:"窗口",reset:"重置用户数据","reset user data message":"是否要重置数据(设置、键绑定、扩展、代码段和 UI 状态)并重新加载?"},"vs/workbench/browser/window":{learnMore:"了解详细信息(&&L)",open:"打开(&&O)","openExternalDialogButtonInstall.v3":"安装(&&I)","openExternalDialogButtonRetry.v2":"重试(&&T)","openExternalDialogDetail.v2":`我们已在你的计算机上启动 {0}。\r
\r
如果 {1} 未启动，请重试或在下面安装。`,openExternalDialogDetailNoInstall:`我们已你的计算机上启动 {0}。\r
\r
如果 {1} 未启动，请在下面重试。`,openExternalDialogTitle:"全部完成。现在可以关闭此选项卡。",reload:"重新加载(&&R)",shutdownError:"出现意外错误，需要重新加载此页面。",shutdownErrorDetail:"工作台在运行时被意外释放。",unableToOpenExternal:"浏览器已中断新选项卡或窗口的打开。仍然按“打开”以将其打开。"},"vs/workbench/browser/workbench":{loaderErrorNative:"未能加载所需文件。请重启应用程序重试。详细信息: {0}"},"vs/workbench/browser/workbench.contribution":{activeEditorLong:'"${activeEditorLong}": 文件的完整路径 (例如 /Users/Development/myFolder/myFileFolder/myFile.txt)。',activeEditorMedium:'"${activeEditorMedium}": 相对于工作区文件夹的文件路径 (例如, myFolder/myFileFolder/myFile.txt)。',activeEditorShort:'"${activeEditorShort}": 文件名 (例如 myFile.txt)。',activeFolderLong:'"${activeFolderLong}": 文件所在文件夹的完整路径 (例如 /Users/Development/myFolder/myFileFolder)。',activeFolderMedium:'"${activeFolderMedium}": 相对于工作区文件夹的、包含文件的文件夹的路径, (例如 myFolder/myFileFolder)。',activeFolderShort:'"${activeFolderShort}": 文件所在的文件夹名称 (例如, myFileFolder)。',activityBarIconClickBehavior:"控制在工作台中单击活动栏图标时出现的行为。",activityBarVisibility:"控制工作台中活动栏的可见性。",appName:'"${appName}": 例如 VS Code。',centeredLayoutAutoResize:"如果在居中布局中打开了超过一组编辑器，控制是否自动将宽度调整为最大宽度值。当回到只打开了一组编辑器的状态，将自动将宽度调整为原始的居中宽度值。",centeredLayoutDynamicWidth:"调整窗口大小时，居中布局尝试维持常量宽度的控件。",closeEmptyGroups:"控制编辑器组中最后一个选项卡关闭时这个空组的行为。若启用，将自动关闭空组。若禁用，空组仍将保留在网格布局中。",closeOnFileDelete:"控制在会话期间显示已打开文件的编辑器是否应在被其他进程删除或重命名时自动关闭。禁用此功能将使编辑器在此类事件中保持打开状态。请注意，从应用程序内删除将始终关闭编辑器，且永远不会关闭具有未保存更改的编辑器以保留数据。",closeOnFocusLost:"控制 Quick Open 是否在其失去焦点时自动关闭。",commandHistory:"控制命令面板中保留最近使用命令的数量。设置为 0 时禁用命令历史功能。",confirmBeforeClose:"控制是否在关闭窗口或退出应用程序之前显示确认对话框。",confirmBeforeCloseWeb:"控制在关闭浏览器选项卡或窗口之前是否显示确认对话框。请注意，即使已启用，浏览器仍可能决定在不进行确认的情况下关闭选项卡或窗口，并且此设置仅作为提示，并非在所有情况下都起作用。",customMenuBarAltFocus:"控制是否通过按 Alt 键聚焦菜单栏。此设置对使用 Alt 键切换菜单栏没有任何影响。","decorations.badges":"控制编辑器文件修饰是否应使用徽章。","decorations.colors":"控制编辑器文件修饰是否应使用颜色。",dirty:"`${dirty}`: 表明活动编辑器具有未保存更改的时间的指示器。",doubleClickTabToToggleEditorGroupSizes:"控制在双击选项卡时是否最大化/还原编辑器组。禁用 `#workbench.editor.showTabs#` 时，将忽略此值。",editorOpenPositioning:"控制编辑器打开的位置。选择 `left` 或 `right` 可分别在当前活动编辑器的左侧或右侧打开。选择 `first` (最前) 或 `last` (最后) 打开的位置与当前活动编辑器无关。",editorTabCloseButton:'控制编辑器的选项卡关闭按钮的位置，或者在设置为 "off" 时禁用它们。当 "#workbench.editor.showTabs#" 处于禁用状态时，将忽略此值。',enableMenuBarMnemonics:"控制是否可通过 Alt 键快捷键打开主菜单。如果禁用助记符，则可将这些 Alt 键快捷键绑定到编辑器命令。",enablePreview:"控制打开的编辑器是否显示为预览编辑器。预览编辑器不会保持打开状态，在将其显式设置为保持打开(通过双击或编辑)前可以重用，并以斜体显示文件名。",enablePreviewFromCodeNavigation:"控制当从编辑器开始进行代码导航时，编辑器是否保持为预览状态。预览编辑器不会保持打开状态，在将其显式设置为保持打开(通过双击或编辑)前将会重用。当 `#workbench.editor.enablePreview#` 处于禁用状态时，将忽略此值。",enablePreviewFromQuickOpen:"控制通过 Quick Open 打开的编辑器是否显示为预览编辑器。预览编辑器不会保持打开状态，并且在将其显式设置为保持打开(通过双击或编辑)前将会重用。启用后，在选择前按住 Ctrl 可在非预览模式下打开编辑器。当 `#workbench.editor.enablePreview#` 处于禁用状态时，将忽略此值。",exclude:"配置路径或 [glob 模式](https://aka.ms/vscode-glob-patterns)以排除本地文件历史记录中的文件。glob 模式的计算结果始终是相对于工作区文件夹路径所在的位置，除非它们是绝对路径。更改此设置不会影响现有的本地文件历史记录条目。",focusRecentEditorAfterClose:"控制是否按最常使用的顺序或从左到右的顺序关闭选项卡。",folderName:'"${folderName}": 文件所在工作区文件夹的名称 (例如 myFolder)。',folderPath:'"${folderpath}": 文件所在工作区文件夹的路径 (例如 /Users/Development/myFolder)。',fontAliasing:"控制在工作台中字体的渲染方式。",highlightModifiedTabs:"控制是否在具有未保存更改的编辑器的选项卡上绘制顶部边框。当禁用 `#workbench.editor.showTabs#` 时，会忽略此值。",layoutControlEnabled:"控制布局控件是否显示在自定义标题栏中。此设置仅在将 {0} 设置为 {1} 时才会生效。",layoutControlEnabledWeb:"控制是否显示标题栏中的布局控件。",layoutControlType:"控制自定义标题栏中的布局控件是显示为单个菜单按钮还是多个 UI 切换。","layoutcontrol.type.both":"显示下拉列表和切换按钮。","layoutcontrol.type.menu":"显示包含布局选项下拉列表的单个按钮。","layoutcontrol.type.toggles":"显示用于切换面板和侧边栏可见性的多个按钮。",limitEditorsEnablement:"控制打开的编辑器数是否应受限制。启用后，最近使用较少的编辑器将关闭，以为新打开的编辑器腾出空间。",limitEditorsExcludeDirty:"控制打开的编辑器的最大数目是否应排除脏编辑器以计入配置的限制。",limitEditorsMaximum:"控制打开编辑器的最大数量。使用 {0} 设置控制每个编辑器组或跨所有组的限制。",localHistoryEnabled:"控制是否启用本地文件历史记录。启用后，所保存编辑器文件内容将存储到备份位置，以便稍后可以还原或查看内容。更改此设置不会影响现有本地文件历史记录条目。",localHistoryMaxFileEntries:"控制每个文件的最大本地文件历史记录条目数。当文件的本地文件历史记录条目数超过此数目时，将丢弃最早的条目。",localHistoryMaxFileSize:"控制考虑用于本地历史记录的文件最大大小(KB)。较大的文件将不会添加到本地历史记录中。更改此设置不会影响现有本地文件历史记录条目。",menuBarVisibility:"控制菜单栏的可见性。“切换”设置表示菜单栏处于隐藏状态，只需按一下 Alt 键即可显示。“精简”设置会将菜单移到边栏中。","menuBarVisibility.mac":"控制菜单栏的可见性。“切换”设置表示菜单栏处于隐藏状态，执行“聚焦应用程序菜单”将显示菜单栏。“精简”设置会将菜单移到边栏中。",mergeWindow:"配置时间间隔(以秒为单位)，在此间隔期间，本地文件历史记录中的最后一个条目将替换为正在添加的条目。这有助于减少所添加的条目总数，例如启用自动保存时。此设置仅应用于具有相同源的条目。更改此设置不会影响现有本地文件历史记录条目。",mouseBackForwardToNavigate:"允许使用鼠标按钮四和五执行“返回”和“前进”命令。",navigationScope:"控制编辑器中“返回”和“前进”等命令的历史导航范围。",openDefaultKeybindings:"控制在打开按键绑定设置时是否同时打开显示所有默认按键绑定的编辑器。",openDefaultSettings:"控制在打开设置时是否同时打开显示所有默认设置的编辑器。",openFilesInNewWindow:"控制是否应在使用命令行或文件对话框时在新窗口中打开文件。\r\n请注意，此设置可能会被忽略(例如，在使用 `--new-window` 或 `--reuse-window` 命令行选项时)。",openFilesInNewWindowMac:"控制是否应在使用命令行或文件对话框时在新窗口中打开文件。\r\n请注意，此设置可能会被忽略(例如，在使用 `--new-window` 或 `--reuse-window` 命令行选项时)。",openFoldersInNewWindow:"控制打开文件夹时是在新窗口打开还是替换上一个活动窗口。\r\n注意，此设置可能会被忽略 (例如，在使用 `--new-window` 或 `--reuse-window` 命令行选项时)。",panelDefaultLocation:"控制新工作区中面板(终端、调试控制台、输出、问题)的默认位置。它可以显示在编辑器区域的底部、右侧或左侧。",panelOpensMaximized:"控制面板是否以最大化方式打开。它可以始终以最大化方式打开、永不以最大化方式打开或以关闭前的最后一个状态打开。",perEditorGroup:"控制最大打开的编辑器的限制是否应应用于每个编辑器组或所有编辑器组。",pinnedTabSizing:'控制固定的编辑器选项卡的大小。固定的选项卡排在所有打开的选项卡的开头，并且在取消固定之前，通常不会关闭。当 "#workbench.editor.showTabs#" 处于禁用状态时，会忽略此值。',preserveInput:"当再次打开命令面板时，控制是否恢复上一次输入的内容。",profileName:'"${profileName}": 在其中打开工作区的配置文件的名称(例如数据科学(配置文件))。如果使用默认配置文件，则忽略此选项。',remoteName:"`${remoteName}`: 例如 SSH",restoreViewState:"关闭编辑器后重新打开时，将还原最后的编辑器视图状态(例如滚动位置)。编辑器视图状态按编辑器组存储，并在组关闭时被放弃。使用 {0} 设置以跨所有编辑器组使用最后已知的视图状态，以防找不到编辑器组之前的视图状态。",revealIfOpen:"控制是否在打开的任何可见组中显示编辑器。如果禁用，编辑器将优先在当前活动的编辑器组中打开。如果启用，将显示在已打开的编辑器，而不是在当前活动的编辑器组中再次打开。请注意，有些情况下会忽略此设置，例如，强制编辑器在特定组中打开或在当前活动组的一侧打开。",rootName:"`${rootName}`: 具有可选远程名称和工作区指示器的工作区的名称(如果适用)(例如 myFolder、myRemoteFolder [SSH] 或 myWorkspace [工作区])。",rootNameShort:"`${rootNameShort}`: 已缩短的工作区名称，不包含后缀(例如 myFolder、myRemoteFolder 或 myWorkspace)。",rootPath:'"${rootPath}": 打开的工作区或文件夹的文件路径 (例如 /Users/Development/myWorkspace)。',scrollToSwitchTabs:'控制在滚动到选项卡上方时是否打开这些选项卡。默认情况下，选项卡仅在鼠标滚动时呈现，但不打开。可通过在滚动时按住 Shift 键来更改滚动期间的此行为。当 "#workbench.editor.showTabs#" 处于禁用状态时，将忽略此值。',separator:'"${separator}": 一种条件分隔符 ("-"), 仅在被包含值或静态文本的变量包围时显示。',"settings.editor.desc":"配置默认使用的设置编辑器。","settings.editor.json":"使用 json 文件编辑器。","settings.editor.ui":"使用设置 ui 编辑器。",sharedViewState:"跨所有编辑器组保留最新的编辑器视图状态(例如滚动位置等)并在未找到编辑器组的特定编辑器视图状态时进行还原。",showEditorTabs:"控制打开的编辑器是否显示在选项卡中。",showIcons:"控制是否在打开的编辑器中显示图标。这要求同时启用文件图标主题。",sideBarLocation:"控制主边栏和活动栏的位置。它们可以显示在工作台的左侧或右侧。辅助边栏将显示在工作台的另一侧。",sideBySideDirection:'控制编辑器在并排打开时(例如从资源管理器)出现的默认位置。默认在当前活动编辑器右侧打开。若更改为 "down"，则在当前活动编辑器下方打开。',splitInGroupLayout:"控制在编辑器组中垂直或水平拆分编辑器时的布局。",splitOnDragAndDrop:"通过将编辑器或文件放到编辑器区域的边缘，控制是否可以由拖放操作拆分编辑器组。",splitSizing:"拆分编辑器组时控制编辑器组大小。",statusBarVisibility:"控制工作台底部状态栏的可见性。",suggestCommands:"控制命令面板是否应包含常用命令的列表。",tabDescription:"控制编辑器标签的格式。",tabScrollbarHeight:"控制编辑器标题区域中用于选项卡和面包屑的滚动条的高度。",tabSizing:'控制编辑器选项卡的大小。当 "#workbench.editor.showTabs#" 处于禁用状态时，会忽略此值。',"tips.enabled":"启用后，当没有打开编辑器时将显示水印提示。",untitledHint:"控制编辑器中是否应显示无标题文本提示。",untitledLabelFormat:"控制无标题编辑器的标签格式。",useSemanticSimilarity:"控制命令面板是否应包含类似的命令。必须安装提供语义相似性的扩展。",useSplitJSON:"控制在将设置编辑为 json 时是否使用拆分 json 编辑器。",viewVisibility:"控制是否显示视图头部的操作项。视图头部操作项可以一直，或是仅当聚焦到和悬停在视图上时显示。","window.commandCenter":"将命令启动器与窗口标题一起显示。仅当 {0} 设置为 {1} 时，此设置才会生效。","window.commandCenterWeb":"将命令启动器与窗口标题一起显示。","window.confirmBeforeClose.always":"始终询问确认。","window.confirmBeforeClose.always.web":"始终尝试请求确认。请注意，浏览器仍可能在未经确认的情况下决定关闭标签页或窗口。","window.confirmBeforeClose.keyboardOnly":"仅在已使用键绑定时请求确认。","window.confirmBeforeClose.keyboardOnly.web":"仅在检测到使用了键绑定关闭窗口时请求确认。请注意，在某些情况下可能无法进行检测。","window.confirmBeforeClose.never":"从不显式请求确认。","window.confirmBeforeClose.never.web":"除非即将丢失数据，否则绝不明确询问确认。","window.menuBarVisibility.classic":"菜单显示在窗口顶部，并且仅在全屏模式下隐藏。","window.menuBarVisibility.compact":"菜单在边栏中显示为紧凑按钮。当 {0} 为 {1} 时，会忽略此值。","window.menuBarVisibility.compact.web":"菜单在边栏中显示为紧凑按钮。","window.menuBarVisibility.hidden":"菜单始终隐藏。","window.menuBarVisibility.toggle":"菜单处于隐藏状态，但通过按 Alt 键可在窗口顶部显示。","window.menuBarVisibility.toggle.mac":"菜单处于隐藏状态，但通过执行“聚焦应用程序菜单”命令可在窗口顶部显示。","window.menuBarVisibility.visible":"即使在全屏模式下，菜单也始终显示在窗口顶部。","window.openFilesInNewWindow.default":"在新窗口中打开文件，除非文件从应用程序内进行选取 (例如，通过“文件”菜单)。","window.openFilesInNewWindow.defaultMac":"在文件所在文件夹的已有窗口中或在上一个活动窗口中打开文件，除非其通过“程序坞”(Dock) 或“访达”(Finder) 打开。","window.openFilesInNewWindow.off":"在文件所在文件夹的已有窗口中或在上一个活动窗口中打开文件。","window.openFilesInNewWindow.on":"在新窗口中打开文件。","window.openFoldersInNewWindow.default":"在新窗口中打开文件夹，除非文件夹从应用程序内进行选取 (例如，通过“文件”菜单)。","window.openFoldersInNewWindow.off":"文件夹将替换上一个活动窗口。","window.openFoldersInNewWindow.on":"在新窗口中打开文件夹。","window.titleSeparator":"{0} 使用的分隔符。",windowConfigurationTitle:"窗口",windowTitle:"根据活动编辑器控制窗口标题。变量是根据上下文替换的:","workbench.activityBar.iconClickBehavior.focus":"如果单击的项已可见，则将焦点放在边栏上。","workbench.activityBar.iconClickBehavior.toggle":"如果单击的项已可见，则隐藏边栏。","workbench.editor.historyBasedLanguageDetection":"允许在语言检测中使用编辑器历史记录。这会导致自动语言检测偏向于最近打开的语言，并允许自动语言检测使用较小的输入进行操作。","workbench.editor.labelFormat.default":"显示文件名。当启用选项卡且在同一组内有两个相同名称的文件时，将添加每个文件路径中可以用于区分的部分。在选项卡被禁用且编辑器活动时，将显示相对于工作区文件夹的路径。","workbench.editor.labelFormat.long":"显示文件名后跟其绝对路径。","workbench.editor.labelFormat.medium":"显示文件名及其相对于工作区文件夹的路径。","workbench.editor.labelFormat.short":"显示文件名后跟其目录名。","workbench.editor.languageDetection":"控制是否自动检测文本编辑器中的语言，除非该语言已由语言选择器显式设置。这也可以按语言确定范围，以便你可以指定不希望关闭的语言。这对于像 Markdown 这样的语言很有用，因为它通常包含可能会欺骗语言检测的其他语言，使其认为它是嵌入语言而不是 Markdown。","workbench.editor.navigationScopeDefault":"浏览所有打开的编辑器和编辑器组。","workbench.editor.navigationScopeEditor":"仅在活动编辑器中导航。","workbench.editor.navigationScopeEditorGroup":"仅在活动编辑器组的编辑器中导航。","workbench.editor.pinnedTabSizing.compact":"固定的选项卡将以紧凑形式显示，其中只包含图标或编辑器名称的第一个字母。","workbench.editor.pinnedTabSizing.normal":"固定的选项卡会继承未固定的选项卡的外观。","workbench.editor.pinnedTabSizing.shrink":"固定的选项卡缩小至紧凑的固定大小，显示编辑器名称的各部分。","workbench.editor.preferBasedLanguageDetection":"启用后，将编辑器历史记录考虑在内的语言检测模型将获得更高的优先级。","workbench.editor.showLanguageDetectionHints":"启用后，当编辑器语言与检测到的内容语言不匹配时，显示状态栏快速修复。","workbench.editor.showLanguageDetectionHints.editors":"在无标题文本编辑器中显示","workbench.editor.showLanguageDetectionHints.notebook":"在笔记本编辑器中显示","workbench.editor.splitInGroupLayoutHorizontal":"从左到右定位编辑器。","workbench.editor.splitInGroupLayoutVertical":"从上到下定位编辑器。","workbench.editor.splitSizingAuto":"将所有编辑器组拆分为相等的部分，除非某部分的大小已更改。","workbench.editor.splitSizingDistribute":"将所有编辑器组拆分为相等的部分。","workbench.editor.splitSizingSplit":"将活动编辑器组拆分为相等的部分。","workbench.editor.tabSizing.fit":"始终将标签页保持足够大，能够完全显示编辑器标签。","workbench.editor.tabSizing.fixed":"使所有选项卡的大小相同，同时允许它们在可用空间不足以同时显示所有选项卡时变小。","workbench.editor.tabSizing.shrink":"在不能同时显示所有选项卡时，允许选项卡缩小。","workbench.editor.tabSizingFixedMaxWidth":"控制将`#workbench.editor.tabSizing#`大小设置为`fixed`时选项卡的最大宽度。","workbench.editor.tabSizingFixedMinWidth":"控制将 `#workbench.editor.tabSizing#` 大小设置为 `fixed` 时选项卡的最小宽度。","workbench.editor.titleScrollbarSizing.default":"默认大小。","workbench.editor.titleScrollbarSizing.large":"增加大小，以便更轻松地通过鼠标抓取。","workbench.editor.untitled.labelFormat.content":"无标题文件的名称派生自其第一行的内容，除非它有关联的文件路径。如果行为空或不包含单词字符，它将回退到名称。","workbench.editor.untitled.labelFormat.name":"无标题文件的名称不是从文件的内容派生的。","workbench.fontAliasing.antialiased":"进行像素而不是次像素级别的字体平滑。可能会导致字体整体显示得更细。","workbench.fontAliasing.auto":"根据显示器 DPI 自动应用 `default` 或 `antialiased` 选项。","workbench.fontAliasing.default":"次像素平滑字体。将在大多数非 retina 显示器上显示最清晰的文字。","workbench.fontAliasing.none":"禁用字体平滑。将显示边缘粗糙、有锯齿的文字。","workbench.hover.delay":"控制为工作台项显示悬停之前的延迟时间(以毫秒为单位)(例如，一些扩展提供了树状视图项)。已经可见的项可能需要刷新，然后才会反映出此设置更改。","workbench.panel.opensMaximized.always":"始终以最大化方式打开面板。","workbench.panel.opensMaximized.never":"永不以最大化方式打开面板。面板将以非最大化方式打开。","workbench.panel.opensMaximized.preserve":"以关闭面板前的状态打开面板。","workbench.quickOpen.preserveInput":"在打开 Quick Open 视图时，控制是否自动恢复上一次输入的值。","workbench.reduceMotion":"控制工作台是否应以更少的动画呈现。","workbench.reduceMotion.auto":"根据 OS 配置减少运动呈现。","workbench.reduceMotion.off":"不要减少运动呈现","workbench.reduceMotion.on":"始终减少动作呈现。",wrapTabs:'控制当超出可用空间时，选项卡是否应在多行之间换行，或者是否应显示滚动条。当 "#workbench.editor.showTabs#" 处于禁用状态时，将忽略此值。',"zenMode.centerLayout":"控制在打开禅模式时是否启用居中布局。","zenMode.fullScreen":"控制在打开禅模式时是否将工作台切换到全屏。","zenMode.hideActivityBar":"控制在打开禅模式时是否隐藏工作台左侧或右侧的活动栏。","zenMode.hideLineNumbers":"控制在打开禅模式时是否隐藏编辑器行号。","zenMode.hideStatusBar":"控制在打开禅模式时是否隐藏工作台底部的状态栏。","zenMode.hideTabs":"控制在打开禅模式时是否隐藏工作台选项卡。","zenMode.restore":"控制在禅模式下退出的窗口是否应还原为禅模式。","zenMode.silentNotifications":"控制在禅模式下是否应启用通知请勿打扰模式。如果为 true，则仅弹出错误通知。",zenModeConfigurationTitle:"禅模式"},"vs/workbench/common/configuration":{applicationConfigurationTitle:"应用程序","security.allowedUNCHosts":"无需用户确认即可允许的一组 UNC 主机名(无前导或尾随反斜杠，例如 `192.168.0.1` 或 `my-server`)。如果正在访问的 UNC 主机是此设置不允许访问的或未通过用户确认进行确认，则会发生错误并停止操作。更改此设置时需要重启。有关此设置的详细信息，请访问 https://aka.ms/vscode-windows-unc。","security.allowedUNCHosts.patternErrorMessage":"UNC 主机名不得包含反斜杠。","security.restrictUNCAccess":'如果已启用，则仅允许访问 "#security.allowedUNCHosts#" 设置允许的或用户确认后的 UNC 主机名。有关此设置的详细信息，可访问 https://aka.ms/vscode-windows-unc。',securityConfigurationTitle:"安全性",workbenchConfigurationTitle:"工作台"},"vs/workbench/common/contextkeys":{activeAuxiliary:"活动辅助面板的标识符",activeEditor:"活动编辑器的标识符",activeEditorAvailableEditorIds:"可用于活动编辑器的可用编辑器标识符",activeEditorCanRevert:"活动编辑器是否可以还原",activeEditorCanToggleReadonly:"活动编辑器是否可以在只读或可写之间切换",activeEditorGroupEmpty:"活动编辑器组是否为空",activeEditorGroupIndex:"活动编辑器组的索引",activeEditorGroupLast:"活动编辑器组是否为最后一个组",activeEditorGroupLocked:"活动编辑器组是否已锁定",activeEditorIsDirty:"活动编辑器是否具有未保存的更改",activeEditorIsFirstInGroup:"活动编辑器是否为其组中的第一个编辑器",activeEditorIsLastInGroup:"活动编辑器是否是其组中的最后一个编辑器",activeEditorIsNotPreview:"活动编辑器是否未在预览模式下",activeEditorIsPinned:"活动编辑器是否已固定",activeEditorIsReadonly:"活动编辑器是否只读",activePanel:"活动面板的标识符",activeViewlet:"活动 viewlet 的标识符",auxiliaryBarFocus:"辅助栏是否具有键盘焦点",auxiliaryBarVisible:"辅助栏是否可见",bannerFocused:"键盘焦点是否在横幅上",dirtyWorkingCopies:"是否有具有未保存更改的工作副本",editorAreaVisible:"编辑器区域是否可见",editorIsOpen:"编辑器是否打开",editorTabsVisible:"编辑器选项卡是否可见",embedderIdentifier:"根据产品服务的嵌入器标识符(如果已定义)",focusedView:"具有键盘焦点的视图的标识符",groupEditorsCount:"打开的编辑器组数",inZenMode:"是否已启用 Zen 模式",isCenteredLayout:"是否已启用居中布局",isFileSystemResource:"资源是否由文件系统提供程序支持",isFullscreen:"窗口是否处于全屏模式",multipleEditorGroups:"是否打开了多个编辑器组",notificationCenterVisible:"通知中心是否可见",notificationFocus:"键盘焦点是否在通知上",notificationToastsVisible:"通知 toast 是否可见",panelAlignment:"面板的对齐方式:“居中”、“向左对齐”、“向右对齐”或“两端对齐”",panelFocus:"键盘焦点是否在面板上",panelMaximized:"面板是否已最大化",panelPosition:"面板的位置，始终为“底部”",panelVisible:"面板是否可见",remoteName:"窗口连接到的远程项的名称；如果未连接到任何远程项，则为空字符串",resource:"包含方案和路径的资源的完整值",resourceDirname:"资源所在的文件夹的名称",resourceExtname:"资源的扩展名",resourceFilename:"资源的文件名",resourceLangId:"资源的语言标识符",resourcePath:"资源的完整路径",resourceScheme:"资源的方案",resourceSet:"资源是否存在",sideBarFocus:"键盘焦点是否在侧栏上",sideBarVisible:"侧栏是否可见",sideBySideEditorActive:"并行编辑器是否处于活动状态",splitEditorsVertically:"编辑器是否垂直拆分",statusBarFocused:"键盘焦点是否在状态栏上",temporaryWorkspace:"当前工作区的方案来自临时文件系统。",textCompareEditorActive:"文本比较编辑器是否处于活动状态",textCompareEditorVisible:"文本比较编辑器是否可见",virtualWorkspace:"当前工作区的方案来自虚拟文件系统或空字符串。",workbenchState:"窗口中打开的工作区类型:“空”(无工作区)、“文件夹”(单个文件夹)或“工作区”(多根工作区)",workspaceFolderCount:"工作区中根文件夹的数量"},"vs/workbench/common/editor":{builtinProviderDisplayName:"内置",configureEditorLargeFileConfirmation:"配置限制",openLargeFile:"仍然打开","promptOpenWith.defaultEditor.displayName":"文本编辑器"},"vs/workbench/common/editor/diffEditorInput":{sideBySideLabels:"{0} ↔ {1}"},"vs/workbench/common/editor/sideBySideEditorInput":{sideBySideLabels:"{0} - {1}"},"vs/workbench/common/editor/textEditorModel":{languageAutoDetected:"自动检测到语言 {0}，且其设置为语言模式。"},"vs/workbench/common/theme":{activityBarActiveBackground:"活动项的活动栏背景颜色。活动栏显示在最左侧或右侧，并允许在侧栏视图之间切换。",activityBarActiveBorder:"活动项的活动栏边框颜色。活动栏显示在最左侧或右侧，并允许在侧栏视图之间切换。",activityBarActiveFocusBorder:"活动项的活动栏焦点边框颜色。活动栏显示在最左侧或右侧，并允许在侧栏视图之间切换。",activityBarBackground:"活动栏背景色。活动栏显示在最左侧或最右侧，并允许在侧边栏的视图间切换。",activityBarBadgeBackground:"活动通知徽章背景色。活动栏显示在最左侧或最右侧，并允许在侧边栏的视图间切换。",activityBarBadgeForeground:"活动通知徽章前景色。活动栏显示在最左侧或最右侧，并允许在侧边栏的视图间切换。",activityBarBorder:"活动栏分隔侧边栏的边框颜色。活动栏显示在最左侧或最右侧，并可以切换侧边栏的视图。",activityBarDragAndDropBorder:"拖放活动栏项的反馈颜色。活动栏显示在最左侧或最右侧，并允许在侧边栏视图之间切换。",activityBarForeground:"活动栏项在活动时的前景色。活动栏显示在最左侧或最右侧，并允许在侧边栏的视图间切换。",activityBarInActiveForeground:"活动栏项在非活动时的前景色。活动栏显示在最左侧或最右侧，并允许在侧边栏的视图间切换。","banner.background":"横幅背景颜色。横幅显示在窗口的标题栏下。","banner.foreground":"横幅前景色。横幅显示在窗口的标题栏下。","banner.iconForeground":"横幅图标颜色。横幅显示在窗口的标题栏下。",editorDragAndDropBackground:"拖动编辑器时的背景颜色。此颜色应有透明度，以便编辑器内容能透过背景。",editorDropIntoPromptBackground:"拖动文件时编辑器上显示的文本背景色。此文本通知用户可以按住 Shift 放入编辑器中。",editorDropIntoPromptBorder:"拖动文件时在编辑器上显示的文本边框颜色。此文本通知用户可以按住 Shift 来拖入编辑器中。",editorDropIntoPromptForeground:"拖动文件时编辑器上显示的文本前景色。此文本通知用户可以按住 Shift 来拖入编辑器中。",editorGroupBorder:"将多个编辑器组彼此分隔开的颜色。编辑器组是编辑器的容器。",editorGroupEmptyBackground:"空编辑器组的背景色。编辑器组是编辑器的容器。",editorGroupFocusedEmptyBorder:"空编辑器组被聚焦时的边框颜色。编辑组是编辑器的容器。",editorGroupHeaderBackground:'禁用选项卡 ("workbench.editor.showTabs": false) 时编辑器组标题颜色。编辑器组是编辑器的容器。',editorPaneBackground:"居中编辑器布局中左侧与右侧编辑器窗格的背景色。",editorTitleContainerBorder:"编辑器组标题标头的边框颜色。编辑器组是编辑器的容器。","extensionBadge.remoteBackground":"扩展视图中远程徽标的背景色。","extensionBadge.remoteForeground":"扩展视图中远程徽标的前景色。",lastPinnedTabBorder:"用于将固定的选项卡与其他选项卡隔开的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",menubarSelectionBackground:"菜单栏中选定菜单项的背景色。",menubarSelectionBorder:"菜单栏中所选菜单项的边框颜色。",menubarSelectionForeground:"菜单栏中选定菜单项的前景色。",notificationCenterBorder:"通知中心的边框颜色。通知从窗口右下角滑入。",notificationCenterHeaderBackground:"通知中心头部的背景色。通知从窗口右下角滑入。",notificationCenterHeaderForeground:"通知中心头部的前景色。通知从窗口右下角滑入。",notificationToastBorder:"通知横幅的边框颜色。通知从窗口右下角滑入。",notificationsBackground:"通知的背景色。通知从窗口右下角滑入。",notificationsBorder:"通知中心中分隔通知的边框的颜色。通知从窗口右下角滑入。",notificationsErrorIconForeground:"用于错误通知图标的颜色。通知从窗口右下角滑入。",notificationsForeground:"通知的前景色。通知从窗口右下角滑入。",notificationsInfoIconForeground:"用于信息通知图标的颜色。通知从窗口右下角滑入。",notificationsLink:"通知链接的前景色。通知从窗口右下角滑入。",notificationsWarningIconForeground:"用于警告通知图标的颜色。通知从窗口右下角滑入。",panelActiveTitleBorder:"活动面板标题的边框颜色。面板显示在编辑器区域下方，并包含输出和集成终端等视图。",panelActiveTitleForeground:"活动面板的标题颜色。面板显示在编辑器区域下方，并包含输出和集成终端等视图。",panelBackground:"面板的背景色。面板显示在编辑器区域下方，可包含输出和集成终端等视图。",panelBorder:"将面板与编辑器隔开的边框的颜色。面板显示在编辑区域下方，包含输出和集成终端等视图。",panelDragAndDropBorder:"拖放面板标题的反馈颜色。面板显示在编辑器区域的下方，包含输出和集成终端等视图。",panelInactiveTitleForeground:"非活动面板的标题颜色。面板显示在编辑器区域下方，并包含输出和集成终端等视图。",panelInputBorder:"用于面板中输入内容的输入框边框。",panelSectionBorder:"当多个视图在面板中水平堆叠时使用的面板区域边框颜色。面板显示在编辑器区域下方，其中包含输出和集成终端等视图。面板部分是嵌套在面板中的视图。",panelSectionDragAndDropBackground:"拖放面板区域的反馈颜色。颜色应具有透明度，以便面板区域仍可以显示出来。面板显示在编辑器区域的下方，包含输出和集成终端等视图。面板部分是嵌套在面板中的视图。",panelSectionHeaderBackground:"面板区域标题背景色。面板显示在编辑器区域的下方，包含输出和集成终端等视图。面板部分是嵌套在面板中的视图。",panelSectionHeaderBorder:"当多个视图在面板中垂直堆叠时使用的面板区域标题边框颜色。面板显示在编辑器区域下方，其中包含输出和集成终端等视图。面板部分是嵌套在面板中的视图。",panelSectionHeaderForeground:"面板区域标题前景色。面板显示在编辑器区域的下方，包含输出和集成终端等视图。面板部分是嵌套在面板中的视图。",profileBadgeBackground:"配置文件徽章背景色。配置文件徽章显示在活动栏中设置齿轮图标的顶部。",profileBadgeForeground:"配置文件徽章前景颜色。配置文件徽章显示在活动栏中设置齿轮图标的顶部。",sideBarBackground:"侧边栏背景色。侧边栏是资源管理器和搜索等视图的容器。",sideBarBorder:"侧边栏分隔编辑器的边框颜色。侧边栏包含资源管理器、搜索等视图。",sideBarDragAndDropBackground:"侧边栏中的部分在拖放时的反馈颜色。此颜色应有透明度，以便侧边栏中的部分仍能透过。侧边栏是资源管理器和搜索等视图的容器。侧边栏部分是嵌套在侧边栏中的视图。",sideBarForeground:"侧边栏前景色。侧边栏是资源管理器和搜索等视图的容器。",sideBarSectionHeaderBackground:"侧边栏部分标题背景色。此侧边栏是资源管理器和搜索等视图的容器。侧边栏部分是在侧边栏中嵌套的视图。",sideBarSectionHeaderBorder:"侧边栏部分标题边界色。侧栏是类似资源管理器和搜索等视图的容器。侧栏部分是在侧栏中嵌套的视图。",sideBarSectionHeaderForeground:"侧边栏部分标题前景色。侧栏是类似资源管理器和搜索等视图的容器。侧栏部分是在侧栏中嵌套的视图。",sideBarTitleForeground:"侧边栏标题前景色。侧边栏是资源管理器和搜索等视图的容器。","sideBySideEditor.horizontalBorder":"在编辑器组中上下并排显示时，用于分隔两个编辑器的颜色。","sideBySideEditor.verticalBorder":"在编辑器组中左右并排显示时，用于区分两个编辑器的颜色。",statusBarBackground:"工作区或文件夹打开时状态栏的背景色。状态栏显示在窗口底部。",statusBarBorder:"状态栏分隔侧边栏和编辑器的边框颜色。状态栏显示在窗口底部。",statusBarErrorItemBackground:"状态栏错误项的背景颜色。错误项比状态栏中的其他条目更醒目以显示错误条件。状态栏显示在窗口底部。",statusBarErrorItemForeground:"状态错误项的前景色。错误项比状态栏中的其他条目更醒目以显示错误条件。状态栏显示在窗口底部。",statusBarFocusBorder:"聚焦于键盘导航时状态栏的边框颜色。状态栏显示在窗口底部。",statusBarForeground:"工作区或文件夹打开时状态栏的前景色。状态栏显示在窗口底部。",statusBarItemActiveBackground:"单击时的状态栏项背景色。状态栏显示在窗口底部。",statusBarItemCompactHoverBackground:"悬停在包含两个悬停的项时的状态栏项背景色。状态栏显示在窗口底部。",statusBarItemFocusBorder:"聚焦于键盘导航时的状态栏项目边框颜色。状态栏显示在窗口底部。",statusBarItemHostBackground:"状态栏上远程指示器的背景色。",statusBarItemHostForeground:"状态栏上远程指示器的前景色。",statusBarItemHoverBackground:"悬停时的状态栏项背景色。状态栏显示在窗口底部。",statusBarNoFolderBackground:"没有打开文件夹时状态栏的背景色。状态栏显示在窗口底部。",statusBarNoFolderBorder:"当没有打开文件夹时，用来使状态栏与侧边栏、编辑器分隔的状态栏边框颜色。状态栏显示在窗口底部。",statusBarNoFolderForeground:"没有打开文件夹时状态栏的前景色。状态栏显示在窗口底部。",statusBarProminentItemBackground:"状态栏突出显示项的背景颜色。突出显示项比状态栏中的其他条目更醒目以表明其重要性。在命令面板中更改“切换 Tab 键是否移动焦点”可查看示例。状态栏显示在窗口底部。",statusBarProminentItemForeground:'状态栏突出的项目前景色。突出的项目从其他状态栏条目中脱颖而出, 以表明重要性。从命令调色板中更改 "切换选项卡键移动焦点" 的模式以查看示例。状态栏显示在窗口的底部。',statusBarProminentItemHoverBackground:"状态栏突出显示项在被悬停时的背景颜色。突出显示项比状态栏中的其他条目更醒目以表明其重要性。在命令面板中更改“切换 Tab 键是否移动焦点”可查看示例。状态栏显示在窗口底部。",statusBarWarningItemBackground:"状态栏警告项的背景颜色。警告项比状态栏中的其他条目更醒目以显示警告条件。状态栏显示在窗口底部。",statusBarWarningItemForeground:"状态错误项的前景色。错误项比状态栏中的其他条目更醒目以显示错误条件。状态栏显示在窗口底部。",tabActiveBackground:"活动选项卡的背景色。在编辑器区域，选项卡是编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabActiveBorder:"活动选项卡底部的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",tabActiveBorderTop:"活动选项卡顶部的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",tabActiveForeground:"活动组中活动选项卡的前景色。在编辑器区域，选项卡是编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabActiveModifiedBorder:"活动组中已修改的活动选项卡顶部的边框。选项卡是编辑器区域中编辑器的容器。可以在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabActiveUnfocusedBorder:"在失去焦点的编辑器组中的活动选项卡底部的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",tabActiveUnfocusedBorderTop:"在失去焦点的编辑器组中的活动选项卡顶部的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",tabBorder:"用于将选项卡彼此分隔开的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",tabHoverBackground:"选项卡被悬停时的背景色。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabHoverBorder:"选项卡被悬停时用于突出显示的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabHoverForeground:"悬停时选项卡的前景色。选项卡是编辑器区域中的编辑器的容器。可在一个编辑器组中打开多个选项卡。可存在多个编辑器组。",tabInactiveBackground:"非活动选项卡的背景色。在编辑器区域，选项卡是编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabInactiveForeground:"活动组中非活动选项卡的前景色。在编辑器区域，选项卡是编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabInactiveModifiedBorder:"活动组中已修改的非活动选项卡顶部的边框。选项卡是编辑器区域中编辑器的容器。可以在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabUnfocusedActiveBackground:"非焦点组中的活动选项卡背景色。选项卡是编辑器区域中编辑器的容器。可以在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabUnfocusedActiveForeground:"一个失去焦点的编辑器组中的活动选项卡的前景色。在编辑器区域，选项卡是编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabUnfocusedHoverBackground:"非焦点组选项卡被悬停时的背景色。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabUnfocusedHoverBorder:"非焦点组选项卡被悬停时用于突出显示的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabUnfocusedHoverForeground:"悬停时不带焦点的组中的选项卡前景色。选项卡是编辑器区域中的编辑器的容器。可在一个编辑器组中打开多个选项卡。可存在多个编辑器组。",tabUnfocusedInactiveBackground:"不带焦点的组中处于非活动状态的选项卡的背景色。选项卡是编辑器区域中的编辑器的容器。可在一个编辑器组中打开多个选项卡。可存在多个编辑器组。",tabUnfocusedInactiveForeground:"在一个失去焦点的组中非活动选项卡的前景色。在编辑器区域，选项卡是编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabsContainerBackground:"启用选项卡时编辑器组标题的背景颜色。编辑器组是编辑器的容器。",tabsContainerBorder:"选项卡启用时编辑器组标题的边框颜色。编辑器组是编辑器的容器。",titleBarActiveBackground:"窗口处于活动状态时的标题栏背景色。",titleBarActiveForeground:"窗口处于活动状态时的标题栏前景色。",titleBarBorder:"标题栏边框颜色。",titleBarInactiveBackground:"窗口处于非活动状态时的标题栏背景色。",titleBarInactiveForeground:"窗口处于非活动状态时的标题栏前景色。",unfocusedActiveModifiedBorder:"未聚焦组中已修改的活动选项卡顶部的边框。选项卡是编辑器区域中编辑器的容器。可以在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",unfocusedINactiveModifiedBorder:"未聚焦组中已修改的非活动选项卡顶部的边框。选项卡是编辑器区域中编辑器的容器。可以在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",windowActiveBorder:"窗口处于活动状态时用于窗口边框的颜色。当使用自定义标题栏时，仅在 macOS 和 Linux 桌面客户端中受支持。",windowInactiveBorder:"窗口处于非活动状态时用于窗口边框的颜色。当使用自定义标题栏时，仅在 macOS 和 Linux 桌面客户端中受支持。"},"vs/workbench/common/views":{defaultViewIcon:"默认视图图标。",duplicateId:"已注册 ID 为“{0}”的视图","treeView.notRegistered":'未注册 ID 为 "{0}" 的树状视图。'},"vs/workbench/electron-sandbox/actions/developerActions":{configureRuntimeArguments:"配置运行时参数",openUserDataFolder:"打开用户数据文件夹",reloadWindowWithExtensionsDisabled:"在禁用扩展的情况下重新加载",toggleDevTools:"切换开发人员工具"},"vs/workbench/electron-sandbox/actions/installActions":{install:"在 PATH 中安装“{0}”命令",shellCommand:"Shell 命令",successFrom:"已成功从 PATH 卸载 Shell 命令“{0}”。",successIn:"已成功在 PATH 中安装了 Shell 命令“{0}”。",uninstall:"从 PATH 中卸载“{0}”命令"},"vs/workbench/electron-sandbox/actions/windowActions":{close:"关闭窗口",closeWindow:"关闭窗口",current:"当前窗口",miCloseWindow:"关闭窗口(&&W)",miZoomIn:"放大(&&Z)",miZoomOut:"缩小(&&Z)",miZoomReset:"重置缩放(&&R)",quickSwitchWindow:"快速切换窗口...",switchWindow:"切换窗口...",switchWindowPlaceHolder:"选择切换的窗口",windowDirtyAriaLabel:"{0}，个具有未保存更改的窗口",zoomIn:"放大",zoomOut:"缩小",zoomReset:"重置缩放"},"vs/workbench/electron-sandbox/desktop.contribution":{"application.shellEnvironmentResolutionTimeout":"控制在应用程序尚未从终端启动时放弃解析 shell 环境之前的超时(以秒为单位)。有关详细信息，请参阅我们的 [文档](https://go.microsoft.com/fwlink/?linkid=2149667)。","argv.crashReporterId":"用于关联从此应用实例发送的崩溃报表的唯一 ID。","argv.disableChromiumSandbox":"禁用 Chromium 沙盒。当在 Linux 上以提升的权限运行 VS Code 并在 Windows 上的 Applocker 下运行时，这很有用。","argv.disableHardwareAcceleration":"禁用硬件加速。仅当遇到图形问题时才更改此选项。","argv.enableCrashReporter":"允许禁用崩溃报告；如果更改了值，则应重启应用。","argv.enebleProposedApi":'为扩展 ID (如 "vscode.git")的列表启用建议的 API。建议的 API 不稳定，可能随时中断且不发出警告。仅应针对扩展开发和测试目的设置该项。',"argv.force-renderer-accessibility":"强制渲染器可访问。仅当在 Linux 上使用屏幕阅读器时才更改此设置。在其他平台上，渲染器将自动可访问。如果已启用 editor.accessibilitySupport:，则会自动设置此标志。","argv.forceColorProfile":'允许替代要使用的颜色配置文件。如果发现颜色显示不佳，请尝试将此设置为 "srgb" 并重启。',"argv.locale":"要使用的显示语言。选取其他语言需要安装关联的语言包。","argv.logLevel":"要使用的日志级别。默认值为 “info”。允许的值为 “error”、“warn”、“info”、“debug”、“trace” 和 “off”。",closeWhenEmpty:"控制在关闭最后一个编辑器时是否关闭整个窗口。此设置仅适用于没有显示文件夹的窗口。",dialogStyle:"调整对话框窗口的外观。",enableCrashReporterDeprecated:"如果此设置为 false，则无论新设置的值如何，都不会发送遥测数据。由于合并到 {0} 设置，目前已弃用。",keyboardConfigurationTitle:"键盘",mergeAllWindowTabs:"合并所有窗口",miExit:"退出(&&X)",moveWindowTabToNewWindow:"将窗口选项卡移动到新窗口",newTab:"新建窗口标签页",newWindowDimensions:"控制在已有窗口时新开窗口的尺寸。请注意，此设置对第一个打开的窗口无效。第一个窗口将始终恢复关闭前的大小和位置。",openWithoutArgumentsInNewWindow:"在另一实例无参启动时，控制是打开新的空窗口或是聚焦到最后运行的实例。\r\n注意，此设置可能会被忽略 (例如，在使用 `--new-window` 或 `--reuse-window` 命令行选项时)。",restoreFullscreen:"若窗口在处于全屏模式时退出，控制其在恢复时是否还原到全屏模式。",restoreWindows:"控制在第一次启动后窗口重新打开的方式。如果应用程序已在运行，则此设置不起任何作用。",showNextWindowTab:"显示下一个窗口选项卡",showPreviousTab:"显示上一个窗口选项卡","telemetry.enableCrashReporting":`启用要收集的崩溃报告。这有助于我们提高稳定性。\r
此选项需重启才可生效。`,telemetryConfigurationTitle:"遥测",titleBarStyle:"调整窗口标题栏的外观。在 Linux 和 Windows 上，此设置也会影响应用程序和上下文菜单的外观。更改需要完全重新启动才能应用。",toggleWindowTabsBar:"切换窗口选项卡栏","touchbar.enabled":"启用键盘上的 macOS 触控栏按钮 (若可用)。","touchbar.ignored":'触摸栏中不应显示的条目的一组标识符(例如 "workbench.action.navigateBack")。',"window.clickThroughInactive":"启用后，点击非活动窗口后将在激活窗口的同时触发光标之下的元素 (若可点击)。禁用后，点击非活动窗口仅能激活窗口，再次点击才能触发元素。","window.doubleClickIconToClose":"如果启用，当双击标题栏中的应用程序图标时，此设置将关闭窗口。该窗口将无法使用图标拖动。仅当 `#window.titleBarStyle#` 设置为 `自定义` 时，此设置才有效。","window.nativeFullScreen":"控制是否在 macOS 上使用原生全屏。禁用此设置可禁止 macOS 在全屏时创建新空间。","window.nativeTabs":"启用 macOS Sierra 窗口选项卡。请注意，更改在完全重新启动程序后才能生效。同时，开启原生选项卡将禁用自定义标题栏样式。","window.newWindowDimensions.default":"在屏幕中心打开新窗口。","window.newWindowDimensions.fullscreen":"在全屏模式下打开新窗口。","window.newWindowDimensions.inherit":"以与上一个活动窗口相同的尺寸打开新窗口。","window.newWindowDimensions.maximized":"打开最大化的新窗口。","window.newWindowDimensions.offset":"打开与上次活动窗口具有相同尺寸的新窗口，并带有偏移位置。","window.openWithoutArgumentsInNewWindow.off":"聚焦到上一活动的运行实例。","window.openWithoutArgumentsInNewWindow.on":"打开一个新的空窗口。","window.reopenFolders.all":"重新打开所有窗口，除非已打开文件夹、工作区或文件(例如从命令行)。","window.reopenFolders.folders":"重新打开已打开文件夹或工作区的所有窗口，除非已打开文件夹、工作区或文件(例如从命令行)。","window.reopenFolders.none":"从不重新打开窗口。如果文件夹或工作区未打开(例如从命令行)，将出现一个空窗口。","window.reopenFolders.one":"重新打开上一个活动窗口，除非已打开文件夹、工作区或文件(例如从命令行)。","window.reopenFolders.preserve":"始终重新打开所有窗口。如果打开文件夹或工作区(例如从命令行打开)，它将作为新窗口打开，除非它之前已打开。如果打开文件，则这些文件将在其中一个已还原的窗口中打开。",windowConfigurationTitle:"窗口",windowControlsOverlay:"使用平台提供的窗口控件，而不是基于 HTML 的窗口控件。需要完全重启才能应用更改。",zoomLevel:"调整窗口的缩放级别。原始大小是 0，每次递增(例如 1)或递减(例如 -1)表示放大或缩小 20%。也可以输入小数以便以更精细的粒度调整缩放级别。"},"vs/workbench/electron-sandbox/desktop.main":{"join.closeStorage":"正在保存 UI 状态"},"vs/workbench/electron-sandbox/parts/dialogs/dialogHandler":{aboutDetail:`版本: {0}\r
提交: {1}\r
日期: {2}\r
电子: {3}\r
ElectronBuildId: {4}\r
Chromium: {5}\r
Node.js: {6}\r
V8: {7}\r
OS: {8}`,copy:"复制(&&C)",okButton:"确定"},"vs/workbench/electron-sandbox/window":{"appRootWarning.banner":"在更新时，存储在安装文件夹(“{0}”)中的文件可能会被覆盖或删除(不可撤销)，而不会发出警告。",closeWindowButtonLabel:"关闭窗口(&&C)",closeWindowMessage:"是否确实要关闭窗口?",configure:"配置",doNotAskAgain:"不再询问",downloadArmBuild:"下载",exitButtonLabel:"退出(&&E)",keychainWriteError:"将登录信息写入密钥链失败，出现错误“{0}”。",learnMore:"了解详细信息",loaderCycle:"AMD 模块中存在一个依赖项循环需要解决!",loginButton:"登录(&&L)",macoseolBannerLearnMore:"了解详细信息",macoseolarialabel:"{0}。使用导航键访问横幅操作。",macoseolmessage:"{1} 上的 {0} 将很快停止接收更新。请考虑升级 macOS 版本。",password:"密码",proxyAuthRequired:"需要代理身份验证",proxyDetail:"代理 {0} 需要用户名和密码。",quitButtonLabel:"退出(&&Q)",quitMessage:"是否确实要退出?",quitMessageMac:"是否确实要退出?",rememberCredentials:"记住我的凭据",resolveShellEnvironment:"正在解析 shell 环境...",restart:"重启",runningAsRoot:"不建议以 root 用户身份运行 {0}。",runningTranslated:"你正在运行 {0} 的仿真版本。为了获得更好的性能，请下载适用于计算机的本机 arm64 版本的 {0} 内部版本。",shutdownErrorClose:"意外错误导致无法关闭窗口",shutdownErrorDetail:"错误: {0}",shutdownErrorLoad:"意外错误导致无法更改工作区",shutdownErrorQuit:"意外错误导致无法退出应用程序",shutdownErrorReload:"意外错误导致无法重新加载窗口",shutdownForceClose:"仍然关闭",shutdownForceLoad:"仍然更改",shutdownForceQuit:"仍然退出",shutdownForceReload:"仍然重新加载",shutdownTitleClose:"关闭窗口需要的时间较长...",shutdownTitleLoad:"更改工作区需要的时间较长...",shutdownTitleQuit:"退出应用程序需要的时间较长...",shutdownTitleReload:"重新加载窗口需要的时间较长...",troubleshooting:"故障排除指南",username:"用户名",willShutdownDetail:`以下操作仍在运行: \r
{0}`,windowseolBannerLearnMore:"了解详细信息",windowseolarialabel:"{0}。使用导航键访问横幅操作。",windowseolmessage:"{1} 上的 {0} 将很快停止接收更新。请考虑升级 Windows 版本。"},"vs/workbench/contrib/accessibility/browser/accessibility.contribution":{"editor-help":"编辑器辅助功能帮助",hoverAccessibleView:"悬停辅助视图",notification:"通知辅助视图","notification.accessibleView":"{0} 源: {1}"},"vs/workbench/contrib/accessibility/browser/accessibilityContribution":{accessibilityConfigurationTitle:"辅助功能","editor.action.accessibilityHelp":"打开辅助功能帮助","editor.action.accessibleView":"打开辅助视图","editor.action.accessibleViewNext":"在辅助视图中显示下一个","editor.action.accessibleViewPrevious":"在辅助视图中显示上一个","verbosity.chat.description":"提供有关将焦点放在聊天输入上时如何访问聊天帮助菜单的信息","verbosity.diffEditor.description":"提供有关如何在差异编辑器聚焦时在差异编辑器中导航更改的信息","verbosity.hover":"提供有关如何在辅助视图中打开悬停的信息。","verbosity.interactiveEditor.description":"提供有关如何访问内联编辑器聊天辅助功能帮助菜单的信息，并提供如何在焦点显示输入时使用该功能的提示","verbosity.keybindingsEditor.description":"提供有关当焦点在行上时如何在键绑定编辑器中更改键绑定的信息","verbosity.notebook":"提供有关在笔记本单元格聚焦时如何聚焦单元格容器或内部编辑器的信息。","verbosity.notification":"提供有关如何在辅助视图中打开通知的信息。","verbosity.terminal.description":"提供有关在终端处于焦点时如何访问终端辅助功能帮助菜单的信息"},"vs/workbench/contrib/accessibility/browser/accessibleView":{accessibleViewAriaLabel:"{0}",accessibleViewAriaLabelWithNav:"{0} {1}",chatAccessibleViewHint:"在辅助视图中用 {0} 检查此项",chatAccessibleViewHintNoKb:"通过命令“打开辅助视图”在辅助视图中检查此项，该命令当前无法通过键绑定触发",chatAccessibleViewNextPreviousHint:"在辅助视图中显示下一个 {0} 或上一个 {1} 项",chatAccessibleViewNextPreviousHintNoKb:"通过配置“在辅助视图中显示下一个/上一个”的键绑定，在辅助视图中显示上一个或下一个项","disable-help-hint":"\r\n若要禁用此功能的 `accessibility.verbosity` 提示，请立即按 D。\r\n",disableAccessibilityHelp:"{0} 辅助功能详细程度现已禁用","exit-tip":"通过 Esc 键退出此菜单。",openDoc:`\r
现在按 H 打开一个浏览器窗口, 其中包含有关辅助功能的详细信息。\r
`},"vs/workbench/contrib/audioCues/browser/audioCues.contribution":{"audioCues.chatRequestSent":"发出聊天请求时播放声音。","audioCues.chatResponsePending":"在响应挂起时循环播放声音。","audioCues.chatResponseReceived":"在收到响应时循环播放声音。","audioCues.debouncePositionChanges":"是否应停用位置更改","audioCues.diffLineDeleted":"Plays a sound when the focus moves to a deleted line in accessible diff viewer mode or to the next/previous change","audioCues.diffLineInserted":"Plays a sound when the focus moves to an inserted line in accessible diff viewer mode or to the next/previous change","audioCues.diffLineModified":"Plays a sound when the focus moves to a modified line in accessible diff viewer mode or to the next/previous change","audioCues.enabled.auto":"附加屏幕阅读器时，启用音频提示。","audioCues.enabled.off":"禁用音频提示。","audioCues.enabled.on":"启用音频提示。","audioCues.lineHasBreakpoint":"当有效行具有断点时播放声音。","audioCues.lineHasError":"当有效行出现错误时播放声音。","audioCues.lineHasFoldedArea":"当有效行具有可展开的折叠区域时播放声音。","audioCues.lineHasInlineSuggestion":"当有效行具有内联建议时播放声音。","audioCues.lineHasWarning":"当有效行出现警告时播放声音。","audioCues.noInlayHints":"尝试读取包含无内嵌提示的内嵌提示的行时播放声音。","audioCues.notebookCellCompleted":"在成功完成笔记本单元格执行时播放声音。","audioCues.notebookCellFailed":"在笔记本单元格执行失败时播放声音。","audioCues.onDebugBreak":"当调试程序在断点上停止时播放声音。","audioCues.taskCompleted":"任务完成时播放声音。","audioCues.taskFailed":"任务失败时播放声音(非零退出代码)。","audioCues.terminalCommandFailed":"当终端命令失败时播放声音(非零退出代码)。","audioCues.terminalQuickFix":"当终端快速修复可用时播放声音。","audioCues.volume":"音频提示音量百分比(0-100)。"},"vs/workbench/contrib/audioCues/browser/commands":{"audioCues.help":"帮助: 列出音频提示","audioCues.help.placeholder":"选择要播放的音频提示","audioCues.help.settings":"启用/禁用音频提示",disabled:"已禁用"},"vs/workbench/contrib/bulkEdit/browser/bulkEditService":{"areYouSureQuiteBulkEdit.detail":"{0} 正在进行。",changeWorkspace:"更改工作区(&&W)","changeWorkspace.message":"是否确实要更改工作区?",closeTheWindow:"关闭窗口(&&C)","closeTheWindow.message":"是否确实要关闭窗口?",fileOperation:"文件操作",nothing:"未做编辑",quit:"退出(&&Q)","quit.message":"是否确实要退出?","refactoring.autoSave":"控制是否自动保存作为重构一部分的文件",reloadTheWindow:"重新加载窗口(&&R)","reloadTheWindow.message":"是否确实要重新加载窗口?","summary.0":"未做编辑","summary.n0":"在 1 个文件中进行了 {0} 次编辑","summary.nm":"在 {1} 个文件中进行了 {0} 次编辑","summary.textFiles":"已在 {1} 文件中执行 {0} 文本编辑，且已创建或删除{2} 文件",workspaceEdit:"工作区编辑"},"vs/workbench/contrib/bulkEdit/browser/preview/bulkEdit.contribution":{Discard:"放弃重构",apply:"应用重构",cat:"重构预览",continue:"继续(&&C)",detail:'按"继续"放弃以前的重构，继续当前重构。',groupByFile:"按文件分组更改",groupByType:"按类型分组更改",overlap:"正在预览另一个重构。",panel:"重构预览",refactorPreviewViewIcon:"查看重构预览视图的图标。",toogleSelection:"切换更改"},"vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPane":{cancel:"放弃","conflict.1":"无法应用重构，因为“{0}”在此期间进行了修改。","conflict.N":"无法应用重构，因为其他 {0} 个文件在此期间进行了修改。",create:"创建","edt.title.1":"{0}(重构预览)","edt.title.2":"{0}({1}、重构预览)","edt.title.del":"{0}(删除、重构预览)","empty.msg":"调用代码操作(如重命名操作)，在此处查看其更改的预览。",ok:"应用",rename:"重命名"},"vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPreview":{default:"其他"},"vs/workbench/contrib/bulkEdit/browser/preview/bulkEditTree":{"aria.create":"创建{0}","aria.createAndEdit":"创建{0}，同时进行文本编辑","aria.del":"行 {0}，正在删除 {1}","aria.delete":"删除 {0}","aria.deleteAndEdit":"正在删除 {0}，同时进行文本编辑","aria.editOnly":"{0}，进行文本编辑","aria.insert":"行{0}，插入{1}","aria.rename":"将 {0} 重命名为 {1}","aria.renameAndEdit":"将{0}重命名为{1}，同时进行文本编辑","aria.replace":"行{0}，用{2}替换{1}",bulkEdit:"批量编辑","detail.create":"(正在创建)","detail.del":"(删除)","detail.rename":"(重命名)","rename.label":"{0} → {1}",title:"{0} - {1}"},"vs/workbench/contrib/callHierarchy/browser/callHierarchy.contribution":{callHierarchyDirection:"调用层次结构是否显示传入或传出的调用",callHierarchyVisible:"当前是否正在显示调用层次结构预览",close:"关闭",editorHasCallHierarchyProvider:"调用层次结构提供程序是否可用",error:"未能显示调用层次结构","no.item":"无结果",showIncomingCallsIcons:"“调用层次结构”视图中传入调用的图标。",showOutgoingCallsIcon:"“调用层次结构”视图中传出调用的图标。",title:"速览调用层次结构","title.incoming":"显示来电","title.outgoing":"显示去电","title.refocus":"重新聚焦调用层次结构"},"vs/workbench/contrib/callHierarchy/browser/callHierarchyPeek":{callFrom:'来自"{0}"的调用',callsTo:'"{0}"的调用方',"empt.callsFrom":'没有来自 "{0}" 的调用',"empt.callsTo":'没有"{0}"的调用方',"title.loading":"正在加载..."},"vs/workbench/contrib/callHierarchy/browser/callHierarchyTree":{from:"来自 {0} 的调用",to:"{0} 的调用方","tree.aria":"调用层次结构"},"vs/workbench/contrib/chat/browser/actions/chatAccessibilityHelp":{"chat-help-label":"聊天辅助功能帮助","chat.announcement":"聊天答复将在他们进入时公布。答复将指示代码块的数量(如果有)，然后指示响应的其余部分。","chat.audioCues":"可通过具有 audioCues.chat 前缀的设置更改音频提示。默认情况下，如果请求超过 4 秒，你将听到一个音频提示，指示仍在进行中。","chat.inspectResponse":"In the input box, inspect the last response in the accessible view via {0}","chat.inspectResponseNoKb":"With the input box focused, inspect the last response in the accessible view via the Open Accessible View command, which is currently not triggerable by a keybinding.","chat.overview":"聊天视图由输入框和请求/响应列表组成。输入框用于发出请求，列表用于显示响应。","chat.requestHistory":"在输入框中，使用向上和向下箭头导航请求历史记录。编辑输入并使用 Enter 或提交按钮运行新请求。","inline-chat-label":"内联聊天辅助功能帮助","inlineChat.access":"可通过代码操作激活，也可直接使用“内联聊天: 启动代码聊天”命令({0})激活。","inlineChat.contextActions":"弹出菜单操作可以运行前缀为 /. Type / 的请求，以发现此类现成命令。","inlineChat.diff":"进入差异编辑器后，使用({0})进入评审模式。使用向上和向下箭头导航包含建议的更改的行。","inlineChat.diffNoKb":"再次点击选项卡进入具有更改的差异编辑器，并使用“转到下一个差异”命令进入审阅模式。使用向上/向下箭头浏览具有建议更改的行。","inlineChat.fix":"如果调用了修复操作，则响应将指示当前代码的问题。将呈现差异编辑器，并且可以使用 Tab 键访问该编辑器。","inlineChat.inspectResponse":"In the input box, inspect the response in the accessible view via {0}","inlineChat.inspectResponseNoKb":"With the input box focused, inspect the response in the accessible view via the Open Accessible View command, which is currently not triggerable by a keybinding.","inlineChat.overview":"内联聊天发生在代码编辑器中，并考虑到当前所选内容。对当前编辑器进行更改很有用。例如，修复诊断、文档或重构代码。请注意，AI 生成的代码可能不正确。","inlineChat.requestHistory":"在输入框中，使用 {0} 和 {1} 导航请求历史记录。编辑输入并使用 Enter 或“提交”按钮来运行新请求。","inlineChat.toolbar":"使用选项卡访问命令、状态、消息响应等条件部分。","workbench.action.chat.clear":"若要清除请求/响应列表，请调用“聊天清除”命令({0})。","workbench.action.chat.clearNoKb":"若要清除请求/响应列表，请调用“聊天清除”命令；当前无法通过键绑定触发此命令。","workbench.action.chat.focus":"若要将焦点放在聊天请求/响应列表上(可使用向上和向下箭头进行导航)，请调用“将焦点放在聊天上”命令({0})。","workbench.action.chat.focusInput":"若要将焦点放在聊天请求的输入框上，请调用“将焦点放在聊天输入上”命令({0})","workbench.action.chat.focusNoKb":"若要将焦点放在聊天请求/响应列表上(可使用向上和向下箭头进行导航)，请调用“将焦点放在聊天列表上”命令；当前无法通过键绑定触发此命令。","workbench.action.chat.nextCodeBlock":"若要将焦点放在响应中的下一个代码块上，请调用“聊天: 下一个代码块”命令({0})。","workbench.action.chat.nextCodeBlockNoKb":"若要将焦点放在响应中的下一个代码块上，请调用“聊天: 下一个代码块”命令；当前无法通过键绑定触发此命令。","workbench.action.interactiveSession.focusInputNoKb":"若要将焦点放在聊天请求的输入框上，请调用“将焦点放在聊天输入上”命令；当前无法通过键绑定触发此命令。"},"vs/workbench/contrib/chat/browser/actions/chatActions":{"actions.chat.acceptInput":"接受聊天输入","actions.interactiveSession.focus":"焦点聊天列表","chat.category":"聊天","interactiveSession.clearHistory.label":"清除输入历史记录","interactiveSession.focusInput.label":"焦点聊天输入","interactiveSession.history.delete":"删除","interactiveSession.history.label":"显示历史记录","interactiveSession.history.pick":"选择要还原的聊天会话","interactiveSession.open":"打开编辑器({0})"},"vs/workbench/contrib/chat/browser/actions/chatClearActions":{"interactiveSession.clear.label":"清除"},"vs/workbench/contrib/chat/browser/actions/chatCodeblockActions":{"interactive.copyCodeBlock.label":"复制","interactive.insertCodeBlock.label":"在光标处插入","interactive.insertIntoNewFile.label":"插入到新文件中","interactive.nextCodeBlock.label":"下一个代码块","interactive.previousCodeBlock.label":"上一个代码块","interactive.runInTerminal.label":"在终端中运行"},"vs/workbench/contrib/chat/browser/actions/chatCopyActions":{"interactive.copyAll.label":"全部复制","interactive.copyItem.label":"复制"},"vs/workbench/contrib/chat/browser/actions/chatExecuteActions":{"interactive.cancel.label":"取消","interactive.submit.label":"提交"},"vs/workbench/contrib/chat/browser/actions/chatImportExport":{"chat.export.label":"导出会话","chat.file.label":"聊天会话","chat.import.label":"导入会话"},"vs/workbench/contrib/chat/browser/actions/chatMoveActions":{"chat.openInEditor.label":"在编辑器中打开会话","interactiveSession.openInEditor.label":"在编辑器中打开会话","interactiveSession.openInSidebar.label":"在边栏中打开会话"},"vs/workbench/contrib/chat/browser/actions/chatTitleActions":{"chat.remove.label":"移除请求和响应","interactive.helpful.label":"有用","interactive.insertIntoNotebook.label":"插入笔记本","interactive.unhelpful.label":"无用"},"vs/workbench/contrib/chat/browser/actions/quickQuestionActions/multipleByScrollQuickQuestionAction":{clear:"清除",openInChat:"在聊天视图中打开"},"vs/workbench/contrib/chat/browser/actions/quickQuestionActions/quickQuestionAction":{chat:"聊天"},"vs/workbench/contrib/chat/browser/actions/quickQuestionActions/singleQuickQuestionAction":{askabot:"向 {0} 提问"},"vs/workbench/contrib/chat/browser/chat.contribution":{chat:"聊天",chatAccessibleView:"聊天辅助视图","interactiveSession.defaultMode":"控制聊天体验的默认模式。","interactiveSession.defaultMode.both":"Displays the chat icon in the Activity Bar and the Title Bar which open their respective chat modes.","interactiveSession.defaultMode.chatView":"Use the chat view as the default mode. Displays the chat icon in the Activity Bar.","interactiveSession.defaultMode.quickQuestion":"Use the quick question as the default mode. Displays the chat icon in the Title Bar.","interactiveSession.editor.fontFamily":"控制聊天代码块中的字体系列。","interactiveSession.editor.fontSize":"控制聊天代码块中的字号(以像素为单位)。","interactiveSession.editor.fontWeight":"控制聊天代码块中的字体粗细。","interactiveSession.editor.lineHeight":"聊天代码块中的行高(以像素为单位)。使用 0 可根据字号计算行高。","interactiveSession.editor.wordWrap":"控制行是否应整合在聊天代码块中。","interactiveSession.quickQuestion.mode":"控制快速提问聊天体验的模式。",interactiveSessionConfigurationTitle:"聊天"},"vs/workbench/contrib/chat/browser/chatContributionServiceImpl":{"chat.viewContainer.label":"聊天","vscode.extension.contributes.interactiveSession":"为交互式会话提供程序做出贡献","vscode.extension.contributes.interactiveSession.icon":"此交互式会话提供程序的图标。","vscode.extension.contributes.interactiveSession.id":"此交互式会话提供程序的唯一标识符。","vscode.extension.contributes.interactiveSession.label":"此交互式会话提供程序的显示名称。","vscode.extension.contributes.interactiveSession.when":"条件必须为 true 才能启用此交互式会话提供程序。"},"vs/workbench/contrib/chat/browser/chatEditorInput":{chatEditorName:"聊天"},"vs/workbench/contrib/chat/browser/chatInputPart":{"actions.chat.accessibiltyHelp":"聊天输入，键入内容进行提问或者键入 / 来查找主题，按 Enter 可发送请求。使用 {0} 查看聊天辅助功能帮助。",chatInput:"聊天输入","chatInput.accessibilityHelpNoKb":"聊天输入，在此处键入代码，然后按 Enter 运行。有关详细信息，请使用“聊天辅助功能帮助”命令。"},"vs/workbench/contrib/chat/browser/chatListRenderer":{chat:"聊天","chat.codeBlock.toolbar":"代码块工具栏","chat.codeBlock.toolbarVerbose":"可通过选项卡访问的代码块的工具栏","chat.codeBlockHelp":"代码块","chat.codeBlockLabel":"代码块 {0}",multiCodeBlock:"{0} 个代码块",multiCodeBlockHint:"{0} 个代码块: {1}",noCodeBlocks:"{0}",noCodeBlocksHint:"{0} {1}",singleCodeBlock:"1 个代码块: {0}",singleCodeBlockHint:"1 个代码块: {0} {1}"},"vs/workbench/contrib/chat/browser/chatSlashCommandContentWidget":{"exited slash command mode":"已退出 {0} 模式"},"vs/workbench/contrib/chat/browser/chatWidget":{clear:"清除会话"},"vs/workbench/contrib/chat/browser/contrib/chatInputEditorContrib":{"interactive.input.placeholderNoCommands":"提问","interactive.input.placeholderWithCommands":'提问或键入主题的 "/"'},"vs/workbench/contrib/chat/common/chatColors":{"chat.requestBackground":"聊天请求的背景色。","chat.requestBorder":"聊天请求的边框颜色。"},"vs/workbench/contrib/chat/common/chatContextKeys":{chatRequest:"聊天项是一个请求",chatResponse:"聊天项是一个响应。",hasChatProvider:"注册某些聊天提供程序时为 True。",inChat:"当焦点位于聊天小组件中时为 true，否则为 false。",inInteractiveInput:"当焦点位于聊天输入中时为 true，否则为 false。",interactiveInputHasText:"如果聊天输入包含文本，则为 True。",interactiveSessionRequestInProgress:"当前请求仍在进行时为 True。",interactiveSessionResponseHasProviderId:"当提供程序已向此响应分配 ID 时为 True。",interactiveSessionResponseVote:'对响应投赞成票后，其设置为 "up"。投反对票时，设置为 "down"。否则为空字符串。'},"vs/workbench/contrib/chat/common/chatServiceImpl":{emptyResponse:"提供程序返回了 null 响应"},"vs/workbench/contrib/chat/common/chatViewModel":{thinking:"思考中"},"vs/workbench/contrib/codeActions/browser/codeActionsContribution":{codeActionsOnSave:"要在保存时运行的代码操作种类。","codeActionsOnSave.fixAll":"控制是否应在文件保存时运行自动修复操作。","codeActionsOnSave.generic":'控制是否应在文件保存时运行"{0}"操作。'},"vs/workbench/contrib/codeActions/common/codeActionsExtensionPoint":{"contributes.codeActions":"配置资源要使用的编辑器。","contributes.codeActions.description":"代码操作的说明。","contributes.codeActions.kind":'贡献代码操作的"代码操作种类"。',"contributes.codeActions.languages":"启用代码操作的语言模式。","contributes.codeActions.title":"UI 中使用的代码操作的标签。"},"vs/workbench/contrib/codeActions/common/documentationExtensionPoint":{"contributes.documentation":"贡献的文档。","contributes.documentation.refactoring":"为重构提供了文档。","contributes.documentation.refactoring.command":"命令已执行。","contributes.documentation.refactoring.title":"UI 中使用的文档的标签。","contributes.documentation.refactoring.when":"当子句。","contributes.documentation.refactorings":"为重构提供了文档。"},"vs/workbench/contrib/codeEditor/browser/accessibility/accessibility":{toggleScreenReaderMode:"切换屏幕阅读器辅助功能模式"},"vs/workbench/contrib/codeEditor/browser/diffEditorHelper":{"chat-help-label":"差异编辑器辅助功能帮助",hintTimeout:"差异算法已提前停止(在 {0} ms 之后)",hintWhitespace:"显示空白差异",msg1:"在一个差异编辑器的窗格中。",msg2:"按 {0} 或 {1}，可在审阅模式下查看下一个或上一个差异，该模式为屏幕阅读器进行优化。",msg3:"若要控制应播放哪些音频提示，可以配置以下设置: {0}。",removeTimeout:"删除限制"},"vs/workbench/contrib/codeEditor/browser/find/simpleFindWidget":{ariaSearchNoInput:"输入搜索输入",ariaSearchNoResult:"为“{1}”找到 {0}",ariaSearchNoResultEmpty:"已找到 {0}",ariaSearchNoResultWithLineNumNoCurrentMatch:"为“{1}”找到 {0}","label.closeButton":"关闭","label.find":"查找","label.nextMatchButton":"下一个匹配项","label.previousMatchButton":"上一个匹配项","placeholder.find":"查找(⇅ 历史记录)"},"vs/workbench/contrib/codeEditor/browser/inspectEditorTokens/inspectEditorTokens":{inspectEditorTokens:"开发人员: 检查编辑器标记和作用域","inspectTMScopesWidget.loading":"正在加载..."},"vs/workbench/contrib/codeEditor/browser/inspectKeybindings":{"workbench.action.inspectKeyMap":"检查密钥映射","workbench.action.inspectKeyMapJSON":"检查按键映射(JSON)"},"vs/workbench/contrib/codeEditor/browser/languageConfigurationExtensionPoint":{formatError:"{0}: 格式无效，应为 JSON 对象。",parseErrors:"错误分析 {0}: {1}","schema.autoCloseBefore":'在自动闭合设置为 "languageDefined" 时，定义使括号或引号自动闭合的光标后面的字符。通常是不会成为表达式开头的一组字符。',"schema.autoClosingPairs":"定义括号对。当输入左方括号时，将自动插入右方括号。","schema.autoClosingPairs.notIn":"定义禁用了自动配对的作用域列表。","schema.blockComment.begin":"作为块注释开头的字符序列。","schema.blockComment.end":"作为块注释结尾的字符序列。","schema.blockComments":"定义块注释的标记方式。","schema.brackets":"定义增加或减少缩进的括号符号。当方括号对着色已启用且未定义{0}时，这还将定义按其嵌套级别着色的括号对。","schema.closeBracket":"右方括号字符或字符串序列。","schema.colorizedBracketPairs":"定义在启用括号对着色时由其嵌套级别着色的括号对。此处包含的任何不包含在{0}中的括号都将自动包含在{0}中。","schema.comments":"定义注释符号","schema.folding":"此语言的折叠设置。","schema.folding.markers":'语言特定的折叠标记。例如，"#region" 与 "#endregion"。开始与结束标记的正则表达式需设计得效率高，因其将对每一行的内容进行测试。',"schema.folding.markers.end":'结束标记的正则表达式模式。其应以 "^" 开始。',"schema.folding.markers.start":'开始标记的正则表达式模式。其应以 "^" 开始。',"schema.folding.offSide":"若一种语言使用缩进表示其代码块，它将遵循越位规则 (off-side rule)。若设置此项，空白行将属于其之后的代码块。","schema.indentationRules":"语言的缩进设置。","schema.indentationRules.decreaseIndentPattern":"如果某行文本匹配此模式，则其后所有行都应被取消缩进一次 (直到匹配其他规则)。","schema.indentationRules.decreaseIndentPattern.errorMessage":"必须匹配模式“/^([gimuy]+)$/”。","schema.indentationRules.decreaseIndentPattern.flags":"decreaseIndentPattern 的正则表达式标志。","schema.indentationRules.decreaseIndentPattern.pattern":"decreaseIndentPattern 的正则表达式模式。","schema.indentationRules.increaseIndentPattern":"如果一行文本匹配此模式，则之后所有内容都应被缩进一次(直到匹配其他规则)。","schema.indentationRules.increaseIndentPattern.errorMessage":"必须匹配模式“/^([gimuy]+)$/”。","schema.indentationRules.increaseIndentPattern.flags":"increaseIndentPattern 的正则表达式标志。","schema.indentationRules.increaseIndentPattern.pattern":"increaseIndentPattern 的正则表达式模式。","schema.indentationRules.indentNextLinePattern":"如果某一行匹配此模式，那么仅此行之后的**下一行**应缩进一次。","schema.indentationRules.indentNextLinePattern.errorMessage":"必须匹配模式“/^([gimuy]+)$/”。","schema.indentationRules.indentNextLinePattern.flags":"indentNextLinePattern 的正则表达式标志。","schema.indentationRules.indentNextLinePattern.pattern":"indentNextLinePattern 的正则表达式模式。","schema.indentationRules.unIndentedLinePattern":"如果某一行匹配此模式，那么不应更改此行的缩进，且不应针对其他规则对其进行计算。","schema.indentationRules.unIndentedLinePattern.errorMessage":"必须匹配模式“/^([gimuy]+)$/”。","schema.indentationRules.unIndentedLinePattern.flags":"unIndentedLinePattern 的正则表达式标志。","schema.indentationRules.unIndentedLinePattern.pattern":"unIndentedLinePattern 的正则表达式模式。","schema.lineComment":"作为行注释开头的字符序列。","schema.onEnterRules":"按 Enter 时要评估的语言规则。","schema.onEnterRules.action":"要执行的操作。","schema.onEnterRules.action.appendText":"描述要追加到新行后和缩进后的文本。","schema.onEnterRules.action.indent":"描述如何处理缩进","schema.onEnterRules.action.indent.indent":"(相对于上一行的缩进)插入一次新行和缩进。","schema.onEnterRules.action.indent.indentOutdent":`插入两个新行: \r
 - 第一行缩进并将包含游标\r
 - 第二行在同一缩进级别`,"schema.onEnterRules.action.indent.none":"插入新行并复制上一行的缩进。","schema.onEnterRules.action.indent.outdent":"(相对于上一行的缩进)插入一次新行和凸排。","schema.onEnterRules.action.removeText":"描述要从新行的缩进中移除的字符数。","schema.onEnterRules.afterText":"只有游标后的文本匹配此正则表达式时才会执行此规则。","schema.onEnterRules.afterText.errorMessage":"必须匹配模式“/^([gimuy]+)$/”。","schema.onEnterRules.afterText.flags":"afterText 的正则表达式标志。","schema.onEnterRules.afterText.pattern":"afterText 的正则表达式模式。","schema.onEnterRules.beforeText":"只有游标前的文本匹配此正则表达式时才会执行此规则。","schema.onEnterRules.beforeText.errorMessage":"必须匹配模式“/^([gimuy]+)$/”。","schema.onEnterRules.beforeText.flags":"beforeText 的正则表达式标志。","schema.onEnterRules.beforeText.pattern":"beforeText 的正则表达式模式。","schema.onEnterRules.previousLineText":"只有该行上方的文本匹配此正则表达式时才会执行此规则。","schema.onEnterRules.previousLineText.errorMessage":"必须匹配模式“/^([gimuy]+)$/”。","schema.onEnterRules.previousLineText.flags":"previousLineText 的正则表达式标志。","schema.onEnterRules.previousLineText.pattern":"previousLineText 的正则表达式模式。","schema.openBracket":"左方括号字符或字符串序列。","schema.surroundingPairs":"定义可用于包围所选字符串的括号对。","schema.wordPattern":"定义一下在编程语言里什么东西会被当做是一个单词。","schema.wordPattern.flags":"用于匹配文本的正则表达式标志。","schema.wordPattern.flags.errorMessage":"必须匹配模式“/^([gimuy]+)$/”。","schema.wordPattern.pattern":"用于匹配文本的正则表达式模式。"},"vs/workbench/contrib/codeEditor/browser/largeFileOptimizations":{largeFile:"{0}: 为减少内存使用并避免卡顿或崩溃，我们已关闭对此大型文件内容的标记、折行和折叠。",removeOptimizations:"强制启用功能",reopenFilePrompt:"请重新打开文件以使此设置生效。"},"vs/workbench/contrib/codeEditor/browser/outline/documentSymbolsOutline":{document:"文档符号"},"vs/workbench/contrib/codeEditor/browser/outline/documentSymbolsTree":{"1.problem":"此元素存在 1 个问题","N.problem":"此元素存在 {0} 个问题","deep.problem":"包含存在问题的元素","title.template":"{0} ({1})"},"vs/workbench/contrib/codeEditor/browser/quickaccess/gotoLineQuickAccess":{gotoLine:"转到行/列...",gotoLineQuickAccess:"转到行/列",gotoLineQuickAccessPlaceholder:"键入要转到的行号和可选列(例如，42:5表示第 42 行和第 5 列)。"},"vs/workbench/contrib/codeEditor/browser/quickaccess/gotoSymbolQuickAccess":{empty:"无匹配项",gotoSymbol:"转到编辑器中的符号...",gotoSymbolByCategoryQuickAccess:"按类别转到编辑器中的符号",gotoSymbolQuickAccess:"转到编辑器中的符号",gotoSymbolQuickAccessPlaceholder:"键入要转到的符号的名称。",miGotoSymbolInEditor:"转到编辑器中的符号(&&S)…"},"vs/workbench/contrib/codeEditor/browser/saveParticipants":{"codeAction.apply":"正在应用代码操作“{0}”。",codeaction:"快速修复","codeaction.get2":'从 "{0}" ([configure]({1}))中获取代码操作。',formatting2:'正在运行 "{0}" 格式化程序([configure]({1}))。'},"vs/workbench/contrib/codeEditor/browser/toggleColumnSelection":{miColumnSelection:"列选择模式(&&S)",toggleColumnSelection:"切换列选择模式"},"vs/workbench/contrib/codeEditor/browser/toggleMinimap":{miMinimap:"缩略图(&&M)",toggleMinimap:"切换到迷你地图"},"vs/workbench/contrib/codeEditor/browser/toggleMultiCursorModifier":{miMultiCursorAlt:"切换为“Alt+单击”进行多光标功能",miMultiCursorCmd:"切换为“Cmd+单击”进行多光标功能",miMultiCursorCtrl:"切换为“Ctrl+单击”进行多光标功能",toggleLocation:"切换多行修改键"},"vs/workbench/contrib/codeEditor/browser/toggleRenderControlCharacter":{miToggleRenderControlCharacters:"显示控制字符(&&C)",toggleRenderControlCharacters:"切换控制字符"},"vs/workbench/contrib/codeEditor/browser/toggleRenderWhitespace":{miToggleRenderWhitespace:"显示空格(&&R)",toggleRenderWhitespace:"切换呈现空格"},"vs/workbench/contrib/codeEditor/browser/toggleWordWrap":{editorWordWrap:"编辑器当前是否正在使用自动换行。",miToggleWordWrap:"自动换行(&&W)","toggle.wordwrap":"查看: 切换自动换行",unwrapMinified:"在此文件禁用折行",wrapMinified:"在此文件启用折行"},"vs/workbench/contrib/codeEditor/browser/untitledTextEditorHint/untitledTextEditorHint":{message:`[[选择语言]]或[[填充模版]]或[[打开其他编辑器]]以开始使用。\r
开始键入以关闭或[[不再显示]]此信息。`},"vs/workbench/contrib/codeEditor/electron-sandbox/selectionClipboard":{"actions.pasteSelectionClipboard":"粘贴选择剪贴板"},"vs/workbench/contrib/codeEditor/electron-sandbox/startDebugTextMate":{startDebugTextMate:"启动文本配对语法语法日志记录"},"vs/workbench/contrib/commands/common/commands.contribution":{runCommands:"运行命令","runCommands.commands":"要运行的命令","runCommands.description":"运行多个命令","runCommands.invalidArgs":'"runCommands" 收到类型错误的参数。请查看传递给该命令的参数。',"runCommands.noCommandsToRun":'"runCommands" 尚未收到要运行的命令。忘记在 "runCommands" 参数中传递命令了吗?'},"vs/workbench/contrib/comments/browser/commentColors":{commentThreadActiveRangeBackground:"当前选定或悬停注释范围的背景色。",commentThreadActiveRangeBorder:"当前选定或悬停注释范围的边框颜色。",commentThreadRangeBackground:"注释范围的背景色。",commentThreadRangeBorder:"注释范围的边框颜色。",resolvedCommentBorder:"已解析评论的边框和箭头颜色。",resolvedCommentIcon:"解析批注的图标颜色。",unresolvedCommentBorder:"未解析评论的边框和箭头颜色。",unresolvedCommentIcon:"未解析批注的图标颜色。"},"vs/workbench/contrib/comments/browser/commentGlyphWidget":{editorGutterCommentGlyphForeground:"编辑器装订线中评论字形的装饰颜色。",editorGutterCommentRangeForeground:"用于标注范围的编辑器装订线装饰颜色。此颜色应不透明。",editorGutterCommentUnresolvedGlyphForeground:"编辑器装订线修饰颜色，用于注释未解析注释线程的字形。","editorOverviewRuler.commentForeground":"解析批注的编辑器概述标尺修饰颜色。此颜色应为不透明。","editorOverviewRuler.commentUnresolvedForeground":"编辑器概述未解析注释的标尺修饰颜色。此颜色应为不透明。"},"vs/workbench/contrib/comments/browser/commentNode":{commentAddReactionDefaultError:"未能删除评论回应",commentAddReactionError:"未能删除评论回应: {0}。",commentDeleteReactionDefaultError:"未能删除评论回应",commentDeleteReactionError:"未能删除评论回应: {0}。",commentToggleReaction:"切换反应",commentToggleReactionDefaultError:"切换注释反应失败",commentToggleReactionError:"切换注释反应失败: {0}。"},"vs/workbench/contrib/comments/browser/commentReply":{newComment:"键入新注释",reply:"回复..."},"vs/workbench/contrib/comments/browser/comments.contribution":{"comments.maxHeight":"控制注释小组件是滚动还是展开。","comments.openPanel.deprecated":"此设置已弃用，取而代之的是 `comments.openView`。","comments.openView":"控制评论视图应何时打开。","comments.openView.file":"批注视图将在具有注释的文件处于活动状态时打开。","comments.openView.firstFile":"如果在此会话期间尚未打开注释视图，则它将在带注释文件处于活动状态的会话期间首次打开。","comments.openView.never":"注释视图永远不会打开。","comments.visible":"控制具有注释范围和注释的编辑器中注释栏和注释线程的可见性。注释仍可通过“注释”视图访问，并会导致以运行命令 “Comments: Toggle Editor Commenting” 切换注释的相同方式切换打开注释。",commentsConfigurationTitle:"评论",openComments:"控制评论面板应何时打开。",useRelativeTime:'确定是否在注释时间戳中使用相对时间，(例如"1 天前")。'},"vs/workbench/contrib/comments/browser/commentsController":{hasCommentingRange:"活动光标处的位置是否具有评论范围",pickCommentService:'选择 "注释提供程序"'},"vs/workbench/contrib/comments/browser/commentsEditorContribution":{"comments.addCommand":"添加对当前所选内容的注释","comments.collapseAll":"折叠所有注释","comments.expandAll":"展开所有注释","comments.expandUnresolved":"展开未解决注释","comments.toggleCommenting":"切换编辑器注释",nextCommentThreadAction:"转到下一条评论串",previousCommentThreadAction:"转到上一个评论线程"},"vs/workbench/contrib/comments/browser/commentService":{hasCommentingProvider:"打开的工作区是否具有注释或注释范围。"},"vs/workbench/contrib/comments/browser/commentsTreeViewer":{commentCount:"1 条注释",commentLine:"[Ln {0}]",commentRange:"[Ln {0}-{1}]","comments.view.title":"注释",commentsCount:"{0} 条注释",image:"图片",imageWithLabel:"图片: {0}",lastReplyFrom:"来自 {0} 的最新回复"},"vs/workbench/contrib/comments/browser/commentsView":{collapseAll:"全部折叠","comments.filter.ariaLabel":"筛选注释","comments.filter.placeholder":"筛选器(例如文本、作者)",expandAll:"全部展开",resourceWithCommentLabel:"{3} 中第 {1} 行第 {2} 列中来自 ${0} 的注释，源: {4}",resourceWithCommentLabelFile:"来自 {1} 中 $ {0} 的注释，源: {2}",resourceWithCommentThreadsLabel:"{0} 中的注释，完整路径: {1}",rootCommentsLabel:"当前工作区的注释","showing filtered results":"正在显示第 {0} 页(共 {1} 页)",totalUnresolvedComments:"{0} 未解析的注释"},"vs/workbench/contrib/comments/browser/commentsViewActions":{comments:"注释",commentsClearFilterText:"清除筛选器文本",focusCommentsFilter:"焦点注释筛选器",focusCommentsList:"焦点注释视图",resolved:"显示已解决","toggle resolved":"切换已解决注释","toggle unresolved":"切换未解决注释",unresolved:"显示未解决"},"vs/workbench/contrib/comments/browser/commentThreadBody":{commentThreadAria:"使用 {0} 评论。{1} 评论线程。","commentThreadAria.document":"在整个文档上有 {0} 条注释的注释线程。 {1}。","commentThreadAria.withRange":"通过 {2} 注释行 {1} 上具有 {0} 注释的线程。{3}。"},"vs/workbench/contrib/comments/browser/commentThreadHeader":{collapseIcon:"用于折叠审阅注释的图标。","label.collapse":"折叠",startThread:"开始讨论"},"vs/workbench/contrib/comments/browser/reactionsAction":{"comment.reactionLabelMany":"{0}{1} 个带有 {2} 的回应","comment.reactionLabelNone":"{0}{1} 个回应","comment.reactionLabelOne":"{0}1 个带有 {1} 的回应","comment.toggleableReaction":"切换回应，",pickReactions:"选取反应..."},"vs/workbench/contrib/comments/common/commentContextKeys":{comment:"注释的上下文值",commentController:"与注释线程关联的注释控制器 ID",commentIsEmpty:"在注释没有输入时设置",commentThread:"注释线程的上下文值",commentThreadIsEmpty:"在注释线程没有注释时设置"},"vs/workbench/contrib/comments/common/commentModel":{noComments:"此工作区中尚无注释。"},"vs/workbench/contrib/customEditor/common/contributedCustomEditors":{builtinProviderDisplayName:"内置"},"vs/workbench/contrib/customEditor/common/customEditor":{"context.customEditor":"当前处于活动状态的自定义编辑器的 viewType。"},"vs/workbench/contrib/customEditor/common/extensionPoint":{"contributes.customEditors":"提供的自定义编辑器。","contributes.displayName":"自定义编辑器的用户可读名称。当选择要使用的编辑器时，向用户显示此名称。","contributes.priority":'控制在用户打开文件时是否自动启用自定义编辑器。用户可能会使用 "workbench.editorAssociations" 设置覆盖此项。',"contributes.priority.default":"在用户打开资源时自动使用此编辑器，前提是没有为该资源注册其他默认的自定义编辑器。","contributes.priority.option":"在用户打开资源时不会自动使用此编辑器，但用户可使用 `Reopen With` 命令切换到此编辑器。","contributes.selector":"为其启用了自定义编辑器的一组 glob。","contributes.selector.filenamePattern":"为其启用了自定义编辑器的 glob。","contributes.viewType":'自定义编辑器的标识符。它在所有自定义编辑器中都必须是唯一的，因此建议将扩展 ID 作为 "viewType" 的一部分包括在内。在使用 "vscode.registerCustomEditorProvider" 和在 "onCustomEditor:${id}" [激活事件](https://code.visualstudio.com/api/references/activation-events)中注册自定义编辑器时，使用 "viewType"。'},"vs/workbench/contrib/debug/browser/baseDebugView":{"debug.lazyButton.tooltip":"单击以展开"},"vs/workbench/contrib/debug/browser/breakpointEditorContribution":{addBreakpoint:"添加断点",addConditionalBreakpoint:"添加条件断点...",addLogPoint:"添加记录点...",breakpoint:"断点",breakpointHasConditionDisabled:"此{0}的{1}将在删除后丢失。请考虑仅启用此{0}。",breakpointHasConditionEnabled:"此{0}的{1}将在删除后丢失。请考虑仅禁用此{0}。",condition:"条件","debugIcon.breakpointCurrentStackframeForeground":"当前断点堆栈帧的图标颜色。","debugIcon.breakpointDisabledForeground":"禁用断点的图标颜色。","debugIcon.breakpointForeground":"断点图标颜色。","debugIcon.breakpointStackframeForeground":"所有断点堆栈帧的图标颜色。","debugIcon.breakpointUnverifiedForeground":"未验证断点的图标颜色。",disable:"禁用(&&D)",disableBreakpoint:"禁用{0}",disableBreakpointOnLine:"禁用行断点",disableInlineColumnBreakpoint:"禁用第 {0} 列的内联断点",disableLogPoint:"{0} {1}",editBreakpoint:"编辑 {0}…",editBreakpoints:"编辑断点",editInlineBreakpointOnColumn:"编辑第 {0} 列的内联断点",editLineBreakpoint:"编辑行断点",enable:"启用(&&E)",enableBreakpoint:"启用 {0}",enableBreakpointOnLine:"启用行断点",enableBreakpoints:"启用第 {0} 列的内联断点",enableDisableBreakpoints:"启用/禁用断点",logPoint:"记录点",message:"消息",removeBreakpoint:"删除 {0}",removeBreakpoints:"删除断点",removeInlineBreakpointOnColumn:"删除第 {0} 列的内联断点",removeLineBreakpoint:"删除行断点",removeLogPoint:"移除 {0}(&&R)",runToLine:"运行到行"},"vs/workbench/contrib/debug/browser/breakpointsView":{access:"访问",activateBreakpoints:"切换激活断点",addFunctionBreakpoint:"添加函数断点",breakpoint:"断点",breakpointUnsupported:"调试器不支持此类型的断点",breakpoints:"断点",dataBreakpoint:"数据断点",dataBreakpointUnsupported:"此调试类型不支持数据断点",dataBreakpointsNotSupported:"此调试类型不支持数据断点",disableAllBreakpoints:"禁用所有断点",disabledBreakpoint:"已禁用的断点",disabledLogpoint:"已禁用的记录点",editBreakpoint:"编辑函数断点…",editCondition:"编辑条件…",editHitCount:"编辑命中次数…",enableAllBreakpoints:"启用所有断点",exceptionBreakpointAriaLabel:"类型异常断点条件",exceptionBreakpointPlaceholder:"在表达式结果为 true 时中断",expression:"表达式条件: {0}",expressionAndHitCount:"表达式: {0} | 命中次数: {1}",expressionCondition:"表达式条件: {0}",functionBreakPointExpresionAriaLabel:"类型表达式。表达式计算结果为 true 时，函数断点将中断",functionBreakPointHitCountAriaLabel:"类型命中次数。达到命中次数时，函数断点将中断。",functionBreakPointInputAriaLabel:"键入函数断点。",functionBreakpoint:"函数断点",functionBreakpointExpressionPlaceholder:"在表达式结果为 true 时中断",functionBreakpointHitCountPlaceholder:"在到达命中次数时中断",functionBreakpointPlaceholder:"要断开的函数",functionBreakpointUnsupported:"不受此调试类型支持的函数断点",functionBreakpointsNotSupported:"此调试类型不支持函数断点",hitCount:"命中次数: {0}",instructionBreakpoint:"指令断点",instructionBreakpointAtAddress:"地址 {0} 处的指令断点",instructionBreakpointUnsupported:"不受此调试类型支持的指令断点",logMessage:"日志消息: {0}",miDisableAllBreakpoints:"禁用所有断点(&&L)",miEnableAllBreakpoints:"启用所有断点(&&E)",miFunctionBreakpoint:"函数断点(&&F)...",miRemoveAllBreakpoints:"删除所有断点(&&A)",read:"读取",reapplyAllBreakpoints:"重新应用所有断点",removeAllBreakpoints:"删除所有断点",removeBreakpoint:"删除断点",unverifiedBreakpoint:"未验证的断点",unverifiedExceptionBreakpoint:"未验证的异常断点",unverifiedLogpoint:"未验证的记录点",write:"写入"},"vs/workbench/contrib/debug/browser/breakpointWidget":{breakpointType:"断点类型",breakpointWidgetExpressionPlaceholder:'在表达式结果为真时中断。按 "{0}" 键确认，"{1}" 键取消。',breakpointWidgetHitCountPlaceholder:'在满足命中次数条件时中断。按 "{0}" 键确认，"{1}" 键取消。',breakpointWidgetLogMessagePlaceholder:'断点命中时记录的消息。{} 内的表达式将被替换。按 "{0}" 键确认，"{1}" 键取消。',expression:"表达式",hitCount:"命中次数",logMessage:"日志消息"},"vs/workbench/contrib/debug/browser/callStackEditorContribution":{focusedStackFrameLineHighlight:"堆栈帧中焦点一行的高亮背景色。",topStackFrameLineHighlight:"堆栈帧中顶部一行的高亮背景色。"},"vs/workbench/contrib/debug/browser/callStackView":{callStackAriaLabel:"调试调用堆栈",collapse:"全部折叠",loadAllStackFrames:"加载多个堆栈帧",paused:"已暂停",pausedOn:"因 {0} 已暂停",restartFrame:"重启框架",running:"正在运行",session:"会话",sessionLabel:"会话 {0} {1}",showMoreAndOrigin:"显示另外 {0} 个: {1}",showMoreStackFrames:"显示另外 {0} 个堆栈帧",showMoreStackFrames2:"显示更多堆栈框架",stackFrameAriaLabel:"堆栈帧 {0}，行 {1}，{2}",threadAriaLabel:"线程 {0} {1}"},"vs/workbench/contrib/debug/browser/debug.contribution":{SetNextStatement:"设置下一语句",addToWatchExpressions:"添加到监视",allowBreakpointsEverywhere:"允许在任何文件中设置断点。",always:"始终在状态栏中显示调试",breakWhenValueChanges:"值更改时中断",breakWhenValueIsAccessed:"值访问时中断",breakWhenValueIsRead:"值读取时中断",breakpoints:"断点",callStack:"调用堆栈",cancel:"取消调试。",copyAsExpression:"复制表达式",copyStackTrace:"复制调用堆栈",copyValue:"复制值","debug.autoExpandLazyVariables":"自动显示调试器延迟解析的变量的值，例如 getter。","debug.confirmOnExit":"如果存在活动调试会话，控制是否确认窗口关闭时间。","debug.confirmOnExit.always":"始终确认是否存在调试会话。","debug.confirmOnExit.never":"从不确认。","debug.console.acceptSuggestionOnEnter":"控制是否应在调试控制台中输入时接受建议。enter 还用于评估调试控制台中键入的任何内容。","debug.console.closeOnEnd":"控制调试控制台是否应在调试会话结束时自动关闭。","debug.console.collapseIdenticalLines":"控制调试控制台是否应折叠相同的行，并显示出现次数和徽章。","debug.console.fontFamily":"控制调试控制台中的字体系列。","debug.console.fontSize":"控制调试控制台中的字号(以像素为单位)。","debug.console.historySuggestions":"控制调试控制台是否应建议以前键入的输入。","debug.console.lineHeight":"设置调试控制台中的行高(以像素为单位)。使用 0 可根据字号计算行高。","debug.console.wordWrap":"控制是否应在调试控制台中换行。","debug.disassemblyView.showSourceCode":"在反汇编视图中显示源代码。","debug.enableStatusBarColor":"调试器处于活动状态时的颜色状态栏","debug.focusEditorOnBreak":"控制调试器中断时编辑器是否应聚焦。","debug.focusWindowOnBreak":"控制当调试器中断时，工作台窗口是否应获得焦点。","debug.onTaskErrors":"控制在运行预启动任务后遇到错误时应该怎么做。","debug.saveBeforeStart":"控制在启动调试会话前要保存哪些编辑器。","debug.saveBeforeStart.allEditorsInActiveGroup":"在启动调试会话之前，保存活动组中的所有编辑器。","debug.saveBeforeStart.nonUntitledEditorsInActiveGroup":"在启动调试会话之前，保存活动组中的所有编辑器(无标题的编辑器除外)。","debug.saveBeforeStart.none":"在启动调试会话之前，不保存任何编辑器。","debug.terminal.clearBeforeReusing":"在集成或外部终端中启动新的调试会话之前，请清除终端。",debugAnyway:"忽略任务错误并开始调试。",debugCategory:"调试",debugConfigurationTitle:"调试",debugFocusConsole:"聚焦到“调试控制台”视图",debugPanel:"调试控制台",disassembly:"反汇编",editWatchExpression:"编辑表达式",inlineBreakpoint:"内联断点",inlineValues:"当处于调试过程中时，在编辑器中内联显示变量值。","inlineValues.focusNoScroll":"如果语言支持内联值位置，则在调试时在编辑器中内联显示变量值。","inlineValues.off":"在调试时，绝不在编辑器中内联显示变量值。","inlineValues.on":"在调试时，始终在编辑器中内联显示变量值。",jumpToCursor:"跳转到光标",launch:"全局调试启动配置。应当作为跨工作区共享的 'launch.json' 的替代方法。",loadedScripts:"已载入的脚本",mRun:"运行(&&R)",miAddConfiguration:"添加配置(&&D)...",miContinue:"继续(&&C)",miInlineBreakpoint:"内联断点(&&O)",miInstallAdditionalDebuggers:"安装附加调试器(&&I)...",miNewBreakpoint:"新建断点(&&N)","miRestart Debugging":"重启调试(&&R)",miRun:"以非调试模式运行(&&W)",miStartDebugging:"启动调试(&&S)",miStepInto:"单步执行(&&I)",miStepOut:"单步停止(&&U)",miStepOver:"逐过程(&&O)",miStopDebugging:"停止调试(&&S)",miToggleDebugConsole:"调试控制台(&&B)",miViewRun:"运行(&&R)",never:"从不在状态栏中显示调试",onFirstSessionStart:"仅于第一次启动调试后在状态栏中显示调试",openDebug:"控制何时打开“调试”视图。",openExplorerOnEnd:"在调试会话结束时自动打开资源管理器视图。",prompt:"提示用户。",removeWatchExpression:"删除表达式",restartFrame:"重启框架",run:"运行或调试...","run and debug":"运行和调试",setValue:"设置值",showBreakpointsInOverviewRuler:"控制断点是否应显示在概览标尺中。",showErrors:"显示问题视图且不开始调试。",showInStatusBar:"控制应在何时显示调试状态栏。",showInlineBreakpointCandidates:"控制调试时是否应在编辑器中显示内联断点候选修饰。",showSubSessionsInToolBar:"控制调试子会话是否显示在调试工具栏中。当此设置为 false 时, 子会话上的 stop 命令也将停止父会话。",startDebugPlaceholder:"键入准备运行的启动配置的名称。",startDebuggingHelp:"开始调试",tasksQuickAccessHelp:"显示所有调试控制台",tasksQuickAccessPlaceholder:"键入要打开的调试控制台的名称。",terminateThread:"终止线程",toolBarLocation:"控制调试工具栏的位置。可在所有视图中“浮动”、在调试视图中“停靠”，也可“隐藏”。",variables:"变量",viewMemory:"查看二进制数据",watch:"监视"},"vs/workbench/contrib/debug/browser/debugActionViewItems":{addConfigTo:"添加配置({0})…",addConfiguration:"添加配置…",debugLaunchConfigurations:"调试启动配置",debugSession:"调试会话",noConfigurations:"没有配置"},"vs/workbench/contrib/debug/browser/debugAdapterManager":{CouldNotFindLanguage:"没有用于调试 {0} 的扩展。我们是否应在市场中找到 {0} 扩展?",debugName:"配置名称；显示在启动配置下拉菜单中。",debugNoType:'不可省略调试器的 "type" 属性，且其类型必须是 "string" 。',debugPostDebugTask:"调试会话结束后运行的任务。",debugPrelaunchTask:"调试会话开始前要运行的任务。",debugServer:"仅用于调试扩展开发: 如果已指定端口，VS 代码会尝试连接到在服务器模式中运行的调试适配器",findExtension:"查找 {0} 扩展(&&F)",installExt:"安装扩展...",installLanguage:"安装 {0} 的扩展...",selectDebug:"选择调试器",suggestedDebuggers:"建议",suppressMultipleSessionWarning:"在尝试多次启动同一调试配置时禁用该警告。"},"vs/workbench/contrib/debug/browser/debugColors":{"debugIcon.continueForeground":"用于继续的调试工具栏图标。","debugIcon.disconnectForeground":"用于断开连接的调试工具栏图标。","debugIcon.pauseForeground":"用于暂停的调试工具栏图标。","debugIcon.restartForeground":"用于重启的调试工具栏图标。","debugIcon.startForeground":"用于开始调试的调试工具栏图标。","debugIcon.stepBackForeground":"用于后退的调试工具栏图标。","debugIcon.stepIntoForeground":"用于单步执行的调试工具栏图标。","debugIcon.stepOutForeground":"用于单步执行的调试工具栏图标。","debugIcon.stepOverForeground":"用于跳过的调试工具栏图标。","debugIcon.stopForeground":"用于停止的调试工具栏图标。",debugToolBarBackground:"调试工具栏背景颜色。",debugToolBarBorder:"调试工具栏边框颜色。"},"vs/workbench/contrib/debug/browser/debugCommands":{addConfiguration:"添加配置…",addInlineBreakpoint:"添加内联断点",callStackBottom:"导航到调用堆栈底部",callStackDown:"向下导航调用堆栈",callStackTop:"导航到调用堆栈顶部",callStackUp:"向上导航调用堆栈",chooseLocation:"选择特定位置",continueDebug:"继续",debug:"调试",disconnect:"断开连接",disconnectSuspend:"断开连接和暂停","editor.debug.action.stepIntoTargets.none":"没有可用的步骤目标",focusSession:"聚焦到“会话”视图",jumpToCursor:"跳转到光标",nextDebugConsole:"聚焦下一个调试控制台",noExecutableCode:"当前光标位置没有关联的可执行代码。",openLaunchJson:"打开“{0}”",openLoadedScript:"打开已加载脚本...",pauseDebug:"暂停",prevDebugConsole:"聚焦上一个调试控制台",restartDebug:"重启",selectAndStartDebugging:"选择并开始调试",selectDebugConsole:"选择调试控制台",selectDebugSession:"选择调试会话",startDebug:"开始调试",startWithoutDebugging:"开始执行(不调试)",stepIntoDebug:"单步调试",stepIntoTargetDebug:"单步执行目标",stepOutDebug:"单步跳出",stepOverDebug:"逐过程",stop:"停止"},"vs/workbench/contrib/debug/browser/debugConfigurationManager":{"DebugConfig.failed":'无法在 ".vscode" 文件夹({0})内创建 "launch.json" 文件。',editLaunchConfig:"在 launch.json 中编辑调试配置",selectConfiguration:"选择启动配置","user settings":"用户设置",workspace:"工作区"},"vs/workbench/contrib/debug/browser/debugConsoleQuickAccess":{"workbench.action.debug.startDebug":"启动新的调试会话"},"vs/workbench/contrib/debug/browser/debugEditorActions":{EditBreakpointEditorAction:"调试: 编辑断点",addToWatch:"添加到监视",closeExceptionWidget:"关闭异常小组件",conditionalBreakpointEditorAction:"调试: 添加条件断点...","editor.debug.action.stepIntoTargets.notAvailable":"此处不提供步骤目标",evaluateInDebugConsole:"在调试控制台中评估",goToNextBreakpoint:"调试: 转到下一个断点",goToPreviousBreakpoint:"调试: 转到上一个断点",logPointEditorAction:"调试: 添加记录点...",miConditionalBreakpoint:"条件断点(&&C)...",miDisassemblyView:"反汇编视图(&&D)",miEditBreakpoint:"编辑断点(&&E)",miLogPoint:"记录点(&&L)...",miToggleBreakpoint:"切换断点(&&B)",mitogglesource:"&&ToggleSource",openDisassemblyView:"打开反汇编视图",runToCursor:"运行到光标处",showDebugHover:"调试: 显示悬停",stepIntoTargets:"单步执行目标",toggleBreakpointAction:"调试: 切换断点",toggleDisassemblyViewSourceCode:"在反汇编视图中切换源代码"},"vs/workbench/contrib/debug/browser/debugEditorContribution":{"editor.inlineValuesBackground":"调试内联值背景的颜色。","editor.inlineValuesForeground":"调试内联值文本的颜色。"},"vs/workbench/contrib/debug/browser/debugHover":{quickTip:"按住 {0} 键可切换到编辑器语言悬停",treeAriaLabel:"调试悬停",variableAriaLabel:"{0}，值 {1}，变量，调试"},"vs/workbench/contrib/debug/browser/debugIcons":{breakpointsActivate:"“断点”视图中“激活”操作的图标。",breakpointsRemoveAll:"“断点”视图中“全部删除”操作的图标。",breakpointsViewIcon:"查看断点视图的图标。",callStackViewIcon:"查看调用堆栈视图的图标。",callstackViewSession:"“调用堆栈”视图中会话图标的图标。",debugBreakpoint:"断点的图标。",debugBreakpointConditional:"条件断点的图标。",debugBreakpointConditionalDisabled:"已禁用的条件断点的图标。",debugBreakpointConditionalUnverified:"未验证的条件断点的图标。",debugBreakpointData:"数据断点的图标。",debugBreakpointDataDisabled:"已禁用的数据断点的图标。",debugBreakpointDataUnverified:"未验证的数据断点的图标。",debugBreakpointDisabled:"已禁用的断点的图标。",debugBreakpointFunction:"函数断点的图标。",debugBreakpointFunctionDisabled:"已禁用的函数断点的图标。",debugBreakpointFunctionUnverified:"未验证的函数断点的图标。",debugBreakpointHint:"在编辑器字形边距中悬停时显示的断点提示的图标。",debugBreakpointLog:"日志断点的图标。",debugBreakpointLogDisabled:"已禁用的日志断点的图标。",debugBreakpointLogUnverified:"未验证的日志断点的图标。",debugBreakpointUnsupported:"不受支持的断点的图标。",debugBreakpointUnverified:"未验证的断点的图标。",debugCollapseAll:"调试视图中“全部折叠”操作的图标。",debugConfigure:"“调试配置”操作的图标。",debugConsole:"调试控制台的“打开”操作的图标。",debugConsoleClearAll:"调试控制台中“全部清除”操作的图标。",debugConsoleEvaluationInput:"调试评估输入标记的图标。",debugConsoleEvaluationPrompt:"调试评估提示的图标。",debugConsoleViewIcon:"查看调试控制台视图的图标。",debugContinue:"“调试继续”操作的图标。",debugDisconnect:"“调试断开”操作的图标。",debugGripper:"调试条控制手柄的图标。",debugInspectMemory:"检查内存操作的图标。",debugPause:"“调试暂停”操作的图标。",debugRemoveConfig:"用于删除调试配置的图标。",debugRestart:"“调试重启”操作的图标。",debugRestartFrame:"“调试重启帧”操作的图标。",debugReverseContinue:"“调试反向继续”操作的图标。",debugRun:"运行或调试操作的图标。",debugStackframe:"编辑器字形边距中显示的堆栈帧的图标。",debugStackframeFocused:"编辑器字形边距中显示的具有焦点的堆栈帧的图标。",debugStart:"“调试启动”操作的图标。",debugStepBack:"“调试单步后退”操作的图标。",debugStepInto:"“调试进入子函数”的图标。",debugStepOut:"“调试跳出子函数”操作的图标。",debugStepOver:"“调试越过子函数”操作的图标。",debugStop:"“调试停止”操作的图标。",loadedScriptsViewIcon:"查看已加载脚本视图的图标。",runViewIcon:"查看运行视图的图标。",variablesViewIcon:"查看变量视图的图标。",watchExpressionRemove:"监视视图中“删除”操作的图标。",watchExpressionsAdd:"监视视图中“添加”操作的图标。",watchExpressionsAddFuncBreakpoint:"监视视图中“添加函数断点”操作的图标。",watchExpressionsRemoveAll:"监视视图中“全部删除”操作的图标。",watchViewIcon:"查看监视视图的图标。"},"vs/workbench/contrib/debug/browser/debugQuickAccess":{addConfigTo:"添加配置({0})…",addConfiguration:"添加配置…",configure:"配置",contributed:"已提供",customizeLaunchConfig:"配置启动配置",noDebugResults:"没有匹配的启动配置",providerAriaLabel:"{0} 已提供的配置",removeLaunchConfig:"删除启动配置"},"vs/workbench/contrib/debug/browser/debugService":{"1activeSession":"1 个活动会话",breakpointAdded:"已添加断点，行 {0}，文件 {1}",breakpointRemoved:"已删除断点，行 {0}，文件 {1}",compoundMustHaveConfigurations:'复合项必须拥有 "configurations" 属性集，才能启动多个配置。',configMissing:'"launch.json" 中缺少配置“{0}”。',debugAdapterCrash:"调试适配器进程意外终止 ({0})",debugRequesMissing:"所选的调试配置缺少属性“{0}”。",debugRequestNotSupported:"所选调试配置的属性“{0}”的值“{1}”不受支持。",debugTrust:"调试从你的工作区执行生成任务和程序代码。",debugTypeMissing:'所选的启动配置缺少属性 "type"。',debugTypeNotSupported:"配置的类型“{0}”不受支持。",debuggingPaused:"{0}，调试已暂停 {1}，{2}: {3}",installAdditionalDebuggers:"安装 {0} 扩展",launchJsonDoesNotExist:'传递的工作区文件夹没有 "launch.json"。',multipleConfigurationNamesInWorkspace:"工作区中存在多个启动配置“{0}”。请使用文件夹名称来限定配置。",multipleSession:"“{0}”已在运行。是否要启动另一个实例?",nActiveSessions:"{0}个活动会话",noConfigurationNameInWorkspace:"在工作区中找不到启动配置“{0}”。",noFolderWithName:"无法在复合项“{2}”中为配置“{1}”找到名为“{0}”的文件夹。",noFolderWorkspaceDebugError:"无法调试活动文件。请确保它已保存且你已为该文件类型安装了调试扩展。",runTrust:"运行会从你的工作区执行生成任务和程序代码。"},"vs/workbench/contrib/debug/browser/debugSession":{debuggingStarted:"已开始调试。",debuggingStopped:"已停止调试。",noDebugAdapter:"没有可用的调试程序，无法发送“{0}”",sessionNotReadyForBreakpoints:"会话还没有为断点做好准备"},"vs/workbench/contrib/debug/browser/debugSessionPicker":{"moveFocusedView.selectView":"按名称搜索调试会话","workbench.action.debug.spawnFrom":"已从 {1} 生成会话 {0}","workbench.action.debug.startDebug":"启动新的调试会话"},"vs/workbench/contrib/debug/browser/debugStatus":{debugTarget:"调试: {0}",selectAndStartDebug:"选择并启动调试配置","status.debug":"调试"},"vs/workbench/contrib/debug/browser/debugTaskRunner":{DebugTaskNotFound:"找不到指定的任务。",DebugTaskNotFoundWithTaskId:"找不到任务“{0}”。",abort:"中止",debugAnyway:"仍要调试(&&D)",invalidTaskReference:"无法在其他工作区文件夹的启动配置中引用任务“{0}”。",preLaunchTaskError:"运行 preLaunchTask“{0}”后存在错误。",preLaunchTaskErrors:"运行 preLaunchTask“{0}”后存在错误。",preLaunchTaskExitCode:"preLaunchTask“{0}”已终止，退出代码为 {1}。",preLaunchTaskTerminated:'启动前任务"{0}"终止。',remember:"记住我在用户设置中的选择",rememberTask:"记住我对此任务的选择",showErrors:"显示错误(&&S)",taskNotTracked:"无法跟踪任务“{0}”。请确保已定义了问题匹配程序。",taskNotTrackedWithTaskId:"无法跟踪任务“{0}”。请确保已定义了问题匹配程序。"},"vs/workbench/contrib/debug/browser/debugToolBar":{"notebook.moreRunActionsLabel":"更多...",reverseContinue:"反向",stepBackDebug:"后退"},"vs/workbench/contrib/debug/browser/debugViewlet":{debugPanel:"调试控制台",miOpenConfigurations:"打开配置(&&C)",selectWorkspaceFolder:"选择工作区文件夹以在其中创建 launch.json 文件或将其添加到工作区配置文件",startAdditionalSession:"启动其他会话"},"vs/workbench/contrib/debug/browser/disassemblyView":{disassemblyTableColumnLabel:"说明",disassemblyView:"反汇编视图",editorOpenedFromDisassemblyDescription:"从反汇编",instructionAddress:"地址",instructionBytes:"字节",instructionNotAvailable:"反汇编不可用。",instructionText:"指令"},"vs/workbench/contrib/debug/browser/exceptionWidget":{close:"关闭",debugExceptionWidgetBackground:"异常小组件背景颜色。",debugExceptionWidgetBorder:"异常小组件边框颜色。",exceptionThrown:"出现异常。",exceptionThrownWithId:"发生异常: {0}"},"vs/workbench/contrib/debug/browser/linkDetector":{fileLink:"按住 Ctrl 并单击以 {0}",fileLinkMac:"按住 Cmd 并单击以 {0}",fileLinkWithPath:"按住 Ctrl 并单击以 {0}{1}",fileLinkWithPathMac:"按住 Cmd 并单击以 {0}{1}",followForwardedLink:"执行使用转发端口的链接",followLink:"执行链接"},"vs/workbench/contrib/debug/browser/loadedScriptsView":{loadedScriptsAriaLabel:"在调试中已加载的脚本",loadedScriptsFolderAriaLabel:"文件夹 {0}，已加载的脚本，调试",loadedScriptsRootFolderAriaLabel:"工作区文件夹 {0}，已加载的脚本，调试",loadedScriptsSession:"调试会话",loadedScriptsSessionAriaLabel:"会话 {0}，已加载的脚本，调试",loadedScriptsSourceAriaLabel:"{0}，已加载的脚本，调试"},"vs/workbench/contrib/debug/browser/rawDebugSession":{canNotStart:"调试器需要为调试对象打开新选项卡或窗口，但浏览器阻止了此选项卡或窗口。必须授予权限以继续。",continue:"继续(&&C)",moreInfo:"详细信息",noDebugAdapter:"未找到任何调试程序。无法发送“{0}”。",noDebugAdapterStart:"没有调试适配器，无法启动调试会话。"},"vs/workbench/contrib/debug/browser/repl":{"actions.repl.acceptInput":"接受 REPL 的输入","actions.repl.copyAll":"调试: 复制控制台所有内容",clearRepl:"清除控制台",collapse:"全部折叠",copy:"复制",copyAll:"全部复制",debugConsole:"调试控制台",debugConsoleCleared:"调试控制台已清除",paste:"粘贴","repl.action.filter":"REPL 将内容聚焦到筛选器",selectRepl:"选择调试控制台","showing filtered repl lines":"正在显示第 {0} 页(共 {1} 页)",startDebugFirst:"请发起调试会话来对表达式求值","workbench.debug.filter.placeholder":"筛选器(例如 text、!exclude)"},"vs/workbench/contrib/debug/browser/replViewer":{debugConsole:"调试控制台",occurred:"，发生了 {0} 次",replGroup:"调试控制器组 {0}",replRawObjectAriaLabel:"调试控制台变量 {0}，值 {1}",replVariableAriaLabel:"变量 {0}，值 {1}"},"vs/workbench/contrib/debug/browser/statusbarColorProvider":{statusBarDebuggingBackground:"调试程序时状态栏的背景色。状态栏显示在窗口底部",statusBarDebuggingBorder:"调试程序时区别于侧边栏和编辑器的状态栏边框颜色。状态栏显示在窗口底部。",statusBarDebuggingForeground:"调试程序时状态栏的前景色。状态栏显示在窗口底部"},"vs/workbench/contrib/debug/browser/variablesView":{cancel:"取消",collapse:"全部折叠",install:"安装",variableAriaLabel:"{0}，值 {1}",variableScopeAriaLabel:"范围 {0}",variableValueAriaLabel:"键入新的变量值",variablesAriaTreeLabel:"调试变量","viewMemory.install.progress":"正在安装十六进制编辑器...","viewMemory.prompt":"要有十六进制编辑器扩展才能检查二进制数据。是否要立即安装?"},"vs/workbench/contrib/debug/browser/watchExpressionsView":{addWatchExpression:"添加表达式",collapse:"全部折叠",removeAllWatchExpressions:"删除所有表达式",typeNewValue:"键入新值",watchAriaTreeLabel:"调试监视表达式",watchExpressionAriaLabel:"{0}，值 {1}",watchExpressionInputAriaLabel:"键入监视表达式",watchExpressionPlaceholder:"要监视的表达式",watchVariableAriaLabel:"{0}，值 {1}"},"vs/workbench/contrib/debug/browser/welcomeView":{allDebuggersDisabled:"禁用所有调试扩展。启用调试扩展或从市场安装新的扩展。",customizeRunAndDebug:"要自定义运行和调试[创建 launch.json 文件](command:{0})。",customizeRunAndDebugOpenFolder:"要自定义运行和调试，请[打开文件夹](command:{0}) 并创建一个启动.json 文件。",detectThenRunAndDebug:"显示所有自动调试配置",openAFileWhichCanBeDebugged:"[打开文件](command:{0})，可调试或运行。",run:"运行",runAndDebugAction:"运行和调试"},"vs/workbench/contrib/debug/common/abstractDebugAdapter":{timeout:"对于“{1}”，{0} 毫秒后超时 "},"vs/workbench/contrib/debug/common/debug":{breakWhenValueChangesSupported:"如果焦点会话支持在值发生更改时中断，则为 True。",breakWhenValueIsAccessedSupported:"如果焦点断点支持在值被访问时中断，则为 True。",breakWhenValueIsReadSupported:"如果焦点断点支持在值被读取时中断，则为 True。",breakpointInputFocused:'当输入框在 "BREAKPOINTS " 视图中具有焦点时为 True。',breakpointItemType:'表示 "BREAKPOINTS " 视图中具有焦点的元素的项类型。例如: "breakpoint"、"exceptionBreakppint"、"functionBreakpoint"、"dataBreakpoint"',breakpointSupportsCondition:"焦点断点支持条件时为 True。",breakpointWidgetVisibile:"如果显示断点编辑器区域小组件，则为 True；否则为 false。",breakpointsExist:"当至少存在一个断点时为 True。",breakpointsFocused:'如果 "BREAKPOINTS" 视图处于焦点，则为 True；否则为 false。',callStackItemStopped:"当停止调用堆栈中具有焦点的项目时为 true。在内部用于调用堆栈视图中的内联菜单。",callStackItemType:'表示“调用堆栈”视图中聚焦元素的项目类型。例如: "session"、"thread"、"stackFrame"',callStackSessionHasOneThread:"当调用堆栈视图中具有焦点的会话恰好具有一个线程时为 true。在内部用于调用堆栈视图中的内联菜单。",callStackSessionIsAttach:"当调用堆栈视图中的会话是“附加”状态时为 true，否则为 false。在内部用于调用堆栈视图中的内联菜单。",canViewMemory:"指示视图中的项是否具有关联的内存引用。",debugConfigurationType:'所选启动配置的调试类型。例如 "python"。',debugExtensionsAvailable:"如果至少安装并启用了一个调试扩展，则为 True。",debugProtocolVariableMenuContext:'表示 "VARIABLES" 视图中调试适配器针对焦点变量设置的上下文。',debugSetExpressionSupported:"当焦点会话支持 “setExpression” 请求时为 True。",debugSetVariableSupported:'焦点会话支持 "setVariable" 请求时为 True。',debugState:"焦点调试会话所处的状态。以下项之一:“非活动”、“正在初始化”、“已停止”或“正在运行”。",debugType:'活动调试会话的调试类型。例如 "python"。',debugUX:"调试 UX 状态。当没有调试配置时，它为“简单”，否则为“默认”。用于确定何时在调试 viewlet 中显示“欢迎”视图。",debuggerDisabled:"已安装配置的调试类型 '{0}'，但其在此环境中不受支持。",debuggersAvailable:"如果至少有一个调试扩展处于活动状态，则为 True。",disassembleRequestSupported:"当重点会话支持反汇编请求时为 True。",disassemblyViewFocus:"当聚焦反汇编视图时为 True。",exceptionWidgetVisible:"当异常小组件可见时为 True。",expressionSelected:'如果在 "WATCH" 或 "VARIABLES" 视图中打开表达式输入框，则为 True，否则为 false。',focusedSessionIsAttach:"焦点会话为“附加”时为 True。",focusedStackFrameHasInstructionReference:"当焦点堆栈帧具有指令指针引用时为 true。",hasDebugged:"如果调试会话已启动至少一次，则为 true，否则为 false。",inBreakpointWidget:"当焦点位于断点编辑器区域小组件中时为 True，否则为 false。",inDebugMode:"调试时为 True，否则为 false。",inDebugRepl:"当焦点位于调试控制台中时为 True，否则为 false。",internalConsoleOptions:"控制应在何时打开内部调试控制台。",jumpToCursorSupported:'当焦点会话支持 "jumpToCursor" 请求时为 True。',languageSupportsDisassembleRequest:"如果当前编辑器中的语言支持反汇编请求，则为 True。",loadedScriptsItemType:'表示 "LOADED SCRIPTS " 视图中具有焦点的元素的项类型。',loadedScriptsSupported:'如果焦点会话支持 "LOADED SCRIPTS " 视图，则为 True',multiSessionDebug:"活动调试会话多于 1 个时为 True。",multiSessionRepl:"调试控制台多于 1 个时为 True。",restartFrameSupported:'焦点会话支持 "restartFrame" 请求时为 True。',stackFrameSupportsRestart:'焦点堆栈帧支持 "restartFrame" 时为 True。',stepBackSupported:'焦点会话支持 "stepBack" 请求时为 True。',stepIntoTargetsSupported:'焦点会话支持 "stepIntoTargets" 请求时为 True。',suspendDebuggeeSupported:"如果重点会话支持暂停调试对象功能，则为 True。",terminateDebuggeeSupported:"如果焦点会话支持终止调试对象功能，则为 True。",variableEvaluateNamePresent:"在焦点变量设置了 “evalauteName” 字段时为 True。",variableIsReadonly:"当焦点变量为只读时为 True。",variablesFocused:'当 "VARIABLES" 视图处于焦点时为 True，否则为 false',watchExpressionsExist:"至少存在一个监视表达式时为 True，否则为 false。",watchExpressionsFocused:'"WATCH " 视图处于焦点时为 True，否则为 false。',watchItemType:'表示“监视”视图中聚焦元素的项目类型。例如: "expression"、"variable"'},"vs/workbench/contrib/debug/common/debugContentProvider":{canNotResolveSource:"无法加载源“{0}”。",canNotResolveSourceWithError:"无法加载源“{0}”: {1}。",unable:"无法解析无调试会话的资源"},"vs/workbench/contrib/debug/common/debugger":{"cannot.find.da":'找不到类型为 "{0}" 的调试适配器。',debugLinuxConfiguration:"特定于 Linux 的启动配置属性。",debugOSXConfiguration:"特定于 OS X 的启动配置属性。",debugRequest:"请求配置类型。可以是“启动”或“附加”。",debugType:"配置类型。",debugTypeNotRecognised:"无法识别此调试类型。确保已经安装并启用相应的调试扩展。",debugWindowsConfiguration:"特定于 Windows 的启动配置属性。","launch.config.comment1":"使用 IntelliSense 了解相关属性。 ","launch.config.comment2":"悬停以查看现有属性的描述。","launch.config.comment3":"欲了解更多信息，请访问: {0}",node2NotSupported:'不再支持 "node2"，改用 "node"，并将 "protocol" 属性设为 "inspector"。'},"vs/workbench/contrib/debug/common/debugLifecycle":{"debug.debugSessionCloseConfirmationPlural":"存在活动的调试会话，是否确定要终止它们?","debug.debugSessionCloseConfirmationSingular":"存在活动的调试会话，是否确定要终止它?","debug.stop":"停止调试(&&S)"},"vs/workbench/contrib/debug/common/debugModel":{breakpointDirtydHover:"未验证的断点。对文件进行了修改，请重启调试会话。",invalidVariableAttributes:"无效的变量属性",notAvailable:"不可用",paused:"已暂停",pausedOn:"因 {0} 已暂停",running:"正在运行",startDebugFirst:"请发起调试会话来对表达式求值"},"vs/workbench/contrib/debug/common/debugSchemas":{"app.launch.json.compound.folder":"复合项所在的文件夹的名称。","app.launch.json.compound.name":"复合的名称。在启动配置下拉菜单中显示。","app.launch.json.compound.stopAll":"控制手动终止一个会话是否将停止所有复合会话。","app.launch.json.compounds":"复合列表。每个复合可引用多个配置，这些配置将一起启动。","app.launch.json.compounds.configurations":"将作为此复合的一部分启动的配置名称。","app.launch.json.configurations":"配置列表。使用 IntelliSense 添加新配置或编辑现有配置。","app.launch.json.title":"启动","app.launch.json.version":"此文件格式的版本。",compoundPrelaunchTask:"要在任何复合配置开始之前运行的任务。",presentation:"有关如何在调试配置下拉列表和命令面板中显示此配置的演示选项。","presentation.group":"此配置所属的组。用于在配置下拉列表和命令面板中分组和排序。","presentation.hidden":"控制此配置是否应显示在配置下拉列表和命令面板中。","presentation.order":"此配置在组内的顺序。用于在配置下拉列表和命令面板中分组和排序。",useUniqueNames:"配置名称必须唯一。","vscode.extension.contributes.breakpoints":"添加断点。","vscode.extension.contributes.breakpoints.language":"对此语言允许断点。","vscode.extension.contributes.breakpoints.when":"必须为 true 才能启用此语言中断点的条件。如果子句适用，请考虑将其与调试器匹配。","vscode.extension.contributes.debuggers":"用于调试适配器。","vscode.extension.contributes.debuggers.args":"要传递给适配器的可选参数。","vscode.extension.contributes.debuggers.configurationAttributes":'用于验证 "launch.json" 的 JSON 架构配置。',"vscode.extension.contributes.debuggers.configurationSnippets":'用于在 "launch.json" 中添加新配置的代码段。',"vscode.extension.contributes.debuggers.deprecated":"将此调试类型标记为已弃用的可选消息。","vscode.extension.contributes.debuggers.initialConfigurations":'用于生成初始 "launch.json" 的配置。',"vscode.extension.contributes.debuggers.label":"显示此调试适配器的名称。","vscode.extension.contributes.debuggers.languages":"可能被视为“默认调试程序”的调试扩展的语言列表。","vscode.extension.contributes.debuggers.linux":"Linux 特定的设置。","vscode.extension.contributes.debuggers.linux.runtime":"用于 Linux 的运行时。","vscode.extension.contributes.debuggers.osx":"macOS 特定的设置。","vscode.extension.contributes.debuggers.osx.runtime":"用于 macOS 的运行时。","vscode.extension.contributes.debuggers.program":"调试适配器程序的路径。该路径是绝对路径或相对于扩展文件夹的相对路径。","vscode.extension.contributes.debuggers.runtime":"可选运行时，以防程序属性不可执行，但需要运行时。","vscode.extension.contributes.debuggers.runtimeArgs":"可选运行时参数。","vscode.extension.contributes.debuggers.strings":"由此调试适配器提供的 UI 字符串。","vscode.extension.contributes.debuggers.strings.unverifiedBreakpoints":"当此调试适配器支持的语言中存在未经验证的断点时，此消息将显示在断点悬停时和断点视图中。支持 Markdown 和命令链接。","vscode.extension.contributes.debuggers.type":"此调试适配器的唯一标识符。","vscode.extension.contributes.debuggers.variables":'正在将 "launch. json" 中的交互式变量(例如 ${action.pickProcess})映射到命令。',"vscode.extension.contributes.debuggers.when":"必须为 true 才能启用此类型调试器的条件。请考虑根据需要为此项使用 “shellExecutionSupported”、“virtualWorkspace”、“resourceScheme” 或扩展定义的上下文键。","vscode.extension.contributes.debuggers.windows":"Windows 特定的设置。","vscode.extension.contributes.debuggers.windows.runtime":"用于 Windows 的运行时。"},"vs/workbench/contrib/debug/common/debugSource":{unknownSource:"未知源"},"vs/workbench/contrib/debug/common/disassemblyViewInput":{disassemblyInputName:"反汇编"},"vs/workbench/contrib/debug/common/loadedScriptsPicker":{"moveFocusedView.selectView":"按名称搜索加载的脚本"},"vs/workbench/contrib/debug/common/replModel":{consoleCleared:"控制台已清除"},"vs/workbench/contrib/debug/node/debugAdapter":{debugAdapterBinNotFound:"调试适配器可执行的“{0}”不存在。",debugAdapterCannotDetermineExecutable:"无法确定调试适配器“{0}”的可执行文件。",unableToLaunchDebugAdapter:"无法从“{0}”启动调试适配器。",unableToLaunchDebugAdapterNoArgs:"无法启动调试适配器。"},"vs/workbench/contrib/deprecatedExtensionMigrator/browser/deprecatedExtensionMigrator.contribution":{"bracketPairColorizer.notification":"扩展“括号对着色器”已禁用，因为它已被弃用。","bracketPairColorizer.notification.action.enableNative":"启用本机括号对着色","bracketPairColorizer.notification.action.showMoreInfo":"详细信息","bracketPairColorizer.notification.action.uninstall":"卸载扩展"},"vs/workbench/contrib/editSessions/browser/editSessions.contribution":{autoResumeWorkingChanges:"控制是否为当前工作区自动继续存储在云中的可用工作更改。","autoResumeWorkingChanges.off":"从不尝试从云中继续工作更改。","autoResumeWorkingChanges.onReload":"在窗口重新加载时自动从云中继续可用的工作更改。",autoStoreWorkingChanges:"正在存储当前工作更改...","autoStoreWorkingChanges.off":"从不尝试在云中自动存储工作更改。","autoStoreWorkingChanges.onShutdown":"在窗口关闭时自动将当前工作更改存储在云中。",autoStoreWorkingChangesDescription:"控制是否为当前工作区自动将可用工作更改存储在云中。此设置在 Web 中无效。","check for pending cloud changes":"检查挂起的云更改",checkingForWorkingChanges:"检查挂起的云更改...","client too old":"请升级到较新版本的 {0} 以从云中恢复工作更改。",cloudChangesPartialMatchesEnabled:"控制是否显示与当前会话部分匹配的云更改。","continue edit session in local folder":"在本地文件夹中打开","continue with cloud changes":"选择是否将工作更改带上。","continue working on":"继续处理...","continueEditSession.openLocalFolder.title.v2":"选择要继续在其中工作的本地文件夹",continueEditSessionExtPoint:"提供用于在其他环境中继续当前编辑会话的选项","continueEditSessionExtPoint.command":"要执行的命令的标识符。必须在 'commands'-section 中声明该命令，并返回一个 URI，表示可以继续执行当前编辑会话的其他环境。","continueEditSessionExtPoint.description":"选项的文档页面的 URL 或返回此 URL 的命令。","continueEditSessionExtPoint.group":"此项所属的组。","continueEditSessionExtPoint.qualifiedName":"此项的完全限定名称，用于在菜单中显示。","continueEditSessionExtPoint.remoteGroup":"此项在远程指示器中所属的组。","continueEditSessionExtPoint.when":"此条件必须为 true 才能显示此项。","continueEditSessionItem.builtin":"内置","continueEditSessionItem.openInLocalFolder.v2":"在本地文件夹中打开","continueEditSessionPick.title.v2":"选择开发环境以继续在以下位置处理 {0}","continueOn.installAdditional":"安装其他开发环境选项",continueOnCloudChanges:"控制在使用“继续工作”时是否提示用户将工作更改存储在云中。","continueOnCloudChanges.off":"除非用户已启用云更改，否则请勿通过“继续工作”将工作更改存储在云中。","continueOnCloudChanges.promptForAuth":"通过“继续工作”，提示用户登录以在云中存储工作更改。","continueWorkingOn.existingLocalFolder":"继续在现有本地文件夹中工作",editSessionPartialMatch:"你在此工作区的云中有待处理的工作更改。是否要恢复它们?",learnMoreTooltip:"了解详细信息","no cloud changes":"没有从云中恢复的更改。","no cloud changes for ref":"无法从云中恢复 ID {0} 的更改。","no working changes to store":"已跳过在云中存储工作更改，因为没有要存储的编辑。","payload failed":"无法存储工作更改。","payload too large":"你的工作更改超出了大小限制，无法存储。",resume:"继续","resume cloud changes":"从序列化数据继续更改","resume edit session warning 1":"从云中恢复工作更改将覆盖 {0}。是否要继续?","resume edit session warning many":"从云中恢复工作更改将覆盖以下 {0} 文件。是否要继续?","resume failed":"无法从云中恢复工作更改。","resume latest cloud changes":"从云恢复最新更改","resuming working changes window":"正在恢复工作更改...","show cloud changes":"显示云更改","show log":"显示日志","store working changes":"正在存储工作更改...","store working changes in cloud":"在云中存储工作更改","store your working changes":"正在存储工作更改...","storing working changes":"正在存储工作更改...","with cloud changes":"是，继续并进行工作更改","without cloud changes":"否，继续但不进行工作更改"},"vs/workbench/contrib/editSessions/browser/editSessionsStorageService":{"choose account placeholder":"选择要在云中存储工作更改的帐户","choose account read placeholder":"选择要从云中还原工作更改的帐户","delete all cloud changes":"从云中删除所有存储的数据。",others:"其他","reset auth.v3":"关闭云更改...","sign in":"打开云更改...","sign in badge":"打开云更改... (1)","sign in using account":"使用 {0} 登录","sign out of cloud changes clear data prompt":"是否要禁用在云中存储工作更改?","signed in":"已登录"},"vs/workbench/contrib/editSessions/browser/editSessionsViews":{"cloud changes":"云更改","compare changes":"比较更改","confirm delete all":"是否确定要从云中永久删除所有存储的更改?","confirm delete all detail":" 无法撤消此操作。","confirm delete detail.v2":" 无法撤消此操作。","confirm delete.v2":"是否确定要使用 ref {0} 永久删除工作更改?","local copy":"本地副本",noStoredChanges:`云中没有要显示的已存储更改。\r
{0}`,"open file":"打开文件",storeWorkingChangesTitle:"存储工作更改","workbench.editSessions.actions.delete.v2":"删除工作更改","workbench.editSessions.actions.deleteAll":"从云中删除所有工作更改","workbench.editSessions.actions.resume.v2":"继续工作更改","workbench.editSessions.actions.store.v2":"存储工作更改"},"vs/workbench/contrib/editSessions/common/editSessions":{"cloud changes":"云更改",editSessionViewIcon:"云更改视图的视图图标。"},"vs/workbench/contrib/editSessions/common/editSessionsLogService":{cloudChangesLog:"云更改"},"vs/workbench/contrib/emmet/browser/actions/expandAbbreviation":{expandAbbreviationAction:"Emmet: 展开缩写",miEmmetExpandAbbreviation:"Emmet: 展开缩写(&&X)"},"vs/workbench/contrib/experiments/browser/experiments.contribution":{"workbench.enableExperiments":"从 Microsoft 联机服务中获取要进行的实验。"},"vs/workbench/contrib/extensions/browser/abstractRuntimeExtensionsEditor":{"copy id":"副本 ID ({0})",disable:"禁用","disable workspace":"禁用(工作区)",errors:"{0} 个未捕获的错误",extensionActivating:"正在激活扩展...",languageActivation:"因你打开 {0} 文件而被 {1} 激活",runtimeExtensions:"运行时扩展",showRuntimeExtensions:"显示正在运行的扩展",starActivation:"已在启动时由 {0} 激活",startupFinishedActivation:"启动完成后已由 {0} 激活","unresponsive.title":"扩展已导致扩展主机冻结。",workspaceContainsFileActivation:"已由 {1} 激活，因为你的工作区中存在文件 {0}",workspaceContainsGlobActivation:"已由 {1} 激活，因为你的工作区中存在与 {0} 匹配的文件",workspaceContainsTimeout:"因搜索 {0} 耗时太长而被 {1} 激活",workspaceGenericActivation:"已由 {1} 在 {0} 时激活"},"vs/workbench/contrib/extensions/browser/configBasedRecommendations":{exeBasedRecommendation:"根据当前工作区的配置，建议使用此扩展"},"vs/workbench/contrib/extensions/browser/deprecatedExtensionsChecker":{"deprecated extensions":"你已安装弃用的扩展。我们建议查看它们并迁移到替代项。",neverShowAgain:"不再显示",showDeprecated:"显示已弃用的扩展"},"vs/workbench/contrib/extensions/browser/exeBasedRecommendations":{exeBasedRecommendation:"由于你已安装 {0}，建议使用此扩展。"},"vs/workbench/contrib/extensions/browser/extensionEditor":{"Changelog title":"更改日志","JSON Validation":"JSON 验证({0})",Marketplace:"市场","Marketplace Info":"详细信息","Notebook id":"ID","Notebook mimetypes":"Mimetypes","Notebook name":"名称","Notebook renderer name":"名称",NotebookRenderers:"笔记本呈现器({0})",Notebooks:"Notebooks({0})","Readme title":"自述文件",activatedBy:"激活者:","activation events":"激活事件({0})","activation reason":"激活事件:","activation time":"激活时间:",authentication:"身份验证({0})","authentication.id":"ID","authentication.label":"标签",builtin:"内置",categories:"类别",changelog:"更改日志",changelogtooltip:'扩展的更新历史，显示扩展的 "CHANGELOG.md" 文件。',codeActions:"代码操作({0})","codeActions.description":"说明","codeActions.kind":"种类","codeActions.languages":"语言","codeActions.title":"标题",colorId:"ID",colorThemes:"颜色主题 ({0})",colors:"颜色 ({0})","command name":"ID","command title":"标题",commands:"命令({0})",contributions:"功能贡献",contributionstooltip:"包含此扩展向 VS Code 编辑器提供的功能",customEditors:"自定义编辑器({0})","customEditors filenamePattern":"文件名模式","customEditors priority":"优先级","customEditors view type":"视图类型","debugger name":"名称","debugger type":"类型",debuggers:"调试程序({0})",default:"默认值",defaultDark:"深色默认",defaultHC:"高对比度默认",defaultLight:"浅色默认",dependencies:"依赖项",dependenciestooltip:"包含此扩展依赖的扩展",description:"说明",details:"细节",detailstooltip:'扩展详细信息，显示扩展的 "README.md" 文件。',"extension pack":"扩展包({0})","extension version":"扩展版本",extensionpack:"扩展包",extensionpacktooltip:"列出将与此扩展一起安装的扩展","file extensions":"文件扩展名",fileMatch:"匹配文件",find:"查找","find next":"查找下一个","find previous":"查找前一个",grammar:"语法",iconThemes:"图标主题 ({0})",id:"标识符","install count":"安装计数","keyboard shortcuts":"键盘快捷方式","language id":"ID","language name":"名称",languages:"语言({0})","last released":"上次发布时间","last updated":"上次更新时间",license:"许可证",localizations:"本地化 ({0})","localizations language id":"语言 ID","localizations language name":"语言名称","localizations localized language name":"语言本地名称",menuContexts:"菜单上下文",messages:"消息({0})",name:"扩展名",noChangelog:"无可用的更改日志。",noContributions:"没有发布内容",noDependencies:"没有依赖项",noReadme:"无可用自述文件。",noStatus:"无可用状态。","not yet activated":"尚未激活。",preRelease:"预发布",preview:"预览版",productThemes:"产品图标主题({0})",published:"已发布",publisher:"发布服务器",rating:"评分",repository:"仓库",resources:"扩展资源",runtimeStatus:"运行时状态","runtimeStatus description":"扩展运行时状态",schema:"结构","setting name":"ID",settings:"设置({0})",snippets:"片段",startup:"启动","uncaught errors":"未捕获的错误({0})","view container id":"ID","view container location":"位置","view container title":"标题","view id":"ID","view location":"位置","view name":"名称",viewContainers:"视图容器 ({0})",views:"视图 ({0})"},"vs/workbench/contrib/extensions/browser/extensionEnablementWorkspaceTrustTransitionParticipant":{"restartExtensionHost.reason":"由于工作区信任更改，正在重启扩展主机。"},"vs/workbench/contrib/extensions/browser/extensionRecommendationNotificationService":{exeRecommended:"你的系统上安装了 {0}。是否要为其安装推荐的 {1}?",extensionFromPublisher:'来自 {1} 的 "{0}" 扩展',extensionsFromMultiplePublishers:"来自 {0}、{1} 和其他的扩展",extensionsFromPublisher:"来自 {0} 的扩展",extensionsFromPublishers:"来自 {0} 和 {1} 的扩展",ignoreAll:"是，全部忽略",ignoreExtensionRecommendations:"是否要忽略所有扩展建议?",install:"安装","install and do no sync":"安装(不同步)",neverShowAgain:"不再显示",no:"否",recommended:"是否要为 {1} 安装推荐的 {0}?","show recommendations":"显示建议","this repository":"此存储库"},"vs/workbench/contrib/extensions/browser/extensions.contribution":{InstallFromVSIX:"从 VSIX 安装…","InstallVSIXAction.reloadNow":"立即重载","InstallVSIXAction.success":"已完成从 VSIX 安装 {0} 扩展的过程。","InstallVSIXAction.successReload":"已完成从 VSIX 安装 {0} 扩展的过程。请重新加载 Visual Studio Code 以启用它。",all:"所有扩展",builtin:"扩展“{0}”是内置扩展，无法安装","builtin filter":"内置",checkForUpdates:"检查扩展更新",clearExtensionsSearchResults:"清除扩展搜索结果","configure auto updating extensions":"自动更新扩展","configureExtensionsAutoUpdate.all":"所有扩展","configureExtensionsAutoUpdate.enabled":"仅限已启用的扩展","configureExtensionsAutoUpdate.none":"无",disableAll:"禁用所有已安装的扩展",disableAllWorkspace:"禁用此工作区的所有已安装的扩展",disableAutoUpdate:"为所有扩展禁用自动更新","disabled filter":"已禁用",enableAll:"启用所有扩展",enableAllWorkspace:"启用这个工作区的所有扩展",enableAutoUpdate:"为所有扩展启用自动更新",enabled:"仅限已启用的扩展","enabled filter":"已启用",extension:"扩展","extension updates filter":"更新",extensionInfoDescription:"说明: {0}",extensionInfoId:"ID: {0}",extensionInfoName:"名称: {0}",extensionInfoPublisher:"发布者: {0}",extensionInfoVSMarketplaceLink:"VS Marketplace 链接: {0}",extensionInfoVersion:"版本: {0}",extensionUpdates:"显示扩展更新",extensions:"扩展","extensions.affinity":"配置要在其他扩展主机进程中执行的扩展。","extensions.autoUpdate":"控制扩展的自动更新行为。更新是从 Microsoft 联机服务中获取的。","extensions.autoUpdate.enabled":"仅对启用的扩展自动下载和安装更新，但忽略这些更新。禁用的扩展不会自动更新。","extensions.autoUpdate.false":"扩展不会自动更新。","extensions.autoUpdate.true":"将忽略除这些更新之外的所有扩展自动下载和安装更新。","extensions.supportUntrustedWorkspaces":"替代扩展的不受信任的工作区支持。将始终启用使用 “true” 的扩展。将始终启用使用 “limited” 的扩展，并且扩展将隐藏需要信任的功能。仅当工作区受信任时才会启用使用 “false” 的扩展。","extensions.supportUntrustedWorkspaces.false":"只有在工作区受信任时才会启用扩展。","extensions.supportUntrustedWorkspaces.limited":"将始终启用扩展，并且扩展将隐藏需要信任的功能。","extensions.supportUntrustedWorkspaces.supported":"定义扩展的不受信任的工作区支持设置。","extensions.supportUntrustedWorkspaces.true":"将始终启用扩展。","extensions.supportUntrustedWorkspaces.version":"定义应应用替代的扩展的版本。如果未指定，则将在独立于扩展版本的情况下应用替代。","extensions.supportVirtualWorkspaces":"替代扩展的虚拟工作区支持。",extensionsCheckUpdates:"启用后，将自动检查扩展更新。若扩展存在更新，将在“扩展”视图中将其标记为过时扩展。更新将从 Microsoft 联机服务中获取。",extensionsCloseExtensionDetailsOnViewChange:"启用后，将在离开“扩展”视图时，自动关闭扩展详细信息页面。",extensionsConfigurationTitle:"扩展",extensionsDeferredStartupFinishedActivation:"启用后，将在超时后激活声明“onStartupFinished”激活事件的扩展。",extensionsIgnoreRecommendations:"启用后，将不会显示扩展建议的通知。",extensionsShowRecommendationsOnlyOnDemand_Deprecated:"已弃用此设置。使用 extensions.ignoreRecommendations 设置来控制建议通知。默认使用“扩展”视图的可见性操作来隐藏“建议”视图。",extensionsWebWorker:"启用 Web Worker 扩展主机。","extensionsWebWorker.auto":"Web 辅助角色扩展主机将在 Web 扩展需要时启动。","extensionsWebWorker.false":"Web 辅助角色扩展主机将永远不会启动。","extensionsWebWorker.true":"Web 辅助角色扩展主机将始终启动。","featured filter":"特色","filter by category":"类别",filterExtensions:"筛选器扩展…",handleUriConfirmedExtensions:"当此处列出扩展名时，该扩展名处理URI时将不会显示确认提示。","id required":"扩展 ID 是必需的。",importKeyboardShortcutsFroms:"从 - 中迁移键盘快捷方式...","install button":"安装",installButton:"安装(&&I)",installExtensionFromLocation:"从位置安装扩展...",installExtensionQuickAccessHelp:"安装或搜索扩展",installExtensionQuickAccessPlaceholder:"键入要安装或搜索的扩展的名称。",installExtensions:"安装扩展",installFromLocation:"从位置安装扩展",installFromLocationPlaceHolder:"Web 扩展的位置",installFromVSIX:"从 VSIX 文件安装",installVSIX:"安装扩展 VSIX",installWorkspaceRecommendedExtensions:"安装工作区建议的扩展",manageExtensionsHelp:"管理扩展",manageExtensionsQuickAccessPlaceholder:"按 Enter 以管理扩展。",miPreferencesExtensions:"扩展(&&E)",miViewExtensions:"扩展(&&X)","most popular filter":"最热门","most popular recommended":"推荐",noUpdatesAvailable:"所有扩展都是最新的。",none:"无",notFound:"找不到扩展“{0}”。",notInstalled:"未安装扩展“{0}”。请确保你使用包括发布者的完整的扩展 ID，例如 ms-vscode.csharp。","recently published filter":"最近发布",recentlyPublishedExtensions:"显示最近发布的扩展",refreshExtension:"刷新","show pre-release version":"显示预发布版本","show released version":"显示发布版本",showBuiltInExtensions:"显示内置的扩展",showDisabledExtensions:"显示已禁用的扩展",showEnabledExtensions:"显示启用的扩展",showExtensions:"扩展",showFeaturedExtensions:"显示特别推荐的扩展",showLanguageExtensionsShort:"语言扩展",showPopularExtensions:"显示常用的扩展",showRecommendedExtensions:"显示推荐的扩展",showRecommendedKeymapExtensionsShort:"键映射",showWorkspaceUnsupportedExtensions:"显示工作区不支持的扩展","sort by installs":"安装计数","sort by name":"名称","sort by published date":"发布日期","sort by rating":"评分","sort by update date":"更新日期","sorty by":"排序依据",updateAll:"更新所有扩展","workbench.extensions.action.addExtensionToWorkspaceRecommendations":"添加到工作区建议","workbench.extensions.action.addToWorkspaceFolderIgnoredRecommendations":"将扩展添加到工作区文件夹“已忽略的建议”","workbench.extensions.action.addToWorkspaceFolderRecommendations":"将扩展添加到工作区文件夹“建议”","workbench.extensions.action.addToWorkspaceIgnoredRecommendations":"将扩展添加到工作区“已忽略的建议”","workbench.extensions.action.addToWorkspaceRecommendations":"将扩展添加到工作区“建议”","workbench.extensions.action.configure":"扩展设置","workbench.extensions.action.configureKeybindings":"扩展键盘快捷方式","workbench.extensions.action.copyExtension":"复制","workbench.extensions.action.copyExtensionId":"复制扩展 ID","workbench.extensions.action.ignoreRecommendation":"忽略建议","workbench.extensions.action.removeExtensionFromWorkspaceRecommendations":"从工作区建议中删除","workbench.extensions.action.toggleApplyToAllProfiles":"将扩展应用于所有配置文件","workbench.extensions.action.toggleIgnoreExtension":"同步此扩展","workbench.extensions.action.undoIgnoredRecommendation":"撤消已忽略的建议","workbench.extensions.installExtension.arg.decription":"扩展 ID 或 VSIX 资源 URI","workbench.extensions.installExtension.description":"安装给定的扩展","workbench.extensions.installExtension.option.context":"安装的上下文。这是一个 JSON 对象，可用于将任何信息传递给安装处理程序。例如，“{skipWalkthrough: true}”将在安装时跳过打开演练。","workbench.extensions.installExtension.option.donotSync":"启用后，VS Code 在启用“设置同步”时不同步此扩展。","workbench.extensions.installExtension.option.installOnlyNewlyAddedFromExtensionPackVSIX":"启用后，VS Code 仅安装来自扩展包 VSIX 的新添加的扩展。仅在安装 VSIX 时才考虑此选项。","workbench.extensions.installExtension.option.installPreReleaseVersion":"启用后，VS Code 将安装扩展的预发布版本(如果可用)。","workbench.extensions.search.arg.name":"要在搜索中使用的查询","workbench.extensions.search.description":"搜索特定扩展","workbench.extensions.uninstallExtension.arg.name":"要卸载的扩展的 id","workbench.extensions.uninstallExtension.description":"卸载给定的扩展","workspace unsupported filter":"工作区不受支持"},"vs/workbench/contrib/extensions/browser/extensions.web.contribution":{runtimeExtension:"正在运行扩展"},"vs/workbench/contrib/extensions/browser/extensionsActions":{"Cannot be enabled":"已禁用此扩展，因为它在 {0} web 版中不受支持。","Defined to run in desktop":"已禁用此扩展，因为它被定义为仅在桌面上的 {0} 中运行。","Install in local server to enable":"此扩展在此工作区中被禁用，因为其被定义为在本地扩展主机中运行。请在本地安装扩展以进行启用。","Install in remote server to enable":"此扩展在此工作区中被禁用，因为其被定义为在远程扩展主机中运行。请在 '{0}' 中安装扩展以进行启用。","Install language pack also in remote server":"在“{0}”上安装语言包扩展，使其还在此处启用。","Install language pack also locally":"在本地安装语言包扩展，使其还在此处启用。","InstallVSIXAction.reloadNow":"立即重新加载","ManageExtensionAction.uninstallingTooltip":"正在卸载","OpenExtensionsFile.failed":'无法在 ".vscode" 文件夹({0})内创建 "extensions.json" 文件。',"ReinstallAction.success":"扩展 {0} 重新安装完毕。","ReinstallAction.successReload":"请重新加载 Visual Studio Code 以完成扩展 {0} 的重新安装。","Show alternate extension":"打开 {0}(&&O)",Uninstalling:"正在卸载","VS Code for Web":"{0} Web 版",cancel:"取消","cannot be installed":"“{0}”扩展在 {1} 中不可用。若要了解详细信息，请单击“详细信息”。","check logs":"有关更多详细信息，请查看[日志]({0})。",close:"关闭","configure in settings":"配置设置(&&C)",configureWorkspaceFolderRecommendedExtensions:"配置建议的扩展(工作区文件夹)",configureWorkspaceRecommendedExtensions:"配置建议的扩展(工作区)",current:"当前","deprecated message":"此扩展已弃用，因为已不再对其进行维护。","deprecated tooltip":"此扩展已弃用，因为已不再对其进行维护。","deprecated with alternate extension message":"此扩展已弃用。请改用 {0}扩展。","deprecated with alternate extension tooltip":"此扩展已弃用。请改用 {0}扩展。","deprecated with alternate settings message":"此扩展已弃用，因为此功能现在内置于 VS Code。","deprecated with alternate settings tooltip":"此扩展已弃用，因为此功能现在内置于 VS Code。配置这些 {0} 以使用此功能。",disableAction:"禁用",disableForWorkspaceAction:"禁用(工作区)",disableForWorkspaceActionToolTip:"仅在此工作区中禁用此扩展",disableGloballyAction:"禁用",disableGloballyActionToolTip:"禁用此扩展",disabled:"已禁用","disabled because of virtual workspace":"此扩展已禁用，因为它不支持虚拟工作区。","disabled by environment":"环境已禁用此扩展。","do not sync":"不同步此扩展",download:"请尝试手动下载…",enableAction:"启用",enableForWorkspaceAction:"启用(工作区)",enableForWorkspaceActionToolTip:"仅在此工作区中启用此扩展",enableGloballyAction:"启用",enableGloballyActionToolTip:"启用此扩展",enabled:"已启用","enabled by environment":"已启用此扩展，因为在当前环境中需要此扩展。","enabled in web worker":"此扩展将在辅助角色扩展主机中弃用，因为这是其首选运行位置。","enabled locally":"此扩展在本地扩展主机中被启用，因为这是其首选运行处。","enabled remotely":"此扩展在远程扩展主机中被启用，因为这是其首选运行处。","extension disabled because of dependency":"已禁用此扩展，因为它依赖于已禁用的扩展。","extension disabled because of trust requirement":"当前工作区不受信任，因此已禁用此扩展。","extension enabled on remote":"已在“{0}”上启用扩展","extension limited because of trust requirement":"当前工作区不受信任，因此已限制此扩展的功能。","extension limited because of virtual workspace":"此拓展功能受限，因为当前工作区为虚拟。",extensionButtonBackground:"扩展操作的按钮背景色。",extensionButtonForeground:"扩展操作的按钮前景色。",extensionButtonHoverBackground:"扩展操作的按钮背景悬停颜色。",extensionButtonProminentBackground:"扩展操作中突出按钮背景色(比如安装按钮)。",extensionButtonProminentForeground:"扩展操作中突出按钮前景色(比如安装按钮)。",extensionButtonProminentHoverBackground:"扩展操作中突出按钮被悬停时的颜色(比如安装按钮)。",extensionButtonSeparator:"扩展操作的按钮分隔符颜色","finished installing":"已成功安装扩展。","globally disabled":"用户已全局禁用此扩展。","globally enabled":"此扩展已全局启用。",ignoreExtensionRecommendation:"不再推荐此扩展",ignoreExtensionUpdate:"忽略 {0} 更新",ignoreUpdates:"忽略更新",ignored:"同步时将忽略此扩展","incompatible platform":"'{0}' 扩展在 {1} 中对于 {2} 不可用。",install:"安装","install another version":"安装另一个版本…","install anyway":"仍然安装","install browser":"在浏览器中安装","install confirmation":"是否确实要安装“{0}”?","install in remote":"在 {0} 中安装","install local extensions title":"在“{0}”中安装本地扩展","install locally":"本地安装","install operation":'安装 "{0}" 扩展时出错。',"install pre-release":"安装预发布版本","install pre-release version":"安装预发布版本","install previous version":"安装特定版本的扩展…","install release version":"安装发布版本","install remote extensions":"本地安装远程扩展","install vsix":"下载后，请手动安装“{0}”的 VSIX。",installExtensionComplete:"已完成安装扩展 {0}。",installExtensionStart:"已启动安装扩展 {0}。将打开编辑器，显示此扩展的更多详细信息。",installRecommendedExtension:"安装推荐的扩展",installVSIX:"从 VSIX 安装...",installed:"已安装",installing:"正在安装","installing extensions":"正在安装扩展...","learn more":"了解详细信息","learn why":"了解原因","malicious tooltip":"此扩展被报告存在问题。",manage:"管理",migrate:"迁移","migrate to":"迁移到 {0}",migrateExtension:"迁移","more information":"更多信息(&&R)","no local extensions":"没有要安装的扩展。","no versions":"此扩展没有其他版本。","not web tooltip":"“{0}”扩展在 {1} 中不可用。","pre-release":"预发布",reinstall:"重新安装扩展...","reload required":"需要重新加载",reloadAction:"重新加载","search recommendations":"搜索扩展","select and install local extensions":"在“{0}”中安装本地扩展…","select and install remote extensions":"本地安装远程扩展…","select color theme":"选择颜色主题","select extensions to install":"选择要安装的扩展","select file icon theme":"选择文件图标主题","select product icon theme":"选择产品图标主题",selectExtension:"选择扩展",selectExtensionToReinstall:"选择要重新安装的扩展",selectVersion:"选择要安装的版本",settings:"设置",showRecommendedExtension:"显示推荐的扩展","signature verification failed":'{0} 无法验证 "{1}" 扩展。确定要安装它吗?',"switch to pre-release version":"切换到预发布版本","switch to pre-release version tooltip":"切换到此扩展的预发布版本","switch to release version":"切换为发布版本","switch to release version tooltip":"切换到此扩展的发布版本",sync:"同步此扩展",synced:"已同步此扩展",undo:"撤消",uninstallAction:"卸载",uninstallExtensionComplete:"请重新加载 Visual Studio Code 以完成对扩展 {0} 的卸载。",uninstallExtensionStart:"开始卸载扩展{0}。",uninstalled:"已卸载",update:"更新","update operation":'更新 "{0}" 扩展时出错。',"update to":"更新到 v{0}",updateExtensionComplete:"已完成更新扩展 {0} 到版本 {1}。",updateExtensionStart:"已启动更新扩展 {0} 到版本 {1}。",updated:"已更新","workbench.extensions.action.clearLanguage":"清除显示语言","workbench.extensions.action.setColorTheme":"设置颜色主题","workbench.extensions.action.setDisplayLanguage":"设置显示语言","workbench.extensions.action.setFileIconTheme":"设置文件图标主题","workbench.extensions.action.setProductIconTheme":"设置产品图标主题","workspace disabled":"用户已为此工作区禁用此扩展。","workspace enabled":"用户已为此工作区启用此扩展。"},"vs/workbench/contrib/extensions/browser/extensionsActivationProgress":{activation:"正在激活扩展..."},"vs/workbench/contrib/extensions/browser/extensionsCompletionItemsProvider":{exampleExtension:"示例"},"vs/workbench/contrib/extensions/browser/extensionsDependencyChecker":{"auto install missing deps":"安装缺少的依赖项",extensions:"扩展","finished installing missing deps":"缺少的依赖项已安装完毕。请立即重新加载窗口。","no missing deps":"没有任何缺少的依赖项待安装。",reload:"重新加载窗口"},"vs/workbench/contrib/extensions/browser/extensionsIcons":{activationtimeIcon:"在扩展编辑器中显示带有激活时间消息的图标。",clearSearchResultsIcon:"扩展视图中“清除搜索结果”操作的图标。",configureRecommendedIcon:"扩展视图中“配置建议的扩展”操作的图标。",errorIcon:"在扩展编辑器中显示带有错误消息的图标。",extensionsViewIcon:"查看扩展视图的图标。",filterIcon:"扩展视图中“筛选器”操作的图标。",infoIcon:"扩展编辑器中随信息消息一同显示的图标。",installCountIcon:"扩展视图和编辑器中随安装计数一起显示的图标。",installLocalInRemoteIcon:"扩展视图中“在远程安装本地扩展”操作的图标。",installWorkspaceRecommendedIcon:"扩展视图中“安装工作区建议的扩展”操作的图标。",manageExtensionIcon:"扩展视图中“管理”操作的图标。",preReleaseIcon:"为具有预发布版本的扩展在扩展视图和编辑器中显示的图标。",ratingIcon:"扩展视图和编辑器中随评级一起显示的图标。",refreshIcon:"扩展视图中“刷新”操作的图标。",remoteIcon:"用于在扩展视图和编辑器中指示扩展是远程内容的图标。",sponsorIcon:"用于在扩展视图和编辑器中赞助扩展的图标。",starEmptyIcon:"扩展编辑器中用于评级的中空星形图标。",starFullIcon:"扩展编辑器中用于评级的实心星形图标。",starHalfIcon:"扩展编辑器中用于评级的半星图标。",syncEnabledIcon:"用于指示扩展已同步的图标。",syncIgnoredIcon:"用于指示在同步时忽略扩展的图标。",trustIcon:"扩展编辑器中随工作区信任消息一同显示的图标。",verifiedPublisher:"用于扩展视图和编辑器中已验证扩展发布服务器的图标。",warningIcon:"扩展编辑器中随警告消息一同显示的图标。"},"vs/workbench/contrib/extensions/browser/extensionsQuickAccess":{install:"按 Enter 来安装扩展“{0}”。",manage:"按 Enter 来管理扩展。",searchFor:'按 Enter 以搜索扩展"{0}"。',type:"键入扩展名称进行安装或搜索。"},"vs/workbench/contrib/extensions/browser/extensionsViewer":{"Unknown Extension":"未知扩展:",error:"错误",extensions:"扩展"},"vs/workbench/contrib/extensions/browser/extensionsViewlet":{availableUpdates:"可用更新",builtInThemesExtensions:"主题",builtin:"内置",builtinFeatureExtensions:"功能",builtinProgrammingLanguageExtensions:"编程语言",deprecated:"已弃用",disabled:"已禁用",disabledExtensions:"已禁用",enabled:"已启用",enabledExtensions:"已启用",extensionFound:"找到 1 个扩展。",extensionFoundInSection:"在“{0}”小节中找到 1 个扩展。",extensionToReload:"{0} 需要重新加载",extensionToUpdate:"{0} 需要更新",extensionsFound:"找到 {0} 个扩展。",extensionsFoundInSection:"在“{1}”小节中找到 {0} 个扩展。",extensionsToReload:"{0} 需要重新加载",extensionsToUpdate:"{0} 需要更新","install remote in local":"本地安装远程扩展…",installed:"已安装","malicious warning":"我们卸载了“{0}”，它被报告存在问题。",marketPlace:"商店","open user settings":"打开用户设置",otherRecommendedExtensions:"其他推荐",popularExtensions:"热门","recently updated":"最近更新",recommendedExtensions:"推荐",reloadNow:"立即重新加载",remote:"远程",searchExtensions:"在应用商店中搜索扩展","select and install local extensions":"在“{0}”中安装本地扩展…",suggestProxyError:'市场返回了 "ECONNREFUSED"。请检查 "http.proxy" 设置。',untrustedPartiallySupportedExtensions:"限制在受限模式下",untrustedUnsupportedExtensions:"在受限模式下禁用",virtualPartiallySupportedExtensions:"限制在虚拟工作区中",virtualUnsupportedExtensions:"在虚拟工作区中禁用",workspaceRecommendedExtensions:"工作区推荐",workspaceUnsupported:"工作区不受支持"},"vs/workbench/contrib/extensions/browser/extensionsViews":{error:"提取扩展时出错。{0}","extension.arialabel.deprecated":"已弃用","extension.arialabel.publihser":"发布服务器 {0}","extension.arialabel.rating":"{1} 用户评了 {0} 星，共 5 星","extension.arialabel.verifiedPublihser":"已验证的发布服务器 {0}",extensions:"扩展","no extensions found":"找不到扩展。","no local extensions":"没有要安装的扩展。","offline error":"离线时无法搜索市场，请检查网络连接。","open user settings":"打开用户设置",suggestProxyError:'市场返回了 "ECONNREFUSED"。请检查 "http.proxy" 设置。'},"vs/workbench/contrib/extensions/browser/extensionsWidgets":{"Show prerelease version":"预发布版本",activation:"激活时间",dependencies:"显示依赖关系","extensionIcon.sponsorForeground":"扩展发起人的图标颜色。",extensionIconStarForeground:"扩展分级的图标颜色。",extensionIconVerifiedForeground:"已验证扩展的发布服务器图标颜色。",extensionPreReleaseForeground:"预发布扩展的图标颜色。","has prerelease":"此扩展具有可用的 {0}",message:"1 条消息",messages:"{0} 条消息","pre-release-label":"预发布","publisher verified tooltip":"此发布者已验证 {0} 的所有权",ratedLabel:"平均评分: {0} 分(共 5 分)",recommendationHasBeenIgnored:"您已选择不接收此扩展的推荐。","remote extension title":"{0} 中的扩展",sponsor:"发起人",startup:"启动","syncingore.label":"此扩展在同步期间被忽略。","uncaught error":"1 个未捕获错误","uncaught errors":"{0} 个未捕获错误",updateRequired:"最新版本:"},"vs/workbench/contrib/extensions/browser/extensionsWorkbenchService":{"Manifest is not found":"未找到清单文件","disable all":"全部禁用","enable locally":"请重载 Visual Studio Code 以在本地启用此扩展。","enable remote":"请重载 Visual Studio Code 以在 {0} 中启用此扩展。",incompatible:"无法安装“{0}”扩展，因为它不兼容。","installing extension":"正在安装扩展...","installing named extension":'正在安装 "{0}" 扩展...',malicious:"报告称该扩展存在问题。",multipleDependentsError:'无法单独禁用 "{0}" 扩展。"{1}"、"{2}" 和其他扩展依赖于此扩展。要禁用所有这些扩展吗?',"not found":"无法安装扩展“{0}”，因为找不到请求的版本“{1}”。",postDisableTooltip:"请重新加载 Visual Studio Code 以禁用此扩展。",postEnableTooltip:"请重新加载 Visual Studio Code 以启用此扩展。",postUninstallTooltip:"请重新加载 Visual Studio Code 以完成此扩展的卸载。",postUpdateTooltip:"请重新启动 Visual Studio Code 以完成对此扩展的更新。",singleDependentError:'无法单独禁用 "{0}" 扩展。"{1}" 扩展依赖于此扩展。要禁用所有这些扩展吗?',twoDependentsError:'无法单独禁用 "{0}" 扩展。"{1}" 和 "{2}" 扩展依赖于此扩展。要禁用所有这些扩展吗?',uninstallingExtension:"正在卸载扩展..."},"vs/workbench/contrib/extensions/browser/fileBasedRecommendations":{dontShowAgainExtension:"不再对“.{0}”文件显示",fileBasedRecommendation:"根据你最近打开的文件，建议使用此扩展。",languageName:"{0} 语言",searchMarketplace:"搜索商店",showLanguageExtensions:"商店中有可以对“.{0}”文件提供帮助的扩展。"},"vs/workbench/contrib/extensions/browser/webRecommendations":{reason:"建议将此扩展用于 {0} Web 版"},"vs/workbench/contrib/extensions/browser/workspaceRecommendations":{workspaceRecommendation:"当前工作区的用户建议使用此扩展。"},"vs/workbench/contrib/extensions/common/extensionsFileTemplate":{"app.extension.identifier.errorMessage":'预期的格式 "${publisher}.${name}"。例如: "vscode.csharp"。',"app.extensions.json.recommendations":'向此工作区的用户推荐的扩展列表。扩展的标识符始终为 "${publisher}.${name}"。例如: "vscode.csharp"。',"app.extensions.json.title":"扩展","app.extensions.json.unwantedRecommendations":'不应向此工作区的用户推荐的扩展列表。扩展的标识符始终为 "${publisher}.${name}"。例如: "vscode.csharp"。'},"vs/workbench/contrib/extensions/common/extensionsInput":{extensionsInputName:"扩展: {0}"},"vs/workbench/contrib/extensions/common/extensionsUtils":{disableOtherKeymapsConfirmation:"是否禁用其他按键映射扩展 ({0})，从而避免按键绑定之间的冲突?",no:"否",yes:"是"},"vs/workbench/contrib/extensions/common/reportExtensionIssueAction":{reportExtensionIssue:"报告问题"},"vs/workbench/contrib/extensions/common/runtimeExtensionsInput":{extensionsInputName:"正在运行的扩展"},"vs/workbench/contrib/extensions/electron-sandbox/debugExtensionHostAction":{debugExtensionHost:"启动调试扩展宿主","debugExtensionHost.launch.name":"附加扩展主机",restart1:"分析扩展",restart2:"需要重启，才能分析扩展。是否要立即重启“{0}”?",restart3:"重启(&&R)"},"vs/workbench/contrib/extensions/electron-sandbox/extensionProfileService":{profilingExtensionHost:"分析扩展主机",profilingExtensionHostTime:"分析扩展主机({0} 秒)",restart1:"分析扩展",restart2:"需要重启，才能分析扩展。是否要立即重启“{0}”?",restart3:"重启(&&R)",selectAndStartDebug:"单击可停止分析。","status.profiler":"扩展探查器"},"vs/workbench/contrib/extensions/electron-sandbox/extensions.contribution":{runtimeExtension:"正在运行的扩展"},"vs/workbench/contrib/extensions/electron-sandbox/extensionsActions":{cleanUpExtensionsFolder:"清理扩展文件夹",openExtensionsFolder:"打开扩展文件夹"},"vs/workbench/contrib/extensions/electron-sandbox/extensionsAutoProfiler":{show:"显示扩展程序","unresponsive-exthost":"扩展“{0}”的上一次操作花费时间较长，阻碍了其他扩展的运行。"},"vs/workbench/contrib/extensions/electron-sandbox/extensionsSlowActions":{"attach.msg":'这是一个提醒, 以确保您没有忘记将 "{0}" 附加到刚刚创建的问题。',"attach.msg2":'这是一个提醒, 以确保您没有忘记将 "{0}" 归入现有的性能问题中。',"attach.title":"您是否附上了 cpu 配置文件？","cmd.report":"报告问题","cmd.reportOrShow":"性能问题","cmd.show":"显示问题"},"vs/workbench/contrib/extensions/electron-sandbox/runtimeExtensionsEditor":{extensionHostProfileStart:"开始分析扩展宿主",saveExtensionHostProfile:"保存扩展宿主分析文件","saveprofile.dialogTitle":"保存扩展宿主分析文件","saveprofile.saveButton":"保存",stopExtensionHostProfileStart:"停止分析扩展宿主"},"vs/workbench/contrib/externalTerminal/browser/externalTerminal.contribution":{"scopedConsoleAction.Integrated":"在集成终端中打开","scopedConsoleAction.external":"在外部终端中打开","scopedConsoleAction.wt":"在 Windows 终端中打开"},"vs/workbench/contrib/externalTerminal/electron-sandbox/externalTerminal.contribution":{"explorer.openInTerminalKind":"在终端中从资源管理器打开文件时，确定将启动哪种类型的终端",globalConsoleAction:"打开新的外部终端","sourceControlRepositories.openInTerminalKind":"当从终端中从“源代码管理存储库”视图中打开文件时，确定将启动哪种类型的终端","terminal.explorerKind.both":"将其他两个一起使用。","terminal.explorerKind.external":"使用设定的外部终端。","terminal.explorerKind.integrated":"使用 VS Code 的集成终端。","terminal.external.linuxExec":"自定义要在 Linux 上运行的终端。","terminal.external.osxExec":"定义在 macOS 上运行的终端应用程序。","terminal.external.windowsExec":"自定义要在 Windows 上运行的终端。","terminal.sourceControlRepositoriesKind.both":"将其他两个一起使用。","terminal.sourceControlRepositoriesKind.external":"使用设定的外部终端。","terminal.sourceControlRepositoriesKind.integrated":"使用 VS Code 的集成终端。",terminalConfigurationTitle:"外部终端"},"vs/workbench/contrib/externalUriOpener/common/configuration":{externalUriOpeners:"配置开启程序以用于外部 URI (即 http、https)。","externalUriOpeners.defaultId":"使用 VS Code 的标准打开器打开。","externalUriOpeners.uri":`将 URI 模式映射到开启程序 ID。\r
示例模式: \r
{0}`},"vs/workbench/contrib/externalUriOpener/common/externalUriOpenerService":{selectOpenerConfigureTitle:"配置默认开启程序…",selectOpenerDefaultLabel:"在默认浏览器中打开","selectOpenerDefaultLabel.web":"在新浏览器窗口中打开",selectOpenerPlaceHolder:"你希望以何种方式打开: {0}"},"vs/workbench/contrib/feedback/browser/feedback":{"character left":"剩余字符","characters left":"剩余字符",close:"关闭",feedbackTextInput:"告诉我们您的反馈意见",frownCaption:"负面反馈情绪","label.sendASmile":"通过 Tweet 向我们发送反馈。","other ways to contact us":"联系我们的其他方式",patchedVersion1:"安装已损坏。",patchedVersion2:"如果提交了 bug，请指定此项。","request a missing feature":"请求缺失功能",sentiment:"您的体验如何?",showFeedback:"在状态栏中显示反馈图标",smileCaption:"正面反馈情绪","submit a bug":"提交 bug","tell us why":"告诉我们原因?",tweet:"推文",tweetFeedback:"Tweet 反馈"},"vs/workbench/contrib/feedback/browser/feedbackStatusbarItem":{"status.feedback":"Tweet 反馈","status.feedback.name":"反馈"},"vs/workbench/contrib/files/browser/editors/binaryFileEditor":{binaryFileEditor:"二进制文件查看器"},"vs/workbench/contrib/files/browser/editors/textFileEditor":{createFile:"创建文件",fileIsDirectory:"此文件未显示在文本编辑器中，因为它是一个目录。",fileTooLargeForHeapErrorWithSize:"此文件未显示在文本编辑器中，因为它非常大({0})。",fileTooLargeForHeapErrorWithoutSize:"此文件未显示在文本编辑器中，因为它非常大。",openFolder:"打开文件夹",reveal:"显示文件夹",textFileEditor:"文本文件编辑器",unavailableResourceErrorEditorText:"由于找不到该文件，因此无法打开编辑器。"},"vs/workbench/contrib/files/browser/editors/textFileSaveErrorHandler":{compareChanges:"比较",configure:"配置",discard:"放弃",dontShowAgain:"不再显示",genericSaveError:"未能保存“{0}”: {1}",learnMore:"了解详细信息",overwrite:"覆盖",overwriteElevated:"以管理员身份覆盖...",overwriteElevatedSudo:"以超级用户身份覆盖...",permissionDeniedSaveError:"无法保存“{0}”: 权限不足。选择“以管理员身份覆盖”可作为管理员重试。",permissionDeniedSaveErrorSudo:'保存 "{0}"失败: 权限不足。选择 "以超级用户身份重试" 以超级用户身份重试。',readonlySaveError:'未能保存 "{0}": 文件是只读的。可选择 "覆盖" 以尝试使其可写。',readonlySaveErrorAdmin:'未能保存 "{0}": 文件是只读的。以管理员身份选择 "以管理员身份覆盖" 重试。',readonlySaveErrorSudo:'保存"{0}"失败: 文件为只读。选择“覆盖为Sudo”以用超级用户身份重试。',retry:"重试",saveConflictDiffLabel:"{0} (在文件中) ↔ {1} (在 {2} 中) - 解决保存冲突",saveElevated:"以管理员身份重试...",saveElevatedSudo:"以用户…重试。",staleSaveError:'无法保存"{0}": 文件的内容较新。请将您的版本与文件内容进行比较，或用您的更改覆盖文件内容。',userGuide:"通过编辑器工具栏中的操作，可撤消所做的更改，也可使用所做的更改覆盖文件的内容。"},"vs/workbench/contrib/files/browser/explorerViewlet":{addAFolder:"添加文件夹",explore:"资源管理器",explorerViewIcon:"查看资源管理器视图的图标。",folders:"文件夹",miViewExplorer:"资源管理器(&&E)",noFolderButEditorsHelp:`尚未打开文件夹。\r
{0}\r
打开文件夹将关闭所有当前打开的编辑器。要使其保持打开状态，请改为 {1}。`,noFolderHelp:`尚未打开文件夹。\r
{0}`,noFolderHelpWeb:`尚未打开文件夹。\r
{0}\r
{1}`,noWorkspaceHelp:`尚未将文件夹添加到工作区。\r
{0}`,openEditorsIcon:"查看打开编辑器视图的图标。",openFolder:"打开文件夹",openRecent:"打开最近的文件",remoteNoFolderHelp:`已连接到远程。\r
{0}`},"vs/workbench/contrib/files/browser/fileActions":{binFailed:"无法删除到回收站。是否永久删除？",clipboardComparisonLabel:"剪贴板 ↔ {0}",closeGroup:"关闭组",compareNewUntitledTextFiles:"比较新的无标题文本文件",compareWithClipboard:"比较活动文件与剪贴板",confirmDeleteMessageFile:"是否确定要永久删除“{0}”?",confirmDeleteMessageFilesAndDirectories:"是否确定要永久删除以下 {0} 个文件或文件夹 (包括其内容)?",confirmDeleteMessageFolder:"是否确定要永久删除“{0}”及其内容?",confirmDeleteMessageMultiple:"是否确定要永久删除以下 {0} 个文件?",confirmDeleteMessageMultipleDirectories:"是否确定要永久删除以下 {0} 个目录及其内容?",confirmMoveTrashMessageFile:"是否确实要删除“{0}”?",confirmMoveTrashMessageFilesAndDirectories:"是否确定要删除以下 {0} 个文件或文件夹 (包括其内容)?",confirmMoveTrashMessageFolder:"是否确实要删除“{0}”及其内容?",confirmMoveTrashMessageMultiple:"是否确定要删除以下 {0} 个文件?",confirmMoveTrashMessageMultipleDirectories:"是否确定要删除以下 {0} 个文件夹及其内容?",confirmOverwrite:'目标文件夹中已存在名称为 "{0}" 的文件或文件夹。是否要替换它?',copyBulkEdit:"粘贴 {0} 个文件",copyFile:"复制",copyFileBulkEdit:"粘贴{0}",copyingBulkEdit:"正在复制 {0} 个文件",copyingFileBulkEdit:"正在复制 {0}",createBulkEdit:"创建 {0}",creatingBulkEdit:"正在创建 {0}",delete:"删除",deleteBulkEdit:"删除 {0} 个文件",deleteButtonLabel:"删除(&&D)",deleteButtonLabelRecycleBin:"移动到回收站(&&M)",deleteButtonLabelTrash:"移动到废纸篓(&&M)",deleteFileBulkEdit:"删除{0}",deletePermanentlyButtonLabel:"永久删除(&&D)",deletingBulkEdit:"正在删除 {0} 个文件",deletingFileBulkEdit:"正在删除 {0}",dirtyMessageFileDelete:"你正在删除具有未保存更改的 {0}。是否要继续?",dirtyMessageFilesDelete:"你删除的文件中具有未保存的更改。是否继续?",dirtyMessageFolderDelete:"你正在删除文件夹 {0}，其中 {1} 个文件中有未保存的更改。是否要继续?",dirtyMessageFolderOneDelete:"你正在删除文件夹 {0}，但其中 1 个文件中有未保存的更改。是否要继续?",dirtyWarning:"如果不保存，你的更改将丢失。",doNotAskAgain:"不再询问",download:"下载...",emptyFileNameError:"必须提供文件或文件夹名。",fileDeleted:"复制后要粘贴的文件已被删除或移动。{0}",fileIsAncestor:"粘贴的项目是目标文件夹的上级",fileNameExistsError:"此位置已存在文件或文件夹 **{0}**。请选择其他名称。",fileNameStartsWithSlashError:"文件或文件夹名称不能以斜杠开头。",fileNameWhitespaceWarning:"在文件或文件夹名称中检测到的前导或尾随空格。",focusFilesExplorer:"聚焦到“文件资源管理器”视图",globalCompareFile:"比较活动文件与...",invalidFileNameError:"名称 **{0}** 作为文件或文件夹名无效。请选择其他名称。",irreversible:"此操作不可逆!",moveBulkEdit:"移动 {0} 个文件",moveFileBulkEdit:"移动 {0}",movingBulkEdit:"正在移动 {0} 个文件",movingFileBulkEdit:"正在移动 {0}",newFile:"新建文件...",newFolder:"新建文件夹...",openFileInNewWindow:"在新窗口中打开活动文件","openFileToShowInNewWindow.unsupportedschema":"活动编辑器必须包含可打开的资源。",pasteFile:"粘贴",rename:"重命名...",renameBulkEdit:"将 {0} 重命名为 {1}",renamingBulkEdit:"将 {0} 重命名为 {1}",replaceButtonLabel:"替换(&&R)",resetActiveEditorReadonlyInSession:"在会话中重置活动编辑器只读",restore:"可以使用“撤消”命令还原此文件",restorePlural:"可以使用“撤消”命令还原这些文件",retry:"重试",retryButtonLabel:"重试(&&R)",saveAllInGroup:"全部保存在组中",setActiveEditorReadonlyInSession:"在会话中设置活动编辑器只读",setActiveEditorWriteableInSession:"在会话中设置活动编辑器可写",showInExplorer:"在资源管理器视图中显示活动文件",toggleActiveEditorReadonlyInSession:"在会话中切换活动编辑器只读",toggleAutoSave:"切换开关自动保存",trashFailed:"无法删除到废纸篓。是否永久删除？",undoBin:"您可以从回收站还原此文件。",undoBinFiles:"您可以从回收站还原这些文件。",undoTrash:"您可以从回收站还原此文件。",undoTrashFiles:"您可以从回收站还原这些文件。",upload:"上传..."},"vs/workbench/contrib/files/browser/fileActions.contribution":{acceptLocalChanges:"使用所做的更改并覆盖文件内容",close:"关闭",closeAll:"全部关闭",closeOthers:"关闭其他",closeSaved:"关闭已保存",compareActiveWithSaved:"比较活动与已保存的文件",compareSelected:"将已选项进行比较",compareSource:"选择以进行比较",compareWithSaved:"与已保存文件比较",compareWithSelected:"与已选项目进行比较",copyPath:"复制路径",copyPathOfActive:"复制活动文件的路径",copyRelativePath:"复制相对路径",copyRelativePathOfActive:"复制活动文件的相对路径",cut:"剪切",deleteFile:"永久删除",explorerOpenWith:"打开方式…",miAutoSave:"自动保存(&&U)",miCloseEditor:"关闭编辑器(&&C)",miGotoFile:"转到文件(&&F)...",miNewFile:"新建文本文件(&&N)",miRevert:"还原文件(&&V)",miSave:"保存(&&S)",miSaveAll:"全部保存(&&L)",miSaveAs:"另存为(&&A)...",newFile:"新建文本文件",openFile:"打开文件...",openToSide:"在侧边打开",reopenWith:"重新打开编辑器的方式...",revealInSideBar:"在资源管理器视图中显示",revert:"还原文件",revertLocalChanges:"放弃所做的更改并恢复到文件内容",saveAll:"全部保存",saveAllInGroup:"全部保存在组中",saveFiles:"保存所有文件"},"vs/workbench/contrib/files/browser/fileCommands":{discard:"放弃",genericRevertError:"未能还原“{0}”: {1}",genericSaveError:"未能保存“{0}”: {1}",modifiedLabel:"{0} (在文件中) ↔ {1}","newFileCommand.saveLabel":"创建文件",retry:"重试"},"vs/workbench/contrib/files/browser/fileConstants":{newUntitledFile:"新的无标题文本文件",removeFolderFromWorkspace:"将文件夹从工作区删除",save:"保存",saveAll:"全部保存",saveAs:"另存为...",saveWithoutFormatting:"保存但不格式化"},"vs/workbench/contrib/files/browser/fileImportExport":{addFolder:"将文件夹添加到工作区(&&A)",addFolders:"将文件夹添加到工作区(&&A)",chooseWhereToDownload:"选择下载位置",confirmManyOverwrites:"目标文件夹中已存在以下 {0} 个文件和/或文件夹。是否要替换它们?",confirmOverwrite:'目标文件夹中已存在名称为"{0}"的文件或文件夹。是否要替换它？',copyFolder:"复制文件夹(&&C)",copyFolders:"复制文件夹(&&C)",copyfolder:"确定要复制“{0}”吗?",copyfolders:"确定要复制文件夹吗?",copyingFile:"正在复制 {0}",copyingFiles:"正在复制...",copyingnFile:"正在复制 {0} 资源",downloadBulkEdit:"下载 {0}",downloadButton:"下载",downloadProgressLarge:"{0} ({1}/{2}，{3}/秒)",downloadProgressSmallMany:"{0} 个文件，共 {1} 个({2}/秒)",downloadingBulkEdit:"正在下载 {0}",downloadingFiles:"正在下载",dropFolder:"是否要复制“{0}”或将“{0}”作为文件夹添加工作区?",dropFolders:"是否要复制文件夹或将其添加到工作区?",fileInaccessible:"无法访问已删除文件以进行导入。",filesInaccessible:"无法访问部分或所有已删除文件，以进行导入。",importFile:"导入{0}",importnFile:"导入 {0} 个资源",irreversible:"此操作不可逆!",overwrite:"覆盖 {0}",overwriting:"正在覆盖 {0}",replaceButtonLabel:"替换(&&R)",uploadProgressLarge:"{0} ({1}/{2}，{3}/秒)",uploadProgressSmallMany:"{0} 个文件，共 {1} 个({2}/秒)",uploadingFiles:"正在上传"},"vs/workbench/contrib/files/browser/files.contribution":{askUser:"将拒绝保存并请求手动解决保存冲突。",associations:'配置语言的文件关联(如 `"*.extension": "html"`)。这些关联的优先级高于已安装语言的默认关联。',autoGuessEncoding:"启用后，编辑器将尝试在打开文件时猜测字符集编码。还可以按语言配置此设置。请注意，文本搜索不遵守此设置。仅遵守 {0}。",autoReveal:"控制资源管理器是否应在打开文件时自动显示并选择文件。","autoReveal.focusNoScroll":"文件不会滚动到视图中，但仍会获得焦点。","autoReveal.off":"不会显示和选择文件。","autoReveal.on":"将显示和选择文件。",autoRevealExclude:"配置路径或 [glob 模式](https://aka.ms/vscode-glob-patterns)，以便在打开文件和文件夹时避免在资源管理器中显示和选择这些文件和文件夹。glob 模式的计算结果始终是相对于工作区文件夹路径所在的位置，除非它们是绝对路径。",autoSave:"控制具有未保存更改的编辑器的 [自动保存](https://code.visualstudio.com/docs/editor/codebasics#_save-auto-save)。",autoSaveDelay:"控制自动保存具有未保存更改的编辑器之前的延迟(以毫秒为单位)。只有当 `#files.autoSave#` 设置为 `{0}` 时才适用。",binaryFileEditor:"二进制文件编辑器",compressSingleChildFolders:"控制资源管理器是否应以紧凑形式呈现文件夹。在此形式中，单个子文件夹将被压缩在组合的树元素中。例如，对 Java 包结构非常有用。",confirmDelete:"控制资源管理器是否应在通过回收站删除文件时要求确认。",confirmDragAndDrop:"控制资源管理器是否应在通过拖放移动文件或文件夹时要求确认。",confirmUndo:"控制资源管理器是否应在撤消时要求确认。",copyRelativePathSeparator:"复制相对文件路径时使用的路径分隔字符。","copyRelativePathSeparator.auto":"使用操作系统特定路径分隔字符。","copyRelativePathSeparator.backslash":"使用反斜杠作为路径分隔字符。","copyRelativePathSeparator.slash":"使用斜杠作为路径分隔字符。",defaultLanguage:'分配给新文件的默认语言标识符。如果配置为 "${activeEditorLanguage}"，将使用当前活动文本编辑器(如果有)的语言标识符。',defaultPathErrorMessage:"文件对话框的默认路径必须是绝对路径(例如 C:\\\\myFolder 或 /myFolder)。",disabled:"禁用增量命名。如果存在两个具有相同名称的文件，系统将提示你覆盖现有文件。",enableDragAndDrop:"控制资源管理器是否应允许通过拖放来移动文件和文件夹。此设置仅影响从浏览器内部进行拖放。",enableUndo:"控制资源管理器是否应支持撤消文件和文件夹操作。","enableUndo.default":"资源管理器将在破坏性撤消操作之前进行提示。","enableUndo.light":"聚焦时，资源管理器将不会在撤消操作之前进行提示。","enableUndo.verbose":"资源管理器将在所有撤消操作之前进行提示。",encoding:"在读取和写入文件时使用的默认字符集编码。可以按语言对此项进行配置。",eol:"默认行尾字符。","eol.CRLF":"CRLF","eol.LF":"LF","eol.auto":"使用具体操作系统规定的行末字符。",everything:"设置整个文件的格式。",exclude:"配置 [glob 模式](https://aka.ms/vscode-glob-patterns)以排除文件和文件夹。例如，文件资源管理器根据此设置决定要显示或隐藏的文件和文件夹。请参阅 `#search.exclude#` 设置以定义特定于搜索的排除。请参阅 `#explorer.excludeGitIgnore#` 设置以基于 `.gitignore` 忽略文件。",excludeGitignore:"控制是否应从资源管理器中分析和排除 .gitignore 中的条目。类似于 {0}。",expandSingleFolderWorkspaces:"控制资源管理器是否应在初始化期间展开仅包含一个文件夹的多根工作区","explorer.autoRevealExclude.boolean":"匹配文件路径所依据的 glob 模式。设置为 true 或 false 可启用或禁用该模式。","explorer.autoRevealExclude.when":"对匹配文件的同级文件的其他检查。使用 $(basename) 作为匹配文件名的变量。","explorer.decorations.badges":"控制文件修饰是否应使用徽章。","explorer.decorations.colors":"控制文件修饰是否应使用颜色。","explorer.incrementalNaming":"选择在粘贴同名文件(夹)时要使用的重命名方式。",explorerConfigurationTitle:"文件资源管理器",falseDescription:"禁用该模式。",fileDialogDefaultPath:"文件对话框的默认路径，用于替代用户的主路径。仅在缺少特定于上下文的路径时使用，例如最近打开的文件或文件夹。","fileNesting.description":"每个键模式可能包含将与任何字符串匹配的单个 `*` 字符。",fileNestingEnabled:"控制是否已在资源管理器中启用文件嵌套。文件嵌套允许目录中的相关文件在单个父文件下以可视方式组合在一起。",fileNestingExpand:"控制是否自动扩展文件嵌套。要使此操作生效，必须设置 {0}。",fileNestingPatterns:"控制资源管理器中的文件嵌套。必须设置 {0} 才能让它生效。每个 __Item__ 都表示父模式，且可能包含匹配任意字符串的单个 `*` 字符。每个 __Value__ 都表示子模式的逗号分隔列表，这些子模式应显示嵌套在给定父级下。子模式可能包含多个特殊标记:\r\n- `${capture}`: 匹配父模式的 `*` 的解析值\r\n- `${basename}`: 匹配父文件的基名，即 `file.ts` 中的 `file`\r\n- `${extname}`: 匹配父文件的扩展名，即 `file.ts` 中的 `ts`\r\n- `${dirname}`: 匹配父文件的目录名，即 `src/file.ts` 中的 `src`\r\n- `*`: 匹配任意字符串，每个子模式只能使用一次","files.autoSave.afterDelay":"在配置的 `#files.autoSaveDelay#` 之后，会自动保存具有更改的编辑器。","files.autoSave.off":"具有更改的编辑器永远不会自动保存。","files.autoSave.onFocusChange":"当编辑器失去焦点时，会自动保存具有更改的编辑器。","files.autoSave.onWindowChange":"当窗口失去焦点时，会自动保存具有更改的编辑器。","files.exclude.boolean":"匹配文件路径所依据的 glob 模式。设置为 true 或 false 可启用或禁用该模式。","files.exclude.when":"对匹配文件同辈进行额外检查。将 $(basename) 用作匹配文件名的变量。","files.participants.timeout":"超时(以毫秒为单位)后，将取消创建、重命名和删除的文件参与者。使用 `0` 禁用参与者。","files.restoreUndoStack":"重新打开文件后，还原撤消堆栈。","files.saveConflictResolution":"当文件保存到磁盘上并被另一个程序更改时，可能会发生保存冲突。 为了防止数据丢失，要求用户将编辑器中的更改与磁盘上的版本进行比较。 仅当经常遇到保存冲突错误时，才应更改此设置；如果不谨慎使用，可能会导致数据丢失。","files.simpleDialog.enable":"启用简单文件对话框以打开和保存文件和文件夹。简单文件对话框在启用后会替代系统文件对话框。",filesConfigurationTitle:"文件",filesReadonlyExclude:"配置路径或 [glob 模式](https://aka.ms/vscode-glob-patterns)，以避免在该路径或模式因 `#files.readonlyInclude#` 设置而发生匹配时被标记为只读。glob 模式的计算结果始终是相对于工作区文件夹路径所在的位置，除非它们是绝对路径。来自只读文件系统提供程序的文件始终是只读文件，不受此设置影响。",filesReadonlyFromPermissions:"当文件权限指示为只读时，将文件标记为只读。可以通过 `#files.readonlyInclude#` 和 `#files.readonlyExclude#` 设置替代此操作。",filesReadonlyInclude:"配置路径或 [glob 模式](https://aka.ms/vscode-glob-patterns)以标记为只读。glob 模式的计算结果始终是相对于工作区文件夹路径所在的位置，除非它们是绝对路径。可以通过 `#files.readonlyExclude#` 设置排除匹配路径。来自只读文件系统提供程序的文件始终是只读文件，不受此设置影响。",formatOnSave:"在保存时格式化文件。格式化程序必须可用，延迟后文件不能保存，并且编辑器不能关闭。",formatOnSaveMode:'控制在保存时设置格式是设置整个文件格式还是仅设置修改内容的格式。仅当 "#editor.formatOnSave#" 处于启用状态时适用。',hotExit:"控制是否在会话间记住未保存的文件，以允许在退出编辑器时跳过保存提示。","hotExit.off":"禁用热退出。当尝试关闭具有未保存更改的编辑器的窗口时，将显示提示。","hotExit.onExit":'触发 "workbench.action.quit" 命令(命令面板、键绑定、菜单)或在 Windows/Linux 上关闭最后一个窗口时，将触发热退出。所有未打开文件夹的窗口都将在下次启动时恢复。可通过“文件”>“打开最近使用的文件”>“更多…”，访问之前打开的窗口(包含未保存的文件)列表',"hotExit.onExitAndWindowClose":'触发 "workbench.action.quit" 命令(命令面板、键绑定、菜单)或在 Windows/Linux 上关闭最后一个窗口时将触发热退出，还将对已打开文件夹的所有窗口触发热退出(无论是否是最后一个窗口)。所有未打开文件夹的窗口将在下次启动时恢复。可通过“文件”>“打开最近使用的文件”>“更多…”，访问之前打开的窗口(包含未保存的文件)列表',"hotExit.onExitAndWindowCloseBrowser":"当浏览器退出或窗口或选项卡关闭时，将触发热退出。",insertFinalNewline:"启用后，保存文件时在文件末尾插入一个最终新行。",modification:"格式修改(需要源代码管理)。",modificationIfAvailable:"将尝试只对修改进行格式化(需要源代码管理)。如果无法使用源代码管理，则将格式化整个文件。",openEditorsSortOrder:"控制编辑器在“打开编辑器”窗格中的排序顺序。",openEditorsVisible:"“打开编辑器”窗格中显示的初始编辑器数上限。超过此限制将显示滚动条，并允许调整窗格大小以显示更多项目。",openEditorsVisibleMin:"“打开编辑器”窗格中预分配的编辑器槽数下限。如果设置为 0，则“打开编辑器”窗格将根据编辑器数量动态重设大小。",overwriteFileOnDisk:"将通过在编辑器中用更改覆盖磁盘上的文件来解决保存冲突。",simple:"在重复名称的末尾附加单词“copy”，后面可能跟一个数字。",smart:"在重复名称的末尾添加一个数字。如果某个号码已经是名称的一部分，请尝试增加该号码。",sortOrder:"控制资源管理器中文件和文件夹基于属性的排序。启用 `#explorer.fileNesting.enabled#` 后，还控制嵌套文件的排序。","sortOrder.alphabetical":"编辑器在每个编辑器组内按选项卡名称以字母顺序排序。","sortOrder.default":"按名称排列文件和文件夹。文件夹显示在文件前。","sortOrder.editorOrder":"编辑器按编辑器标签显示的顺序排列。","sortOrder.filesFirst":"按名称排列文件和文件夹。文件显示在文件夹前。","sortOrder.foldersNestsFiles":"文件和文件夹按其名称排序。文件夹显示在文件之前。具有嵌套子级的文件将显示在其他文件之前。","sortOrder.fullPath":"编辑器在每个编辑器组内按完整路径以字母顺序排序。","sortOrder.mixed":"按名称排列文件和文件夹。两者穿插显示。","sortOrder.modified":"按最后修改日期降序排列文件和文件夹。文件夹显示在文件前。","sortOrder.type":"按拓展类型为文件和文件夹分组，然后按名称排列它们。文件夹显示在文件前。",sortOrderLexicographicOptions:"在资源管理器中控制文件和文件夹名称的词典排序。","sortOrderLexicographicOptions.default":"将大写和小写名称混合在一起。","sortOrderLexicographicOptions.lower":"小写名称组合在一起，位于大写名称之前。","sortOrderLexicographicOptions.unicode":"名称按 unicode 顺序排序。","sortOrderLexicographicOptions.upper":"大写名称组合在一起，位于小写名称之前。",textFileEditor:"文本文件编辑器",trimFinalNewlines:"启用后，保存文件时将删除在最终新行后的所有新行。",trimTrailingWhitespace:"启用后，将在保存文件时删除行尾的空格。",trueDescription:"启用该模式。",useTrash:"在删除文件或文件夹时，将它们移动到操作系统的“废纸篓”中 (Windows 为“回收站”)。禁用此设置将永久删除文件或文件夹。",watcherExclude:"配置要从文件监视中排除的路径或 [glob 模式](https://aka.ms/vscode-glob-patterns)。路径可以相对于被监视的文件夹，也可以是绝对路径。glob 模式相对于被监视的文件夹进行匹配。当遇到文件观察程序进程消耗大量 CPU 的情况时，请确保排除不太重要的大型文件夹(例如生成输出文件夹)。",watcherInclude:"配置额外路径以监视工作区内的更改。默认情况下，将以递归方式监视所有工作区文件夹，但符号链接的文件夹除外。可以显式添加绝对路径或相对路径，以支持作为符号链接的监视文件夹。将使用当前打开的工作区将相对路径解析为绝对路径。"},"vs/workbench/contrib/files/browser/views/emptyView":{noWorkspace:"无打开的文件夹"},"vs/workbench/contrib/files/browser/views/explorerDecorationsProvider":{canNotResolve:"无法解析工作区文件夹 ({0})",label:"资源管理器",symbolicLlink:"符号链接",unknown:"未知文件类型"},"vs/workbench/contrib/files/browser/views/explorerView":{collapseExplorerFolders:"在资源管理器中折叠文件夹",createNewFile:"新建文件...",createNewFolder:"新建文件夹...",explorerSection:"资源管理器部分: {0}",refreshExplorer:"刷新资源管理器"},"vs/workbench/contrib/files/browser/views/explorerViewer":{confirmMove:'是否确定要将"{0}"移到"{1}"？',confirmMultiMove:"确定要将以下文件{0}移动至{1}？",confirmRootMove:"是否确定要更改工作区中根文件夹“{0}”的顺序?",confirmRootsMove:"是否确定要更改工作区中多个根文件夹的顺序?",copy:"复制 {0}",copying:"正在复制 {0}",doNotAskAgain:"不再询问",fileInputAriaLabel:'输入文件名。按 "Enter" 键确认或按 "Esc" 键取消。',move:"移动 {0}",moveButtonLabel:"移动(&&M)",moving:"正在移动 {0}",numberOfFiles:"{0} 文件",numberOfFolders:"{0} 文件夹",treeAriaLabel:"文件资源管理器"},"vs/workbench/contrib/files/browser/views/openEditorsView":{dirtyCounter:"{0} 个未保存",flipLayout:"切换垂直/水平编辑器布局",miToggleEditorLayout:"翻转布局(&&L)",miToggleEditorLayoutWithoutMnemonic:"翻转布局",newUntitledFile:"新的无标题文本文件",openEditors:"打开的编辑器"},"vs/workbench/contrib/files/browser/workspaceWatcher":{enospcError:"无法在这个大型工作区文件夹中监视文件更改。请按照说明链接来解决此问题。",eshutdownError:"文件更改观察程序意外停止。重新加载窗口可能再次启用观察程序，除非无法监视工作区的文件更改。",learnMore:"说明",reload:"重新加载"},"vs/workbench/contrib/files/common/dirtyFilesIndicator":{dirtyFile:"1 个未保存的文件",dirtyFiles:"{0} 个未保存的文件"},"vs/workbench/contrib/files/common/files":{explorerResourceCut:"如果 EXPLORER 中的一个项已被剪切用于剪切和粘贴，则为 True。",explorerResourceIsFolder:"如果 EXPLORER 中的焦点项是文件夹，则为 True。",explorerResourceIsRoot:"如果 EXPLORER 中的焦点项是根文件夹，则为 True。",explorerResourceMoveableToTrash:"如果 EXPLORER 中的焦点项可移到垃圾桶,则为 True。",explorerResourceReadonly:"当 EXPLORER 中的焦点项为只读时为 True。",explorerViewletCompressedFirstFocus:"当焦点位于 EXPLORER 视图中精简项的第一个部分的内部时为 True。",explorerViewletCompressedFocus:"如果 EXPLORER 视图中的焦点项是精简项，则为 True。",explorerViewletCompressedLastFocus:"当焦点位于 EXPLORER 视图中精简项的最后一个部分的内部时为 True。",explorerViewletFocus:"当焦点位于 EXPLORER Viewlet 内时为 True。",explorerViewletVisible:"当 EXPLORER Viewlet 可见时为 True。",filesExplorerFocus:"当焦点位于 EXPLORER 视图内时为 True。",foldersViewVisible:"当“文件夹”视图(资源管理器视图容器内的文件树)可见时为 True。",openEditorsFocus:"当焦点位于 OPEN EDITORS 视图内时为 True。",viewHasSomeCollapsibleItem:"如果资源管理器视图中的工作区具有一些可折叠的根子级，则为 true。"},"vs/workbench/contrib/files/electron-sandbox/fileActions.contribution":{filesCategory:"文件",miShare:"共享",openContainer:"打开所在的文件夹",revealInMac:"在 Finder 中显示",revealInWindows:"在文件资源管理器中显示"},"vs/workbench/contrib/folding/browser/folding.contribution":{"formatter.default":"定义优先于所有其他折叠范围提供程序的默认折叠范围提供程序。必须是提供折叠范围提供程序的扩展的标识符。",null:"全部",nullFormatterDescription:"所有活动折叠范围提供程序"},"vs/workbench/contrib/format/browser/formatActionsMultiple":{config:"配置默认格式化程序...","config.bad":'扩展 "{0}" 配置为格式化程序, 但不可用。选择其他默认格式化程序以继续。',"config.needed":"“{0}”文件有多个格式化程序。其中一个应配置为默认格式化程序。",def:"(默认值)","do.config":"配置(&&C)...","do.config.command":"配置...","do.config.notification":"配置...","format.placeHolder":"选择格式化程序","formatDocument.label.multiple":"使用...格式化文档","formatSelection.label.multiple":"格式化选定内容的方式...",formatter:"格式设置","formatter.default":"定义一个默认格式化程序, 该格式化程序优先于所有其他格式化程序设置。必须是提供格式化程序的扩展的标识符。",miss:"扩展 '{0}' 配置为格式化程序，但不能格式化 '{1}'-文件","miss.1":"配置默认格式化程序",null:"无",nullFormatterDescription:"没有",select:"为“{0}”文件选择默认的格式化程序",summary:"格式化程序冲突"},"vs/workbench/contrib/format/browser/formatActionsNone":{"formatDocument.label.multiple":"格式化文档","install.formatter":"安装格式化程序(&&I)...","no.provider":"没有安装用于“{0}”文件的格式化程序。","too.large":"此文件过大，无法进行格式设置"},"vs/workbench/contrib/format/browser/formatModified":{formatChanges:"设置修改过的行的格式"},"vs/workbench/contrib/inlayHints/browser/inlayHintsAccessibilty":{description:"具有内嵌提示信息的代码",isReadingLineWithInlayHints:"当前行及其内嵌提示是否是当前焦点","read.title":"使用内联提示读取行","stop.title":"停止内嵌提示读取"},"vs/workbench/contrib/inlineChat/browser/inlineChat.contribution":{inlineChatAccessibleView:"Inline Chat Accessible View"},"vs/workbench/contrib/inlineChat/browser/inlineChatActions":{accept:"发出请求",apply1:"接受更改",apply2:"接受",arrowDown:"光标向下",arrowUp:"光标向上",cancel:"取消",cat:"内联聊天",contractMessage:"显示更少",copyRecordings:"(开发人员)将 Exchange 写入剪贴板",discard:"放弃",discardMenu:"放弃...",expandMessage:"显示更多内容","feedback.helpful":"有用","feedback.unhelpful":"无用",focus:"聚焦输入",label:"'{0}' 和 {1} 跟进({2})",miShowDiff:"显示差异(&&S)",miShowDiff2:"显示差异(&&S)",nextFromHistory:"历史记录中的下一个",previousFromHistory:"历史记录中的上一个",rerun:"重新生成响应",rerunShort:"再生成",run:"开始代码聊天",showDiff:"显示差异",showDiff2:"显示差异",stop:"停止请求","undo.clipboard":"放弃到剪贴板","undo.newfile":"放弃到新文件",unstash:"继续上次关闭的代码聊天",viewInChat:"在聊天中查看"},"vs/workbench/contrib/inlineChat/browser/inlineChatController":{"create.fail":"无法启动编辑器聊天","create.fail.detail":"请查阅错误日志，稍后重试。","default.placeholder":"提问","default.placeholder.history":"{0} ({1}，{2} (针对历史记录))",editResponseMessage:"使用选项卡导航到差异编辑器并查看建议的更改。",empty:"无结果，请优化输入并重试","err.apply":"无法应用更改。","err.discard":"无法放弃更改。",markdownResponseMessage:"{0}",thinking:"思考中...","welcome.1":"AI 生成的代码可能不正确","welcome.2":"正在准备..."},"vs/workbench/contrib/inlineChat/browser/inlineChatStrategies":{"lines.0":"未更改任何内容","lines.1":"已更改 1 行","lines.N":"已更改 {0} 行"},"vs/workbench/contrib/inlineChat/browser/inlineChatWidget":{"aria-label":"内联聊天输入","inlineChat.accessibilityHelp":"内联聊天输入，将{0}用于内联聊天辅助功能帮助。","inlineChat.accessibilityHelpNoKb":"内联聊天输入，运行内联聊天辅助功能帮助命令以了解详细信息。",inlineChatClosed:"已关闭内联聊天小组件",modified:"已修改",original:"原始版本"},"vs/workbench/contrib/inlineChat/common/inlineChat":{"inlineChat.background":"交互式编辑器小组件的背景色","inlineChat.border":"交互式编辑器小组件的边框颜色","inlineChat.regionHighlight":"当前交互区域的背景突出显示。必须是透明的。","inlineChat.shadow":"交互式编辑器小组件的阴影颜色",inlineChatDidEdit:"交互式编辑器是否更改了任何代码","inlineChatDiff.inserted":"交互式编辑器输入中已插入文本的背景色","inlineChatDiff.removed":"交互式编辑器输入中已删除文本的背景色",inlineChatDocumentChanged:"文档是否已同时更改",inlineChatEmpty:"交互式编辑器输入是否为空",inlineChatFocused:"是否聚焦交互式编辑器输入",inlineChatHasActiveRequest:"交互式编辑器是否有活动请求",inlineChatHasProvider:"交互式编辑器的提供程序是否存在",inlineChatHasStashedSession:"交互式编辑器是否已保留会话以进行快速还原",inlineChatInnerCursorEnd:"Whether the cursor of the iteractive editor input is on the end of the input",inlineChatInnerCursorFirst:"迭代活动编辑器输入的光标是否在第一行",inlineChatInnerCursorLast:"迭代活动编辑器输入的光标是否在最后一行",inlineChatInnerCursorStart:"Whether the cursor of the iteractive editor input is on the start of the input","inlineChatInput.background":"交互式编辑器输入的背景色","inlineChatInput.border":"交互式编辑器输入的边框颜色","inlineChatInput.focusBorder":"聚焦时交互式编辑器输入的边框颜色","inlineChatInput.placeholderForeground":"交互式编辑器输入占位符的前景色",inlineChatLastFeedbackKind:"提供的最后一种反馈",inlineChatMarkdownMessageCropState:"交互式编辑器消息是否裁剪还是展开",inlineChatOuterCursorPosition:"外部编辑器的光标位于交互式编辑器输入的上方还是下方",inlineChatResponseFocused:"Whether the interactive widget's response is focused",inlineChatResponseType:"当前交互式编辑器会话的最后一个响应类型是什么",inlineChatResponseTypes:"已收到响应的类型",inlineChatUserDidEdit:"用户是否在内联聊天顶部进行了更改",inlineChatVisible:"交互式编辑器输入是否可见",mode:"配置是将在交互式编辑器中创建的更改直接应用到文档还是先预览它们。","mode.live":"更改直接应用到文档，但可通过内联差异突出显示。结束会话将保留更改。","mode.livePreview":"更改直接应用到文档，但可通过内联差异或并排差异在视觉上突出显示。结束会话将保留更改。","mode.preview":"仅预览更改，但需要通过“应用”按钮接受这些更改。结束会话将放弃更改。",showDiff:"启用/禁用显示生成编辑时的差异。仅适用于等于 live 或 livePreview 的 inlineChat.mode。"},"vs/workbench/contrib/interactive/browser/interactive.contribution":{"interactive.activeCodeBorder":"当编辑器具有焦点时，当前交互式代码单元格的边框颜色。","interactive.execute":"执行代码","interactive.history.focus":"焦点历史记录","interactive.history.next":"历史记录中的下一个值","interactive.history.previous":"历史记录中的上一个值","interactive.inactiveCodeBorder":"当编辑器没有焦点时，当前交互式代码单元格的边框颜色。","interactive.input.clear":"清除交互窗口输入编辑器内容","interactive.input.focus":"焦点输入编辑器","interactive.open":"打开交互窗口",interactiveScrollToBottom:"滚动到底部",interactiveScrollToTop:"滚动到顶部",interactiveWindow:"交互窗口","interactiveWindow.alwaysScrollOnNewCell":"自动滚动交互窗口以显示执行的最后一条语句的输出。如果此值为 false，仅当最后一个单元格已滚动到此单元格时，窗口才会滚动。"},"vs/workbench/contrib/interactive/browser/interactiveEditor":{interactiveInputPlaceHolder:"在此处键入 '{0}' 代码并按 {1} 运行"},"vs/workbench/contrib/interactiveEditor/browser/interactiveEditorActions":{accept:"发出请求","actions.interactiveSession.accessibiltyHelpEditor":"交互式会话编辑器辅助功能帮助",apply1:"接受更改",apply2:"接受",arrowDown:"光标向下",arrowUp:"光标向上",cancel:"取消",cat:"交互式编辑器",contractMessage:"协定消息",copyRecordings:"(开发人员)将 Exchange 写入剪贴板",discard:"放弃",discardMenu:"放弃...",expandMessage:"展开消息","feedback.helpful":"有用","feedback.unhelpful":"无用",focus:"聚焦输入",label:"'{0}' 和 {1} 跟进({2})",nextFromHistory:"历史记录中的下一个",previousFromHistory:"历史记录中的上一个",run:"开始代码聊天",stop:"停止请求",toggleDiff:"切换差异",toggleDiff2:"显示内联差异","undo.clipboard":"放弃到剪贴板","undo.newfile":"放弃到新文件",unstash:"继续上次关闭的代码聊天",viewInChat:"在聊天中查看"},"vs/workbench/contrib/interactiveEditor/browser/interactiveEditorController":{"create.fail":"无法启动编辑器聊天","create.fail.detail":"请查阅错误日志，稍后重试。","default.placeholder":"提问","default.placeholder.history":"{0} ({1}，{2} (针对历史记录))",empty:"无结果，请优化输入并重试","err.apply":"无法应用更改。","err.discard":"无法放弃更改。",thinking:"思考中...","welcome.1":"AI 生成的代码可能不正确"},"vs/workbench/contrib/interactiveEditor/browser/interactiveEditorStrategies":{"lines.0":"未更改任何内容","lines.1":"已更改 1 行","lines.N":"已更改 {0} 行"},"vs/workbench/contrib/interactiveEditor/browser/interactiveEditorWidget":{"aria-label":"交互式编辑器输入","interactiveEditor.accessibilityHelp":"交互式编辑器输入，使用 {0} 来获取交互式编辑器辅助功能帮助。","interactiveSessionInput.accessibilityHelpNoKb":"交互式编辑器输入，运行交互式编辑器辅助功能帮助命令了解详细信息。",modified:"已修改",original:"原始版本"},"vs/workbench/contrib/interactiveEditor/common/interactiveEditor":{editMode:"配置是将在交互式编辑器中创建的更改直接应用到文档还是先预览它们。","editMode.live":"更改直接应用到文档，但可通过内联差异突出显示。结束会话将保留更改。","editMode.livePreview":"更改直接应用到文档，但可通过内联差异或并排差异在视觉上突出显示。结束会话将保留更改。","editMode.preview":"仅预览更改，但需要通过“应用”按钮接受这些更改。结束会话将放弃更改。","interactiveEditor.border":"交互式编辑器小组件的边框颜色","interactiveEditor.regionHighlight":"当前交互区域的背景突出显示。必须是透明的。","interactiveEditor.shadow":"交互式编辑器小组件的阴影颜色",interactiveEditorDidEdit:"交互式编辑器是否更改了任何代码",interactiveEditorDiff:"交互式编辑器是否显示更改差异","interactiveEditorDiff.inserted":"交互式编辑器输入中已插入文本的背景色","interactiveEditorDiff.removed":"交互式编辑器输入中已删除文本的背景色",interactiveEditorDocumentChanged:"文档是否已同时更改",interactiveEditorEmpty:"交互式编辑器输入是否为空",interactiveEditorFocused:"是否聚焦交互式编辑器输入",interactiveEditorHasActiveRequest:"交互式编辑器是否有活动请求",interactiveEditorHasProvider:"交互式编辑器的提供程序是否存在",interactiveEditorHasStashedSession:"交互式编辑器是否已保留会话以进行快速还原",interactiveEditorInnerCursorFirst:"迭代活动编辑器输入的光标是否在第一行",interactiveEditorInnerCursorLast:"迭代活动编辑器输入的光标是否在最后一行","interactiveEditorInput.background":"交互式编辑器输入的背景色","interactiveEditorInput.border":"交互式编辑器输入的边框颜色","interactiveEditorInput.focusBorder":"聚焦时交互式编辑器输入的边框颜色","interactiveEditorInput.placeholderForeground":"交互式编辑器输入占位符的前景色",interactiveEditorLastFeedbackKind:"提供的最后一种反馈",interactiveEditorMarkdownMessageCropState:"交互式编辑器消息是否裁剪还是展开",interactiveEditorOuterCursorPosition:"外部编辑器的光标位于交互式编辑器输入的上方还是下方",interactiveEditorResponseType:"当前交互式编辑器会话的最后一个响应类型是什么",interactiveEditorVisible:"交互式编辑器输入是否可见"},"vs/workbench/contrib/interactiveSession/browser/actions/interactiveSessionActions":{"actions.ineractiveSession.acceptInput":"交互式会话接受输入","actions.interactiveSession.focus":"聚焦交互式会话","interactiveSession.category":"交互式会话","interactiveSession.clear.label":"清除","interactiveSession.clearHistory.label":"清除输入历史记录","interactiveSession.focusInput.label":"聚焦输入","interactiveSession.history.label":"显示历史记录","interactiveSession.history.pick":"选择要还原的聊天会话","interactiveSession.open":"打开编辑器({0})"},"vs/workbench/contrib/interactiveSession/browser/actions/interactiveSessionCodeblockActions":{"interactive.copyCodeBlock.label":"复制","interactive.insertCodeBlock.label":"在光标处插入","interactive.insertIntoNewFile.label":"插入到新文件中","interactive.runInTerminal.label":"在终端中运行"},"vs/workbench/contrib/interactiveSession/browser/actions/interactiveSessionCopyActions":{"interactive.copyAll.label":"全部复制","interactive.copyItem.label":"复制"},"vs/workbench/contrib/interactiveSession/browser/actions/interactiveSessionExecuteActions":{"interactive.cancel.label":"取消","interactive.submit.label":"提交"},"vs/workbench/contrib/interactiveSession/browser/actions/interactiveSessionTitleActions":{"interactive.voteDown.label":"投反对票","interactive.voteUp.label":"投赞成票"},"vs/workbench/contrib/interactiveSession/browser/contrib/interactiveSessionInputEditorContrib":{"interactive.input.placeholderNoCommands":"提问","interactive.input.placeholderWithCommands":'提问或键入主题的 "/"'},"vs/workbench/contrib/interactiveSession/browser/interactiveSession.contribution":{interactiveSession:"交互式会话","interactiveSession.editor.fontFamily":"控制交互式会话中的字体系列。","interactiveSession.editor.fontSize":"控制交互式会话中的字号(以像素为单位)。","interactiveSession.editor.fontWeight":"控制交互式会话中的字体粗细。","interactiveSession.editor.lineHeight":"控制交互式会话中的行高(以像素为单位)。使用 0 根据字号计算行高。","interactiveSession.editor.wordWrap":"控制是否应在交互式会话中换行。",interactiveSessionConfigurationTitle:"交互式会话"},"vs/workbench/contrib/interactiveSession/browser/interactiveSessionContributionServiceImpl":{"vscode.extension.contributes.interactiveSession":"为交互式会话提供程序做出贡献","vscode.extension.contributes.interactiveSession.icon":"此交互式会话提供程序的图标。","vscode.extension.contributes.interactiveSession.id":"此交互式会话提供程序的唯一标识符。","vscode.extension.contributes.interactiveSession.label":"此交互式会话提供程序的显示名称。","vscode.extension.contributes.interactiveSession.when":"条件必须为 true 才能启用此交互式会话提供程序。"},"vs/workbench/contrib/interactiveSession/browser/interactiveSessionEditorInput":{interactiveSessionEditorName:"交互式会话"},"vs/workbench/contrib/interactiveSession/browser/interactiveSessionInputPart":{interactiveSessionInput:"交互式会话输入"},"vs/workbench/contrib/interactiveSession/browser/interactiveSessionListRenderer":{interactiveSession:"交互式会话"},"vs/workbench/contrib/interactiveSession/browser/interactiveSessionWidget":{clear:"清除会话"},"vs/workbench/contrib/interactiveSession/common/interactiveSessionColors":{"interactive.requestBackground":"交互式请求的背景色。","interactive.requestBorder":"交互式请求的边框颜色。"},"vs/workbench/contrib/interactiveSession/common/interactiveSessionContextKeys":{hasInteractiveSessionProvider:"注册某些交互式会话提供程序时为 True。",inInteractiveInput:"当焦点位于交互式输入中时为 true，否则为 false。",inInteractiveSession:"当焦点位于交互式会话小组件中时为 true，否则为 false。",interactiveInputHasText:"当交互式输入包含文本时为 True。",interactiveSessionRequestInProgress:"当前请求仍在进行时为 True。",interactiveSessionResponseHasProviderId:"当提供程序已向此响应分配 ID 时为 True。",interactiveSessionResponseVote:'对响应投赞成票后，其设置为 "up"。投反对票时，设置为 "down"。否则为空字符串。'},"vs/workbench/contrib/interactiveSession/common/interactiveSessionServiceImpl":{emptyResponse:"提供程序返回了 null 响应"},"vs/workbench/contrib/interactiveSession/common/interactiveSessionViewModel":{thinking:"思考中"},"vs/workbench/contrib/issue/browser/issue.contribution":{statusUnsupported:"浏览器中尚不支持 --status 参数。"},"vs/workbench/contrib/issue/common/issue.contribution":{miReportIssue:"使用英文报告问题(&&I)",reportIssueInEnglish:"报告问题…"},"vs/workbench/contrib/issue/electron-sandbox/issue.contribution":{miOpenProcessExplorerer:"打开进程管理器(&&P)",openProcessExplorer:"打开进程资源管理器",reportPerformanceIssue:"报告性能问题...",stopTracing:"停止跟踪","stopTracing.button":"重新启动并启用跟踪(&&R)","stopTracing.detail":"这可能需要一分钟才能完成。","stopTracing.message":'需要使用 "--trace" 参数启动跟踪',"stopTracing.title":"正在创建跟踪文件..."},"vs/workbench/contrib/keybindings/browser/keybindings.contribution":{toggleKeybindingsLog:"切换键盘快捷方式疑难解答"},"vs/workbench/contrib/languageDetection/browser/languageDetection.contribution":{detectlang:"检测内容中的语言","langDetection.aria":"更改为检测到的语言: {0}","langDetection.name":"语言检测",noDetection:"无法检测编辑器语言","status.autoDetectLanguage":"接受检测到的语言: {0}"},"vs/workbench/contrib/languageStatus/browser/languageStatus.contribution":{"aria.1":"{0}，{1}","aria.2":"{0}","langStatus.aria":"编辑器语言状态: {0}","langStatus.name":"编辑器语言状态","name.pattern":"{0} (语言状态)",pin:"添加到状态栏",reset:"重置语言状态交互计数器",unpin:"从状态栏中删除"},"vs/workbench/contrib/limitIndicator/browser/limitIndicator.contribution":{"colorDecoratorsStatusItem.name":"颜色装饰器状态","colorDecoratorsStatusItem.source":"颜色修饰器","foldingRangesStatusItem.name":"正在折叠状态","foldingRangesStatusItem.source":"正在折叠","status.button.configure":"配置","status.limited.details":"出于性能原因，仅显示了 {0}","status.limitedColorDecorators.short":"颜色修饰器","status.limitedFoldingRanges.short":"折叠范围"},"vs/workbench/contrib/localHistory/browser/localHistory":{localHistoryIcon:"日程表视图中本地历史记录条目的图标。",localHistoryRestore:"用于还原本地历史记录条目的内容的图标。"},"vs/workbench/contrib/localHistory/browser/localHistoryCommands":{confirmDeleteAllDetail:"此操作不可逆!",confirmDeleteAllMessage:"是否要删除本地历史记录中所有文件的所有条目?",confirmDeleteDetail:"此操作不可逆!",confirmDeleteMessage:"是否要从 {1} 中删除 {0} 的本地历史记录条目?",confirmRestoreDetail:"还原将放弃任何未保存的更改。",confirmRestoreMessage:"是否要还原“{0}”的内容?",createLocalHistoryEntryTitle:"创建本地历史记录条目",createLocalHistoryPlaceholder:"输入 '{0}' 的本地历史记录条目的新名称",deleteAllButtonLabel:"全部删除(&&D)",deleteButtonLabel:"删除(&&D)","localHistory.category":"本地历史记录","localHistory.compareWithFile":"与文件进行比较","localHistory.compareWithPrevious":"与上一个版本比较","localHistory.compareWithSelected":"与已选项目进行比较","localHistory.create":"创建条目","localHistory.delete":"删除","localHistory.deleteAll":"全部删除","localHistory.open":"显示内容","localHistory.rename":"重命名","localHistory.restore":"还原内容","localHistory.restoreViaPicker":"查找要还原的条目","localHistory.restoreViaPickerMenu":"本地历史记录: 查找要还原的条目...","localHistory.selectForCompare":"选择以进行比较",localHistoryCompareToFileEditorLabel:"{0} ({1} • {2}) ↔ {3}",localHistoryCompareToPreviousEditorLabel:"{0} ({1} • {2}) ↔ {3} ({4} • {5})",localHistoryEditorLabel:"{0} ({1} • {2})","localHistoryRestore.source":"已还原文件",renameLocalHistoryEntryTitle:"重命名本地历史记录条目",renameLocalHistoryPlaceholder:"输入本地历史记录条目的新名称",restoreButtonLabel:"还原(&&R)","restoreViaPicker.entryPlaceholder":"选择要打开的本地历史记录条目","restoreViaPicker.filePlaceholder":"选择要显示其本地历史记录的文件",unableToRestore:"无法还原“{0}”。"},"vs/workbench/contrib/localHistory/browser/localHistoryTimeline":{localHistory:"本地历史记录"},"vs/workbench/contrib/localHistory/electron-sandbox/localHistoryCommands":{openContainer:"打开包含文件夹",revealInMac:"在查找器中显示",revealInWindows:"在文件资源管理器中显示"},"vs/workbench/contrib/localization/common/localization.contribution":{"vscode.extension.contributes.localizations":"向编辑器提供本地化内容","vscode.extension.contributes.localizations.languageId":"显示字符串翻译的目标语言 ID。","vscode.extension.contributes.localizations.languageName":"语言的英文名称。","vscode.extension.contributes.localizations.languageNameLocalized":"提供语言的名称。","vscode.extension.contributes.localizations.translations":"与语言关联的翻译的列表。","vscode.extension.contributes.localizations.translations.id":'使用此翻译的 VS Code 或扩展的 ID。VS Code 的 ID 总为 "vscode"，扩展的 ID 的格式应为 "publisherId.extensionName"。',"vscode.extension.contributes.localizations.translations.id.pattern":'翻译 VS Code 或者扩展，ID 分别应为 "vscode" 或格式为 "publisherId.extensionName"。',"vscode.extension.contributes.localizations.translations.path":"包含语言翻译的文件的相对路径。"},"vs/workbench/contrib/localization/common/localizationsActions":{available:"可用",chooseLocale:"选择显示语言",clearDisplayLanguage:"清除显示语言首选项",configureLocale:"配置显示语言",installed:"已安装",moreInfo:"详细信息"},"vs/workbench/contrib/localization/electron-sandbox/localization.contribution":{changeAndRestart:"更改语言并重启",neverAgain:"不再显示",updateLocale:"要将 {0} 的显示语言更改为 {1} 并重启吗?"},"vs/workbench/contrib/localization/electron-sandbox/minimalTranslations":{installAndRestart:"安装并重启",installAndRestartMessage:"安装语言包并将显示语言更改为 {0}。",searchMarketplace:"搜索商店",showLanguagePackExtensions:"在商店中搜索语言包并将显示语言更改为 {0}。"},"vs/workbench/contrib/logs/common/logs.contribution":{"remote name":"{0} (远程)",setDefaultLogLevel:"设置默认日志级别","show window log":"显示窗口日志"},"vs/workbench/contrib/logs/common/logsActions":{all:"全部",current:"当前",debug:"调试",default:"默认值",err:"错误",extensionLogs:"扩展日志",info:"信息","log placeholder":"选择日志文件",loggers:"日志",off:"关",openSessionLogFile:"打开窗口日志文(会话)...",resetLogLevel:"设置为默认日志级别",selectLogLevel:"选择日志级别",selectLogLevelFor:" {0}: 选择日志级别",selectlog:"设置日志级别","sessions placeholder":"选择会话",setLogLevel:"设置日志级别...",trace:"跟踪",warn:"警告"},"vs/workbench/contrib/logs/electron-sandbox/logsActions":{openExtensionLogsFolder:"打开扩展日志文件夹",openLogsFolder:"打开日志文件夹"},"vs/workbench/contrib/markers/browser/markers.contribution":{"Active File":"只看当前活动的文件","Excluded Files":"隐藏排除的文件",Infos:"显示信息",clearFiltersText:"清除过滤器文本",collapseAll:"全部折叠",copyMarker:"复制",copyMessage:"复制消息",errors:"显示错误",focusProblemsFilter:"焦点问题筛选器",focusProblemsList:"聚焦到问题视图",manyProblems:"1万+",markersViewIcon:"查看标记视图的图标。",miMarker:"问题(&&P)",noProblems:"没有问题",problems:"问题","show multiline":"在多行中显示消息","show singleline":"在单行中显示消息","status.problems":"问题","toggle Excluded Files":"切换排除的文件","toggle active file":"切换活动文件","toggle errors":"切换错误","toggle infos":"切换信息","toggle warnings":"切换警告",totalErrors:"错误: {0} 个",totalInfos:"信息: {0} 条",totalProblems:"总计 {0} 个问题",totalWarnings:"警告: {0} 个",viewAsTable:"以表形式查看",viewAsTree:"以树形式查看",warnings:"显示警告"},"vs/workbench/contrib/markers/browser/markersFileDecorations":{label:"问题","markers.showOnFile":"在文件和文件夹上显示错误和警告。","tooltip.1":"此文件存在 1 个问题","tooltip.N":"此文件存在 {0} 个问题"},"vs/workbench/contrib/markers/browser/markersTable":{codeColumnLabel:"代码",fileColumnLabel:"文件",messageColumnLabel:"消息",sourceColumnLabel:"源"},"vs/workbench/contrib/markers/browser/markersTreeViewer":{collapsedIcon:"在标记视图中指示多个线条已折叠的图标。",expandedIcon:"在标记视图中指示多个线条已显示的图标。","multi line":"在多行中显示消息",problemsView:"问题视图","single line":"在单行中显示消息"},"vs/workbench/contrib/markers/browser/markersView":{"No problems filtered":"显示 {0} 个问题",clearFilter:"清除筛选","problems filtered":"显示第 {0} 个 (共 {1} 个) 问题","showing filtered problems":"正在显示第 {0} 页(共 {1} 页)"},"vs/workbench/contrib/markers/browser/messages":{"errors.warnings.show.label":"显示错误和警告","markers.panel.action.filter":"筛选器问题","markers.panel.action.moreFilters":"更多过滤器...","markers.panel.action.quickfix":"显示修复方案","markers.panel.at.ln.col.number":"[行 {0}，列 {1}]","markers.panel.filter.activeFile":"只看当前活动的文件","markers.panel.filter.ariaLabel":"筛选器问题","markers.panel.filter.errors":"错误","markers.panel.filter.infos":"信息","markers.panel.filter.placeholder":"筛选器(例如 text、**/*.ts、!**/node_modules/**)","markers.panel.filter.showErrors":"显示错误","markers.panel.filter.showInfos":"显示信息","markers.panel.filter.showWarnings":"显示警告","markers.panel.filter.useFilesExclude":"隐藏排除的文件","markers.panel.filter.warnings":"警告","markers.panel.multiple.errors.label":"{0} 个错误","markers.panel.multiple.infos.label":"{0} 条信息","markers.panel.multiple.unknowns.label":"{0} 个未知","markers.panel.multiple.warnings.label":"{0} 条警告","markers.panel.no.problems.activeFile.build":"未在当前文件中检测到问题。","markers.panel.no.problems.build":"未在工作区检测到问题。","markers.panel.no.problems.filters":"在给定的筛选条件下，没有找到结果。","markers.panel.single.error.label":"1 个错误","markers.panel.single.info.label":"1 条信息","markers.panel.single.unknown.label":"1 个未知","markers.panel.single.warning.label":"1 条警告","markers.panel.title.problems":"问题","problems.panel.configuration.autoreveal":"在打开文件时，控制是否在“问题”视图中对其进行定位。","problems.panel.configuration.compareOrder":"控制问题导航的顺序。","problems.panel.configuration.compareOrder.position":"导航按位置排序的问题","problems.panel.configuration.compareOrder.severity":"导航按严重性排序的问题","problems.panel.configuration.showCurrentInStatus":"启用后，状态栏中将显示当前问题。","problems.panel.configuration.title":"问题预览","problems.panel.configuration.viewMode":"控制“问题”视图的默认视图模式。","problems.tree.aria.label.error.marker":"错误: 行 {1} 和字符 {2} 处的 {0}。{4} 生成的 {3}","problems.tree.aria.label.error.marker.nosource":"错误: {1} 行 {2} 列，{0}。{3}","problems.tree.aria.label.info.marker":"信息: 行 {1} 和字符 {2} 处的 {0}。{4} 生成的 {3}","problems.tree.aria.label.info.marker.nosource":"信息: {1} 行 {2} 列，{0}。{3}","problems.tree.aria.label.marker":"问题: 行 {1} 和字符 {2} 处的 {0}。{4} 生成的 {3}","problems.tree.aria.label.marker.nosource":"问题: {1} 行 {2} 列，{0}。{3}","problems.tree.aria.label.marker.relatedInformation":"此问题包含对 {0} 个位置的引用。","problems.tree.aria.label.relatedinfo.message":"{3} 的 {1} 行 {2} 列，{0}","problems.tree.aria.label.resource":"在文件夹 {2} 的文件 {1} 中有 {0} 个问题","problems.tree.aria.label.warning.marker":"警告: 行 {1} 和字符 {2} 处的 {0}。{4} 生成的 {3}","problems.tree.aria.label.warning.marker.nosource":"警告: {1} 行 {2} 列，{0}。{3}","problems.view.focus.label":"聚焦到问题 (错误、警告、信息)","problems.view.toggle.label":"切换问题 (错误、警告、信息) 视图"},"vs/workbench/contrib/mergeEditor/browser/commands/commands":{"layout.column":"列布局","layout.mixed":"混合布局","layout.showBase":"显示基础","layout.showBaseCenter":"显示基中心","layout.showBaseTop":"显示基顶部","merge.acceptAllInput1":"接受来自左侧的所有更改","merge.acceptAllInput2":"接受来自右侧的所有更改","merge.goToNextUnhandledConflict":"转到下一个未处理的冲突","merge.goToPreviousUnhandledConflict":"转到上一个未处理的冲突","merge.openBaseEditor":"打开基本文件","merge.toggleCurrentConflictFromLeft":"从左侧切换当前冲突","merge.toggleCurrentConflictFromRight":"从右侧切换当前冲突",mergeEditor:"合并编辑器","mergeEditor.acceptMerge":"完成合并","mergeEditor.acceptMerge.unhandledConflicts.accept":"完成但出现冲突(&&C)","mergeEditor.acceptMerge.unhandledConflicts.detail":"文件包含未经处理的冲突。","mergeEditor.acceptMerge.unhandledConflicts.message":"要完成 {0} 的合并吗?","mergeEditor.compareInput1WithBase":"将输入 1 与基本值进行比较","mergeEditor.compareInput2WithBase":"将输入 2 与基本值进行比较","mergeEditor.compareWithBase":"与基线进行比较","mergeEditor.resetChoice":"重置“关闭并存在冲突”选项","mergeEditor.resetResultToBaseAndAutoMerge":"重置结果","mergeEditor.resetResultToBaseAndAutoMerge.short":"重置",openfile:"打开文件",showNonConflictingChanges:"显示不冲突的更改",title:"打开合并编辑器"},"vs/workbench/contrib/mergeEditor/browser/commands/devCommands":{"merge.dev.copyState":"将合并编辑器状态复制为 JSON","merge.dev.loadContentsFromFolder":"从文件夹加载合并编辑器状态","merge.dev.saveContentsToFolder":"将合并编辑器状态保存到文件夹",mergeEditor:"合并编辑器(开发)","mergeEditor.name":"合并编辑器","mergeEditor.noActiveMergeEditor":"无活动合并编辑器","mergeEditor.selectFolderToSaveTo":"选择要保存到的文件夹","mergeEditor.successfullyCopiedMergeEditorContents":"已成功复制合并编辑器状态","mergeEditor.successfullySavedMergeEditorContentsToFolder":"已成功将合并编辑器状态保存到文件夹"},"vs/workbench/contrib/mergeEditor/browser/mergeEditor.contribution":{"diffAlgorithm.advanced":"使用高级差异算法。","diffAlgorithm.legacy":"使用旧差异算法。",name:"合并编辑器"},"vs/workbench/contrib/mergeEditor/browser/mergeEditorInput":{name:"正在合并: {0}"},"vs/workbench/contrib/mergeEditor/browser/mergeEditorInputModel":{acceptMerge:"接受合并(&&A)",detail1:"如果不保存合并结果，合并结果将丢失。",detail1Conflicts:"该文件包含未处理的冲突。如果不保存合并结果，合并结果将丢失。",detailN:"如果不保存合并结果，合并结果将丢失。",detailNConflicts:"文件包含未处理的冲突。如果不保存合并结果，合并结果将丢失。",discard:"不保存(&&N)","merge-editor.source":"在合并编辑器中解决冲突之前",message1:"是否要保留 {0} 的合并结果?",messageN:"是否要保留 {0} 个文件的合并结果?",noMoreWarn:"不再询问",save:"保存(&&S)","saveTempFile.detail":"这会将合并结果写入原始文件并关闭合并编辑器。","saveTempFile.message":"是否接受合并结果?",saveWithConflict:"保存(存在冲突)(&&S)","workspace.close":"关闭(&&C)","workspace.closeWithConflicts":"关闭(存在冲突)(&&C)","workspace.detail1.handled":"如果不保存，你的更改将丢失。","workspace.detail1.unhandled":"文件包含未处理的冲突。如果不保存更改，则更改将丢失。","workspace.detail1.unhandled.nonDirty":"文件包含未经处理的冲突。","workspace.detailN.handled":"如果不保存，你的更改将丢失。","workspace.detailN.unhandled":"文件包含未经处理的冲突。如果不保存更改，则更改将丢失。","workspace.detailN.unhandled.nonDirty":"文件包含未经处理的冲突。","workspace.doNotSave":"不保存(&&N)","workspace.message1":"是否要保存对 {0} 的更改?","workspace.message1.nonDirty":"是否要关闭 {0} 的合并编辑器?","workspace.messageN":"是否要保存对 {0} 文件所做的更改?","workspace.messageN.nonDirty":"是否要关闭 {0} 个合并编辑器?","workspace.save":"保存(&&S)","workspace.saveWithConflict":"保存(存在冲突)(&&S)"},"vs/workbench/contrib/mergeEditor/browser/mergeMarkers/mergeMarkersController":{conflictingLine:"1 冲突行",conflictingLines:"{0} 冲突行"},"vs/workbench/contrib/mergeEditor/browser/model/mergeEditorModel":{setInputHandled:"已处理设置输入",undoMarkAsHandled:"撤销标记为已处理"},"vs/workbench/contrib/mergeEditor/browser/view/colors":{"mergeEditor.change.background":"更改的背景色。","mergeEditor.change.word.background":"字词更改的背景色。","mergeEditor.changeBase.background":"基中更改的背景色。","mergeEditor.changeBase.word.background":"基中字更改的背景色。","mergeEditor.conflict.handled.minimapOverViewRuler":"输入 1 中更改的前景色。","mergeEditor.conflict.handledFocused.border":"处理的重点冲突的边框颜色。","mergeEditor.conflict.handledUnfocused.border":"已处理的非重点冲突的边框颜色。","mergeEditor.conflict.input1.background":"输入 1 中修饰的背景色。","mergeEditor.conflict.input2.background":"输入 2 中修饰的背景色。","mergeEditor.conflict.unhandled.minimapOverViewRuler":"输入 1 中更改的前景色。","mergeEditor.conflict.unhandledFocused.border":"未处理的重点冲突的边框颜色。","mergeEditor.conflict.unhandledUnfocused.border":"未处理的非重点冲突的边框颜色。","mergeEditor.conflictingLines.background":"“冲突行”文本的背景。"},"vs/workbench/contrib/mergeEditor/browser/view/conflictActions":{accept:"接受 {0}",acceptBoth:"接受组合",acceptBoth0First:"接受组合({0} 优先)",acceptBothTooltip:"接受结果文档中两边的自动组合。",acceptTooltip:"接受结果文档中的 {0}。",append:"追加 {0}",appendTooltip:"将 {0} 追加到结果文档。",combine:"接受组合",ignore:"忽略",manualResolution:"手动解决",manualResolutionTooltip:"此冲突已通过手动方式解决。",markAsHandledTooltip:"不要选择冲突一方。",noChangesAccepted:"未接受任何更改",noChangesAcceptedTooltip:"此冲突的当前解决方法等于右侧和左侧更改的共同上级。",remove:"删除 {0}",removeTooltip:"从结果文档中删除 {0}。",resetToBase:"重置为基",resetToBaseTooltip:"将此冲突重置为左右更改的共同上级。"},"vs/workbench/contrib/mergeEditor/browser/view/editors/baseCodeEditorView":{base:"基础",compareWith:"正在与 {0} 比较",compareWithTooltip:"差异以背景色突出显示。"},"vs/workbench/contrib/mergeEditor/browser/view/editors/inputCodeEditorView":{"accept.conflicting":"接受(结果为脏)","accept.excluded":"接受","accept.first":"撤消接受","accept.second":"撤消接受(当前为第二个)",input1:"输入 1",input2:"输入 2","mergeEditor.accept":"接受 {0}","mergeEditor.acceptBoth":"接受两者","mergeEditor.markAsHandled":"标记为已处理","mergeEditor.swap":"交换"},"vs/workbench/contrib/mergeEditor/browser/view/editors/resultCodeEditorView":{allConflictHandled:"已处理所有冲突，现在可以完成合并。",goToNextConflict:"转到下一个冲突","mergeEditor.remainingConflict":"剩余 {0} 个冲突","mergeEditor.remainingConflicts":"剩余 {0} 个冲突",result:"结果"},"vs/workbench/contrib/mergeEditor/browser/view/mergeEditor":{mergeEditor:"文本合并编辑器"},"vs/workbench/contrib/mergeEditor/browser/view/viewModel":{noConflictMessage:"当前没有可以切换的焦点冲突。"},"vs/workbench/contrib/mergeEditor/common/mergeEditor":{baseUri:"合并编辑器的基数的 URI",editorLayout:"合并编辑器的布局模式",is:"编辑器是合并编辑器",isr:"编辑器是合并编辑器的结果编辑器。",resultUri:"合并编辑器结果的 URI",showBase:"如果合并编辑器显示基础版本",showBaseAtTop:"如果应在顶部显示基",showNonConflictingChanges:"如果合并编辑器显示不冲突的更改"},"vs/workbench/contrib/mergeEditor/electron-sandbox/devCommands":{"merge.dev.openSelectionInTemporaryMergeEditor":"在临时合并编辑器中打开所选内容","merge.dev.openState":"从 JSON 打开合并编辑器状态",mergeEditor:"合并编辑器(开发)","mergeEditor.enterJSON":"输入 JSON"},"vs/workbench/contrib/notebook/browser/contrib/cellCommands/cellCommands":{"notebookActions.changeCellToCode":"将单元格更改为代码","notebookActions.changeCellToMarkdown":"将单元格更改为 Markdown","notebookActions.collapseAllCellInput":"折叠所有单元格输入","notebookActions.collapseAllCellOutput":"折叠所有单元格输出","notebookActions.collapseCellInput":"折叠单元格输入","notebookActions.collapseCellOutput":"折叠单元格输出","notebookActions.copyCellDown":"向下复制单元格","notebookActions.copyCellUp":"向上复制单元格","notebookActions.expandAllCellInput":"展开所有单元格输入","notebookActions.expandAllCellOutput":"展开所有单元格输出","notebookActions.expandCellInput":"展开单元格输入","notebookActions.expandCellOutput":"展开单元格输出","notebookActions.joinCellAbove":"加入上一个单元格","notebookActions.joinCellBelow":"加入下一个单元格","notebookActions.joinSelectedCells":"联接所选单元格","notebookActions.moveCellDown":"下移单元格","notebookActions.moveCellUp":"上移单元格","notebookActions.splitCell":"拆分单元格","notebookActions.toggleOutputs":"切换输出","notebookActions.toggleScrolling":"切换滚动单元格输出"},"vs/workbench/contrib/notebook/browser/contrib/cellStatusBar/executionStatusBarItemController":{"notebook.cell.status.executing":"正在执行","notebook.cell.status.failed":"已失败","notebook.cell.status.pending":"挂起","notebook.cell.status.success":"成功","notebook.cell.statusBar.timerTooltip":`**上次执行** {0}\r
\r
**执行时间** {1}\r
\r
**开销时间** {2}\r
\r
**呈现时间**\r
\r
{3}`,"notebook.cell.statusBar.timerTooltip.reportIssueFootnote":"通过上面的链接使用问题报告器提交问题。"},"vs/workbench/contrib/notebook/browser/contrib/cellStatusBar/statusBarProviders":{"notebook.cell.status.autoDetectLanguage":"接受检测到的语言: {0}","notebook.cell.status.language":"选择单元格语言模式"},"vs/workbench/contrib/notebook/browser/contrib/clipboard/notebookClipboard":{"notebookActions.copy":"复制单元格","notebookActions.cut":"剪切单元格","notebookActions.paste":"粘贴单元格","notebookActions.pasteAbove":"在上方粘贴单元格",toggleNotebookClipboardLog:"切换笔记本剪贴板疑难解答"},"vs/workbench/contrib/notebook/browser/contrib/editorStatusBar/editorStatusBar":{"kernel.select.label":"选择内核","notebook.activeCellStatusName":"笔记本编辑器选择","notebook.info":"笔记本内核信息","notebook.multiActiveCellIndicator":"单元格 {0} (已选择 {1} 个)","notebook.select":"笔记本内核选择","notebook.singleActiveCellIndicator":"单元格 {0}/{1}",tooltop:"{0} (建议)"},"vs/workbench/contrib/notebook/browser/contrib/find/notebookFind":{"notebookActions.findInNotebook":"在笔记本中查找","notebookActions.hideFind":"隐藏“在笔记本中查找”"},"vs/workbench/contrib/notebook/browser/contrib/find/notebookFindReplaceWidget":{findFilterIcon:"查找小组件中的“查找筛选器”图标。","label.closeButton":"关闭","label.find":"查找","label.nextMatchButton":"下一个匹配项","label.previousMatchButton":"上一个匹配项","label.replace":"替换","label.replaceAllButton":"全部替换","label.replaceButton":"替换","label.toggleReplaceButton":"切换替换","notebook.find.filter.filterAction":"查找筛选器","notebook.find.filter.findInCodeInput":"代码单元格源","notebook.find.filter.findInCodeOutput":"代码单元输出","notebook.find.filter.findInMarkupInput":"Markdown 源","notebook.find.filter.findInMarkupPreview":"呈现的 Markdown","placeholder.find":"查找","placeholder.replace":"替换"},"vs/workbench/contrib/notebook/browser/contrib/find/notebookFindWidget":{ariaSearchNoResult:"为“{1}”找到 {0}",ariaSearchNoResultEmpty:"已找到 {0}",ariaSearchNoResultWithLineNumNoCurrentMatch:"为“{1}”找到 {0}"},"vs/workbench/contrib/notebook/browser/contrib/format/formatting":{"format.title":"设置笔记本的格式","formatCell.label":"设置单元格格式","formatCells.label":"设置单元格格式",label:"设置笔记本的格式"},"vs/workbench/contrib/notebook/browser/contrib/gettingStarted/notebookGettingStarted":{"workbench.notebook.layout.gettingStarted.label":"重置笔记本入门"},"vs/workbench/contrib/notebook/browser/contrib/layout/layoutActions":{"notebook.toggleCellToolbarPosition":"切换单元格工具栏位置"},"vs/workbench/contrib/notebook/browser/contrib/navigation/arrow":{cursorMoveDown:"聚焦下一个单元格编辑器",cursorMoveUp:"聚焦上一个单元格编辑器",cursorPageDown:"单元格光标 Page Down",cursorPageDownSelect:"单元格光标 Page Down 选择",cursorPageUp:"单元格光标 Page Up",cursorPageUpSelect:"单元格光标 Page Up 选择",focusFirstCell:"聚焦第一个单元格",focusLastCell:"聚焦最后一个单元格",focusOutput:"聚焦活动单元格输出",focusOutputOut:"解除活动单元格输出聚焦","notebook.navigation.allowNavigateToSurroundingCells":"启用后，当单元格编辑器中的当前光标位于第/最后一行时，光标可以导航到下/上一个单元格。","notebookActions.centerActiveCell":"中心活动单元格"},"vs/workbench/contrib/notebook/browser/contrib/outline/notebookOutline":{"breadcrumbs.showCodeCells":"启用的笔记本痕迹包含代码单元格时。","outline.showCodeCells":"启用笔记本大纲时，显示代码单元格。"},"vs/workbench/contrib/notebook/browser/contrib/profile/notebookProfile":{setProfileTitle:"设置配置文件"},"vs/workbench/contrib/notebook/browser/contrib/saveParticipants/saveParticipants":{"codeAction.apply":"正在应用代码操作“{0}”。","codeaction.get2":'从 "{0}" ([configure]({1}))中获取代码操作。',label:"设置笔记本的格式","notebookFormatSave.formatting":"格式设置","notebookSaveParticipants.cellCodeActions":"正在运行代码操作","notebookSaveParticipants.notebookCodeActions":'正在运行 "Notebook" 代码操作'},"vs/workbench/contrib/notebook/browser/contrib/troubleshoot/layout":{"workbench.notebook.clearNotebookEdtitorTypeCache":"清除笔记本编辑器类型缓存","workbench.notebook.inspectLayout":"检查笔记本布局","workbench.notebook.toggleLayoutTroubleshoot":"切换布局疑难解答"},"vs/workbench/contrib/notebook/browser/controller/cellOperations":{"notebookActions.joinSelectedCells":"无法联接不同种类的单元格","notebookActions.joinSelectedCells.label":"联接 Notebook 单元格"},"vs/workbench/contrib/notebook/browser/controller/coreActions":{miShare:"共享","notebookActions.category":"笔记本","notebookMenu.cellTitle":"笔记本单元格","notebookMenu.insertCell":"插入单元格"},"vs/workbench/contrib/notebook/browser/controller/editActions":{autoDetect:"自动检测",changeLanguage:"更改单元格语言",clearAllCellsOutputs:"清除所有输出",clearCellOutputs:"清除单元格输出",confirmDeleteButton:"删除",confirmDeleteButtonMessage:"此单元格正在运行，是否确实要删除它?",detectLanguage:"接受单元格检测到的语言",doNotAskAgain:"不再询问",languageDescription:"({0}) - 当前语言",languageDescriptionConfigured:"({0})",languagesPicks:"语言(标识符)",noDetection:"无法检测单元格语言","notebookActions.deleteCell":"删除单元格","notebookActions.editCell":"编辑单元格","notebookActions.quitEdit":"停止编辑单元格",pickLanguageToConfigure:"选择语言模式"},"vs/workbench/contrib/notebook/browser/controller/executeActions":{"notebookActions.cancel":"停止单元格执行","notebookActions.cancelNotebook":"停止执行","notebookActions.execute":"执行单元格","notebookActions.executeAbove":"执行上方所有的单元格","notebookActions.executeAndFocusContainer":"执行单元格和焦点容器","notebookActions.executeAndInsertBelow":"执行笔记本单元格并在下方插入","notebookActions.executeAndSelectBelow":"执行笔记本单元格并在下方选择","notebookActions.executeBelow":"执行单元格及以下","notebookActions.executeNotebook":"全部运行","notebookActions.interruptNotebook":"中断","notebookActions.renderMarkdown":"呈现所有 Markdown 单元格",revealLastFailedCell:"转到最近失败的单元格",revealLastFailedCellShort:"转到",revealRunningCell:"转到正在运行的单元格",revealRunningCellShort:"转到"},"vs/workbench/contrib/notebook/browser/controller/foldingController":{"fold.cell":"折叠单元格","unfold.cell":"展开单元格"},"vs/workbench/contrib/notebook/browser/controller/insertCellActions":{"notebookActions.insertCodeCellAbove":"在上方插入代码单元格","notebookActions.insertCodeCellAboveAndFocusContainer":"在上方插入代码单元格和焦点容器","notebookActions.insertCodeCellAtTop":"在顶部添加代码单元格","notebookActions.insertCodeCellBelow":"在下方插入代码单元格","notebookActions.insertCodeCellBelowAndFocusContainer":"在下方插入代码单元格和焦点容器","notebookActions.insertMarkdownCellAbove":"在上方插入 Markdown 单元格","notebookActions.insertMarkdownCellAtTop":"在顶部添加 Markdown 单元格","notebookActions.insertMarkdownCellBelow":"在下方插入 Markdown 单元格","notebookActions.menu.insertCode":"代码","notebookActions.menu.insertCode.minimalToolbar":"添加代码","notebookActions.menu.insertCode.minimaltoolbar":"添加代码","notebookActions.menu.insertCode.ontoolbar":"代码","notebookActions.menu.insertCode.tooltip":"添加代码单元格","notebookActions.menu.insertMarkdown":"Markdown","notebookActions.menu.insertMarkdown.ontoolbar":"Markdown","notebookActions.menu.insertMarkdown.tooltip":"添加 Markdown 单元格"},"vs/workbench/contrib/notebook/browser/controller/layoutActions":{customizeNotebook:"自定义笔记本...","notebook.placeholder":"要保存到的设置文件","notebook.saveMimeTypeOrder":"保存 Mimetype 显示顺序","notebook.showLineNumbers":"笔记本行号","notebook.toggleBreadcrumb":"切换痕迹导航","notebook.toggleCellToolbarPosition":"切换单元格工具栏位置","notebook.toggleLineNumbers":"切换笔记本行号","saveTarget.machine":"用户设置","saveTarget.workspace":"工作区设置","workbench.notebook.layout.configure.label":"自定义笔记本布局","workbench.notebook.layout.select.label":"在笔记本布局之间选择","workbench.notebook.layout.webview.reset.label":"重置笔记本 Web 视图"},"vs/workbench/contrib/notebook/browser/diff/diffElementOutputs":{builtinRenderInfo:"内置",curruentActiveMimeType:"当前处于活动状态",empty:"单元格没有输出",mimeTypePicker:"选择其他输出 MIME 类型，可用的 MIME 类型: {0}","noRenderer.2":"找不到输出的呈现器。其具有以下 mimetype: {0}","promptChooseMimeType.placeHolder":"为当前项选择要渲染的 mime 类型","promptChooseMimeTypeInSecure.placeHolder":"选择要为当前输出呈现的 mimetype。仅当笔记本受信任时，丰富 mimetype 才可用"},"vs/workbench/contrib/notebook/browser/diff/notebookDiffActions":{"notebook.diff.action.next.title":"显示下一个更改","notebook.diff.action.previous.title":"显示上一个更改","notebook.diff.cell.revertInput":"还原输入","notebook.diff.cell.revertMetadata":"还原元数据","notebook.diff.cell.revertOutputs":"还原输出","notebook.diff.cell.switchOutputRenderingStyleToText":"切换输出呈现","notebook.diff.ignoreMetadata":"隐藏元数据差异","notebook.diff.ignoreOutputs":"隐藏输出差异","notebook.diff.showMetadata":"显示元数据差异","notebook.diff.showOutputs":"显示输出差异","notebook.diff.switchToText":"打开文本差异编辑器"},"vs/workbench/contrib/notebook/browser/diff/notebookDiffEditor":{notebookTreeAriaLabel:"笔记本文本差异"},"vs/workbench/contrib/notebook/browser/notebook.contribution":{"insertToolbarLocation.betweenCells":"在单元格之间悬停时显示的工具栏。","insertToolbarLocation.both":"两个工具栏。","insertToolbarLocation.hidden":"插入操作不会出现在任何位置。","insertToolbarLocation.notebookToolbar":"位于笔记本编辑器顶部的工具栏。","notebook.cellToolbarLocation.description":"应在何处显示单元格工具栏，或是否隐藏它。","notebook.cellToolbarLocation.viewType":"为特定文件类型配置单元格工具栏位置","notebook.cellToolbarVisibility.description":"是否应在悬停或单击时显示单元格工具栏。","notebook.codeActionsOnSave":"实验性的。保存时为笔记本运行一系列 CodeActions。必须指定 CodeActions，在延迟后不得保存该文件，并且编辑器不得关闭。示例: `source.fixAll: true`","notebook.compactView.description":"控制是否应以紧凑形式呈现笔记本编辑器。例如在打开时，它将减小左边距宽度。","notebook.confirmDeleteRunningCell":"控制是否需要确认提示才能删除正在运行的单元格。","notebook.consolidatedOutputButton.description":"控制是否应在输出工具栏中呈现输出操作。","notebook.consolidatedRunButton.description":"控制是否在“运行”按钮旁边的下拉列表中显示额外操作。","notebook.diff.enableOverviewRuler.description":"是否在笔记本的差异编辑器中呈现概述标尺。","notebook.diff.enablePreview.description":"是否对笔记本使用增强的文本差异编辑器。","notebook.displayOrder.description":"输出项 mime 类型的优先级列表","notebook.dragAndDrop.description":"控制笔记本编辑器是否应允许通过拖放移动单元格。","notebook.editorOptions.experimentalCustomization":"用于笔记本中使用的代码编辑器的设置。这可用于自定义大多数编辑器*设置。","notebook.findScope":"自定义用于在笔记本单元格中搜索的“查找小组件”行为。启用标记源和标记预览后，“查找小组件”将根据单元格的当前状态搜索源代码或预览。","notebook.focusIndicator.description":"控制焦点指示器呈现位置(是沿单元格边框，还是在左侧装订线上)。","notebook.formatOnCellExecution":"执行时设置笔记本单元格的格式。格式化程序必须可用。","notebook.formatOnSave":"保存时设置笔记本的格式。格式化程序必须可用，文件不得在延迟后保存，且编辑器不得关闭。","notebook.globalToolbar.description":"控制是否在笔记本编辑器中呈现全局工具栏。","notebook.globalToolbarShowLabel":"控制笔记本工具栏上的操作是否应呈现标签。","notebook.insertToolbarPosition.description":"控制插入单元格操作应出现的位置。","notebook.interactiveWindow.collapseCodeCells":"控制默认情况下是否折叠交互窗口中的代码单元格。","notebook.markup.fontSize":"控制笔记本中呈现的标记的字号(以像素为单位)。设置为 {0} 时，将使用 120% 的 {1}。","notebook.outputFontFamily":"笔记本单元格内输出文本的字体系列。设置为空时，使用 {0}。","notebook.outputFontSize":"笔记本单元格内输出文本的字号。设置为 0 时，使用 {0}。","notebook.outputLineHeight":`笔记本单元格内输出文本的行高。\r
 - 设置为 0 时，使用编辑器行高。\r
 - 介于 0 和 8 之间的值将用作字号的乘数。\r
 - 大于或等于 8 的值将用作有效值。`,"notebook.outputScrolling":"超出限制时，最初在可滚动区域中呈现笔记本输出","notebook.outputWordWrap":"控制输出中的行是否应换行。","notebook.remoteSaving":"启用在远程环境中笔记本的增量保存。启用后，仅对笔记本的更改才会发送到扩展主机，以提高大型笔记本和慢速网络连接的性能。","notebook.showCellStatusbar.description":"是否应显示单元格状态栏。","notebook.showCellStatusbar.hidden.description":"单元格状态栏始终隐藏。","notebook.showCellStatusbar.visible.description":"单元格状态栏始终可见。","notebook.showCellStatusbar.visibleAfterExecute.description":"在执行单元格之前，单元格状态栏处于隐藏状态。之后，其会变为可见以显示执行状态。","notebook.showFoldingControls.description":"控制显示 Markdown 标头文件箭头的时间。","notebook.stickyScroll.description":"试验。控制是否在笔记本编辑器中呈现笔记本的“粘滞滚动”标题。","notebook.textOutputLineLimit":"控制文本输出中显示的文本行数。如果启用 {0}，使用此设置确定输出的滚动高度。","notebook.undoRedoPerCell.description":"是否为每个单元格使用单独的撤消/重做堆叠。",notebookConfigurationTitle:"笔记本","showFoldingControls.always":"折叠控件始终可见。","showFoldingControls.mouseover":"折叠控件仅在鼠标悬停时可见。","showFoldingControls.never":"切勿显示折叠控件并减小装订线大小。"},"vs/workbench/contrib/notebook/browser/notebookAccessibility":{NotebookCellOutputAccessibleView:"笔记本单元格输出辅助视图","notebook.cell.edit":"“编辑单元格”命令 ({0}) 将焦点放在单元格输入上。","notebook.cell.editNoKb":"“编辑单元格”命令将焦点放在单元格输入上，当前无法通过键绑定触发该命令。","notebook.cell.executeAndFocusContainer":"“执行单元格”命令 ({0}) 执行当前具有焦点的单元格。","notebook.cell.executeAndFocusContainerNoKb":"“执行单元格”命令执行当前具有焦点的单元格，当前无法通过键绑定触发该命令。","notebook.cell.focusInOutput":"“焦点输出”命令 ({0}) 将在单元格的输出中设置焦点。","notebook.cell.focusInOutputNoKb":"“退出编辑”命令将在单元格的输出中设置焦点，当前无法通过键绑定触发该命令。","notebook.cell.insertCodeCellBelowAndFocusContainer":"“在上方/下方插入单元格”命令将创建新的空代码单元格","notebook.cell.quitEdit":"“退出编辑”命令 ({0}) 将焦点设置在单元格容器上。如果虚拟光标处于活动状态，则可能需要先按两次默认(Escape)键才会退出虚拟光标。","notebook.cell.quitEditNoKb":"“退出编辑”命令将在单元格容器上设置焦点，当前无法通过键绑定触发该命令。","notebook.cellNavigation":"焦点位于外部单元格容器上时，向上和向下箭头将在单元格之间移动焦点","notebook.changeCellType":"“将单元格更改为代码/Markdown”命令用于在单元格类型之间切换。","notebook.overview":"笔记本视图是代码单元格和 Markdown 单元格的集合。可以执行代码单元格，该单元格下方将直接生成输出。"},"vs/workbench/contrib/notebook/browser/notebookEditor":{"fail.noEditor":"无法打开笔记本编辑器类型为“{0}”的资源，请检查是否已安装并启用正确的扩展。","fail.noEditor.extensionMissing":"无法打开笔记本编辑器类型为“{0}”的资源，请检查是否已安装并启用正确的扩展。",notebookOpenAsText:"以文本形式打开",notebookOpenEnableMissingViewType:'为 "{0}" 启用扩展',notebookOpenInTextEditor:"在文本编辑器中打开",notebookOpenInstallMissingViewType:'安装 "{0}" 的扩展'},"vs/workbench/contrib/notebook/browser/notebookEditorWidget":{focusedCellBackground:"将焦点放在单元格上时单元格的背景色。","notebook.cellBorderColor":"笔记本单元格的边框颜色。","notebook.cellEditorBackground":"单元格编辑器背景色。","notebook.cellHoverBackground":"将鼠标悬停在单元格上时单元格的背景色。","notebook.cellInsertionIndicator":"笔记本单元格插入指示符的颜色。","notebook.cellStatusBarItemHoverBackground":"笔记本单元格状态栏项的背景色。","notebook.cellToolbarSeparator":"单元格底部工具栏中分隔符的颜色","notebook.editorBackground":"笔记本背景色。","notebook.focusedCellBorder":"将焦点放在单元格上时单元格焦点指示器边框的颜色。","notebook.focusedEditorBorder":"笔记本单元格编辑器边框的颜色。","notebook.inactiveFocusedCellBorder":"当主要焦点在编辑器外时，聚焦单元格时单元格的上下边框的颜色。","notebook.inactiveSelectedCellBorder":"选定多个单元格时单元格边框的颜色。","notebook.outputContainerBackgroundColor":"笔记本输出容器背景的颜色。","notebook.outputContainerBorderColor":"笔记本输出容器的边框颜色。","notebook.selectedCellBorder":"选中单元格但未将焦点放在其上时单元格上边框和下边框的颜色。","notebook.symbolHighlightBackground":"突出显示的单元格的背景色","notebookEditorOverviewRuler.runningCellForeground":"笔记本编辑器概述标尺中正在运行的单元格修饰的颜色。",notebookScrollbarSliderActiveBackground:"单击时笔记本滚动条滑块的背景色。",notebookScrollbarSliderBackground:"笔记本滚动条滑块的背景色。",notebookScrollbarSliderHoverBackground:"悬停时笔记本滚动条滑块的背景色。","notebookStatusErrorIcon.foreground":"单元格状态栏中笔记本单元格的错误图标颜色。","notebookStatusRunningIcon.foreground":"单元格状态栏中笔记本单元格的“正在运行”图标颜色。","notebookStatusSuccessIcon.foreground":"单元格状态栏中笔记本单元格的错误图标颜色。",notebookTreeAriaLabel:"笔记本",notebookTreeAriaLabelHelp:`笔记本\r
使用 {0} 获得辅助功能帮助`,notebookTreeAriaLabelHelpNoKb:`笔记本\r
有关详细信息，请运行“打开辅助功能帮助”命令`,selectedCellBackground:"选中某个单元格时该单元格的背景色。"},"vs/workbench/contrib/notebook/browser/notebookExtensionPoint":{"contributes.notebook.provider":"提供笔记本文档处理程序。","contributes.notebook.provider.displayName":"笔记本的可读名称。","contributes.notebook.provider.selector":"适用于笔记本的一组 glob 模式。","contributes.notebook.provider.selector.filenamePattern":"启用笔记本的 glob 模式。","contributes.notebook.provider.viewType":"笔记本类型。","contributes.notebook.renderer":"提供笔记本输出渲染器。","contributes.notebook.renderer.displayName":"笔记本输出渲染器的可读名称。","contributes.notebook.renderer.entrypoint":"要在 Web 视图中加载用于呈现扩展的文件。","contributes.notebook.renderer.entrypoint.extends":"此呈现器扩展的现有呈现器。","contributes.notebook.renderer.hardDependencies":'呈现器所需的内核依赖项的列表。如果 "NotebookKernel" 中存在任何依赖关系，则可以使用呈现器。',"contributes.notebook.renderer.optionalDependencies":'呈现器可利用的软内核依赖项的列表。如果 "NotebookKernel" 中存在任何依赖关系，则呈现器将优先于不与内核交互的呈现器。',"contributes.notebook.renderer.requiresMessaging":'定义呈现器是否需要通过 "createRendererMessaging" 与扩展主机通信。具有较强消息传递要求的呈现器可能在所有环境中都不起作用。',"contributes.notebook.renderer.requiresMessaging.always":"消息传递是必需的。仅当它是可在扩展主机中运行的扩展的一部分时，才会使用该呈现器。","contributes.notebook.renderer.requiresMessaging.never":"呈现器不需要消息传递。","contributes.notebook.renderer.requiresMessaging.optional":"有可用的消息传递时，呈现器效果更好，但不强制要求。","contributes.notebook.renderer.viewType":"笔记本输出渲染器的唯一标识符。","contributes.notebook.selector":"适用于笔记本的一组 glob 模式。","contributes.notebook.selector.provider.excludeFileNamePattern":"禁用笔记本的 glob 模式。","contributes.preload.entrypoint":"Web 视图中加载的文件的路径。","contributes.preload.localResourceRoots":"Web 视图中应允许的其他资源的路径。","contributes.preload.provider":"提供笔记本预加载。","contributes.preload.provider.viewType":"笔记本类型。","contributes.priority":'控制在用户打开文件时是否自动启用自定义编辑器。用户可能会使用 "workbench.editorAssociations" 设置覆盖此项。',"contributes.priority.default":"在用户打开资源时自动使用此编辑器，前提是没有为该资源注册其他默认的自定义编辑器。","contributes.priority.option":"在用户打开资源时不会自动使用此编辑器，但用户可使用 `Reopen With` 命令切换到此编辑器。"},"vs/workbench/contrib/notebook/browser/notebookIcons":{clearIcon:"用于在笔记本编辑器中清除单元格输出的图标。",collapsedIcon:"用于在笔记本编辑器中批注已折叠部分的图标。",deleteCellIcon:"用于在笔记本编辑器中删除单元格的图标。",editIcon:"用于在笔记本编辑器中编辑单元格的图标。",errorStateIcon:"用于在笔记本编辑器中指示错误状态的图标。",executeAboveIcon:"用于在笔记本编辑器中在单元格上方进行执行的图标。",executeAllIcon:"用于在笔记本编辑器中执行所有单元格的图标。",executeBelowIcon:"用于在笔记本编辑器中在单元格下方进行执行的图标。",executeIcon:"笔记本编辑器中的执行图标。",executingStateIcon:"用于在笔记本编辑器中指示执行状态的图标。",expandedIcon:"用于在笔记本编辑器中批注已展开部分的图标。",mimetypeIcon:"MIME 类型笔记本编辑器的图标。",moveDownIcon:"用于在笔记本编辑器中下移单元格的图标。",moveUpIcon:"用于在笔记本编辑器中上移单元格的图标。",nextChangeIcon:"差异编辑器中下一个更改操作的图标",openAsTextIcon:"用于在文本编辑器中打开笔记本的图标。",pendingStateIcon:"用于在笔记本编辑器中指示挂起状态的图标。",previousChangeIcon:"差异编辑器中上一个更改操作的图标",renderOutputIcon:"用于在差异编辑器中呈现输出的图标。",revertIcon:"笔记本编辑器中的还原图标。",selectKernelIcon:"配置用于在笔记本编辑器中选择内核的图标。",splitCellIcon:"用于在笔记本编辑器中拆分单元格的图标。",stopEditIcon:"用于在笔记本编辑器中停止编辑单元格的图标。",stopIcon:"用于在笔记本编辑器中停止执行的图标。",successStateIcon:"用于在笔记本编辑器中指示成功状态的图标。"},"vs/workbench/contrib/notebook/browser/services/notebookExecutionServiceImpl":{notebookRunTrust:"执行笔记本单元将从此工作区运行代码。"},"vs/workbench/contrib/notebook/browser/services/notebookKernelHistoryServiceImpl":{"workbench.notebook.clearNotebookKernelsMRUCache":"清除笔记本内核 MRU 缓存"},"vs/workbench/contrib/notebook/browser/services/notebookKeymapServiceImpl":{disableOtherKeymapsConfirmation:"是否禁用其他按键映射扩展 ({0})，从而避免按键绑定之间的冲突?",no:"否",yes:"是"},"vs/workbench/contrib/notebook/browser/services/notebookLoggingServiceImpl":{renderChannelName:"笔记本呈现"},"vs/workbench/contrib/notebook/browser/services/notebookServiceImpl":{notebookOpenInstallMissingViewType:'安装 "{0}" 的扩展'},"vs/workbench/contrib/notebook/browser/view/cellParts/cellEditorOptions":{"notebook.cell.toggleLineNumbers.title":"显示单元格行号","notebook.lineNumbers":"控制单元格编辑器中行号的显示。","notebook.showLineNumbers":"笔记本行号","notebook.toggleLineNumbers":"切换笔记本行号"},"vs/workbench/contrib/notebook/browser/view/cellParts/cellOutput":{curruentActiveMimeType:"当前处于活动状态",empty:"单元格没有输出",installJupyterPrompt:"从市场安装其他呈现器","noRenderer.2":"找不到输出的呈现器。其具有以下 mimetype: {0}",pickMimeType:"更改演示文稿","promptChooseMimeType.placeHolder":"为当前项选择要渲染的 mime 类型","promptChooseMimeTypeInSecure.placeHolder":"为当前项选择要渲染的 mime 类型",unavailableRenderInfo:"呈现器不可用"},"vs/workbench/contrib/notebook/browser/view/cellParts/codeCell":{cellExpandInputButtonLabel:"展开单元格输入({0})",cellExpandInputButtonLabelWithDoubleClick:"双击以展开单元格输入({0})"},"vs/workbench/contrib/notebook/browser/view/cellParts/codeCellExecutionIcon":{"notebook.cell.status.executing":"正在执行","notebook.cell.status.failed":"失败","notebook.cell.status.pending":"挂起","notebook.cell.status.success":"成功"},"vs/workbench/contrib/notebook/browser/view/cellParts/codeCellRunToolbar":{"notebook.moreRunActionsLabel":"更多..."},"vs/workbench/contrib/notebook/browser/view/cellParts/collapsedCellOutput":{cellExpandOutputButtonLabel:"展开单元格输出(${0})",cellExpandOutputButtonLabelWithDoubleClick:"双击以展开单元格输出({0})",cellOutputsCollapsedMsg:"输出已折叠"},"vs/workbench/contrib/notebook/browser/view/cellParts/foldedCellHint":{hiddenCellsLabel:"已隐藏 1 个单元格",hiddenCellsLabelPlural:"已隐藏 {0} 个单元格"},"vs/workbench/contrib/notebook/browser/view/cellParts/markupCell":{cellExpandInputButtonLabel:"展开单元格输入({0})",cellExpandInputButtonLabelWithDoubleClick:"双击以展开单元格输入({0})"},"vs/workbench/contrib/notebook/browser/view/renderers/backLayerWebView":{"notebook.emptyMarkdownPlaceholder":"空白 Markdown 单元格，请双击或按 Enter 以进行编辑。","notebook.error.rendererFallbacksExhausted":"无法呈现“$0”的内容","notebook.error.rendererNotFound":"找不到“$0”的呈现器","webview title":"笔记本 Web 视图内容"},"vs/workbench/contrib/notebook/browser/view/renderers/cellRenderer":{cellExecutionOrderCountLabel:"执行顺序"},"vs/workbench/contrib/notebook/browser/viewModel/notebookOutlineProvider":{empty:"空单元格"},"vs/workbench/contrib/notebook/browser/viewParts/notebookEditorStickyScroll":{miNotebookStickyScroll:"&&Notebook Sticky Scroll",mitoggleStickyScroll:"&&Toggle Notebook Sticky Scroll",notebookStickyScroll:"Notebook Sticky Scroll",toggleStickyScroll:"Toggle Notebook Sticky Scroll"},"vs/workbench/contrib/notebook/browser/viewParts/notebookKernelQuickPickStrategy":{current1:"当前所选内容",current2:"{0}–当前所选内容",installSuggestedKernel:"安装/启用建议的扩展","kernels.detecting":"检测内核","kernels.selectedKernelAndKernelDetectionRunning":"所选内核: {0} (正在运行内核检测任务)",learnMoreTooltip:"了解详细信息","prompt.placeholder.change":'更改 "{0}" 的内核',"prompt.placeholder.select":"选择“{0}”的内核",searchForKernels:"浏览市场以获取内核扩展",select:"选择内核",selectAnotherKernel:"选择另一个内核","selectAnotherKernel.more":"选择其他内核...","selectKernel.placeholder":"键入以选择内核源",selectKernelFromExtension:"从 {0} 中选择内核"},"vs/workbench/contrib/notebook/browser/viewParts/notebookKernelView":{"notebookActions.selectKernel":"选择笔记本内核","notebookActions.selectKernel.args":"笔记本内核参数"},"vs/workbench/contrib/notebook/common/notebookEditorInput":{vetoExtHostRestart:"无法保存笔记本“{0}”。"},"vs/workbench/contrib/offline/browser/offline.contribution":{offline:"网络似乎处于脱机状态，某些功能可能不可用。",statusBarOfflineBackground:"工作台脱机时的状态栏背景色。状态栏显示在窗口底部",statusBarOfflineBorder:"工作台脱机时用来与侧边栏和编辑器区分的状态栏边框颜色。状态栏显示在窗口底部。",statusBarOfflineForeground:"工作台脱机时的状态栏前景色。状态栏显示在窗口底部"},"vs/workbench/contrib/outline/browser/outline.contribution":{"filteredTypes.array":"启用后，大纲将显示 `array` 符号。","filteredTypes.boolean":"启用后，大纲将显示 `boolean` 符号。","filteredTypes.class":"启用后，大纲将显示 `class` 符号。","filteredTypes.constant":"启用后，大纲将显示`constant`符号。","filteredTypes.constructor":"启用大纲时，大纲将显示 `constructor` 符号。","filteredTypes.enum":"启用后，大纲将显示 `enum` 符号。","filteredTypes.enumMember":"启用后，大纲将显示 `enumMember` 符号。","filteredTypes.event":"启用后，大纲将显示 `event` 符号。","filteredTypes.field":"启用时，大纲将显示 `field`符号。","filteredTypes.file":"启用后，大纲将显示 `file` 符号。","filteredTypes.function":"启用时，大纲将显示 `function` 符号。","filteredTypes.interface":"启用后，大纲将显示 `interface` 符号。","filteredTypes.key":"启用后，大纲将显示 `key`符号。","filteredTypes.method":"启用后，大纲将显示 `method` 符号。","filteredTypes.module":"启用后，大纲将显示 `module` 符号。","filteredTypes.namespace":"启用后，大纲将显示 `namespace` 符号。","filteredTypes.null":"启用后，大纲将显示 `null` 符号。","filteredTypes.number":"启用后，大纲将显示 `number` 符号。","filteredTypes.object":"启用后，大纲将显示 `object` 符号。","filteredTypes.operator":"启用时，大纲显示 `operator` 符号。","filteredTypes.package":"启用后，大纲将显示 `package` 符号。","filteredTypes.property":"启用后，大纲将显示 `property` 符号。","filteredTypes.string":"启用后，大纲将显示 `string` 符号。","filteredTypes.struct":"启用后，大纲将显示`struct` 符号。","filteredTypes.typeParameter":"启用后，大纲将显示 `typeParameter` 符号。","filteredTypes.variable":"启用后，大纲将显示 `variable` 符号。",name:"大纲","outline.initialState":"控制大纲项是折叠还是展开。","outline.initialState.collapsed":"折叠所有项。","outline.initialState.expanded":"展开所有项。","outline.problem.colors":"对大纲元素的错误和警告使用颜色。","outline.problems.badges":"对大纲元素的错误和警告使用锁屏提醒。","outline.showIcons":"使用图标呈现大纲元素。","outline.showProblem":"显示大纲元素上的错误和警告。",outlineConfigurationTitle:"大纲",outlineViewIcon:"查看大纲视图的图标。"},"vs/workbench/contrib/outline/browser/outlineActions":{collapse:"全部折叠",expand:"全部展开",filterOnType:"在输入时筛选",followCur:"跟随光标",sortByKind:"排序方式 : 类别",sortByName:"排序依据 : 名称",sortByPosition:"排序依据 : 位置"},"vs/workbench/contrib/outline/browser/outlinePane":{loading:"正在加载“{0}”的文档符号...","no-editor":"活动编辑器无法提供大纲信息。","no-symbols":"在文档“{0}”中找不到符号"},"vs/workbench/contrib/output/browser/logViewer":{logViewerAriaLabel:"日志查看器"},"vs/workbench/contrib/output/browser/output.contribution":{"clearOutput.label":"清除输出",extensionLogs:"扩展日志",logFile:'要打开的日志文件的 ID，例如 `"window"`。当前获取此信息的最佳方法是通过检查 `workbench.action.output.show.<id>` 命令来获取 ID',logViewer:"日志查看器",miToggleOutput:"输出(&&O)",openActiveLogOutputFile:"打开日志输出文件",openLogFile:"打开日志文件...",output:"输出","output.smartScroll.enabled":"在输出视图中启用或禁用「智能滚动」。「智能滚动」会自动在你点击输出视图时锁定滚动，并在你点击最后一行时解锁滚动。",outputCleared:"输出被清除",outputScrollOff:"关闭自动滚动",outputScrollOn:"打开自动滚动",outputViewIcon:"查看输出视图的图标。",selectOutput:"选择输出通道",selectlog:"选择日志",selectlogFile:"选择日志文件",showLogs:"显示日志...",showOutputChannels:"显示输出通道...","switchBetweenOutputs.label":"切换输出","switchToOutput.label":"切换输出",toggleAutoScroll:"切换自动滚动"},"vs/workbench/contrib/output/browser/outputView":{channel:"“{0}”的输出通道",output:"输出","output model title":"{0} - 输出",outputViewAriaLabel:"输出面板"},"vs/workbench/contrib/performance/browser/performance.contribution":{cycles:"打印服务周期",emitter:"打印发射器配置文件","insta.trace":"打印服务跟踪","show.label":"启动性能"},"vs/workbench/contrib/performance/browser/perfviewEditor":{name:"启动性能"},"vs/workbench/contrib/performance/electron-sandbox/performance.contribution":{"experimental.rendererProfiling":"启用时，将自动分析慢速呈现器"},"vs/workbench/contrib/performance/electron-sandbox/startupProfiler":{"prof.detail":`请创建问题并手动附加以下文件:\r
{0}`,"prof.detail.restart":"需要重新启动才能继续使用“{0}”。再次感谢您的贡献。","prof.message":"成功创建的配置文件。","prof.restart":"重启","prof.restart.button":"重启(&&R)","prof.restartAndFileIssue":"创建问题并重启(&&C)","prof.thanks":"感谢您的帮助。"},"vs/workbench/contrib/preferences/browser/keybindingsEditor":{"SearchKeybindings.FullTextSearchPlaceholder":"在此键入搜索按键绑定","SearchKeybindings.KeybindingsSearchPlaceholder":"正在录制按键。按 Esc 键退出",addKeybindingLabel:"添加键绑定",addKeybindingLabelWithKey:"添加按键绑定 {0}",addLabel:"添加键绑定…",changeLabel:"更改键绑定…",clearInput:"清除键绑定搜索输入",command:"命令",copyCommandLabel:"复制命令 ID",copyCommandTitleLabel:"复制命令标题",copyLabel:"复制",editKeybindingLabel:"更改键绑定",editKeybindingLabelWithKey:"更改键绑定 {0}",editWhen:"更改 When 表达式",error:'编辑按键绑定时发生错误“{0}”。请打开 "keybindings.json" 文件并检查错误。',"extension label":"扩展({0})",keybinding:"键绑定",keybindingsLabel:"键绑定","keyboard shortcuts aria label":"使用空格或 Enter 来更改键绑定。",noKeybinding:"未分配键绑定",noWhen:"没有时间上下文",recordKeysLabel:"录制按键",recording:"正在录制按键",removeLabel:"删除键绑定",resetLabel:"重置按键绑定","show keybindings":"按字母顺序显示 {0} 个按键绑定","show sorted keybindings":"按优先级顺序显示 {0} 个按键绑定",showSameKeybindings:"显示相同的按键绑定",sortByPrecedeneLabel:"按优先级排序(最高优先)",source:"源",title:"{0} ({1})",when:"当"},"vs/workbench/contrib/preferences/browser/keybindingsEditorContribution":{"defineKeybinding.kbLayoutErrorMessage":"在当前键盘布局下无法生成此组合键。","defineKeybinding.kbLayoutLocalAndUSMessage":"在你的键盘布局上为 **{0}**(美国标准布局上为 **{1}**)。","defineKeybinding.kbLayoutLocalMessage":"在你的键盘布局上为 **{0}**。"},"vs/workbench/contrib/preferences/browser/keybindingWidgets":{"defineKeybinding.chordsTo":"加上","defineKeybinding.existing":"已有 {0} 条命令的按键绑定与此相同","defineKeybinding.initial":"先按所需的组合键，再按 Enter 键。","defineKeybinding.oneExists":"已有 1 条命令的按键绑定与此相同"},"vs/workbench/contrib/preferences/browser/keyboardLayoutPicker":{autoDetect:"自动检测",configureKeyboardLayout:"配置键盘布局",displayLanguage:"定义在浏览器环境的 VS Code 中使用的键盘布局。",doc:"打开 VS Code 并从命令面板运行“开发人员: 检查密钥映射(JSON)”。","fail.createSettings":"无法创建“{0}”({1})。","keyboard.chooseLayout":"更改键盘布局",keyboardLayout:"布局: {0}",layoutPicks:"键盘布局({0})",pickKeyboardLayout:"选择键盘布局","status.workbench.keyboardLayout":"键盘布局"},"vs/workbench/contrib/preferences/browser/preferences.contribution":{clear:"清除搜索结果",clearHistory:"清除键盘快捷方式搜索历史记录","defineKeybinding.start":"定义键绑定",filterUntrusted:"显示不受信任的工作区设置",keybindingsEditor:"键绑定编辑器",keyboardShortcuts:"键盘快捷方式",miOpenOnlineSettings:"联机服务设置(&&O)",miOpenSettings:"设置(&&S)",miOpenTelemetrySettings:"遥测设置(&&T)",miPreferences:"首选项(&&P)",openAccessibilitySettings:"打开辅助功能设置",openApplicationSettingsJson:"打开应用程序设置(JSON)",openDefaultKeybindingsFile:"打开默认键盘快捷键(JSON)",openFolderSettings:"打开文件夹设置",openFolderSettingsFile:"打开文件夹设置(JSON)",openGlobalKeybindings:"打开键盘快捷方式",openGlobalKeybindingsFile:"打开键盘快捷方式(JSON)",openGlobalSettings:"打开用户设置",openRawDefaultSettings:"打开默认设置(JSON)",openRemoteSettings:"打开远程设置({0})",openRemoteSettingsJSON:"打开远程设置(JSON) ({0})",openSettings2:"打开设置 (ui)",openSettingsJson:"打开设置 (json)",openUserSettingsJson:"打开用户设置(JSON)",openWorkspaceSettings:"打开工作区设置",openWorkspaceSettingsFile:"打开工作区设置(JSON)",preferences:"首选项",settings:"设置","settings.clearResults":"清除设置搜索结果","settings.focusFile":"聚焦到设置文件","settings.focusLevelUp":"将焦点上移一级","settings.focusSearch":"聚焦到设置搜索","settings.focusSettingControl":"焦点设置控制","settings.focusSettingsList":"聚焦设置列表","settings.focusSettingsTOC":"聚焦到设置目录","settings.showContextMenu":"显示设置上下文菜单",settingsEditor2:"设置编辑器 2",showDefaultKeybindings:"显示系统键绑定",showExtensionKeybindings:"显示扩展键绑定",showUserKeybindings:"显示用户按键绑定"},"vs/workbench/contrib/preferences/browser/preferencesActions":{configureLanguageBasedSettings:"配置语言特定的设置...",languageDescriptionConfigured:"({0})",pickLanguage:"选择语言"},"vs/workbench/contrib/preferences/browser/preferencesIcons":{keybindingsAddIcon:"键绑定 UI 中“添加”操作的图标。",keybindingsEditIcon:"键绑定 UI 中“编辑”操作的图标。",keybindingsRecordKeysIcon:"键绑定 UI 中“记录密钥”操作的图标。",keybindingsSortIcon:"键绑定 UI 中“按优先级排序”切换开关的图标。",preferencesClearInput:"设置和键绑定 UI 中的“清除输入”图标。",preferencesDiscardIcon:"设置 UI 中“放弃”操作的图标。",preferencesOpenSettings:"“打开设置”命令的图标。",settingsEditIcon:"设置 UI 中“编辑”操作的图标。",settingsFilter:"为设置 UI 建议筛选器的按钮的图标。",settingsMoreActionIcon:"设置 UI 中“更多操作”操作的图标。",settingsRemoveIcon:"设置 UI 中“删除”操作的图标。",settingsScopeDropDownIcon:"“拆分 JSON 设置”编辑器中“文件夹”下拉按钮的图标。"},"vs/workbench/contrib/preferences/browser/preferencesRenderers":{allProfileSettingWhileInNonDefaultProfileSetting:"无法应用此设置，因为它已配置为使用设置 {0} 在所有配置文件中应用。将改用默认配置文件中的值。",copyDefaultValue:"复制到设置",defaultProfileSettingWhileNonDefaultActive:"非默认配置文件处于活动状态时无法应用此设置。将在默认配置文件处于活动状态时应用。",editTtile:"编辑","manage workspace trust":"管理工作区信任",replaceDefaultValue:"在设置中替换","unknown configuration setting":"未知的配置设置",unsupportLanguageOverrideSetting:"无法应用此设置，因为它未注册为语言替代设置。",unsupportedApplicationSetting:"此设置具有应用程序范围，只能在用户设置文件中设置。",unsupportedMachineSetting:"只能在本地窗口的用户设置中或者远程窗口的远程设置中应用此设置。",unsupportedPolicySetting:"无法应用此设置，因为它是在系统策略中配置的。",unsupportedProperty:"不支持的属性",unsupportedRemoteMachineSetting:"此设置无法在此窗口中应用。在你打开本地窗口时将应用它。",unsupportedWindowSetting:"此设置无法应用于此工作区。它将在您直接打开包含的工作区文件夹时应用。",untrustedSetting:"此设置仅可应用于受信任的工作区。"},"vs/workbench/contrib/preferences/browser/preferencesWidgets":{folderSettings:"文件夹",settingsSwitcherBarAriaLabel:"设置转换器",userSettings:"用户",userSettingsRemote:"远程",workspaceSettings:"工作区"},"vs/workbench/contrib/preferences/browser/settingsEditor2":{"SearchSettings.AriaLabel":"搜索设置",clearInput:"清除设置搜索输入",clearSearchFilters:"清除筛选",filterInput:"筛选器设置",lastSyncedLabel:"上次同步时间: {0}",moreThanOneResult:"找到 {0} 个设置",noResults:"未找到设置",oneResult:"找到 1 个设置",settings:"设置","settings require trust":"工作区信任",turnOnSyncButton:"打开设置同步"},"vs/workbench/contrib/preferences/browser/settingsEditorSettingIndicators":{alsoConfiguredElsewhere:"也已在其他位置修改",alsoConfiguredIn:"同时修改于",alsoModifiedInScopes:"在以下范围中也修改了该设置:",applicationSetting:"适用所有配置文件",applicationSettingDescription:"该设置不特定于当前配置文件，并将在切换配置文件时保留其值。",applicationSettingDescriptionAccessible:"切换配置文件时保留设置值",configuredElsewhere:"已在其他位置修改",configuredIn:"修改于",defaultOverriddenDetails:"默认设置值由 {0} 重写",defaultOverriddenDetailsAriaLabel:"{0} 替代了默认值",defaultOverriddenLabel:"默认值已更改",defaultOverriddenLanguagesList:"存在适用于 {0} 的特定于语言的默认值",extensionSyncIgnoredLabel:"未同步",hasDefaultOverridesForLanguages:"以下语言具有默认替代:",manageWorkspaceTrust:"管理工作区信任",modifiedInScopeForLanguage:"{1} 的 {0} 范围",modifiedInScopeForLanguageMidSentence:"{1} 的 {0} 范围",modifiedInScopes:"已在以下作用域中修改该设置:",policyDescription:"此设置由组织管理，并且无法更改其应用的值。",policyDescriptionAccessible:"由组织策略管理；未应用设置值",policyFilterLink:"查看策略设置",policyLabelText:"未应用设置值",remote:"远程",syncIgnoredAriaLabel:"同步期间忽略的设置",syncIgnoredTitle:"同步期间忽略此设置",trustLabel:"此设置值仅可应用于受信任的工作区。",user:"用户",workspace:"工作区",workspaceUntrustedAriaLabel:"工作区不受信任；未应用设置值",workspaceUntrustedLabel:"未应用设置值"},"vs/workbench/contrib/preferences/browser/settingsLayout":{accessibility:"辅助功能",appearance:"外观",application:"应用程序",audioCues:"音频提示",breadcrumbs:"导航路径",chat:"聊天",comments:"评论",commonlyUsed:"常用设置",cursor:"光标",debug:"调试",diffEditor:"差异编辑器",editorManagement:"编辑管理",experimental:"实验性",extensions:"扩展",features:"功能",fileExplorer:"资源管理器",files:"文件",find:"查找",font:"字体",formatting:"格式化",keyboard:"键盘",mergeEditor:"合并编辑器",minimap:"缩略图",newWindow:"新建窗口",notebook:"笔记本",other:"其他",output:"输出",problems:"问题",proxy:"代理服务器",remote:"远程",scm:"源代码管理",screencastMode:"截屏模式",search:"搜索",security:"安全性",settings:"设置编辑器",settingsSync:"设置同步",suggestions:"建议",task:"任务",telemetry:"遥测",terminal:"终端",testing:"测试",textEditor:"文本编辑器",timeline:"时间线",update:"更新",window:"窗口",workbench:"工作台",workspace:"工作区",zenMode:"禅模式"},"vs/workbench/contrib/preferences/browser/settingsSearchMenu":{extSettingsSearch:"扩展 ID...",extSettingsSearchTooltip:"添加扩展 ID 筛选器",featureSettingsSearch:"功能...",featureSettingsSearchTooltip:"添加功能筛选器",langSettingsSearch:"语言...",langSettingsSearchTooltip:"添加语言 ID 筛选器",modifiedSettingsSearch:"已更改",modifiedSettingsSearchTooltip:"添加或删除已修改的设置筛选器",onlineSettingsSearch:"联机服务",onlineSettingsSearchTooltip:"显示联机服务设置",policySettingsSearch:"策略服务",policySettingsSearchTooltip:"显示策略服务的设置",tagSettingsSearch:"标记...",tagSettingsSearchTooltip:"添加标记筛选器"},"vs/workbench/contrib/preferences/browser/settingsTree":{applyToAllProfiles:"将设置应用于所有配置文件",copySettingAsJSONLabel:"将设置复制为 JSON 文本",copySettingIdLabel:"复制设置 id",editInSettingsJson:"在 settings.json 中编辑",editLanguageSettingLabel:"编辑 {0} 的设置",extensions:"扩展",modified:"该设置已在当前作用域中配置。",newExtensionsButtonLabel:"显示匹配的扩展",resetSettingLabel:"重置此设置",settings:"设置","settings.Default":"默认","settings.Modified":"已修改。",settingsContextMenuTitle:"更多操作...",showExtension:"显示扩展",stopSyncingSetting:"同步此设置",validationError:"验证错误。"},"vs/workbench/contrib/preferences/browser/settingsWidgets":{addItem:"添加项",addPattern:"添加模式",cancelButton:"取消",editExcludeItem:"编辑排除项目",editIncludeItem:"编辑包含项",editItem:"编辑项",excludePatternHintLabel:"排除与“{0}”匹配的文件",excludePatternInputPlaceholder:"排除项的模式...",excludeSiblingHintLabel:"仅当存在匹配“{1}”的文件时，才排除匹配“{0}”的文件",excludeSiblingInputPlaceholder:"当符合此模式的项目存在时...",includePatternHintLabel:"包括与 `{0}` 匹配的文件",includePatternInputPlaceholder:"包括模式...",includeSiblingHintLabel:"仅当存在匹配 `{0}` 的文件时，才包含匹配 `{1}` 的文件",includeSiblingInputPlaceholder:"当符合此模式的项目存在时...",itemInputPlaceholder:"项...",listSiblingHintLabel:'列出与"${1}"同级的项目"{0}"',listSiblingInputPlaceholder:"同级...",listValueHintLabel:'列出项目"{0}"',objectKeyHeader:"项",objectKeyInputPlaceholder:"键",objectPairHintLabel:"属性“{0}”设置为“{1}”。",objectValueHeader:"值",objectValueInputPlaceholder:"值",okButton:"确定",removeExcludeItem:"删除排除项",removeIncludeItem:"删除包含项",removeItem:"删除项",resetItem:"重置项"},"vs/workbench/contrib/preferences/browser/tocTree":{groupRowAriaLabel:"{0}，组",settingsTOC:"设置目录"},"vs/workbench/contrib/preferences/common/preferencesContribution":{enableNaturalLanguageSettingsSearch:"控制是否在设置中启用自然语言搜索。自然语言搜索由 Microsoft 联机服务提供。",settingsSearchTocBehavior:"控制设置编辑器的目录在搜索时的行为。","settingsSearchTocBehavior.filter":"筛选目录为仅显示含有匹配设置的类别。单击一个类别将仅显示该类别的结果。","settingsSearchTocBehavior.hide":"在搜索时隐藏目录。",splitSettingsEditorLabel:"拆分设置编辑器"},"vs/workbench/contrib/preferences/common/settingsEditorColorRegistry":{focusedRowBackground:"聚焦时设置行的背景色。",headerForeground:"节标题或活动标题的前景颜色。",modifiedItemForeground:"修改后的设置指示器的颜色。",numberInputBoxBackground:"设置编辑器编号输入框背景。",numberInputBoxBorder:"设置编辑器编号输入框边框。",numberInputBoxForeground:"设置编辑器编号输入框前景。","settings.focusedRowBorder":"将焦点放在行上时行的上边框和下边框的颜色。","settings.rowHoverBackground":"悬停时设置行的背景色。",settingsCheckboxBackground:"设置编辑器复选框背景。",settingsCheckboxBorder:"设置编辑器复选框边框。",settingsCheckboxForeground:"设置编辑器复选框前景。",settingsDropdownBackground:"设置编辑器下拉列表背景色。",settingsDropdownBorder:"设置编辑器下拉列表边框。",settingsDropdownForeground:"设置编辑器下拉列表前景色。",settingsDropdownListBorder:"设置编辑器下拉列表边框。这会将选项包围起来，并将选项与描述分开。",settingsHeaderBorder:"标头容器边框的颜色。",settingsHeaderHoverForeground:"节标题或悬停标题的前景色。",settingsSashBorder:"设置编辑器分割檢視窗扇边框的颜色。",textInputBoxBackground:"设置编辑器文本输入框背景。",textInputBoxBorder:"设置编辑器文本输入框边框。",textInputBoxForeground:"设置编辑器文本输入框前景。"},"vs/workbench/contrib/quickaccess/browser/commandsQuickAccess":{askXInChat:"询问 {0}: {1}",clearButtonLabel:"清除(&&C)",clearCommandHistory:"清除命令历史记录",commandWithCategory:"{0}: {1}","configure keybinding":"配置键绑定",confirmClearDetail:"此操作不可逆!",confirmClearMessage:"是否要清除最近使用的命令的历史记录?",noCommandResults:"没有匹配的命令",semanticSimilarity:"类似命令",showTriggerActions:"显示所有命令"},"vs/workbench/contrib/quickaccess/browser/quickAccess.contribution":{commandPalette:"命令面板...",commandsQuickAccess:"显示并运行命令",commandsQuickAccessPlaceholder:"键入要运行的命令的名称。",helpQuickAccess:"显示所有快速访问提供程序",helpQuickAccessPlaceholder:'键入"{0}"以获取有关可在此处执行的操作的帮助。',miCommandPalette:"命令面板(&&C)…",miGotoLine:"转到行/列(&&L)…",miOpenView:"打开视图(&&O)…",miShowAllCommands:"显示所有命令",viewQuickAccess:"打开视图",viewQuickAccessPlaceholder:"键入要打开的视图、输出通道或终端的名称。"},"vs/workbench/contrib/quickaccess/browser/viewQuickAccess":{channels:"输出",debugConsoles:"调试控制台",noViewResults:"没有匹配的视图",openView:"打开视图",panels:"面板",quickOpenView:"Quick Open 视图","secondary side bar":"辅助侧边栏",terminalTitle:"{0}: {1}",terminals:"终端",views:"侧边栏"},"vs/workbench/contrib/relauncher/browser/relauncher.contribution":{relaunchSettingDetail:"按下“重启”按钮以重新启动 {0} 并启用该设置。",relaunchSettingDetailWeb:"按重新加载按钮重新加载{0}并启用该设置。",relaunchSettingMessage:"设置已更改，需要重启才能生效。",relaunchSettingMessageWeb:"设置已更改，需要重新加载才能生效。",restart:"重启(&&R)","restartExtensionHost.reason":"由于工作区文件夹更改，正在重启扩展主机。",restartWeb:"重载(&&R)"},"vs/workbench/contrib/remote/browser/explorerViewItems":{"remote.explorer.switch":"切换远程",remotes:"切换远程"},"vs/workbench/contrib/remote/browser/remote":{RemoteHelpInformationExtPoint:"为远程提供帮助信息","RemoteHelpInformationExtPoint.documentation":"项目文档页面的 URL 或返回此 URL 的命令","RemoteHelpInformationExtPoint.feedback":"项目反馈报告器的 URL 或返回 URL 的命令","RemoteHelpInformationExtPoint.feedback.deprecated":"请改用 {0}","RemoteHelpInformationExtPoint.getStarted":"项目入门页的 URL 或返回 URL 的命令，或项目扩展提供的演练 ID","RemoteHelpInformationExtPoint.issues":"项目问题列表的 URL 或返回 URL 的命令","RemoteHelpInformationExtPoint.reportIssue":"向项目的问题报告器返回 URL 的 URL 或命令",connectionLost:"连接中断","getStartedWalkthrough.id":"要打开的“入门”演练的 ID。",pickRemoteExtension:"选择要打开的 URL",reconnectNow:"立即重新连接",reconnectionPermanentFailure:"无法重新连接。请重新加载窗口。",reconnectionRunning:"已断开连接。正在尝试重新连接…",reconnectionWaitMany:"正在尝试在 {0} 秒内重新连接...",reconnectionWaitOne:"正在尝试在 {0} 秒内重新连接...",reloadWindow:"重新加载窗口","reloadWindow.dialog":"重新加载窗口(&&R)","remote.explorer":"远程资源管理器","remote.help":"帮助和反馈","remote.help.documentation":"阅读文档","remote.help.getStarted":"入门","remote.help.issues":"审查问题","remote.help.report":"报告问题",remotehelp:"远程帮助"},"vs/workbench/contrib/remote/browser/remoteExplorer":{"1forwardedPort":"1 个转发的端口",nForwardedPorts:"{0} 个转发的端口",ports:"端口","remote.forwardedPorts.statusbarTextNone":"未转发端口","remote.forwardedPorts.statusbarTooltip":"转发的端口: {0}","remote.tunnelsView.automaticForward":"在端口 {0} 上运行的应用程序可用。","remote.tunnelsView.elevationButton":"使用端口 {0} 作为 Sudo…","remote.tunnelsView.elevationMessage":"你需要以超级用户身份运行，才能在本地使用端口 {0}。","remote.tunnelsView.makePublic":"设为公开","remote.tunnelsView.notificationLink2":"[查看所有转发端口]({0})","status.forwardedPorts":"转发的端口"},"vs/workbench/contrib/remote/browser/remoteIcons":{copyAddressIcon:"“复制本地地址”操作的图标。",documentationIcon:"远程资源管理器视图中的文档图标。",feedbackIcon:"远程资源管理器视图中的反馈图标。",forwardPortIcon:"“前进”操作的图标。",forwardedPortWithProcessIcon:"具有正在运行的进程的转发端口图标。",forwardedPortWithoutProcessIcon:"没有正在运行的进程的转发端口图标。",getStartedIcon:"远程资源管理器视图中的入门图标。",labelPortIcon:"“标记端口”操作的图标。",openBrowserIcon:"“打开浏览器”操作的图标。",openPreviewIcon:"“打开预览”操作的图标。",portIcon:"表示一个远程端口的图标。",portsViewIcon:"查看远程端口视图的图标。",privatePortIcon:"表示一个私有远程端口的图标。",remoteExplorerViewIcon:"查看远程资源管理器视图的图标。",reportIssuesIcon:"远程资源管理器视图中的“报告问题”图标。",reviewIssuesIcon:"远程资源管理器视图中的“审阅问题”图标。",stopForwardIcon:"“停止转发”操作的图标。"},"vs/workbench/contrib/remote/browser/remoteIndicator":{"closeRemoteConnection.title":"关闭远程连接","closeVirtualWorkspace.title":"关闭远程工作区",disconnectedFrom:"已与 {0} 断开连接","host.open":"正在打开远程...","host.reconnecting":"正在重新连接到 {0}…","host.tooltip":"正在 {0} 上编辑",miCloseRemote:"关闭远程连接(&&M)",networkStatusHighLatencyTooltip:"网络似乎具有高延迟(上一次{0}毫秒，{1}毫秒平均值)，某些功能可能响应缓慢。",networkStatusOfflineTooltip:"网络似乎处于脱机状态，某些功能可能不可用。","noHost.tooltip":"打开远程窗口",reloadWindow:"重新加载窗口","remote.category":"远程","remote.close":"关闭远程连接","remote.install":"安装远程开发拓展","remote.showMenu":"显示远程菜单","remote.startActions.help":"了解详细信息","remote.startActions.install":"安装","remote.startActions.installingExtension":"正在安装扩展... ",remoteActions:"选择选项以打开远程窗口",remoteHost:"远程主机",statusBarOfflineBackground:"工作台脱机时的状态栏背景色。状态栏显示在窗口底部",statusBarOfflineForeground:"工作台脱机时的状态栏前景色。状态栏显示在窗口底部","workspace.tooltip":"正在 {0} 上编辑","workspace.tooltip2":"对于位于虚拟文件系统上的资源，某些[功能不可用] ({0})。"},"vs/workbench/contrib/remote/browser/remoteStartEntry":{"remote.category":"远程","remote.showWebStartEntryActions":"显示 Web 的远程启动条目"},"vs/workbench/contrib/remote/browser/tunnelFactory":{"tunnelPrivacy.private":"专用","tunnelPrivacy.public":"公用"},"vs/workbench/contrib/remote/browser/tunnelView":{"portWithRunningProcess.foreground":"具有关联的正在运行的进程的端口图标颜色。","portsLink.followLinkAlt":"Alt + 单击","portsLink.followLinkAlt.mac":"Option + 单击","portsLink.followLinkCmd":"Cmd + 单击","portsLink.followLinkCtrl":"Ctrl + 单击","remote.tunnel":"端口","remote.tunnel.changeLocalPort":"更改本地地址端口","remote.tunnel.changeLocalPortNumber":"本地端口 {0} 不可用。已改用端口号 {1}","remote.tunnel.close":"停止转发端口","remote.tunnel.closeNoPorts":"当前未转发端口。尝试运行{0}命令","remote.tunnel.closePlaceholder":"选择停止转发的端口","remote.tunnel.copyAddressCommandPalette":"复制转发的端口地址","remote.tunnel.copyAddressInline":"复制本地地址","remote.tunnel.copyAddressPlaceholdter":"选择转发的端口","remote.tunnel.forward":"转发端口","remote.tunnel.forwardError":"无法转发{0}: {1}。主机可能不可用，或者远程端口可能已被转发","remote.tunnel.forwardItem":"转发端口","remote.tunnel.forwardPrompt":"端口号或地址(例如 3000 或 10.10.10.10:2000)。","remote.tunnel.label":"设置端口标签","remote.tunnel.open":"在浏览器中打开","remote.tunnel.openCommandPalette":"在浏览器中打开端口","remote.tunnel.openCommandPaletteNone":"当前没有转发端口。若要开始，请打开端口视图。","remote.tunnel.openCommandPalettePick":"选择要打开的端口","remote.tunnel.openCommandPaletteView":"打开端口视图…","remote.tunnel.openPreview":"在编辑器中预览","remote.tunnel.protocolHttp":"HTTP","remote.tunnel.protocolHttps":"HTTPS","remote.tunnel.tooltipCandidate":"远程端口 {0}:{1} 未转发。","remote.tunnel.tooltipForwarded":"远程端口 {0}:{1} 已转发到本地地址 {2}。","remote.tunnel.tooltipName":"标记为 {0} 的端口。","remote.tunnelView.alreadyForwarded":"端口已被转发","remote.tunnelView.inlineElevationMessage":"可能需要 sudo","remote.tunnelsView.addPort":"添加端口","remote.tunnelsView.changePort":"新的本地端口","remote.tunnelsView.input":"按 Enter 键确认，或按 Esc 键取消。","remote.tunnelsView.labelPlaceholder":"端口标签","remote.tunnelsView.portNumberToHigh":"端口号必须大于等于 0 且小于 {0}。","remote.tunnelsView.portNumberValid":"转发的端口应为数字或主机:端口。","tunnel.addressColumn.label":"本地地址","tunnel.addressColumn.tooltip":"转发端口在本地可用的地址。","tunnel.focusContext":"“端口”视图是否具有焦点。","tunnel.forwardedPortsViewEnabled":"“端口”视图是否已启用。","tunnel.iconColumn.notRunning":"没有正在运行的进程。","tunnel.iconColumn.running":"端口有正在运行的进程。","tunnel.originColumn.label":"源","tunnel.originColumn.tooltip":"转发端口的来源。可以是扩展、用户转发、静态转发或自动转发。","tunnel.portColumn.label":"端口","tunnel.portColumn.tooltip":"转发端口的标签和远程端口号。","tunnel.privacyColumn.label":"可见性","tunnel.privacyColumn.tooltip":"转发端口的可用性。","tunnel.processColumn.label":"正在运行的进程","tunnel.processColumn.tooltip":"正在使用该端口的进程的命令行。","tunnelContext.privacyMenu":"端口可见性","tunnelContext.protocolMenu":"更改端口协议","tunnelPrivacy.private":"专用","tunnelPrivacy.unknown":"未知",tunnelView:"隧道视图","tunnelView.runningProcess.inacessable":"流程信息不可用"},"vs/workbench/contrib/remote/common/remote.contribution":{invalidWorkspaceDetail:"请选择另一个工作区以打开。",invalidWorkspaceMessage:"工作区不存在",invalidWorkspacePrimary:"打开工作区(&&O)...",pauseSocketWriting:"连接: 暂停套接字写入",remote:"远程","remote.autoForwardPorts":"启用后，将检测到新的正在运行的进程，并自动转发其侦听的端口。禁用此设置将不会阻止转发所有端口。即使禁用，扩展将仍然能够导致端口被转发，并且打开某些 URL 仍将导致端口被转发。","remote.autoForwardPortsSource":"设置当 {0} 为 true 时自动从其转发端口的源。在 Windows 和 Mac 远程设备上，`process` 和 `hybrid` 选项不起作用，系统将使用“output”。需要重新加载才能生效。","remote.autoForwardPortsSource.hybrid":"通过读取终端和调试输出发现端口时，端口将自动转发。并非所有使用端口的进程都将打印到集成终端或调试控制台，因此某些端口将丢失。通过监视侦听该端口的进程以终止，端口将为“未转发”。","remote.autoForwardPortsSource.output":"通过读取终端和调试输出发现端口时，将自动转发该端口。并非所有使用端口的进程都将打印到集成终端或调试控制台，因此某些端口将丢失。根据输出转发的端口将不会被“取消转发”，除非重载或用户在“端口”视图中关闭该端口。","remote.autoForwardPortsSource.process":"通过监视包含端口的已启动进程发现端口时，将自动转发该端口。","remote.extensionKind":'覆盖扩展的类型。"ui" 扩展在本地计算机上安装和运行，而 "workspace" 扩展则在远程计算机上运行。通过使用此设置重写扩展的默认类型，可指定是否应在本地或远程安装和启用该扩展。',"remote.forwardOnClick":"控制从终端和调试控制台打开具有端口的本地 URL 时是否转发它。","remote.localPortHost":"指定将用于端口转发的本地主机名。","remote.portsAttributes":`设置在转发特定端口号时应用的属性。例如:\r
\r
\`\`\`\r
"3000": {\r
  "label": "Application"\r
},\r
"40000-55000": {\r
  "onAutoForward": "ignore"\r
},\r
".+\\\\/server.js": {\r
 "onAutoForward": "openPreview"\r
}\r
\`\`\``,"remote.portsAttributes.defaults":'对于未从设置 {0} 中获得属性的所有端口，设置其上应用的默认属性。例如: \r\n\r\n```\r\n{\r\n  "onAutoForward": "ignore"\r\n}\r\n```',"remote.portsAttributes.elevateIfNeeded":"在转发此端口时，自动提示提升(如果需要)。如果本地端口是特权端口，则需要提升。","remote.portsAttributes.ignore":"此端口不会自动转发。","remote.portsAttributes.label":"将在此端口的 UI 中显示的标签。","remote.portsAttributes.labelDefault":"应用程序","remote.portsAttributes.notify":"在自动转发端口时显示通知。","remote.portsAttributes.onForward":"定义在为自动转发发现端口时发生的操作","remote.portsAttributes.openBrowser":"在自动转发端口时打开浏览器。根据你的设置，可能会打开嵌入式浏览器。","remote.portsAttributes.openBrowserOnce":"自动转发端口时打开浏览器，但仅在会话期间第一次转发端口时打开。这可能会打开嵌入式浏览器，具体取决于你的设置。","remote.portsAttributes.openPreview":"自动转发端口时，在同一窗口中打开预览。","remote.portsAttributes.patternError":"必须是一个端口号、端口号范围或正则表达式。","remote.portsAttributes.port":'端口、端口范围(例如 "40000-55000")、主机和端口(例如 "db:1234")或正则表达式(例如 ".+\\\\/server.js")。对于端口号或端口范围，属性将应用于该端口号或端口号范围。使用正则表达式的属性将应用于其关联流程命令行与表达式匹配的端口。',"remote.portsAttributes.protocol":"转发此端口时要使用的协议。","remote.portsAttributes.requireLocalPort":"如果为 true，则将显示一个模式对话框，指示所选的本地端口是否不用于转发。","remote.portsAttributes.silent":"在自动转发此端口时，不显示任何通知，也不执行任何操作。","remote.restoreForwardedPorts":"还原您在工作区中转发的端口。",triggerReconnect:"连接: 触发器重新连接",ui:"UI 扩展类型。在远程窗口中，只有在本地计算机上可用时，才会启用此类扩展。",workspace:"工作区扩展类型。在远程窗口中，仅在远程上可用时启用此类扩展。"},"vs/workbench/contrib/remote/electron-sandbox/remote.contribution":{remote:"远程","remote.downloadExtensionsLocally":"启用后，扩展将本地下载并安装在远程上。",wslFeatureInstalled:"平台是否安装了 WSL 功能"},"vs/workbench/contrib/remoteTunnel/electron-sandbox/remoteTunnel.contribution":{"accountPreference.placeholder":"登录帐户以启用远程访问","action.copyToClipboard":"将浏览器链接复制到剪贴板","action.doNotShowAgain":"不再显示","action.showExtension":"显示扩展",enable:"启用(&&E)","initialize.progress.title":"[正在查找远程隧道](command:{0})","manage.placeholder":"选择要调用的命令","manage.showLog":"显示日志","manage.title.attached":"已为 {0} 启用远程隧道访问(已在外部启动)","manage.title.off":"未启用远程隧道访问","manage.title.orunning":"已为 {0} 启用远程隧道访问","manage.tunnelName":"更改隧道名称",others:"其他","progress.turnOn.failed":"无法启用远程隧道访问。有关详细信息，请查看远程隧道服务日志。","progress.turnOn.final":"现在，可以通过安全隧道 [{0}](command:{4}) 随时随地访问此计算机。要通过其他计算机进行连接，请使用生成的 [{1}]({2})链接，或者在桌面或 Web 中使用 [{6}]({7})扩展。可以通过“VS Code 帐户”菜单 [配置](command:{3}) 或 [关闭](command:{5})此访问权限。","recommend.remoteExtension":'隧道 "{0}" 可用于远程访问。{1} 扩展可用于连接到该隧道。',"remoteTunnel.actions.configure":"配置隧道名称...","remoteTunnel.actions.copyToClipboard":"将浏览器 URI 复制到剪贴板","remoteTunnel.actions.learnMore":"Tunnel 入门","remoteTunnel.actions.manage.connecting":"远程隧道访问正在连接","remoteTunnel.actions.manage.on.v2":"远程隧道访问已启用","remoteTunnel.actions.showLog":"显示远程隧道服务日志","remoteTunnel.actions.turnOff":"关闭远程隧道访问...","remoteTunnel.actions.turnOn":"打开远程隧道访问...","remoteTunnel.category":"远程隧道","remoteTunnel.serviceInstallFailed":"作为服务安装失败，我们已回退到运行此会话的隧道。有关详细信息，请参阅 [error log](command:{0})。","remoteTunnel.turnOff.confirm":"是否要关闭远程隧道访问?","remoteTunnel.turnOffAttached.confirm":"是否要关闭远程隧道访问? 这也将停止在外部启动的服务。","remoteTunnelAccess.machineName":"远程隧道访问注册名。如果未设置，则使用主机名。","remoteTunnelAccess.machineNameRegex":"名称只能由字母、数字、下划线和短划线组成。不得以短划线开头。","remoteTunnelAccess.preventSleep":"启用远程隧道访问时，防止计算机睡眠。","sign in using account":"使用 {0} 登录","signed in":"已登录","startTunnel.progress.title":"[正在启动远程隧道](command:{0})","tunnel.enable.placeholder":"选择要如何启用访问权限","tunnel.enable.service":"作为服务安装","tunnel.enable.service.description":"每次登录时运行","tunnel.enable.session":"启用此会话","tunnel.enable.session.description":"每当打开时 {0} 运行","tunnel.preview":"远程隧道目前为预览版。请使用“帮助: 报告问题”命令报告任何问题。"},"vs/workbench/contrib/sash/browser/sash.contribution":{sashHoverDelay:"控制视图/编辑器之间拖动区域的悬停反馈延迟(以毫秒为单位)。",sashSize:"控制视图/编辑器之间拖动区域的反馈区域大小(以像素为单位)。如果你认为很难使用鼠标调整视图的大小，请将该值调大。"},"vs/workbench/contrib/scm/browser/activity":{scmPendingChangesBadge:"{0} 个挂起的更改","status.scm":"源代码管理"},"vs/workbench/contrib/scm/browser/dirtydiffDecorator":{change:"{0} - 第 {1} 个更改(共 {2} 个)",changes:"{0} - 第 {1} 个更改(共 {2} 个)",editorGutterAddedBackground:"编辑器导航线中已插入行的背景颜色。",editorGutterDeletedBackground:"编辑器导航线中被删除行的背景颜色。",editorGutterModifiedBackground:"编辑器导航线中被修改行的背景颜色。","label.close":"关闭",miGotoNextChange:"下一个更改(&&C)",miGotoPreviousChange:"上一个更改(&&C)",minimapGutterAddedBackground:"添加的线的迷你地图装订线背景颜色。",minimapGutterDeletedBackground:"删除的线的迷你地图装订线背景颜色。",minimapGutterModifiedBackground:"修改的线的迷你地图装订线背景颜色。","move to next change":"转到下一个更改","move to previous change":"转到上一个更改",multiChange:"第 {0} 个更改 (共 {1} 个)",multiChanges:"第 {0} 个更改 (共 {1} 个)",overviewRulerAddedForeground:"概览标尺中已增加内容的颜色。",overviewRulerDeletedForeground:"概览标尺中已删除内容的颜色。",overviewRulerModifiedForeground:"概览标尺中已修改内容的颜色。","show next change":"显示下一个更改","show previous change":"显示上一个更改"},"vs/workbench/contrib/scm/browser/dirtyDiffSwitcher":{"quickDiff.base.switch":"切换快速差异基",remotes:"切换快速差异基"},"vs/workbench/contrib/scm/browser/menus":{miShare:"共享"},"vs/workbench/contrib/scm/browser/scm.contribution":{alwaysShowActions:"控制是否在“源代码管理”视图中始终显示内联操作。",alwaysShowRepository:"控制存储库是否应在源代码管理视图中始终可见。",autoReveal:"控制源代码管理视图在打开文件时是否应自动显示和选择文件。",diffDecorations:"控制编辑器中差异的显示效果。",diffDecorationsIgnoreTrimWhitespace:"控制在源代码管理差异装订线修饰中是否忽略前导空格和尾随空格。",diffGutterPattern:"控制是否将模式用于装订线中的差异修饰。",diffGutterPatternAdded:"对添加的线条使用装订线中的差异装饰模式。",diffGutterPatternModifed:"对修改后的线条使用装订线中的差异修饰模式。",diffGutterWidth:"控制装订线中差异修饰的宽度(px)(已添加或已修改)。",inputFontFamily:"控制输入消息的字体。将 `default` 用于工作台用户界面字体系列，将 `editor` 用于 `#editor.fontFamily#` 的值，或者使用自定义字体系列。",inputFontSize:"控制输入消息的字号(以像素为单位)。",manageWorkspaceTrustAction:"管理工作区信任",miViewSCM:"源代码管理(&&C)","no open repo":"当前没有源代码管理提供程序进行注册。","no open repo in an untrusted workspace":"所有已注册的源代码管理提供程序都无法在“受限模式”下工作。","open in external terminal":"在外部终端中打开","open in integrated terminal":"在集成终端中打开",providersVisible:"控制在“源代码管理存储库”部分中显示的存储库数。设置为 0，以便能够手动调整视图大小。",repositoriesSortOrder:"控制源代码管理存储库视图中存储库的排序顺序。","scm accept":"源代码管理: 接受输入","scm view next commit":"源代码管理: 查看下一个提交","scm view previous commit":"源代码管理: 查看上一个提交","scm.countBadge":"控制活动栏上源代码管理图标上的计数锁屏提醒。","scm.countBadge.all":"显示所有源代码管理提供程序计数锁屏提醒的总和。","scm.countBadge.focused":"显示焦点源控制提供程序的计数标记。","scm.countBadge.off":"禁用源代码管理计数徽章。","scm.defaultViewMode":"控制默认的源代码管理仓库视图模式。","scm.defaultViewMode.list":"将仓库更改显示为列表。","scm.defaultViewMode.tree":"将仓库更改显示为树。","scm.defaultViewSortKey":"控制默认的源代码管理仓库在被视为列表时的更改排序顺序。","scm.defaultViewSortKey.name":"按文件名对仓库更改进行排序。","scm.defaultViewSortKey.path":"按路径对仓库更改进行排序。","scm.defaultViewSortKey.status":"按源代码管理状态对仓库更改进行排序。","scm.diffDecorations.all":"显示所有可用位置中的差异装饰。","scm.diffDecorations.gutter":"仅在编辑器行号槽中显示差异装饰。","scm.diffDecorations.minimap":"仅在缩略图中显示差异装饰。","scm.diffDecorations.none":"不要显示差异装饰。","scm.diffDecorations.overviewRuler":"仅在概览标尺中显示差异装饰。","scm.diffDecorationsGutterAction":"控制源代码管理差异装订线修饰的行为。","scm.diffDecorationsGutterAction.diff":"单击时显示内联差异速览视图。","scm.diffDecorationsGutterAction.none":"不执行任何操作。","scm.diffDecorationsGutterVisibility":"控制行号槽中源代码管理差异装饰器的可见性。","scm.diffDecorationsGutterVisibility.always":"始终显示行号槽中的差异装饰器。","scm.diffDecorationsGutterVisibility.hover":"仅在悬停时显示行号槽中的差异装饰器。","scm.diffDecorationsIgnoreTrimWhitespace.false":"不要忽略前导空格和尾随空格。","scm.diffDecorationsIgnoreTrimWhitespace.inherit":"继承自 `diffEditor.ignoreTrimWhitespace`。","scm.diffDecorationsIgnoreTrimWhitespace.true":"忽略前导空格和尾随空格。","scm.providerCountBadge":"控制源代码管理提供程序标头的计数锁屏提醒。仅在有多个提供程序时才显示这些标头。","scm.providerCountBadge.auto":"仅显示非零时源代码管理提供程序的计数锁屏提醒。","scm.providerCountBadge.hidden":"隐藏源代码管理提供程序计数锁屏提醒。","scm.providerCountBadge.visible":"显示源代码管理提供程序计数锁屏提醒。","scm.repositoriesSortOrder.discoveryTime":"按发现时间对源代码管理存储库视图中的存储库排序。按所选顺序对源代码管理视图中的存储库排序。","scm.repositoriesSortOrder.name":"按仓库名称对源代码管理仓库和源代码管理视图中的仓库排序。","scm.repositoriesSortOrder.path":"按仓库路径对源代码管理仓库和源代码管理视图中的仓库排序。",scmConfigurationTitle:"源代码管理",showActionButton:"控制是否可以在源代码管理视图中显示操作按钮。","source control":"源代码管理","source control repositories":"源代码管理存储库",sourceControlViewIcon:"查看“源代码管理”视图的图标。"},"vs/workbench/contrib/scm/browser/scmRepositoriesViewPane":{scm:"源代码管理存储库"},"vs/workbench/contrib/scm/browser/scmViewPane":{"collapse all":"折叠所有存储库","expand all":"展开所有存储库",input:"源代码管理输入","label.close":"关闭",repositories:"存储库",repositorySortByDiscoveryTime:"按发现时间排序",repositorySortByName:"按名称排序",repositorySortByPath:"按路径排序",scm:"源代码管理","scm.providerBorder":"SCM 提供程序分隔符边框。",setListViewMode:"以列表形式查看",setTreeViewMode:"以树形式查看",sortAction:"查看和排序",sortChangesByName:"按名称对更改进行排序",sortChangesByPath:"按路径对更改进行排序",sortChangesByStatus:"按状态对更改进行排序"},"vs/workbench/contrib/scm/browser/scmViewPaneContainer":{"source control":"源代码管理"},"vs/workbench/contrib/search/browser/anythingQuickAccess":{closeEditor:"从最近打开中删除",fileAndSymbolResultsSeparator:"文件和符号结果",filePickAriaLabelDirty:"{0} 个未保存的更改",fileResultsSeparator:"文件结果",more:"更多",noAnythingResults:"没有匹配的结果",openToBottom:"打开转到底部",openToSide:"打开转到侧边",recentlyOpenedSeparator:"最近打开"},"vs/workbench/contrib/search/browser/patternInputWidget":{defaultLabel:"输入",onlySearchInOpenEditors:"仅在打开的编辑器中搜索",useExcludesAndIgnoreFilesDescription:"使用“排除设置”与“忽略文件”"},"vs/workbench/contrib/search/browser/replaceService":{fileReplaceChanges:"{0} ↔ {1} (Replace Preview)","searchReplace.source":"搜索和替换"},"vs/workbench/contrib/search/browser/search.contribution":{anythingQuickAccess:"转到文件",anythingQuickAccessPlaceholder:"按名称搜索文件(追加 {0} 转到行，追加 {1} 转到符号)",exclude:'配置 [glob 模式](https://code.visualstudio.com/docs/editor/codebasics#_advanced-search-options)以在全文搜索和快速打开中排除文件和文件夹。从 "#files.exclude#" 设置继承所有 glob 模式。',"exclude.boolean":"匹配文件路径所依据的 glob 模式。设置为 true 或 false 可启用或禁用该模式。","exclude.when":"对匹配文件同辈进行额外检查。将 $(basename) 用作匹配文件名的变量。",filterSortOrder:"控制在快速打开中筛选时编辑器历史记录的排序顺序。","filterSortOrder.default":"历史记录条目按与筛选值的相关性排序。首先显示更相关的条目。","filterSortOrder.recency":"历史记录条目按最近时间排序。首先显示最近打开的条目。",maintainFileSearchCacheDeprecated:"搜索缓存保留在从不关闭的扩展主机中，因此不再需要此设置。",miViewSearch:"搜索(&&S)",name:"搜索","scm.defaultViewMode.list":"将搜索结果显示为列表。","scm.defaultViewMode.tree":"将搜索结果显示为树。",search:"搜索","search.actionsPosition":"在搜索视图中控制操作栏的位置。","search.actionsPositionAuto":"当搜索视图较窄时将操作栏置于右侧，当搜索视图较宽时，将它紧接在内容之后。","search.actionsPositionRight":"始终将操作栏放置在右侧。","search.collapseAllResults":"控制是折叠还是展开搜索结果。","search.collapseResults.auto":"结果少于10个的文件将被展开。其他的则被折叠。","search.decorations.badges":"控制搜索文件修饰是否应使用徽章。","search.decorations.colors":"控制搜索文件修饰是否应使用颜色。","search.defaultViewMode":"控制默认搜索结果视图模式。","search.experimental.closedNotebookResults":"显示已关闭笔记本的笔记本编辑器中丰富的内容结果。请在更改此设置后刷新搜索结果。","search.followSymlinks":"控制是否在搜索中跟踪符号链接。","search.globalFindClipboard":"控制“搜索”视图是否读取或修改 macOS 的共享查找剪贴板。","search.location":"控制搜索功能是显示在侧边栏，还是显示在水平空间更大的面板区域。","search.location.deprecationMessage":"此设置已弃用。可以改为将搜索图标拖到新位置。","search.maintainFileSearchCache":"启用后，搜索服务进程将保持活动状态，而不是在一个小时不活动后关闭。这将使文件搜索缓存保留在内存中。","search.maxResults":"控制搜索结果的最大数目，可将其设置为 “null”(空)，以返回无限结果。","search.mode":"控制新的 `搜索: 在文件中查找` 和 `在文件夹中查找` 操作发生的位置: 是在搜索视图中，还是在搜索编辑器中。","search.mode.newEditor":"在新的搜索编辑器中搜索。","search.mode.reuseEditor":"在现有搜索编辑器(若有)中搜索，否则在新的搜索编辑器中进行搜索。","search.mode.view":"在面板或边栏的搜索视图中进行搜索。","search.quickOpen.includeHistory":"是否在 Quick Open 的文件结果中包含最近打开的文件。","search.quickOpen.includeSymbols":"控制 Quick Open 文件结果中是否包括全局符号搜索的结果。","search.searchEditor.defaultNumberOfContextLines":'创建新的搜索编辑器时要使用的周围上下文行的默认数目。如果使用 "#search.searchEditor.reusePriorSearchConfiguration#"，则可将它设置为 "null" (空)，以使用搜索编辑器之前的配置。',"search.searchEditor.doubleClickBehaviour":"配置在搜索编辑器中双击结果的效果。","search.searchEditor.doubleClickBehaviour.goToLocation":"双击将在活动编辑器组中打开结果。","search.searchEditor.doubleClickBehaviour.openLocationToSide":"双击会将编辑器组中的结果打开到一侧，如果尚不存在，则创建一个结果。","search.searchEditor.doubleClickBehaviour.selectWord":"双击选择光标下的单词。","search.searchEditor.reusePriorSearchConfiguration":"启用后，新的搜索编辑器将重用之前打开的搜索编辑器的包含、排除和标志。","search.searchOnType":"在键入时搜索所有文件。","search.searchOnTypeDebouncePeriod":"启用 {0} 时，控制键入的字符与开始搜索之间的超时(以毫秒为单位)。禁用 {0} 时不起作用。","search.seedOnFocus":'聚焦搜索视图时，将搜索查询更新为编辑器的所选文本。单击时或触发 "workbench.views.search.focus" 命令时会发生此情况。',"search.seedWithNearestWord":"当活动编辑器没有选定内容时，从离光标最近的字词开始进行种子设定搜索。","search.showLineNumbers":"控制是否显示搜索结果所在的行号。","search.smartCase":"若搜索词全为小写，则不区分大小写进行搜索，否则区分大小写进行搜索。","search.sortOrder":"控制搜索结果的排序顺序。","search.usePCRE2":"是否在文本搜索中使用 pcre2 正则表达式引擎。这允许使用一些高级正则表达式功能, 如前瞻和反向引用。但是, 并非所有 pcre2 功能都受支持-仅支持 javascript 也支持的功能。","search.useReplacePreview":"控制在选择或替换匹配项时是否打开“替换预览”视图。",searchConfigurationTitle:"搜索","searchSortOrder.countAscending":"结果按每个文件的计数以升序排序。","searchSortOrder.countDescending":"结果按每个文件的计数降序排序。","searchSortOrder.default":"结果按文件夹和文件名按字母顺序排序。","searchSortOrder.filesOnly":"结果按文件名排序，忽略文件夹顺序，按字母顺序排列。","searchSortOrder.modified":"结果按文件的最后修改日期按降序排序。","searchSortOrder.type":"结果按文件扩展名的字母顺序排序。",symbolsQuickAccess:"转到工作区中的符号",symbolsQuickAccessPlaceholder:"键入要打开的符号的名称。",useGlobalIgnoreFiles:"控制在搜索文件时是否使用全局 gitignore 文件(例如，从 `$HOME/.config/git/ignore`)。需要启用 `#search.useIgnoreFiles#`。",useIgnoreFiles:"控制在搜索文件时是否使用 `.gitignore` 和 `.ignore` 文件。",usePCRE2Deprecated:"弃用。当使用仅 PCRE2 支持的正则表达式功能时，将自动使用 PCRE2。",useParentIgnoreFiles:'控制在搜索文件时是否在父目录中使用 ".gitignore" 和 ".ignore" 文件。需要启用 "#search.useIgnoreFiles#"。',useRipgrep:'此设置已被弃用，将回退到 "search.usePCRE2"。',useRipgrepDeprecated:'已弃用。请考虑使用 "search.usePCRE2" 获取对高级正则表达式功能的支持。'},"vs/workbench/contrib/search/browser/searchActionsBase":{search:"搜索"},"vs/workbench/contrib/search/browser/searchActionsCopy":{copyAllLabel:"全部复制",copyMatchLabel:"复制",copyPathLabel:"复制路径"},"vs/workbench/contrib/search/browser/searchActionsFind":{excludeFolderFromSearch:"从搜索中排除文件夹",findInFiles:"在文件中查找","findInFiles.args":"搜索的一组选项","findInFiles.description":"打开工作区搜索",findInFolder:"在文件夹中查找...",findInWorkspace:"在工作区中查找...",miFindInFiles:"在文件中查找(&&I)",restrictResultsToFolder:"将搜索限制为文件夹",revealInSideBar:"在资源管理器视图中显示"},"vs/workbench/contrib/search/browser/searchActionsNav":{"AddCursorsAtSearchResults.label":"在搜索结果中添加游标","CloseReplaceWidget.label":"关闭替换小组件","FocusNextInputAction.label":"聚焦下一个输入","FocusNextSearchResult.label":"聚焦下一搜索结果","FocusPreviousInputAction.label":"聚焦上一个输入","FocusPreviousSearchResult.label":"聚焦到上一搜索结果","FocusSearchFromResults.label":"聚焦搜索结果","OpenMatch.label":"打开匹配项","OpenMatchToSide.label":"打开“匹配到一侧”","ToggleCaseSensitiveCommandId.label":"切换区分大小写","TogglePreserveCaseId.label":"切换保留大小写","ToggleQueryDetailsAction.label":"切换查询详细信息","ToggleRegexCommandId.label":"切换正则表达式","ToggleWholeWordCommandId.label":"切换整个字词",focusSearchListCommandLabel:"聚焦到列表",replaceInFiles:"在文件中替换",toggleTabs:"切换类型搜索"},"vs/workbench/contrib/search/browser/searchActionsRemoveReplace":{"RemoveAction.label":"消除","file.replaceAll.label":"全部替换","match.replace.label":"替换"},"vs/workbench/contrib/search/browser/searchActionsSymbol":{miGotoSymbolInWorkspace:"转到工作区中的符号(&&W)…",showTriggerActions:"转到工作区中的符号..."},"vs/workbench/contrib/search/browser/searchActionsTopBar":{"CancelSearchAction.label":"取消搜索","ClearSearchResultsAction.label":"清除搜索结果","CollapseDeepestExpandedLevelAction.label":"全部折叠","ExpandAllAction.label":"全部展开","RefreshAction.label":"刷新","ViewAsListAction.label":"以列表形式查看","ViewAsTreeAction.label":"以树形式查看",clearSearchHistoryLabel:"清除搜索历史记录"},"vs/workbench/contrib/search/browser/searchFindInput":{"searchFindInputNotebookFilter.label":"笔记本查找筛选器"},"vs/workbench/contrib/search/browser/searchIcons":{searchClearIcon:"搜索视图中的“清除结果”图标。",searchCollapseAllIcon:"搜索视图中的“折叠结果”图标。",searchDetailsIcon:"用于使搜索详细信息可见的图标。",searchExpandAllIcon:"搜索视图中的“展开结果”图标。",searchHideReplaceIcon:"用于折叠搜索视图中的替换部分的图标。",searchNewEditorIcon:"用于打开新搜索编辑器的操作的图标。",searchRefreshIcon:"搜索视图中的“刷新”图标。",searchRemoveIcon:"用于删除搜索结果的图标。",searchReplaceAllIcon:"搜索视图中的“全部替换”图标。",searchReplaceIcon:"搜索视图中的“替换”图标。",searchShowAsList:"用于在搜索视图中将结果作为列表查看的图标。",searchShowAsTree:"用于在搜索视图中以树形式查看结果的图标。",searchShowContextIcon:"搜索编辑器中的“切换上下文”图标。",searchShowReplaceIcon:"用于在搜索视图中展开“替换”部分的图标。",searchStopIcon:"搜索视图中的“停止”图标。",searchViewIcon:"查看搜索视图的图标。"},"vs/workbench/contrib/search/browser/searchMessage":{"unable to open":"无法打开未知链接: {0}","unable to open trust":"无法从不受信任的源打开命令链接: {0}"},"vs/workbench/contrib/search/browser/searchResultsView":{fileMatchAriaLabel:"文件夹 {2} 的文件 {1} 中有 {0} 个匹配项，搜索结果",folderMatchAriaLabel:"根目录 {1} 中找到 {0} 个匹配，搜索结果",lineNumStr:"位于第 {0} 行",numLinesStr:"其他 {0} 行",otherFilesAriaLabel:"在工作区外存在 {0} 个匹配，搜索结果",replacePreviewResultAria:"将 {1} 列中的“{0}”由 {2} 替换为 {3}",search:"搜索",searchFileMatch:"已找到 {0} 个文件",searchFileMatches:"已找到 {0} 个文件","searchFolderMatch.other.label":"其他文件",searchMatch:"已找到 {0} 个匹配项",searchMatches:"已找到 {0} 个匹配项",searchResultAria:"{1} 列的 {0} 找到了 {2}"},"vs/workbench/contrib/search/browser/searchView":{ariaSearchResultsClearStatus:"搜索结果已清除",ariaSearchResultsStatus:"搜索 {1} 文件中返回的 {0} 个结果",disableOpenEditors:"在整个工作区中搜索",emptySearch:"空搜索","excludes.enable":"启用",forTerm:" - 搜索: {0}",moreSearch:"切换搜索详细信息",noOpenEditorResultsExcludes:"未在打开的编辑器中找到结果(“{0}”除外) - ",noOpenEditorResultsFound:"未在打开的编辑器中找到结果。请查看设置中已配置的例外, 并检查 gitignore 文件 - ",noOpenEditorResultsIncludes:"未在打开的编辑器中找到与“{0}”匹配的结果 - ",noOpenEditorResultsIncludesExcludes:"未在打开的编辑器中找到与“{0}”匹配的结果(“{1}”除外) - ",noResultsExcludes:"除“{0}”外，未找到任何结果 - ",noResultsFound:"未找到结果。查看您的设置配置排除, 并检查您的 gitignore 文件-",noResultsIncludes:"“{0}”中未找到任何结果 - ",noResultsIncludesExcludes:"在“{0}”中找不到结果(“{1}”除外) - ",onlyOpenEditors:"仅在打开的文件中搜索","openEditors.disable":"禁用",openFolder:"打开文件夹","openInEditor.message":"在编辑器中打开","openInEditor.tooltip":"将当前搜索结果复制到编辑器","openSettings.learnMore":"了解详细信息","openSettings.message":"打开设置","placeholder.excludes":"例如 *.ts, src/**/exclude","placeholder.includes":"例如 *.ts, src/**/include","removeAll.occurrence.file.confirmation.message":"是否将 {1} 文件中出现的 {0} 替换为“{2}”?","removeAll.occurrence.file.message":"已替换 {1} 文件中的 {0} 个匹配项。","removeAll.occurrence.files.confirmation.message":"是否将 {1} 文件中出现的 {0} 替换为“{2}”?","removeAll.occurrence.files.message":"已替换 {1} 文件中出现的 {0}。","removeAll.occurrences.file.confirmation.message":"是否将 {1} 文件中出现的 {0} 替换为“{2}”?","removeAll.occurrences.file.message":"已替换 {1} 文件中的 {0} 个匹配项。","removeAll.occurrences.files.confirmation.message":"是否将 {1} 个文件中的 {0} 次匹配替换为“{2}”?","removeAll.occurrences.files.message":"已替换 {1} 文件中出现的 {0}。","replaceAll.confirm.button":"替换(&&R)","replaceAll.confirmation.title":"全部替换","replaceAll.occurrence.file.confirmation.message":"是否替换 {1} 文件中的 {0} 个匹配项？","replaceAll.occurrence.file.message":"已将 {1} 文件中出现的 {0} 替换为“{2}”。","replaceAll.occurrence.files.confirmation.message":"是否替换 {1} 文件中出现的 {0}?","replaceAll.occurrence.files.message":"已将 {1} 文件中出现的 {0} 替换为“{2}”。","replaceAll.occurrences.file.confirmation.message":"是否替换 {1} 文件中的 {0} 个匹配项？","replaceAll.occurrences.file.message":"已将 {1} 文件中出现的 {0} 替换为“{2}”。","replaceAll.occurrences.files.confirmation.message":"是否替换 {1} 文件中出现的 {0}?","replaceAll.occurrences.files.message":"已将 {1} 个文件中出现的 {0} 处替换为“{2}”。 ","rerunSearch.message":"再次搜索","rerunSearchInAll.message":"在所有文件中再次搜索","search.file.result":"{0} 个结果，包含于 {1} 个文件中","search.file.results":"{1} 文件中有 {0} 个结果","search.files.result":"{1} 文件中有 {0} 个结果","search.files.results":"{1} 文件中有 {0} 个结果",searchCanceled:"在找到结果前取消了搜索 - ",searchMaxResultsWarning:"结果集仅包含所有匹配项的子集。请使你的搜索更加具体以减少结果。",searchPathNotFoundError:"找不到搜索路径: {0}","searchScope.excludes":"排除的文件","searchScope.includes":"包含的文件",searchWithoutFolder:"尚未打开或指定文件夹。当前仅搜索打开的文件 - ",useExcludesAndIgnoreFilesDescription:"使用“排除设置”与“忽略文件”",useIgnoresAndExcludesDisabled:"已禁止排除设置和忽略文件"},"vs/workbench/contrib/search/browser/searchWidget":{"label.Replace":"替换: 键入待替换词，然后按 Enter 进行预览","label.Search":"搜索: 键入搜索词，然后按 Enter 进行搜索","search.action.replaceAll.disabled.label":"全部替换(提交搜索以启用)","search.action.replaceAll.enabled.label":"全部替换","search.placeHolder":"搜索","search.replace.placeHolder":"替换","search.replace.toggle.button.title":"切换替换",showContext:"切换上下文行"},"vs/workbench/contrib/search/browser/symbolsQuickAccess":{noSymbolResults:"没有匹配的工作区符号",openToBottom:"打开转到底部",openToSide:"打开转到侧边"},"vs/workbench/contrib/searchEditor/browser/searchEditor":{"label.excludes":"搜索排除模式","label.includes":"搜索包含模式",moreSearch:"切换搜索详细信息",runSearch:"运行搜索",searchEditor:"搜索",searchResultItem:"在文件 {2} 的 {1} 中匹配到 {0}","searchScope.excludes":"排除的文件","searchScope.includes":"包含的文件",textInputBoxBorder:"搜索编辑器文本输入框的边框。"},"vs/workbench/contrib/searchEditor/browser/searchEditor.contribution":{"promptOpenWith.searchEditor.displayName":"搜索编辑器",search:"搜索编辑器","search.action.focusFilesToExclude":"要排除的焦点搜索编辑器文件","search.action.focusFilesToInclude":"要包括的焦点搜索编辑器文件","search.action.focusQueryEditorWidget":"聚焦搜索编辑器输入","search.openNewEditor":"打开新的搜索编辑器","search.openNewEditorToSide":"打开侧边的新搜索编辑器","search.openNewSearchEditor":"新的搜索编辑器","search.openResultsInEditor":"在编辑器中打开结果","search.openSearchEditor":"打开搜索编辑器","search.rerunSearchInEditor":"再次搜索",searchEditor:"搜索编辑器","searchEditor.action.decreaseSearchEditorContextLines":"减少上下文行","searchEditor.action.increaseSearchEditorContextLines":"增加上下文行","searchEditor.action.selectAllSearchEditorMatches":"选择所有匹配项","searchEditor.action.toggleSearchEditorCaseSensitive":"切换匹配大小写","searchEditor.action.toggleSearchEditorContextLines":"切换上下文行","searchEditor.action.toggleSearchEditorRegex":"切换使用正则表达式","searchEditor.action.toggleSearchEditorWholeWord":"切换全字匹配","searchEditor.deleteResultBlock":"删除文件结果"},"vs/workbench/contrib/searchEditor/browser/searchEditorInput":{searchTitle:"搜索","searchTitle.withQuery":"搜索: {0}"},"vs/workbench/contrib/searchEditor/browser/searchEditorSerialization":{invalidQueryStringError:"查询字符串中的所有反斜杠都必须转义(\\\\)",noResults:"无结果",numFiles:"{0} 文件",numResults:"{0} 个结果",oneFile:"1 个文件",oneResult:"1 个结果",searchMaxResultsWarning:"结果集仅包含所有匹配项的子集。请使你的搜索更加具体以减少结果。"},"vs/workbench/contrib/share/browser/share.contribution":{close:"关闭","experimental.share.enabled":"控制当 {0} 为 {1} 时，是否在命令中心旁呈现“共享”操作。","generating link":"正在生成链接...","open link":"打开链接",share:"共享...",shareSuccess:"已将链接复制到剪贴板!",shareTextSuccess:"已将文本复制到剪贴板"},"vs/workbench/contrib/share/browser/shareService":{shareProviderCount:"可用共享提供程序数","type to filter":"选择如何共享 {0}"},"vs/workbench/contrib/snippets/browser/commands/abstractSnippetsActions":{snippets:"代码片段"},"vs/workbench/contrib/snippets/browser/commands/configureSnippets":{bad_name1:"无效的文件名",bad_name2:"“{0}”不是有效的文件名",bad_name3:"“{0}”已存在","detail.label":"({0}) {1}","global.1":"({0})","global.scope":"(全局)","group.global":"现有代码片段",miOpenSnippets:"用户片段(&&S)",name:"键入代码段文件名","new.folder":"新建“{0}”文件夹的代码片段文件...","new.global":"新建全局代码片段文件...","new.global.sep":"新代码片段","new.global_scope":"全局","new.workspace_scope":"{0} 工作区","openSnippet.label":"配置用户代码片段","openSnippet.pickLanguage":"选择代码片段文件或创建代码片段",userSnippets:"用户代码片段"},"vs/workbench/contrib/snippets/browser/commands/fileTemplateSnippets":{label:"使用代码片段填充文件",placeholder:"选择代码片段"},"vs/workbench/contrib/snippets/browser/commands/insertSnippet":{"snippet.suggestions.label":"插入片段"},"vs/workbench/contrib/snippets/browser/commands/surroundWithSnippet":{label:"由代码片段包围..."},"vs/workbench/contrib/snippets/browser/snippetCodeActionProvider":{codeAction:"环绕方式: {0}","overflow.start.title":"从代码片段开始",title:"开头为: {0}"},"vs/workbench/contrib/snippets/browser/snippetCompletionProvider":{"detail.snippet":"{0} ({1})","snippetSuggest.longLabel":"{0}, {1}"},"vs/workbench/contrib/snippets/browser/snippetPicker":{disableSnippet:"从 IntelliSense 中隐藏","enable.snippet":"在 IntelliSense 中显示",isDisabled:"(从 IntelliSense 中隐藏)","pick.noSnippetAvailable":"没有可用的代码片段","pick.placeholder":"选择代码段","sep.userSnippet":"用户代码片段","sep.workspaceSnippet":"工作区代码片段"},"vs/workbench/contrib/snippets/browser/snippets.contribution":{"editor.snippets.codeActions.enabled":"控制外围代码段或文件模板片段是否显示为代码操作。","snippetSchema.json":"用户代码片段配置","snippetSchema.json.body":"片段内容。请使用 '$1', '${1:defaultText}' 来定义光标位置，使用“$0”表示最终光标位置。请插入带有“${varName}”和“${varName:defaultText}”的变量值，例如 \"这是文件: $TM_FILENAME\"。","snippetSchema.json.default":"空代码片段","snippetSchema.json.description":"代码片段描述。","snippetSchema.json.isFileTemplate":"代码片段用于填充或替换整个文件","snippetSchema.json.prefix":"在 Intellisense 中选择代码片段时要使用的前缀","snippetSchema.json.scope":'此代码段使用的语言名称列表，例如 "typescript,javascript"。'},"vs/workbench/contrib/snippets/browser/snippetsFile":{"source.userSnippet":"用户代码片段","source.userSnippetGlobal":"全局用户代码片段","source.workspaceSnippetGlobal":"工作区代码片段"},"vs/workbench/contrib/snippets/browser/snippetsService":{badFile:"无法读取代码片段文件“{0}”。",badVariableUse:"扩展“{0}”中的一个或多个代码片段很可能混淆了片段变量和片段占位符 (有关详细信息，请访问 https://code.visualstudio.com/docs/editor/userdefinedsnippets#_snippet-syntax )","invalid.language":'"contributes.{0}.language" 中包含未知语言。提供的值: {1}',"invalid.language.0":'省略语言时，"contributes.{0}.path" 的值必须为一个 ".code-snippets" 文件。提供的值: {1}',"invalid.path.0":"“contributes.{0}.path”中应为字符串。提供的值: {1}","invalid.path.1":"“contributes.{0}.path”({1})应包含在扩展的文件夹({2})内。这可能会使扩展不可移植。","vscode.extension.contributes.snippets":"贡献代码段。","vscode.extension.contributes.snippets-language":"此代码片段参与的语言标识符。","vscode.extension.contributes.snippets-path":'代码片段文件的路径。该路径相对于扩展文件夹，通常以 "./snippets/" 开头。'},"vs/workbench/contrib/surveys/browser/ces.contribution":{cesSurveyQuestion:"你有时间帮助 VS Code 团队吗? 请告诉我们你截至目前的 VS Code 体验情况。",giveFeedback:"提供反馈",remindLater:"稍后提醒我"},"vs/workbench/contrib/surveys/browser/languageSurveys.contribution":{helpUs:"帮助我们改善对 {0} 的支持",neverAgain:"不再显示",remindLater:"稍后提醒我",takeShortSurvey:"参与小调查"},"vs/workbench/contrib/surveys/browser/nps.contribution":{neverAgain:"不再显示",remindLater:"稍后提醒我",surveyQuestion:"是否介意参加快速反馈调查?",takeSurvey:"参加调查"},"vs/workbench/contrib/tasks/browser/abstractTaskService":{"ConfigureTaskRunnerAction.label":"配置任务","TaskServer.folderIgnored":"由于使用任务版本 0.1.0，文件夹 {0} 将被忽略","TaskServer.noTask":"未定义要执行的任务","TaskService.associate":"关联","TaskService.attachProblemMatcher.continueWithout":"继续而不扫描任务输出","TaskService.attachProblemMatcher.learnMoreAbout":"了解有关扫描任务输出的详细信息","TaskService.attachProblemMatcher.never":"从不扫描此任务的任务输出","TaskService.attachProblemMatcher.neverType":"从不扫描 {0} 个任务的任务输出","TaskService.createJsonFile":"使用模板创建 tasks.json 文件","TaskService.defaultBuildTaskExists":"{0} 已被标记为默认生成任务","TaskService.defaultTestTaskExists":"{0} 已被标记为默认测试任务。","TaskService.fetchingBuildTasks":"正在获取生成任务...","TaskService.fetchingTestTasks":"正在获取测试任务...","TaskService.ignoredFolder":"由于使用任务版本 0.1.0，以下工作区文件夹将被忽略: {0}","TaskService.noBuildTask":"没有找到要运行的生成任务。配置生成任务...","TaskService.noBuildTask1":'未定义任何生成任务。使用 "isBuildCommand" 在 tasks.json 文件中标记任务。',"TaskService.noBuildTask2":'未定义任何生成任务。在 tasks.json 文件中将任务标记为 "build" 组。',"TaskService.noConfiguration":`错误: {0} 任务检测未针对以下配置提供任务:\r
{1}\r
将忽略此任务。\r
`,"TaskService.noEntryToRun":"配置任务","TaskService.noTaskIsRunning":"没有运行中的任务","TaskService.noTaskRunning":"当前没有运行中的任务","TaskService.noTaskToRestart":"没有要重启的任务","TaskService.noTestTask1":'未定义任何测试任务。使用 "isTestCommand" 在 tasks.json 文件中标记任务。',"TaskService.noTestTask2":'未定义任何测试任务。在 tasks.json 文件中将任务标记为 "test" 组。',"TaskService.noTestTaskTerminal":"没有找到要运行的测试任务。配置任务...","TaskService.notAgain":"不再显示","TaskService.openJsonFile":"打开 tasks.json 文件","TaskService.pickBuildTask":"选择要运行的生成任务","TaskService.pickBuildTaskForLabel":"选择生成任务(未定义默认生成任务)","TaskService.pickDefaultBuildTask":"选择要用作默认生成任务的任务","TaskService.pickDefaultTestTask":"选择要用作默认测试任务的任务","TaskService.pickRunTask":"选择要运行的任务","TaskService.pickShowTask":"选择要显示输出的任务","TaskService.pickTask":"选择要配置的任务","TaskService.pickTestTask":"选择要运行的测试任务","TaskService.providerUnavailable":`警告: {0} 个任务在当前环境中不可用。\r
`,"TaskService.requestTrust":"列出和运行任务要求此工作区中的某些文件作为代码执行。","TaskService.taskToRestart":"选择要重启的任务","TaskService.taskToTerminate":"选择要终止的任务","TaskService.template":"选择任务模板","TaskService.terminateAllRunningTasks":"所有正在运行的任务","TaskSystem.active":"当前已有任务正在运行。请先终止它，然后再执行另一项任务。","TaskSystem.activeSame.noBackground":"任务“{0}”已处于活动状态。","TaskSystem.configurationErrors":"错误: 提供的任务配置具有验证错误，无法使用。请首先改正错误。","TaskSystem.invalidTaskJson":`错误: tasks.json 文件的内容存在语法错误。请先纠正它们，然后再执行任务。\r
`,"TaskSystem.invalidTaskJsonOther":`错误: {0} 中 tasks json 的内容存在语法错误。请先纠正它们，然后再执行任务。\r
`,"TaskSystem.restartFailed":"未能终止并重启任务 {0}","TaskSystem.saveBeforeRun.prompt.title":"是否保存所有编辑器?","TaskSystem.unknownError":"运行任务时发生了错误。请参见任务日志了解详细信息。","TaskSystem.versionSettings":"用户设置中只允许版本为 2.0.0 的任务。","TaskSystem.versionWorkspaceFile":"工作区配置文件中只允许 2.0.0 版本的任务。","TaskSystem.workspaceFolderError":"未定义工作区文件夹","TasksSystem.locationUserConfig":"用户设置","TasksSystem.locationWorkspaceConfig":"工作区文件","TerminateAction.failed":"未能终止运行中的任务","TerminateAction.label":"终止任务","TerminateAction.noProcess":"启动的进程不再存在。如果任务生成的后台任务退出 VS Code，则可能会导致出现孤立的进程。",configureTask:"配置任务",configured:"配置的任务",customizeParseErrors:"当前任务配置存在错误。请先更正错误，再自定义任务。",detail:"是否要在运行任务前保存所有编辑器?",detected:"检测到的任务",moreThanOneBuildTask:`tasks.json 中定义了很多生成任务。正在执行第一个任务。\r
`,recentlyUsed:"最近使用的任务",restartTask:"重启任务","runTask.arg":"筛选快速入门中显示的任务","runTask.label":"任务的标签或要作为筛选依据的术语","runTask.task":"任务的标签或要作为筛选依据的术语","runTask.type":"参与的任务类型","saveBeforeRun.dontSave":"不保存","saveBeforeRun.save":"保存(&&S)",selectProblemMatcher:"选择针对何种错误和警告扫描任务输出",showOutput:"显示输出","taskQuickPick.userSettings":"用户","taskService.ignoreingFolder":`忽略工作区文件夹 {0} 的任务配置。多文件夹工作区任务支持要求所有文件夹都使用任务版本 2.0.0\r
`,"taskService.openDiff":"打开差异","taskService.openDiffs":"打开差异","taskService.upgradeVersion":"已删除弃用的任务版本 0.1.0。你的任务已升级到 2.0.0 版本。打开差异以查看升级内容。","taskService.upgradeVersionPlural":"已删除弃用的任务版本 0.1.0。你的任务已升级到 2.0.0 版本。打开差异以查看升级内容。",taskServiceOutputPrompt:"任务出现错误。请查看输出结果，了解更多详细信息",tasks:"任务",tasksJsonComment:`	// 请参阅 https://go.microsoft.com/fwlink/?LinkId=733558 \r
	//查看有关 tasks.json 格式的文档`,terminateTask:"终止任务",unexpectedTaskType:`“{0}”任务的任务提供程序意外提供了“{1}”类型的任务。\r
`},"vs/workbench/contrib/tasks/browser/runAutomaticTasks":{"workbench.action.tasks.allowAutomaticTasks":"允许自动任务","workbench.action.tasks.disallowAutomaticTasks":"禁止自动任务","workbench.action.tasks.manageAutomaticRunning":"管理自动任务"},"vs/workbench/contrib/tasks/browser/task.contribution":{"BuildAction.label":"运行生成任务","ConfigureDefaultBuildTask.label":"配置默认生成任务","ConfigureDefaultTestTask.label":"配置默认测试任务","ReRunTaskAction.label":"重新运行上一个任务","RestartTaskAction.label":"重启正在运行的任务","RunTaskAction.label":"运行任务","ShowLogAction.label":"显示任务日志","ShowTasksAction.label":"显示运行中的任务","TerminateAction.label":"终止任务","TestAction.label":"运行测试任务",building:"正在生成...",miBuildTask:"运行生成任务(&&B)…",miConfigureBuildTask:"配置默认生成任务(&&F)…",miConfigureTask:"配置任务(&&C)…",miRestartTask:"重启正在运行的任务(&&E)…",miRunTask:"运行任务(&&R)…",miRunningTask:"显示正在运行的任务(&&G)…",miTerminateTask:"终止任务(&&T)…",numberOfRunningTasks:"{0} 个正在运行的任务",runningTasks:"显示运行中的任务","status.runningTasks":"运行任务","task.SaveBeforeRun.prompt":"提示在运行前是否保存编辑器。","task.allowAutomaticTasks":"启用自动任务 - 请注意，任务将不会在不受信任的工作区中运行。","task.allowAutomaticTasks.off":"从不","task.allowAutomaticTasks.on":"始终","task.autoDetect":'控制为所有任务提供程序扩展启用"提供任务"。如果"任务: 运行任务"命令速度较慢，则禁用任务提供程序的自动检测可能会提供帮助。单个扩展还可以提供禁用自动检测的设置。',"task.problemMatchers.neverPrompt":'配置在运行任务时是否显示问题匹配器提示。设置为"true"从不提示，或使用任务类型的字典仅关闭特定任务类型的提示。',"task.problemMatchers.neverPrompt.array":"包含任务类型布尔对的对象，从不提示有问题的匹配者。","task.problemMatchers.neverPrompt.boolean":"为所有任务设置问题匹配器提示行为。","task.quickOpen.detail":"控制是否显示在“运行任务”等任务快速选取中具有详细信息的任务的详细信息。","task.quickOpen.history":"控制任务快速打开对话框中跟踪的最近项目数。","task.quickOpen.showAll":"使 Tasks: Run Task 命令使用速度较慢的“全部显示”行为，而不是使用任务按提供程序进行分组的速度更快的双层选取器。","task.quickOpen.skip":"控制当只有一个任务要选取时是否跳过任务快速选取。","task.reconnection":"在窗口重新加载时，重新连接到具有问题匹配器的任务。","task.saveBeforeRun":"在运行任务前保存所有未保存的编辑器。","task.saveBeforeRun.always":"运行前始终保存所有编辑器。","task.saveBeforeRun.never":"运行前绝不保存编辑器。","task.slowProviderWarning":"配置当提供程序速度较慢时是否显示警告","task.slowProviderWarning.array":"从不显示慢速提供程序警告的任务类型的数组。","task.slowProviderWarning.boolean":"为所有任务设置慢速提供程序警告。",tasksConfigurationTitle:"任务",tasksQuickAccessHelp:"运行任务",tasksQuickAccessPlaceholder:"键入要运行的任务的名称。",userTasks:"用户任务","workbench.action.tasks.openUserTasks":"打开用户任务","workbench.action.tasks.openWorkspaceFileTasks":"打开工作区任务"},"vs/workbench/contrib/tasks/browser/taskQuickPick":{"TaskQuickPick.changeSettingDetails":`{0} 任务的任务检测会导致打开的任何工作区中的文件作为代码运行。启用 {0} 任务检测是用户设置，并将应用于打开的任何工作区。\r
\r
是否要为所有工作区启用 {0} 任务检测?`,"TaskQuickPick.changeSettingNo":"否","TaskQuickPick.changeSettingsOptions":"$(gear) {0} 任务检测处于关闭状态。启用 {1} 任务检测...","TaskQuickPick.goBack":"返回","TaskQuickPick.noTasksForType":"未找到任务 {0}。返回↩","TaskService.pickRunTask":"选择要运行的任务",configureTask:"配置任务",configureTaskIcon:"任务选择列表中的“配置”图标。",configured:"已配置",contributedTasks:"已提供",noProviderForTask:"没有为“{0}”类型的任务注册任务提供程序。",recentlyUsed:"最近使用过",removeRecent:"删除最近使用的任务",removeTaskIcon:"任务选择列表中的“删除”图标。","taskQuickPick.showAll":"显示所有任务...",taskType:"全部 {0} 个任务"},"vs/workbench/contrib/tasks/browser/taskService":{"taskService.processTaskSystem":"流程任务系统在 Web 中不受支持。"},"vs/workbench/contrib/tasks/browser/tasksQuickAccess":{"TaskService.pickRunTask":"选择要运行的任务",noTaskResults:"没有匹配的任务"},"vs/workbench/contrib/tasks/browser/taskTerminalStatus":{"task.watchFirstError":"此运行检测到错误的开始","taskTerminalStatus.active":"任务正在运行","taskTerminalStatus.errors":"页面中有错误","taskTerminalStatus.errorsInactive":"任务有错误，正在等待...","taskTerminalStatus.infos":"任务有信息","taskTerminalStatus.infosInactive":"任务有信息，正在等待...","taskTerminalStatus.succeeded":"成功的任务","taskTerminalStatus.succeededInactive":"已成功完成任务并在等待...","taskTerminalStatus.warnings":"任务有警告","taskTerminalStatus.warningsInactive":"任务有警告，正在等待..."},"vs/workbench/contrib/tasks/browser/terminalTaskSystem":{TerminalTaskSystem:"无法使用 cmd.exe 在 UNC 驱动器上执行 Shell 命令。","TerminalTaskSystem.nonWatchingMatcher":"任务 {0} 是后台任务，但使用的问题匹配器没有后台模式","TerminalTaskSystem.taskLoadReporting":"任务“{0}”存在问题。有关更多详细信息，请参见输出。","TerminalTaskSystem.unknownError":"在执行任务时发生未知错误。请参见任务输出日志了解详细信息。",closeTerminal:"按任意键关闭终端。",dependencyCycle:"存在依赖项循环。请参阅任务“{0}”。",dependencyFailed:"无法解析在工作区文件夹“{1}”中的依赖任务“{0}”",reuseTerminal:"终端将被任务重用，按任意键关闭。","task.executing":"正在执行任务: {0}","task.executing.shell-integration":"正在执行任务: {0}","task.executing.shellIntegration":"正在执行任务: {0}","task.executingInFolder":"正在文件夹 {0} 中执行任务: {1}",unknownProblemMatcher:"无法解析问题匹配器 {0}。将忽略此匹配程序"},"vs/workbench/contrib/tasks/common/jsonSchema_v1":{"JsonSchema._runner":"此 runner 已完成使命。请使用官方 runner 属性","JsonSchema.linux":"Linux 特定的命令配置","JsonSchema.mac":"Mac 特定的命令配置","JsonSchema.runner":"定义任务是否作为进程执行，输出显示在输出窗口还是在终端内。","JsonSchema.shell":"指定命令是 shell 命令还是外部程序。如果省略，则默认为 false。","JsonSchema.version":"配置的版本号","JsonSchema.version.deprecated":"任务版本 0.1.0 已被弃用。请使用 2.0.0","JsonSchema.windows":"Windows 特定的命令配置"},"vs/workbench/contrib/tasks/common/jsonSchema_v2":{"JsonSchema.args.quotedString.value":"实际参数值","JsonSchema.args.quotesString.quote":"参数值应该如何引用。","JsonSchema.command":"要执行的命令。可以是外部程序或 shell 命令。","JsonSchema.command.quotedString.value":"实际命令值","JsonSchema.command.quotesString.quote":"如何引用命令值。","JsonSchema.commandArray":"执行的 Shell 命令。数组项将使用空格连接","JsonSchema.customizations.customizes.type":"要自定义的任务类型","JsonSchema.hide":"从运行任务快速选择菜单中隐藏此任务","JsonSchema.linux":"Linux 特定的命令配置","JsonSchema.mac":"Mac 特定的命令配置","JsonSchema.shell":"指定命令是 shell 命令还是外部程序。如果省略，则默认为 false。","JsonSchema.tasks.args":"调用此任务时要传递给命令的参数。","JsonSchema.tasks.background":"执行的任务是否保持活动状态并在后台运行。","JsonSchema.tasks.customize.deprecated":"customize 属性已被弃用。请参阅 1.14 发行说明了解如何迁移到新的任务自定义方法","JsonSchema.tasks.dependsOn":"表示另一个任务的字符串或此任务所依赖的其他任务的数组。","JsonSchema.tasks.dependsOn.array":"此任务依赖的其他任务。","JsonSchema.tasks.dependsOn.identifier":"任务标识符。","JsonSchema.tasks.dependsOn.string":"此任务依赖的另一任务。","JsonSchema.tasks.dependsOrder":"确定此任务的依赖任务的顺序。请注意，此属性不是递归的。","JsonSchema.tasks.dependsOrder.parallel":"并行运行所有 dependsOn 任务。","JsonSchema.tasks.dependsOrder.sequence":"按顺序运行所有 dependsOn 任务。","JsonSchema.tasks.detail":"任务的可选说明，在“运行任务”快速选取中作为详细信息显示。","JsonSchema.tasks.echoCommand.deprecated":"isBuildCommand 属性已被弃用。请改为使用 presentation 属性内的 echo 属性。另请参阅 1.14 发行说明。","JsonSchema.tasks.group":'定义此任务属于的执行组。它支持 "build" 以将其添加到生成组，也支持 "test" 以将其添加到测试组。',"JsonSchema.tasks.group.build":'将任务标记为可通过 "运行生成任务" 命令访问的生成任务。',"JsonSchema.tasks.group.defaultBuild":"将此任务标记为默认生成任务。","JsonSchema.tasks.group.defaultTest":"将此任务标记为默认测试任务。","JsonSchema.tasks.group.isDefault":"定义此任务是组中的默认任务，还是与应触发此任务的文件匹配的 glob。","JsonSchema.tasks.group.kind":"任务的执行组。","JsonSchema.tasks.group.none":"将任务分配为没有组","JsonSchema.tasks.group.test":'将任务标记为可通过 "Run Test Task" 命令访问的测试任务。',"JsonSchema.tasks.icon":"任务的可选图标","JsonSchema.tasks.icon.color":"图标的可选颜色","JsonSchema.tasks.icon.id":"要使用的可选 codicon ID","JsonSchema.tasks.identifier":"用于在 launch.json 或 dependsOn 子句中引用任务的用户定义标识符。","JsonSchema.tasks.identifier.deprecated":"已弃用用户定义的标识符。对于自定义任务，请使用名称进行引用；对于由扩展提供的任务，请使用其中定义的任务标识符。","JsonSchema.tasks.instanceLimit":"允许同时运行的任务的实例数。","JsonSchema.tasks.isBuildCommand.deprecated":"isBuildCommand 属性已被弃用。请改为使用 group 属性。另请参阅 1.14 发行说明。","JsonSchema.tasks.isShellCommand.deprecated":"isShellCommand 属性已被弃用。请改为使用任务的 type 属性和选项中的 shell 属性。另请参阅 1.14 发行说明。","JsonSchema.tasks.isTestCommand.deprecated":"isTestCommand 属性已被弃用。请改为使用 group 属性。另请参阅 1.14 发行说明。","JsonSchema.tasks.label":"任务的用户界面标签","JsonSchema.tasks.matchers":"要使用的问题匹配程序。可以是一个字符串或一个问题匹配程序定义，也可以是一个字符串数组和多个问题匹配程序。","JsonSchema.tasks.presentation":"配置用于显示任务输出并读取其输入的面板。","JsonSchema.tasks.presentation.clear":"控制是否在执行任务之前清除终端。","JsonSchema.tasks.presentation.close":"控制任务退出时是否关闭运行任务的终端。","JsonSchema.tasks.presentation.echo":"控制是否将执行的命令显示到面板中。默认值为“true”。","JsonSchema.tasks.presentation.focus":"控制面板是否获取焦点。默认值为“false”。如果设置为“true”，面板也会显示。","JsonSchema.tasks.presentation.group":"控制是否使用拆分窗格在特定终端组中执行任务。","JsonSchema.tasks.presentation.instance":"控制是否在任务间共享面板。同一个任务使用相同面板还是每次运行时新创建一个面板。","JsonSchema.tasks.presentation.reveal":'控制运行任务的终端是否显示。可按选项 "revealProblems" 进行替代。默认设置为“始终”。',"JsonSchema.tasks.presentation.reveal.always":"总是在此任务执行时显示终端。","JsonSchema.tasks.presentation.reveal.never":"不要在此任务执行时显示终端。","JsonSchema.tasks.presentation.reveal.silent":"只有当任务因错误而退出或者问题匹配器发现错误时，才会显示终端。","JsonSchema.tasks.presentation.revealProblems":'控制在运行此任务时是否显示问题面板。优先于 "显示" 选项。默认值为 "从不"。',"JsonSchema.tasks.presentation.revealProblems.always":"执行此任务时, 始终显示问题面板。","JsonSchema.tasks.presentation.revealProblems.never":"执行此任务时, 永远不会显示问题面板。","JsonSchema.tasks.presentation.revealProblems.onProblem":"只有在发现问题时, 才会显示问题面板。","JsonSchema.tasks.presentation.showReuseMessage":"控制是否显示“终端将被任务重用，按任意键关闭”提示。","JsonSchema.tasks.promptOnClose":"若 VS Code 关闭时有一个任务正在运行，是否提示用户。","JsonSchema.tasks.quoting.escape":"使用 Shell 的转义字符来转义文本 (如，PowerShell 下的 ` 和 bash 下的 \\ )","JsonSchema.tasks.quoting.strong":"使用 Shell 的强引用字符来引用参数 (例如在 PowerShell 和 bash 下的 ')。","JsonSchema.tasks.quoting.weak":'使用 Shell 的弱引用字符来引用参数 (例如在 PowerShell 和 bash 下的 ")。',"JsonSchema.tasks.reevaluateOnRerun":"是否在重新运行时重新评估任务变量。","JsonSchema.tasks.runOn":"对该任务何时运行进行配置。如果设置为 folderOpen，那么该任务将在文件夹打开时自动运行。","JsonSchema.tasks.runOptions":"任务的运行相关选项","JsonSchema.tasks.showOutput.deprecated":"showOutput 属性已被弃用。请改为使用 presentation 属性内的 reveal 属性。另请参阅 1.14 发行说明。","JsonSchema.tasks.suppressTaskName.deprecated":"suppressTaskName 属性已被弃用。请改为在任务中内嵌命令及其参数。另请参阅 1.14 发行说明。","JsonSchema.tasks.taskLabel":"任务标签","JsonSchema.tasks.taskName":"任务名称","JsonSchema.tasks.taskName.deprecated":"任务的 name 属性已被弃用。请改为使用 label 属性。","JsonSchema.tasks.taskSelector.deprecated":"taskSelector 属性已被弃用。请改为在任务中内嵌命令及其参数。另请参阅 1.14 发行说明。","JsonSchema.tasks.terminal":"terminal 属性已被弃用。请改为使用 presentation","JsonSchema.tasks.type":"定义任务是被作为进程运行还是在 shell 中作为命令运行。","JsonSchema.version":"配置的版本号。","JsonSchema.windows":"Windows 特定的命令配置"},"vs/workbench/contrib/tasks/common/jsonSchemaCommon":{"JsonSchema.args":"传递到命令的其他参数。","JsonSchema.background":"已执行的任务是否保持活动状态并在后台运行。","JsonSchema.command":"要执行的命令。可以是外部程序或 shell 命令。","JsonSchema.echoCommand":"控制是否将已执行的命令回显到输出。默认值为 false。","JsonSchema.matchers":"要使用的问题匹配程序。可以是字符串或问题匹配程序定义，或字符串和问题匹配程序数组。","JsonSchema.options":"其他命令选项","JsonSchema.options.cwd":"已执行程序或脚本的当前工作目录。如果省略，则使用代码的当前工作区根。","JsonSchema.options.env":"已执行程序或 shell 的环境。如果省略，则使用父进程的环境。","JsonSchema.promptOnClose":"在具有正在运行的后台任务的情况下关闭 VS 代码时是否提示用户。","JsonSchema.shell.args":"shell 参数。","JsonSchema.shell.executable":"待使用的 shell。","JsonSchema.shellConfiguration":"配置使用的 shell。","JsonSchema.showOutput":"控制是否显示运行任务的输出。如果省略，则使用“始终”。","JsonSchema.suppressTaskName":"控制是否将任务名作为参数添加到命令。默认值是 false。","JsonSchema.taskSelector":"指示参数是任务的前缀。","JsonSchema.tasks":"任务配置。通常是外部任务运行程序中已定义任务的扩充。","JsonSchema.tasks.args":"调用此任务时要传递给命令的参数。","JsonSchema.tasks.background":"执行的任务是否保持活动状态并在后台运行。","JsonSchema.tasks.build":"将此任务映射到代码的默认生成命令。","JsonSchema.tasks.linux":"Linux 特定的命令配置","JsonSchema.tasks.mac":"Mac 特定的命令配置","JsonSchema.tasks.matcherError":"无法识别的问题匹配程序。是否已安装支持此问题匹配程序的扩展?","JsonSchema.tasks.matchers":"要使用的问题匹配程序。可以是一个字符串或一个问题匹配程序定义，也可以是一个字符串数组和多个问题匹配程序。","JsonSchema.tasks.promptOnClose":"若 VS Code 关闭时有一个任务正在运行，是否提示用户。","JsonSchema.tasks.showOutput":"控制是否显示正在运行的任务的输出。如果省略，则使用全局定义的值。","JsonSchema.tasks.suppressTaskName":"控制是否将任务名作为参数添加到命令。如果省略，则使用全局定义的值。","JsonSchema.tasks.taskName":"任务名称","JsonSchema.tasks.test":"将此任务映射到代码的默认测试命令。","JsonSchema.tasks.watching":"已执行的任务是否保持活动状态，并且是否在监视文件系统。","JsonSchema.tasks.watching.deprecation":"已弃用。改用 isBackground。","JsonSchema.tasks.windows":"Windows 特定的命令配置","JsonSchema.watching":"已执行的任务是否保持活动状态，并且是否在监视文件系统。","JsonSchema.watching.deprecation":"已弃用。改用 isBackground。"},"vs/workbench/contrib/tasks/common/problemMatcher":{"LegacyProblemMatcherSchema.watchedBegin":"一个正则表达式，发出受监视任务开始执行(通过文件监视触发)的信号。","LegacyProblemMatcherSchema.watchedBegin.deprecated":"此属性已弃用。请改用观看属性。","LegacyProblemMatcherSchema.watchedEnd":"一个正则表达式，发出受监视任务结束执行的信号。","LegacyProblemMatcherSchema.watchedEnd.deprecated":"此属性已弃用。请改用观看属性。","NamedMultiLineProblemPatternSchema.name":"问题多行问题模式的名称。","NamedMultiLineProblemPatternSchema.patterns":"实际模式。","NamedProblemMatcherSchema.label":"问题匹配程序的人类可读标签。","NamedProblemMatcherSchema.name":"要引用的问题匹配程序的名称。","NamedProblemPatternSchema.name":"问题模式的名称。","PatternTypeSchema.description":"问题模式或者所提供或预定义问题模式的名称。如果已指定基准，则可以省略。","PatternTypeSchema.name":"所提供或预定义模式的名称",ProblemMatcherExtPoint:"提供问题匹配程序","ProblemMatcherParser.invalidRegexp":`错误: 字符串 {0} 不是有效的正则表达式。\r
`,"ProblemMatcherParser.noDefinedPatter":"错误: 标识符为 {0} 的模式不存在。","ProblemMatcherParser.noFileLocation":`错误: 说明未定义文件位置:\r
{0}\r
`,"ProblemMatcherParser.noIdentifier":"错误: 模式属性引用空标识符。","ProblemMatcherParser.noOwner":`错误: 说明未定义所有者:\r
{0}\r
`,"ProblemMatcherParser.noProblemMatcher":`错误: 说明无法转换为问题匹配器:\r
{0}\r
`,"ProblemMatcherParser.noProblemPattern":`错误: 说明未定义有效的问题模式:\r
{0}\r
`,"ProblemMatcherParser.noValidIdentifier":"错误: 模式属性 {0} 是无效的模式变量名。","ProblemMatcherParser.problemPattern.watchingMatcher":"问题匹配程序必须定义监视的开始模式和结束模式。","ProblemMatcherParser.unknownSeverity":`信息: 未知的严重性 {0}。有效值为“错误”、“警告”和“信息”。\r
`,"ProblemMatcherSchema.applyTo":"控制文本文档上报告的问题是否仅应用于打开、关闭或所有文档。","ProblemMatcherSchema.background":"用于跟踪在后台任务上激活的匹配程序的开始和结束的模式。","ProblemMatcherSchema.background.activeOnStart":"如果设置为 true，则任务启动时后台监视器处于活动模式。这相当于发出与 beginsPattern 匹配的行","ProblemMatcherSchema.background.beginsPattern":"如果在输出内匹配，则会发出后台任务开始的信号。","ProblemMatcherSchema.background.endsPattern":"如果在输出内匹配，则会发出后台任务结束的信号。","ProblemMatcherSchema.base":"要使用的基问题匹配程序的名称。","ProblemMatcherSchema.fileLocation":"定义应如何解释问题模式中报告的文件名。相对 fileLocation 可以是数组，其中数组的第二个元素是相对文件位置的路径。搜索 fileLocation 模式会在由第二个元素的 include/exclude 属性指定的目录(如果未指定，则为当前工作区目录)中执行深层(而且可能是大量的)文件系统搜索。","ProblemMatcherSchema.owner":"代码内问题的所有者。如果指定了基准，则可省略。如果省略，并且未指定基准，则默认值为“外部”。","ProblemMatcherSchema.severity":"捕获问题的默认严重性。如果模式未定义严重性的匹配组，则使用。","ProblemMatcherSchema.source":'描述此诊断信息来源的人类可读字符串。如，"typescript" 或 "super lint"。',"ProblemMatcherSchema.watching":"用于跟踪监视匹配程序开始和结束的模式。","ProblemMatcherSchema.watching.activeOnStart":"如果设置为 true，则当任务开始时观察程序处于活动模式。这相当于发出与 beginPattern 匹配的行。","ProblemMatcherSchema.watching.beginsPattern":"如果在输出内匹配，则在监视任务开始时会发出信号。","ProblemMatcherSchema.watching.deprecated":'"watching" 属性已被弃用，请改用 "background"。',"ProblemMatcherSchema.watching.endsPattern":"如果在输出内匹配，则在监视任务结束时会发出信号。",ProblemPatternExtPoint:"提供问题模式","ProblemPatternParser.invalidRegexp":`错误: 字符串 {0} 不是有效的正则表达式。\r
`,"ProblemPatternParser.loopProperty.notLast":"循环属性仅在最一个行匹配程序上受支持。","ProblemPatternParser.problemPattern.kindProperty.notFirst":'问题模式无效。"kind" 属性必须提供，且仅能为第一个元素',"ProblemPatternParser.problemPattern.missingLocation":"问题模式无效。它必须为“file”，代码行或消息匹配组其中的一项。","ProblemPatternParser.problemPattern.missingProperty":"问题模式无效。必须至少包含一个文件和一条消息。","ProblemPatternParser.problemPattern.missingRegExp":"问题模式缺少正则表达式。","ProblemPatternRegistry.error":"无效问题模式。此模式将被忽略。","ProblemPatternSchema.code":"问题代码的匹配组索引。默认为 undefined","ProblemPatternSchema.column":"问题行字符的匹配组索引。默认值为 3","ProblemPatternSchema.endColumn":"问题结束行字符的匹配组索引。默认为 undefined","ProblemPatternSchema.endLine":"问题结束行的匹配组索引。默认为 undefined","ProblemPatternSchema.file":"文件名的匹配组索引。如果省略，则使用 1。","ProblemPatternSchema.kind":"模式匹配的是一个位置 (文件、一行) 还是仅为一个文件。","ProblemPatternSchema.line":"问题行的匹配组索引。默认值为 2","ProblemPatternSchema.location":"问题位置的匹配组索引。有效的位置模式为(line)、(line,column)和(startLine,startColumn,endLine,endColumn)。如果省略了，将假定(line,column)。","ProblemPatternSchema.loop":"在多行中，匹配程序循环指示是否只要匹配就在循环中执行此模式。只能在多行模式的最后一个模式上指定。","ProblemPatternSchema.message":"消息的匹配组索引。如果省略，则在指定了位置时默认值为 4，在其他情况下默认值为 5。","ProblemPatternSchema.regexp":"用于在输出中查找错误、警告或信息的正则表达式。","ProblemPatternSchema.severity":"问题严重性的匹配组索引。默认为 undefined","WatchingPatternSchema.file":"文件名的匹配组索引。可以省略。","WatchingPatternSchema.regexp":"用于检测后台任务开始或结束的正则表达式。","eslint-compact":"ESLint compact 问题","eslint-stylish":"ESLint stylish 问题",go:"Go 问题","gulp-tsc":"Gulp TSC 问题",jshint:"JSHint 问题","jshint-stylish":"JSHint stylish 问题",lessCompile:"Less 问题",msCompile:"微软编译器问题"},"vs/workbench/contrib/tasks/common/taskConfiguration":{"ConfigurationParser.inValidArg":`错误: 命令参数必须是字符串或带引号的字符串。提供的值为:\r
{0}`,"ConfigurationParser.incorrectType":"错误: 任务配置“{0}”使用了未知类型。将忽略该配置。","ConfigurationParser.invalidCWD":`警告: options.cwd 的类型必须是字符串。正在忽略值 {0}\r
`,"ConfigurationParser.invalidVariableReference":`错误: problemMatcher 引用无效: {0}\r
`,"ConfigurationParser.missingType":'错误: 任务配置“{0}”缺失必要属性 "type"。将忽略该配置。',"ConfigurationParser.noName":`错误: 声明范围中的问题匹配器必须具有名称:\r
{0}\r
`,"ConfigurationParser.noShell":"警告: 仅当在终端中执行任务时支持 shell 配置。","ConfigurationParser.noTaskName":`错误: 任务必须提供 label 属性。将忽略该任务。\r
{0}\r
`,"ConfigurationParser.noTaskType":`错误: 任务配置必须具有 type 属性。将忽略此配置。\r
{0}\r
`,"ConfigurationParser.noTypeDefinition":"错误: 不存在已注册的任务类型“{0}”。是否已错过安装提供相应任务提供程序的扩展?","ConfigurationParser.notCustom":`错误: 任务未声明为自定义任务。将忽略此配置。\r
{0}\r
`,"ConfigurationParser.unknownMatcherKind":`警告: 定义的问题匹配器未知。支持的类型为 string | ProblemMatcher | Array<string | ProblemMatcher>。\r
{0}\r
`,"TaskParse.noOsSpecificGlobalTasks":`任务版本 2.0.0 不支持全局操作系统专属任务。请将其转换为具有操作系统特定命令的任务。受影响的任务有:\r
{0}`,"taskConfiguration.noCommand":`错误: 任务“{0}”未定义命令。将忽略该任务。其定义是:\r
{1}`,"taskConfiguration.noCommandOrDependsOn":`错误: 任务“{0}”既不指定命令，也不指定 dependsOn 属性。将忽略该任务。其定义是:\r
{1}`,"taskConfiguration.providerUnavailable":`警告: {0} 个任务在当前环境中不可用。\r
`},"vs/workbench/contrib/tasks/common/taskDefinitionRegistry":{"TaskDefinition.description":'实际任务类型。请注意，以 "$" 开头的类型仅保留内部使用。',"TaskDefinition.properties":"任务类型的其他属性","TaskDefinition.when":"启用此类型任务是必需为 true 的条件。请考虑根据此任务定义使用 `shellExecutionSupported`、`processExecutionSupported` 和 `customExecutionSupported`。有关详细信息，请参阅 [API 文档](https://code.visualstudio.com/api/extension-guides/task-provider#when-clause)。",TaskDefinitionExtPoint:"配置任务种类","TaskTypeConfiguration.noType":'任务类型配置缺少必需的 "taskType" 属性'},"vs/workbench/contrib/tasks/common/tasks":{"TaskDefinition.missingRequiredProperty":"错误: 任务标识符“{0}”缺失必要属性“{1}”。将忽略该标识符。","tasks.taskRunningContext":"任务当前是否正在运行。",tasksCategory:"任务"},"vs/workbench/contrib/tasks/common/taskService":{"tasks.customExecutionSupported":'是否支持 CustomExecution 任务。请考虑在 "taskDefinition" 贡献的 when 子句中使用。',"tasks.processExecutionSupported":'是否支持 ProcessExecution 任务。请考虑在 "taskDefinition" 贡献的 when 子句中使用。',"tasks.serverlessWebContext":"在没有远程机构的 Web 中时为 True。","tasks.shellExecutionSupported":'是否支持 ShellExecution 任务。请考虑在 "taskDefinition" 贡献的 when 子句中使用。',"tasks.taskCommandsRegistered":"是否已注册任务命令"},"vs/workbench/contrib/tasks/common/taskTemplates":{Maven:"执行常见的 maven 命令",dotnetCore:"执行 .NET Core 生成命令",externalCommand:"运行任意外部命令的示例",msbuild:"执行生成目标"},"vs/workbench/contrib/tasks/electron-sandbox/taskService":{"TaskSystem.exitAnyways":"仍要退出(&&E)","TaskSystem.noProcess":"启动的任务不再存在。如果任务已生成出后台进程，则退出 VS Code 可能会导致出现孤立的进程。若要避免此情况，请使用等待标记启动最后一个后台进程。","TaskSystem.runningTask":"存在运行中的任务。要终止它吗?","TaskSystem.terminateTask":"终止任务(&&T)"},"vs/workbench/contrib/terminal/browser/baseTerminalBackend":{nonResponsivePtyHost:"与终端的 pty 主机进程的连接无响应，终端可能会停止工作。单击以手动重新启动 pty 主机。",ptyHostStatus:"Pty 主机状态","ptyHostStatus.ariaLabel":"Pty 主机无响应","ptyHostStatus.short":"Pty 主机"},"vs/workbench/contrib/terminal/browser/environmentVariableInfo":{ScopedEnvironmentContributionInfo:"工作区",extensionEnvironmentContributionInfoActive:"以下扩展为此终端的环境做出了贡献:",extensionEnvironmentContributionInfoStale:"以下扩展希望重启终端以为其环境做出贡献:",relaunchTerminalLabel:"重新启动终端",showEnvironmentContributions:"显示环境贡献"},"vs/workbench/contrib/terminal/browser/terminal.contribution":{miToggleIntegratedTerminal:"终端(&&T)",tasksQuickAccessHelp:"显示所有已打开的终端",tasksQuickAccessPlaceholder:"键入要打开的终端的名称。",terminal:"终端"},"vs/workbench/contrib/terminal/browser/terminalActions":{emptyTerminalNameInfo:"不提供名称会将其重置为默认值",noUnattachedTerminals:"没有未附加但要附加到的终端",quickAccessTerminal:"切换活动终端",sendSequence:"要发送到终端的文本序列",showTerminalTabs:"显示选项卡",terminalLaunchHelp:"打开帮助","workbench.action.terminal.acceptSelectedSuggestion":"接受所选建议","workbench.action.terminal.attachToSession":"附加到会话","workbench.action.terminal.clear":"清除","workbench.action.terminal.clearPreviousSessionHistory":"清除上一会话历史记录","workbench.action.terminal.clearSelection":"取消选择","workbench.action.terminal.copyAndClearSelection":"复制和清除选择","workbench.action.terminal.copyLastCommand":"复制最后一个命令输出","workbench.action.terminal.copySelection":"复制所选内容","workbench.action.terminal.copySelectionAsHtml":"将所选内容复制为 HTML","workbench.action.terminal.createTerminalEditor":"在编辑器区域内创建新终端","workbench.action.terminal.createTerminalEditorSide":"在一侧的编辑器区域内创建新终端","workbench.action.terminal.detachSession":"拆离会话","workbench.action.terminal.focus.tabsView":"焦点终端选项卡视图","workbench.action.terminal.focusNext":"聚焦下一终端组","workbench.action.terminal.focusNextPane":"在终端组中聚焦下一终端","workbench.action.terminal.focusPrevious":"聚焦上一终端组","workbench.action.terminal.focusPreviousPane":"在终端组中聚焦上一终端","workbench.action.terminal.goToRecentDirectory":"转到“最近使用的目录”...","workbench.action.terminal.hideSuggestWidget":"隐藏建议小组件","workbench.action.terminal.join":"联接终端","workbench.action.terminal.join.insufficientTerminals":"终端不足，无法执行联接操作","workbench.action.terminal.join.onlySplits":"所有终端已联接","workbench.action.terminal.joinInstance":"联接终端","workbench.action.terminal.kill":"终止活动终端实例","workbench.action.terminal.killAll":"终止所有终端","workbench.action.terminal.killEditor":"终止编辑器区域中的活动终端","workbench.action.terminal.new":"创建新的终端","workbench.action.terminal.newInActiveWorkspace":"创建新终端(在活动工作区中)","workbench.action.terminal.newWithCwd.cwd":"启动终端的目录","workbench.action.terminal.newWithProfile":"创建新终端(具有个人资料)","workbench.action.terminal.newWithProfile.profileName":"要创建的配置文件的名称","workbench.action.terminal.newWorkspacePlaceholder":"选择当前工作目录新建终端","workbench.action.terminal.openSettings":"配置终端设置","workbench.action.terminal.overriddenCwdDescription":"(已替代) {0}","workbench.action.terminal.paste":"粘贴到活动终端中","workbench.action.terminal.pasteSelection":"将所选内容粘贴到活动终端","workbench.action.terminal.relaunch":"重新启动活动终端","workbench.action.terminal.rename.prompt":"输入终端名称","workbench.action.terminal.renameWithArg.name":"终端的新名称","workbench.action.terminal.renameWithArg.noName":"未提供名称参数","workbench.action.terminal.resizePaneDown":"向下重设终端大小","workbench.action.terminal.resizePaneLeft":"向左重设终端大小","workbench.action.terminal.resizePaneRight":"向右重设终端大小","workbench.action.terminal.resizePaneUp":"向上重设终端大小","workbench.action.terminal.runActiveFile":"在活动终端中运行活动文件","workbench.action.terminal.runActiveFile.noFile":"只有磁盘上的文件可在终端上运行","workbench.action.terminal.runRecentCommand":"运行最近使用的命令...","workbench.action.terminal.runSelectedText":"在活动终端运行所选文本","workbench.action.terminal.scrollDown":"向下滚动(行)","workbench.action.terminal.scrollDownPage":"向下滚动(页)","workbench.action.terminal.scrollToBottom":"滚动到底部","workbench.action.terminal.scrollToNextCommand":"滚动到下一条命令","workbench.action.terminal.scrollToPreviousCommand":"滚动到上一条命令","workbench.action.terminal.scrollToTop":"滚动到顶部","workbench.action.terminal.scrollUp":"向上滚动(行)","workbench.action.terminal.scrollUpPage":"向上滚动(页)","workbench.action.terminal.selectAll":"选择全部","workbench.action.terminal.selectDefaultShell":"选择默认配置文件","workbench.action.terminal.selectNextPageSuggestion":"选择下一页建议","workbench.action.terminal.selectNextSuggestion":"选择下一条建议","workbench.action.terminal.selectPrevPageSuggestion":"选择上一页建议","workbench.action.terminal.selectPrevSuggestion":"选择上一条建议","workbench.action.terminal.selectToNextCommand":"选择下一条命令所有内容","workbench.action.terminal.selectToNextLine":"选择下一行的所有内容","workbench.action.terminal.selectToPreviousCommand":"选择上一条命令所有内容","workbench.action.terminal.selectToPreviousLine":"选择上一行的所有内容","workbench.action.terminal.setFixedDimensions":"设置固定维度","workbench.action.terminal.showTabs":"显示选项卡","workbench.action.terminal.sizeToContentWidth":"将大小切换为内容宽度","workbench.action.terminal.splitInActiveWorkspace":"拆分终端 (活动工作区)","workbench.action.terminal.switchTerminal":"切换终端"},"vs/workbench/contrib/terminal/browser/terminalConfigHelper":{install:"安装","useWslExtension.title":"建议使用“{0}”扩展在 WSL 中打开终端。"},"vs/workbench/contrib/terminal/browser/terminalEditorInput":{"confirmDirtyTerminal.button":"&&终止","confirmDirtyTerminal.detail":"关闭将终止此终端中正在运行的进程。","confirmDirtyTerminal.message":"是否要终止正在运行的进程?","confirmDirtyTerminals.detail":"关闭将终止此终端中正在运行的进程。"},"vs/workbench/contrib/terminal/browser/terminalIcons":{configureTerminalProfileIcon:"用于创建新的终端配置文件的图标。",killTerminalIcon:"用于终止终端实例的图标。",newTerminalIcon:"用于创建新的终端实例的图标。",renameTerminalIcon:"用于在终端快速菜单中进行重命名的图标。",terminalCommandHistoryFuzzySearch:"用于切换命令历史记录模糊搜索的图标。",terminalCommandHistoryOutput:"用于查看终端命令输出的图标。",terminalCommandHistoryRemove:"用于从命令历史记录中删除终端命令的图标。",terminalDecorationError:"错误命令的终端修饰图标。",terminalDecorationIncomplete:"命令未完成的终端修饰图标。",terminalDecorationMark:"终端装饰标记的图标。",terminalDecorationSuccess:"成功命令的终端修饰图标。",terminalViewIcon:"查看终端视图的图标。"},"vs/workbench/contrib/terminal/browser/terminalInstance":{bellStatus:"铃",configureTerminalSettings:"配置终端设置",confirmMoveTrashMessageFilesAndDirectories:"是否确实要将 {0} 行文本粘贴到终端?",disconnectStatus:"与进程的连接中断",doNotAskAgain:"不再询问",keybindingHandling:"某些键绑定在默认情况下不会转到终端，而是由 {0} 进行处理。","launchFailed.errorMessage":"终端进程启动失败: {0}。","launchFailed.exitCodeAndCommandLine":"终端进程“{0}”启动失败(退出代码: {1})。","launchFailed.exitCodeOnly":"终端进程启动失败(退出代码: {0})。","launchFailed.exitCodeOnlyShellIntegration":"在用户设置中禁用 shell 集成可能会有所帮助。",multiLinePasteButton:"粘贴(&&P)",preview:"预览:",setTerminalDimensionsColumn:"设置固定维度: 列",setTerminalDimensionsRow:"设置固定维度: 行","shellIntegration.learnMore":"了解有关 shell 集成的详细信息","shellIntegration.openSettings":"打开用户设置","terminal.integrated.a11yPromptLabel":"终端输入","terminal.integrated.useAccessibleBuffer":"使用可访问缓冲区 {0} 手动查看输出","terminal.integrated.useAccessibleBufferNoKb":"使用终端: 聚焦可访问缓冲区命令以手动查看输出","terminal.requestTrust":"创建终端流程需要执行代码",terminalHelpAriaLabel:"使用 {0} 获取终端辅助功能帮助",terminalScreenReaderMode:"运行命令: 切换屏幕阅读器辅助功能模式以获得优化的屏幕阅读器体验",terminalStaleTextBoxAriaLabel:"终端 {0} 环境已过时，请运行“显示环境信息”命令以获取详细信息",terminalTextBoxAriaLabel:"终端 {0}",terminalTextBoxAriaLabelNumberAndTitle:"终端 {0}，{1}",terminalTypeLocal:"本地",terminalTypeTask:"任务","terminated.exitCodeAndCommandLine":"终端进程“{0}”已终止，退出代码: {1}。","terminated.exitCodeOnly":"终端进程已终止，退出代码: {0}。",workspaceNotTrustedCreateTerminal:"无法在不受信任的工作区中启动终端流程",workspaceNotTrustedCreateTerminalCwd:"无法使用 cwd {0} 和 userHome {1} 在不受信任的工作区中启动终端进程"},"vs/workbench/contrib/terminal/browser/terminalMenus":{defaultTerminalProfile:"{0} (默认)",miNewTerminal:"新建终端(&&N)",miRunActiveFile:"运行活动文件(&&A)",miRunSelectedText:"运行所选文本(&&S)",miSplitTerminal:"拆分终端(&&S)",splitTerminal:"拆分终端","workbench.action.tasks.configureTaskRunner":"配置任务","workbench.action.tasks.runTask":"运行任务...","workbench.action.terminal.changeColor":"更改颜色...","workbench.action.terminal.changeIcon":"更改图标...","workbench.action.terminal.clear":"清除","workbench.action.terminal.clearLong":"清除终端","workbench.action.terminal.copySelection.short":"复制","workbench.action.terminal.copySelectionAsHtml":"以 HTML 格式复制","workbench.action.terminal.joinInstance":"联接终端","workbench.action.terminal.newWithProfile.short":"具有配置文件的新终端","workbench.action.terminal.openSettings":"配置终端设置","workbench.action.terminal.paste.short":"粘贴","workbench.action.terminal.renameInstance":"重命名...","workbench.action.terminal.runActiveFile":"运行活动文件","workbench.action.terminal.runSelectedText":"运行所选文本","workbench.action.terminal.selectAll":"选择全部","workbench.action.terminal.selectDefaultProfile":"选择默认配置文件","workbench.action.terminal.showsTabs":"显示选项卡","workbench.action.terminal.sizeToContentWidthInstance":"将大小切换为内容宽度","workbench.action.terminal.switchTerminal":"切换终端"},"vs/workbench/contrib/terminal/browser/terminalProcessManager":{killportfailure:"无法终止侦听端口 {0} 的进程，命令退出时出现错误 {1}",ptyHostRelaunch:"到 shell 进程的连接丢失，正在重启终端…"},"vs/workbench/contrib/terminal/browser/terminalProfileQuickpick":{ICreateContributedTerminalProfileOptions:"已贡献",cancel:"取消",createQuickLaunchProfile:"配置终端配置文件",enterTerminalProfileName:"输入终端配置文件名称","terminal.integrated.chooseDefaultProfile":"选择默认的终端配置文件","terminal.integrated.selectProfileToCreate":"选择要创建的终端配置文件",terminalProfileAlreadyExists:"有终端配置文件已具有此名称",terminalProfiles:"配置文件","terminalProfiles.detected":"已检测",unsafePathWarning:"此终端配置使用了可由其他用户({0})修改的潜在不安全路径。是否确定要使用它?",yes:"是"},"vs/workbench/contrib/terminal/browser/terminalQuickAccess":{renameTerminal:"重命名终端","workbench.action.terminal.newWithProfilePlus":"新建具有配置文件的终端","workbench.action.terminal.newplus":"创建新的终端"},"vs/workbench/contrib/terminal/browser/terminalRunRecentQuickPick":{removeCommand:"从命令历史记录中删除",selectRecentCommand:"选择要运行的命令(按 Alt-key 编辑命令)",selectRecentCommandMac:"选择要运行的命令(按 Option-key 编辑命令)",selectRecentDirectory:"选择要转到的目录(按 Alt-key 编辑命令)",selectRecentDirectoryMac:"选择要转到的目录(按 Option-key 编辑命令)",shellFileHistoryCategory:"{0} 历史记录",viewCommandOutput:"查看命令输出"},"vs/workbench/contrib/terminal/browser/terminalService":{localTerminalRemote:"此 shell 正在{0}本地{1}计算机上运行，而不是在连接的远程计算机上运行",localTerminalVirtualWorkspace:"此 shell 对{0}本地{1}文件夹开放，而不是虚拟文件夹","terminalService.terminalCloseConfirmationPlural":"是否要终止{0}活动终端会话?","terminalService.terminalCloseConfirmationSingular":"是否要终止活动终端会话?",terminate:"终止(&&T)"},"vs/workbench/contrib/terminal/browser/terminalTabbedView":{hideTabs:"隐藏选项卡",moveTabsLeft:"向左移动选项卡",moveTabsRight:"向右移动选项卡"},"vs/workbench/contrib/terminal/browser/terminalTabsList":{label:"终端",splitTerminalAriaLabel:"终端 {0} {1}，拆分 {2}/{3}","terminal.tabs":"终端选项卡",terminalAriaLabel:"终端{0} {1}",terminalInputAriaLabel:'输入终端名。按 "Enter" 键确认或按 "Esc" 键取消。'},"vs/workbench/contrib/terminal/browser/terminalTooltip":{"launchFailed.exitCodeOnlyShellIntegration":"终端进程无法启动。禁用与 “terminal.integrated.shellIntegration.enabled” 的 shell 集成可能会有所帮助。","shellIntegration.activationFailed":"Shell 集成无法激活","shellIntegration.enabled":"已激活 Shell 集成","shellProcessTooltip.commandLine":"命令行: {0}","shellProcessTooltip.processId":"进程 ID ({0}): {1}"},"vs/workbench/contrib/terminal/browser/terminalView":{"terminal.monospaceOnly":"终端仅支持等宽字体。如果这是新安装的字体，请确保重新启动 VS Code。","terminal.useMonospace":'使用 "monospace"',terminalConnectingLabel:"正在启动...",terminals:"打开终端。"},"vs/workbench/contrib/terminal/browser/xterm/decorationAddon":{gutter:"装订线命令修饰",no:"否",overviewRuler:"概述标尺命令修饰",rerun:"是否要运行命令: {0}","terminal.configureCommandDecorations":"配置命令修饰","terminal.copyCommand":"复制命令","terminal.copyOutput":"复制输出","terminal.copyOutputAsHtml":"将输出复制为 HTML","terminal.learnShellIntegration":"了解 Shell 集成","terminal.rerunCommand":"重新运行命令",toggleVisibility:"切换可见性","workbench.action.terminal.goToRecentDirectory":"转到“最近使用的目录”","workbench.action.terminal.runRecentCommand":"运行最近使用的命令",yes:"是"},"vs/workbench/contrib/terminal/browser/xterm/decorationStyles":{terminalPromptCommandFailed:"命令已执行 {0} 并失败",terminalPromptCommandFailedWithExitCode:"命令已执行 {0} 并失败(退出代码 {1})",terminalPromptCommandSuccess:"命令已执行 {0}",terminalPromptContextMenu:"显示命令操作"},"vs/workbench/contrib/terminal/browser/xterm/xtermTerminal":{dontShowAgain:"不再显示",no:"否","terminal.integrated.copySelection.noSelection":"没有在终端中选择要复制的内容","terminal.slowRendering":"终端 GPU 加速在你的计算机上似乎速度很慢。禁用它可提高性能，是否要切换到禁用? [阅读有关终端设置的更多信息](https://code.visualstudio.com/docs/editor/integrated-terminal#_changing-how-the-terminal-is-rendered)。",yes:"是"},"vs/workbench/contrib/terminal/common/terminal":{"vscode.extension.contributes.terminal":"参与终端功能。","vscode.extension.contributes.terminal.profiles":"定义用户可创建的其他终端配置文件。","vscode.extension.contributes.terminal.profiles.id":"终端配置文件提供程序的 ID。","vscode.extension.contributes.terminal.profiles.title":"此终端配置文件的标题。","vscode.extension.contributes.terminal.types.icon":"要与此终端类型关联的 codicon、URI 或浅色和深色 URI。","vscode.extension.contributes.terminal.types.icon.dark":"使用深色主题时的图标路径","vscode.extension.contributes.terminal.types.icon.light":"使用浅色主题时的图标路径"},"vs/workbench/contrib/terminal/common/terminalColorRegistry":{"terminal.ansiColor":"终端中的 ANSI 颜色“{0}”。","terminal.background":"终端的背景颜色，允许终端的颜色与面板不同。","terminal.border":"分隔终端中拆分窗格的边框的颜色。默认值为 panel.border 的颜色","terminal.dragAndDropBackground":"在终端上拖动时的背景颜色。此颜色应有透明度，以便让终端内容透过背景。","terminal.findMatchBackground":"终端中当前搜索匹配项的颜色。颜色必须透明，以免隐藏基础终端内容。","terminal.findMatchBorder":"终端中当前搜索匹配项的边框颜色。","terminal.findMatchHighlightBackground":"终端中其他搜索匹配项的颜色。颜色必须透明，以免隐藏基础终端内容。","terminal.findMatchHighlightBorder":"终端中其他搜索匹配项的边框颜色。","terminal.foreground":"终端的前景颜色。","terminal.inactiveSelectionBackground":"终端没有焦点时的选择背景色。","terminal.selectionBackground":"终端选中内容的背景颜色。","terminal.selectionForeground":"终端的选择前景色。如果此值为 null，则将保留所选前景并应用最小对比度功能。","terminal.tab.activeBorder":"面板中终端选项卡侧边的边框。此默认为 tab.activeBorder。","terminalCommandDecoration.defaultBackground":"默认终端命令修饰背景色。","terminalCommandDecoration.errorBackground":"错误命令的终端命令修饰背景色。","terminalCommandDecoration.successBackground":"成功命令的终端命令修饰背景色。","terminalCursor.background":"终端光标的背景色。允许自定义被 block 光标遮住的字符的颜色。","terminalCursor.foreground":"终端光标的前景色。","terminalOverviewRuler.cursorForeground":"概述标尺光标颜色。","terminalOverviewRuler.findMatchHighlightForeground":"用于在终端中查找匹配项的概述标尺标记颜色。"},"vs/workbench/contrib/terminal/common/terminalConfiguration":{cwd:"终端的当前工作目录",cwdFolder:"终端的当前工作目录，当值与初始工作目录不同时，显示在多根工作区或单个根工作区中。在 Windows 上，仅当启用 shell 集成时才会显示此内容。","enableFileLinks.notRemote":"仅当不在远程工作区中时启用。","enableFileLinks.off":"始终关闭。","enableFileLinks.on":"始终可用。",local:"指示远程工作区中的本地终端",openDefaultSettingsJson:"打开默认设置 JSON","openDefaultSettingsJson.capitalized":"打开默认设置(JSON)",process:"终端流程的名称",separator:"仅在由带有值或静态文本的变量括住时才显示的一个条件分隔符 {0}。",sequence:"进程提供给终端的名称",tabFocusMode:"控制终端是接收选项卡还是将其延迟到工作台进行导航。设置后，聚焦终端时，这会替代 {0}。",task:"指示此终端与任务关联","terminal.integrated.allowChords":"是否允许终端中的组合键绑定。请注意，如果此值为 true，并且击键导致一个组合，则它将绕过 {0}，当你希望 ctrl+k 转到 shell (而不是 VS Code)时，将此设置为 false 特别有用。","terminal.integrated.allowMnemonics":"是否允许使用菜单栏助记键(如 Alt+F)来触发打开菜单栏。请注意，这将导致在设为 true 时，所有 Alt 击键跳过 shell。此设置在 macOS 不起作用。","terminal.integrated.altClickMovesCursor":"如果启用，则当 {0} 设置为 {1} (默认值)时，alt/option+单击会将提示光标重置于鼠标下方。此功能的有效性取决于 shell。","terminal.integrated.autoReplies":`在终端中遇到一组消息时，将自动响应这组消息。如果消息足够具体，这可能有助于自动执行常见响应。\r
\r
备注:\r
\r
- 使用 {0} 自动响应 Windows 上的终止批处理作业提示。\r
- 消息包括转义序列，因此可能无法使用带样式的文本进行回复。\r
- 每秒只能进行一次回复。\r
- 在回复中使用 {1} 来表示 Enter 键。\r
- 要取消设置默认键，请将该值设置为 null。\r
- 如果新的不适用，请重启 VS Code。`,"terminal.integrated.autoReplies.reply":"要发送到流程的回复。","terminal.integrated.bellDuration":"触发时在终端选项卡中显示响铃的毫秒数。","terminal.integrated.commandsToSkipShell":`一组命令 ID，其键绑定将不发送至 shell，而是始终由 VS Code 进行处理。这样的话，通常由 shell 使用的键绑定的行为可如同焦点未在终端上时的行为一样，例如按 “Ctrl+P” 来启动“快速打开”。\r
\r
&nbsp;\r
\r
默认跳过多项命令。要替代默认值并转而将相关命令的键绑定传递给 shell，请添加以 “-” 字符为前缀的命令。例如，添加“-workbench.action.quickOpen” 可使 “Ctrl+P”到达 shell。\r
\r
&nbsp;\r
\r
在设置编辑器中查看时，下面的默认跳过命令列表会被截断。要查看完整列表，请执行 {1}，然后从下面的列表中搜索第一个命令。\r
\r
&nbsp;\r
\r
默认跳过的命令:\r
\r
{0}`,"terminal.integrated.confirmOnExit":"如果存在活动终端会话，控制是否确认窗口关闭的时间。","terminal.integrated.confirmOnExit.always":"始终确认是否存在终端。","terminal.integrated.confirmOnExit.hasChildProcesses":"确认是否存在具有子进程的终端。","terminal.integrated.confirmOnExit.never":"从不确认。","terminal.integrated.confirmOnKill":"控制是否在终端具有子进程时确认终止终端。当设置为编辑器时，如果编辑器区域中的终端具有子进程，则将标记为已更改。请注意，子进程检测可能不适用于 Git Bash 等 shell，后者不会将其进程作为 shell 的子进程运行。","terminal.integrated.confirmOnKill.always":"确认终端是在编辑器中还是在面板中。","terminal.integrated.confirmOnKill.editor":"确认终端是否在编辑器中。","terminal.integrated.confirmOnKill.never":"从不确认。","terminal.integrated.confirmOnKill.panel":"确认终端是否在面板中。","terminal.integrated.copyOnSelection":"控制是否将在终端中选定的文本复制到剪贴板。","terminal.integrated.cursorBlinking":"控制终端光标是否闪烁。","terminal.integrated.cursorStyle":"控制终端光标的样式。","terminal.integrated.cursorWidth":"控制当 {0} 设置为 {1} 时光标的宽度。","terminal.integrated.customGlyphs":"是否为块元素和制表符字符绘制自定义字形(而不是使用字体)，这通常会产生更好的连续线条呈现效果。请注意，禁用 {0} 时，这不起作用。","terminal.integrated.cwd":"将在其中启动终端的显式起始路径，它用作 shell 进程的当前工作目录(cwd)。如果根目录不是方便的 cwd，此路径在工作区设置中可能十分有用。","terminal.integrated.defaultLocation":"控制新建终端的显示位置。","terminal.integrated.defaultLocation.editor":"在编辑器中创建终端","terminal.integrated.defaultLocation.view":"在终端视图中创建终端","terminal.integrated.detectLocale":'控制是否检测 "$LANG" 环境变量并将其设置为符合 UTF-8 的选项，因为 VS Code 的终端仅支持来自 shell 的 UTF-8 编码数据。',"terminal.integrated.detectLocale.auto":`如果现有变量不存在或不以 "'.UTF-8'" 结尾，则设置 "$LANG" 环境变量。`,"terminal.integrated.detectLocale.off":'请勿设置 "$LANG" 环境变量。',"terminal.integrated.detectLocale.on":'始终设置 "$LANG" 环境变量。',"terminal.integrated.drawBoldTextInBrightColors":'控制终端中的加粗文本是否始终使用 "bright" ANSI 颜色变量。',"terminal.integrated.enableBell":"控制是否启用终端铃声，这在终端名称旁边显示为视觉对象铃铛。","terminal.integrated.enableFileLinks":"是否在终端中启用文件链接。连接可能会很慢，特别是在网络驱动器上工作时，因为将根据文件系统验证每个文件链接。更改此项将仅在新的终端中生效。","terminal.integrated.enableImages":"在终端启用图像映像支持，只有在启用 {0} 后才能执行此操作。Linux 和 macOS 均支持 sixel 和 iTerm 的内联图像协议。当 ConPTY 通过序列时，Windows 支持将自动亮起。目前在窗口重新加载/重新连接当中不会保留图像。","terminal.integrated.enableMultiLinePasteWarning":`将多行粘贴到终端时显示警告对话框。在以下情况中，该对话框不显示:\r
\r
- 已启用带括号的粘贴模式(shell 支持本机多行粘贴)\r
- 粘贴由 shell 的读取一行数据处理(在 pwsh 的情况下)`,"terminal.integrated.enablePersistentSessions":"跨窗口重新加载保持工作区的终端会话/历史记录。","terminal.integrated.env.linux":'具有环境变量的对象，这些变量将添加到 Linux 上的终端要使用的 VS Code 进程。如果设置为 "null"，则删除环境变量。',"terminal.integrated.env.osx":'具有环境变量的对象，这些变量将添加到 macOS 中的终端要使用的 VS Code 进程。如果设置为 "null"，则删除环境变量。',"terminal.integrated.env.windows":'具有环境变量的对象，这些变量将添加到将由 Windows 上的终端使用的 VS Code 进程。设置为 "null" 以删除环境变量。',"terminal.integrated.environmentChangesIndicator":"是否在每个终端上显示环境更改指示器，该指示器解释了使是否已进行扩展或想要对终端环境进行更改。","terminal.integrated.environmentChangesIndicator.off":"禁用指示器。","terminal.integrated.environmentChangesIndicator.on":"启用指示器。","terminal.integrated.environmentChangesIndicator.warnonly":"仅当终端环境为“已过时”时，仅显示警告指示器，而不是显示指出终端环境已由扩展修改的信息指示器。","terminal.integrated.environmentChangesRelaunch":"在扩展想要向终端的环境贡献内容但尚未与之交互时是否自动重启终端。","terminal.integrated.fastScrollSensitivity":'按 "Alt" 时的滚动速度加倍。',"terminal.integrated.fontFamily":"控制终端的字体系列，默认为 {0} 的值。","terminal.integrated.fontSize":"控制终端的字号(以像素为单位)。","terminal.integrated.fontWeight":"要在终端中用于非粗体文本的字体粗细。接受“正常”和“加粗”这两个关键字，或接受 1-1000 之间的数字。","terminal.integrated.fontWeightBold":"要在终端中用于粗体文本的字体粗细。接受“正常”和“加粗”这两个关键字，或接受 1-1000 之间的数字。","terminal.integrated.fontWeightError":"仅允许使用关键字“正常”和“加粗”，或使用介于 1 至 1000 之间的数字。","terminal.integrated.gpuAcceleration":"控制终端是否将使用 GPU 来进行呈现。","terminal.integrated.gpuAcceleration.auto":"让 VS Code 检测哪些呈现器将提供最佳体验。","terminal.integrated.gpuAcceleration.canvas":"使用终端的回退画布呈现器，它使用 2d 上下文而不是在某些系统上性能更好地 Webgl。请注意，画布呈现器中的某些功能受到限制，如不透明选择。","terminal.integrated.gpuAcceleration.off":"禁用终端中的 GPU 加速。当 GPU 加速关闭时，终端的呈现速度会慢得多，但它应该能够在所有系统上可靠地工作。","terminal.integrated.gpuAcceleration.on":"在终端内启用 GPU 加速。","terminal.integrated.letterSpacing":"控制终端的字母间距，这是一个整数值，表示要在字符之间添加的额外像素数目。","terminal.integrated.lineHeight":"控制终端的行高，此数字乘以终端字号等于实际行高(以像素为单位)。","terminal.integrated.localEchoEnabled":"何时应启用本地回显。这将替代 {0}","terminal.integrated.localEchoEnabled.auto":"仅对远程工作区启用","terminal.integrated.localEchoEnabled.off":"始终禁用","terminal.integrated.localEchoEnabled.on":"始终启用","terminal.integrated.localEchoExcludePrograms":"当在终端标题中找到其中一个程序名称时，将禁用本地回显。","terminal.integrated.localEchoLatencyThreshold":"网络延迟的长度(以毫秒为单位)，其中本地编辑将在终端上回显，无需等待服务器承认。如果为 '0'，则本地回显将始终开启，如果为 '-1'，则将禁用。","terminal.integrated.localEchoStyle":"本地回显文本的终端样式；字体样式或 RGB 颜色。","terminal.integrated.macOptionClickForcesSelection":"控制在 macOS 上使用 Option+单击时是否强制选择内容。这将强制进行常规(行)选择并禁止使用列选择模式。这样，可使用常规终端选择进行复制粘贴，例如在 tmux 中启用鼠标模式时。","terminal.integrated.macOptionIsMeta":"控制是否将选项键视为 macOS 中的终端上的元键。","terminal.integrated.minimumContrastRatio":`设置每个单元格的前景色时，将改为尝试符合指定的对比度比率。示例值:\r
\r
- 1: 不执行任何操作，使用标准主题颜色。\r
- 4.5: [符合 WCAG AA 标准(最低)](https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html)(默认)。\r
- 7: [符合 WCAG AAA 标准(增强)](https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast7.html)。\r
- 21: 黑底白字或白底黑字。`,"terminal.integrated.mouseWheelScrollSensitivity":'要在鼠标滚轮滚动事件的 "deltaY" 上使用的乘数。',"terminal.integrated.persistentSessionReviveProcess":`当必须关闭终端进程(例如当窗口或应用程序关闭时)时，这将决定下次打开工作区时，应在何时还原以前的终端会话内容/历史记录和重新创建进程。\r
\r
注意事项:\r
\r
- 进程当前工作目录的还原取决于是否受 shell 支持。\r
- 在关闭期间保留会话的时间有限，因此在使用高延迟远程连接时可能会中止相应会话。`,"terminal.integrated.persistentSessionReviveProcess.never":"永远不要还原终端缓冲区或重新创建流程。","terminal.integrated.persistentSessionReviveProcess.onExit":"在 Windows/Linux 上关闭最后窗口后或当触发 `workbench.action.quit` 命令(命令面板、键绑定、菜单)时，恢复流程。","terminal.integrated.persistentSessionReviveProcess.onExitAndWindowClose":"在 Windows/Linux 上关闭最后窗口后或当触发 `workbench.action.quit` 命令(命令面板、键绑定、菜单)或关闭窗口时，恢复流程。","terminal.integrated.rightClickBehavior":"控制终端如何回应右键单击操作。","terminal.integrated.rightClickBehavior.copyPaste":"当有选定内容时复制，否则粘贴。","terminal.integrated.rightClickBehavior.default":"显示上下文菜单。","terminal.integrated.rightClickBehavior.nothing":"不执行任何操作并将事件传递到终端。","terminal.integrated.rightClickBehavior.paste":"右键单击时粘贴。","terminal.integrated.rightClickBehavior.selectWord":"选择光标下方的字词并显示上下文菜单。","terminal.integrated.scrollback":"控制终端在其缓冲区中保留的最大行数。我们根据此值预分配内存，以确保顺畅体验。因此，随着值的增加，内存量也会增加。","terminal.integrated.sendKeybindingsToShell":"将大多数键绑定调度到终端而不是工作台，重写 {0}，也可以用于微调。","terminal.integrated.shellIntegration.decorationsEnabled":"启用 shell 集成后，为每个命令添加修饰。","terminal.integrated.shellIntegration.decorationsEnabled.both":"在装订线(左侧)和概述标尺(右侧)中显示修饰","terminal.integrated.shellIntegration.decorationsEnabled.gutter":"在终端左侧显示装订线修饰","terminal.integrated.shellIntegration.decorationsEnabled.never":"不显示修饰","terminal.integrated.shellIntegration.decorationsEnabled.overviewRuler":"在终端右侧显示概述标尺修饰","terminal.integrated.shellIntegration.enabled":`确定是否自动注入 shell 集成以支持增强型命令跟踪和当前工作目录检测等功能。\r
\r
Shell 集成的工作原理是使用启动脚本注入 shell。通过该脚本，VS Code 可深入了解终端内正在发生的情况。\r
\r
受支持的 shell:\r
\r
- Linux/macOS: bash、fish、pwsh、zsh\r
 - Windows: pwsh\r
\r
此设置仅在创建终端时适用，因此需要重启终端才能生效。\r
\r
 请注意，如果在终端配置文件中定义了自定义参数、弃用了 {1}、具有 [复杂 bash \`PROMPT_COMMAND\`](https://code.visualstudio.com/docs/editor/integrated-terminal#_complex -bash-promptcommand)或其他不受支持的设置，则脚本注入可能不起作用。{0}`,"terminal.integrated.shellIntegration.history":"控制要保留在终端命令历史记录中的最近使用的命令数。设置为 0 可禁用终端命令历史记录。","terminal.integrated.shellIntegration.suggestEnabled":"当 {0} 设置为 {1} 时，为受支持的 shell 启用实验性终端 Intellisense 建议。如果手动安装 shell 集成，则在调用脚本之前，需要将 {2} 设置为 {3}。","terminal.integrated.showExitAlert":"控制在退出代码为非零时是否显示“终端进程已终止且显示退出代码”警报。","terminal.integrated.smoothScrolling":"控制终端是否将使用动画滚动。","terminal.integrated.splitCwd":"控制拆分终端开始时使用的工作目录。","terminal.integrated.splitCwd.inherited":"在 macOS 和 Linux 上，新的拆分终端将使用父终端的工作目录。在 Windows 上，这与初始行为相同。","terminal.integrated.splitCwd.initial":"新的拆分终端将使用父终端开始时使用的工作目录。","terminal.integrated.splitCwd.workspaceRoot":"新的拆分终端将使用工作区根作为工作目录。在多根工作区中，提供了要使用根文件夹的选项。","terminal.integrated.tabStopWidth":"制表位中的单元格数。","terminal.integrated.tabs.defaultColor":"默认情况下要与终端图标关联的主题颜色 ID。","terminal.integrated.tabs.defaultIcon":"默认情况下要与终端图标关联的 codicon ID。","terminal.integrated.tabs.enableAnimation":"控制终端选项卡状态是否支持动画(例如正在进行的任务)。","terminal.integrated.tabs.enabled":"控制终端选项卡是否以列表的形式显示在终端的一侧。如果禁用此功能，将改为显示下拉列表。","terminal.integrated.tabs.focusMode":"控制是在双击时将焦点放在某个选项卡上还是单击。","terminal.integrated.tabs.focusMode.doubleClick":"双击终端选项卡时聚焦终端","terminal.integrated.tabs.focusMode.singleClick":"双击终端选项卡时聚焦终端","terminal.integrated.tabs.hideCondition":"控制在特定条件下是否将隐藏终端选项卡视图。","terminal.integrated.tabs.hideCondition.never":"从不隐藏终端选项卡视图","terminal.integrated.tabs.hideCondition.singleGroup":"仅打开一个终端组时隐藏终端选项卡视图","terminal.integrated.tabs.hideCondition.singleTerminal":"仅打开一个终端时隐藏终端选项卡视图","terminal.integrated.tabs.location":"控制终端选项卡的位置，该位置位于实际终端的左侧或右侧。","terminal.integrated.tabs.location.left":"在终端的左侧显示终端选项卡视图","terminal.integrated.tabs.location.right":"在终端的右侧显示终端选项卡视图","terminal.integrated.tabs.separator":"{0} 和 {0} 使用的分隔符。","terminal.integrated.tabs.showActions":"控制是否在“新建终端”按钮旁边显示“终端拆分”和“终止”按钮。","terminal.integrated.tabs.showActions.always":"始终显示操作","terminal.integrated.tabs.showActions.never":"从不显示操作","terminal.integrated.tabs.showActions.singleTerminal":"当终端是唯一打开的终端时显示操作","terminal.integrated.tabs.showActions.singleTerminalOrNarrow":"在终端是唯一打开的终端或选项卡视图处于窄而无文本状态时显示活动终端","terminal.integrated.tabs.showActiveTerminal":"在视图中显示活动的终端信息，当选项卡中的标题不可见时，此功能尤其有用。","terminal.integrated.tabs.showActiveTerminal.always":"始终显示活动终端","terminal.integrated.tabs.showActiveTerminal.never":"从不显示活动终端","terminal.integrated.tabs.showActiveTerminal.singleTerminal":"当仅有一个终端打开时显示活动终端","terminal.integrated.tabs.showActiveTerminal.singleTerminalOrNarrow":"仅当终端已打开或选项卡视图处于窄而无文本状态时显示活动终端","terminal.integrated.unicodeVersion":"控制在终端中计算字符宽度时要使用的 unicode 版本。如果遇到未占用正确空格或退格量的表情符号或其他宽字符，或删除量太大或太小，则可能希望尝试调整此设置。","terminal.integrated.unicodeVersion.eleven":"unicode 的版本 11。此版本可在使用新式版本 unicode 的新式系统上提供更好的支持。","terminal.integrated.unicodeVersion.six":"unicode 的版本 6。此版本较旧，因此在较旧的系统中效果更好。","terminal.integrated.windowsEnableConpty":"是否使用 ConPTY 进行 Windows 终端进程通信(需要 Windows 10 内部版本号 18309+)。如果此设置为 false，将使用 Winpty。","terminal.integrated.wordSeparators":"一个包含所有字符的字符串，在双击选择单词和回退“word”链接检测时，会被视为单词分隔符。由于这用于链接检测，包括在检测链接时使用“:”之类的字符，将会忽略“file:10:5”等链接的行和列部分。",terminalDescription:"控制显示在标题右侧的终端说明。根据上下文替换变量:",terminalIntegratedConfigurationTitle:"集成终端",terminalTitle:"控制终端标题。根据上下文替换变量:",workspaceFolder:"在其中启动终端的工作区"},"vs/workbench/contrib/terminal/common/terminalContextKey":{inTerminalRunCommandPickerContextKey:"终端运行命令选取器当前是否处于打开状态。",isSplitTerminalContextKey:"重点选项卡的终端是否为拆分终端。",terminalAccessibleBufferFocusContextKey:"是否聚焦终端可访问缓冲区。",terminalAltBufferActive:"终端的可选缓冲区是否处于活动状态。",terminalCountContextKey:"当前终端数。",terminalEditorFocusContextKey:"是否聚焦编辑器区域中的终端。",terminalFocusContextKey:"是否聚焦终端。",terminalFocusInAnyContextKey:"是否将任何终端作为焦点，包括在其他 UI 中使用的分离终端。",terminalProcessSupportedContextKey:"是否可以在当前工作区中启动终端流程。",terminalShellIntegrationEnabled:"是否在活动终端中启用 shell 集成",terminalShellTypeContextKey:"活动终端的 shell 类型，当不存在终端时，此值设置为最后已知值。",terminalSuggestWidgetVisible:"终端的建议小组件是否可见。",terminalTabsFocusContextKey:"是否聚焦终端选项卡小组件。",terminalTabsSingularSelectedContextKey:"是否在终端选项卡列表中选择终端。",terminalTextSelectedContextKey:"是否在活动终端中选择文本。",terminalTextSelectedInFocusedContextKey:"是否在重点终端中选择文本。",terminalViewShowing:"终端视图是否显示"},"vs/workbench/contrib/terminal/common/terminalStrings":{currentSessionCategory:"当前会话",doNotShowAgain:"不再显示",killTerminal:"终止终端","killTerminal.short":"终止",moveToEditor:"将终端移动到编辑器区域中",previousSessionCategory:"上一个会话",splitTerminal:"拆分终端","splitTerminal.short":"拆分",terminal:"终端","terminal.new":"新建终端",terminalCategory:"终端",unsplitTerminal:"取消拆分终端","workbench.action.terminal.changeColor":"更改颜色...","workbench.action.terminal.changeIcon":"更改图标...","workbench.action.terminal.focus":"聚焦到终端","workbench.action.terminal.focusHover":"聚焦悬停","workbench.action.terminal.moveToTerminalPanel":"将终端移到面板中","workbench.action.terminal.newWithCwd":"从自定义工作目录开始创建新终端","workbench.action.terminal.rename":"重命名...","workbench.action.terminal.renameWithArg":"重命名当前活动终端","workbench.action.terminal.sendSequence":"发送自定义序列到终端","workbench.action.terminal.sizeToContentWidthInstance":"将大小切换为内容宽度"},"vs/workbench/contrib/terminal/electron-sandbox/terminalRemote":{"workbench.action.terminal.newLocal":"新建集成终端(本地)"},"vs/workbench/contrib/terminalContrib/accessibility/browser/terminal.accessibility.contribution":{"workbench.action.terminal.accessibleBufferGoToNextCommand":"可访问的缓冲区转到下一命令","workbench.action.terminal.accessibleBufferGoToPreviousCommand":"可访问的缓冲区转到上一命令","workbench.action.terminal.focusAccessibleBuffer":"焦点可访问缓冲","workbench.action.terminal.navigateAccessibleBuffer":"导航可访问缓冲区"},"vs/workbench/contrib/terminalContrib/accessibility/browser/terminalAccessibilityHelp":{accessibilitySettings:"通过“首选项: 打开辅助功能设置”命令访问辅助功能设置，例如 `terminal.integrated.tabFocusMode`。",commandPromptMigration:"考虑使用 powershell (而非命令提示符)以改进体验",focusAccessibleBuffer:"焦点可访问缓冲({0})命令使屏幕阅读器能够读取终端内容。",focusAccessibleBufferNoKb:"“焦点可访问缓冲”命令使屏幕阅读器能够读取终端内容，当前无法通过键绑定触发。",goToNextCommand:"转到下一命令({0})",goToNextCommandNoKb:"当前无法通过键绑定触发转到下一命令。",goToPreviousCommand:"转到上一命令({0})",goToPreviousCommandNoKb:"当前无法通过键绑定触发转到上一命令。",goToRecentDirectory:"转到最近使用的目录({0})",goToRecentDirectoryNoKb:"当前无法通过键绑定触发转到 Recent Directory。",goToRecentDirectoryNoKbNoShellIntegration:"通过“转到最近的目录”命令，屏幕阅读器可以轻松导航到已在终端中使用的目录，当前无法通过键绑定触发该目录。",goToRecentDirectoryNoShellIntegration:"通过“转到最近的目录”({0})命令，屏幕阅读器可以轻松导航到已在终端中使用的目录。",navigateAccessibleBuffer:"导航辅助缓冲区({0})",navigateAccessibleBufferNoKb:"当前无法通过键绑定触发导航可访问缓冲区。",newWithProfile:"借助创建新终端(带配置文件)({0})命令，可以使用特定配置文件轻松创建终端。",newWithProfileNoKb:"借助创建新终端(带配置文件)命令，可以使用特定配置文件轻松创建终端，当前无法通过键绑定触发。",openDetectedLink:"打开检测到的链接({0})命令使屏幕阅读器能够轻松打开在终端中找到的链接。",openDetectedLinkNoKb:"“打开检测到的链接”命令使屏幕阅读器能够轻松打开终端中找到的链接，当前无法通过键绑定触发链接。",runRecentCommand:"运行最近使用的命令({0})",runRecentCommandNoKb:"当前无法通过键绑定触发运行 Recent 命令。",shellIntegration:"终端具有一种称为 shell 集成的功能，可提供增强的体验并为屏幕阅读器提供有用的命令，例如:","terminal-help-label":"终端辅助功能帮助"},"vs/workbench/contrib/terminalContrib/accessibility/browser/terminalAccessibleBuffer":{"terminal.integrated.accessibleBuffer":"终端缓冲区","terminal.integrated.symbolQuickPick.labelNoExitCode":"{0}"},"vs/workbench/contrib/terminalContrib/developer/browser/terminal.developer.contribution":{"workbench.action.terminal.restartPtyHost":"重启 pty 主机","workbench.action.terminal.showTextureAtlas":"显示终端纹理图集","workbench.action.terminal.writeDataToTerminal":"将数据写入终端","workbench.action.terminal.writeDataToTerminal.prompt":"输入数据以直接写入终端，从而绕过 pty"},"vs/workbench/contrib/terminalContrib/environmentChanges/browser/terminal.environmentChanges.contribution":{ScopedEnvironmentContributionInfo:"工作区",envChanges:"终端环境更改",extension:"扩展: {0}","workbench.action.terminal.showEnvironmentContributions":"显示环境贡献"},"vs/workbench/contrib/terminalContrib/find/browser/terminal.find.contribution":{"workbench.action.terminal.findNext":"查找下一个","workbench.action.terminal.findPrevious":"查找上一个","workbench.action.terminal.focusFind":"聚焦查找","workbench.action.terminal.hideFind":"隐藏查找","workbench.action.terminal.searchWorkspace":"搜索工作区","workbench.action.terminal.toggleFindCaseSensitive":"切换使用区分大小写进行查找","workbench.action.terminal.toggleFindRegex":"切换使用正则表达式进行查找","workbench.action.terminal.toggleFindWholeWord":"切换使用全字匹配进行查找"},"vs/workbench/contrib/terminalContrib/links/browser/terminal.links.contribution":{"workbench.action.terminal.openDetectedLink":"打开检测到的链接...","workbench.action.terminal.openLastLocalFileLink":"打开最后一个本地文件链接","workbench.action.terminal.openLastUrlLink":"打开最后一个 URL 链接"},"vs/workbench/contrib/terminalContrib/links/browser/terminalLinkDetectorAdapter":{focusFolder:"聚焦资源管理器中的文件夹",followLink:"打开链接",openFile:"在编辑器中打开文件",openFolder:"在新窗口中打开文件夹",searchWorkspace:"搜索工作区"},"vs/workbench/contrib/terminalContrib/links/browser/terminalLinkManager":{followForwardedLink:"执行使用转发端口的链接",followLink:"跟踪链接",followLinkUrl:"链接","terminalLinkHandler.followLinkAlt":"Alt + 单击","terminalLinkHandler.followLinkAlt.mac":"Option + 单击","terminalLinkHandler.followLinkCmd":"Cmd + 单击","terminalLinkHandler.followLinkCtrl":"Ctrl + 单击"},"vs/workbench/contrib/terminalContrib/links/browser/terminalLinkQuickpick":{"terminal.integrated.localFileLinks":"本地文件","terminal.integrated.openDetectedLink":"选择要打开的链接","terminal.integrated.searchLinks":"工作区搜索","terminal.integrated.showMoreLinks":"显示更多链接","terminal.integrated.urlLinks":"URL"},"vs/workbench/contrib/terminalContrib/quickFix/browser/quickFixAddon":{"codeAction.widget.id.quickfix":"快速修复","quickFix.command":"运行: {0}","quickFix.opener":"打开: {0}"},"vs/workbench/contrib/terminalContrib/quickFix/browser/terminal.quickFix.contribution":{"workbench.action.terminal.showQuickFixes":"显示终端快速修复"},"vs/workbench/contrib/terminalContrib/quickFix/browser/terminalQuickFixBuiltinActions":{"terminal.createPR":"创建 PR {0}","terminal.freePort":"空闲端口 {0}"},"vs/workbench/contrib/terminalContrib/quickFix/browser/terminalQuickFixService":{"vscode.extension.contributes.terminalQuickFixes":"提供终端快速修复。","vscode.extension.contributes.terminalQuickFixes.commandExitResult":"要匹配的命令退出结果","vscode.extension.contributes.terminalQuickFixes.commandLineMatcher":"用于测试命令行的正则表达式或字符串","vscode.extension.contributes.terminalQuickFixes.id":"快速修复提供程序的 ID","vscode.extension.contributes.terminalQuickFixes.outputMatcher":`与输出的单行匹配的正则表达式或字符串，它提供要在 terminalCommand 和 URI 中引用的组。\r
\r
例如:\r
\r
 \`lineMatcher: /git push --set-upstream origin (?<branchName>[^s]+)/;\`\r
\r
\`terminalCommand: 'git push --set-upstream origin \${group:branchName}';\`\r
`},"vs/workbench/contrib/testing/browser/icons":{filterIcon:"“测试”视图中“筛选器”操作的图标。",hiddenIcon:"在隐藏的测试显示时其旁边出现的图标。",testViewIcon:"查看测试视图的图标。",testingCancelIcon:"用于取消正在进行的测试运行的图标。",testingCancelRefreshTests:"用于取消刷新测试的按钮上的图标。",testingDebugAllIcon:"“调试所有测试”操作的图标。",testingDebugIcon:"“调试测试”操作的图标。",testingErrorIcon:"针对有错误的测试显示的图标。",testingFailedIcon:"针对失败的测试显示的图标。",testingPassedIcon:"针对通过的测试显示的图标。",testingQueuedIcon:"针对排队的测试显示的图标。",testingRefreshTests:"用于刷新测试的按钮上的图标。",testingResultsIcon:"测试结果的图标。",testingRunAllIcon:"“运行所有测试”操作的图标。",testingRunIcon:"“运行测试”操作的图标。",testingShowAsList:"当测试资源管理器(树形式)被禁用时显示的图标。",testingShowAsTree:"当测试资源管理器(列表形式)被禁用时显示的图标。",testingSkippedIcon:"针对跳过的测试显示的图标。",testingTurnContinuousRunIsOn:"用于测试迭起的连续运行处于打开状态时的图标。",testingTurnContinuousRunOff:"用于关闭连续测试运行的图标。",testingTurnContinuousRunOn:"用于打开连续测试运行的图标。",testingUnsetIcon:"针对处于未设置状态的测试显示的图标。",testingUpdateProfiles:"显示的用于更新测试配置文件的图标。"},"vs/workbench/contrib/testing/browser/testExplorerActions":{configureProfile:"选择要更新的配置文件","debug test":"调试测试",debugAllTests:"调试所有测试",debugSelectedTests:"调试测试",discoveringTests:"正在发现测试",getExplorerSelection:"获取资源管理器选择",getSelectedProfiles:"获取所选配置文件",hideTest:"隐藏测试",noDebugTestProvider:"未在此工作区中找到可调试测试。可能需要安装测试提供程序扩展",noTestProvider:"未在此工作区中找到测试。可能需要安装测试提供程序扩展",noTestsAtCursor:"在此处未找到测试",noTestsInFile:"在此文件中找不到任何测试","run test":"运行测试",runAllTests:"运行所有测试",runSelectedTests:"运行测试","testing.cancelRun":"取消测试运行","testing.cancelTestRefresh":"取消测试刷新","testing.clearResults":"清除所有结果","testing.collapseAll":"折叠所有测试","testing.configureProfile":"配置测试配置文件","testing.debugAtCursor":"在光标处调试测试","testing.debugCurrentFile":"在当前文件中调试测试","testing.debugFailTests":"调试失败的测试","testing.debugLastRun":"调试上次运行","testing.editFocusedTest":"转到测试","testing.noProfiles":"未找到已启用测试连续运行的配置文件","testing.openOutputPeek":"快速查看输出","testing.reRunFailTests":"重新运行失败的测试","testing.reRunLastRun":"重新运行上次运行","testing.refreshTests":"刷新测试","testing.runAtCursor":"在光标处运行测试","testing.runCurrentFile":"在当前文件中运行测试","testing.runUsing":"使用配置文件执行...","testing.searchForTestExtension":"搜索测试扩展","testing.selectContinuousProfiles":"选择文件更改时要运行的配置文件:","testing.selectDefaultTestProfiles":"选择默认配置文件","testing.showMostRecentOutput":"显示输出","testing.sortByDuration":"按持续时间排序","testing.sortByLocation":"按位置排序","testing.sortByStatus":"按状态排序","testing.startContinuous":"启动连续运行","testing.startContinuousRunUsing":"使用以下方式启动连续运行...","testing.stopContinuous":"停止连续运行","testing.toggleContinuousRunOff":"关闭连续运行","testing.toggleContinuousRunOn":"启用连续运行","testing.toggleInlineTestOutput":"切换内联测试输出","testing.viewAsList":"以列表形式查看","testing.viewAsTree":"以树形式查看",unhideAllTests:"取消隐藏所有测试",unhideTest:"取消隐藏测试"},"vs/workbench/contrib/testing/browser/testing.contribution":{miViewTesting:"测试(&E)",noTestProvidersRegistered:"尚未在此工作区中找到任何测试。",searchForAdditionalTestExtensions:"安装其他测试扩展...",test:"测试",testExplorer:"测试资源管理器",testResultsPanelName:"测试结果"},"vs/workbench/contrib/testing/browser/testingConfigurationUi":{"testConfigurationUi.pick":"选择要使用的测试配置文件",updateTestConfiguration:"更新测试配置"},"vs/workbench/contrib/testing/browser/testingDecorations":{"actual.title":"实际","debug all test":"调试所有测试","debug test":"调试测试","expected.title":"预期","peek failure":"速览错误",peekTestOutout:"速览测试输出","reveal test":"在测试资源管理器中显示","run all test":"运行所有测试","run test":"运行测试","testing.gutterMsg.contextMenu":"单击以获取测试选项","testing.gutterMsg.debug":"单击以调试测试，右键单击以查看更多选项","testing.gutterMsg.run":"单击以运行测试，右键单击以查看更多选项","testing.runUsing":"使用配置文件执行..."},"vs/workbench/contrib/testing/browser/testingExplorerFilter":{testExplorerFilter:"筛选器(例如 text、!exclude、@tag)",testExplorerFilterLabel:"在资源管理器中筛选测试的文本","testing.filters.currentFile":"仅在活动文件中显示","testing.filters.fuzzyMatch":"模糊匹配","testing.filters.menu":"更多筛选器...","testing.filters.removeTestExclusions":"取消隐藏所有测试","testing.filters.showExcludedTests":"显示隐藏的测试","testing.filters.showOnlyExecuted":"仅显示已执行的测试","testing.filters.showOnlyFailed":"仅显示失败的测试"},"vs/workbench/contrib/testing/browser/testingExplorerView":{configureTestProfiles:"配置测试配置文件",defaultTestProfile:"{0} (默认)",selectDefaultConfigs:"选择默认配置文件",testExplorer:"测试资源管理器","testing.treeElementLabelDuration":"{1} 中的 {0}","testing.treeElementLabelOutdated":"{0}，过期结果",testingCountBadgeFailed:"{0} 个测试失败",testingCountBadgePassed:"{0} 个测试已通过",testingCountBadgeSkipped:"已跳过 {0} 个测试",testingFindExtension:"显示工作区测试",testingNoTest:"此文件中未发现任何测试。"},"vs/workbench/contrib/testing/browser/testingOutputPeek":{close:"关闭","debug test":"调试测试",messageMoreLines1:"再 + 1 行",messageMoreLinesN:"再 + {0} 行","run test":"运行测试",runNoOutout:"测试运行未记录任何输出。",runNoOutputForPast:"测试输出仅适用于新的测试运行。",testOutputTitle:"测试输出",testUnnamedTask:"未命名任务","testing.debugLastRun":"调试测试运行","testing.goToError":"转到源","testing.goToFile":"转到源","testing.goToNextMessage":"转到“下一个测试失败”","testing.goToPreviousMessage":"转到“上一个测试失败”","testing.markdownPeekError":`无法打开 Markdown 预览: {0}。\r
\r
请确保已启用 Markdown 扩展。`,"testing.openMessageInEditor":"在编辑器中打开","testing.reRunLastRun":"重新运行测试","testing.revealInExplorer":"在测试资源管理器中显示","testing.showResultOutput":"显示结果输出","testing.toggleTestingPeekHistory":"在速览中切换测试历史记录",testingOutputActual:"实际结果",testingOutputExpected:"预期结果",testingPeekLabel:"测试结果消息"},"vs/workbench/contrib/testing/browser/testingProgressUiService":{"testProgress.completed":"{0}/{1} 个测试已通过({2}%)","testProgress.running":"正在运行测试，通过 {0}/{1} ({2}%)","testProgress.runningInitial":"正在运行测试…","testProgressWithSkip.completed":"{0}/{1} 个测试已通过({2}%，{3} 个已跳过)","testProgressWithSkip.running":"正在运行测试，通过 {0}/{1} ({2}%, {3} 个已跳过)"},"vs/workbench/contrib/testing/browser/testingViewPaneContainer":{testing:"测试"},"vs/workbench/contrib/testing/browser/theme":{"testing.iconErrored":"测试资源管理器中“出错”图标的颜色。","testing.iconFailed":"测试资源管理器中“失败”图标的颜色。","testing.iconPassed":"测试资源管理器中“已通过”图标的颜色。","testing.iconQueued":"测试资源管理器中“已排队”图标的颜色。","testing.iconSkipped":"测试资源管理器中“已跳过”图标的颜色。","testing.iconUnset":"测试资源管理器中“未设置”图标的颜色。","testing.message.error.decorationForeground":"在编辑器中内联显示的测试错误消息的文本颜色。","testing.message.error.marginBackground":"在编辑器中内联显示的错误消息旁边的边距颜色。","testing.message.info.decorationForeground":"在编辑器中内联显示的测试信息消息的文本颜色。","testing.message.info.marginBackground":"在编辑器中内联显示的信息消息旁边的边距颜色。","testing.peekBorder":"速览视图边框和箭头颜色。","testing.runAction":"编辑器中“运行”图标的颜色。"},"vs/workbench/contrib/testing/common/configuration":{testConfigurationTitle:"测试","testing.alwaysRevealTestOnStateChange":"打开“#testing.followRunningTest#”时，始终显示已执行的测试。如果关闭此设置，则只会显示失败的测试。","testing.autoRun.delay":"将测试标记为过时并启动新运行后等待的时间(以毫秒为单位)。","testing.automaticallyOpenPeekView":"配置何时自动打开错误“速览”视图。","testing.automaticallyOpenPeekView.failureAnywhere":"无论故障在何处，都自动打开。","testing.automaticallyOpenPeekView.failureInVisibleDocument":"在可见文档中测试失败时自动打开。","testing.automaticallyOpenPeekView.never":"从不自动打开。","testing.automaticallyOpenPeekViewDuringContinuousRun":"控制是否在连续运行模式期间自动打开“速览”视图。","testing.countBadge":"控制活动栏上“测试”图标上的计数锁屏提醒。","testing.countBadge.failed":"显示失败的测试数","testing.countBadge.off":"禁用测试计数锁屏提醒","testing.countBadge.passed":"显示通过的测试数","testing.countBadge.skipped":"显示跳过的测试数","testing.defaultGutterClickAction":"控制在装订线中左键单击测试修饰时要执行的操作。","testing.defaultGutterClickAction.contextMenu":"打开上下文菜单以获取更多选项。","testing.defaultGutterClickAction.debug":"调试测试。","testing.defaultGutterClickAction.run":"运行测试。","testing.followRunningTest":"控制是否应在“测试资源管理器”视图中遵循正在运行的测试。","testing.gutterEnabled":"控制是否在编辑器装订线中显示测试修饰。","testing.openTesting":"控制何时打开测试视图。","testing.openTesting.neverOpen":"从不自动打开测试视图","testing.openTesting.openOnTestFailure":"任何测试失败时打开测试视图","testing.openTesting.openOnTestStart":"在测试启动时打开测试视图","testing.saveBeforeTest":"控制是否在运行测试之前保存所有脏编辑器。","testing.showAllMessages":"控制是否显示来自所有测试运行的消息。"},"vs/workbench/contrib/testing/common/constants":{"testGroup.coverage":"覆盖率","testGroup.debug":"调试","testGroup.run":"运行","testState.errored":"出错","testState.failed":"失败","testState.passed":"通过","testState.queued":"已排队","testState.running":"正在运行","testState.skipped":"已跳过","testState.unset":"尚未运行","testing.treeElementLabel":"{0} ({1})"},"vs/workbench/contrib/testing/common/testingContentProvider":{runNoOutout:"测试运行未记录任何输出。"},"vs/workbench/contrib/testing/common/testingContextKeys":{"testing.activeEditorHasTests":"指示当前编辑器中是否存在任何测试","testing.canRefresh":"指示任何测试控制器是否具有附加的刷新处理程序。","testing.controllerId":"当前测试项的控制器 ID","testing.hasConfigurableConfig":"指示是否可以配置测试配置","testing.hasCoverableTests":"指示是否有测试控制器注册了覆盖率配置","testing.hasDebuggableTests":"指示是否有测试控制器注册了调试配置","testing.hasNonDefaultConfig":"指示是否有测试控制器注册了非默认配置","testing.hasRunnableTests":"指示是否有测试控制器注册了运行配置","testing.isContinuousModeOn":"指示连续测试模式是否处于打开状态。","testing.isParentRunningContinuously":"指示测试的父级是否持续运行，在测试项的菜单上下文中设置","testing.isRefreshing":"指示当前是否有任何测试控制器正在刷新测试。","testing.peekItemType":"输出速览视图中项的类型。类型为“测试”、“消息”、“任务”或“结果”。","testing.supportsContinuousRun":"指示是否支持连续测试运行","testing.testId":"当前测试项的 ID，在创建或打开测试项的菜单时设置","testing.testItemHasUri":"指示测试项是否已定义 URI 的布尔值","testing.testItemIsHidden":"指示测试项是否处于隐藏状态的布尔值"},"vs/workbench/contrib/testing/common/testResult":{runFinished:"测试运行时间: {0}"},"vs/workbench/contrib/testing/common/testServiceImpl":{testError:"尝试运行测试时出错: {0}",testTrust:"运行测试可能会执行工作区中的代码。"},"vs/workbench/contrib/themes/browser/themes.contribution":{browseColorThemes:"浏览其他颜色主题...",browseProductIconThemes:"浏览其他产品图标主题...","button.browse":"浏览主题","button.cancel":"取消","button.keep":"保留新主题","button.revert":"还原","button.tryTheme":"试用新主题",defaultProductIconThemeLabel:"默认值",fileIconThemeCategory:"图标主题","generateColorTheme.label":"使用当前设置生成颜色主题",installColorThemes:"安装其他颜色主题...","installExtension.button.ok":"确定","installExtension.confirm":"这将安装“{1}”发布的扩展“{0}”。是否要继续?",installIconThemes:"安装其他文件图标主题...",installProductIconThemes:"安装其他产品图标主题...","installing extensions":"正在安装扩展 {0}...","manage extension":"管理扩展",manageExtensionIcon:"主题选择快速选取中“管理”操作的图标。",miSelectTheme:"&&主题",newThemeNotification:"Visual Studio Code 现在附带新的默认主题“{0}”。是否要试一试?",noIconThemeDesc:"禁用文件图标",noIconThemeLabel:"无",productIconThemeCategory:"产品图标主题","search.error":"搜索主题时出错: {0}","selectIconTheme.label":"文件图标主题","selectProductIconTheme.label":"产品图标主题","selectTheme.label":"颜色主题",themeUpdatedNotification:"Visual Studio Code 现在附带新的默认主题“{0}”。如果愿意，可以切换回旧主题或尝试其他许多可用颜色主题之一。",themes:"主题","themes.category.dark":"深色主题","themes.category.hc":"高对比度主题","themes.category.light":"浅色主题","themes.selectIconTheme":"选择文件图标主题(向上/向下键以预览)","themes.selectIconTheme.label":"文件图标主题","themes.selectMarketplaceTheme":"键入以搜索更多内容。选择以安装。按向上/向下键进行预览","themes.selectProductIconTheme":"选择产品图标主题(向上/向下键以预览)","themes.selectProductIconTheme.label":"产品图标主题","themes.selectTheme":"选择颜色主题 (按上下箭头键预览)","toggleLightDarkThemes.label":"在浅色/深色主题之间切换"},"vs/workbench/contrib/timeline/browser/timeline.contribution":{"files.openTimeline":"打开时间线",filterTimeline:"筛选器时间线","timeline.pageOnScroll":"实验性。控制在滚动到列表结尾时，时间线视图是否将加载下一页的项目。","timeline.pageSize":'默认情况下以及在加载更多项目时在时间线视图中显示的项目数。如果设置为 "null" (默认值)，则将根据时间线视图的可见区域自动选择一个页面大小。',timelineConfigurationTitle:"时间线",timelineFilter:"筛选器时间线操作的图标。",timelineOpenIcon:"“打开时间线”操作的图标。",timelineViewIcon:"查看时间线视图的图标。"},"vs/workbench/contrib/timeline/browser/timelinePane":{refresh:"刷新",timeline:"时间线","timeline.aria.item":"{0}: {1}","timeline.editorCannotProvideTimeline":"活动编辑器无法提供时间线信息。","timeline.loadMore":"加载更多","timeline.loading":"正在加载 {0} 的时间线 ...","timeline.loadingMore":"正在加载…","timeline.noTimelineInfo":"未提供时间表信息。","timeline.toggleFollowActiveEditorCommand.follow":"固定当前时间线","timeline.toggleFollowActiveEditorCommand.unfollow":"取消固定当前时间线",timelinePin:"“固定时间线”操作的图标。",timelineRefresh:"“刷新时间线”操作的图标。",timelineUnpin:"“取消固定时间线”操作的图标。"},"vs/workbench/contrib/typeHierarchy/browser/typeHierarchy.contribution":{close:"关闭",editorHasTypeHierarchyProvider:"类型层次结构提供程序是否可用",error:"未能显示类型层次结构","no.item":"无结果",title:"速览类型层次结构","title.refocusTypeHierarchy":"重新专注类型层次结构","title.subtypes":"显示子类型","title.supertypes":"显示父类型",typeHierarchyDirection:"类型层次结构是否显示父类型或子类型",typeHierarchyVisible:"当前是否正在显示类型层次结构预览"},"vs/workbench/contrib/typeHierarchy/browser/typeHierarchyPeek":{"empt.subtypes":"没有“{0}”的子类型","empt.supertypes":"没有“{0}”的父类型",subtypes:"“{0}”的子类型",supertypes:"“{0}”的父类型","title.loading":"正在加载..."},"vs/workbench/contrib/typeHierarchy/browser/typeHierarchyTree":{subtypes:"{0} 的子类型",supertypes:"“{0}”的父类型","tree.aria":"类型层次结构"},"vs/workbench/contrib/update/browser/releaseNotesEditor":{releaseNotesInputName:"发行说明: {0}",showOnUpdate:"更新后显示发行说明",unassigned:"未分配"},"vs/workbench/contrib/update/browser/update":{DownloadingUpdate:"正在下载更新...",checkForUpdates:"检查更新...",checkingForUpdates:"正在检查更新...","download update":"下载更新","download update_1":"下载更新(1) ",downloading:"正在下载...",installUpdate:"安装更新","installUpdate...":"安装更新... (1)",installingUpdate:"正在安装更新...",later:"稍后","learn more":"了解详细信息",noUpdatesAvailable:"当前没有可用的更新。","read the release notes":"欢迎使用 {0} v{1}! 是否要阅读发布说明?",relaunchDetailInsiders:"按“重新加载”按钮切换到预览体验成员版本的 VS Code。",relaunchDetailStable:"按“重新加载”按钮切换到稳定版的 VS Code。",relaunchMessage:"需要重载，然后对版本的更改才会生效",releaseNotes:"发行说明",reload:"重载(&&R)",restartToUpdate:"重新启动以更新 (1)","selectSyncService.detail":"默认情况下，预览体验成员版 VS Code 将使用单独的预览体验成员设置同步服务来同步你的设置、键绑定、扩展、片段、UI 状态。","selectSyncService.message":"选择在更改版本后要使用的设置同步服务",showUpdateReleaseNotes:"显示更新发行说明",switchToInsiders:"切换到内部预览计划版本…",switchToStable:"切换到稳定版本…",thereIsUpdateAvailable:"存在可用更新。","update service":"更新服务","update service disabled":"若您正以管理员身份运行 {0} 用户范围的安装，更新功能会被禁用。","update.noReleaseNotesOnline":"此版本的 {0} 没有联机发行说明",updateAvailable:"现有更新可用: {0} {1}",updateAvailableAfterRestart:"重新启动 {0} 即可应用最新更新。",updateIsReady:"有新的 {0} 的更新可用。",updateNow:"立即更新",updating:"正在更新...","use insiders":"预览体验成员(&&I)","use stable":"稳定(当前)(&&S)"},"vs/workbench/contrib/update/browser/update.contribution":{applyUpdate:"应用更新...",checkForUpdates:"检查更新...",downloadUpdate:"下载更新",installUpdate:"安装更新",mshowReleaseNotes:"显示发行说明(&&R)",openDownloadPage:"下载 {0}",pickUpdate:"应用更新",restartToUpdate:"重启以更新",showReleaseNotes:"显示发行说明","update.noReleaseNotesOnline":"此版本的 {0} 没有联机发行说明",updateButton:"更新(&&U)"},"vs/workbench/contrib/url/browser/trustedDomains":{"trustedDomain.manageTrustedDomain":"管理受信任的域","trustedDomain.manageTrustedDomains":"管理受信任的域","trustedDomain.trustAllDomains":"信任所有域(禁用链接保护)","trustedDomain.trustAllPorts":"信任所有端口上的 {0}","trustedDomain.trustDomain":"信任 {0}","trustedDomain.trustSubDomain":"信任 {0} 及其所有子域"},"vs/workbench/contrib/url/browser/trustedDomainsValidator":{configureTrustedDomains:"配置受信任的域(&&T)",copy:"复制(&&C)",open:"打开(&&O)",openExternalLinkAt:"是否要 {0} 打开外部网站?"},"vs/workbench/contrib/url/browser/url.contribution":{openUrl:"打开 URL",urlToOpen:"要打开的 URL","workbench.trustedDomains.promptInTrustedWorkspace":"启用后，在受信任的工作区中打开链接时，将显示受信任的域提示。"},"vs/workbench/contrib/userDataProfile/browser/userDataProfile":{"create profile":"创建配置文件...",current:"当前","delete profile":"删除配置文件...","delete specific profile":"删除配置文件...","edit profile":"编辑配置文件...","export profile":"导出配置文件...","export profile in share":"导出配置文件({0})...","import from file":"Select File...","import from url":"Import from URL","import profile":"导入配置文件...","import profile dialog":"选择配置文件模版文件","import profile placeholder":"Provide Profile Template URL","import profile quick pick title":"Import from Profile Template...","import profile share":"导入配置文件...","pick profile to delete":"选择要删除的配置文件","profile import error":"创建配置文件时出错: {0}",profiles:"配置文件({0})","save profile as":"将当前配置文件另存为……",selectProfile:"选择配置文件","show profile contents":"显示配置文件内容",switchProfile:"Switch 配置文件...",templates:"配置文件模板"},"vs/workbench/contrib/userDataProfile/browser/userDataProfileActions":{"cleanup profile":"清理配置文件","create temporary profile":"创建临时配置文件",current:"当前",mange:"管理...","pick profile to rename":"选择要重命名的配置文件",profileExists:"具有名称 {0} 的配置文件已经存在。","rename profile":"重命名...","rename specific profile":"重命名配置文件...","reset workspaces":"重置工作区配置文件关联","select profile to rename":"重命名 {0}"},"vs/workbench/contrib/userDataSync/browser/userDataSync":{"accept failed":"接受更改时出错。有关更多详细信息，请查看[日志]({0})。","auth failed":"启用设置同步时出错: 身份验证失败。","cancel turning on sync":"取消","complete merges title":"完成合并",configure:"配置...","configure and turn on sync detail":"请进行登录，跨设备同步你的数据。","configure sync":"配置...","configure sync placeholder":"选择要同步的内容","configure sync title":"{0}: 配置…","conflicts detected":"由于 {0} 中的冲突，无法同步。请解决它们以继续。",default:"默认值","error reset required":"云中的数据早于客户端的数据，因此已禁用设置同步。请先清除云中的数据，然后再启用同步。","error reset required while starting sync":"云中的数据早于客户端的数据，因此无法启用设置同步。请先清除云中的数据，然后再启用同步。","error upgrade required":"当前版本({0}, {1})与同步服务不兼容，因此已禁用设置同步。请先进行更新，然后再打开同步。","error upgrade required while starting sync":"当前版本({0}, {1})与同步服务不兼容，因此无法启用设置同步。请先进行更新，然后再打开同步。",errorInvalidConfiguration:"无法同步 {0}，因为文件中的内容无效。请打开文件并进行更正。","global activity turn on sync":"打开设置同步…","has conflicts":"{0}: 检测到冲突",insiders:"预览体验人员","method not found":"已禁用设置同步，因为客户端发出的请求无效。请报告日志问题。","no authentication providers":"没有可用的身份验证提供程序。","open file":"打开 {0} 文件",operationId:"操作 ID: {0}","per platform":"为每个平台","replace local":"替换本地","replace remote":"替换远程","report issue":"报告问题",reset:"清除云中的数据…",resolveConflicts_global:"显示冲突({0})","service changed and turned off":"设置同步已禁用，因为 {0} 现使用一个单独的服务。请再次启用同步。","service switched to insiders":"设置同步已切换为预览体验成员服务","service switched to stable":"设置同步已切换为稳定的服务","session expired":"当前会话已过期，因此已关闭设置同步。若要启用同步，请重新登录。","show conflicts":"显示冲突","show sync log title":"{0}: 显示日志","show sync log toolrip":"显示日志","show sync logs":"显示日志","show synced data":"显示已同步的数据","show synced data action":"显示已同步的数据","sign in accounts":"登录以同步设置(1)","sign in and turn on":"登录并打开","sign in global":"登录以同步设置","sign in to sync":"登录以同步设置",stable:"稳定","stop sync":"关闭","switchSyncService.description":"在与多个环境同步时，请确保你使用的设置同步服务相同","switchSyncService.title":"{0}: 选择服务","sync is on":"设置同步已打开","sync now":"立即同步","sync settings":"显示设置","synced with time":"同步时间: {0}",syncing:"正在同步","too large":"已禁止同步 {0}，因为要同步的 {1} 文件的大小大于 {2}。请打开文件减小大小，然后再启用同步","too large while starting sync":"要同步的 {0} 文件的大小大于 {1}，因此无法启用设置同步。请打开文件并减小大小，然后打开同步","too many profiles":"已禁用同步配置文件，因为配置文件太多，无法同步。设置同步支持同步最多 20 个配置文件。请减少配置文件数并启用同步","turn off":"关闭(&&T)","turn off failed":"禁用设置同步时出错。有关更多详细信息，请查看[日志]({0})。","turn off sync confirmation":"是否要关闭同步?","turn off sync detail":"将不再同步你的设置、键绑定、扩展、代码片段和 UI 状态。","turn off sync everywhere":"关闭所有设备上的同步设置，并从云中清除数据。","turn on failed":"打开设置同步时出错。{0}","turn on failed with user data sync error":"启用设置同步时出错。请查看[日志]({0})以了解详细信息。","turn on sync":"打开设置同步…","turned off":"已从另一设备禁用设置同步，请再次启用同步。","turnin on sync":"正在打开设置同步…","turning on syncing":"正在打开设置同步…","using separate service":"设置同步现使用一个单独的服务；有关详细信息，请参阅[设置同步文档](https://aka.ms/vscode-settings-sync-help#_syncing-stable-versus-insiders)。","workbench.actions.syncData.reset":"清除云中的数据…"},"vs/workbench/contrib/userDataSync/browser/userDataSync.contribution":{"local too many requests - reload":"由于当前设备发出的请求过多，设置同步将暂时暂停。请重新加载 {0} 以恢复。","local too many requests - restart":"由于当前设备发出的请求过多，设置同步将暂时暂停。请重启 {0} 以恢复。",operationId:"操作 ID: {0}",reload:"重新加载",restart:"重启","server too many requests":"由于当前设备发出的请求过多，已禁用设置同步。请等待 10 分钟，然后打开同步。","settings sync":"设置同步。操作 ID: {0}","show sync logs":"显示日志"},"vs/workbench/contrib/userDataSync/browser/userDataSyncConflictsView":{Theirs:"他们的",Yours:"你的",explanation:"请浏览每个条目并合并以解决冲突。",localResourceName:"{0} (本地)",remoteResourceName:"{0} (远程)","workbench.actions.sync.acceptLocal":"接受本地","workbench.actions.sync.acceptRemote":"接受远程","workbench.actions.sync.openConflicts":"显示冲突"},"vs/workbench/contrib/userDataSync/browser/userDataSyncViews":{"confirm replace":"是否要用选定的内容替换当前的 {0}?",conflicts:"冲突",current:"当前","last sync states":"上次同步的远程",leftResourceName:"{0} (远程)","local sync activity title":"同步活动(本地)","no machines":"无计算机","not found":"找不到 ID 为 {0} 的计算机",placeholder:"输入计算机名称","remote sync activity title":"同步活动(远程)",remoteToLocalDiff:"{0} ↔ {1}",reset:"重置同步的数据",rightResourceName:"{0} (本地)",sideBySideLabels:"{0} ↔ {1}","sync logs":"日志","synced machines":"已同步的计算机",troubleshoot:"疑难解答","turn off":"关闭(&&T)","turn off sync on machine":"确定要对 {0} 关闭同步吗?","turn off sync on multiple machines":"是否确实要在所选计算机上禁用同步?","valid message":"计算机名称必须是唯一的且不为空","workbench.actions.sync.compareWithLocal":"与本地比较","workbench.actions.sync.editMachineName":"编辑名称","workbench.actions.sync.replaceCurrent":"还原","workbench.actions.sync.resolveResourceRef":"显示原始 JSON 同步数据","workbench.actions.sync.turnOffSyncOnMachine":"关闭设置同步"},"vs/workbench/contrib/userDataSync/electron-sandbox/userDataSync.contribution":{"Open Backup folder":"打开本地备份文件夹","no backups":"本地备份文件夹不存在"},"vs/workbench/contrib/watermark/browser/watermark":{"tips.enabled":"启用后，当没有打开编辑器时将显示水印提示。","watermark.findInFiles":"在文件中查找","watermark.newUntitledFile":"新的无标题文本文件","watermark.openFile":"打开文件","watermark.openFileFolder":"打开文件或文件夹","watermark.openFolder":"打开文件夹","watermark.openRecent":"打开最近的文件","watermark.quickAccess":"转到文件","watermark.showCommands":"显示所有命令","watermark.showSettings":"显示设置","watermark.startDebugging":"开始调试","watermark.toggleFullscreen":"切换全屏","watermark.toggleTerminal":"切换终端"},"vs/workbench/contrib/webview/browser/webview.contribution":{copy:"复制",cut:"剪切",paste:"粘贴"},"vs/workbench/contrib/webview/browser/webviewElement":{fatalErrorMessage:"加载 Web 视图时出错: {0}"},"vs/workbench/contrib/webview/electron-sandbox/webviewCommands":{iframeWebviewAlert:"使用标准开发工具调试基于 iFrame 的 Web 视图",openToolsLabel:"打开 Webview 开发人员工具"},"vs/workbench/contrib/webviewPanel/browser/webviewCommands":{"editor.action.webvieweditor.findNext":"查找下一个","editor.action.webvieweditor.findPrevious":"查找上一个","editor.action.webvieweditor.hideFind":"停止查找","editor.action.webvieweditor.showFind":"显示查找",refreshWebviewLabel:"重新加载 Web 视图"},"vs/workbench/contrib/webviewPanel/browser/webviewEditor":{"context.activeWebviewId":"当前活动的 Web 视图面板的 viewType。"},"vs/workbench/contrib/webviewPanel/browser/webviewPanel.contribution":{"webview.editor.label":"Web 视图编辑器"},"vs/workbench/contrib/welcomeDialog/browser/welcomeDialog.contribution":{"workbench.welcome.dialog":"启用后，编辑器中会显示欢迎小组件"},"vs/workbench/contrib/welcomeDialog/browser/welcomeWidget":{dialogClose:"关闭对话框"},"vs/workbench/contrib/welcomeGettingStarted/browser/featuredExtensionService":{"gettingStarted.featuredTitle":"推荐"},"vs/workbench/contrib/welcomeGettingStarted/browser/gettingStarted":{allDone:"标记为完成",checkboxTitle:"选中后，此页面将在启动时显示。",close:"隐藏",closeAriaLabel:"隐藏",footer:"{0} 收集使用情况数据。阅读我们的 {1} 并了解如何 {2}。","gettingStarted.allStepsComplete":"所有 {0} 个步骤均已完成!","gettingStarted.editingEvolved":"编辑进化","gettingStarted.keyboardTip":"提示: 使用键盘快捷方式 ","gettingStarted.someStepsComplete":"已完成 {0} 个步骤，共 {1} 个步骤",imageShowing:"显示 {0} 的图像",new:"新建",newItems:"已更新",nextOne:"下一节",noRecents:"你没有最近使用的文件夹，",openFolder:"打开文件夹",optOut:"选择退出",pickWalkthroughs:"打开演练...","privacy statement":"隐私声明",recent:"最近","show more recents":"显示所有最近使用的文件夹 {0}",showAll:"更多...",start:"启动",toStart:"以开始。",walkthroughs:"演练",welcome:"欢迎",welcomeAriaLabel:"关于编辑器快速入门的概述。","welcomePage.openFolderWithPath":"打开路径为 {1} 的文件夹 {0}","welcomePage.showOnStartup":"启动时显示欢迎页"},"vs/workbench/contrib/welcomeGettingStarted/browser/gettingStarted.contribution":{deprecationMessage:"已弃用，请使用全局 `workbench.reduceMotion`。",miWelcome:"欢迎",pickWalkthroughs:"选择要打开的演练",welcome:"欢迎","welcome.goBack":"后退","welcome.markStepComplete":"标记步骤完成","welcome.markStepInomplete":"标记步骤未完成","welcome.showAllWalkthroughs":"打开演练...","workbench.startupEditor":"在没有从上一会话中恢复出信息的情况下，控制启动时显示的编辑器。","workbench.startupEditor.newUntitledFile":"打开新的无标题文本文件(仅在打开空窗口时适用)。","workbench.startupEditor.none":"在启动时不打开编辑器。","workbench.startupEditor.readme":"当打开包含自述文件的文件夹时，请打开自述文件，否则会回退到 'welcomePage'。请注意: 仅在作为全局 配置时才遵守此操作，如果在工作区或文件夹配置中进行设置，则此将被忽略。","workbench.startupEditor.welcomePage":"打开包含帮助开始使用 VS Code 和扩展内容的欢迎页面。","workbench.startupEditor.welcomePageInEmptyWorkbench":"在打开空工作区时打开欢迎页面。","workbench.welcomePage.preferReducedMotion":"启用后，减少欢迎页中的移动。","workbench.welcomePage.walkthroughs.openOnInstall":"启用后，扩展的演练将在安装扩展时打开。",workspacePlatform:"当前工作区的平台，在远程或无服务器上下文中可能不同于 UI 的平台"},"vs/workbench/contrib/welcomeGettingStarted/browser/gettingStartedColors":{"walkthrough.stepTitle.foreground":"每个演练步骤标题的前景色","welcomePage.background":"欢迎页面的背景色。","welcomePage.progress.background":"欢迎页面进度栏的前景色。","welcomePage.progress.foreground":"欢迎页面进度栏的背景色。","welcomePage.tileBackground":"“欢迎”页面上磁贴的背景色。","welcomePage.tileBorder":"“欢迎”页面上磁贴的边框颜色。","welcomePage.tileHoverBackground":"“欢迎”页面上磁贴的悬停背景色。"},"vs/workbench/contrib/welcomeGettingStarted/browser/gettingStartedExtensionPoint":{pathDeprecated:"已弃用。请改用“图像”或“Markdown”",title:"标题",walkthroughs:"提供演练以帮助用户入门扩展。","walkthroughs.description":"演练的说明。","walkthroughs.featuredFor":"与这些 glob 模式之一匹配的演练在具有指定文件的工作区中显示为“特色”。例如，针对 TypeScript 项目的演练可能在此处指定“tsconfig.json”。","walkthroughs.icon":"演练图标的相对路径。路径相对于扩展位置。如果未指定，则图标在可用时将默认为扩展图标。","walkthroughs.id":"此演练的唯一标识符。","walkthroughs.steps":"要在此演练期间完成的步骤。","walkthroughs.steps.button.deprecated.interpolated":"已弃用。请改用说明中的 markdown 链接，例如 {0}、{1}、或 {2}","walkthroughs.steps.completionEvents":"应触发此步骤变为已勾选的事件。如果为空或未定义，则在单击任何步骤的按钮或链接时，步骤将撤销复选; 如果该步骤没有按钮或链接，则选中它时会选中。","walkthroughs.steps.completionEvents.extensionInstalled":"安装具有给定 id 的扩展时，请关闭步骤。如果已安装扩展，则步骤将以勾选状态开始。","walkthroughs.steps.completionEvents.onCommand":"在 VS Code 中的任何位置执行给定命令时，勾选步骤。","walkthroughs.steps.completionEvents.onContext":"当上下文键表达式为 true 时，勾选步骤。","walkthroughs.steps.completionEvents.onLink":"通过演练步骤打开给定链接时的签出步骤。","walkthroughs.steps.completionEvents.onSettingChanged":"在给定设置发生更改时勾选步骤","walkthroughs.steps.completionEvents.onView":"打开给定视图时选中步骤","walkthroughs.steps.completionEvents.stepSelected":"选中后立即勾选步骤。","walkthroughs.steps.description.interpolated":"步骤说明。支持 “preformatted”、__italic__和 **bold** 文本。对命令或外部链接使用 markdown 样式链接: {0}、{1} 或 {2}。在其自身行上的链接将呈现为按钮。","walkthroughs.steps.doneOn":"指示将步骤标记为已完成的信号。","walkthroughs.steps.doneOn.deprecation":"doneOn 已弃用。默认情况下，单击用户按钮时将勾选步骤，以进一步配置使用 completionEvents","walkthroughs.steps.id":"此步骤的唯一标识符。用于跟踪已完成的步骤。","walkthroughs.steps.media":"要与此步骤一起显示的媒体(图像或 Markdown 内容)。","walkthroughs.steps.media.altText":"无法加载图像时或在屏幕读取器中显示的替换文字。","walkthroughs.steps.media.image.path.dark.string":"深色主题相对于扩展目录的图像的路径。","walkthroughs.steps.media.image.path.hc.string":"hc 主题相对于扩展目录的图像的路径。","walkthroughs.steps.media.image.path.hcLight.string":"hc 浅色主题相对于扩展目录的图像的路径。","walkthroughs.steps.media.image.path.light.string":"浅色主题相对于扩展目录的图像的路径。","walkthroughs.steps.media.image.path.string":"一个图像或对象的路径，由指向光源、暗和 hc 图像的路径(相对于扩展目录)组成。根据上下文，图像将显示从 400px 到800px 宽，具有相似的高度边界。为了支持 HIDPI 显示，图像将以 1.5 倍缩放比例呈现。例如，900 物理像素宽图像将显示为 600 逻辑像素宽。","walkthroughs.steps.media.image.path.svg":"变量中支持颜色标记、svg 路径以支持与工作台匹配的主题设置。","walkthroughs.steps.media.markdown.path":"Markdown 文档的路径(相对于扩展目录)。","walkthroughs.steps.oneOn.command":"执行指定命令时将步骤标记为已完成。","walkthroughs.steps.title":"步骤标题。","walkthroughs.steps.when":"用于控制此步骤可见性的上下文键表达式。","walkthroughs.title":"演练的标题。","walkthroughs.when":"用于控制此演练的可见性的上下文键表达式。"},"vs/workbench/contrib/welcomeGettingStarted/browser/gettingStartedIcons":{gettingStartedChecked:"用于表示已完成的演练步骤",gettingStartedUnchecked:"用于表示尚未完成的演练步骤"},"vs/workbench/contrib/welcomeGettingStarted/browser/gettingStartedInput":{getStarted:"欢迎"},"vs/workbench/contrib/welcomeGettingStarted/browser/gettingStartedService":{builtin:"内置",developer:"开发人员",resetWelcomePageWalkthroughProgress:"重置欢迎页面演练进度"},"vs/workbench/contrib/welcomeGettingStarted/browser/startupPage":{"startupPage.markdownPreviewError":`无法打开 Markdown 预览: {0}。\r
\r
请确保已启用 Markdown 扩展。`,"welcome.displayName":"欢迎页面"},"vs/workbench/contrib/welcomeGettingStarted/common/gettingStartedContent":{browseLangExts:"浏览语言扩展",browsePopular:"浏览热门 Web 扩展",browseRecommended:"浏览推荐的扩展",cloneRepo:"克隆仓库",commandPalette:"打开命令面板",enableSync:"启用设置同步",enableTrust:"启用信任","getting-started-beginner-icon":"用于欢迎页面初学者类别的图标","getting-started-intermediate-icon":"用于欢迎页面中级类别的图标","getting-started-setup-icon":"用于欢迎页面的设置类别的图标","gettingStarted.beginner.description":"直接跳转到 VS Code 并概要了解必备功能。","gettingStarted.beginner.title":"了解基础知识","gettingStarted.commandPalette.description.interpolated":`命令是在 VS Code 中完成任务的键盘方式。查找常用命令以进行 **练习**，从而节省时间。\r
{0}\r
__尝试搜索‘视图切换’。__`,"gettingStarted.commandPalette.title":"访问所有内容只需一个快捷方式","gettingStarted.debug.description.interpolated":`通过设置启动配置来加速编辑、生成、测试和调试循环。\r
{0}`,"gettingStarted.debug.title":"在操作中查看代码","gettingStarted.extensions.description.interpolated":`扩展是 VS Code 的精华。扩展范围包括方便地提升生产力、扩展现成的功能以及添加全新的功能。\r
{0}`,"gettingStarted.extensions.title":"无限扩展性","gettingStarted.extensionsWeb.description.interpolated":`扩展是 VS Code 的增强功能。越来越多的扩展可在 Web 上使用。\r
{0}`,"gettingStarted.findLanguageExts.description.interpolated":`语法突出显示、代码完成、lint 分析和调试让代码更加智能。虽然已内置多种语言，但可将更多语言添加为扩展。\r
{0}`,"gettingStarted.findLanguageExts.title":"对所有语言的丰富支持","gettingStarted.installGit.description.interpolated":`安装 Git 以跟踪项目中的更改。\r
{0}\r
安装后 {1}重新加载窗口{2} 以完成 Git 安装。`,"gettingStarted.installGit.title":"安装 Git","gettingStarted.intermediate.description":"使用这些提示和技巧优化开发工作流。","gettingStarted.intermediate.title":"提高工作效率","gettingStarted.menuBar.description.interpolated":`下拉菜单中提供了完整的菜单栏，可为代码腾出空间。切换其外观以加快访问速度。\r
{0}`,"gettingStarted.menuBar.title":"恰好数量的 UI","gettingStarted.newFile.description":"打开新的无标题文本文件、笔记本或自定义编辑器。","gettingStarted.newFile.title":"新建文件...","gettingStarted.notebook.title":"自定义笔记","gettingStarted.notebookProfile.description":"获取笔记，以你喜欢的方式体验","gettingStarted.notebookProfile.title":"选择笔记的布局","gettingStarted.openFile.description":"打开文件以开始工作","gettingStarted.openFile.title":"打开文件...","gettingStarted.openFolder.description":"打开文件夹开始工作","gettingStarted.openFolder.title":"打开文件夹...","gettingStarted.openMac.description":"打开文件或文件夹以开始工作","gettingStarted.openMac.title":"打开...","gettingStarted.pickColor.description.interpolated":`正确的调色板可帮助你专注于代码、更易于识别，并且使用起来更具趣味性。\r
{0}`,"gettingStarted.pickColor.title":"选择想要的外观","gettingStarted.playground.description.interpolated":`想要更快、更智能地编写代码? 请在交互式操场中练习功能强大的代码编辑功能。\r
{0}`,"gettingStarted.playground.title":"重新定义编辑技能","gettingStarted.profiles.description.interpolated":`借助配置文件，可以创建一组 VS Code 自定义项，其中包括设置、扩展和 UI 状态。从头开始创建自己的配置文件，或使用特定工作流的预定义配置文件模板集。\r
{0}`,"gettingStarted.profiles.title":"使用配置文件自定义 VS Code","gettingStarted.quickOpen.description.interpolated":`击键一下即可迅速在文件之间导航。提示: 通过按右箭头键打开多个文件。\r
{0}`,"gettingStarted.quickOpen.title":"在文件之间快速导航","gettingStarted.scm.description.interpolated":`不再查找 Git 命令! Git 和 GitHub 工作流已无缝集成。\r
{0}`,"gettingStarted.scm.title":"使用 Git 跟踪代码","gettingStarted.scmClone.description.interpolated":`为项目设置内置版本控制，以跟踪更改并与他人协作。\r
{0}`,"gettingStarted.scmSetup.description.interpolated":`为项目设置内置版本控制，以跟踪更改并与他人协作。\r
{0}`,"gettingStarted.settings.description.interpolated":`根据你的喜好调整 VS Code 和扩展的各个方面。首先会列出常用设置便于你开始使用。\r
{0}`,"gettingStarted.settings.title":"优化设置","gettingStarted.settingsSync.description.interpolated":`保持跨所有设备备份和更新基本的 VS Code 自定义。\r
{0}`,"gettingStarted.settingsSync.title":"同步到其他设备或从其他设备同步","gettingStarted.setup.OpenFolder.description.interpolated":`你已准备好开始编码。请打开项目文件夹，将文件放入VS Code。\r
{0}`,"gettingStarted.setup.OpenFolder.title":"打开你的代码","gettingStarted.setup.OpenFolderWeb.description.interpolated":`你已准备好开始编码。可以打开本地项目或远程仓库，以将文件置于 VS Code。\r
{0}\r
{1}`,"gettingStarted.setup.description":"发现最佳的自定义方法，使用你的专属 VS Code。","gettingStarted.setup.title":"开始使用 VS Code","gettingStarted.setupWeb.description":"发现最佳的自定义方法，以将面向 Web 的 VS Code 成为你的专属。","gettingStarted.setupWeb.title":"面向 Web 的 VS Code 入门","gettingStarted.shortcuts.description.interpolated":`发现喜欢的命令后，创建自定义键盘快捷方式以进行即时访问。\r
{0}`,"gettingStarted.shortcuts.title":"自定义快捷方式","gettingStarted.splitview.description.interpolated":`通过以并排、垂直和水平方式打开文件，充分利用屏幕空间。\r
{0}`,"gettingStarted.splitview.title":"并行编辑","gettingStarted.tasks.description.interpolated":`为常见工作流创建任务，并享受运行脚本和自动检查结果的集成体验。\r
{0}`,"gettingStarted.tasks.title":"自动执行项目任务","gettingStarted.terminal.description.interpolated":`在代码近旁快速运行 shell 命令并监视生成输出。\r
{0}`,"gettingStarted.terminal.title":"便利的内置终端","gettingStarted.topLevelGitClone.description":"将远程仓库克隆到本地文件夹","gettingStarted.topLevelGitClone.title":"克隆 Git 仓库...","gettingStarted.topLevelGitOpen.description":"连接到远程仓库或拉取请求，以进行浏览、搜索、编辑和提交","gettingStarted.topLevelGitOpen.title":"打开仓库...","gettingStarted.topLevelOpenTunnel.description":"通过 Tunnel 连接到远程计算机","gettingStarted.topLevelOpenTunnel.title":"打开隧道...","gettingStarted.topLevelRemoteOpen.description":"连接到远程开发工作区。","gettingStarted.topLevelRemoteOpen.title":"连接到...","gettingStarted.topLevelShowWalkthroughs.description":"查看编辑器或扩展的演练","gettingStarted.topLevelShowWalkthroughs.title":"打开演练...","gettingStarted.videoTutorial.description.interpolated":`请观看系列简短实用视频教程中的第一课，了解 VS Code 的主要功能。\r
{0}`,"gettingStarted.videoTutorial.title":"充电学习","gettingStarted.workspaceTrust.description.interpolated":`通过 {0}，可以确定项目文件夹是否应 **允许或限制** 自动代码执行 __(扩展、调试等所必需)__。\r
 打开文件/文件夹将提示授予信任。以后始终可以 {1}。`,"gettingStarted.workspaceTrust.title":"安全浏览和编辑代码",initRepo:"初始化 Git 仓库",installGit:"安装 Git",keyboardShortcuts:"键盘快捷方式",openEditorPlayground:"打开编辑器操场",openFolder:"打开文件夹",openRepository:"打开仓库",openSCM:"开放源代码管理",pickFolder:"选取文件夹",quickOpen:"快速打开一个文件",runProject:"运行项目",runTasks:"运行自动检测到的任务",showTerminal:"显示终端面板",splitEditor:"拆分编辑器",titleID:"浏览颜色主题",toggleMenuBar:"切换菜单栏",tryProfiles:"试用配置文件",tweakSettings:"调整我的设置",watch:"观看教程",workspaceTrust:"工作区信任"},"vs/workbench/contrib/welcomeGettingStarted/common/media/notebookProfile":{colab:"Colab",default:"默认",jupyter:"Jupyter"},"vs/workbench/contrib/welcomeGettingStarted/common/media/theme_picker":{HighContrast:"深色高对比度",HighContrastLight:"浅色高对比度",dark:"现代深色",light:"现代浅色",seeMore:"查看更多主题..."},"vs/workbench/contrib/welcomeOverlay/browser/welcomeOverlay":{hideWelcomeOverlay:"隐藏界面概述",welcomeOverlay:"用户界面概览","welcomeOverlay.commandPalette":"查找并运行所有命令","welcomeOverlay.debug":"启动和调试","welcomeOverlay.explorer":"文件资源管理器","welcomeOverlay.extensions":"管理扩展","welcomeOverlay.git":"源代码管理","welcomeOverlay.notifications":"显示通知","welcomeOverlay.problems":"查看错误和警告","welcomeOverlay.search":"跨文件搜索","welcomeOverlay.terminal":"切换集成终端",welcomeOverlayBackground:"welcomeOverlay 背景色。"},"vs/workbench/contrib/welcomeViews/common/newFile.contribution":{"Built-In":"内置",Create:"创建","change keybinding":"配置键绑定",file:"文件",miNewFile2:"文本文件",miNewFileWithName:"新建文件({0})",newFilePlaceholder:"选择文件类型或输入文件名...",newFileTitle:"新建文件...",notebook:"笔记本","welcome.newFile":"新建文件..."},"vs/workbench/contrib/welcomeViews/common/viewsWelcomeContribution":{"ViewsWelcomeExtensionPoint.proposedAPI":"“{0}”中的 viewsWelcome 贡献需要 “enabledApiProposals: [“contribViewsWelcome”]”才能使用“组”建议的属性。"},"vs/workbench/contrib/welcomeViews/common/viewsWelcomeExtensionPoint":{"contributes.viewsWelcome":"提供视图欢迎内容。只要没有有意义的内容可显示，就会在基于树的视图中呈现欢迎内容，例如未打开文件夹时的文件资源管理器。此类内容作为产品内文档非常有用，可促使用户在某些功能可用之前使用它们。文件资源管理器欢迎视图中的“克隆仓库”按钮就是一个很好的示例。","contributes.viewsWelcome.view":"为特定视图提供的欢迎页面内容。","contributes.viewsWelcome.view.contents":"要显示的欢迎内容。内容的格式是 Markdown 的子集，仅支持链接。","contributes.viewsWelcome.view.enablement":"启用欢迎内容按钮和命令链接的条件。","contributes.viewsWelcome.view.group":"此欢迎内容所属的组。建议的 API。","contributes.viewsWelcome.view.view":"此欢迎内容的目标视图标识符。仅支持基于树的视图。","contributes.viewsWelcome.view.when":"显示欢迎内容的条件。"},"vs/workbench/contrib/welcomeWalkthrough/browser/editor/editorWalkThrough":{editorWalkThrough:"交互式编辑器操场","editorWalkThrough.title":"编辑器操场"},"vs/workbench/contrib/welcomeWalkthrough/browser/walkThrough.contribution":{miPlayground:"编辑器操场(&&N)","walkThrough.editor.label":"操场"},"vs/workbench/contrib/welcomeWalkthrough/browser/walkThroughPart":{"walkThrough.gitNotFound":"你的系统上似乎未安装 Git。","walkThrough.unboundCommand":"未绑定"},"vs/workbench/contrib/welcomeWalkthrough/common/walkThroughUtils":{"walkThrough.embeddedEditorBackground":"嵌入于交互式演练场中的编辑器的背景颜色。"},"vs/workbench/contrib/workspace/browser/workspace.contribution":{addWorkspaceFolderDetail:"你正在将文件添加到受信任的工作区，该工作区当前不受信任。是否信任这些新文件的作者?",addWorkspaceFolderMessage:"是否信任此文件夹中的文件的作者?",cancelWorkspaceTrustButton:"取消",checkboxString:"信任父文件夹“{0}”中所有文件的作者",configureWorkspaceTrustSettings:"配置工作区信任设置",dontTrustFolderOptionDescription:"在受限模式下浏览文件夹",dontTrustOption:"否，我不信任此作者(&&N)",dontTrustWorkspaceOptionDescription:"在受限模式下浏览工作区",folderStartupTrustDetails:"{0} 提供可以自动在此文件夹中执行文件的功能。",folderTrust:"是否信任此文件夹中的文件的作者?",grantFolderTrustButton:"信任文件夹并继续(&&T)",grantWorkspaceTrustButton:"信任工作区并继续(&&T)",immediateTrustRequestLearnMore:"如果不信任这些文件的作者，则建议不要继续，因为这些文件可能是恶意文件。请参阅[我们的文档](https://aka.ms/vscode-workspace-trust)，了解详细信息。",immediateTrustRequestMessage:"如果不信任当前打开的文件或文件夹的源，则尝试使用的功能可能会带来安全风险。",manageWorkspaceTrust:"管理工作区信任",manageWorkspaceTrustButton:"管理(&&M)",newWindow:"在受限模式中打开(&&R)",no:"否",open:"打开(&&O)",openLooseFileLearnMore:"如果不想打开不受信任的文件，则建议在新窗口中通过受限模式打开它们，因为这些文件可能是恶意文件。请参阅[我们的文档](https://aka.ms/vscode-workspace-trust)，了解详细信息。",openLooseFileWindowDetails:"你尝试在受信任的窗口中打开不受信任的文件。",openLooseFileWindowMesssage:"是否要在此窗口中允许不受信任的文件?",openLooseFileWorkspaceCheckbox:"记住我对所有工作区的决定",openLooseFileWorkspaceDetails:"你尝试在受信任的工作区中打开不受信任的文件。",openLooseFileWorkspaceMesssage:"是否要允许此工作区中不受信任的文件?",restrictedModeBannerAriaLabelFolder:"受限模式旨在实现安全地浏览代码。信任此文件夹以启用所有功能。使用导航键访问横幅操作。",restrictedModeBannerAriaLabelWindow:"受限模式旨在实现安全地浏览代码。信任此窗口以启用所有功能。使用导航键访问横幅操作。",restrictedModeBannerAriaLabelWorkspace:"受限模式旨在实现安全地浏览代码。信任此工作区以启用所有功能。使用导航键访问横幅操作。",restrictedModeBannerLearnMore:"了解详细信息",restrictedModeBannerManage:"管理",restrictedModeBannerMessageFolder:"受限模式旨在实现安全地浏览代码。信任此文件夹以启用所有功能。",restrictedModeBannerMessageWindow:"受限模式旨在实现安全地浏览代码。信任此窗口以启用所有功能。",restrictedModeBannerMessageWorkspace:"受限模式旨在实现安全地浏览代码。信任此工作区以启用所有功能。",startupTrustRequestLearnMore:"如果不信任这些文件的作者，则建议继续使用限制模式，因为这些文件可能是恶意文件。请参阅[我们的文档](https://aka.ms/vscode-workspace-trust)，了解详细信息。","status.WorkspaceTrust":"工作区信任","status.ariaTrustedFolder":"此文件夹受信任。","status.ariaTrustedWindow":"此窗口受信任。","status.ariaTrustedWorkspace":"此工作区受信任。","status.ariaUntrustedFolder":"限制模式: 某些功能已禁用，因为此文件夹不受信任。","status.ariaUntrustedWindow":"限制模式: 某些功能已禁用，因为此窗口不受信任。","status.ariaUntrustedWorkspace":"限制模式: 某些功能已禁用，因为此工作区不受信任。","status.tooltipUntrustedFolder2":`在受限模式下运行\r
\r
某些[功能被禁用]({0})，因为此[文件夹不受信任]({1})。`,"status.tooltipUntrustedWindow2":`在受限模式下运行\r
\r
某些[功能被禁用]({0})，因为此[窗口不受信任]({1})。`,"status.tooltipUntrustedWorkspace2":`在受限模式下运行\r
\r
某些[功能被禁用]({0})，因为此[工作区不受信任]({1})。`,trustFolderOptionDescription:"信任文件夹并启用所有功能",trustOption:"是，我信任此作者(&&Y)",trustWorkspaceOptionDescription:"信任工作区并启用所有功能","workspace.trust.banner.always":"每次打开不受信任的工作区时显示横幅。","workspace.trust.banner.description":"控制何时显示受限模式横幅。","workspace.trust.banner.never":"打开不受信任的工作区时，不要显示横幅。","workspace.trust.banner.untilDismissed":"打开不受信任的工作区时显示横幅，直到关闭为止。","workspace.trust.description":"控制是否在 VS Code 内启用工作区信任。","workspace.trust.emptyWindow.description":"控制空窗口在 VS Code 中是否默认受信任。当与 `#{0}#` 一起使用时，可以启用 VS Code 的完整功能，而无需在空窗口中进行提示。","workspace.trust.startupPrompt.always":"每次打开不受信任的工作区时请求信任。","workspace.trust.startupPrompt.description":"控制何时显示信任工作区的启动提示。","workspace.trust.startupPrompt.never":"每次打开不受信任的工作区时不请求信任。","workspace.trust.startupPrompt.once":"首次打开不受信任的工作区时请求信任。","workspace.trust.untrustedFiles.description":'控制如何处理在受信任的工作区中打开不受信任的文件。此设置也适用于通过 `#{0}#" 打开的空窗口中的文件。',"workspace.trust.untrustedFiles.newWindow":"在受限模式下的独立窗口中始终打开不受信任的文件，而不显示提示。","workspace.trust.untrustedFiles.open":"始终允许不受信任的文件引入受信任的工作区，而不显示提示。","workspace.trust.untrustedFiles.prompt":"询问每个工作区如何处理不受信任文件。将不受信任的文件引入受信任的工作区后，将不会再次提示你。",workspaceStartupTrustDetails:"{0} 提供可以自动在此工作区中执行文件的功能。",workspaceTrust:"是否信任此工作区中的文件的作者?",workspaceTrustEditor:"工作区信任编辑器",workspacesCategory:"工作区"},"vs/workbench/contrib/workspace/browser/workspaceTrustEditor":{addButton:"添加文件夹",checkListIcon:"适用于工作区信任编辑器中复选标记的图标。",deleteTrustedUri:"删除路径",dontTrustButton:"不信任",editIcon:"适用于工作区信任编辑器中编辑文件夹图标的图标。",editTrustedUri:"编辑路径",folderPickerIcon:"适用于工作区信任编辑器中选取文件夹图标的图标。",hostColumnLabel:"主机",invalidTrust:"不能信任仓库中的单个文件夹。",keyboardShortcut:"键盘快捷方式: {0}",localAuthority:"本地","no untrustedSettings":"未应用需要信任的工作区设置",noTrustedFoldersDescriptions:"尚未信任任何文件夹或工作区文件。",pathColumnLabel:"路径",pickerTrustedUri:"打开“文件选取器”",removeIcon:"适用于工作区信任编辑器中删除文件夹图标的图标。","root element label":"管理工作区信任",selectTrustedUri:"选择要信任的文件夹",shieldIcon:"适用于横幅上工作区信任图标的图标。",trustAll:"你将信任 {0} 上的所有存储库。",trustButton:"信任",trustMessage:"信任当前文件夹或其父级“{0}”中所有文件的作者。",trustOrg:"你将信任 {1} 上“{0}”下的所有存储库和分支。",trustParentButton:"信任父级",trustUri:"信任文件夹",trustedDebugging:"已启用调试",trustedDescription:"已启用所有功能，因为已向工作区授予信任。",trustedExtensions:"已激活所有已启用的扩展",trustedFolder:"在受信任的文件夹中",trustedFolderAriaLabel:"{0}，受信任",trustedFolderSubtitle:"你信任当前文件夹中文件的作者。已启用全部功能:",trustedFolderWithHostAriaLabel:"{1} 上的 {0}，受信任",trustedFoldersAndWorkspaces:"受信任的文件夹和工作区",trustedFoldersDescription:"你信任以下文件夹、其子文件夹和工作区文件。",trustedForcedReason:"此窗口因已打开工作区的性质而获得信任。",trustedHeaderFolder:"你信任此文件夹",trustedHeaderWindow:"你信任此窗口",trustedHeaderWorkspace:"你信任此工作区",trustedSettings:"已应用所有工作区设置",trustedTasks:"允许运行任务",trustedUnsettableWindow:"此窗口受信任。",trustedWindow:"在受信任的窗口中",trustedWindowSubtitle:"你信任当前窗口中文件的作者。已启用所有功能:",trustedWorkspace:"在受信任的工作区中",trustedWorkspaceSubtitle:"你信任当前工作区中文件的作者。已启用所有功能:",untrustedDebugging:"已禁用调试。",untrustedDescription:"{0} 处于用于安全代码浏览的受限模式。",untrustedExtensions:"[{0} 扩展]({1})已禁用或功能受限",untrustedFolderReason:"此文件夹通过以下可信文件夹中的加粗条目得到信任。",untrustedFolderSubtitle:"你不信任当前文件夹中文件的作者。已禁用以下功能:",untrustedHeader:"你处于限制模式下",untrustedSettings:"未应用[{0} 工作区设置]({1})",untrustedTasks:"不允许运行任务",untrustedWindowSubtitle:"你不信任当前窗口中文件的作者。已禁用以下功能:",untrustedWorkspace:"在受限模式下",untrustedWorkspaceReason:"此工作区通过以下受信任文件夹中的加粗条目得到信任。",untrustedWorkspaceSubtitle:"你不信任当前工作区中文件的作者。已禁用以下功能:",workspaceTrustEditorHeaderActions:"[配置设置]({0}) 或 [了解详细信息](https://aka.ms/vscode-workspace-trust)。",xListIcon:"工作区信任编辑器中十字形的图标。"},"vs/workbench/contrib/workspace/common/workspace":{workspaceTrustEnabledCtx:"是否已启用工作区信任功能。",workspaceTrustedCtx:"用户是否已信任当前工作区。"},"vs/workbench/contrib/workspaces/browser/workspaces.contribution":{alreadyOpen:"此工作区已打开。",openWorkspace:"打开工作区",selectToOpen:"选择要打开的工作区",selectWorkspace:"选择工作区",workspaceFound:"此文件夹包含工作区文件“{0}”，是否打开? [了解更多]({1})有关工作区文件的详细信息。",workspacesFound:"此文件夹包含多个工作区文件，是否打开? [了解更多]({0})有关工作区文件的详细信息。"},"vs/workbench/services/actions/common/menusExtensionPoint":{"comment.actions":"贡献的注释上下文菜单，呈现为注释编辑器下方的按钮","comment.commentContext":"提供的注释上下文菜单，在注释线程速览视图中呈现为单个注释上的右键单击菜单。","comment.title":"贡献的注释标题菜单","commentThread.actions":"贡献的注释线程上下文菜单，呈现为注释编辑器下方的按钮","commentThread.editorActions":"贡献的注释编辑器操作","commentThread.title":"贡献的注释线程标题菜单","commentThread.titleContext":"提供的注释线程标题的速览上下文菜单，在注释线程的速览标题上呈现为右键单击菜单。",dup0:"已注册命令 `{0}`",dup1:"{1} 已注册命令 `{0}` ({2})","dupe.command":"菜单项引用的命令中默认和替代命令相同",editorLineNumberContext:"贡献的编辑器行号上下文菜单","file.newFile":"“新建文件...”快速选取，显示在欢迎页面和文件菜单上。","inlineCompletions.actions":"悬停在内联完成项上时显示的操作","interactive.cell.title":"贡献的交互式单元格标题菜单","interactive.toolbar":"贡献的交互式工具栏菜单","menus.changeTitle":"源代码管理内联更改菜单","menus.commandPalette":"命令面板","menus.debugCallstackContext":"调试调用堆栈视图上下文菜单","menus.debugToolBar":"调试工具栏菜单","menus.debugVariablesContext":"调试变量视图上下文菜单","menus.editorContext":"编辑器上下文菜单","menus.editorContextCopyAs":"编辑器上下文菜单中的“复制为”子菜单","menus.editorContextShare":"编辑器上下文菜单中的“共享”子菜单","menus.editorTabContext":"编辑器选项卡上下文菜单","menus.editorTitle":"编辑器标题菜单","menus.editorTitleContextShare":"编辑器标题上下文菜单内的“共享”子菜单","menus.editorTitleRun":"在编辑器标题菜单内运行子菜单","menus.explorerContext":"文件资源管理器上下文菜单","menus.explorerContextShare":"文件资源管理器上下文菜单中的“共享”子菜单","menus.extensionContext":"扩展上下文菜单","menus.home":"主指示器上下文菜单(仅限 Web)","menus.mergeEditorResult":"合并编辑器的结果工具栏","menus.opy":"顶层“编辑”菜单中的“复制为”子菜单","menus.resourceFolderContext":"源代码管理资源文件夹上下文菜单","menus.resourceGroupContext":"源代码管理资源组上下文菜单","menus.resourceStateContext":"源代码管理资源状态上下文菜单","menus.scmSourceControl":"源代码管理菜单","menus.scmTitle":"源代码管理标题菜单","menus.share":"共享顶级“文件”菜单中显示的子菜单。","menus.statusBarRemoteIndicator":"状态栏中的远程指示器菜单","menus.touchBar":"触控栏 (仅 macOS)","merge.toolbar":"编辑器中的突出按钮覆盖其内容","missing.altCommand":"菜单项引用了未在 'commands' 部分定义的替代命令“{0}”。","missing.command":"菜单项引用未在“命令”部分进行定义的命令“{0}”。","missing.submenu":"菜单项引用了未在“子菜单”部分定义的子菜单“{0}”。",nonempty:"应为非空值。","notebook.cell.execute":"贡献的笔记本单元格执行菜单","notebook.cell.title":"贡献的笔记本单元格标题菜单","notebook.kernelSource":"贡献的笔记本内核源菜单","notebook.toolbar":"贡献的笔记本工具栏菜单",opticon:"可以省略属性 `icon`，若不省略则必须是字符串或文字，例如 `{dark, light}`",optstring:"属性“{0}”可以省略，或者必须为 `string` 类型",proposed:"建议的 API 需要 `enabledApiProposal: [“{0}”]` - {1}","proposedAPI.invalid":"{0} 是建议的菜单标识符。它需要 “package.json#enabledApiProposals: [“{1}”]”，并且仅在开发用完或使用以下命令行开关时可用: --enable-proposed-api {2}",require:"子菜单项必须是对象",requireStringOrObject:"属性“{0}”是必要属性，其类型必须是 `string` 或 `object`",requirearray:"子菜单项必须是数组",requirestring:"属性“{0}”是必需项，并且必须为 `string` 类型",requirestrings:"属性“{0}”和“{1}”是必要属性，其类型必须是 `{dark, light}`","submenuId.duplicate.id":"以前已注册 `{0}` 子菜单。","submenuId.invalid.id":"“{0}”不是有效的子菜单标识符","submenuId.invalid.label":"“{0}”不是有效的子菜单标签","submenuItem.duplicate":"`{0}` 子菜单已提供给 `{1}` 菜单。","testing.item.context":"提供的测试项菜单","testing.item.gutter.title":"测试项的装订线装饰菜单","unsupported.submenureference":"菜单项引用了不具有子菜单支持的菜单的子菜单。","view.itemContext":"提供的视图中的项目的上下文菜单","view.timelineContext":"时间线视图项上下文菜单","view.timelineTitle":"时间线视图标题菜单","view.tunnelContext":"“端口”视图项目上下文菜单","view.tunnelOriginInline":"“端口”视图项源内联菜单","view.tunnelPortInline":"端口视图项端口内联菜单","view.viewTitle":"提供的视图的标题菜单","vscode.extension.contributes.commandType.category":"(可选)类别字符串，命令在界面中根据此项分组","vscode.extension.contributes.commandType.command":"要执行的命令的标识符","vscode.extension.contributes.commandType.icon":"(可选)用于表示 UI 中的命令的图标。文件路径、具有深色和浅色主题的文件路径的对象，或者主题图标引用(如 `\\$(zap)`)","vscode.extension.contributes.commandType.icon.dark":"使用深色主题时的图标路径","vscode.extension.contributes.commandType.icon.light":"使用浅色主题时的图标路径","vscode.extension.contributes.commandType.precondition":"(可选)必须为 true 才能启用 UI (菜单和键绑定)中命令的条件。不会阻止通过其他方式执行命令，例如 `executeCommand`-api。","vscode.extension.contributes.commandType.shortTitle":"(可选)简短标题，在 UI 中表示该命令。菜单将根据显示命令的上下文选取“标题”或“简短标题”。","vscode.extension.contributes.commandType.title":"在 UI 中依据其表示命令的标题","vscode.extension.contributes.commands":"对命令面板提供命令。","vscode.extension.contributes.menuItem.alt":"要执行的替代命令的标识符。该命令必须在 'commands' 部分中声明","vscode.extension.contributes.menuItem.command":"要执行的命令的标识符。该命令必须在“命令”部分中声明","vscode.extension.contributes.menuItem.group":"此项所属的组","vscode.extension.contributes.menuItem.submenu":"要在此项中显示的子菜单的标识符。","vscode.extension.contributes.menuItem.when":"此条件必须为 true 才能显示此项","vscode.extension.contributes.menus":"向编辑器提供菜单项","vscode.extension.contributes.submenu.icon":"(可选)用于表示 UI 中的子菜单的图标。文件路径、具有深色和浅色主题的文件路径的对象，或者主题图标引用(如 `\\$(zap)`)","vscode.extension.contributes.submenu.icon.dark":"使用深色主题时的图标路径","vscode.extension.contributes.submenu.icon.light":"使用浅色主题时的图标路径","vscode.extension.contributes.submenu.id":"要显示为子菜单的菜单的标识符。","vscode.extension.contributes.submenu.label":"指向此子菜单的菜单项的标签。","vscode.extension.contributes.submenus":"将子菜单项分配到编辑器","webview.context":"Webview 上下文菜单"},"vs/workbench/services/assignment/common/assignmentService":{"workbench.enableExperiments":"从 Microsoft 联机服务中获取要进行的实验。"},"vs/workbench/services/authentication/browser/authenticationService":{accessRequest:"授予“{0}”访问“{1}”的权限... (1)",allow:"允许(&&A)","authentication.Placeholder":"尚未请求任何帐户...","authentication.id":"身份验证提供程序的 ID。","authentication.idConflict":"已注册此身份验证 ID“{0}”","authentication.label":"身份验证提供程序的易读名称。","authentication.missingId":"提供身份验证必须指定一个 ID。","authentication.missingLabel":"提供身份验证必须指定一个标签。",authenticationExtensionPoint:"添加身份验证",confirmAuthenticationAccess:"扩展“{0}”正在尝试访问 {1} 帐户“{2}”的身份验证信息。",deny:"拒绝(&&D)",getSessionPlateholder:"选择一个供“{0}”使用的帐户或按 Esc 取消",loading:"正在加载…",selectAccount:"扩展“{0}”要访问 {1} 帐户","sign in":"已请求登录",signInRequest:"使用 {0} 登录以使用 {1} (1)",useOtherAccount:"登录到其他帐户"},"vs/workbench/services/clipboard/browser/clipboardService":{clipboardError:"无法从浏览器的剪贴板中读取。请确保你已授予此网站从剪贴板中读取的访问权限。",learnMore:"了解详细信息",retry:"重试"},"vs/workbench/services/configuration/browser/configurationService":{"configurationDefaults.description":"为配置提供默认值",experimental:"试验","setting description":"配置要应用于所有配置文件的设置。"},"vs/workbench/services/configuration/common/configurationEditing":{errorConfigurationFileDirty:"由于该文件具有未保存的更改，因此无法写入到用户设置。请先保存该用户设置文件，然后重试。",errorConfigurationFileDirtyFolder:"由于该文件具有未保存的更改，因此无法写入到文件夹设置。请先保存该 '{0}' 文件夹设置文件，然后重试。",errorConfigurationFileDirtyWorkspace:"由于该文件具有未保存的更改，因此无法写入到工作区设置。请先保存该工作区设置文件，然后重试。",errorConfigurationFileModifiedSince:"无法写入用户设置，因为文件的内容较新。",errorConfigurationFileModifiedSinceFolder:"无法写入文件夹设置，因为文件的内容较新。",errorConfigurationFileModifiedSinceWorkspace:"无法写入工作区设置，因为文件的内容较新。",errorInvalidConfiguration:"无法写入用户设置。请打开用户设置并清除错误或警告，然后重试。",errorInvalidConfigurationFolder:"无法写入文件夹设置。请打开“{0}”文件夹设置并清除错误或警告，然后重试。",errorInvalidConfigurationWorkspace:"无法写入工作区设置。请打开工作区设置并清除错误或警告，然后重试。",errorInvalidFolderConfiguration:'{0} 不支持文件夹资源域，因此无法写入"文件夹设置"。',errorInvalidFolderTarget:'未提供资源，因此无法写入"文件夹设置"。',errorInvalidLaunchConfiguration:"无法写入启动配置文件。请打开文件并更正错误或警告，然后重试。",errorInvalidRemoteConfiguration:"无法写入远程用户设置。请打开远程用户设置以更正其中的错误警告, 然后重试。",errorInvalidResourceLanguageConfiguration:"无法写入语言设置，因为{0}不是资源语言设置。",errorInvalidTaskConfiguration:"无法写入任务配置文件。请打开文件并更正错误或警告，然后重试。",errorInvalidUserTarget:'{0} 不支持全局域，因此无法写入"用户设置"。',errorInvalidWorkspaceConfigurationApplication:"无法将 {0} 写入“工作区设置”。此设置只能写于“用户设置”。",errorInvalidWorkspaceConfigurationMachine:"无法将 {0} 写入“工作区设置”。此设置只能写于“用户设置”。",errorInvalidWorkspaceTarget:"{0} 不在多文件夹工作区环境下支持工作区作用域，因此无法写入“工作区设置”。",errorLaunchConfigurationFileDirty:"由于该文件具有未保存的更改，因此无法写入到启动配置文件。请先将其保存，然后重试。",errorLaunchConfigurationFileModifiedSince:"无法写入启动配置文件，因为文件的内容较新。",errorNoWorkspaceOpened:"没有打开任何工作区，因此无法写入 {0}。请先打开一个工作区，然后重试。",errorPolicyConfiguration:"无法写入 {0}，因为它是在系统策略中配置的。",errorRemoteConfigurationFileDirty:"由于该文件具有未保存的更改，因此无法写入到远程用户设置。请先保存该远程用户设置文件，然后重试。",errorRemoteConfigurationFileModifiedSince:"无法写入远程用户设置，因为文件的内容较新。",errorTasksConfigurationFileDirty:"由于该文件具有未保存的更改，因此无法写入到任务配置文件。请先将其保存，然后重试。",errorTasksConfigurationFileModifiedSince:"无法写入任务配置文件，因为文件的内容较新。",errorUnknown:"由于内部错误，无法写入 {0}。",errorUnknownKey:"没有注册配置 {1}，因此无法写入 {0}。",folderTarget:"文件夹设置",fsError:"写入 {0} 时出错。{1}",open:"打开设置",openLaunchConfiguration:"打开启动配置",openTasksConfiguration:"打开任务配置",remoteUserTarget:"远程用户设置",saveAndRetry:"保存并重试",userTarget:"用户设置",workspaceTarget:"工作区设置"},"vs/workbench/services/configuration/common/jsonEditingService":{errorInvalidFile:"无法写入文件。请打开文件以更正错误或警告，然后重试。"},"vs/workbench/services/configurationResolver/browser/baseConfigurationResolverService":{"commandVariable.noStringType":"无法替换命令变量“{0}”，因为命令没有返回字符串类型的结果。","inputVariable.command.noStringType":"无法替换输入变量“{0}”，因为命令“{1}”没有返回类型字符串的结果。","inputVariable.defaultInputValue":"(默认值)","inputVariable.missingAttribute":"输入变量“{0}”的类型为“{1}”且必须包含“{2}”。","inputVariable.noInputSection":"必须在调试或任务配置的“{1}”部分中定义变量“{0}”。","inputVariable.undefinedVariable":"遇到未定义的输入变量“{0}”。请删除或定义“{0}”以继续操作。","inputVariable.unknownType":"输入变量“{0}”只能是 'promptString'、'pickString' 或 'command' 类型。"},"vs/workbench/services/configurationResolver/common/configurationResolverSchema":{"JsonSchema.input.command.args":"传递给命令的可选参数。","JsonSchema.input.command.command":"要为此输入变量执行的命令。","JsonSchema.input.default":"输入的默认值。","JsonSchema.input.description":"当提示用户输入时，将显示说明。","JsonSchema.input.id":"输入的 ID 用于与其变量采用 ${input:id} 形式的输入相关联。","JsonSchema.input.options":"用于定义快速选择选项的字符串数组。","JsonSchema.input.password":"控制是否显示密码输入。密码输入会隐藏键入的文本。","JsonSchema.input.pickString.optionLabel":"选项的标签。","JsonSchema.input.pickString.optionValue":"选项的值。","JsonSchema.input.type":"要使用的用户输入提示符的类型。","JsonSchema.input.type.command":'"command" 类型会执行命令。',"JsonSchema.input.type.pickString":"“pickString”类型显示一个选择列表。","JsonSchema.input.type.promptString":'"promptString" 类型会打开一个输入框，要求用户输入内容。',"JsonSchema.inputs":"用户输入。用于定义用户输入提示，例如自由字符串输入或从多个选项中进行选择。"},"vs/workbench/services/configurationResolver/common/configurationResolverUtils":{deprecatedVariables:"“env.”、“config.”和“command.”已弃用，请改用“env:”、“config:”和“command:”。"},"vs/workbench/services/configurationResolver/common/variableResolver":{canNotFindFolder:"找不到文件夹“{1}”，因此无法解析变量 {0}。",canNotResolveFile:"无法解析变量 {0}。请打开一个编辑器。",canNotResolveFolderForFile:'变量 {0}: 找不到 "{1}" 的工作区文件夹。',canNotResolveLineNumber:"无法解析变量 {0}。请确保已在活动编辑器中选择一行内容。",canNotResolveSelectedText:"无法解析变量 {0}。请确保已在活动编辑器中选择一些文字。",canNotResolveUserHome:"无法解析 {0} 变量。未定义 UserHome 路径",canNotResolveWorkspaceFolder:"无法解析变量 {0}。请打开一个文件夹。",canNotResolveWorkspaceFolderMultiRoot:'无法在多文件夹工作区中解析变量 {0}。使用 ":" 和工作区文件夹名称来限定此变量的作用域。',configNoString:'"{1}" 为结构类型值，因此无法解析变量 {0}。',configNotFound:"未能找到设置“{1}”，因此无法解析变量 {0}。",extensionNotInstalled:"无法解析变量 {0}，因为未安装扩展 {1}。",missingConfigName:"未给出设置名称，因此无法解析变量 {0}。",missingEnvVarName:"未给出环境变量名称，因此无法解析变量 {0}。",missingExtensionName:"无法解析变量 {0}，因为未给出扩展名。",noValueForCommand:"命令不含值，因此无法解析变量 {0}。"},"vs/workbench/services/decorations/browser/decorationsService":{bubbleTitle:"包含强调项"},"vs/workbench/services/dialogs/browser/abstractFileDialogService":{allFiles:"所有文件",dontSave:"不保存(&&N)","filterName.workspace":"工作区",noExt:"无扩展","openFile.title":"打开文件","openFileOrFolder.title":"打开文件或文件夹","openFolder.title":"打开文件夹","openWorkspace.title":"从文件打开工作区",save:"保存(&&S)",saveAll:"全部保存(&&S)",saveAsTitle:"另存为",saveChangesDetail:"如果不保存，你的更改将丢失。",saveChangesMessage:"是否要保存对 {0} 的更改?",saveChangesMessages:"是否要保存对下列 {0} 个文件的更改?","saveFileAs.title":"另存为"},"vs/workbench/services/dialogs/browser/fileDialogService":{learnMore:"了解详细信息(&&L)",openFiles:"打开文件(&&F)...",openRemote:"打开远程(&&O)...",pickFolderAndOpen:"无法打开文件夹，请尝试改为将文件夹添加到工作区。",pickWorkspaceAndOpen:"无法打开工作区，请尝试改为将文件夹添加到工作区。",unsupportedBrowserDetail:`浏览器不支持打开本地文件夹。\r
你可以打开单个文件或打开远程存储库。`,unsupportedBrowserMessage:"不支持打开本地文件夹"},"vs/workbench/services/dialogs/browser/simpleFileDialog":{openLocalFile:"打开本地文件...",openLocalFileFolder:"打开本地...",openLocalFolder:"打开本地文件夹...","remoteFileDialog.badPath":"路径不存在。","remoteFileDialog.cancel":"取消","remoteFileDialog.invalidPath":"请输入有效路径。","remoteFileDialog.local":"显示本地","remoteFileDialog.notConnectedToRemote":"{0} 的文件系统提供程序不可用。","remoteFileDialog.validateBadFilename":"请输入有效的文件名。","remoteFileDialog.validateCreateDirectory":"文件夹 {0} 不存在。是否要创建它?","remoteFileDialog.validateExisting":"{0} 已存在。是否确实要覆盖?","remoteFileDialog.validateFileOnly":"请选择文件。","remoteFileDialog.validateFolder":"该文件夹已存在。请使用新的文件名。","remoteFileDialog.validateFolderOnly":"请选择一个文件夹。","remoteFileDialog.validateNonexistentDir":"请输入已存在的路径。","remoteFileDialog.windowsDriveLetter":"路径开头请使用驱动器号。",saveLocalFile:"保存本地文件..."},"vs/workbench/services/editor/browser/editorResolverService":{"editorResolver.configureDefault":"配置默认设置","editorResolver.conflictingDefaults":"此资源可使用多个默认编辑器。","editorResolver.keepDefault":"保留“{0}”","promptOpenWith.configureDefault":'为 "{0}" 配置默认编辑器...',"promptOpenWith.currentDefault":"默认","promptOpenWith.currentDefaultAndActive":"活动和默认","promptOpenWith.currentlyActive":"活动","promptOpenWith.placeHolder":"为“{0}”选择编辑器","promptOpenWith.updateDefaultPlaceHolder":'为 "{0}" 选择新的默认编辑器'},"vs/workbench/services/editor/common/editorResolverService":{"editor.editorAssociations":'将 [glob 模式](https://aka.ms/vscode-glob-patterns)配置到编辑器(例如 `"*.hex": "hexEditor.hexedit"`)。这些优先于默认行为。'},"vs/workbench/services/extensionManagement/browser/extensionBisect":{"I cannot reproduce":"我无法重现","This is Bad":"我可以重现",bisect:"扩展二等分处于活动状态，已禁用 {0} 扩展。请从这些选项中进行选择，检查是否仍可重现问题并继续操作。","bisect.plural":"扩展二等分处于活动状态，已禁用 {0} 扩展。请从这些选项中进行选择，检查是否仍可重现问题并继续操作。","bisect.singular":"Extension Bisect 处于活动状态，且已禁用 1 个扩展。请从这些选项中进行选择，以检查是否仍然可以重现问题并继续操作。",continue:"继续","detail.start":"扩展二等分将通过二分查找的方式确认引起问题的扩展。在此过程中，窗口将会不断重新加载(约{0}次)，每次都必须确认是否出现问题","done.detail":"扩展二等分已完成，已将 {0} 标识为导致问题的扩展。","done.detail2":"扩展二等分已完成，但未标识任何扩展。这可能是 {0} 的问题。","done.disbale":"保持禁用此扩展","done.msg":"扩展二等分","msg.next":"扩展二等分","msg.start":"扩展二等分",msg2:"开始扩展二等分(&&S)","next.bad":"我可以重现(&&R)","next.cancel":"取消二等分(&&C)","next.good":"我无法重现(&&N)","next.stop":"停止二等分(&&S)",report:"报告问题并继续(&&R)","title.isBad":"继续扩展二等分","title.start":"开始扩展二等分","title.stop":"停止扩展二等分"},"vs/workbench/services/extensionManagement/browser/extensionEnablementService":{Reload:"重新加载并启用扩展","cannot change disablement environment":"无法更改 {0} 扩展的启用，因为它在环境中被禁用","cannot change enablement dependency":"无法启用“{0}”扩展，因为它依赖于无法启用的“{1}”扩展","cannot change enablement environment":"无法更改 {0} 扩展的启用，因为它已在环境中启用","cannot change enablement extension kind":"由于扩展类型，{0} 扩展的启用无法更改","cannot change enablement virtual workspace":"无法更改 {0} 扩展的启用，因为它不支持虚拟工作区","cannot disable auth extension":"无法更改 {0} 扩展的启用，因为“设置同步”依赖此扩展。","cannot disable auth extension in workspace":"无法在工作区中更改 {0} 扩展的启用，因为它提供身份验证提供程序","cannot disable language pack extension":"无法更改 {0} 扩展的启用，因为它提供语言包。",extensionsDisabled:"已暂时禁用所有已安装的扩展。",noWorkspace:"没有工作区。"},"vs/workbench/services/extensionManagement/browser/webExtensionsScannerService":{"not a web extension":"此扩展不是 Web 扩展，因此无法添加“{0}”。",openInstalledWebExtensionsResource:"打开已安装的 Web 扩展资源"},"vs/workbench/services/extensionManagement/common/extensionManagementServerService":{browser:"浏览器",remote:"远程"},"vs/workbench/services/extensionManagement/common/extensionManagementService":{"Manifest is not found":"安装扩展 {0} 失败: 找不到清单文件。","VS Code for Web":"{0} Web 版","cannot be installed":"无法安装“{0}”扩展，因为它在此安装程序中不可用。",extensionInstallWorkspaceTrustButton:"信任工作区 & 安装",extensionInstallWorkspaceTrustContinueButton:"安装",extensionInstallWorkspaceTrustManageButton:"了解详细信息",extensionInstallWorkspaceTrustMessage:"启用此扩展需要受信任的工作区。",install:"安装(&&I)","install and do no sync":"安装(不同步)(&&N)","install anyways":"仍然安装(&&I)","install extension":"安装扩展","install extensions":"安装扩展","install multiple extensions":"是否要跨设备安装并同步扩展?","install single extension":'是否要跨设备安装并同步 "{0}" 扩展?',"limited support":"“{0}”在 {1} 中具有有限的功能。",multipleDependentsError:"无法卸载扩展程序“{0}”。扩展程序“{1}”、“{2}”以及其他扩展程序都依赖于此。","non web extensions":"“{0}”包含在“{1}”中不支持的扩展。","non web extensions detail":"包含不受支持的扩展。",showExtensions:"显示扩展(&&S)",singleDependentError:"无法卸载扩展程序“{0}”。扩展程序“{1}”依赖于此。",twoDependentsError:"无法卸载扩展程序“{0}”。扩展程序“{1}”、“{2}”依赖于此。"},"vs/workbench/services/extensionManagement/electron-sandbox/extensionManagementServerService":{local:"本地",remote:"远程"},"vs/workbench/services/extensionManagement/electron-sandbox/remoteExtensionManagementService":{notFoundCompatibleDependency:"无法安装“{0}”扩展，因为它与当前 {1} 版本不兼容(版本 {2})。",notFoundReleaseExtension:"由于 '{0}' 扩展没有发布版本，因此无法安装。"},"vs/workbench/services/extensionRecommendations/common/workspaceExtensionsConfig":{"select for add":"将扩展建议添加到","select for remove":"从以下位置删除扩展建议",workspace:"工作区","workspace folder":"工作区文件夹"},"vs/workbench/services/extensions/browser/extensionUrlHandler":{Installing:"正在安装扩展“{0}”...",confirmUrl:"是否允许扩展打开此 URI？",enableAndHandle:"扩展“{0}”处于禁用状态。是否要启用扩展并打开 URL?",enableAndReload:"启用并打开(&&E)",extensions:"扩展","install and open":"安装并打开(&&I)",installAndHandle:"扩展“{0}”尚未安装。是否安装扩展并重载此窗口来打开 URL?",manage:"管理授权扩展 URI...",no:"当前没有已授权的扩展 URI。",open:"打开(&&O)",reloadAndHandle:"扩展“{0}”尚未载入。是否重载此窗口来载入扩展并打开 URL?",reloadAndOpen:"重载窗口并打开(&&R)",rememberConfirmUrl:"不再提醒此扩展。"},"vs/workbench/services/extensions/common/abstractExtensionService":{"extensionService.autoRestart":"远程扩展主机意外终止。正在重启...","extensionService.crash":"扩展远程主机在过去 5 分钟内意外终止了 3 次。",extensionStopVetoDetailsMany:`阻止操作的原因:\r
- {0}`,extensionStopVetoDetailsOne:"阻止操作的原因: {0}",extensionStopVetoError:"{0} (错误: {1})",extensionStopVetoMessage:"已阻止以下操作: {0}",extensionTestError:"找不到可在 {0} 启动测试运行程序的扩展主机。",looping:"以下扩展因包含依赖循环已被禁用: {0}",restart:"重启远程扩展主机"},"vs/workbench/services/extensions/common/extensionHostManager":{measureExtHostLatency:"测量扩展主机延迟"},"vs/workbench/services/extensions/common/extensionsRegistry":{extensionKind:'定义扩展的类型。"ui"扩展在本地计算机上安装和运行，而 "工作区" 扩展则在远程计算机上运行。',"extensionKind.empty":"定义一个无法在远程上下文中运行的扩展，既不能在本地上，也不能在远程计算机上运行。","extensionKind.ui":"定义一个扩展，该扩展在连接到远程窗口时只能在本地计算机上运行。","extensionKind.ui-workspace":"定义可在任意一侧运行的扩展，并首选在本地计算机上运行。","extensionKind.workspace":"定义一个扩展，该扩展只能在连接远程窗口时在远程计算机上运行。","extensionKind.workspace-ui":"定义可在任意一侧运行的扩展，并首选在远程计算机上运行。","product.extensionEnabledApiProposals":"相应扩展可以自由使用的 API 建议。",ui:"UI 扩展类型。在远程窗口中, 仅本地计算机可用时启用此类扩展。","vscode.extension.activationEvents":"VS Code 扩展的激活事件。","vscode.extension.activationEvents.onAuthenticationRequest":"每次从指定的身份验证提供程序请求会话时发出的激活事件。","vscode.extension.activationEvents.onCommand":"在调用指定命令时发出的激活事件。","vscode.extension.activationEvents.onCustomEditor":"每当指定的自定义编辑器变为可见时，都会发出激活事件。","vscode.extension.activationEvents.onDebug":"在用户准备调试或准备设置调试配置时发出的激活事件。","vscode.extension.activationEvents.onDebugAdapterProtocolTracker":"每当即将启动具有特定类型的调试会话并可能需要调试协议跟踪器时, 都会发出激活事件。","vscode.extension.activationEvents.onDebugDynamicConfigurations":"每当需要创建所有调试配置的列表(并且需要调用“动态”范围的所有 provideDebugConfigurations 方法)时都会引发激活事件。","vscode.extension.activationEvents.onDebugInitialConfigurations":'在需要创建 "launch.json" 文件 (且需要调用 provideDebugConfigurations 的所有方法) 时发出的激活事件。',"vscode.extension.activationEvents.onDebugResolve":"在将要启动具有特定类型的调试会话 (且需要调用相应的 resolveDebugConfiguration 方法) 时发出的激活事件。","vscode.extension.activationEvents.onEditSession":"在使用给定方案访问编辑会话时发出的激活事件。","vscode.extension.activationEvents.onFileSystem":"在使用给定协议打开文件或文件夹时发出的激活事件。","vscode.extension.activationEvents.onLanguage":"在打开被解析为指定语言的文件时发出的激活事件。","vscode.extension.activationEvents.onNotebook":"在指定的笔记本文档被打开时发出的激活事件。","vscode.extension.activationEvents.onOpenExternalUri":"每当打开一个外部 uri (例如 http 或 https 链接)时发出的激活事件。","vscode.extension.activationEvents.onRenderer":"每当使用笔记本输出呈现器时发出激活事件。","vscode.extension.activationEvents.onSearch":"在开始从给定协议的文件夹中搜索时发出的激活事件。","vscode.extension.activationEvents.onStartupFinished":'启动完成后(在所有 "*" 激活的扩展完成激活后)发出的激活事件。',"vscode.extension.activationEvents.onTaskType":"每当需要列出或解决特定类型的任务时，都会发出激活事件。","vscode.extension.activationEvents.onTerminalProfile":"启动特定终端配置文件时发出的激活事件。","vscode.extension.activationEvents.onTerminalQuickFixRequest":"当命令匹配与此 ID 关联的选择器时发出的激活事件","vscode.extension.activationEvents.onUri":"在打开系统范围内并指向此扩展的 URI 时发出的激活事件。","vscode.extension.activationEvents.onView":"在指定视图被展开时发出的激活事件。","vscode.extension.activationEvents.onWalkthrough":"打开指定演练时发出的激活事件。","vscode.extension.activationEvents.onWebviewPanel":"当加载某个 viewType 的 Web 视图时，会发出激活事件","vscode.extension.activationEvents.star":"在 VS Code 启动时发出的激活事件。为确保良好的最终用户体验，请仅在其他激活事件组合不适用于你的情况时，才在扩展中使用此事件。","vscode.extension.activationEvents.workspaceContains":"在打开至少包含一个匹配指定 glob 模式的文件的文件夹时发出的激活事件。","vscode.extension.api":"描述此扩展提供的 API。有关更多详细信息，请访问: https://code.visualstudio.com/api/advanced-topics/remote-extensions#handling-dependencies-with-remote-extensions","vscode.extension.api.none":"完全放弃导出任何 API 的功能。通过此操作，依赖于此扩展的其他扩展将能够在单独的扩展主机进程或远程计算机中运行。","vscode.extension.badges":"在 Marketplace 的扩展页边栏中显示的徽章数组。","vscode.extension.badges.description":"徽章说明。","vscode.extension.badges.href":"徽章链接。","vscode.extension.badges.url":"徽章图像 URL。","vscode.extension.capabilities":"通过扩展声明一组受支持的功能。","vscode.extension.capabilities.untrustedWorkspaces":"声明应如何在不受信任的工作区中处理扩展。","vscode.extension.capabilities.untrustedWorkspaces.description":'对工作区信任如何影响扩展行为及其需要的原因的说明。这仅在 "supported" 不为 "true" 时适用。',"vscode.extension.capabilities.untrustedWorkspaces.restrictedConfigurations":"扩展中提供的、不应在不受信任的工作区中使用工作区值的配置键列表。","vscode.extension.capabilities.untrustedWorkspaces.supported":"通过扩展为不受信任的工作区声明支持级别。","vscode.extension.capabilities.untrustedWorkspaces.supported.false":"将不会在不受信任的工作区中启用扩展。","vscode.extension.capabilities.untrustedWorkspaces.supported.limited":"将在禁用了部分功能的不受信任工作区中启用扩展。","vscode.extension.capabilities.untrustedWorkspaces.supported.true":"将在启用了所有功能的不受信任工作区中启用扩展。","vscode.extension.capabilities.virtualWorkspaces":"声明是否应在虚拟工作区中启用扩展。虚拟工作区是一个不受任何磁盘资源支持的工作区。当为 false 时，会在虚拟工作区中自动禁用此扩展。默认值为 true。","vscode.extension.capabilities.virtualWorkspaces.description":'对虚拟工作区如何影响扩展行为及其需要的原因的说明。这仅在 "supported" 不为 "true" 时适用。',"vscode.extension.capabilities.virtualWorkspaces.supported":"通过扩展为虚拟工作区声明支持级别。","vscode.extension.capabilities.virtualWorkspaces.supported.false":"将不会在虚拟工作区中启用扩展。","vscode.extension.capabilities.virtualWorkspaces.supported.limited":"将在禁用了部分功能的虚拟工作区中启用扩展。","vscode.extension.capabilities.virtualWorkspaces.supported.true":"将在虚拟工作区中启用扩展，并启用所有功能。","vscode.extension.categories":"VS Code 库用于对扩展进行分类的类别。","vscode.extension.category.languages.deprecated":'请改用 "Programming Languages"',"vscode.extension.contributes":"由此包表示的 VS Code 扩展的所有贡献。","vscode.extension.contributes.extensionPack":"可一起安装的一组扩展。扩展的标识符始终为 ${publisher}.${name}。例如: vscode.csharp。","vscode.extension.contributes.sponsor":"指定用户可以从中赞助扩展的位置。","vscode.extension.contributes.sponsor.url":"用户可以从中赞助扩展的 URL。它必须是使用 HTTP 或 HTTPS 协议的有效 URL。示例值: https://github.com/sponsors/nvaccess","vscode.extension.displayName":"VS Code 库中使用的扩展的显示名称。","vscode.extension.enableProposedApi.deprecated":"请改用 `enabledApiProposals`。","vscode.extension.enabledApiProposals":"启用 API 建议以试用它们。仅在 **开发期间有效**。**无法使用此属性发布** 扩展。有关更多详细信息，请访问: https://code.visualstudio.com/api/advanced-topics/using-proposed-api","vscode.extension.engines":"引擎兼容性。","vscode.extension.engines.vscode":"对于 VS Code 扩展，指定与其兼容的 VS Code 版本。不能为 *。 例如: ^0.10.5 表示最低兼容 VS Code 版本 0.10.5。","vscode.extension.extensionDependencies":"其他扩展的依赖关系。扩展的标识符始终是 ${publisher}.${name}。例如: vscode.csharp。","vscode.extension.galleryBanner":"VS Code 商城使用的横幅。","vscode.extension.galleryBanner.color":"VS Code 商城页标题上的横幅颜色。","vscode.extension.galleryBanner.theme":"横幅文字的颜色主题。","vscode.extension.icon":"128 x 128 像素图标的路径。","vscode.extension.l10n":"包含本地化(bundle.l10n.*.json)文件的文件夹的相对路径。如果使用的是 vscode.l10n API，则必须指定它。","vscode.extension.markdown":'控制商店中使用的 Markdown 渲染引擎。可为 "github" (默认) 或 "standard" (标准)。',"vscode.extension.preview":"在 Marketplace 中设置扩展，将其标记为“预览”。","vscode.extension.publisher":"VS Code 扩展的发布者。","vscode.extension.qna":'控制市场中的“问与答”(Q&A)链接。设置为 "marketplace" 可启用市场的默认“问与答”页面。设置为其他字符串可指向自定义的“问与答”页面。设置为 "false" 可完全禁用“问与答”。',"vscode.extension.scripts.prepublish":"包作为 VS Code 扩展发布前执行的脚本。","vscode.extension.scripts.uninstall":"VS Code 扩展的卸载钩子。在扩展从 VS Code 卸载且 VS Code 重启 (关闭后开启) 后执行的脚本。仅支持 Node 脚本。",workspace:"工作区扩展类型。在远程窗口中，仅远程可用时启用此类扩展。"},"vs/workbench/services/extensions/common/extensionsUtil":{extensionUnderDevelopment:"正在 {0} 处加载开发扩展程序",overwritingExtension:"使用扩展程序 {1} 覆盖扩展程序 {0}。"},"vs/workbench/services/extensions/electron-sandbox/cachedExtensionScanner":{"extensionCache.invalid":"扩展在磁盘上已被修改。请重新加载窗口。",reloadWindow:"重新加载窗口"},"vs/workbench/services/extensions/electron-sandbox/localProcessExtensionHost":{"extensionHost.startupFail":"扩展主机未在 10 秒内启动，这可能是一个问题。","extensionHost.startupFailDebug":"扩展未在 10 秒内启动，可能在第一行已停止，需要调试器才能继续。","join.extensionDevelopment":"正在终止扩展调试会话",reloadWindow:"重新加载窗口"},"vs/workbench/services/extensions/electron-sandbox/nativeExtensionService":{devTools:"打开开发人员工具",enable:"启用和重新加载",enableResolver:`需要扩展“{0}”才能打开远程窗口。\r
是否启用?`,"extensionService.autoRestart":"扩展主机意外终止。正在重启...","extensionService.crash":"扩展主机在过去 5 分钟内意外终止了 3 次。","extensionService.versionMismatchCrash":"扩展主机无法启动: 版本不匹配。",getEnvironmentFailure:"无法获取远程环境",install:"安装并重新加载",installResolver:`打开远程窗口需要扩展“{0}”。\r
确定要安装扩展吗?`,learnMore:"了解详细信息",relaunch:"重新启动 VS Code",resolverExtensionNotFound:"未在市场上找到“{0}”",restart:"重启扩展宿主",restartExtensionHost:"重启扩展宿主","restartExtensionHost.reason":"正在根据显式请求重启扩展主机。",startBisect:"开始扩展二等分"},"vs/workbench/services/filesConfiguration/common/filesConfigurationService":{configuredReadonly:"编辑器是只读的，因为文件通过设置设为了只读。[单击此处](command:{0})进行配置。",fileLocked:"由于文件权限，编辑器是只读的。[单击此处](command:{0})来仍然设置为可写。",fileReadonly:"编辑器是只读的，因为文件是只读的。",providerReadonly:"编辑器是只读的，因为文件的文件系统是只读的。",sessionReadonly:"编辑器是只读的，因为文件在此会话中设置为只读。[单击此处](command:{0})进行配置。"},"vs/workbench/services/history/browser/historyService":{canNavigateBack:"是否可在编辑器历史记录中向后导航",canNavigateBackInEditLocations:"是否可在编辑器编辑位置历史记录中向后导航",canNavigateBackInNavigationLocations:"是否可在编辑器导航位置历史记录中向后导航",canNavigateForward:"是否可在编辑器历史记录中向前导航",canNavigateForwardInEditLocations:"是否可在编辑器编辑位置历史记录中向前导航",canNavigateForwardInNavigationLocations:"是否可在编辑器导航位置历史记录中向前导航",canNavigateToLastEditLocation:"是否可导航到最后一个编辑器编辑位置",canNavigateToLastNavigationLocation:"是否可导航到最后一个编辑器导航位置",canReopenClosedEditor:"是否可重新打开上次关闭的编辑器"},"vs/workbench/services/host/browser/browserHostService":{open:"打开(&&O)",unableToOpenExternal:"浏览器已中断新选项卡或窗口的打开。仍然按“打开”以将其打开。"},"vs/workbench/services/hover/browser/hoverWidget":{hoverhint:"按住 {0} 键将鼠标悬停"},"vs/workbench/services/integrity/electron-sandbox/integrityService":{"integrity.dontShowAgain":"不再显示","integrity.moreInformation":"更多信息","integrity.prompt":"{0} 安装似乎损坏。请重新安装。"},"vs/workbench/services/issue/browser/issueTroubleshoot":{"I cannot reproduce":"我无法重现",Stop:"停止","This is Bad":"我可以重现","ask to download insiders":"请尝试下载并重现{0}预览体验成员中的问题。","ask to reproduce issue":"请尝试重现{0}预览体验成员中的问题，并确认问题是否存在。",bad:"我可以重现","detail.start":`问题疑难解答过程有助于确定问题的原因。问题可能是由配置不当、扩展或 {0} 本身引起的。\r
\r
在此过程中，窗口会不断重载。每次都必须确认是否仍看到此问题。`,"download insiders":"下载{0}预览体验成员","empty.profile":"问题疑难解答处于活动状态，并且已将配置暂时重置为默认值。检查是否仍可以重现问题，然后从这些选项中进行选择。",good:"我无法重现","issue is in core":"问题疑难解答已确定该问题与{0}有关。","issue is with configuration":"问题疑难解答已确定此问题是由配置导致的。请使用“导出配置文件”命令导出配置来报告问题，并共享问题报告中的文件。",msg:"&&排查问题","profile.extensions.disabled":"问题疑难解答处于活动状态，并暂时禁用了所有已安装的扩展。检查是否仍可以重现问题，然后从这些选项中进行选择。","report anyway":"仍然报告问题",stop:"停止","title.stop":"停止排查问题","troubleshoot issue":"排查问题",troubleshootIssue:"排查问题...","use insiders":"这可能意味着问题已解决，将在即将发布的版本中可用。你可以安全地使用{0}预览体验成员，直到新的稳定版本可用。"},"vs/workbench/services/keybinding/browser/keybindingService":{"invalid.keybindings":"无效的“contributes.{0}”: {1}","keybindings.commandsIsArray":'类型错误。应为 "{0}"。字段 "command" 不支持运行多个命令。使用命令 "runCommands" 以向它传递多个要运行的命令。',"keybindings.json.args":"要传递给命令以执行的参数。","keybindings.json.command":"要执行的命令的名称","keybindings.json.key":"键或键序列(用空格分隔)","keybindings.json.removalCommand":"要为其删除键盘快捷方式的命令的名称","keybindings.json.title":"按键绑定配置","keybindings.json.when":"键处于活动状态时的条件。",nonempty:"应为非空值。",optstring:'属性“{0}”可以省略，否则其类型必须是 "string"',requirestring:'属性“{0}”是必需的，其类型必须是 "string"',unboundCommands:"以下是其他可用命令:","vscode.extension.contributes.keybindings":"用于键绑定。","vscode.extension.contributes.keybindings.args":"要传递给命令以执行的参数。","vscode.extension.contributes.keybindings.command":"要在触发键绑定时运行的命令的标识符。","vscode.extension.contributes.keybindings.key":"键或键序列(用加号连接的键和后面再接空格的键序列都算组合键，如 Ctrl+O 和 Ctrl+L L)。","vscode.extension.contributes.keybindings.linux":"Linux 特定的键或键序列。","vscode.extension.contributes.keybindings.mac":"Mac 特定的键或键序列。","vscode.extension.contributes.keybindings.when":"键处于活动状态时的条件。","vscode.extension.contributes.keybindings.win":"Windows 特定的键或键序列。"},"vs/workbench/services/keybinding/browser/keyboardLayoutService":{"keyboard.layout.config":"控制 Web 中使用的键盘布局。",keyboardConfigurationTitle:"键盘"},"vs/workbench/services/keybinding/common/keybindingEditing":{emptyKeybindingsHeader:"将键绑定放在此文件中以覆盖默认值",errorInvalidConfiguration:"无法写入按键绑定配置文件。文件内含有非数组类型对象。请打开文件进行清理，然后重试。",errorKeybindingsFileDirty:"由于该键绑定配置文件具有未保存的更改，因此无法写入。请先将其保存，然后重试。",parseErrors:"无法写入按键绑定配置文件。请打开文件并更正错误或警告，然后重试。"},"vs/workbench/services/label/common/labelService":{temporaryWorkspace:"工作区",untitledWorkspace:"无标题 (工作区)","vscode.extension.contributes.resourceLabelFormatters":"提供资源标签格式化规则。","vscode.extension.contributes.resourceLabelFormatters.authority":"要在其上匹配格式化程序的 URI 权限。支持简单的 glob 模式。","vscode.extension.contributes.resourceLabelFormatters.formatting":"用于格式化 uri 资源标签的规则。","vscode.extension.contributes.resourceLabelFormatters.formatting.workspaceSuffix":"附加到工作区标签的后缀。","vscode.extension.contributes.resourceLabelFormatters.label":"要显示的标签规则。例如，myLabel:/${path}。支持将 ${path}、${scheme}、${authority} 和 ${authoritySuffix} 用作变量。","vscode.extension.contributes.resourceLabelFormatters.scheme":"要在其上匹配格式化程序的 URI 方案，例如“文件”。支持简单的 glob 模式。","vscode.extension.contributes.resourceLabelFormatters.separator":"要在 URI 标签显示中所用的分隔符，例如 / 或 ''。","vscode.extension.contributes.resourceLabelFormatters.stripPathStartingSeparator":'控制 "${path}" 替换项是否应删除起始分隔符字符。',"vscode.extension.contributes.resourceLabelFormatters.tildify":"控制是否应在可能的情况下按斜体显示 URI 标签的开头。",workspaceName:"{0} (工作区)",workspaceNameVerbose:"{0} (工作区)"},"vs/workbench/services/language/common/languageService":{invalid:"“contributes.{0}”无效。应为数组。","invalid.empty":"“contributes.{0}”的值为空","opt.aliases":'属性“{0}”可以省略，其类型必须是 "string[]"',"opt.configuration":'属性“{0}”可以省略，其类型必须是 "string"。',"opt.extensions":'属性“{0}”可以省略，其类型必须是 "string[]"',"opt.filenames":'属性“{0}”可以省略，其类型必须是 "string[]"',"opt.firstLine":'属性“{0}”可以省略，其类型必须是 "string"。',"opt.icon":'可以省略属性 "{0}"，并且其类型必须为 "object"，并带有类型为 "string" 的属性 "{1}" 和 "{2}"',"opt.mimetypes":'属性“{0}”可以省略，其类型必须是 "string[]"',"require.id":'属性“{0}”是必需的，其类型必须是 "string"',"vscode.extension.contributes.languages":"有助于语言声明。","vscode.extension.contributes.languages.aliases":"语言的别名。","vscode.extension.contributes.languages.configuration":"包含语言配置选项的文件的相对路径。","vscode.extension.contributes.languages.extensions":"与语言关联的文件扩展名。","vscode.extension.contributes.languages.filenamePatterns":"与语言关联的文件名 glob 模式。","vscode.extension.contributes.languages.filenames":"与语言关联的文件名。","vscode.extension.contributes.languages.firstLine":"与语言文件的第一行匹配的正则表达式。","vscode.extension.contributes.languages.icon":"要用作文件图标的图标，如果没有图标，主题将为相应语言提供一个。","vscode.extension.contributes.languages.icon.dark":"使用深色主题时的图标路径","vscode.extension.contributes.languages.icon.light":"使用浅色主题时的图标路径","vscode.extension.contributes.languages.id":"语言 ID。","vscode.extension.contributes.languages.mimetypes":"与语言关联的 Mime 类型。"},"vs/workbench/services/lifecycle/browser/lifecycleService":{lifecycleVeto:"可能无法保存所做的更改。请按“取消”，然后重试。"},"vs/workbench/services/localization/browser/localeService":{clearDisplayLanguageDetail:"按“重新加载”按钮以刷新页面并使用浏览器的语言。",clearDisplayLanguageMessage:"要更改显示语言，{0} 需要重新加载",relaunchDisplayLanguageDetail:"按“重新加载”按钮以刷新页面，并将显示语言设置为 {0}。",relaunchDisplayLanguageMessage:"要更改显示语言，{0} 需要重新加载",reload:"重新加载(&&R)"},"vs/workbench/services/localization/electron-sandbox/localeService":{argvInvalid:"无法编写显示语言。请打开运行时设置，更正其中的错误/警告，然后重试。",installing:"正在安装{0}语言支持...",openArgv:"打开运行时设置",restart:"重启(&&R)",restartDisplayLanguageDetail1:"要将显示语言更改为 {0}，{1} 需要重启。",restartDisplayLanguageMessage1:"重启 {0} 以切换到 {1}?"},"vs/workbench/services/log/electron-sandbox/logService":{rendererLog:"窗口"},"vs/workbench/services/notification/common/notificationService":{neverShowAgain:"不再显示"},"vs/workbench/services/preferences/browser/keybindingsEditorInput":{keybindingsInputName:"键盘快捷方式"},"vs/workbench/services/preferences/browser/keybindingsEditorModel":{"cat.title":"{0}: {1}",default:"系统",extension:"扩展",meta:"元数据",option:"选项",user:"用户"},"vs/workbench/services/preferences/browser/preferencesService":{defaultKeybindings:"默认的键绑定",emptyKeybindingsHeader:"将键绑定放在此文件中以覆盖默认值","fail.createSettings":"无法创建“{0}”({1})。",openFolderFirst:"首先打开一个文件夹或工作区，以创建工作区或文件夹设置。"},"vs/workbench/services/preferences/common/preferencesEditorInput":{settingsEditor2InputName:"设置"},"vs/workbench/services/preferences/common/preferencesModels":{commonlyUsed:"常用设置",defaultKeybindingsHeader:"通过将键绑定放入键绑定文件来覆盖键绑定。"},"vs/workbench/services/preferences/common/preferencesValidation":{invalidTypeError:"设置的类型无效，应为 {0}。请使用 JSON 格式进行修复。","validations.arrayIncorrectType":"类型不正确。应为数组。","validations.booleanIncorrectType":"类型错误，预期为“布尔”。","validations.colorFormat":"颜色格式无效。请使用 #RGB、#RGBA、#RRGGBB 或 #RRGGBBAA。","validations.exclusiveMax":"值必须严格小于 {0}。","validations.exclusiveMin":"值必须严格大于 {0}。","validations.expectedInteger":"值必须为整数。","validations.expectedNumeric":"值必须为数字。","validations.invalidStringEnumValue":"值不被接受。有效值: {0}。","validations.max":"值必须小于或等于 {0}。","validations.maxLength":"值的长度必须小于或等于 {0} 个字符。","validations.min":"值必须大于或等于 {0}。","validations.minLength":"值的长度不能少于 {0} 个字符。","validations.multipleOf":"值必须是 {0} 的倍数。","validations.objectIncorrectType":"类型不正确。应为对象。","validations.objectPattern":`不允许使用属性{0}。\r
`,"validations.regex":"值必须匹配 regex “{0}”。","validations.stringArrayIncorrectType":"类型不正确。应为字符串数组。","validations.stringArrayItemEnum":"值 {0} 不是 {1} 其中之一","validations.stringArrayItemPattern":"值 {0} 必须与 regex {1} 匹配。","validations.stringArrayMaxItem":"数组必须最多有 {0} 项","validations.stringArrayMinItem":"数组必须至少有 {0} 项","validations.stringArrayUniqueItems":"数组具有重复项","validations.stringIncorrectEnumOptions":"枚举选项应为字符串，但有一个非字符串选项。请向扩展作者提交问题。","validations.stringIncorrectType":"类型不正确。应为“字符串”","validations.uriEmpty":"需要 URI。","validations.uriMissing":"需要 URI。","validations.uriSchemeMissing":"需要包含架构的 URI。"},"vs/workbench/services/progress/browser/progressService":{cancel:"取消",dismiss:"消除","progress.text2":"{0}: {1}","progress.title2":"[{0}]: {1}","progress.title3":"[{0}] {1}: {2}","status.progress":"进度消息"},"vs/workbench/services/remote/browser/remoteAgentService":{connectionError:"出现意外错误，需要重新加载此页面。",connectionErrorDetail:"工作台无法连接到服务器(错误: {0})",reload:"重新加载(&&R)"},"vs/workbench/services/remote/common/remoteExplorerService":{"remote.localPortMismatch.single":`无法使用本地端口 {0} 转发到远程端口 {1}。\r
\r
当已存在使用本地端口 {0} 的其他进程时，通常会发生这种情况。\r
\r
已改为使用端口号 {2}。`,"tunnel.source.auto":"自动转发","tunnel.source.user":"用户转发","tunnel.staticallyForwarded":"静态转发"},"vs/workbench/services/remote/electron-sandbox/remoteAgentService":{connectionError:"无法连接到远程扩展主机服务器 (错误: {0})",devTools:"打开开发人员工具",directUrl:"在浏览器中打开"},"vs/workbench/services/search/browser/searchService":{errorSearchFile:"无法使用 Web 辅助角色文件搜索器进行搜索",errorSearchText:"无法使用 Web 辅助角色文本搜索器进行搜索"},"vs/workbench/services/search/common/queryBuilder":{"search.noWorkspaceWithName":"工作区文件夹不存在: {0}"},"vs/workbench/services/secrets/electron-sandbox/secretStorageService":{encryptionNotAvailableJustTroubleshootingGuide:"无法识别用于在当前桌面环境中存储加密相关数据的 OS keyring。",isGnome:"你正在 GNOME 环境中运行，但 OS keyring 不可用用于加密。请确保已安装并运行 gnome-keyring 或其他 libsecret 兼容实现。",isKwallet:"你正在 KDE 环境中运行，但 OS keyring 不可用于加密。请确保 kwallet 正在运行。",troubleshootingButton:"打开疑难解答指南",usePlainText:"使用较弱的加密",usePlainTextExtraSentence:"请打开疑难解答指南以解决此问题，也可以使用不用 OS keyring 的较弱加密。"},"vs/workbench/services/suggest/browser/simpleSuggestWidget":{ariaCurrenttSuggestionReadDetails:"{0}，文档: {1}","label.desc":"{0}，{1}","label.detail":"{0}{1}","label.full":"{0}{1}，{2}",suggest:"建议"},"vs/workbench/services/textfile/browser/textFileService":{confirmOverwrite:"“{0}”已存在。是否替换它?",deleted:"已删除",fileBinaryError:"文件似乎是二进制文件，不能作为文本打开",irreversible:'名为"{0}"的文件或文件夹已存在于"{1}"文件夹中。替换它将覆盖其当前内容。',readonly:"只读",readonlyAndDeleted:"已删除，只读",replaceButtonLabel:"替换(&&R)","textFileCreate.source":"文件已创建",textFileModelDecorations:"文本文件模型装饰","textFileOverwrite.source":"文件已替换"},"vs/workbench/services/textfile/common/textFileEditorModel":{"textFileCreate.source":"已更改文件编码"},"vs/workbench/services/textfile/common/textFileEditorModelManager":{genericSaveError:"未能保存“{0}”: {1}"},"vs/workbench/services/textfile/common/textFileSaveParticipant":{saveParticipants:"正在保存“{0}”"},"vs/workbench/services/textfile/electron-sandbox/nativeTextFileService":{"join.textFiles":"正在保存文本文件"},"vs/workbench/services/textMate/browser/textMateTokenizationFeatureImpl":{alreadyDebugging:"已经开始记录。","invalid.embeddedLanguages":'"contributes.{0}.embeddedLanguages" 中的值无效。必须为从作用域名称到语言的对象映射。提供的值: {1}',"invalid.injectTo":'"contributes.{0}.injectTo" 中的值无效。必须为语言范围名称数组。提供的值: {1}',"invalid.language":'"contributes.{0}.language" 中包含未知语言。提供的值: {1}',"invalid.path.0":"“contributes.{0}.path”中应为字符串。提供的值: {1}","invalid.path.1":"“contributes.{0}.path”({1})应包含在扩展的文件夹({2})内。这可能会使扩展不可移植。","invalid.scopeName":"“contributes.{0}.scopeName”中应为字符串。提供的值: {1}","invalid.tokenTypes":'"contributes.{0}.tokenTypes" 的值无效。必须为从作用域名称到标记类型的对象映射。当前值: {1}',progress1:"正在准备记录 TM 语法分析。完成后按“停止”。",progress2:"现在正在记录 TM 语法分析。完成后按“停止”。",stop:"停止"},"vs/workbench/services/textMate/common/TMGrammars":{"vscode.extension.contributes.grammars":"贡献 textmate tokenizer。","vscode.extension.contributes.grammars.balancedBracketScopes":"定义哪些范围名称包含平衡括号。","vscode.extension.contributes.grammars.embeddedLanguages":"如果此语法包含嵌入式语言，则为作用域名称到语言 ID 的映射。","vscode.extension.contributes.grammars.injectTo":"此语法注入到的语言范围名称列表。","vscode.extension.contributes.grammars.language":"此语法为其贡献了内容的语言标识符。","vscode.extension.contributes.grammars.path":'tmLanguage 文件的路径。该路径是相对于扩展文件夹，通常以 "./syntaxes/" 开头。',"vscode.extension.contributes.grammars.scopeName":"tmLanguage 文件所用的 textmate 范围名称。","vscode.extension.contributes.grammars.tokenTypes":"从作用域名到标记类型的映射。","vscode.extension.contributes.grammars.unbalancedBracketScopes":"定义哪些范围名称不包含平衡括号。"},"vs/workbench/services/themes/browser/fileIconThemeData":{"error.cannotparseicontheme":"分析文件图标文件时出现问题: {0}","error.invalidformat":"文件图标主题问题的格式无效: 应为对象。"},"vs/workbench/services/themes/browser/productIconThemeData":{defaultTheme:"默认值","error.cannotparseicontheme":"分析产品图标文件时出现问题: {0}","error.fontId":"字体 ID“{0}”缺失或无效。将跳过字体定义。","error.fontSrc":"字体 '{0}' 中的字体源无效。忽略源。","error.fontStyle":"字体“{0}”中的字体样式无效。将忽略设置。","error.fontWeight":"字体“{0}”中的字体粗细无效。将忽略设置。","error.icon.font":"正在跳过图标定义“{0}”。未知的字体。","error.icon.fontCharacter":"正在跳过图标定义“{0}”。未知的 fontCharacter。","error.invalidformat":"产品图标主题文件的格式无效: 应为对象。","error.missingProperties":"产品图标主题文件的格式无效: 必须包含图标定义和字体。","error.noFontSrc":"字体 '{0}' 中没有有效的字体源。忽略字体定义。","error.parseicondefs":`处理中的产品图标定义时出现问题{0}:\r
{1}`},"vs/workbench/services/themes/browser/workbenchThemeService":{"error.cannotloadtheme":"无法加载 {0}: {1}"},"vs/workbench/services/themes/common/colorExtensionPoint":{"contributes.color":"提供由扩展定义的主题颜色","contributes.color.description":"主题颜色的说明","contributes.color.id":"主题颜色标识符","contributes.color.id.format":"标识符只能包含字母、数字和点，且不能以点开头","contributes.defaults.dark":"深色主题的默认颜色。应为十六进制颜色值 (#RRGGBB[AA]) 或是主题颜色标识符，其提供默认值。","contributes.defaults.highContrast":"高对比度深色主题的默认颜色。十六进制颜色值 (#RRGGBB[AA])或提供默认值的主题化颜色的标识符。如果未提供，则“深色”用作高对比度深色主题的默认颜色。","contributes.defaults.highContrastLight":"高对比度浅色主题的默认颜色。十六进制颜色值 (#RRGGBB[AA])或提供默认值的主题化颜色的标识符。如果未提供，则“浅色”用作高对比度浅色主题的默认颜色。","contributes.defaults.light":"浅色主题的默认颜色。应为十六进制颜色值 (#RRGGBB[AA]) 或是主题颜色标识符，其提供默认值。","invalid.colorConfiguration":'"configuration.colors" 必须是数组',"invalid.default.colorType":"{0} 必须为十六进制颜色值 (#RRGGBB[AA] 或 #RGB[A]) 或是主题颜色标识符，其提供默认值。","invalid.defaults":"必须定义 'configuration.colors.defaults'，且其必须包含 'light' 和 'dark'","invalid.defaults.highContrast":"如果已定义，则 'configuration.colors.defaults.highContrast' 必须为字符串。","invalid.defaults.highContrastLight":"如果已定义，则 'configuration.colors.defaults.highContrastLight' 必须为字符串。","invalid.description":'必须定义 "configuration.colors.description" 且它不可为空',"invalid.id":'必须定义 "configuration.colors.id" 且它不可为空',"invalid.id.format":'"configuration.colors.id" 只能包含字母、数字和点，且不能以点开头'},"vs/workbench/services/themes/common/colorThemeData":{"error.cannotload":"分析 tmTheme 文件 {0} 时出现问题: {1}","error.cannotparse":"分析 tmTheme 文件时出现问题: {0}","error.cannotparsejson":"分析 JSON 主题文件 {0} 时出现问题","error.invalidformat":"JSON 主题文件的格式无效: 应为对象。","error.invalidformat.colors":"分析颜色主题文件时出现问题: {0}。属性“colors”不是“object”类型。","error.invalidformat.semanticTokenColors":'分析颜色主题文件时发生问题: {0}。属性 "semanticTokenColors" 包含无效的选择器',"error.invalidformat.tokenColors":'分析颜色主题文件时出现问题: {0}。属性 "tokenColors" 应为指定颜色的数组或是指向 TextMate 主题文件的路径',"error.plist.invalidformat":'分析 tmTheme 文件时出现问题: {0}。"settings" 不是数组。'},"vs/workbench/services/themes/common/colorThemeSchema":{"schema.colors":"语法突出显示颜色","schema.fontStyle.error":'字形必须为 "italic" (斜体)、"bold" (粗体)、"underline" (下划线)、"strikethrough" (删除线)、上述的组合或是为空字符串。',"schema.properties.name":"规则的描述。","schema.properties.scope":"此规则适用的范围选择器。","schema.semanticTokenColors":"语义标记的颜色","schema.supportsSemanticHighlighting":"是否应为此主题启用语义突出显示。","schema.token.background.warning":"暂不支持标记背景色。","schema.token.fontStyle":'这条规则的字形: "italic" (斜体)、"bold" (粗体)、"underline" (下划线)、"strikethrough" (删除线) 或是上述的组合。空字符串将取消继承的设置。',"schema.token.fontStyle.none":"无 (清除继承的设置)","schema.token.foreground":"标记的前景色。","schema.token.settings":"标记的颜色和样式。","schema.tokenColors.path":"tmTheme 文件路径(相对于当前文件)。","schema.workbenchColors":"工作台中的颜色"},"vs/workbench/services/themes/common/fileIconThemeSchema":{"schema.file":"默认文件图标，针对不与任何扩展名、文件名或语言 ID 匹配的所有文件显示。","schema.fileExtension":"关联的图标定义的 ID。","schema.fileExtensions":"将文件扩展名关联到图标。对象中的键是文件扩展名。扩展名是文件名的最后一部分，位于最后一个点之后 (不包括该点)。比较扩展名时不区分大小写。","schema.fileName":"关联的图标定义的 ID。","schema.fileNames":"将文件名关联到图标。对象中的键是完整文件名，其中不含任何路径字段。文件名可以包括点和可能有的文件扩展名。不允许使用模式或通配符。文件名匹配不区分大小写。","schema.folder":"折叠文件夹的文件夹图标，如果未设置 folderExpanded，也指展开文件夹的文件夹图标。","schema.folderExpanded":"展开文件夹的文件夹图标。展开文件夹图标是可选的。如果未设置，将显示为文件夹定义的图标。","schema.folderName":"关联的图标定义的 ID。","schema.folderNameExpanded":"关联的图标定义的 ID。","schema.folderNames":"将文件夹名关联到图标。对象中的键是文件夹名，其中不含任何路径字段。不允许使用模式或通配符。文件夹名匹配不区分大小写。","schema.folderNamesExpanded":"将文件夹名关联到展开文件夹的图标。对象中的键是文件夹名，其中不含任何路径字段。不允许使用模式或通配符。文件夹名匹配不区分大小写。","schema.font-format":"字体的格式。","schema.font-path":"相对于当前文件图标主题文件的字体路径。","schema.font-size":"字体的默认大小。请参阅 https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-size 查看有效的值。","schema.font-style":"字体的样式。要了解有效值，请参阅 https://developer.mozilla.org/zh-cn/docs/Web/CSS/font-style。","schema.font-weight":"字体的粗细。要了解有效值，请参阅 https://developer.mozilla.org/zh-cn/docs/Web/CSS/font-weight。","schema.fontCharacter":"使用字形字体时: 要使用的字体中的字符。","schema.fontColor":"使用字形字体时: 要使用的颜色。","schema.fontId":"使用某种字体时: 字体的 ID。如果未设置，则默认为第一个字体定义。","schema.fontSize":"使用某种字体时: 文本字体的字体大小(以百分比表示)。如果未设置，则默认为字体定义中的大小。","schema.fonts":"图标定义中使用的字体。","schema.hidesExplorerArrows":"配置文件资源管理器的箭头是否应在此主题启用时隐藏。","schema.highContrast":"高对比度颜色主题中文件图标的可选关联。","schema.iconDefinition":"图标定义。对象键是定义的 ID。","schema.iconDefinitions":"将文件与图标关联时可使用的所有图标的说明。","schema.iconPath":"使用 SVG 或 PNG 时: 到图像的路径。该路径相对于图标设置文件。","schema.id":"字体的 ID。","schema.id.formatError":"ID 必须仅包含字母、数字、下划线和减号。","schema.languageId":"关联的图标定义的 ID。","schema.languageIds":"将语言与图标相关联。对象键是语言贡献点中定义的语言 ID。","schema.light":"浅色主题中文件图标的可选关联。","schema.showLanguageModeIcons":"配置如果主题未为某个语言定义图标，是否应使用默认语言图标。","schema.src":"字体的位置。"},"vs/workbench/services/themes/common/iconExtensionPoint":{"contributes.icon.default":"图标的默认值。引用现有主题图标或图标字体中的图标。","contributes.icon.default.fontCharacter":"图标字体中图标的字符。","contributes.icon.default.fontPath":"定义图标的图标字体的路径。","contributes.icon.description":"主题图标的说明","contributes.icon.id":"主题图标标识符","contributes.icon.id.format":'标识符只能包含字母、数字和减号，且必须按 "component-iconname" 格式由至少两段组成。',"contributes.icons":"提供由扩展定义的主题图标","invalid.icons.configuration":"'configuration.icons' 必须是以图标名称为属性的对象。","invalid.icons.default":"'configuration.icons.default' 必须是对其他主题图标的 ID (字符串)或图标定义(对象)的引用，属性为 `fontPath` 和 `fontCharacter`。","invalid.icons.default.fontPath.extension":"预期 `contributes.icons.default.fontPath` 的文件扩展名为 'woff'，woff2' 或 'ttf'，为 '{0}'。","invalid.icons.default.fontPath.path":"预期 `contributes.icons.default.fontPath` ({0}) 将包含在扩展的文件夹 ({0}) 中。","invalid.icons.description":"必须定义 'configuration.icons.description' 且它不可为空","invalid.icons.id.format":"'configuration.icons' 键标识图标 ID，只能包含字母、数字和减号。它们需要按 `component-iconname` 格式由至少两段组成。"},"vs/workbench/services/themes/common/productIconThemeSchema":{"schema.font-format":"字体的格式。","schema.font-path":"相对于当前产品图标主题文件的字体路径。","schema.font-style":"字体的样式。要了解有效值，请参阅 https://developer.mozilla.org/zh-cn/docs/Web/CSS/font-style。","schema.font-weight":"字体的粗细。要了解有效值，请参阅 https://developer.mozilla.org/zh-cn/docs/Web/CSS/font-weight。","schema.iconDefinitions":"字体字符的图标名称的关联。","schema.id":"字体的 ID。","schema.id.formatError":"ID 必须仅包含字母、数字、下划线和减号。","schema.src":"字体的位置。"},"vs/workbench/services/themes/common/themeConfiguration":{autoDetectHighContrast:"如果已启用，则在操作系统使用高对比度主题时，将自动更改为高对比度主题；如果操作系统正在使用高对比度主题。要使用的高对比度主题是由 {0} 和 {1} 指定的。",colorTheme:"指定用在工作台中的颜色主题。",colorThemeError:"主题未知或未安装。",defaultProductIconThemeDesc:"默认",defaultProductIconThemeLabel:"默认",detectColorScheme:"如果已设置，则根据 OS 外观自动切换到首选颜色主题。如果 OS 外观为深色，则使用 {0} 处指定的主题。如果外观为浅色，则使用 {1} 处指定的主题。",editorColors:"替代当前所选颜色主题中的编辑器语法颜色和字形。","editorColors.comments":"设置注释的颜色和样式","editorColors.functions":"设置函数定义与引用的颜色和样式。","editorColors.keywords":"设置关键字的颜色和样式。","editorColors.numbers":"设置数字的颜色和样式。","editorColors.semanticHighlighting":"是否应为此主题启用语义突出显示。","editorColors.semanticHighlighting.deprecationMessage":'改为在 "editor.semanticTokenColorCustomizations" 设置中使用 "enabled"。',"editorColors.semanticHighlighting.deprecationMessageMarkdown":"请改为在 {0} 设置中使用 `enabled`。","editorColors.semanticHighlighting.enabled":"是否对此主题启用或禁用语义突出显示","editorColors.semanticHighlighting.rules":"此主题的语义标记样式规则。","editorColors.strings":"设置字符串文本的颜色和样式","editorColors.textMateRules":"使用 TextMate 主题规则设置颜色和样式(高级)。","editorColors.types":"设置类型定义与引用的颜色和样式。","editorColors.variables":"设置变量定义和引用的颜色和样式。",iconTheme:'指定工作台中使用的文件图标主题；若指定为 "null"，则不显示任何文件图标。',iconThemeError:"文件图标主题未知或未安装。",noIconThemeDesc:"无文件图标",noIconThemeLabel:"无",preferredDarkColorTheme:"指定启用了 {0} 时深色操作系统外观的首选颜色主题。",preferredHCDarkColorTheme:"指定启用了 {0} 时在高对比度深色模式下使用的首选颜色主题。",preferredHCLightColorTheme:"指定启用了 {0} 时在高对比度浅色模式下使用的首选颜色主题。",preferredLightColorTheme:"指定启用了 {0} 时浅色操作系统外观的首选颜色主题。",productIconTheme:"指定使用的产品图标主题。",productIconThemeError:"产品图标主题未知或未安装。",semanticTokenColors:"从当前所选颜色主题重写编辑器语义标记颜色和样式。",workbenchColors:"覆盖当前所选颜色主题的颜色。"},"vs/workbench/services/themes/common/themeExtensionPoints":{"invalid.path.1":"“contributes.{0}.path”({1})应包含在扩展的文件夹({2})内。这可能会使扩展不可移植。",reqarray:"扩展点“{0}”必须是数组。 ",reqid:'contributes.{0}.id" 中的预期字符串。提供的值: {1}',reqpath:"“contributes.{0}.path”中应为字符串。提供的值: {1}","vscode.extension.contributes.iconThemes":"提供文件图标主题。","vscode.extension.contributes.iconThemes.id":"在用户设置中使用的文件图标主题的 ID。","vscode.extension.contributes.iconThemes.label":"文件图标主题的标签，如 UI 所示。","vscode.extension.contributes.iconThemes.path":'文件图标主题定义文件的路径。该路径相对于扩展文件夹，通常为 "./fileicons/awesome-icon-theme.json"。',"vscode.extension.contributes.productIconThemes":"贡献产品图标主题。","vscode.extension.contributes.productIconThemes.id":"用户设置中使用的产品图标主题的 ID。","vscode.extension.contributes.productIconThemes.label":"产品图标主题的标签，如 UI 所示。","vscode.extension.contributes.productIconThemes.path":'产品图标主题定义文件的路径。该路径相对于扩展文件夹，通常为 "./producticons/awesome-product-icon-theme.json"。',"vscode.extension.contributes.themes":"提供 TextMate 颜色主题。","vscode.extension.contributes.themes.id":"用户设置中使用的颜色主题的 ID。","vscode.extension.contributes.themes.label":"显示在 UI 中的颜色主题标签。","vscode.extension.contributes.themes.path":'tmTheme 文件的路径。该路径相对于扩展文件夹，通常为 "./colorthemes/awesome-color-theme.json"。',"vscode.extension.contributes.themes.uiTheme":"用于定义编辑器周围颜色的基本主题: 'vs' 是浅色主题， 'vs-dark' 是深色主题。'hc-black' 是深色高对比度主题，'hc-light' 是浅色高对比度主题。"},"vs/workbench/services/themes/common/tokenClassificationExtensionPoint":{"contributes.color.description":"语义标记类型的说明","contributes.semanticTokenModifiers":"提供语义标记修饰符。","contributes.semanticTokenModifiers.description":"语义令牌修饰符的说明","contributes.semanticTokenModifiers.id":"语义令牌修饰符的标识符","contributes.semanticTokenModifiers.id.format":"标识符的格式应为letterOrDigit[_-letterOrDigit]*","contributes.semanticTokenScopes":"提供语义令牌范围映射。","contributes.semanticTokenScopes.languages":"列出默认语言。","contributes.semanticTokenScopes.scopes":"将语义令牌(由语义令牌选择器描述)映射到用于表示该令牌的一个或多个 textMate 作用域。","contributes.semanticTokenTypes":"贡献语义令牌类型。","contributes.semanticTokenTypes.id":"语义令牌类型的标识符","contributes.semanticTokenTypes.id.format":"标识符的格式应为letterOrDigit[_-letterOrDigit]*","contributes.semanticTokenTypes.superType":"语义令牌类型的超类型","contributes.semanticTokenTypes.superType.format":"超类型的格式应为 letterOrDigit[_-letterOrDigit]*","invalid.description":'必须定义 "configuration.{0}.description" 且它不可为空',"invalid.id":'必须定义 "configuration.{0}.id" 且它不可为空',"invalid.id.format":'"configuration.{0}.id" 必须采用 letterOrDigit[-_letterOrDigit]* 模式',"invalid.semanticTokenModifierConfiguration":"“configuration.semanticTokenModifier” 必须是数组","invalid.semanticTokenScopes.configuration":'"configuration.semanticTokenScopes" 必须是一个数组',"invalid.semanticTokenScopes.language":'"configuration.semanticTokenScopes.language" 的值必须是字符串',"invalid.semanticTokenScopes.scopes":'"configuration.semanticTokenScopes.scopes" 必须定义为对象',"invalid.semanticTokenScopes.scopes.selector":'"configuration.semanticTokenScopes.scopes": 解析选择器{0}时出现问题。',"invalid.semanticTokenScopes.scopes.value":'"configuration.semanticTokenScopes.scopes" 的值必须是字符串数组',"invalid.semanticTokenTypeConfiguration":"“configuration.semanticTokenType”必须是数组","invalid.superType.format":"“ configuration.{0}.superType”必须遵循格式 letterOrDigit [-_letterOrDigit] *"},"vs/workbench/services/userDataProfile/browser/extensionsResource":{disabled:"已禁用",exclude:"选择 {0} 扩展",extensions:"扩展"},"vs/workbench/services/userDataProfile/browser/globalStateResource":{globalState:"UI 状态"},"vs/workbench/services/userDataProfile/browser/keybindingsResource":{keybindings:"键盘快捷方式"},"vs/workbench/services/userDataProfile/browser/settingsResource":{settings:"设置"},"vs/workbench/services/userDataProfile/browser/snippetsResource":{exclude:"选择片段 {0}",snippets:"代码片段"},"vs/workbench/services/userDataProfile/browser/tasksResource":{tasks:"用户任务"},"vs/workbench/services/userDataProfile/browser/userDataProfileImportExportService":{"applied profile":"{0}: 已成功应用。",cancel:"取消",close:"关闭",copy:"复制链接(&&C)",create:"Create","create from":"Copy from:","create new":"新建配置文件(&&C)","create new profle":"Create New Profile...","create new title":"新建配置文件","create profile":"创建配置文件","customise the profile":"选择要在配置文件中配置的内容:","empty profile":"None",export:"导出","export profile dialog":"保存配置文件","export profile name":"为配置文件命名","export profile title":"导出配置文件","export success":"已成功导出配置文件“{0}”。",extensions:"Extensions",file:"文件","from default":"从默认配置文件","from existing profiles":"Existing Profiles","from templates":"Profile Templates",import:"创建配置文件","import in desktop":"在 {0} 中创建配置文件","import profile":"创建配置文件","install extensions title":"安装扩展","invalid configurations":"配置文件应至少包含一个配置。",keybindings:"Keyboard Shortcuts","learn more":"了解详细信息",local:"本地",name:"配置文件名称","name placeholder":"Profile name","name required":"提供新配置文件的名称",open:"打开链接(&&O)","open in":"在 {0} 中打开(&&O)",overwrite:"覆盖(&&O)","preview profile":"预览配置文件","preview profile message":"默认情况下，在 Web 上预览配置文件时不会安装扩展。在导入配置文件之前，你仍然可以手动安装它们。 ","profile already exists":'已存在 "{0}" 同名的配置文件。是否要覆盖?',"profile import error":"导入配置文件时出错: {0}","profile name required":"必须提供配置文件名称。",profileExists:"具有名称 {0} 的配置文件已经存在。","profiles.applying":"{0}: 正在应用...","profiles.exporting":"{0}: 正在导出","progress extensions":"正在应用扩展...","progress global state":"正在应用状态...","progress keybindings":"正在应用键盘快捷方式……","progress settings":"正在应用设置...","progress snippets":"正在应用代码片段...","progress tasks":"正在应用任务...","resolving uri":"{0}: 正在解析配置文件内容...",save:"Save","save profile":"Edit {0} Profile...",select:"选择 {0}","select profile":"选择配置文件","select profile content handler":"将“{0}”配置文件导出为...",settings:"Settings",snippets:"User Snippets","switching profile":"切换配置文件……",tasks:"User Tasks","troubleshoot issue":"排查问题","troubleshoot profile progress":"设置配置文件疑难解答: {0}","use default profile":"Using Default Profile"},"vs/workbench/services/userDataProfile/browser/userDataProfileManagement":{cannotDeleteDefaultProfile:"无法删除默认配置文件。",cannotRenameDefaultProfile:"无法重命名默认配置文件","reload button":"重载(&&R)","reload message":"切换配置文件需要重新加载 VS Code。","reload message when removed":"已删除当前配置文件。请重新加载以切换回默认配置文件","reload message when updated":"已更新当前配置文件。请重新加载以切换回更新的配置文件","switch profile":"正在切换到配置文件。"},"vs/workbench/services/userDataProfile/common/userDataProfile":{defaultProfileIcon:"默认配置文件的图标。",profile:"配置文件",profiles:"个人资料"},"vs/workbench/services/userDataSync/browser/userDataSyncWorkbenchService":{"choose account placeholder":"选择要登录的帐户","conflicts detected":"检测到冲突","last used":"上次使用时同步",no:"否","no account":"没有可用的帐户。","no authentication providers":"没有可用的身份验证提供程序，因此无法启用设置同步。",others:"其他","replace local":"替换本地(&&L)","replace remote":"替换远程(&&R)",reset:"这将清除云中的数据，并在所有设备上停止同步。","reset title":"清除",resetButton:"重置(&&R)",resolve:"请解决冲突以打开...","resolving conflicts":"正在解决冲突...","settings sync":"设置同步","show conflicts":"显示冲突(&&S)","sign in using account":"使用 {0} 登录","signed in":"已登录","sync in progress":"正在启用设置同步。是否要取消它?","sync turned on":"{0} 已启用","syncing...":"正在启用...","turning on":"正在打开…",yes:"是(&&Y)"},"vs/workbench/services/userDataSync/common/userDataSync":{extensions:"扩展",keybindings:"键盘快捷方式",profiles:"个人资料",settings:"设置",snippets:"用户代码片段","sync category":"设置同步",syncViewIcon:"查看“设置同步”视图的图标。",tasks:"用户任务","ui state label":"UI 状态","workspace state label":"工作区状态"},"vs/workbench/services/views/browser/viewDescriptorService":{hideView:"隐藏“{0}”",resetViewLocation:"重置位置"},"vs/workbench/services/views/common/viewContainerModel":{"views log":"视图"},"vs/workbench/services/workingCopy/common/fileWorkingCopyManager":{confirmOverwrite:"“{0}”已存在。是否替换它?",deleted:"已删除","fileWorkingCopyCreate.source":"文件已创建",fileWorkingCopyDecorations:"文件工作副本装饰","fileWorkingCopyReplace.source":"文件已替换",irreversible:'名为"{0}"的文件或文件夹已存在于"{1}"文件夹中。替换它将覆盖其当前内容。',readonly:"只读",readonlyAndDeleted:"已删除，只读",replaceButtonLabel:"替换(&&R)"},"vs/workbench/services/workingCopy/common/storedFileWorkingCopy":{discard:"放弃",genericSaveError:"未能保存“{0}”: {1}",overwrite:"覆盖",overwriteElevated:"以管理员身份覆盖...",overwriteElevatedSudo:"以 Sudo 覆盖...",permissionDeniedSaveError:"无法保存“{0}”: 权限不足。选择“以管理员身份覆盖”可作为管理员重试。",permissionDeniedSaveErrorSudo:'保存 "{0}"失败: 权限不足。选择 "以超级用户身份重试" 以超级用户身份重试。',readonlySaveError:'未能保存 "{0}": 文件是只读的。可选择 "覆盖" 以尝试使其可写。',readonlySaveErrorAdmin:'未能保存 "{0}": 文件是只读的。以管理员身份选择 "以管理员身份覆盖" 重试。',readonlySaveErrorSudo:'保存"{0}"失败: 文件为只读。选择“覆盖为Sudo”以用超级用户身份重试。',retry:"重试",saveAs:"另存为...",saveElevated:"以管理员身份重试...",saveElevatedSudo:"以 Sudo 重试。",staleSaveError:'未能保存 "{0}": 文件的内容较新。是否要用所做的更改覆盖该文件?'},"vs/workbench/services/workingCopy/common/storedFileWorkingCopyManager":{"join.fileWorkingCopyManager":"正在保存工作副本"},"vs/workbench/services/workingCopy/common/storedFileWorkingCopySaveParticipant":{saveParticipants:"正在保存“{0}”"},"vs/workbench/services/workingCopy/common/workingCopyHistoryService":{"default.source":"已保存文件","join.workingCopyHistory":"正在保存本地历史记录","moved.source":"已移动文件","renamed.source":"已重命名文件"},"vs/workbench/services/workingCopy/common/workingCopyHistoryTracker":{"undoRedo.source":"撤消/重做"},"vs/workbench/services/workingCopy/electron-sandbox/workingCopyBackupService":{"join.workingCopyBackups":"备份工作副本"},"vs/workbench/services/workingCopy/electron-sandbox/workingCopyBackupTracker":{backupBeforeShutdownDetail:"点击‘取消’以停止等待，并保存或还原具有未保存更改的编辑器。",backupBeforeShutdownMessage:"备份具有未保存更改的编辑器需要的时间较长...",backupErrorDetails:"请先尝试保存或还原具有未保存更改的编辑器，然后重试。",backupTrackerBackupFailed:"以下具有未保存更改的编辑器无法保存到备份位置。",backupTrackerConfirmFailed:"无法保存或还原以下具有未保存更改的编辑器。",discardBackupsBeforeShutdown:"放弃备份需要的时间较长...",revertBeforeShutdown:"还原具有未保存更改的编辑器需要的时间较长...",saveBeforeShutdown:"保存具有未保存更改的编辑器需要的时间较长..."},"vs/workbench/services/workspaces/browser/abstractWorkspaceEditingService":{errorInvalidTaskConfiguration:"无法写入工作区配置文件。请打开文件以更正错误或警告，然后重试。",openWorkspaceConfigurationFile:"打开工作区配置",save:"保存",saveWorkspace:"保存工作区"},"vs/workbench/services/workspaces/browser/workspaceTrustEditorInput":{workspaceTrustEditorInputName:"工作区信任"},"vs/workbench/services/workspaces/electron-sandbox/workspaceEditingService":{doNotSave:"不保存(&&N)","restartExtensionHost.reason":"正在打开多根工作区。",save:"保存(&&S)",saveWorkspaceDetail:"若要再次打开此工作区，请先保存。",saveWorkspaceMessage:"你是否要将你的工作区配置保存为文件?",workspaceOpenedDetail:"已在另一个窗口打开工作区。请先关闭该窗口，然后重试。",workspaceOpenedMessage:"无法保存工作区“{0}”"}},r=(o[s]||{})[n],a=localStorage.getItem("locale")||"zh_CN";return(!r||a==="en")&&(r=t),oz(r,i)}var jk;const Vg="en";let vC=!1,wC=!1,Mw=!1,K5=!1,lA=!1,cA=!1,q5=!1,m0,Pw=Vg,RP=Vg,sz,Lr;const sr=typeof self=="object"?self:typeof global=="object"?global:{};let Jn;typeof sr.vscode!="undefined"&&typeof sr.vscode.process!="undefined"?Jn=sr.vscode.process:typeof process!="undefined"&&(Jn=process);const rz=typeof((jk=Jn==null?void 0:Jn.versions)===null||jk===void 0?void 0:jk.electron)=="string",az=rz&&(Jn==null?void 0:Jn.type)==="renderer";if(typeof navigator=="object"&&!az)Lr=navigator.userAgent,vC=Lr.indexOf("Windows")>=0,wC=Lr.indexOf("Macintosh")>=0,cA=(Lr.indexOf("Macintosh")>=0||Lr.indexOf("iPad")>=0||Lr.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Mw=Lr.indexOf("Linux")>=0,q5=(Lr==null?void 0:Lr.indexOf("Mobi"))>=0,lA=!0,f("vs/base/common/platform",{key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"),m0=Vg,Pw=m0,RP=navigator.language;else if(typeof Jn=="object"){vC=Jn.platform==="win32",wC=Jn.platform==="darwin",Mw=Jn.platform==="linux",Mw&&Jn.env.SNAP&&Jn.env.SNAP_REVISION,Jn.env.CI||Jn.env.BUILD_ARTIFACTSTAGINGDIRECTORY,m0=Vg,Pw=Vg;const s=Jn.env.VSCODE_NLS_CONFIG;if(s)try{const e=JSON.parse(s),t=e.availableLanguages["*"];m0=e.locale,RP=e.osLocale,Pw=t||Vg,sz=e._translationsConfigFile}catch(e){}K5=!0}else console.error("Unable to resolve platform.");const En=vC,at=wC,Qn=Mw,Kr=K5,qd=lA,lz=lA&&typeof sr.importScripts=="function",Xr=cA,cz=q5,Ya=Lr,dz=Pw,uz=typeof sr.postMessage=="function"&&!sr.importScripts,G5=(()=>{if(uz){const s=[];sr.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,n=s.length;i<n;i++){const o=s[i];if(o.id===t.data.vscodeScheduleAsyncWork){s.splice(i,1),o.callback();return}}});let e=0;return t=>{const i=++e;s.push({id:i,callback:t}),sr.postMessage({vscodeScheduleAsyncWork:i},"*")}}return s=>setTimeout(s)})(),ns=wC||cA?2:vC?1:3;let MP=!0,PP=!1;function Z5(){if(!PP){PP=!0;const s=new Uint8Array(2);s[0]=1,s[1]=2,MP=new Uint16Array(s.buffer)[0]===512+1}return MP}const Q5=!!(Ya&&Ya.indexOf("Chrome")>=0),hz=!!(Ya&&Ya.indexOf("Firefox")>=0),gz=!!(!Q5&&Ya&&Ya.indexOf("Safari")>=0),fz=!!(Ya&&Ya.indexOf("Edg/")>=0);Ya&&Ya.indexOf("Android")>=0;const Pn={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var Ye;(function(s){function e(v){return v&&typeof v=="object"&&typeof v[Symbol.iterator]=="function"}s.is=e;const t=Object.freeze([]);function i(){return t}s.empty=i;function*n(v){yield v}s.single=n;function o(v){return e(v)?v:n(v)}s.wrap=o;function r(v){return v||t}s.from=r;function*a(v){for(let w=v.length-1;w>=0;w--)yield v[w]}s.reverse=a;function l(v){return!v||v[Symbol.iterator]().next().done===!0}s.isEmpty=l;function c(v){return v[Symbol.iterator]().next().value}s.first=c;function d(v,w){for(const C of v)if(w(C))return!0;return!1}s.some=d;function u(v,w){for(const C of v)if(w(C))return C}s.find=u;function*h(v,w){for(const C of v)w(C)&&(yield C)}s.filter=h;function*g(v,w){let C=0;for(const S of v)yield w(S,C++)}s.map=g;function*m(...v){for(const w of v)for(const C of w)yield C}s.concat=m;function p(v,w,C){let S=C;for(const x of v)S=w(S,x);return S}s.reduce=p;function*_(v,w,C=v.length){for(w<0&&(w+=v.length),C<0?C+=v.length:C>v.length&&(C=v.length);w<C;w++)yield v[w]}s.slice=_;function b(v,w=Number.POSITIVE_INFINITY){const C=[];if(w===0)return[C,v];const S=v[Symbol.iterator]();for(let x=0;x<w;x++){const L=S.next();if(L.done)return[C,s.empty()];C.push(L.value)}return[C,{[Symbol.iterator](){return S}}]}s.consume=b})(Ye||(Ye={}));let Ai=class Yx{constructor(e){this.element=e,this.next=Yx.Undefined,this.prev=Yx.Undefined}};Ai.Undefined=new Ai(void 0);class oo{constructor(){this._first=Ai.Undefined,this._last=Ai.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Ai.Undefined}clear(){let e=this._first;for(;e!==Ai.Undefined;){const t=e.next;e.prev=Ai.Undefined,e.next=Ai.Undefined,e=t}this._first=Ai.Undefined,this._last=Ai.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new Ai(e);if(this._first===Ai.Undefined)this._first=i,this._last=i;else if(t){const o=this._last;this._last=i,i.prev=o,o.next=i}else{const o=this._first;this._first=i,i.next=o,o.prev=i}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(i))}}shift(){if(this._first!==Ai.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Ai.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Ai.Undefined&&e.next!==Ai.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Ai.Undefined&&e.next===Ai.Undefined?(this._first=Ai.Undefined,this._last=Ai.Undefined):e.next===Ai.Undefined?(this._last=this._last.prev,this._last.next=Ai.Undefined):e.prev===Ai.Undefined&&(this._first=this._first.next,this._first.prev=Ai.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Ai.Undefined;)yield e.element,e=e.next}}const Y5="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function mz(s=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(const t of Y5)s.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}const dA=mz();function X5(s){let e=dA;if(s&&s instanceof RegExp)if(s.global)e=s;else{let t="g";s.ignoreCase&&(t+="i"),s.multiline&&(t+="m"),s.unicode&&(t+="u"),e=new RegExp(s.source,t)}return e.lastIndex=0,e}const J5=new oo;J5.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function Ub(s,e,t,i,n){if(n||(n=Ye.first(J5)),t.length>n.maxLen){let c=s-n.maxLen/2;return c<0?c=0:i+=c,t=t.substring(c,s+n.maxLen/2),Ub(s,e,t,i,n)}const o=Date.now(),r=s-1-i;let a=-1,l=null;for(let c=1;!(Date.now()-o>=n.timeBudget);c++){const d=r-n.windowSize*c;e.lastIndex=Math.max(0,d);const u=pz(e,t,r,a);if(!u&&l||(l=u,d<=0))break;a=d}if(l){const c={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return e.lastIndex=0,c}return null}function pz(s,e,t,i){let n;for(;n=s.exec(e);){const o=n.index||0;if(o<=t&&s.lastIndex>=t)return n;if(i>0&&o>i)return null}return null}const Dc=8;class eW{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class tW{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class Xt{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return kS(e,t)}compute(e,t,i){return i}}class rb{constructor(e,t){this.newValue=e,this.didChange=t}}function kS(s,e){if(typeof s!="object"||typeof e!="object"||!s||!e)return new rb(e,s!==e);if(Array.isArray(s)||Array.isArray(e)){const i=Array.isArray(s)&&Array.isArray(e)&&bi(s,e);return new rb(e,!i)}let t=!1;for(const i in e)if(e.hasOwnProperty(i)){const n=kS(s[i],e[i]);n.didChange&&(s[i]=n.newValue,t=!0)}return new rb(s,t)}class _v{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return kS(e,t)}validate(e){return this.defaultValue}}class Rm{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return kS(e,t)}validate(e){return typeof e=="undefined"?this.defaultValue:e}compute(e,t,i){return i}}function Se(s,e){return typeof s=="undefined"?e:s==="false"?!1:!!s}class dt extends Rm{constructor(e,t,i,n=void 0){typeof n!="undefined"&&(n.type="boolean",n.default=i),super(e,t,i,n)}validate(e){return Se(e,this.defaultValue)}}function wu(s,e,t,i){if(typeof s=="undefined")return e;let n=parseInt(s,10);return isNaN(n)?e:(n=Math.max(t,n),n=Math.min(i,n),n|0)}class It extends Rm{static clampedInt(e,t,i,n){return wu(e,t,i,n)}constructor(e,t,i,n,o,r=void 0){typeof r!="undefined"&&(r.type="integer",r.default=i,r.minimum=n,r.maximum=o),super(e,t,i,r),this.minimum=n,this.maximum=o}validate(e){return It.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}function bz(s,e,t,i){if(typeof s=="undefined")return e;const n=er.float(s,e);return er.clamp(n,t,i)}class er extends Rm{static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if(typeof e=="number")return e;if(typeof e=="undefined")return t;const i=parseFloat(e);return isNaN(i)?t:i}constructor(e,t,i,n,o){typeof o!="undefined"&&(o.type="number",o.default=i),super(e,t,i,o),this.validationFn=n}validate(e){return this.validationFn(er.float(e,this.defaultValue))}}class No extends Rm{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,i,n=void 0){typeof n!="undefined"&&(n.type="string",n.default=i),super(e,t,i,n)}validate(e){return No.string(e,this.defaultValue)}}function Ci(s,e,t,i){return typeof s!="string"?e:i&&s in i?i[s]:t.indexOf(s)===-1?e:s}class si extends Rm{constructor(e,t,i,n,o=void 0){typeof o!="undefined"&&(o.type="string",o.enum=n,o.default=i),super(e,t,i,o),this._allowedValues=n}validate(e){return Ci(e,this.defaultValue,this._allowedValues)}}class p0 extends Xt{constructor(e,t,i,n,o,r,a=void 0){typeof a!="undefined"&&(a.type="string",a.enum=o,a.default=n),super(e,t,i,a),this._allowedValues=o,this._convert=r}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}}function _z(s){switch(s){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class vz extends Xt{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[f("vs/editor/common/config/editorOptions","accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached"),f("vs/editor/common/config/editorOptions","accessibilitySupport.on","Optimize for usage with a Screen Reader"),f("vs/editor/common/config/editorOptions","accessibilitySupport.off","Assume a screen reader is not attached")],default:"auto",tags:["accessibility"],description:f("vs/editor/common/config/editorOptions","accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return i===0?e.accessibilitySupport:i}}class wz extends Xt{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:f("vs/editor/common/config/editorOptions","comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:f("vs/editor/common/config/editorOptions","comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertSpace:Se(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:Se(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function Cz(s){switch(s){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var dn;(function(s){s[s.Line=1]="Line",s[s.Block=2]="Block",s[s.Underline=3]="Underline",s[s.LineThin=4]="LineThin",s[s.BlockOutline=5]="BlockOutline",s[s.UnderlineThin=6]="UnderlineThin"})(dn||(dn={}));function Sz(s){switch(s){case"line":return dn.Line;case"block":return dn.Block;case"underline":return dn.Underline;case"line-thin":return dn.LineThin;case"block-outline":return dn.BlockOutline;case"underline-thin":return dn.UnderlineThin}}class yz extends _v{constructor(){super(140)}compute(e,t,i){const n=["monaco-editor"];return t.get(39)&&n.push(t.get(39)),e.extraEditorClassName&&n.push(e.extraEditorClassName),t.get(73)==="default"?n.push("mouse-default"):t.get(73)==="copy"&&n.push("mouse-copy"),t.get(110)&&n.push("showUnused"),t.get(138)&&n.push("showDeprecated"),n.join(" ")}}class kz extends dt{constructor(){super(37,"emptySelectionClipboard",!0,{description:f("vs/editor/common/config/editorOptions","emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}class Lz extends Xt{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:f("vs/editor/common/config/editorOptions","find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[f("vs/editor/common/config/editorOptions","editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),f("vs/editor/common/config/editorOptions","editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),f("vs/editor/common/config/editorOptions","editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:f("vs/editor/common/config/editorOptions","find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[f("vs/editor/common/config/editorOptions","editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),f("vs/editor/common/config/editorOptions","editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),f("vs/editor/common/config/editorOptions","editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:f("vs/editor/common/config/editorOptions","find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:f("vs/editor/common/config/editorOptions","find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:at},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:f("vs/editor/common/config/editorOptions","find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:f("vs/editor/common/config/editorOptions","find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{cursorMoveOnType:Se(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":Ci(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":Ci(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:Se(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:Se(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:Se(t.loop,this.defaultValue.loop)}}}class Jo extends Xt{constructor(){super(51,"fontLigatures",Jo.OFF,{anyOf:[{type:"boolean",description:f("vs/editor/common/config/editorOptions","fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:f("vs/editor/common/config/editorOptions","fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:f("vs/editor/common/config/editorOptions","fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e=="undefined"?this.defaultValue:typeof e=="string"?e==="false"?Jo.OFF:e==="true"?Jo.ON:e:e?Jo.ON:Jo.OFF}}Jo.OFF='"liga" off, "calt" off';Jo.ON='"liga" on, "calt" on';class Vr extends Xt{constructor(){super(54,"fontVariations",Vr.OFF,{anyOf:[{type:"boolean",description:f("vs/editor/common/config/editorOptions","fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:f("vs/editor/common/config/editorOptions","fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:f("vs/editor/common/config/editorOptions","fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(e){return typeof e=="undefined"?this.defaultValue:typeof e=="string"?e==="false"?Vr.OFF:e==="true"?Vr.TRANSLATE:e:e?Vr.TRANSLATE:Vr.OFF}compute(e,t,i){return e.fontInfo.fontVariationSettings}}Vr.OFF="normal";Vr.TRANSLATE="translate";class xz extends _v{constructor(){super(50)}compute(e,t,i){return e.fontInfo}}class Dz extends Rm{constructor(){super(52,"fontSize",Fo.fontSize,{type:"number",minimum:6,maximum:100,default:Fo.fontSize,description:f("vs/editor/common/config/editorOptions","fontSize","Controls the font size in pixels.")})}validate(e){const t=er.float(e,this.defaultValue);return t===0?Fo.fontSize:er.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}class xa extends Xt{constructor(){super(53,"fontWeight",Fo.fontWeight,{anyOf:[{type:"number",minimum:xa.MINIMUM_VALUE,maximum:xa.MAXIMUM_VALUE,errorMessage:f("vs/editor/common/config/editorOptions","fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:xa.SUGGESTION_VALUES}],default:Fo.fontWeight,description:f("vs/editor/common/config/editorOptions","fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(It.clampedInt(e,Fo.fontWeight,xa.MINIMUM_VALUE,xa.MAXIMUM_VALUE))}}xa.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];xa.MINIMUM_VALUE=1;xa.MAXIMUM_VALUE=1e3;class Iz extends Xt{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[f("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),f("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),f("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:f("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:f("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:f("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:f("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:f("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:f("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:f("vs/editor/common/config/editorOptions","alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:f("vs/editor/common/config/editorOptions","alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:f("vs/editor/common/config/editorOptions","alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:f("vs/editor/common/config/editorOptions","alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:f("vs/editor/common/config/editorOptions","alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,n,o,r;if(!e||typeof e!="object")return this.defaultValue;const a=e;return{multiple:Ci(a.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(t=a.multipleDefinitions)!==null&&t!==void 0?t:Ci(a.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(i=a.multipleTypeDefinitions)!==null&&i!==void 0?i:Ci(a.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(n=a.multipleDeclarations)!==null&&n!==void 0?n:Ci(a.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(o=a.multipleImplementations)!==null&&o!==void 0?o:Ci(a.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(r=a.multipleReferences)!==null&&r!==void 0?r:Ci(a.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:No.string(a.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:No.string(a.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:No.string(a.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:No.string(a.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:No.string(a.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class Tz extends Xt{constructor(){const e={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:f("vs/editor/common/config/editorOptions","hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:f("vs/editor/common/config/editorOptions","hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:f("vs/editor/common/config/editorOptions","hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:e.hidingDelay,description:f("vs/editor/common/config/editorOptions","hover.hidingDelay","Controls the delay in milliseconds after thich the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:e.above,description:f("vs/editor/common/config/editorOptions","hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Se(t.enabled,this.defaultValue.enabled),delay:It.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:Se(t.sticky,this.defaultValue.sticky),hidingDelay:It.clampedInt(t.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:Se(t.above,this.defaultValue.above)}}}class ff extends _v{constructor(){super(143)}compute(e,t,i){return ff.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio,glyphMarginDecorationLaneCount:e.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=Math.floor(e.paddingTop/e.lineHeight);let n=Math.floor(e.paddingBottom/e.lineHeight);e.scrollBeyondLastLine&&(n=Math.max(n,t-1));const o=(i+e.viewLineCount+n)/(e.pixelRatio*e.height),r=Math.floor(e.viewLineCount/o);return{typicalViewportLineCount:t,extraLinesBeforeFirstLine:i,extraLinesBeyondLastLine:n,desiredRatio:o,minimapLineCount:r}}static _computeMinimapLayout(e,t){const i=e.outerWidth,n=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};const r=t.stableMinimapLayoutInput,a=r&&e.outerHeight===r.outerHeight&&e.lineHeight===r.lineHeight&&e.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&e.pixelRatio===r.pixelRatio&&e.scrollBeyondLastLine===r.scrollBeyondLastLine&&e.paddingTop===r.paddingTop&&e.paddingBottom===r.paddingBottom&&e.minimap.enabled===r.minimap.enabled&&e.minimap.side===r.minimap.side&&e.minimap.size===r.minimap.size&&e.minimap.showSlider===r.minimap.showSlider&&e.minimap.renderCharacters===r.minimap.renderCharacters&&e.minimap.maxColumn===r.minimap.maxColumn&&e.minimap.scale===r.minimap.scale&&e.verticalScrollbarWidth===r.verticalScrollbarWidth&&e.isViewportWrapping===r.isViewportWrapping,l=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,d=e.scrollBeyondLastLine,u=e.minimap.renderCharacters;let h=o>=2?Math.round(e.minimap.scale*2):e.minimap.scale;const g=e.minimap.maxColumn,m=e.minimap.size,p=e.minimap.side,_=e.verticalScrollbarWidth,b=e.viewLineCount,v=e.remainingWidth,w=e.isViewportWrapping,C=u?2:3;let S=Math.floor(o*n);const x=S/o;let L=!1,I=!1,E=C*h,W=h/o,U=1;if(m==="fill"||m==="fit"){const{typicalViewportLineCount:Le,extraLinesBeforeFirstLine:pe,extraLinesBeyondLastLine:Fe,desiredRatio:Oe,minimapLineCount:ke}=ff.computeContainedMinimapLineCount({viewLineCount:b,scrollBeyondLastLine:d,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:n,lineHeight:l,pixelRatio:o});if(b/ke>1)L=!0,I=!0,h=1,E=1,W=h/o;else{let xi=!1,_n=h+1;if(m==="fit"){const Fi=Math.ceil((pe+b+Fe)*E);w&&a&&v<=t.stableFitRemainingWidth?(xi=!0,_n=t.stableFitMaxMinimapScale):xi=Fi>S}if(m==="fill"||xi){L=!0;const Fi=h;E=Math.min(l*o,Math.max(1,Math.floor(1/Oe))),w&&a&&v<=t.stableFitRemainingWidth&&(_n=t.stableFitMaxMinimapScale),h=Math.min(_n,Math.max(1,Math.floor(E/C))),h>Fi&&(U=Math.min(2,h/Fi)),W=h/o/U,S=Math.ceil(Math.max(Le,pe+b+Fe)*E),w?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=v,t.stableFitMaxMinimapScale=h):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const F=Math.floor(g*W),O=Math.min(F,Math.max(0,Math.floor((v-_-2)*W/(c+W)))+Dc);let G=Math.floor(o*O);const X=G/o;G=Math.floor(G*U);const fe=u?1:2,be=p==="left"?0:i-O-_;return{renderMinimap:fe,minimapLeft:be,minimapWidth:O,minimapHeightIsEditorHeight:L,minimapIsSampling:I,minimapScale:h,minimapLineHeight:E,minimapCanvasInnerWidth:G,minimapCanvasInnerHeight:S,minimapCanvasOuterWidth:X,minimapCanvasOuterHeight:x}}static computeLayout(e,t){const i=t.outerWidth|0,n=t.outerHeight|0,o=t.lineHeight|0,r=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,c=t.pixelRatio,d=t.viewLineCount,u=e.get(135),h=u==="inherit"?e.get(134):u,g=h==="inherit"?e.get(130):h,m=e.get(133),p=t.isDominatedByLongLines,_=e.get(57),b=e.get(67).renderType!==0,v=e.get(68),w=e.get(104),C=e.get(83),S=e.get(72),x=e.get(102),L=x.verticalScrollbarSize,I=x.verticalHasArrows,E=x.arrowSize,W=x.horizontalScrollbarSize,U=e.get(43),F=e.get(109)!=="never";let O=e.get(65);U&&F&&(O+=16);let G=0;if(b){const Hi=Math.max(r,v);G=Math.round(Hi*l)}let X=0;_&&(X=o*t.glyphMarginDecorationLaneCount);let fe=0,be=fe+X,Le=be+G,pe=Le+O;const Fe=i-X-G-O;let Oe=!1,ke=!1,le=-1;h==="inherit"&&p?(Oe=!0,ke=!0):g==="on"||g==="bounded"?ke=!0:g==="wordWrapColumn"&&(le=m);const xi=ff._computeMinimapLayout({outerWidth:i,outerHeight:n,lineHeight:o,typicalHalfwidthCharacterWidth:a,pixelRatio:c,scrollBeyondLastLine:w,paddingTop:C.top,paddingBottom:C.bottom,minimap:S,verticalScrollbarWidth:L,viewLineCount:d,remainingWidth:Fe,isViewportWrapping:ke},t.memory||new tW);xi.renderMinimap!==0&&xi.minimapLeft===0&&(fe+=xi.minimapWidth,be+=xi.minimapWidth,Le+=xi.minimapWidth,pe+=xi.minimapWidth);const _n=Fe-xi.minimapWidth,Fi=Math.max(1,Math.floor((_n-L-2)/a)),_t=I?E:0;return ke&&(le=Math.max(1,Fi),g==="bounded"&&(le=Math.min(le,m))),{width:i,height:n,glyphMarginLeft:fe,glyphMarginWidth:X,glyphMarginDecorationLaneCount:t.glyphMarginDecorationLaneCount,lineNumbersLeft:be,lineNumbersWidth:G,decorationsLeft:Le,decorationsWidth:O,contentLeft:pe,contentWidth:_n,minimap:xi,viewportColumn:Fi,isWordWrapMinified:Oe,isViewportWrapping:ke,wrappingColumn:le,verticalScrollbarWidth:L,horizontalScrollbarHeight:W,overviewRuler:{top:_t,width:L,height:n-2*_t,right:0}}}}class Ez extends Xt{constructor(){super(137,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[f("vs/editor/common/config/editorOptions","wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),f("vs/editor/common/config/editorOptions","wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:f("vs/editor/common/config/editorOptions","wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(e){return Ci(e,"simple",["simple","advanced"])}compute(e,t,i){return t.get(2)===2?"advanced":i}}class Nz extends Xt{constructor(){const e={enabled:!0};super(64,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:f("vs/editor/common/config/editorOptions","codeActions","Enables the Code Action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:Se(e.enabled,this.defaultValue.enabled)}}}class Az extends Xt{constructor(){const e={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(114,"stickyScroll",e,{"editor.stickyScroll.enabled":{type:"boolean",default:e.enabled,description:f("vs/editor/common/config/editorOptions","editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor.")},"editor.stickyScroll.maxLineCount":{type:"number",default:e.maxLineCount,minimum:1,maximum:10,description:f("vs/editor/common/config/editorOptions","editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:e.defaultModel,description:f("vs/editor/common/config/editorOptions","editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:e.scrollWithEditor,description:f("vs/editor/common/config/editorOptions","editor.stickyScroll.scrollWithEditor","Enable scrolling of the sticky scroll widget with the editor's horizontal scrollbar.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Se(t.enabled,this.defaultValue.enabled),maxLineCount:It.clampedInt(t.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:Ci(t.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:Se(t.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class Rz extends Xt{constructor(){const e={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(139,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:f("vs/editor/common/config/editorOptions","inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[f("vs/editor/common/config/editorOptions","editor.inlayHints.on","Inlay hints are enabled"),f("vs/editor/common/config/editorOptions","editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",at?"Ctrl+Option":"Ctrl+Alt"),f("vs/editor/common/config/editorOptions","editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",at?"Ctrl+Option":"Ctrl+Alt"),f("vs/editor/common/config/editorOptions","editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:f("vs/editor/common/config/editorOptions","inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:f("vs/editor/common/config/editorOptions","inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:f("vs/editor/common/config/editorOptions","inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return typeof t.enabled=="boolean"&&(t.enabled=t.enabled?"on":"off"),{enabled:Ci(t.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:It.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:No.string(t.fontFamily,this.defaultValue.fontFamily),padding:Se(t.padding,this.defaultValue.padding)}}}class Mz extends Xt{constructor(){super(65,"lineDecorationsWidth",10)}validate(e){return typeof e=="string"&&/^\d+(\.\d+)?ch$/.test(e)?-parseFloat(e.substring(0,e.length-2)):It.clampedInt(e,this.defaultValue,0,1e3)}compute(e,t,i){return i<0?It.clampedInt(-i*e.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):i}}class Pz extends er{constructor(){super(66,"lineHeight",Fo.lineHeight,e=>er.clamp(e,0,150),{markdownDescription:f("vs/editor/common/config/editorOptions","lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,i){return e.fontInfo.lineHeight}}class Oz extends Xt{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(72,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:f("vs/editor/common/config/editorOptions","minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:f("vs/editor/common/config/editorOptions","minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[f("vs/editor/common/config/editorOptions","minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),f("vs/editor/common/config/editorOptions","minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),f("vs/editor/common/config/editorOptions","minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:f("vs/editor/common/config/editorOptions","minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:f("vs/editor/common/config/editorOptions","minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:f("vs/editor/common/config/editorOptions","minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:f("vs/editor/common/config/editorOptions","minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:f("vs/editor/common/config/editorOptions","minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:f("vs/editor/common/config/editorOptions","minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Se(t.enabled,this.defaultValue.enabled),autohide:Se(t.autohide,this.defaultValue.autohide),size:Ci(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:Ci(t.side,this.defaultValue.side,["right","left"]),showSlider:Ci(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:Se(t.renderCharacters,this.defaultValue.renderCharacters),scale:It.clampedInt(t.scale,1,1,3),maxColumn:It.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Fz(s){return s==="ctrlCmd"?at?"metaKey":"ctrlKey":"altKey"}class Bz extends Xt{constructor(){super(83,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:f("vs/editor/common/config/editorOptions","padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:f("vs/editor/common/config/editorOptions","padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{top:It.clampedInt(t.top,0,0,1e3),bottom:It.clampedInt(t.bottom,0,0,1e3)}}}class Wz extends Xt{constructor(){const e={enabled:!0,cycle:!0};super(85,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:f("vs/editor/common/config/editorOptions","parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:f("vs/editor/common/config/editorOptions","parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Se(t.enabled,this.defaultValue.enabled),cycle:Se(t.cycle,this.defaultValue.cycle)}}}class Vz extends _v{constructor(){super(141)}compute(e,t,i){return e.pixelRatio}}class Hz extends Xt{constructor(){const e={other:"on",comments:"off",strings:"off"},t=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[f("vs/editor/common/config/editorOptions","on","Quick suggestions show inside the suggest widget"),f("vs/editor/common/config/editorOptions","inline","Quick suggestions show as ghost text"),f("vs/editor/common/config/editorOptions","off","Quick suggestions are disabled")]}];super(88,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:t,default:e.strings,description:f("vs/editor/common/config/editorOptions","quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:t,default:e.comments,description:f("vs/editor/common/config/editorOptions","quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:t,default:e.other,description:f("vs/editor/common/config/editorOptions","quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:f("vs/editor/common/config/editorOptions","quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=e}validate(e){if(typeof e=="boolean"){const c=e?"on":"off";return{comments:c,strings:c,other:c}}if(!e||typeof e!="object")return this.defaultValue;const{other:t,comments:i,strings:n}=e,o=["on","inline","off"];let r,a,l;return typeof t=="boolean"?r=t?"on":"off":r=Ci(t,this.defaultValue.other,o),typeof i=="boolean"?a=i?"on":"off":a=Ci(i,this.defaultValue.comments,o),typeof n=="boolean"?l=n?"on":"off":l=Ci(n,this.defaultValue.strings,o),{other:r,comments:a,strings:l}}}class zz extends Xt{constructor(){super(67,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[f("vs/editor/common/config/editorOptions","lineNumbers.off","Line numbers are not rendered."),f("vs/editor/common/config/editorOptions","lineNumbers.on","Line numbers are rendered as absolute number."),f("vs/editor/common/config/editorOptions","lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),f("vs/editor/common/config/editorOptions","lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:f("vs/editor/common/config/editorOptions","lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return typeof e!="undefined"&&(typeof e=="function"?(t=4,i=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:i}}}function CC(s){const e=s.get(97);return e==="editable"?s.get(90):e!=="on"}class Uz extends Xt{constructor(){const e=[],t={type:"number",description:f("vs/editor/common/config/editorOptions","rulers.size","Number of monospace characters at which this editor ruler will render.")};super(101,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:f("vs/editor/common/config/editorOptions","rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:f("vs/editor/common/config/editorOptions","rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){const t=[];for(const i of e)if(typeof i=="number")t.push({column:It.clampedInt(i,0,0,1e4),color:null});else if(i&&typeof i=="object"){const n=i;t.push({column:It.clampedInt(n.column,0,0,1e4),color:n.color})}return t.sort((i,n)=>i.column-n.column),t}return this.defaultValue}}class $z extends Xt{constructor(){super(91,"readOnlyMessage",void 0)}validate(e){return!e||typeof e!="object"?this.defaultValue:e}}function OP(s,e){if(typeof s!="string")return e;switch(s){case"hidden":return 2;case"visible":return 3;default:return 1}}let jz=class extends Xt{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(102,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[f("vs/editor/common/config/editorOptions","scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),f("vs/editor/common/config/editorOptions","scrollbar.vertical.visible","The vertical scrollbar will always be visible."),f("vs/editor/common/config/editorOptions","scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:f("vs/editor/common/config/editorOptions","scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[f("vs/editor/common/config/editorOptions","scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),f("vs/editor/common/config/editorOptions","scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),f("vs/editor/common/config/editorOptions","scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:f("vs/editor/common/config/editorOptions","scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:f("vs/editor/common/config/editorOptions","scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:f("vs/editor/common/config/editorOptions","scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:f("vs/editor/common/config/editorOptions","scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e,i=It.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),n=It.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:It.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:OP(t.vertical,this.defaultValue.vertical),horizontal:OP(t.horizontal,this.defaultValue.horizontal),useShadows:Se(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:Se(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:Se(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:Se(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:Se(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:It.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:n,verticalSliderSize:It.clampedInt(t.verticalSliderSize,n,0,1e3),scrollByPage:Se(t.scrollByPage,this.defaultValue.scrollByPage)}}};const Go="inUntrustedWorkspace",vo={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class Kz extends Xt{constructor(){const e={nonBasicASCII:Go,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Go,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(124,"unicodeHighlight",e,{[vo.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Go],default:e.nonBasicASCII,description:f("vs/editor/common/config/editorOptions","unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[vo.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:f("vs/editor/common/config/editorOptions","unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[vo.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:f("vs/editor/common/config/editorOptions","unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[vo.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Go],default:e.includeComments,description:f("vs/editor/common/config/editorOptions","unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[vo.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Go],default:e.includeStrings,description:f("vs/editor/common/config/editorOptions","unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[vo.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:f("vs/editor/common/config/editorOptions","unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[vo.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:f("vs/editor/common/config/editorOptions","unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&e&&(as(e.allowedCharacters,t.allowedCharacters)||(e=Object.assign(Object.assign({},e),{allowedCharacters:t.allowedCharacters}),i=!0)),t.allowedLocales&&e&&(as(e.allowedLocales,t.allowedLocales)||(e=Object.assign(Object.assign({},e),{allowedLocales:t.allowedLocales}),i=!0));const n=super.applyUpdate(e,t);return i?new rb(n.newValue,!0):n}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{nonBasicASCII:mf(t.nonBasicASCII,Go,[!0,!1,Go]),invisibleCharacters:Se(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:Se(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:mf(t.includeComments,Go,[!0,!1,Go]),includeStrings:mf(t.includeStrings,Go,[!0,!1,Go]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if(typeof e!="object"||!e)return t;const i={};for(const[n,o]of Object.entries(e))o===!0&&(i[n]=!0);return i}}class qz extends Xt{constructor(){const e={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(62,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:f("vs/editor/common/config/editorOptions","inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover"],enumDescriptions:[f("vs/editor/common/config/editorOptions","inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),f("vs/editor/common/config/editorOptions","inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion.")],description:f("vs/editor/common/config/editorOptions","inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:e.suppressSuggestions,description:f("vs/editor/common/config/editorOptions","inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Se(t.enabled,this.defaultValue.enabled),mode:Ci(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:Ci(t.showToolbar,this.defaultValue.showToolbar,["always","onHover"]),suppressSuggestions:Se(t.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:Se(t.keepOnBlur,this.defaultValue.keepOnBlur)}}}class Gz extends Xt{constructor(){const e={enabled:Pn.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:Pn.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:f("vs/editor/common/config/editorOptions","bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:f("vs/editor/common/config/editorOptions","bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Se(t.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:Se(t.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class Zz extends Xt{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[f("vs/editor/common/config/editorOptions","editor.guides.bracketPairs.true","Enables bracket pair guides."),f("vs/editor/common/config/editorOptions","editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),f("vs/editor/common/config/editorOptions","editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:f("vs/editor/common/config/editorOptions","editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[f("vs/editor/common/config/editorOptions","editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),f("vs/editor/common/config/editorOptions","editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),f("vs/editor/common/config/editorOptions","editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:f("vs/editor/common/config/editorOptions","editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:f("vs/editor/common/config/editorOptions","editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:f("vs/editor/common/config/editorOptions","editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[f("vs/editor/common/config/editorOptions","editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),f("vs/editor/common/config/editorOptions","editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),f("vs/editor/common/config/editorOptions","editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:f("vs/editor/common/config/editorOptions","editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{bracketPairs:mf(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:mf(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:Se(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:Se(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:mf(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function mf(s,e,t){const i=t.indexOf(s);return i===-1?e:t[i]}class Qz extends Xt{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(117,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[f("vs/editor/common/config/editorOptions","suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),f("vs/editor/common/config/editorOptions","suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:f("vs/editor/common/config/editorOptions","suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:f("vs/editor/common/config/editorOptions","suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:f("vs/editor/common/config/editorOptions","suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:f("vs/editor/common/config/editorOptions","suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[f("vs/editor/common/config/editorOptions","suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),f("vs/editor/common/config/editorOptions","suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),f("vs/editor/common/config/editorOptions","suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),f("vs/editor/common/config/editorOptions","suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:e.selectionMode,markdownDescription:f("vs/editor/common/config/editorOptions","suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:f("vs/editor/common/config/editorOptions","suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:f("vs/editor/common/config/editorOptions","suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:f("vs/editor/common/config/editorOptions","suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:f("vs/editor/common/config/editorOptions","suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:f("vs/editor/common/config/editorOptions","suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:f("vs/editor/common/config/editorOptions","suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:f("vs/editor/common/config/editorOptions","deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:f("vs/editor/common/config/editorOptions","editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertMode:Ci(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:Se(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:Se(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:Se(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:Se(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:Ci(t.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:Se(t.showIcons,this.defaultValue.showIcons),showStatusBar:Se(t.showStatusBar,this.defaultValue.showStatusBar),preview:Se(t.preview,this.defaultValue.preview),previewMode:Ci(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:Se(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:Se(t.showMethods,this.defaultValue.showMethods),showFunctions:Se(t.showFunctions,this.defaultValue.showFunctions),showConstructors:Se(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:Se(t.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:Se(t.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:Se(t.showFields,this.defaultValue.showFields),showVariables:Se(t.showVariables,this.defaultValue.showVariables),showClasses:Se(t.showClasses,this.defaultValue.showClasses),showStructs:Se(t.showStructs,this.defaultValue.showStructs),showInterfaces:Se(t.showInterfaces,this.defaultValue.showInterfaces),showModules:Se(t.showModules,this.defaultValue.showModules),showProperties:Se(t.showProperties,this.defaultValue.showProperties),showEvents:Se(t.showEvents,this.defaultValue.showEvents),showOperators:Se(t.showOperators,this.defaultValue.showOperators),showUnits:Se(t.showUnits,this.defaultValue.showUnits),showValues:Se(t.showValues,this.defaultValue.showValues),showConstants:Se(t.showConstants,this.defaultValue.showConstants),showEnums:Se(t.showEnums,this.defaultValue.showEnums),showEnumMembers:Se(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:Se(t.showKeywords,this.defaultValue.showKeywords),showWords:Se(t.showWords,this.defaultValue.showWords),showColors:Se(t.showColors,this.defaultValue.showColors),showFiles:Se(t.showFiles,this.defaultValue.showFiles),showReferences:Se(t.showReferences,this.defaultValue.showReferences),showFolders:Se(t.showFolders,this.defaultValue.showFolders),showTypeParameters:Se(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:Se(t.showSnippets,this.defaultValue.showSnippets),showUsers:Se(t.showUsers,this.defaultValue.showUsers),showIssues:Se(t.showIssues,this.defaultValue.showIssues)}}}class Yz extends Xt{constructor(){super(112,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:f("vs/editor/common/config/editorOptions","selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:f("vs/editor/common/config/editorOptions","selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:Se(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:Se(e.selectSubwords,this.defaultValue.selectSubwords)}}}class Xz extends Xt{constructor(){super(136,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[f("vs/editor/common/config/editorOptions","wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),f("vs/editor/common/config/editorOptions","wrappingIndent.same","Wrapped lines get the same indentation as the parent."),f("vs/editor/common/config/editorOptions","wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),f("vs/editor/common/config/editorOptions","wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:f("vs/editor/common/config/editorOptions","wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(e,t,i){return t.get(2)===2?0:i}}class Jz extends _v{constructor(){super(144)}compute(e,t,i){const n=t.get(143);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:n.isWordWrapMinified,isViewportWrapping:n.isViewportWrapping,wrappingColumn:n.wrappingColumn}}}class eU extends Xt{constructor(){const e={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:f("vs/editor/common/config/editorOptions","dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:f("vs/editor/common/config/editorOptions","dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[f("vs/editor/common/config/editorOptions","dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),f("vs/editor/common/config/editorOptions","dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Se(t.enabled,this.defaultValue.enabled),showDropSelector:Ci(t.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class tU extends Xt{constructor(){const e={enabled:!0,showPasteSelector:"afterPaste"};super(84,"pasteAs",e,{"editor.pasteAs.enabled":{type:"boolean",default:e.enabled,markdownDescription:f("vs/editor/common/config/editorOptions","pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:f("vs/editor/common/config/editorOptions","pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[f("vs/editor/common/config/editorOptions","pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),f("vs/editor/common/config/editorOptions","pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Se(t.enabled,this.defaultValue.enabled),showPasteSelector:Ci(t.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const iU="Consolas, 'Courier New', monospace",nU="Menlo, Monaco, 'Courier New', monospace",oU="'Droid Sans Mono', 'monospace', monospace",Fo={fontFamily:at?nU:Qn?oU:iU,fontWeight:"normal",fontSize:at?12:14,lineHeight:0,letterSpacing:0},Hg=[];function ie(s){return Hg[s.id]=s,s}const sa={acceptSuggestionOnCommitCharacter:ie(new dt(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:f("vs/editor/common/config/editorOptions","acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:ie(new si(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",f("vs/editor/common/config/editorOptions","acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:f("vs/editor/common/config/editorOptions","acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:ie(new vz),accessibilityPageSize:ie(new It(3,"accessibilityPageSize",10,1,1073741824,{description:f("vs/editor/common/config/editorOptions","accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:ie(new No(4,"ariaLabel",f("vs/editor/common/config/editorOptions","editorViewAccessibleLabel","Editor content"))),ariaRequired:ie(new dt(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:ie(new dt(8,"screenReaderAnnounceInlineSuggestion",!0,{description:f("vs/editor/common/config/editorOptions","screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:ie(new si(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",f("vs/editor/common/config/editorOptions","editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),f("vs/editor/common/config/editorOptions","editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:f("vs/editor/common/config/editorOptions","autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:ie(new si(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",f("vs/editor/common/config/editorOptions","editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),f("vs/editor/common/config/editorOptions","editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:f("vs/editor/common/config/editorOptions","autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:ie(new si(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",f("vs/editor/common/config/editorOptions","editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:f("vs/editor/common/config/editorOptions","autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:ie(new si(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",f("vs/editor/common/config/editorOptions","editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:f("vs/editor/common/config/editorOptions","autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:ie(new si(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",f("vs/editor/common/config/editorOptions","editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),f("vs/editor/common/config/editorOptions","editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:f("vs/editor/common/config/editorOptions","autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:ie(new p0(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],_z,{enumDescriptions:[f("vs/editor/common/config/editorOptions","editor.autoIndent.none","The editor will not insert indentation automatically."),f("vs/editor/common/config/editorOptions","editor.autoIndent.keep","The editor will keep the current line's indentation."),f("vs/editor/common/config/editorOptions","editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),f("vs/editor/common/config/editorOptions","editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),f("vs/editor/common/config/editorOptions","editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:f("vs/editor/common/config/editorOptions","autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:ie(new dt(13,"automaticLayout",!1)),autoSurround:ie(new si(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[f("vs/editor/common/config/editorOptions","editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),f("vs/editor/common/config/editorOptions","editor.autoSurround.quotes","Surround with quotes but not brackets."),f("vs/editor/common/config/editorOptions","editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:f("vs/editor/common/config/editorOptions","autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:ie(new Gz),bracketPairGuides:ie(new Zz),stickyTabStops:ie(new dt(115,"stickyTabStops",!1,{description:f("vs/editor/common/config/editorOptions","stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:ie(new dt(17,"codeLens",!0,{description:f("vs/editor/common/config/editorOptions","codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:ie(new No(18,"codeLensFontFamily","",{description:f("vs/editor/common/config/editorOptions","codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:ie(new It(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:f("vs/editor/common/config/editorOptions","codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:ie(new dt(20,"colorDecorators",!0,{description:f("vs/editor/common/config/editorOptions","colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:ie(new si(146,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[f("vs/editor/common/config/editorOptions","editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),f("vs/editor/common/config/editorOptions","editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),f("vs/editor/common/config/editorOptions","editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:f("vs/editor/common/config/editorOptions","colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:ie(new It(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:f("vs/editor/common/config/editorOptions","colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:ie(new dt(22,"columnSelection",!1,{description:f("vs/editor/common/config/editorOptions","columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:ie(new wz),contextmenu:ie(new dt(24,"contextmenu",!0)),copyWithSyntaxHighlighting:ie(new dt(25,"copyWithSyntaxHighlighting",!0,{description:f("vs/editor/common/config/editorOptions","copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:ie(new p0(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],Cz,{description:f("vs/editor/common/config/editorOptions","cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:ie(new si(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[f("vs/editor/common/config/editorOptions","cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),f("vs/editor/common/config/editorOptions","cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),f("vs/editor/common/config/editorOptions","cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:f("vs/editor/common/config/editorOptions","cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:ie(new p0(28,"cursorStyle",dn.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],Sz,{description:f("vs/editor/common/config/editorOptions","cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:ie(new It(29,"cursorSurroundingLines",0,0,1073741824,{description:f("vs/editor/common/config/editorOptions","cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:ie(new si(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[f("vs/editor/common/config/editorOptions","cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),f("vs/editor/common/config/editorOptions","cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:f("vs/editor/common/config/editorOptions","cursorSurroundingLinesStyle","Controls when `#cursorSurroundingLines#` should be enforced.")})),cursorWidth:ie(new It(31,"cursorWidth",0,0,1073741824,{markdownDescription:f("vs/editor/common/config/editorOptions","cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:ie(new dt(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:ie(new dt(33,"disableMonospaceOptimizations",!1)),domReadOnly:ie(new dt(34,"domReadOnly",!1)),dragAndDrop:ie(new dt(35,"dragAndDrop",!0,{description:f("vs/editor/common/config/editorOptions","dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:ie(new kz),dropIntoEditor:ie(new eU),stickyScroll:ie(new Az),experimentalWhitespaceRendering:ie(new si(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[f("vs/editor/common/config/editorOptions","experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),f("vs/editor/common/config/editorOptions","experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),f("vs/editor/common/config/editorOptions","experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:f("vs/editor/common/config/editorOptions","experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:ie(new No(39,"extraEditorClassName","")),fastScrollSensitivity:ie(new er(40,"fastScrollSensitivity",5,s=>s<=0?5:s,{markdownDescription:f("vs/editor/common/config/editorOptions","fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:ie(new Lz),fixedOverflowWidgets:ie(new dt(42,"fixedOverflowWidgets",!1)),folding:ie(new dt(43,"folding",!0,{description:f("vs/editor/common/config/editorOptions","folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:ie(new si(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[f("vs/editor/common/config/editorOptions","foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),f("vs/editor/common/config/editorOptions","foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:f("vs/editor/common/config/editorOptions","foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:ie(new dt(45,"foldingHighlight",!0,{description:f("vs/editor/common/config/editorOptions","foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:ie(new dt(46,"foldingImportsByDefault",!1,{description:f("vs/editor/common/config/editorOptions","foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:ie(new It(47,"foldingMaximumRegions",5e3,10,65e3,{description:f("vs/editor/common/config/editorOptions","foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:ie(new dt(48,"unfoldOnClickAfterEndOfLine",!1,{description:f("vs/editor/common/config/editorOptions","unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:ie(new No(49,"fontFamily",Fo.fontFamily,{description:f("vs/editor/common/config/editorOptions","fontFamily","Controls the font family.")})),fontInfo:ie(new xz),fontLigatures2:ie(new Jo),fontSize:ie(new Dz),fontWeight:ie(new xa),fontVariations:ie(new Vr),formatOnPaste:ie(new dt(55,"formatOnPaste",!1,{description:f("vs/editor/common/config/editorOptions","formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:ie(new dt(56,"formatOnType",!1,{description:f("vs/editor/common/config/editorOptions","formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:ie(new dt(57,"glyphMargin",!0,{description:f("vs/editor/common/config/editorOptions","glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:ie(new Iz),hideCursorInOverviewRuler:ie(new dt(59,"hideCursorInOverviewRuler",!1,{description:f("vs/editor/common/config/editorOptions","hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:ie(new Tz),inDiffEditor:ie(new dt(61,"inDiffEditor",!1)),letterSpacing:ie(new er(63,"letterSpacing",Fo.letterSpacing,s=>er.clamp(s,-5,20),{description:f("vs/editor/common/config/editorOptions","letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:ie(new Nz),lineDecorationsWidth:ie(new Mz),lineHeight:ie(new Pz),lineNumbers:ie(new zz),lineNumbersMinChars:ie(new It(68,"lineNumbersMinChars",5,1,300)),linkedEditing:ie(new dt(69,"linkedEditing",!1,{description:f("vs/editor/common/config/editorOptions","linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:ie(new dt(70,"links",!0,{description:f("vs/editor/common/config/editorOptions","links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:ie(new si(71,"matchBrackets","always",["always","near","never"],{description:f("vs/editor/common/config/editorOptions","matchBrackets","Highlight matching brackets.")})),minimap:ie(new Oz),mouseStyle:ie(new si(73,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ie(new er(74,"mouseWheelScrollSensitivity",1,s=>s===0?1:s,{markdownDescription:f("vs/editor/common/config/editorOptions","mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:ie(new dt(75,"mouseWheelZoom",!1,{markdownDescription:f("vs/editor/common/config/editorOptions","mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:ie(new dt(76,"multiCursorMergeOverlapping",!0,{description:f("vs/editor/common/config/editorOptions","multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:ie(new p0(77,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Fz,{markdownEnumDescriptions:[f("vs/editor/common/config/editorOptions","multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),f("vs/editor/common/config/editorOptions","multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:f("vs/editor/common/config/editorOptions",{key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:ie(new si(78,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[f("vs/editor/common/config/editorOptions","multiCursorPaste.spread","Each cursor pastes a single line of the text."),f("vs/editor/common/config/editorOptions","multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:f("vs/editor/common/config/editorOptions","multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:ie(new It(79,"multiCursorLimit",1e4,1,1e5,{markdownDescription:f("vs/editor/common/config/editorOptions","multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:ie(new dt(80,"occurrencesHighlight",!0,{description:f("vs/editor/common/config/editorOptions","occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:ie(new dt(81,"overviewRulerBorder",!0,{description:f("vs/editor/common/config/editorOptions","overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:ie(new It(82,"overviewRulerLanes",3,0,3)),padding:ie(new Bz),pasteAs:ie(new tU),parameterHints:ie(new Wz),peekWidgetDefaultFocus:ie(new si(86,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[f("vs/editor/common/config/editorOptions","peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),f("vs/editor/common/config/editorOptions","peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:f("vs/editor/common/config/editorOptions","peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:ie(new dt(87,"definitionLinkOpensInPeek",!1,{description:f("vs/editor/common/config/editorOptions","definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:ie(new Hz),quickSuggestionsDelay:ie(new It(89,"quickSuggestionsDelay",10,0,1073741824,{description:f("vs/editor/common/config/editorOptions","quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:ie(new dt(90,"readOnly",!1)),readOnlyMessage:ie(new $z),renameOnType:ie(new dt(92,"renameOnType",!1,{description:f("vs/editor/common/config/editorOptions","renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:f("vs/editor/common/config/editorOptions","renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:ie(new dt(93,"renderControlCharacters",!0,{description:f("vs/editor/common/config/editorOptions","renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:ie(new si(94,"renderFinalNewline",Qn?"dimmed":"on",["off","on","dimmed"],{description:f("vs/editor/common/config/editorOptions","renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:ie(new si(95,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",f("vs/editor/common/config/editorOptions","renderLineHighlight.all","Highlights both the gutter and the current line.")],description:f("vs/editor/common/config/editorOptions","renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:ie(new dt(96,"renderLineHighlightOnlyWhenFocus",!1,{description:f("vs/editor/common/config/editorOptions","renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:ie(new si(97,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ie(new si(98,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",f("vs/editor/common/config/editorOptions","renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),f("vs/editor/common/config/editorOptions","renderWhitespace.selection","Render whitespace characters only on selected text."),f("vs/editor/common/config/editorOptions","renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:f("vs/editor/common/config/editorOptions","renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:ie(new It(99,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:ie(new dt(100,"roundedSelection",!0,{description:f("vs/editor/common/config/editorOptions","roundedSelection","Controls whether selections should have rounded corners.")})),rulers:ie(new Uz),scrollbar:ie(new jz),scrollBeyondLastColumn:ie(new It(103,"scrollBeyondLastColumn",4,0,1073741824,{description:f("vs/editor/common/config/editorOptions","scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:ie(new dt(104,"scrollBeyondLastLine",!0,{description:f("vs/editor/common/config/editorOptions","scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:ie(new dt(105,"scrollPredominantAxis",!0,{description:f("vs/editor/common/config/editorOptions","scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:ie(new dt(106,"selectionClipboard",!0,{description:f("vs/editor/common/config/editorOptions","selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Qn})),selectionHighlight:ie(new dt(107,"selectionHighlight",!0,{description:f("vs/editor/common/config/editorOptions","selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:ie(new dt(108,"selectOnLineNumbers",!0)),showFoldingControls:ie(new si(109,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[f("vs/editor/common/config/editorOptions","showFoldingControls.always","Always show the folding controls."),f("vs/editor/common/config/editorOptions","showFoldingControls.never","Never show the folding controls and reduce the gutter size."),f("vs/editor/common/config/editorOptions","showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:f("vs/editor/common/config/editorOptions","showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:ie(new dt(110,"showUnused",!0,{description:f("vs/editor/common/config/editorOptions","showUnused","Controls fading out of unused code.")})),showDeprecated:ie(new dt(138,"showDeprecated",!0,{description:f("vs/editor/common/config/editorOptions","showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:ie(new Rz),snippetSuggestions:ie(new si(111,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[f("vs/editor/common/config/editorOptions","snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),f("vs/editor/common/config/editorOptions","snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),f("vs/editor/common/config/editorOptions","snippetSuggestions.inline","Show snippets suggestions with other suggestions."),f("vs/editor/common/config/editorOptions","snippetSuggestions.none","Do not show snippet suggestions.")],description:f("vs/editor/common/config/editorOptions","snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:ie(new Yz),smoothScrolling:ie(new dt(113,"smoothScrolling",!1,{description:f("vs/editor/common/config/editorOptions","smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:ie(new It(116,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ie(new Qz),inlineSuggest:ie(new qz),inlineCompletionsAccessibilityVerbose:ie(new dt(147,"inlineCompletionsAccessibilityVerbose",!1,{description:f("vs/editor/common/config/editorOptions","inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:ie(new It(118,"suggestFontSize",0,0,1e3,{markdownDescription:f("vs/editor/common/config/editorOptions","suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:ie(new It(119,"suggestLineHeight",0,0,1e3,{markdownDescription:f("vs/editor/common/config/editorOptions","suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:ie(new dt(120,"suggestOnTriggerCharacters",!0,{description:f("vs/editor/common/config/editorOptions","suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:ie(new si(121,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[f("vs/editor/common/config/editorOptions","suggestSelection.first","Always select the first suggestion."),f("vs/editor/common/config/editorOptions","suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),f("vs/editor/common/config/editorOptions","suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:f("vs/editor/common/config/editorOptions","suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:ie(new si(122,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[f("vs/editor/common/config/editorOptions","tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),f("vs/editor/common/config/editorOptions","tabCompletion.off","Disable tab completions."),f("vs/editor/common/config/editorOptions","tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:f("vs/editor/common/config/editorOptions","tabCompletion","Enables tab completions.")})),tabIndex:ie(new It(123,"tabIndex",0,-1,1073741824)),unicodeHighlight:ie(new Kz),unusualLineTerminators:ie(new si(125,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[f("vs/editor/common/config/editorOptions","unusualLineTerminators.auto","Unusual line terminators are automatically removed."),f("vs/editor/common/config/editorOptions","unusualLineTerminators.off","Unusual line terminators are ignored."),f("vs/editor/common/config/editorOptions","unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:f("vs/editor/common/config/editorOptions","unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:ie(new dt(126,"useShadowDOM",!0)),useTabStops:ie(new dt(127,"useTabStops",!0,{description:f("vs/editor/common/config/editorOptions","useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:ie(new si(128,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[f("vs/editor/common/config/editorOptions","wordBreak.normal","Use the default line break rule."),f("vs/editor/common/config/editorOptions","wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:f("vs/editor/common/config/editorOptions","wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:ie(new No(129,"wordSeparators",Y5,{description:f("vs/editor/common/config/editorOptions","wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:ie(new si(130,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[f("vs/editor/common/config/editorOptions","wordWrap.off","Lines will never wrap."),f("vs/editor/common/config/editorOptions","wordWrap.on","Lines will wrap at the viewport width."),f("vs/editor/common/config/editorOptions",{key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),f("vs/editor/common/config/editorOptions",{key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:f("vs/editor/common/config/editorOptions",{key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:ie(new No(131,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:ie(new No(132,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:ie(new It(133,"wordWrapColumn",80,1,1073741824,{markdownDescription:f("vs/editor/common/config/editorOptions",{key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:ie(new si(134,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ie(new si(135,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:ie(new yz),defaultColorDecorators:ie(new dt(145,"defaultColorDecorators",!1,{markdownDescription:f("vs/editor/common/config/editorOptions","defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:ie(new Vz),tabFocusMode:ie(new dt(142,"tabFocusMode",!1,{markdownDescription:f("vs/editor/common/config/editorOptions","tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:ie(new ff),wrappingInfo:ie(new Jz),wrappingIndent:ie(new Xz),wrappingStrategy:ie(new Ez)};class sU{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?Uf.isErrorNoTelemetry(e)?new Uf(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const iW=new sU;function He(s){ra(s)||iW.onUnexpectedError(s)}function Ni(s){ra(s)||iW.onUnexpectedExternalError(s)}function FP(s){if(s instanceof Error){const{name:e,message:t}=s,i=s.stacktrace||s.stack;return{$isError:!0,name:e,message:t,stack:i,noTelemetry:Uf.isErrorNoTelemetry(s)}}return s}const SC="Canceled";function ra(s){return s instanceof Gd?!0:s instanceof Error&&s.name===SC&&s.message===SC}class Gd extends Error{constructor(){super(SC),this.name=this.message}}function rU(){const s=new Error(SC);return s.name=s.message,s}function Ns(s){return s?new Error(`Illegal argument: ${s}`):new Error("Illegal argument")}function uA(s){return s?new Error(`Illegal state: ${s}`):new Error("Illegal state")}class aU extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}class Uf extends Error{constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof Uf)return e;const t=new Uf;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}}class Ti extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,Ti.prototype)}}function Sd(s){const e=this;let t=!1,i;return function(){return t||(t=!0,i=s.apply(e,arguments)),i}}function hA(s){return typeof s.dispose=="function"&&s.dispose.length===0}function St(s){if(Ye.is(s)){const e=[];for(const t of s)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(s)?[]:s}else if(s)return s.dispose(),s}function rr(...s){return Re(()=>St(s))}function Re(s){return{dispose:Sd(()=>{s()})}}class Y{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{St(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?Y.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}deleteAndLeak(e){e&&this._toDispose.has(e)&&this._toDispose.delete(e)}}Y.DISABLE_DISPOSED_WARNING=!1;class H{constructor(){this._store=new Y,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}H.None=Object.freeze({dispose(){}});class pn{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)===null||t===void 0||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,(e=this._value)===null||e===void 0||e.dispose(),this._value=void 0}}class lU{constructor(e){this._disposable=e,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class cU{constructor(e){this.object=e}dispose(){}}class gA{constructor(){this._store=new Map,this._isDisposed=!1}dispose(){this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{St(this._store.values())}finally{this._store.clear()}}get(e){return this._store.get(e)}set(e,t,i=!1){var n;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),i||(n=this._store.get(e))===null||n===void 0||n.dispose(),this._store.set(e,t)}deleteAndDispose(e){var t;(t=this._store.get(e))===null||t===void 0||t.dispose(),this._store.delete(e)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}const dU=globalThis.performance&&typeof globalThis.performance.now=="function";class Wn{static create(e){return new Wn(e)}constructor(e){this._now=dU&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}var ce;(function(s){s.None=()=>H.None;function e(F,O){return u(F,()=>{},0,void 0,!0,void 0,O)}s.defer=e;function t(F){return(O,G=null,X)=>{let fe=!1,be;return be=F(Le=>{if(!fe)return be?be.dispose():fe=!0,O.call(G,Le)},null,X),fe&&be.dispose(),be}}s.once=t;function i(F,O,G){return c((X,fe=null,be)=>F(Le=>X.call(fe,O(Le)),null,be),G)}s.map=i;function n(F,O,G){return c((X,fe=null,be)=>F(Le=>{O(Le),X.call(fe,Le)},null,be),G)}s.forEach=n;function o(F,O,G){return c((X,fe=null,be)=>F(Le=>O(Le)&&X.call(fe,Le),null,be),G)}s.filter=o;function r(F){return F}s.signal=r;function a(...F){return(O,G=null,X)=>{const fe=rr(...F.map(be=>be(Le=>O.call(G,Le))));return d(fe,X)}}s.any=a;function l(F,O,G,X){let fe=G;return i(F,be=>(fe=O(fe,be),fe),X)}s.reduce=l;function c(F,O){let G;const X={onWillAddFirstListener(){G=F(fe.fire,fe)},onDidRemoveLastListener(){G==null||G.dispose()}},fe=new M(X);return O==null||O.add(fe),fe.event}function d(F,O){return O instanceof Array?O.push(F):O&&O.add(F),F}function u(F,O,G=100,X=!1,fe=!1,be,Le){let pe,Fe,Oe,ke=0,le;const xi={leakWarningThreshold:be,onWillAddFirstListener(){pe=F(Fi=>{ke++,Fe=O(Fe,Fi),X&&!Oe&&(_n.fire(Fe),Fe=void 0),le=()=>{const _t=Fe;Fe=void 0,Oe=void 0,(!X||ke>1)&&_n.fire(_t),ke=0},typeof G=="number"?(clearTimeout(Oe),Oe=setTimeout(le,G)):Oe===void 0&&(Oe=0,queueMicrotask(le))})},onWillRemoveListener(){fe&&ke>0&&(le==null||le())},onDidRemoveLastListener(){le=void 0,pe.dispose()}},_n=new M(xi);return Le==null||Le.add(_n),_n.event}s.debounce=u;function h(F,O=0,G){return s.debounce(F,(X,fe)=>X?(X.push(fe),X):[fe],O,void 0,!0,void 0,G)}s.accumulate=h;function g(F,O=(X,fe)=>X===fe,G){let X=!0,fe;return o(F,be=>{const Le=X||!O(be,fe);return X=!1,fe=be,Le},G)}s.latch=g;function m(F,O,G){return[s.filter(F,O,G),s.filter(F,X=>!O(X),G)]}s.split=m;function p(F,O=!1,G=[],X){let fe=G.slice(),be=F(Fe=>{fe?fe.push(Fe):pe.fire(Fe)});X&&X.add(be);const Le=()=>{fe==null||fe.forEach(Fe=>pe.fire(Fe)),fe=null},pe=new M({onWillAddFirstListener(){be||(be=F(Fe=>pe.fire(Fe)),X&&X.add(be))},onDidAddFirstListener(){fe&&(O?setTimeout(Le):Le())},onDidRemoveLastListener(){be&&be.dispose(),be=null}});return X&&X.add(pe),pe.event}s.buffer=p;function _(F,O){return(X,fe,be)=>{const Le=O(new v);return F(function(pe){const Fe=Le.evaluate(pe);Fe!==b&&X.call(fe,Fe)},void 0,be)}}s.chain=_;const b=Symbol("HaltChainable");class v{constructor(){this.steps=[]}map(O){return this.steps.push(O),this}forEach(O){return this.steps.push(G=>(O(G),G)),this}filter(O){return this.steps.push(G=>O(G)?G:b),this}reduce(O,G){let X=G;return this.steps.push(fe=>(X=O(X,fe),X)),this}latch(O=(G,X)=>G===X){let G=!0,X;return this.steps.push(fe=>{const be=G||!O(fe,X);return G=!1,X=fe,be?fe:b}),this}evaluate(O){for(const G of this.steps)if(O=G(O),O===b)break;return O}}function w(F,O,G=X=>X){const X=(...pe)=>Le.fire(G(...pe)),fe=()=>F.on(O,X),be=()=>F.removeListener(O,X),Le=new M({onWillAddFirstListener:fe,onDidRemoveLastListener:be});return Le.event}s.fromNodeEventEmitter=w;function C(F,O,G=X=>X){const X=(...pe)=>Le.fire(G(...pe)),fe=()=>F.addEventListener(O,X),be=()=>F.removeEventListener(O,X),Le=new M({onWillAddFirstListener:fe,onDidRemoveLastListener:be});return Le.event}s.fromDOMEventEmitter=C;function S(F){return new Promise(O=>t(F)(O))}s.toPromise=S;function x(F){const O=new M;return F.then(G=>{O.fire(G)},()=>{O.fire(void 0)}).finally(()=>{O.dispose()}),O.event}s.fromPromise=x;function L(F,O){return O(void 0),F(G=>O(G))}s.runAndSubscribe=L;function I(F,O){let G=null;function X(be){G==null||G.dispose(),G=new Y,O(be,G)}X(void 0);const fe=F(be=>X(be));return Re(()=>{fe.dispose(),G==null||G.dispose()})}s.runAndSubscribeWithStore=I;class E{constructor(O,G){this._observable=O,this._counter=0,this._hasChanged=!1;const X={onWillAddFirstListener:()=>{O.addObserver(this)},onDidRemoveLastListener:()=>{O.removeObserver(this)}};this.emitter=new M(X),G&&G.add(this.emitter)}beginUpdate(O){this._counter++}handlePossibleChange(O){}handleChange(O,G){this._hasChanged=!0}endUpdate(O){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function W(F,O){return new E(F,O).emitter.event}s.fromObservable=W;function U(F){return O=>{let G=0,X=!1;const fe={beginUpdate(){G++},endUpdate(){G--,G===0&&(F.reportChanges(),X&&(X=!1,O()))},handlePossibleChange(){},handleChange(){X=!0}};return F.addObserver(fe),F.reportChanges(),{dispose(){F.removeObserver(fe)}}}}s.fromObservableLight=U})(ce||(ce={}));class $f{constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${e}_${$f._idPool++}`,$f.all.add(this)}start(e){this._stopWatch=new Wn,this.listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}}$f.all=new Set;$f._idPool=0;let uU=-1;class hU{constructor(e,t=Math.random().toString(18).slice(2,5)){this.threshold=e,this.name=t,this._warnCountdown=0}dispose(){var e;(e=this._stacks)===null||e===void 0||e.clear()}check(e,t){const i=this.threshold;if(i<=0||t<i)return;this._stacks||(this._stacks=new Map);const n=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,n+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;let o,r=0;for(const[a,l]of this._stacks)(!o||r<l)&&(o=a,r=l);console.warn(`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${r}):`),console.warn(o)}return()=>{const o=this._stacks.get(e.value)||0;this._stacks.set(e.value,o-1)}}}class fA{static create(){var e;return new fA((e=new Error().stack)!==null&&e!==void 0?e:"")}constructor(e){this.value=e}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class Kk{constructor(e){this.value=e}}const gU=2;let M=class{constructor(e){var t,i,n,o,r;this._size=0,this._options=e,this._leakageMon=!((t=this._options)===null||t===void 0)&&t.leakWarningThreshold?new hU((n=(i=this._options)===null||i===void 0?void 0:i.leakWarningThreshold)!==null&&n!==void 0?n:uU):void 0,this._perfMon=!((o=this._options)===null||o===void 0)&&o._profName?new $f(this._options._profName):void 0,this._deliveryQueue=(r=this._options)===null||r===void 0?void 0:r.deliveryQueue}dispose(){var e,t,i,n;this._disposed||(this._disposed=!0,((e=this._deliveryQueue)===null||e===void 0?void 0:e.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),(i=(t=this._options)===null||t===void 0?void 0:t.onDidRemoveLastListener)===null||i===void 0||i.call(t),(n=this._leakageMon)===null||n===void 0||n.dispose())}get event(){var e;return(e=this._event)!==null&&e!==void 0||(this._event=(t,i,n)=>{var o,r,a,l,c;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),H.None;if(this._disposed)return H.None;i&&(t=t.bind(i));const d=new Kk(t);let u;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(d.stack=fA.create(),u=this._leakageMon.check(d.stack,this._size+1)),this._listeners?this._listeners instanceof Kk?((c=this._deliveryQueue)!==null&&c!==void 0||(this._deliveryQueue=new nW),this._listeners=[this._listeners,d]):this._listeners.push(d):((r=(o=this._options)===null||o===void 0?void 0:o.onWillAddFirstListener)===null||r===void 0||r.call(o,this),this._listeners=d,(l=(a=this._options)===null||a===void 0?void 0:a.onDidAddFirstListener)===null||l===void 0||l.call(a,this)),this._size++;const h=Re(()=>{u==null||u(),this._removeListener(d)});return n instanceof Y?n.add(h):Array.isArray(n)&&n.push(h),h}),this._event}_removeListener(e){var t,i,n,o;if((i=(t=this._options)===null||t===void 0?void 0:t.onWillRemoveListener)===null||i===void 0||i.call(t,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(o=(n=this._options)===null||n===void 0?void 0:n.onDidRemoveLastListener)===null||o===void 0||o.call(n,this),this._size=0;return}const r=this._listeners,a=r.indexOf(e);if(a===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[a]=void 0;const l=this._deliveryQueue.current===this;if(this._size*gU<=r.length){let c=0;for(let d=0;d<r.length;d++)r[d]?r[c++]=r[d]:l&&(this._deliveryQueue.end--,c<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=c}}_deliver(e,t){var i;if(!e)return;const n=((i=this._options)===null||i===void 0?void 0:i.onListenerError)||He;if(!n){e.value(t);return}try{e.value(t)}catch(o){n(o)}}_deliverQueue(e){const t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){var t,i,n,o;if(!((t=this._deliveryQueue)===null||t===void 0)&&t.current&&(this._deliverQueue(this._deliveryQueue),(i=this._perfMon)===null||i===void 0||i.stop()),(n=this._perfMon)===null||n===void 0||n.start(this._size),this._listeners)if(this._listeners instanceof Kk)this._deliver(this._listeners,e);else{const r=this._deliveryQueue;r.enqueue(this,e,this._listeners.length),this._deliverQueue(r)}(o=this._perfMon)===null||o===void 0||o.stop()}hasListeners(){return this._size>0}};const fU=()=>new nW;class nW{constructor(){this.i=-1,this.end=0}enqueue(e,t,i){this.i=0,this.end=i,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class dh extends M{constructor(e){super(e),this._isPaused=0,this._eventQueue=new oo,this._mergeFn=e==null?void 0:e.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._size&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}}class oW extends dh{constructor(e){var t;super(e),this._delay=(t=e.delay)!==null&&t!==void 0?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class mU extends M{constructor(e){super(e),this._queuedEvents=[],this._mergeFn=e==null?void 0:e.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(t=>super.fire(t)),this._queuedEvents=[]}))}}class pU{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new M({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(e){const t={event:e,listener:null};return this.events.push(t),this.hasListeners&&this.hook(t),Re(Sd(()=>{this.hasListeners&&this.unhook(t);const n=this.events.indexOf(t);this.events.splice(n,1)}))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(e=>this.hook(e))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(e=>this.unhook(e))}hook(e){e.listener=e.event(t=>this.emitter.fire(t))}unhook(e){e.listener&&e.listener.dispose(),e.listener=null}dispose(){this.emitter.dispose()}}class mA{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,n)=>e(o=>{const r=this.buffers[this.buffers.length-1];r?r.push(()=>t.call(i,o)):t.call(i,o)},void 0,n)}bufferEvents(e){const t=[];this.buffers.push(t);const i=e();return this.buffers.pop(),t.forEach(n=>n()),i}}class BP{constructor(){this.listening=!1,this.inputEvent=ce.None,this.inputEventListener=H.None,this.emitter=new M({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const sW=Object.freeze(function(s,e){const t=setTimeout(s.bind(e),0);return{dispose(){clearTimeout(t)}}});var Xe;(function(s){function e(t){return t===s.None||t===s.Cancelled||t instanceof Ow?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}s.isCancellationToken=e,s.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ce.None}),s.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:sW})})(Xe||(Xe={}));class Ow{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?sW:(this._emitter||(this._emitter=new M),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}let yi=class{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new Ow),this._token}cancel(){this._token?this._token instanceof Ow&&this._token.cancel():this._token=Xe.Cancelled}dispose(e=!1){var t;e&&this.cancel(),(t=this._parentListener)===null||t===void 0||t.dispose(),this._token?this._token instanceof Ow&&this._token.dispose():this._token=Xe.None}};class pA{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const Fw=new pA,Xx=new pA,Jx=new pA,rW=new Array(230),bU=Object.create(null),_U=Object.create(null),bA=[];for(let s=0;s<=193;s++)bA[s]=-1;(function(){const s="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",s,s],[1,1,"Hyper",0,s,0,s,s,s],[1,2,"Super",0,s,0,s,s,s],[1,3,"Fn",0,s,0,s,s,s],[1,4,"FnLock",0,s,0,s,s,s],[1,5,"Suspend",0,s,0,s,s,s],[1,6,"Resume",0,s,0,s,s,s],[1,7,"Turbo",0,s,0,s,s,s],[1,8,"Sleep",0,s,0,"VK_SLEEP",s,s],[1,9,"WakeUp",0,s,0,s,s,s],[0,10,"KeyA",31,"A",65,"VK_A",s,s],[0,11,"KeyB",32,"B",66,"VK_B",s,s],[0,12,"KeyC",33,"C",67,"VK_C",s,s],[0,13,"KeyD",34,"D",68,"VK_D",s,s],[0,14,"KeyE",35,"E",69,"VK_E",s,s],[0,15,"KeyF",36,"F",70,"VK_F",s,s],[0,16,"KeyG",37,"G",71,"VK_G",s,s],[0,17,"KeyH",38,"H",72,"VK_H",s,s],[0,18,"KeyI",39,"I",73,"VK_I",s,s],[0,19,"KeyJ",40,"J",74,"VK_J",s,s],[0,20,"KeyK",41,"K",75,"VK_K",s,s],[0,21,"KeyL",42,"L",76,"VK_L",s,s],[0,22,"KeyM",43,"M",77,"VK_M",s,s],[0,23,"KeyN",44,"N",78,"VK_N",s,s],[0,24,"KeyO",45,"O",79,"VK_O",s,s],[0,25,"KeyP",46,"P",80,"VK_P",s,s],[0,26,"KeyQ",47,"Q",81,"VK_Q",s,s],[0,27,"KeyR",48,"R",82,"VK_R",s,s],[0,28,"KeyS",49,"S",83,"VK_S",s,s],[0,29,"KeyT",50,"T",84,"VK_T",s,s],[0,30,"KeyU",51,"U",85,"VK_U",s,s],[0,31,"KeyV",52,"V",86,"VK_V",s,s],[0,32,"KeyW",53,"W",87,"VK_W",s,s],[0,33,"KeyX",54,"X",88,"VK_X",s,s],[0,34,"KeyY",55,"Y",89,"VK_Y",s,s],[0,35,"KeyZ",56,"Z",90,"VK_Z",s,s],[0,36,"Digit1",22,"1",49,"VK_1",s,s],[0,37,"Digit2",23,"2",50,"VK_2",s,s],[0,38,"Digit3",24,"3",51,"VK_3",s,s],[0,39,"Digit4",25,"4",52,"VK_4",s,s],[0,40,"Digit5",26,"5",53,"VK_5",s,s],[0,41,"Digit6",27,"6",54,"VK_6",s,s],[0,42,"Digit7",28,"7",55,"VK_7",s,s],[0,43,"Digit8",29,"8",56,"VK_8",s,s],[0,44,"Digit9",30,"9",57,"VK_9",s,s],[0,45,"Digit0",21,"0",48,"VK_0",s,s],[1,46,"Enter",3,"Enter",13,"VK_RETURN",s,s],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",s,s],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",s,s],[1,49,"Tab",2,"Tab",9,"VK_TAB",s,s],[1,50,"Space",10,"Space",32,"VK_SPACE",s,s],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,s,0,s,s,s],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",s,s],[1,64,"F1",59,"F1",112,"VK_F1",s,s],[1,65,"F2",60,"F2",113,"VK_F2",s,s],[1,66,"F3",61,"F3",114,"VK_F3",s,s],[1,67,"F4",62,"F4",115,"VK_F4",s,s],[1,68,"F5",63,"F5",116,"VK_F5",s,s],[1,69,"F6",64,"F6",117,"VK_F6",s,s],[1,70,"F7",65,"F7",118,"VK_F7",s,s],[1,71,"F8",66,"F8",119,"VK_F8",s,s],[1,72,"F9",67,"F9",120,"VK_F9",s,s],[1,73,"F10",68,"F10",121,"VK_F10",s,s],[1,74,"F11",69,"F11",122,"VK_F11",s,s],[1,75,"F12",70,"F12",123,"VK_F12",s,s],[1,76,"PrintScreen",0,s,0,s,s,s],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",s,s],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",s,s],[1,79,"Insert",19,"Insert",45,"VK_INSERT",s,s],[1,80,"Home",14,"Home",36,"VK_HOME",s,s],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",s,s],[1,82,"Delete",20,"Delete",46,"VK_DELETE",s,s],[1,83,"End",13,"End",35,"VK_END",s,s],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",s,s],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",s],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",s],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",s],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",s],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",s,s],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",s,s],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",s,s],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",s,s],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",s,s],[1,94,"NumpadEnter",3,s,0,s,s,s],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",s,s],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",s,s],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",s,s],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",s,s],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",s,s],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",s,s],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",s,s],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",s,s],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",s,s],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",s,s],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",s,s],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",s,s],[1,107,"ContextMenu",58,"ContextMenu",93,s,s,s],[1,108,"Power",0,s,0,s,s,s],[1,109,"NumpadEqual",0,s,0,s,s,s],[1,110,"F13",71,"F13",124,"VK_F13",s,s],[1,111,"F14",72,"F14",125,"VK_F14",s,s],[1,112,"F15",73,"F15",126,"VK_F15",s,s],[1,113,"F16",74,"F16",127,"VK_F16",s,s],[1,114,"F17",75,"F17",128,"VK_F17",s,s],[1,115,"F18",76,"F18",129,"VK_F18",s,s],[1,116,"F19",77,"F19",130,"VK_F19",s,s],[1,117,"F20",78,"F20",131,"VK_F20",s,s],[1,118,"F21",79,"F21",132,"VK_F21",s,s],[1,119,"F22",80,"F22",133,"VK_F22",s,s],[1,120,"F23",81,"F23",134,"VK_F23",s,s],[1,121,"F24",82,"F24",135,"VK_F24",s,s],[1,122,"Open",0,s,0,s,s,s],[1,123,"Help",0,s,0,s,s,s],[1,124,"Select",0,s,0,s,s,s],[1,125,"Again",0,s,0,s,s,s],[1,126,"Undo",0,s,0,s,s,s],[1,127,"Cut",0,s,0,s,s,s],[1,128,"Copy",0,s,0,s,s,s],[1,129,"Paste",0,s,0,s,s,s],[1,130,"Find",0,s,0,s,s,s],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",s,s],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",s,s],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",s,s],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",s,s],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",s,s],[1,136,"KanaMode",0,s,0,s,s,s],[0,137,"IntlYen",0,s,0,s,s,s],[1,138,"Convert",0,s,0,s,s,s],[1,139,"NonConvert",0,s,0,s,s,s],[1,140,"Lang1",0,s,0,s,s,s],[1,141,"Lang2",0,s,0,s,s,s],[1,142,"Lang3",0,s,0,s,s,s],[1,143,"Lang4",0,s,0,s,s,s],[1,144,"Lang5",0,s,0,s,s,s],[1,145,"Abort",0,s,0,s,s,s],[1,146,"Props",0,s,0,s,s,s],[1,147,"NumpadParenLeft",0,s,0,s,s,s],[1,148,"NumpadParenRight",0,s,0,s,s,s],[1,149,"NumpadBackspace",0,s,0,s,s,s],[1,150,"NumpadMemoryStore",0,s,0,s,s,s],[1,151,"NumpadMemoryRecall",0,s,0,s,s,s],[1,152,"NumpadMemoryClear",0,s,0,s,s,s],[1,153,"NumpadMemoryAdd",0,s,0,s,s,s],[1,154,"NumpadMemorySubtract",0,s,0,s,s,s],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",s,s],[1,156,"NumpadClearEntry",0,s,0,s,s,s],[1,0,s,5,"Ctrl",17,"VK_CONTROL",s,s],[1,0,s,4,"Shift",16,"VK_SHIFT",s,s],[1,0,s,6,"Alt",18,"VK_MENU",s,s],[1,0,s,57,"Meta",91,"VK_COMMAND",s,s],[1,157,"ControlLeft",5,s,0,"VK_LCONTROL",s,s],[1,158,"ShiftLeft",4,s,0,"VK_LSHIFT",s,s],[1,159,"AltLeft",6,s,0,"VK_LMENU",s,s],[1,160,"MetaLeft",57,s,0,"VK_LWIN",s,s],[1,161,"ControlRight",5,s,0,"VK_RCONTROL",s,s],[1,162,"ShiftRight",4,s,0,"VK_RSHIFT",s,s],[1,163,"AltRight",6,s,0,"VK_RMENU",s,s],[1,164,"MetaRight",57,s,0,"VK_RWIN",s,s],[1,165,"BrightnessUp",0,s,0,s,s,s],[1,166,"BrightnessDown",0,s,0,s,s,s],[1,167,"MediaPlay",0,s,0,s,s,s],[1,168,"MediaRecord",0,s,0,s,s,s],[1,169,"MediaFastForward",0,s,0,s,s,s],[1,170,"MediaRewind",0,s,0,s,s,s],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",s,s],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",s,s],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",s,s],[1,174,"Eject",0,s,0,s,s,s],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",s,s],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",s,s],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",s,s],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",s,s],[1,179,"LaunchApp1",0,s,0,"VK_MEDIA_LAUNCH_APP1",s,s],[1,180,"SelectTask",0,s,0,s,s,s],[1,181,"LaunchScreenSaver",0,s,0,s,s,s],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",s,s],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",s,s],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",s,s],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",s,s],[1,186,"BrowserStop",0,s,0,"VK_BROWSER_STOP",s,s],[1,187,"BrowserRefresh",0,s,0,"VK_BROWSER_REFRESH",s,s],[1,188,"BrowserFavorites",0,s,0,"VK_BROWSER_FAVORITES",s,s],[1,189,"ZoomToggle",0,s,0,s,s,s],[1,190,"MailReply",0,s,0,s,s,s],[1,191,"MailForward",0,s,0,s,s,s],[1,192,"MailSend",0,s,0,s,s,s],[1,0,s,114,"KeyInComposition",229,s,s,s],[1,0,s,116,"ABNT_C2",194,"VK_ABNT_C2",s,s],[1,0,s,96,"OEM_8",223,"VK_OEM_8",s,s],[1,0,s,0,s,0,"VK_KANA",s,s],[1,0,s,0,s,0,"VK_HANGUL",s,s],[1,0,s,0,s,0,"VK_JUNJA",s,s],[1,0,s,0,s,0,"VK_FINAL",s,s],[1,0,s,0,s,0,"VK_HANJA",s,s],[1,0,s,0,s,0,"VK_KANJI",s,s],[1,0,s,0,s,0,"VK_CONVERT",s,s],[1,0,s,0,s,0,"VK_NONCONVERT",s,s],[1,0,s,0,s,0,"VK_ACCEPT",s,s],[1,0,s,0,s,0,"VK_MODECHANGE",s,s],[1,0,s,0,s,0,"VK_SELECT",s,s],[1,0,s,0,s,0,"VK_PRINT",s,s],[1,0,s,0,s,0,"VK_EXECUTE",s,s],[1,0,s,0,s,0,"VK_SNAPSHOT",s,s],[1,0,s,0,s,0,"VK_HELP",s,s],[1,0,s,0,s,0,"VK_APPS",s,s],[1,0,s,0,s,0,"VK_PROCESSKEY",s,s],[1,0,s,0,s,0,"VK_PACKET",s,s],[1,0,s,0,s,0,"VK_DBE_SBCSCHAR",s,s],[1,0,s,0,s,0,"VK_DBE_DBCSCHAR",s,s],[1,0,s,0,s,0,"VK_ATTN",s,s],[1,0,s,0,s,0,"VK_CRSEL",s,s],[1,0,s,0,s,0,"VK_EXSEL",s,s],[1,0,s,0,s,0,"VK_EREOF",s,s],[1,0,s,0,s,0,"VK_PLAY",s,s],[1,0,s,0,s,0,"VK_ZOOM",s,s],[1,0,s,0,s,0,"VK_NONAME",s,s],[1,0,s,0,s,0,"VK_PA1",s,s],[1,0,s,0,s,0,"VK_OEM_CLEAR",s,s]],t=[],i=[];for(const n of e){const[o,r,a,l,c,d,u,h,g]=n;if(i[r]||(i[r]=!0,bU[a]=r,_U[a.toLowerCase()]=r,o&&(bA[r]=l)),!t[l]){if(t[l]=!0,!c)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);Fw.define(l,c),Xx.define(l,h||c),Jx.define(l,g||h||c)}d&&(rW[d]=l)}})();var Ml;(function(s){function e(a){return Fw.keyCodeToStr(a)}s.toString=e;function t(a){return Fw.strToKeyCode(a)}s.fromString=t;function i(a){return Xx.keyCodeToStr(a)}s.toUserSettingsUS=i;function n(a){return Jx.keyCodeToStr(a)}s.toUserSettingsGeneral=n;function o(a){return Xx.strToKeyCode(a)||Jx.strToKeyCode(a)}s.fromUserSettings=o;function r(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Fw.keyCodeToStr(a)}s.toElectronAccelerator=r})(Ml||(Ml={}));function Oi(s,e){const t=(e&65535)<<16>>>0;return(s|t)>>>0}let pf;if(typeof sr.vscode!="undefined"&&typeof sr.vscode.process!="undefined"){const s=sr.vscode.process;pf={get platform(){return s.platform},get arch(){return s.arch},get env(){return s.env},cwd(){return s.cwd()}}}else typeof process!="undefined"?pf={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:pf={get platform(){return En?"win32":at?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const yC=pf.cwd,aW=pf.env,vU=pf.platform,wU=65,CU=97,SU=90,yU=122,nd=46,jn=47,qo=92,vc=58,kU=63;class lW extends Error{constructor(e,t,i){let n;typeof t=="string"&&t.indexOf("not ")===0?(n="must not be",t=t.replace(/^not /,"")):n="must be";const o=e.indexOf(".")!==-1?"property":"argument";let r=`The "${e}" ${o} ${n} of type ${t}`;r+=`. Received type ${typeof i}`,super(r),this.code="ERR_INVALID_ARG_TYPE"}}function LU(s,e){if(s===null||typeof s!="object")throw new lW(e,"Object",s)}function Yi(s,e){if(typeof s!="string")throw new lW(e,"string",s)}const Zd=vU==="win32";function yt(s){return s===jn||s===qo}function eD(s){return s===jn}function wc(s){return s>=wU&&s<=SU||s>=CU&&s<=yU}function kC(s,e,t,i){let n="",o=0,r=-1,a=0,l=0;for(let c=0;c<=s.length;++c){if(c<s.length)l=s.charCodeAt(c);else{if(i(l))break;l=jn}if(i(l)){if(!(r===c-1||a===1))if(a===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==nd||n.charCodeAt(n.length-2)!==nd){if(n.length>2){const d=n.lastIndexOf(t);d===-1?(n="",o=0):(n=n.slice(0,d),o=n.length-1-n.lastIndexOf(t)),r=c,a=0;continue}else if(n.length!==0){n="",o=0,r=c,a=0;continue}}e&&(n+=n.length>0?`${t}..`:"..",o=2)}else n.length>0?n+=`${t}${s.slice(r+1,c)}`:n=s.slice(r+1,c),o=c-r-1;r=c,a=0}else l===nd&&a!==-1?++a:a=-1}return n}function cW(s,e){LU(e,"pathObject");const t=e.dir||e.root,i=e.base||`${e.name||""}${e.ext||""}`;return t?t===e.root?`${t}${i}`:`${t}${s}${i}`:i}const Po={resolve(...s){let e="",t="",i=!1;for(let n=s.length-1;n>=-1;n--){let o;if(n>=0){if(o=s[n],Yi(o,"path"),o.length===0)continue}else e.length===0?o=yC():(o=aW[`=${e}`]||yC(),(o===void 0||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===qo)&&(o=`${e}\\`));const r=o.length;let a=0,l="",c=!1;const d=o.charCodeAt(0);if(r===1)yt(d)&&(a=1,c=!0);else if(yt(d))if(c=!0,yt(o.charCodeAt(1))){let u=2,h=u;for(;u<r&&!yt(o.charCodeAt(u));)u++;if(u<r&&u!==h){const g=o.slice(h,u);for(h=u;u<r&&yt(o.charCodeAt(u));)u++;if(u<r&&u!==h){for(h=u;u<r&&!yt(o.charCodeAt(u));)u++;(u===r||u!==h)&&(l=`\\\\${g}\\${o.slice(h,u)}`,a=u)}}}else a=1;else wc(d)&&o.charCodeAt(1)===vc&&(l=o.slice(0,2),a=2,r>2&&yt(o.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${o.slice(a)}\\${t}`,i=c,c&&e.length>0)break}return t=kC(t,!i,"\\",yt),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(s){Yi(s,"path");const e=s.length;if(e===0)return".";let t=0,i,n=!1;const o=s.charCodeAt(0);if(e===1)return eD(o)?"\\":s;if(yt(o))if(n=!0,yt(s.charCodeAt(1))){let a=2,l=a;for(;a<e&&!yt(s.charCodeAt(a));)a++;if(a<e&&a!==l){const c=s.slice(l,a);for(l=a;a<e&&yt(s.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!yt(s.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${s.slice(l)}\\`;a!==l&&(i=`\\\\${c}\\${s.slice(l,a)}`,t=a)}}}else t=1;else wc(o)&&s.charCodeAt(1)===vc&&(i=s.slice(0,2),t=2,e>2&&yt(s.charCodeAt(2))&&(n=!0,t=3));let r=t<e?kC(s.slice(t),!n,"\\",yt):"";return r.length===0&&!n&&(r="."),r.length>0&&yt(s.charCodeAt(e-1))&&(r+="\\"),i===void 0?n?`\\${r}`:r:n?`${i}\\${r}`:`${i}${r}`},isAbsolute(s){Yi(s,"path");const e=s.length;if(e===0)return!1;const t=s.charCodeAt(0);return yt(t)||e>2&&wc(t)&&s.charCodeAt(1)===vc&&yt(s.charCodeAt(2))},join(...s){if(s.length===0)return".";let e,t;for(let o=0;o<s.length;++o){const r=s[o];Yi(r,"path"),r.length>0&&(e===void 0?e=t=r:e+=`\\${r}`)}if(e===void 0)return".";let i=!0,n=0;if(typeof t=="string"&&yt(t.charCodeAt(0))){++n;const o=t.length;o>1&&yt(t.charCodeAt(1))&&(++n,o>2&&(yt(t.charCodeAt(2))?++n:i=!1))}if(i){for(;n<e.length&&yt(e.charCodeAt(n));)n++;n>=2&&(e=`\\${e.slice(n)}`)}return Po.normalize(e)},relative(s,e){if(Yi(s,"from"),Yi(e,"to"),s===e)return"";const t=Po.resolve(s),i=Po.resolve(e);if(t===i||(s=t.toLowerCase(),e=i.toLowerCase(),s===e))return"";let n=0;for(;n<s.length&&s.charCodeAt(n)===qo;)n++;let o=s.length;for(;o-1>n&&s.charCodeAt(o-1)===qo;)o--;const r=o-n;let a=0;for(;a<e.length&&e.charCodeAt(a)===qo;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===qo;)l--;const c=l-a,d=r<c?r:c;let u=-1,h=0;for(;h<d;h++){const m=s.charCodeAt(n+h);if(m!==e.charCodeAt(a+h))break;m===qo&&(u=h)}if(h!==d){if(u===-1)return i}else{if(c>d){if(e.charCodeAt(a+h)===qo)return i.slice(a+h+1);if(h===2)return i.slice(a+h)}r>d&&(s.charCodeAt(n+h)===qo?u=h:h===2&&(u=3)),u===-1&&(u=0)}let g="";for(h=n+u+1;h<=o;++h)(h===o||s.charCodeAt(h)===qo)&&(g+=g.length===0?"..":"\\..");return a+=u,g.length>0?`${g}${i.slice(a,l)}`:(i.charCodeAt(a)===qo&&++a,i.slice(a,l))},toNamespacedPath(s){if(typeof s!="string"||s.length===0)return s;const e=Po.resolve(s);if(e.length<=2)return s;if(e.charCodeAt(0)===qo){if(e.charCodeAt(1)===qo){const t=e.charCodeAt(2);if(t!==kU&&t!==nd)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(wc(e.charCodeAt(0))&&e.charCodeAt(1)===vc&&e.charCodeAt(2)===qo)return`\\\\?\\${e}`;return s},dirname(s){Yi(s,"path");const e=s.length;if(e===0)return".";let t=-1,i=0;const n=s.charCodeAt(0);if(e===1)return yt(n)?s:".";if(yt(n)){if(t=i=1,yt(s.charCodeAt(1))){let a=2,l=a;for(;a<e&&!yt(s.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&yt(s.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!yt(s.charCodeAt(a));)a++;if(a===e)return s;a!==l&&(t=i=a+1)}}}}else wc(n)&&s.charCodeAt(1)===vc&&(t=e>2&&yt(s.charCodeAt(2))?3:2,i=t);let o=-1,r=!0;for(let a=e-1;a>=i;--a)if(yt(s.charCodeAt(a))){if(!r){o=a;break}}else r=!1;if(o===-1){if(t===-1)return".";o=t}return s.slice(0,o)},basename(s,e){e!==void 0&&Yi(e,"ext"),Yi(s,"path");let t=0,i=-1,n=!0,o;if(s.length>=2&&wc(s.charCodeAt(0))&&s.charCodeAt(1)===vc&&(t=2),e!==void 0&&e.length>0&&e.length<=s.length){if(e===s)return"";let r=e.length-1,a=-1;for(o=s.length-1;o>=t;--o){const l=s.charCodeAt(o);if(yt(l)){if(!n){t=o+1;break}}else a===-1&&(n=!1,a=o+1),r>=0&&(l===e.charCodeAt(r)?--r===-1&&(i=o):(r=-1,i=a))}return t===i?i=a:i===-1&&(i=s.length),s.slice(t,i)}for(o=s.length-1;o>=t;--o)if(yt(s.charCodeAt(o))){if(!n){t=o+1;break}}else i===-1&&(n=!1,i=o+1);return i===-1?"":s.slice(t,i)},extname(s){Yi(s,"path");let e=0,t=-1,i=0,n=-1,o=!0,r=0;s.length>=2&&s.charCodeAt(1)===vc&&wc(s.charCodeAt(0))&&(e=i=2);for(let a=s.length-1;a>=e;--a){const l=s.charCodeAt(a);if(yt(l)){if(!o){i=a+1;break}continue}n===-1&&(o=!1,n=a+1),l===nd?t===-1?t=a:r!==1&&(r=1):t!==-1&&(r=-1)}return t===-1||n===-1||r===0||r===1&&t===n-1&&t===i+1?"":s.slice(t,n)},format:cW.bind(null,"\\"),parse(s){Yi(s,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return e;const t=s.length;let i=0,n=s.charCodeAt(0);if(t===1)return yt(n)?(e.root=e.dir=s,e):(e.base=e.name=s,e);if(yt(n)){if(i=1,yt(s.charCodeAt(1))){let u=2,h=u;for(;u<t&&!yt(s.charCodeAt(u));)u++;if(u<t&&u!==h){for(h=u;u<t&&yt(s.charCodeAt(u));)u++;if(u<t&&u!==h){for(h=u;u<t&&!yt(s.charCodeAt(u));)u++;u===t?i=u:u!==h&&(i=u+1)}}}}else if(wc(n)&&s.charCodeAt(1)===vc){if(t<=2)return e.root=e.dir=s,e;if(i=2,yt(s.charCodeAt(2))){if(t===3)return e.root=e.dir=s,e;i=3}}i>0&&(e.root=s.slice(0,i));let o=-1,r=i,a=-1,l=!0,c=s.length-1,d=0;for(;c>=i;--c){if(n=s.charCodeAt(c),yt(n)){if(!l){r=c+1;break}continue}a===-1&&(l=!1,a=c+1),n===nd?o===-1?o=c:d!==1&&(d=1):o!==-1&&(d=-1)}return a!==-1&&(o===-1||d===0||d===1&&o===a-1&&o===r+1?e.base=e.name=s.slice(r,a):(e.name=s.slice(r,o),e.base=s.slice(r,a),e.ext=s.slice(o,a))),r>0&&r!==i?e.dir=s.slice(0,r-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},xU=(()=>{if(Zd){const s=/\\/g;return()=>{const e=yC().replace(s,"/");return e.slice(e.indexOf("/"))}}return()=>yC()})(),Mi={resolve(...s){let e="",t=!1;for(let i=s.length-1;i>=-1&&!t;i--){const n=i>=0?s[i]:xU();Yi(n,"path"),n.length!==0&&(e=`${n}/${e}`,t=n.charCodeAt(0)===jn)}return e=kC(e,!t,"/",eD),t?`/${e}`:e.length>0?e:"."},normalize(s){if(Yi(s,"path"),s.length===0)return".";const e=s.charCodeAt(0)===jn,t=s.charCodeAt(s.length-1)===jn;return s=kC(s,!e,"/",eD),s.length===0?e?"/":t?"./":".":(t&&(s+="/"),e?`/${s}`:s)},isAbsolute(s){return Yi(s,"path"),s.length>0&&s.charCodeAt(0)===jn},join(...s){if(s.length===0)return".";let e;for(let t=0;t<s.length;++t){const i=s[t];Yi(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":Mi.normalize(e)},relative(s,e){if(Yi(s,"from"),Yi(e,"to"),s===e||(s=Mi.resolve(s),e=Mi.resolve(e),s===e))return"";const t=1,i=s.length,n=i-t,o=1,r=e.length-o,a=n<r?n:r;let l=-1,c=0;for(;c<a;c++){const u=s.charCodeAt(t+c);if(u!==e.charCodeAt(o+c))break;u===jn&&(l=c)}if(c===a)if(r>a){if(e.charCodeAt(o+c)===jn)return e.slice(o+c+1);if(c===0)return e.slice(o+c)}else n>a&&(s.charCodeAt(t+c)===jn?l=c:c===0&&(l=0));let d="";for(c=t+l+1;c<=i;++c)(c===i||s.charCodeAt(c)===jn)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(o+l)}`},toNamespacedPath(s){return s},dirname(s){if(Yi(s,"path"),s.length===0)return".";const e=s.charCodeAt(0)===jn;let t=-1,i=!0;for(let n=s.length-1;n>=1;--n)if(s.charCodeAt(n)===jn){if(!i){t=n;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":s.slice(0,t)},basename(s,e){e!==void 0&&Yi(e,"ext"),Yi(s,"path");let t=0,i=-1,n=!0,o;if(e!==void 0&&e.length>0&&e.length<=s.length){if(e===s)return"";let r=e.length-1,a=-1;for(o=s.length-1;o>=0;--o){const l=s.charCodeAt(o);if(l===jn){if(!n){t=o+1;break}}else a===-1&&(n=!1,a=o+1),r>=0&&(l===e.charCodeAt(r)?--r===-1&&(i=o):(r=-1,i=a))}return t===i?i=a:i===-1&&(i=s.length),s.slice(t,i)}for(o=s.length-1;o>=0;--o)if(s.charCodeAt(o)===jn){if(!n){t=o+1;break}}else i===-1&&(n=!1,i=o+1);return i===-1?"":s.slice(t,i)},extname(s){Yi(s,"path");let e=-1,t=0,i=-1,n=!0,o=0;for(let r=s.length-1;r>=0;--r){const a=s.charCodeAt(r);if(a===jn){if(!n){t=r+1;break}continue}i===-1&&(n=!1,i=r+1),a===nd?e===-1?e=r:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||i===-1||o===0||o===1&&e===i-1&&e===t+1?"":s.slice(e,i)},format:cW.bind(null,"/"),parse(s){Yi(s,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return e;const t=s.charCodeAt(0)===jn;let i;t?(e.root="/",i=1):i=0;let n=-1,o=0,r=-1,a=!0,l=s.length-1,c=0;for(;l>=i;--l){const d=s.charCodeAt(l);if(d===jn){if(!a){o=l+1;break}continue}r===-1&&(a=!1,r=l+1),d===nd?n===-1?n=l:c!==1&&(c=1):n!==-1&&(c=-1)}if(r!==-1){const d=o===0&&t?1:o;n===-1||c===0||c===1&&n===r-1&&n===o+1?e.base=e.name=s.slice(d,r):(e.name=s.slice(d,n),e.base=s.slice(d,r),e.ext=s.slice(n,r))}return o>0?e.dir=s.slice(0,o-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Mi.win32=Po.win32=Po;Mi.posix=Po.posix=Mi;const dW=Zd?Po.normalize:Mi.normalize,DU=Zd?Po.resolve:Mi.resolve,IU=Zd?Po.relative:Mi.relative,uW=Zd?Po.dirname:Mi.dirname,od=Zd?Po.basename:Mi.basename,TU=Zd?Po.extname:Mi.extname,qr=Zd?Po.sep:Mi.sep,EU=/^\w[\w\d+.-]*$/,NU=/^\//,AU=/^\/\//;function RU(s,e){if(!s.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${s.authority}", path: "${s.path}", query: "${s.query}", fragment: "${s.fragment}"}`);if(s.scheme&&!EU.test(s.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(s.path){if(s.authority){if(!NU.test(s.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(AU.test(s.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function MU(s,e){return!s&&!e?"file":s}function PU(s,e){switch(s){case"https":case"http":case"file":e?e[0]!==Or&&(e=Or+e):e=Or;break}return e}const vi="",Or="/",OU=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class De{static isUri(e){return e instanceof De?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}constructor(e,t,i,n,o,r=!1){typeof e=="object"?(this.scheme=e.scheme||vi,this.authority=e.authority||vi,this.path=e.path||vi,this.query=e.query||vi,this.fragment=e.fragment||vi):(this.scheme=MU(e,r),this.authority=t||vi,this.path=PU(this.scheme,i||vi),this.query=n||vi,this.fragment=o||vi,RU(this,r))}get fsPath(){return LC(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:n,query:o,fragment:r}=e;return t===void 0?t=this.scheme:t===null&&(t=vi),i===void 0?i=this.authority:i===null&&(i=vi),n===void 0?n=this.path:n===null&&(n=vi),o===void 0?o=this.query:o===null&&(o=vi),r===void 0?r=this.fragment:r===null&&(r=vi),t===this.scheme&&i===this.authority&&n===this.path&&o===this.query&&r===this.fragment?this:new ug(t,i,n,o,r)}static parse(e,t=!1){const i=OU.exec(e);return i?new ug(i[2]||vi,b0(i[4]||vi),b0(i[5]||vi),b0(i[7]||vi),b0(i[9]||vi),t):new ug(vi,vi,vi,vi,vi)}static file(e){let t=vi;if(En&&(e=e.replace(/\\/g,Or)),e[0]===Or&&e[1]===Or){const i=e.indexOf(Or,2);i===-1?(t=e.substring(2),e=Or):(t=e.substring(2,i),e=e.substring(i)||Or)}return new ug("file",t,e,vi,vi)}static from(e,t){return new ug(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return En&&e.scheme==="file"?i=De.file(Po.join(LC(e,!0),...t)).path:i=Mi.join(e.path,...t),e.with({path:i})}toString(e=!1){return tD(this,e)}toJSON(){return this}static revive(e){var t,i;if(e){if(e instanceof De)return e;{const n=new ug(e);return n._formatted=(t=e.external)!==null&&t!==void 0?t:null,n._fsPath=e._sep===hW&&(i=e.fsPath)!==null&&i!==void 0?i:null,n}}else return e}}const hW=En?1:void 0;let ug=class extends De{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=LC(this,!1)),this._fsPath}toString(e=!1){return e?tD(this,!0):(this._formatted||(this._formatted=tD(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=hW),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}};const gW={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function WP(s,e,t){let i,n=-1;for(let o=0;o<s.length;o++){const r=s.charCodeAt(o);if(r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||r===45||r===46||r===95||r===126||e&&r===47||t&&r===91||t&&r===93||t&&r===58)n!==-1&&(i+=encodeURIComponent(s.substring(n,o)),n=-1),i!==void 0&&(i+=s.charAt(o));else{i===void 0&&(i=s.substr(0,o));const a=gW[r];a!==void 0?(n!==-1&&(i+=encodeURIComponent(s.substring(n,o)),n=-1),i+=a):n===-1&&(n=o)}}return n!==-1&&(i+=encodeURIComponent(s.substring(n))),i!==void 0?i:s}function FU(s){let e;for(let t=0;t<s.length;t++){const i=s.charCodeAt(t);i===35||i===63?(e===void 0&&(e=s.substr(0,t)),e+=gW[i]):e!==void 0&&(e+=s[t])}return e!==void 0?e:s}function LC(s,e){let t;return s.authority&&s.path.length>1&&s.scheme==="file"?t=`//${s.authority}${s.path}`:s.path.charCodeAt(0)===47&&(s.path.charCodeAt(1)>=65&&s.path.charCodeAt(1)<=90||s.path.charCodeAt(1)>=97&&s.path.charCodeAt(1)<=122)&&s.path.charCodeAt(2)===58?e?t=s.path.substr(1):t=s.path[1].toLowerCase()+s.path.substr(2):t=s.path,En&&(t=t.replace(/\//g,"\\")),t}function tD(s,e){const t=e?FU:WP;let i="",{scheme:n,authority:o,path:r,query:a,fragment:l}=s;if(n&&(i+=n,i+=":"),(o||n==="file")&&(i+=Or,i+=Or),o){let c=o.indexOf("@");if(c!==-1){const d=o.substr(0,c);o=o.substr(c+1),c=d.lastIndexOf(":"),c===-1?i+=t(d,!1,!1):(i+=t(d.substr(0,c),!1,!1),i+=":",i+=t(d.substr(c+1),!1,!0)),i+="@"}o=o.toLowerCase(),c=o.lastIndexOf(":"),c===-1?i+=t(o,!1,!0):(i+=t(o.substr(0,c),!1,!0),i+=o.substr(c))}if(r){if(r.length>=3&&r.charCodeAt(0)===47&&r.charCodeAt(2)===58){const c=r.charCodeAt(1);c>=65&&c<=90&&(r=`/${String.fromCharCode(c+32)}:${r.substr(3)}`)}else if(r.length>=2&&r.charCodeAt(1)===58){const c=r.charCodeAt(0);c>=65&&c<=90&&(r=`${String.fromCharCode(c+32)}:${r.substr(2)}`)}i+=t(r,!0,!1)}return a&&(i+="?",i+=t(a,!1,!1)),l&&(i+="#",i+=e?l:WP(l,!1,!1)),i}function fW(s){try{return decodeURIComponent(s)}catch(e){return s.length>3?s.substr(0,3)+fW(s.substr(3)):s}}const VP=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function b0(s){return s.match(VP)?s.replace(VP,e=>fW(e)):s}let P=class Cu{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new Cu(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return Cu.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return Cu.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return Cu.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){const i=e.lineNumber|0,n=t.lineNumber|0;if(i===n){const o=e.column|0,r=t.column|0;return o-r}return i-n}clone(){return new Cu(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new Cu(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}},k=class on{constructor(e,t,i,n){e>i||e===i&&t>n?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n)}isEmpty(){return on.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return on.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return on.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return on.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return on.plusRange(this,e)}static plusRange(e,t){let i,n,o,r;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,n=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,n=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,n=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,r=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,r=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,r=e.endColumn),new on(i,n,o,r)}intersectRanges(e){return on.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,r=e.endColumn;const a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,d=t.endColumn;return i<a?(i=a,n=l):i===a&&(n=Math.max(n,l)),o>c?(o=c,r=d):o===c&&(r=Math.min(r,d)),i>o||i===o&&n>r?null:new on(i,n,o,r)}equalsRange(e){return on.equalsRange(this,e)}static equalsRange(e,t){return!e&&!t?!0:!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return on.getEndPosition(this)}static getEndPosition(e){return new P(e.endLineNumber,e.endColumn)}getStartPosition(){return on.getStartPosition(this)}static getStartPosition(e){return new P(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new on(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new on(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return on.collapseToStart(this)}static collapseToStart(e){return new on(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return on.collapseToEnd(this)}static collapseToEnd(e){return new on(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new on(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e,t=e){return new on(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new on(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const o=e.startLineNumber|0,r=t.startLineNumber|0;if(o===r){const a=e.startColumn|0,l=t.startColumn|0;if(a===l){const c=e.endLineNumber|0,d=t.endLineNumber|0;if(c===d){const u=e.endColumn|0,h=t.endColumn|0;return u-h}return c-d}return a-l}return o-r}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}},_e=class Qs extends k{constructor(e,t,i,n){super(e,t,i,n),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=n}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return Qs.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new Qs(this.startLineNumber,this.startColumn,e,t):new Qs(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new P(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new P(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new Qs(e,t,this.endLineNumber,this.endColumn):new Qs(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new Qs(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new Qs(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new Qs(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new Qs(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,i,n,o){return o===0?new Qs(e,t,i,n):new Qs(i,n,e,t)}};const iD=Object.create(null);function y(s,e){if(ao(e)){const t=iD[e];if(t===void 0)throw new Error(`${s} references an unknown codicon: ${e}`);e=t}return iD[s]=e,{id:s}}function mW(){return iD}const se={add:y("add",6e4),plus:y("plus",6e4),gistNew:y("gist-new",6e4),repoCreate:y("repo-create",6e4),lightbulb:y("lightbulb",60001),lightBulb:y("light-bulb",60001),repo:y("repo",60002),repoDelete:y("repo-delete",60002),gistFork:y("gist-fork",60003),repoForked:y("repo-forked",60003),gitPullRequest:y("git-pull-request",60004),gitPullRequestAbandoned:y("git-pull-request-abandoned",60004),recordKeys:y("record-keys",60005),keyboard:y("keyboard",60005),tag:y("tag",60006),tagAdd:y("tag-add",60006),tagRemove:y("tag-remove",60006),gitPullRequestLabel:y("git-pull-request-label",60006),person:y("person",60007),personFollow:y("person-follow",60007),personOutline:y("person-outline",60007),personFilled:y("person-filled",60007),gitBranch:y("git-branch",60008),gitBranchCreate:y("git-branch-create",60008),gitBranchDelete:y("git-branch-delete",60008),sourceControl:y("source-control",60008),mirror:y("mirror",60009),mirrorPublic:y("mirror-public",60009),star:y("star",60010),starAdd:y("star-add",60010),starDelete:y("star-delete",60010),starEmpty:y("star-empty",60010),comment:y("comment",60011),commentAdd:y("comment-add",60011),alert:y("alert",60012),warning:y("warning",60012),search:y("search",60013),searchSave:y("search-save",60013),logOut:y("log-out",60014),signOut:y("sign-out",60014),logIn:y("log-in",60015),signIn:y("sign-in",60015),eye:y("eye",60016),eyeUnwatch:y("eye-unwatch",60016),eyeWatch:y("eye-watch",60016),circleFilled:y("circle-filled",60017),primitiveDot:y("primitive-dot",60017),closeDirty:y("close-dirty",60017),debugBreakpoint:y("debug-breakpoint",60017),debugBreakpointDisabled:y("debug-breakpoint-disabled",60017),debugHint:y("debug-hint",60017),primitiveSquare:y("primitive-square",60018),edit:y("edit",60019),pencil:y("pencil",60019),info:y("info",60020),issueOpened:y("issue-opened",60020),gistPrivate:y("gist-private",60021),gitForkPrivate:y("git-fork-private",60021),lock:y("lock",60021),mirrorPrivate:y("mirror-private",60021),close:y("close",60022),removeClose:y("remove-close",60022),x:y("x",60022),repoSync:y("repo-sync",60023),sync:y("sync",60023),clone:y("clone",60024),desktopDownload:y("desktop-download",60024),beaker:y("beaker",60025),microscope:y("microscope",60025),vm:y("vm",60026),deviceDesktop:y("device-desktop",60026),file:y("file",60027),fileText:y("file-text",60027),more:y("more",60028),ellipsis:y("ellipsis",60028),kebabHorizontal:y("kebab-horizontal",60028),mailReply:y("mail-reply",60029),reply:y("reply",60029),organization:y("organization",60030),organizationFilled:y("organization-filled",60030),organizationOutline:y("organization-outline",60030),newFile:y("new-file",60031),fileAdd:y("file-add",60031),newFolder:y("new-folder",60032),fileDirectoryCreate:y("file-directory-create",60032),trash:y("trash",60033),trashcan:y("trashcan",60033),history:y("history",60034),clock:y("clock",60034),folder:y("folder",60035),fileDirectory:y("file-directory",60035),symbolFolder:y("symbol-folder",60035),logoGithub:y("logo-github",60036),markGithub:y("mark-github",60036),github:y("github",60036),terminal:y("terminal",60037),console:y("console",60037),repl:y("repl",60037),zap:y("zap",60038),symbolEvent:y("symbol-event",60038),error:y("error",60039),stop:y("stop",60039),variable:y("variable",60040),symbolVariable:y("symbol-variable",60040),array:y("array",60042),symbolArray:y("symbol-array",60042),symbolModule:y("symbol-module",60043),symbolPackage:y("symbol-package",60043),symbolNamespace:y("symbol-namespace",60043),symbolObject:y("symbol-object",60043),symbolMethod:y("symbol-method",60044),symbolFunction:y("symbol-function",60044),symbolConstructor:y("symbol-constructor",60044),symbolBoolean:y("symbol-boolean",60047),symbolNull:y("symbol-null",60047),symbolNumeric:y("symbol-numeric",60048),symbolNumber:y("symbol-number",60048),symbolStructure:y("symbol-structure",60049),symbolStruct:y("symbol-struct",60049),symbolParameter:y("symbol-parameter",60050),symbolTypeParameter:y("symbol-type-parameter",60050),symbolKey:y("symbol-key",60051),symbolText:y("symbol-text",60051),symbolReference:y("symbol-reference",60052),goToFile:y("go-to-file",60052),symbolEnum:y("symbol-enum",60053),symbolValue:y("symbol-value",60053),symbolRuler:y("symbol-ruler",60054),symbolUnit:y("symbol-unit",60054),activateBreakpoints:y("activate-breakpoints",60055),archive:y("archive",60056),arrowBoth:y("arrow-both",60057),arrowDown:y("arrow-down",60058),arrowLeft:y("arrow-left",60059),arrowRight:y("arrow-right",60060),arrowSmallDown:y("arrow-small-down",60061),arrowSmallLeft:y("arrow-small-left",60062),arrowSmallRight:y("arrow-small-right",60063),arrowSmallUp:y("arrow-small-up",60064),arrowUp:y("arrow-up",60065),bell:y("bell",60066),bold:y("bold",60067),book:y("book",60068),bookmark:y("bookmark",60069),debugBreakpointConditionalUnverified:y("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:y("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:y("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:y("debug-breakpoint-data-unverified",60072),debugBreakpointData:y("debug-breakpoint-data",60073),debugBreakpointDataDisabled:y("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:y("debug-breakpoint-log-unverified",60074),debugBreakpointLog:y("debug-breakpoint-log",60075),debugBreakpointLogDisabled:y("debug-breakpoint-log-disabled",60075),briefcase:y("briefcase",60076),broadcast:y("broadcast",60077),browser:y("browser",60078),bug:y("bug",60079),calendar:y("calendar",60080),caseSensitive:y("case-sensitive",60081),check:y("check",60082),checklist:y("checklist",60083),chevronDown:y("chevron-down",60084),dropDownButton:y("drop-down-button",60084),chevronLeft:y("chevron-left",60085),chevronRight:y("chevron-right",60086),chevronUp:y("chevron-up",60087),chromeClose:y("chrome-close",60088),chromeMaximize:y("chrome-maximize",60089),chromeMinimize:y("chrome-minimize",60090),chromeRestore:y("chrome-restore",60091),circle:y("circle",60092),circleOutline:y("circle-outline",60092),debugBreakpointUnverified:y("debug-breakpoint-unverified",60092),circleSlash:y("circle-slash",60093),circuitBoard:y("circuit-board",60094),clearAll:y("clear-all",60095),clippy:y("clippy",60096),closeAll:y("close-all",60097),cloudDownload:y("cloud-download",60098),cloudUpload:y("cloud-upload",60099),code:y("code",60100),collapseAll:y("collapse-all",60101),colorMode:y("color-mode",60102),commentDiscussion:y("comment-discussion",60103),compareChanges:y("compare-changes",60157),creditCard:y("credit-card",60105),dash:y("dash",60108),dashboard:y("dashboard",60109),database:y("database",60110),debugContinue:y("debug-continue",60111),debugDisconnect:y("debug-disconnect",60112),debugPause:y("debug-pause",60113),debugRestart:y("debug-restart",60114),debugStart:y("debug-start",60115),debugStepInto:y("debug-step-into",60116),debugStepOut:y("debug-step-out",60117),debugStepOver:y("debug-step-over",60118),debugStop:y("debug-stop",60119),debug:y("debug",60120),deviceCameraVideo:y("device-camera-video",60121),deviceCamera:y("device-camera",60122),deviceMobile:y("device-mobile",60123),diffAdded:y("diff-added",60124),diffIgnored:y("diff-ignored",60125),diffModified:y("diff-modified",60126),diffRemoved:y("diff-removed",60127),diffRenamed:y("diff-renamed",60128),diff:y("diff",60129),discard:y("discard",60130),editorLayout:y("editor-layout",60131),emptyWindow:y("empty-window",60132),exclude:y("exclude",60133),extensions:y("extensions",60134),eyeClosed:y("eye-closed",60135),fileBinary:y("file-binary",60136),fileCode:y("file-code",60137),fileMedia:y("file-media",60138),filePdf:y("file-pdf",60139),fileSubmodule:y("file-submodule",60140),fileSymlinkDirectory:y("file-symlink-directory",60141),fileSymlinkFile:y("file-symlink-file",60142),fileZip:y("file-zip",60143),files:y("files",60144),filter:y("filter",60145),flame:y("flame",60146),foldDown:y("fold-down",60147),foldUp:y("fold-up",60148),fold:y("fold",60149),folderActive:y("folder-active",60150),folderOpened:y("folder-opened",60151),gear:y("gear",60152),gift:y("gift",60153),gistSecret:y("gist-secret",60154),gist:y("gist",60155),gitCommit:y("git-commit",60156),gitCompare:y("git-compare",60157),gitMerge:y("git-merge",60158),githubAction:y("github-action",60159),githubAlt:y("github-alt",60160),globe:y("globe",60161),grabber:y("grabber",60162),graph:y("graph",60163),gripper:y("gripper",60164),heart:y("heart",60165),home:y("home",60166),horizontalRule:y("horizontal-rule",60167),hubot:y("hubot",60168),inbox:y("inbox",60169),issueClosed:y("issue-closed",60324),issueReopened:y("issue-reopened",60171),issues:y("issues",60172),italic:y("italic",60173),jersey:y("jersey",60174),json:y("json",60175),bracket:y("bracket",60175),kebabVertical:y("kebab-vertical",60176),key:y("key",60177),law:y("law",60178),lightbulbAutofix:y("lightbulb-autofix",60179),linkExternal:y("link-external",60180),link:y("link",60181),listOrdered:y("list-ordered",60182),listUnordered:y("list-unordered",60183),liveShare:y("live-share",60184),loading:y("loading",60185),location:y("location",60186),mailRead:y("mail-read",60187),mail:y("mail",60188),markdown:y("markdown",60189),megaphone:y("megaphone",60190),mention:y("mention",60191),milestone:y("milestone",60192),gitPullRequestMilestone:y("git-pull-request-milestone",60192),mortarBoard:y("mortar-board",60193),move:y("move",60194),multipleWindows:y("multiple-windows",60195),mute:y("mute",60196),noNewline:y("no-newline",60197),note:y("note",60198),octoface:y("octoface",60199),openPreview:y("open-preview",60200),package:y("package",60201),paintcan:y("paintcan",60202),pin:y("pin",60203),play:y("play",60204),run:y("run",60204),plug:y("plug",60205),preserveCase:y("preserve-case",60206),preview:y("preview",60207),project:y("project",60208),pulse:y("pulse",60209),question:y("question",60210),quote:y("quote",60211),radioTower:y("radio-tower",60212),reactions:y("reactions",60213),references:y("references",60214),refresh:y("refresh",60215),regex:y("regex",60216),remoteExplorer:y("remote-explorer",60217),remote:y("remote",60218),remove:y("remove",60219),replaceAll:y("replace-all",60220),replace:y("replace",60221),repoClone:y("repo-clone",60222),repoForcePush:y("repo-force-push",60223),repoPull:y("repo-pull",60224),repoPush:y("repo-push",60225),report:y("report",60226),requestChanges:y("request-changes",60227),rocket:y("rocket",60228),rootFolderOpened:y("root-folder-opened",60229),rootFolder:y("root-folder",60230),rss:y("rss",60231),ruby:y("ruby",60232),saveAll:y("save-all",60233),saveAs:y("save-as",60234),save:y("save",60235),screenFull:y("screen-full",60236),screenNormal:y("screen-normal",60237),searchStop:y("search-stop",60238),server:y("server",60240),settingsGear:y("settings-gear",60241),settings:y("settings",60242),shield:y("shield",60243),smiley:y("smiley",60244),sortPrecedence:y("sort-precedence",60245),splitHorizontal:y("split-horizontal",60246),splitVertical:y("split-vertical",60247),squirrel:y("squirrel",60248),starFull:y("star-full",60249),starHalf:y("star-half",60250),symbolClass:y("symbol-class",60251),symbolColor:y("symbol-color",60252),symbolCustomColor:y("symbol-customcolor",60252),symbolConstant:y("symbol-constant",60253),symbolEnumMember:y("symbol-enum-member",60254),symbolField:y("symbol-field",60255),symbolFile:y("symbol-file",60256),symbolInterface:y("symbol-interface",60257),symbolKeyword:y("symbol-keyword",60258),symbolMisc:y("symbol-misc",60259),symbolOperator:y("symbol-operator",60260),symbolProperty:y("symbol-property",60261),wrench:y("wrench",60261),wrenchSubaction:y("wrench-subaction",60261),symbolSnippet:y("symbol-snippet",60262),tasklist:y("tasklist",60263),telescope:y("telescope",60264),textSize:y("text-size",60265),threeBars:y("three-bars",60266),thumbsdown:y("thumbsdown",60267),thumbsup:y("thumbsup",60268),tools:y("tools",60269),triangleDown:y("triangle-down",60270),triangleLeft:y("triangle-left",60271),triangleRight:y("triangle-right",60272),triangleUp:y("triangle-up",60273),twitter:y("twitter",60274),unfold:y("unfold",60275),unlock:y("unlock",60276),unmute:y("unmute",60277),unverified:y("unverified",60278),verified:y("verified",60279),versions:y("versions",60280),vmActive:y("vm-active",60281),vmOutline:y("vm-outline",60282),vmRunning:y("vm-running",60283),watch:y("watch",60284),whitespace:y("whitespace",60285),wholeWord:y("whole-word",60286),window:y("window",60287),wordWrap:y("word-wrap",60288),zoomIn:y("zoom-in",60289),zoomOut:y("zoom-out",60290),listFilter:y("list-filter",60291),listFlat:y("list-flat",60292),listSelection:y("list-selection",60293),selection:y("selection",60293),listTree:y("list-tree",60294),debugBreakpointFunctionUnverified:y("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:y("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:y("debug-breakpoint-function-disabled",60296),debugStackframeActive:y("debug-stackframe-active",60297),circleSmallFilled:y("circle-small-filled",60298),debugStackframeDot:y("debug-stackframe-dot",60298),debugStackframe:y("debug-stackframe",60299),debugStackframeFocused:y("debug-stackframe-focused",60299),debugBreakpointUnsupported:y("debug-breakpoint-unsupported",60300),symbolString:y("symbol-string",60301),debugReverseContinue:y("debug-reverse-continue",60302),debugStepBack:y("debug-step-back",60303),debugRestartFrame:y("debug-restart-frame",60304),callIncoming:y("call-incoming",60306),callOutgoing:y("call-outgoing",60307),menu:y("menu",60308),expandAll:y("expand-all",60309),feedback:y("feedback",60310),gitPullRequestReviewer:y("git-pull-request-reviewer",60310),groupByRefType:y("group-by-ref-type",60311),ungroupByRefType:y("ungroup-by-ref-type",60312),account:y("account",60313),gitPullRequestAssignee:y("git-pull-request-assignee",60313),bellDot:y("bell-dot",60314),debugConsole:y("debug-console",60315),library:y("library",60316),output:y("output",60317),runAll:y("run-all",60318),syncIgnored:y("sync-ignored",60319),pinned:y("pinned",60320),githubInverted:y("github-inverted",60321),debugAlt:y("debug-alt",60305),serverProcess:y("server-process",60322),serverEnvironment:y("server-environment",60323),pass:y("pass",60324),stopCircle:y("stop-circle",60325),playCircle:y("play-circle",60326),record:y("record",60327),debugAltSmall:y("debug-alt-small",60328),vmConnect:y("vm-connect",60329),cloud:y("cloud",60330),merge:y("merge",60331),exportIcon:y("export",60332),graphLeft:y("graph-left",60333),magnet:y("magnet",60334),notebook:y("notebook",60335),redo:y("redo",60336),checkAll:y("check-all",60337),pinnedDirty:y("pinned-dirty",60338),passFilled:y("pass-filled",60339),circleLargeFilled:y("circle-large-filled",60340),circleLarge:y("circle-large",60341),circleLargeOutline:y("circle-large-outline",60341),combine:y("combine",60342),gather:y("gather",60342),table:y("table",60343),variableGroup:y("variable-group",60344),typeHierarchy:y("type-hierarchy",60345),typeHierarchySub:y("type-hierarchy-sub",60346),typeHierarchySuper:y("type-hierarchy-super",60347),gitPullRequestCreate:y("git-pull-request-create",60348),runAbove:y("run-above",60349),runBelow:y("run-below",60350),notebookTemplate:y("notebook-template",60351),debugRerun:y("debug-rerun",60352),workspaceTrusted:y("workspace-trusted",60353),workspaceUntrusted:y("workspace-untrusted",60354),workspaceUnspecified:y("workspace-unspecified",60355),terminalCmd:y("terminal-cmd",60356),terminalDebian:y("terminal-debian",60357),terminalLinux:y("terminal-linux",60358),terminalPowershell:y("terminal-powershell",60359),terminalTmux:y("terminal-tmux",60360),terminalUbuntu:y("terminal-ubuntu",60361),terminalBash:y("terminal-bash",60362),arrowSwap:y("arrow-swap",60363),copy:y("copy",60364),personAdd:y("person-add",60365),filterFilled:y("filter-filled",60366),wand:y("wand",60367),debugLineByLine:y("debug-line-by-line",60368),inspect:y("inspect",60369),layers:y("layers",60370),layersDot:y("layers-dot",60371),layersActive:y("layers-active",60372),compass:y("compass",60373),compassDot:y("compass-dot",60374),compassActive:y("compass-active",60375),azure:y("azure",60376),issueDraft:y("issue-draft",60377),gitPullRequestClosed:y("git-pull-request-closed",60378),gitPullRequestDraft:y("git-pull-request-draft",60379),debugAll:y("debug-all",60380),debugCoverage:y("debug-coverage",60381),runErrors:y("run-errors",60382),folderLibrary:y("folder-library",60383),debugContinueSmall:y("debug-continue-small",60384),beakerStop:y("beaker-stop",60385),graphLine:y("graph-line",60386),graphScatter:y("graph-scatter",60387),pieChart:y("pie-chart",60388),bracketDot:y("bracket-dot",60389),bracketError:y("bracket-error",60390),lockSmall:y("lock-small",60391),azureDevops:y("azure-devops",60392),verifiedFilled:y("verified-filled",60393),newLine:y("newline",60394),layout:y("layout",60395),layoutActivitybarLeft:y("layout-activitybar-left",60396),layoutActivitybarRight:y("layout-activitybar-right",60397),layoutPanelLeft:y("layout-panel-left",60398),layoutPanelCenter:y("layout-panel-center",60399),layoutPanelJustify:y("layout-panel-justify",60400),layoutPanelRight:y("layout-panel-right",60401),layoutPanel:y("layout-panel",60402),layoutSidebarLeft:y("layout-sidebar-left",60403),layoutSidebarRight:y("layout-sidebar-right",60404),layoutStatusbar:y("layout-statusbar",60405),layoutMenubar:y("layout-menubar",60406),layoutCentered:y("layout-centered",60407),layoutSidebarRightOff:y("layout-sidebar-right-off",60416),layoutPanelOff:y("layout-panel-off",60417),layoutSidebarLeftOff:y("layout-sidebar-left-off",60418),target:y("target",60408),indent:y("indent",60409),recordSmall:y("record-small",60410),errorSmall:y("error-small",60411),arrowCircleDown:y("arrow-circle-down",60412),arrowCircleLeft:y("arrow-circle-left",60413),arrowCircleRight:y("arrow-circle-right",60414),arrowCircleUp:y("arrow-circle-up",60415),heartFilled:y("heart-filled",60420),map:y("map",60421),mapFilled:y("map-filled",60422),circleSmall:y("circle-small",60423),bellSlash:y("bell-slash",60424),bellSlashDot:y("bell-slash-dot",60425),commentUnresolved:y("comment-unresolved",60426),gitPullRequestGoToChanges:y("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:y("git-pull-request-new-changes",60428),searchFuzzy:y("search-fuzzy",60429),commentDraft:y("comment-draft",60430),send:y("send",60431),sparkle:y("sparkle",60432),insert:y("insert",60433),mic:y("mic",60434),dialogError:y("dialog-error","error"),dialogWarning:y("dialog-warning","warning"),dialogInfo:y("dialog-info","info"),dialogClose:y("dialog-close","close"),treeItemExpanded:y("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:y("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:y("tree-filter-on-type-off","list-selection"),treeFilterClear:y("tree-filter-clear","close"),treeItemLoading:y("tree-item-loading","loading"),menuSelection:y("menu-selection","check"),menuSubmenu:y("menu-submenu","chevron-right"),menuBarMore:y("menubar-more","more"),scrollbarButtonLeft:y("scrollbar-button-left","triangle-left"),scrollbarButtonRight:y("scrollbar-button-right","triangle-right"),scrollbarButtonUp:y("scrollbar-button-up","triangle-up"),scrollbarButtonDown:y("scrollbar-button-down","triangle-down"),toolBarMore:y("toolbar-more","more"),quickInputBack:y("quick-input-back","arrow-left")};var nD=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};let BU=class{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new M,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._tokenizationSupports.set(e,t),this.handleChange([e]),Re(()=>{this._tokenizationSupports.get(e)===t&&(this._tokenizationSupports.delete(e),this.handleChange([e]))})}get(e){return this._tokenizationSupports.get(e)||null}registerFactory(e,t){var i;(i=this._factories.get(e))===null||i===void 0||i.dispose();const n=new WU(this,e,t);return this._factories.set(e,n),Re(()=>{const o=this._factories.get(e);!o||o!==n||(this._factories.delete(e),o.dispose())})}getOrCreate(e){return nD(this,void 0,void 0,function*(){const t=this.get(e);if(t)return t;const i=this._factories.get(e);return!i||i.isResolved?null:(yield i.resolve(),this.get(e))})}isResolved(e){if(this.get(e))return!0;const i=this._factories.get(e);return!!(!i||i.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};class WU extends H{get isResolved(){return this._isResolved}constructor(e,t,i){super(),this._registry=e,this._languageId=t,this._factory=i,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return nD(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return nD(this,void 0,void 0,function*(){const e=yield this._factory.tokenizationSupport;this._isResolved=!0,e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,e))})}}let $b=class{constructor(e,t,i){this.offset=e,this.type=t,this.language=i,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}};class _A{constructor(e,t){this.tokens=e,this.endState=t,this._tokenizationResultBrand=void 0}}class LS{constructor(e,t){this.tokens=e,this.endState=t,this._encodedTokenizationResultBrand=void 0}}var jb;(function(s){const e=new Map;e.set(0,se.symbolMethod),e.set(1,se.symbolFunction),e.set(2,se.symbolConstructor),e.set(3,se.symbolField),e.set(4,se.symbolVariable),e.set(5,se.symbolClass),e.set(6,se.symbolStruct),e.set(7,se.symbolInterface),e.set(8,se.symbolModule),e.set(9,se.symbolProperty),e.set(10,se.symbolEvent),e.set(11,se.symbolOperator),e.set(12,se.symbolUnit),e.set(13,se.symbolValue),e.set(15,se.symbolEnum),e.set(14,se.symbolConstant),e.set(15,se.symbolEnum),e.set(16,se.symbolEnumMember),e.set(17,se.symbolKeyword),e.set(27,se.symbolSnippet),e.set(18,se.symbolText),e.set(19,se.symbolColor),e.set(20,se.symbolFile),e.set(21,se.symbolReference),e.set(22,se.symbolCustomColor),e.set(23,se.symbolFolder),e.set(24,se.symbolTypeParameter),e.set(25,se.account),e.set(26,se.issues);function t(o){let r=e.get(o);return r||(console.info("No codicon found for CompletionItemKind "+o),r=se.symbolProperty),r}s.toIcon=t;const i=new Map;i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26);function n(o,r){let a=i.get(o);return typeof a=="undefined"&&!r&&(a=9),a}s.fromString=n})(jb||(jb={}));var Yl;(function(s){s[s.Automatic=0]="Automatic",s[s.Explicit=1]="Explicit"})(Yl||(Yl={}));class pW{constructor(e,t,i,n){this.range=e,this.text=t,this.completionKind=i,this.isSnippetText=n}equals(e){return k.lift(this.range).equalsRange(e.range)&&this.text===e.text&&this.completionKind===e.completionKind&&this.isSnippetText===e.isSnippetText}}var Ka;(function(s){s[s.Invoke=1]="Invoke",s[s.TriggerCharacter=2]="TriggerCharacter",s[s.ContentChange=3]="ContentChange"})(Ka||(Ka={}));var Kb;(function(s){s[s.Text=0]="Text",s[s.Read=1]="Read",s[s.Write=2]="Write"})(Kb||(Kb={}));function VU(s){return s&&De.isUri(s.uri)&&k.isIRange(s.range)&&(k.isIRange(s.originSelectionRange)||k.isIRange(s.targetSelectionRange))}const HU={17:f("vs/editor/common/languages","Array","array"),16:f("vs/editor/common/languages","Boolean","boolean"),4:f("vs/editor/common/languages","Class","class"),13:f("vs/editor/common/languages","Constant","constant"),8:f("vs/editor/common/languages","Constructor","constructor"),9:f("vs/editor/common/languages","Enum","enumeration"),21:f("vs/editor/common/languages","EnumMember","enumeration member"),23:f("vs/editor/common/languages","Event","event"),7:f("vs/editor/common/languages","Field","field"),0:f("vs/editor/common/languages","File","file"),11:f("vs/editor/common/languages","Function","function"),10:f("vs/editor/common/languages","Interface","interface"),19:f("vs/editor/common/languages","Key","key"),5:f("vs/editor/common/languages","Method","method"),1:f("vs/editor/common/languages","Module","module"),2:f("vs/editor/common/languages","Namespace","namespace"),20:f("vs/editor/common/languages","Null","null"),15:f("vs/editor/common/languages","Number","number"),18:f("vs/editor/common/languages","Object","object"),24:f("vs/editor/common/languages","Operator","operator"),3:f("vs/editor/common/languages","Package","package"),6:f("vs/editor/common/languages","Property","property"),14:f("vs/editor/common/languages","String","string"),22:f("vs/editor/common/languages","Struct","struct"),25:f("vs/editor/common/languages","TypeParameter","type parameter"),12:f("vs/editor/common/languages","Variable","variable")};function zU(s,e){return f("vs/editor/common/languages","symbolAriaLabel","{0} ({1})",s,HU[e])}var xC;(function(s){const e=new Map;e.set(0,se.symbolFile),e.set(1,se.symbolModule),e.set(2,se.symbolNamespace),e.set(3,se.symbolPackage),e.set(4,se.symbolClass),e.set(5,se.symbolMethod),e.set(6,se.symbolProperty),e.set(7,se.symbolField),e.set(8,se.symbolConstructor),e.set(9,se.symbolEnum),e.set(10,se.symbolInterface),e.set(11,se.symbolFunction),e.set(12,se.symbolVariable),e.set(13,se.symbolConstant),e.set(14,se.symbolString),e.set(15,se.symbolNumber),e.set(16,se.symbolBoolean),e.set(17,se.symbolArray),e.set(18,se.symbolObject),e.set(19,se.symbolKey),e.set(20,se.symbolNull),e.set(21,se.symbolEnumMember),e.set(22,se.symbolStruct),e.set(23,se.symbolEvent),e.set(24,se.symbolOperator),e.set(25,se.symbolTypeParameter);function t(i){let n=e.get(i);return n||(console.info("No codicon found for SymbolKind "+i),n=se.symbolProperty),n}s.toIcon=t})(xC||(xC={}));class so{static fromValue(e){switch(e){case"comment":return so.Comment;case"imports":return so.Imports;case"region":return so.Region}return new so(e)}constructor(e){this.value=e}}so.Comment=new so("comment");so.Imports=new so("imports");so.Region=new so("region");var oD;(function(s){function e(t){return!t||typeof t!="object"?!1:typeof t.id=="string"&&typeof t.title=="string"}s.is=e})(oD||(oD={}));var DC;(function(s){s[s.Type=1]="Type",s[s.Parameter=2]="Parameter"})(DC||(DC={}));class UU{constructor(e){this.createSupport=e,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(e=>{e&&e.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const ei=new BU;var sD;(function(s){s[s.Unknown=0]="Unknown",s[s.Disabled=1]="Disabled",s[s.Enabled=2]="Enabled"})(sD||(sD={}));var rD;(function(s){s[s.Invoke=1]="Invoke",s[s.Auto=2]="Auto"})(rD||(rD={}));var aD;(function(s){s[s.None=0]="None",s[s.KeepWhitespace=1]="KeepWhitespace",s[s.InsertAsSnippet=4]="InsertAsSnippet"})(aD||(aD={}));var lD;(function(s){s[s.Method=0]="Method",s[s.Function=1]="Function",s[s.Constructor=2]="Constructor",s[s.Field=3]="Field",s[s.Variable=4]="Variable",s[s.Class=5]="Class",s[s.Struct=6]="Struct",s[s.Interface=7]="Interface",s[s.Module=8]="Module",s[s.Property=9]="Property",s[s.Event=10]="Event",s[s.Operator=11]="Operator",s[s.Unit=12]="Unit",s[s.Value=13]="Value",s[s.Constant=14]="Constant",s[s.Enum=15]="Enum",s[s.EnumMember=16]="EnumMember",s[s.Keyword=17]="Keyword",s[s.Text=18]="Text",s[s.Color=19]="Color",s[s.File=20]="File",s[s.Reference=21]="Reference",s[s.Customcolor=22]="Customcolor",s[s.Folder=23]="Folder",s[s.TypeParameter=24]="TypeParameter",s[s.User=25]="User",s[s.Issue=26]="Issue",s[s.Snippet=27]="Snippet"})(lD||(lD={}));var cD;(function(s){s[s.Deprecated=1]="Deprecated"})(cD||(cD={}));var dD;(function(s){s[s.Invoke=0]="Invoke",s[s.TriggerCharacter=1]="TriggerCharacter",s[s.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(dD||(dD={}));var uD;(function(s){s[s.EXACT=0]="EXACT",s[s.ABOVE=1]="ABOVE",s[s.BELOW=2]="BELOW"})(uD||(uD={}));var hD;(function(s){s[s.NotSet=0]="NotSet",s[s.ContentFlush=1]="ContentFlush",s[s.RecoverFromMarkers=2]="RecoverFromMarkers",s[s.Explicit=3]="Explicit",s[s.Paste=4]="Paste",s[s.Undo=5]="Undo",s[s.Redo=6]="Redo"})(hD||(hD={}));var gD;(function(s){s[s.LF=1]="LF",s[s.CRLF=2]="CRLF"})(gD||(gD={}));var fD;(function(s){s[s.Text=0]="Text",s[s.Read=1]="Read",s[s.Write=2]="Write"})(fD||(fD={}));var mD;(function(s){s[s.None=0]="None",s[s.Keep=1]="Keep",s[s.Brackets=2]="Brackets",s[s.Advanced=3]="Advanced",s[s.Full=4]="Full"})(mD||(mD={}));var pD;(function(s){s[s.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",s[s.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",s[s.accessibilitySupport=2]="accessibilitySupport",s[s.accessibilityPageSize=3]="accessibilityPageSize",s[s.ariaLabel=4]="ariaLabel",s[s.ariaRequired=5]="ariaRequired",s[s.autoClosingBrackets=6]="autoClosingBrackets",s[s.autoClosingComments=7]="autoClosingComments",s[s.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",s[s.autoClosingDelete=9]="autoClosingDelete",s[s.autoClosingOvertype=10]="autoClosingOvertype",s[s.autoClosingQuotes=11]="autoClosingQuotes",s[s.autoIndent=12]="autoIndent",s[s.automaticLayout=13]="automaticLayout",s[s.autoSurround=14]="autoSurround",s[s.bracketPairColorization=15]="bracketPairColorization",s[s.guides=16]="guides",s[s.codeLens=17]="codeLens",s[s.codeLensFontFamily=18]="codeLensFontFamily",s[s.codeLensFontSize=19]="codeLensFontSize",s[s.colorDecorators=20]="colorDecorators",s[s.colorDecoratorsLimit=21]="colorDecoratorsLimit",s[s.columnSelection=22]="columnSelection",s[s.comments=23]="comments",s[s.contextmenu=24]="contextmenu",s[s.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",s[s.cursorBlinking=26]="cursorBlinking",s[s.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",s[s.cursorStyle=28]="cursorStyle",s[s.cursorSurroundingLines=29]="cursorSurroundingLines",s[s.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",s[s.cursorWidth=31]="cursorWidth",s[s.disableLayerHinting=32]="disableLayerHinting",s[s.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",s[s.domReadOnly=34]="domReadOnly",s[s.dragAndDrop=35]="dragAndDrop",s[s.dropIntoEditor=36]="dropIntoEditor",s[s.emptySelectionClipboard=37]="emptySelectionClipboard",s[s.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",s[s.extraEditorClassName=39]="extraEditorClassName",s[s.fastScrollSensitivity=40]="fastScrollSensitivity",s[s.find=41]="find",s[s.fixedOverflowWidgets=42]="fixedOverflowWidgets",s[s.folding=43]="folding",s[s.foldingStrategy=44]="foldingStrategy",s[s.foldingHighlight=45]="foldingHighlight",s[s.foldingImportsByDefault=46]="foldingImportsByDefault",s[s.foldingMaximumRegions=47]="foldingMaximumRegions",s[s.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",s[s.fontFamily=49]="fontFamily",s[s.fontInfo=50]="fontInfo",s[s.fontLigatures=51]="fontLigatures",s[s.fontSize=52]="fontSize",s[s.fontWeight=53]="fontWeight",s[s.fontVariations=54]="fontVariations",s[s.formatOnPaste=55]="formatOnPaste",s[s.formatOnType=56]="formatOnType",s[s.glyphMargin=57]="glyphMargin",s[s.gotoLocation=58]="gotoLocation",s[s.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",s[s.hover=60]="hover",s[s.inDiffEditor=61]="inDiffEditor",s[s.inlineSuggest=62]="inlineSuggest",s[s.letterSpacing=63]="letterSpacing",s[s.lightbulb=64]="lightbulb",s[s.lineDecorationsWidth=65]="lineDecorationsWidth",s[s.lineHeight=66]="lineHeight",s[s.lineNumbers=67]="lineNumbers",s[s.lineNumbersMinChars=68]="lineNumbersMinChars",s[s.linkedEditing=69]="linkedEditing",s[s.links=70]="links",s[s.matchBrackets=71]="matchBrackets",s[s.minimap=72]="minimap",s[s.mouseStyle=73]="mouseStyle",s[s.mouseWheelScrollSensitivity=74]="mouseWheelScrollSensitivity",s[s.mouseWheelZoom=75]="mouseWheelZoom",s[s.multiCursorMergeOverlapping=76]="multiCursorMergeOverlapping",s[s.multiCursorModifier=77]="multiCursorModifier",s[s.multiCursorPaste=78]="multiCursorPaste",s[s.multiCursorLimit=79]="multiCursorLimit",s[s.occurrencesHighlight=80]="occurrencesHighlight",s[s.overviewRulerBorder=81]="overviewRulerBorder",s[s.overviewRulerLanes=82]="overviewRulerLanes",s[s.padding=83]="padding",s[s.pasteAs=84]="pasteAs",s[s.parameterHints=85]="parameterHints",s[s.peekWidgetDefaultFocus=86]="peekWidgetDefaultFocus",s[s.definitionLinkOpensInPeek=87]="definitionLinkOpensInPeek",s[s.quickSuggestions=88]="quickSuggestions",s[s.quickSuggestionsDelay=89]="quickSuggestionsDelay",s[s.readOnly=90]="readOnly",s[s.readOnlyMessage=91]="readOnlyMessage",s[s.renameOnType=92]="renameOnType",s[s.renderControlCharacters=93]="renderControlCharacters",s[s.renderFinalNewline=94]="renderFinalNewline",s[s.renderLineHighlight=95]="renderLineHighlight",s[s.renderLineHighlightOnlyWhenFocus=96]="renderLineHighlightOnlyWhenFocus",s[s.renderValidationDecorations=97]="renderValidationDecorations",s[s.renderWhitespace=98]="renderWhitespace",s[s.revealHorizontalRightPadding=99]="revealHorizontalRightPadding",s[s.roundedSelection=100]="roundedSelection",s[s.rulers=101]="rulers",s[s.scrollbar=102]="scrollbar",s[s.scrollBeyondLastColumn=103]="scrollBeyondLastColumn",s[s.scrollBeyondLastLine=104]="scrollBeyondLastLine",s[s.scrollPredominantAxis=105]="scrollPredominantAxis",s[s.selectionClipboard=106]="selectionClipboard",s[s.selectionHighlight=107]="selectionHighlight",s[s.selectOnLineNumbers=108]="selectOnLineNumbers",s[s.showFoldingControls=109]="showFoldingControls",s[s.showUnused=110]="showUnused",s[s.snippetSuggestions=111]="snippetSuggestions",s[s.smartSelect=112]="smartSelect",s[s.smoothScrolling=113]="smoothScrolling",s[s.stickyScroll=114]="stickyScroll",s[s.stickyTabStops=115]="stickyTabStops",s[s.stopRenderingLineAfter=116]="stopRenderingLineAfter",s[s.suggest=117]="suggest",s[s.suggestFontSize=118]="suggestFontSize",s[s.suggestLineHeight=119]="suggestLineHeight",s[s.suggestOnTriggerCharacters=120]="suggestOnTriggerCharacters",s[s.suggestSelection=121]="suggestSelection",s[s.tabCompletion=122]="tabCompletion",s[s.tabIndex=123]="tabIndex",s[s.unicodeHighlighting=124]="unicodeHighlighting",s[s.unusualLineTerminators=125]="unusualLineTerminators",s[s.useShadowDOM=126]="useShadowDOM",s[s.useTabStops=127]="useTabStops",s[s.wordBreak=128]="wordBreak",s[s.wordSeparators=129]="wordSeparators",s[s.wordWrap=130]="wordWrap",s[s.wordWrapBreakAfterCharacters=131]="wordWrapBreakAfterCharacters",s[s.wordWrapBreakBeforeCharacters=132]="wordWrapBreakBeforeCharacters",s[s.wordWrapColumn=133]="wordWrapColumn",s[s.wordWrapOverride1=134]="wordWrapOverride1",s[s.wordWrapOverride2=135]="wordWrapOverride2",s[s.wrappingIndent=136]="wrappingIndent",s[s.wrappingStrategy=137]="wrappingStrategy",s[s.showDeprecated=138]="showDeprecated",s[s.inlayHints=139]="inlayHints",s[s.editorClassName=140]="editorClassName",s[s.pixelRatio=141]="pixelRatio",s[s.tabFocusMode=142]="tabFocusMode",s[s.layoutInfo=143]="layoutInfo",s[s.wrappingInfo=144]="wrappingInfo",s[s.defaultColorDecorators=145]="defaultColorDecorators",s[s.colorDecoratorsActivatedOn=146]="colorDecoratorsActivatedOn",s[s.inlineCompletionsAccessibilityVerbose=147]="inlineCompletionsAccessibilityVerbose"})(pD||(pD={}));var bD;(function(s){s[s.TextDefined=0]="TextDefined",s[s.LF=1]="LF",s[s.CRLF=2]="CRLF"})(bD||(bD={}));var _D;(function(s){s[s.LF=0]="LF",s[s.CRLF=1]="CRLF"})(_D||(_D={}));var vD;(function(s){s[s.Left=1]="Left",s[s.Right=2]="Right"})(vD||(vD={}));var wD;(function(s){s[s.None=0]="None",s[s.Indent=1]="Indent",s[s.IndentOutdent=2]="IndentOutdent",s[s.Outdent=3]="Outdent"})(wD||(wD={}));var CD;(function(s){s[s.Both=0]="Both",s[s.Right=1]="Right",s[s.Left=2]="Left",s[s.None=3]="None"})(CD||(CD={}));var SD;(function(s){s[s.Type=1]="Type",s[s.Parameter=2]="Parameter"})(SD||(SD={}));var yD;(function(s){s[s.Automatic=0]="Automatic",s[s.Explicit=1]="Explicit"})(yD||(yD={}));var kD;(function(s){s[s.DependsOnKbLayout=-1]="DependsOnKbLayout",s[s.Unknown=0]="Unknown",s[s.Backspace=1]="Backspace",s[s.Tab=2]="Tab",s[s.Enter=3]="Enter",s[s.Shift=4]="Shift",s[s.Ctrl=5]="Ctrl",s[s.Alt=6]="Alt",s[s.PauseBreak=7]="PauseBreak",s[s.CapsLock=8]="CapsLock",s[s.Escape=9]="Escape",s[s.Space=10]="Space",s[s.PageUp=11]="PageUp",s[s.PageDown=12]="PageDown",s[s.End=13]="End",s[s.Home=14]="Home",s[s.LeftArrow=15]="LeftArrow",s[s.UpArrow=16]="UpArrow",s[s.RightArrow=17]="RightArrow",s[s.DownArrow=18]="DownArrow",s[s.Insert=19]="Insert",s[s.Delete=20]="Delete",s[s.Digit0=21]="Digit0",s[s.Digit1=22]="Digit1",s[s.Digit2=23]="Digit2",s[s.Digit3=24]="Digit3",s[s.Digit4=25]="Digit4",s[s.Digit5=26]="Digit5",s[s.Digit6=27]="Digit6",s[s.Digit7=28]="Digit7",s[s.Digit8=29]="Digit8",s[s.Digit9=30]="Digit9",s[s.KeyA=31]="KeyA",s[s.KeyB=32]="KeyB",s[s.KeyC=33]="KeyC",s[s.KeyD=34]="KeyD",s[s.KeyE=35]="KeyE",s[s.KeyF=36]="KeyF",s[s.KeyG=37]="KeyG",s[s.KeyH=38]="KeyH",s[s.KeyI=39]="KeyI",s[s.KeyJ=40]="KeyJ",s[s.KeyK=41]="KeyK",s[s.KeyL=42]="KeyL",s[s.KeyM=43]="KeyM",s[s.KeyN=44]="KeyN",s[s.KeyO=45]="KeyO",s[s.KeyP=46]="KeyP",s[s.KeyQ=47]="KeyQ",s[s.KeyR=48]="KeyR",s[s.KeyS=49]="KeyS",s[s.KeyT=50]="KeyT",s[s.KeyU=51]="KeyU",s[s.KeyV=52]="KeyV",s[s.KeyW=53]="KeyW",s[s.KeyX=54]="KeyX",s[s.KeyY=55]="KeyY",s[s.KeyZ=56]="KeyZ",s[s.Meta=57]="Meta",s[s.ContextMenu=58]="ContextMenu",s[s.F1=59]="F1",s[s.F2=60]="F2",s[s.F3=61]="F3",s[s.F4=62]="F4",s[s.F5=63]="F5",s[s.F6=64]="F6",s[s.F7=65]="F7",s[s.F8=66]="F8",s[s.F9=67]="F9",s[s.F10=68]="F10",s[s.F11=69]="F11",s[s.F12=70]="F12",s[s.F13=71]="F13",s[s.F14=72]="F14",s[s.F15=73]="F15",s[s.F16=74]="F16",s[s.F17=75]="F17",s[s.F18=76]="F18",s[s.F19=77]="F19",s[s.F20=78]="F20",s[s.F21=79]="F21",s[s.F22=80]="F22",s[s.F23=81]="F23",s[s.F24=82]="F24",s[s.NumLock=83]="NumLock",s[s.ScrollLock=84]="ScrollLock",s[s.Semicolon=85]="Semicolon",s[s.Equal=86]="Equal",s[s.Comma=87]="Comma",s[s.Minus=88]="Minus",s[s.Period=89]="Period",s[s.Slash=90]="Slash",s[s.Backquote=91]="Backquote",s[s.BracketLeft=92]="BracketLeft",s[s.Backslash=93]="Backslash",s[s.BracketRight=94]="BracketRight",s[s.Quote=95]="Quote",s[s.OEM_8=96]="OEM_8",s[s.IntlBackslash=97]="IntlBackslash",s[s.Numpad0=98]="Numpad0",s[s.Numpad1=99]="Numpad1",s[s.Numpad2=100]="Numpad2",s[s.Numpad3=101]="Numpad3",s[s.Numpad4=102]="Numpad4",s[s.Numpad5=103]="Numpad5",s[s.Numpad6=104]="Numpad6",s[s.Numpad7=105]="Numpad7",s[s.Numpad8=106]="Numpad8",s[s.Numpad9=107]="Numpad9",s[s.NumpadMultiply=108]="NumpadMultiply",s[s.NumpadAdd=109]="NumpadAdd",s[s.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",s[s.NumpadSubtract=111]="NumpadSubtract",s[s.NumpadDecimal=112]="NumpadDecimal",s[s.NumpadDivide=113]="NumpadDivide",s[s.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",s[s.ABNT_C1=115]="ABNT_C1",s[s.ABNT_C2=116]="ABNT_C2",s[s.AudioVolumeMute=117]="AudioVolumeMute",s[s.AudioVolumeUp=118]="AudioVolumeUp",s[s.AudioVolumeDown=119]="AudioVolumeDown",s[s.BrowserSearch=120]="BrowserSearch",s[s.BrowserHome=121]="BrowserHome",s[s.BrowserBack=122]="BrowserBack",s[s.BrowserForward=123]="BrowserForward",s[s.MediaTrackNext=124]="MediaTrackNext",s[s.MediaTrackPrevious=125]="MediaTrackPrevious",s[s.MediaStop=126]="MediaStop",s[s.MediaPlayPause=127]="MediaPlayPause",s[s.LaunchMediaPlayer=128]="LaunchMediaPlayer",s[s.LaunchMail=129]="LaunchMail",s[s.LaunchApp2=130]="LaunchApp2",s[s.Clear=131]="Clear",s[s.MAX_VALUE=132]="MAX_VALUE"})(kD||(kD={}));var LD;(function(s){s[s.Hint=1]="Hint",s[s.Info=2]="Info",s[s.Warning=4]="Warning",s[s.Error=8]="Error"})(LD||(LD={}));var xD;(function(s){s[s.Unnecessary=1]="Unnecessary",s[s.Deprecated=2]="Deprecated"})(xD||(xD={}));var DD;(function(s){s[s.Inline=1]="Inline",s[s.Gutter=2]="Gutter"})(DD||(DD={}));var ID;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.TEXTAREA=1]="TEXTAREA",s[s.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",s[s.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",s[s.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",s[s.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",s[s.CONTENT_TEXT=6]="CONTENT_TEXT",s[s.CONTENT_EMPTY=7]="CONTENT_EMPTY",s[s.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",s[s.CONTENT_WIDGET=9]="CONTENT_WIDGET",s[s.OVERVIEW_RULER=10]="OVERVIEW_RULER",s[s.SCROLLBAR=11]="SCROLLBAR",s[s.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",s[s.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(ID||(ID={}));var TD;(function(s){s[s.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",s[s.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",s[s.TOP_CENTER=2]="TOP_CENTER"})(TD||(TD={}));var ED;(function(s){s[s.Left=1]="Left",s[s.Center=2]="Center",s[s.Right=4]="Right",s[s.Full=7]="Full"})(ED||(ED={}));var ND;(function(s){s[s.Left=0]="Left",s[s.Right=1]="Right",s[s.None=2]="None",s[s.LeftOfInjectedText=3]="LeftOfInjectedText",s[s.RightOfInjectedText=4]="RightOfInjectedText"})(ND||(ND={}));var AD;(function(s){s[s.Off=0]="Off",s[s.On=1]="On",s[s.Relative=2]="Relative",s[s.Interval=3]="Interval",s[s.Custom=4]="Custom"})(AD||(AD={}));var RD;(function(s){s[s.None=0]="None",s[s.Text=1]="Text",s[s.Blocks=2]="Blocks"})(RD||(RD={}));var MD;(function(s){s[s.Smooth=0]="Smooth",s[s.Immediate=1]="Immediate"})(MD||(MD={}));var PD;(function(s){s[s.Auto=1]="Auto",s[s.Hidden=2]="Hidden",s[s.Visible=3]="Visible"})(PD||(PD={}));var OD;(function(s){s[s.LTR=0]="LTR",s[s.RTL=1]="RTL"})(OD||(OD={}));var FD;(function(s){s[s.Invoke=1]="Invoke",s[s.TriggerCharacter=2]="TriggerCharacter",s[s.ContentChange=3]="ContentChange"})(FD||(FD={}));var BD;(function(s){s[s.File=0]="File",s[s.Module=1]="Module",s[s.Namespace=2]="Namespace",s[s.Package=3]="Package",s[s.Class=4]="Class",s[s.Method=5]="Method",s[s.Property=6]="Property",s[s.Field=7]="Field",s[s.Constructor=8]="Constructor",s[s.Enum=9]="Enum",s[s.Interface=10]="Interface",s[s.Function=11]="Function",s[s.Variable=12]="Variable",s[s.Constant=13]="Constant",s[s.String=14]="String",s[s.Number=15]="Number",s[s.Boolean=16]="Boolean",s[s.Array=17]="Array",s[s.Object=18]="Object",s[s.Key=19]="Key",s[s.Null=20]="Null",s[s.EnumMember=21]="EnumMember",s[s.Struct=22]="Struct",s[s.Event=23]="Event",s[s.Operator=24]="Operator",s[s.TypeParameter=25]="TypeParameter"})(BD||(BD={}));var WD;(function(s){s[s.Deprecated=1]="Deprecated"})(WD||(WD={}));var VD;(function(s){s[s.Hidden=0]="Hidden",s[s.Blink=1]="Blink",s[s.Smooth=2]="Smooth",s[s.Phase=3]="Phase",s[s.Expand=4]="Expand",s[s.Solid=5]="Solid"})(VD||(VD={}));var HD;(function(s){s[s.Line=1]="Line",s[s.Block=2]="Block",s[s.Underline=3]="Underline",s[s.LineThin=4]="LineThin",s[s.BlockOutline=5]="BlockOutline",s[s.UnderlineThin=6]="UnderlineThin"})(HD||(HD={}));var zD;(function(s){s[s.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",s[s.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",s[s.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",s[s.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(zD||(zD={}));var UD;(function(s){s[s.None=0]="None",s[s.Same=1]="Same",s[s.Indent=2]="Indent",s[s.DeepIndent=3]="DeepIndent"})(UD||(UD={}));let vv=class{static chord(e,t){return Oi(e,t)}};vv.CtrlCmd=2048;vv.Shift=1024;vv.Alt=512;vv.WinCtrl=256;function bW(){return{editor:void 0,languages:void 0,CancellationTokenSource:yi,Emitter:M,KeyCode:kD,KeyMod:vv,Position:P,Range:k,Selection:_e,SelectionDirection:OD,MarkerSeverity:LD,MarkerTag:xD,Uri:De,Token:$b}}class $U{constructor(e){this.fn=e,this.lastCache=void 0,this.lastArgKey=void 0}get(e){const t=JSON.stringify(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this.fn(e)),this.lastCache}}class HP{get cachedValues(){return this._map}constructor(e){this.fn=e,this._map=new Map}get(e){if(this._map.has(e))return this._map.get(e);const t=this.fn(e);return this._map.set(e,t),t}}class Qd{constructor(e){this.executor=e,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var jf;function _W(s){return!s||typeof s!="string"?!0:s.trim().length===0}const jU=/{(\d+)}/g;function uh(s,...e){return e.length===0?s:s.replace(jU,function(t,i){const n=parseInt(i,10);return isNaN(n)||n<0||n>=e.length?t:e[n]})}function IC(s){return s.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function cs(s){return s.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function KU(s,e=" "){const t=wv(s,e);return vW(t,e)}function wv(s,e){if(!s||!e)return s;const t=e.length;if(t===0||s.length===0)return s;let i=0;for(;s.indexOf(e,i)===i;)i=i+t;return s.substring(i)}function vW(s,e){if(!s||!e)return s;const t=e.length,i=s.length;if(t===0||i===0)return s;let n=i,o=-1;for(;o=s.lastIndexOf(e,n-1),!(o===-1||o+t!==n);){if(o===0)return"";n=o}return s.substring(0,n)}function qU(s){return s.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function GU(s){return s.replace(/\*/g,"")}function wW(s,e,t={}){if(!s)throw new Error("Cannot create regex from empty string");e||(s=cs(s)),t.wholeWord&&(/\B/.test(s.charAt(0))||(s="\\b"+s),/\B/.test(s.charAt(s.length-1))||(s=s+"\\b"));let i="";return t.global&&(i+="g"),t.matchCase||(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),new RegExp(s,i)}function ZU(s){return s.source==="^"||s.source==="^$"||s.source==="$"||s.source==="^\\s*$"?!1:!!(s.exec("")&&s.lastIndex===0)}function Xa(s){return s.split(/\r\n|\r|\n/)}function Zn(s){for(let e=0,t=s.length;e<t;e++){const i=s.charCodeAt(e);if(i!==32&&i!==9)return e}return-1}function Tt(s,e=0,t=s.length){for(let i=e;i<t;i++){const n=s.charCodeAt(i);if(n!==32&&n!==9)return s.substring(e,i)}return s.substring(e,t)}function Gr(s,e=s.length-1){for(let t=e;t>=0;t--){const i=s.charCodeAt(t);if(i!==32&&i!==9)return t}return-1}function qb(s,e){return s<e?-1:s>e?1:0}function vA(s,e,t=0,i=s.length,n=0,o=e.length){for(;t<i&&n<o;t++,n++){const l=s.charCodeAt(t),c=e.charCodeAt(n);if(l<c)return-1;if(l>c)return 1}const r=i-t,a=o-n;return r<a?-1:r>a?1:0}function $D(s,e){return Cv(s,e,0,s.length,0,e.length)}function Cv(s,e,t=0,i=s.length,n=0,o=e.length){for(;t<i&&n<o;t++,n++){let l=s.charCodeAt(t),c=e.charCodeAt(n);if(l===c)continue;if(l>=128||c>=128)return vA(s.toLowerCase(),e.toLowerCase(),t,i,n,o);Uc(l)&&(l-=32),Uc(c)&&(c-=32);const d=l-c;if(d!==0)return d}const r=i-t,a=o-n;return r<a?-1:r>a?1:0}function _0(s){return s>=48&&s<=57}function Uc(s){return s>=97&&s<=122}function Sa(s){return s>=65&&s<=90}function zg(s,e){return s.length===e.length&&Cv(s,e)===0}function wA(s,e){const t=e.length;return e.length>s.length?!1:Cv(s,e,0,t)===0}function hh(s,e){const t=Math.min(s.length,e.length);let i;for(i=0;i<t;i++)if(s.charCodeAt(i)!==e.charCodeAt(i))return i;return t}function TC(s,e){const t=Math.min(s.length,e.length);let i;const n=s.length-1,o=e.length-1;for(i=0;i<t;i++)if(s.charCodeAt(n-i)!==e.charCodeAt(o-i))return i;return t}function $i(s){return 55296<=s&&s<=56319}function gh(s){return 56320<=s&&s<=57343}function CA(s,e){return(s-55296<<10)+(e-56320)+65536}function EC(s,e,t){const i=s.charCodeAt(t);if($i(i)&&t+1<e){const n=s.charCodeAt(t+1);if(gh(n))return CA(i,n)}return i}function QU(s,e){const t=s.charCodeAt(e-1);if(gh(t)&&e>1){const i=s.charCodeAt(e-2);if($i(i))return CA(i,t)}return t}class SA{get offset(){return this._offset}constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}setOffset(e){this._offset=e}prevCodePoint(){const e=QU(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){const e=EC(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}}class NC{get offset(){return this._iterator.offset}constructor(e,t=0){this._iterator=new SA(e,t)}nextGraphemeLength(){const e=$c.getInstance(),t=this._iterator,i=t.offset;let n=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){const o=t.offset,r=e.getGraphemeBreakType(t.nextCodePoint());if(zP(n,r)){t.setOffset(o);break}n=r}return t.offset-i}prevGraphemeLength(){const e=$c.getInstance(),t=this._iterator,i=t.offset;let n=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){const o=t.offset,r=e.getGraphemeBreakType(t.prevCodePoint());if(zP(r,n)){t.setOffset(o);break}n=r}return i-t.offset}eol(){return this._iterator.eol()}}function yA(s,e){return new NC(s,e).nextGraphemeLength()}function CW(s,e){return new NC(s,e).prevGraphemeLength()}function YU(s,e){e>0&&gh(s.charCodeAt(e))&&e--;const t=e+yA(s,e);return[t-CW(s,t),t]}let qk;function XU(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function Kf(s){return qk||(qk=XU()),qk.test(s)}const JU=/^[\t\n\r\x20-\x7E]*$/;function Sv(s){return JU.test(s)}const SW=/[\u2028\u2029]/;function yW(s){return SW.test(s)}function yd(s){return s>=11904&&s<=55215||s>=63744&&s<=64255||s>=65281&&s<=65374}function kA(s){return s>=127462&&s<=127487||s===8986||s===8987||s===9200||s===9203||s>=9728&&s<=10175||s===11088||s===11093||s>=127744&&s<=128591||s>=128640&&s<=128764||s>=128992&&s<=129008||s>=129280&&s<=129535||s>=129648&&s<=129782}const e$=String.fromCharCode(65279);function LA(s){return!!(s&&s.length>0&&s.charCodeAt(0)===65279)}function t$(s,e=!1){return s?(e&&(s=s.replace(/\\./g,"")),s.toLowerCase()!==s):!1}function kW(s){return s=s%(2*26),s<26?String.fromCharCode(97+s):String.fromCharCode(65+s-26)}function zP(s,e){return s===0?e!==5&&e!==7:s===2&&e===3?!1:s===4||s===2||s===3||e===4||e===2||e===3?!0:!(s===8&&(e===8||e===9||e===11||e===12)||(s===11||s===9)&&(e===9||e===10)||(s===12||s===10)&&e===10||e===5||e===13||e===7||s===1||s===13&&e===14||s===6&&e===6)}class $c{static getInstance(){return $c._INSTANCE||($c._INSTANCE=new $c),$c._INSTANCE}constructor(){this._data=i$()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let n=1;for(;n<=i;)if(e<t[3*n])n=2*n;else if(e>t[3*n+1])n=2*n+1;else return t[3*n+2];return 0}}$c._INSTANCE=null;function i$(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function n$(s,e){if(s===0)return 0;const t=o$(s,e);if(t!==void 0)return t;const i=new SA(e,s);return i.prevCodePoint(),i.offset}function o$(s,e){const t=new SA(e,s);let i=t.prevCodePoint();for(;s$(i)||i===65039||i===8419;){if(t.offset===0)return;i=t.prevCodePoint()}if(!kA(i))return;let n=t.offset;return n>0&&t.prevCodePoint()===8205&&(n=t.offset),n}function s$(s){return 127995<=s&&s<=127999}const LW=" ";class fh{static getInstance(e){return jf.cache.get(Array.from(e))}static getLocales(){return jf._locales.value}constructor(e){this.confusableDictionary=e}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}jf=fh;fh.ambiguousCharacterData=new Qd(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));fh.cache=new $U(s=>{function e(c){const d=new Map;for(let u=0;u<c.length;u+=2)d.set(c[u],c[u+1]);return d}function t(c,d){const u=new Map(c);for(const[h,g]of d)u.set(h,g);return u}function i(c,d){if(!c)return d;const u=new Map;for(const[h,g]of c)d.has(h)&&u.set(h,g);return u}const n=jf.ambiguousCharacterData.value;let o=s.filter(c=>!c.startsWith("_")&&c in n);o.length===0&&(o=["_default"]);let r;for(const c of o){const d=e(n[c]);r=i(r,d)}const a=e(n._common),l=t(a,r);return new jf(l)});fh._locales=new Qd(()=>Object.keys(jf.ambiguousCharacterData.value).filter(s=>!s.startsWith("_")));class qa{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(qa.getRawData())),this._data}static isInvisibleCharacter(e){return qa.getData().has(e)}static get codePoints(){return qa.getData()}}qa._data=void 0;class jD{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}jD.INSTANCE=new jD;class r$ extends H{constructor(){super(),this._onDidChange=this._register(new M),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(e){var t;(t=this._mediaQueryList)===null||t===void 0||t.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),e&&this._onDidChange.fire()}}class a$ extends H{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new M),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const e=this._register(new r$);this._register(e.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/i}}class l${constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new a$),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function xW(s,e){typeof s=="string"&&(s=window.matchMedia(s)),s.addEventListener("change",e)}const Gb=new l$;function c$(){return jD.INSTANCE.getZoomFactor()}const Mm=navigator.userAgent,Ms=Mm.indexOf("Firefox")>=0,Yu=Mm.indexOf("AppleWebKit")>=0,xA=Mm.indexOf("Chrome")>=0,ac=!xA&&Mm.indexOf("Safari")>=0,DW=!xA&&!ac&&Yu;Mm.indexOf("Electron/")>=0;const UP=Mm.indexOf("Android")>=0;let Bw=!1;if(window.matchMedia){const s=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=window.matchMedia("(display-mode: fullscreen)");Bw=s.matches,xW(s,({matches:t})=>{Bw&&e.matches||(Bw=t)})}function d$(){return Bw}class IW{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){const t=yr(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){const t=yr(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){const t=yr(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){const t=yr(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){const t=yr(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){const t=yr(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){const t=yr(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingLeft(e){const t=yr(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){const t=yr(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){const t=yr(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){const t=yr(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function yr(s){return typeof s=="number"?`${s}px`:s}function vt(s){return new IW(s)}function In(s,e){s instanceof IW?(s.setFontFamily(e.getMassagedFontFamily()),s.setFontWeight(e.fontWeight),s.setFontSize(e.fontSize),s.setFontFeatureSettings(e.fontFeatureSettings),s.setFontVariationSettings(e.fontVariationSettings),s.setLineHeight(e.lineHeight),s.setLetterSpacing(e.letterSpacing)):(s.style.fontFamily=e.getMassagedFontFamily(),s.style.fontWeight=e.fontWeight,s.style.fontSize=e.fontSize+"px",s.style.fontFeatureSettings=e.fontFeatureSettings,s.style.fontVariationSettings=e.fontVariationSettings,s.style.lineHeight=e.lineHeight+"px",s.style.letterSpacing=e.letterSpacing+"px")}class u${constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class DA{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");In(t,this._bareFontInfo),e.appendChild(t);const i=document.createElement("div");In(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);const n=document.createElement("div");In(n,this._bareFontInfo),n.style.fontStyle="italic",e.appendChild(n);const o=[];for(const r of this._requests){let a;r.type===0&&(a=t),r.type===2&&(a=i),r.type===1&&(a=n),a.appendChild(document.createElement("br"));const l=document.createElement("span");DA._render(l,r),a.appendChild(l),o.push(l)}this._container=e,this._testElements=o}static _render(e,t){if(t.chr===" "){let i=" ";for(let n=0;n<8;n++)i+=i;e.innerText=i}else{let i=t.chr;for(let n=0;n<8;n++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const i=this._requests[e],n=this._testElements[e];i.fulfill(n.offsetWidth/256)}}}function h$(s,e){new DA(s,e).read()}const ks=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new M,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(s){s=Math.min(Math.max(-5,s),20),this._zoomLevel!==s&&(this._zoomLevel=s,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},g$=at?1.5:1.35,Gk=8;class Xu{static createFromValidatedSettings(e,t,i){const n=e.get(49),o=e.get(53),r=e.get(52),a=e.get(51),l=e.get(54),c=e.get(66),d=e.get(63);return Xu._create(n,o,r,a,l,c,d,t,i)}static _create(e,t,i,n,o,r,a,l,c){r===0?r=g$*i:r<Gk&&(r=r*i),r=Math.round(r),r<Gk&&(r=Gk);const d=1+(c?0:ks.getZoomLevel()*.1);return i*=d,r*=d,o===Vr.TRANSLATE&&(t==="normal"||t==="bold"?o=Vr.OFF:(o=`'wght' ${parseInt(t,10)}`,t="normal")),new Xu({pixelRatio:l,fontFamily:e,fontWeight:t,fontSize:i,fontFeatureSettings:n,fontVariationSettings:o,lineHeight:r,letterSpacing:a})}constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.fontVariationSettings=e.fontVariationSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const e=Fo.fontFamily,t=Xu._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}const f$=2;class KD extends Xu{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=f$,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.fontVariationSettings===e.fontVariationSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}class m$ extends H{constructor(){super(),this._onDidChange=this._register(new M),this.onDidChange=this._onDidChange.event,this._cache=new $P,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new $P,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readFontInfo(e){if(!this._cache.has(e)){let t=this._actualReadFontInfo(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new KD({pixelRatio:Gb.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,fontVariationSettings:t.fontVariationSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}_createRequest(e,t,i,n){const o=new u$(e,t);return i.push(o),n==null||n.push(o),o}_actualReadFontInfo(e){const t=[],i=[],n=this._createRequest("n",0,t,i),o=this._createRequest("ｍ",0,t,null),r=this._createRequest(" ",0,t,i),a=this._createRequest("0",0,t,i),l=this._createRequest("1",0,t,i),c=this._createRequest("2",0,t,i),d=this._createRequest("3",0,t,i),u=this._createRequest("4",0,t,i),h=this._createRequest("5",0,t,i),g=this._createRequest("6",0,t,i),m=this._createRequest("7",0,t,i),p=this._createRequest("8",0,t,i),_=this._createRequest("9",0,t,i),b=this._createRequest("→",0,t,i),v=this._createRequest("￫",0,t,null),w=this._createRequest("·",0,t,i),C=this._createRequest(String.fromCharCode(11825),0,t,null),S="|/-_ilm%";for(let W=0,U=S.length;W<U;W++)this._createRequest(S.charAt(W),0,t,i),this._createRequest(S.charAt(W),1,t,i),this._createRequest(S.charAt(W),2,t,i);h$(e,t);const x=Math.max(a.width,l.width,c.width,d.width,u.width,h.width,g.width,m.width,p.width,_.width);let L=e.fontFeatureSettings===Jo.OFF;const I=i[0].width;for(let W=1,U=i.length;L&&W<U;W++){const F=I-i[W].width;if(F<-.001||F>.001){L=!1;break}}let E=!0;return L&&v.width!==I&&(E=!1),v.width>b.width&&(E=!1),new KD({pixelRatio:Gb.value,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,fontVariationSettings:e.fontVariationSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:L,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:E,spaceWidth:r.width,middotWidth:w.width,wsmiddotWidth:C.width,maxDigitWidth:x},!0)}}class $P{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}const qD=new m$;var Ur;(function(s){s.serviceIds=new Map,s.DI_TARGET="$di$target",s.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[s.DI_DEPENDENCIES]||[]}s.getServiceDependencies=e})(Ur||(Ur={}));const Ae=et("instantiationService");function p$(s,e,t){e[Ur.DI_TARGET]===e?e[Ur.DI_DEPENDENCIES].push({id:s,index:t}):(e[Ur.DI_DEPENDENCIES]=[{id:s,index:t}],e[Ur.DI_TARGET]=e)}function et(s){if(Ur.serviceIds.has(s))return Ur.serviceIds.get(s);const e=function(t,i,n){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");p$(e,t,n)};return e.toString=()=>s,Ur.serviceIds.set(s,e),e}const bt=et("codeEditorService"),Qt=et("modelService"),xo=et("textModelService");var qf=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class lo extends H{constructor(e,t="",i="",n=!0,o){super(),this._onDidChange=this._register(new M),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=n,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return qf(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(e))})}}class Gf extends H{constructor(){super(...arguments),this._onWillRun=this._register(new M),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new M),this.onDidRun=this._onDidRun.event}run(e,t){return qf(this,void 0,void 0,function*(){if(!e.enabled)return;this._onWillRun.fire({action:e});let i;try{yield this.runAction(e,t)}catch(n){i=n}this._onDidRun.fire({action:e,error:i})})}runAction(e,t){return qf(this,void 0,void 0,function*(){yield e.run(t)})}}class tn{constructor(){this.id=tn.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...e){let t=[];for(const i of e)i.length&&(t.length?t=[...t,new tn,...i]:t=i);return t}run(){return qf(this,void 0,void 0,function*(){})}}tn.ID="vs.actions.separator";class Zf{get actions(){return this._actions}constructor(e,t,i,n){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=n,this._actions=i}run(){return qf(this,void 0,void 0,function*(){})}}class xS extends lo{constructor(){super(xS.ID,f("vs/base/common/actions","submenu.empty","(empty)"),void 0,!1)}}xS.ID="vs.actions.empty";function bf(s){var e,t;return{id:s.id,label:s.label,class:void 0,enabled:(e=s.enabled)!==null&&e!==void 0?e:!0,checked:(t=s.checked)!==null&&t!==void 0?t:!1,run:(...i)=>qf(this,void 0,void 0,function*(){return s.run(...i)}),tooltip:s.label}}var GD;(function(s){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}s.isThemeColor=e})(GD||(GD={}));var Ie;(function(s){s.iconNameSegment="[A-Za-z0-9]+",s.iconNameExpression="[A-Za-z0-9-]+",s.iconModifierExpression="~[A-Za-z]+",s.iconNameCharacter="[A-Za-z0-9~-]";const e=new RegExp(`^(${s.iconNameExpression})(${s.iconModifierExpression})?$`);function t(h){const g=e.exec(h.id);if(!g)return t(se.error);const[,m,p]=g,_=["codicon","codicon-"+m];return p&&_.push("codicon-modifier-"+p.substring(1)),_}s.asClassNameArray=t;function i(h){return t(h).join(" ")}s.asClassName=i;function n(h){return"."+t(h).join(".")}s.asCSSSelector=n;function o(h){return h&&typeof h=="object"&&typeof h.id=="string"&&(typeof h.color=="undefined"||GD.isThemeColor(h.color))}s.isThemeIcon=o;const r=new RegExp(`^\\$\\((${s.iconNameExpression}(?:${s.iconModifierExpression})?)\\)$`);function a(h){const g=r.exec(h);if(!g)return;const[,m]=g;return{id:m}}s.fromString=a;function l(h){return{id:h}}s.fromId=l;function c(h,g){let m=h.id;const p=m.lastIndexOf("~");return p!==-1&&(m=m.substring(0,p)),g&&(m=`${m}~${g}`),{id:m}}s.modify=c;function d(h){const g=h.id.lastIndexOf("~");if(g!==-1)return h.id.substring(g+1)}s.getModifier=d;function u(h,g){var m,p;return h.id===g.id&&((m=h.color)===null||m===void 0?void 0:m.id)===((p=g.color)===null||p===void 0?void 0:p.id)}s.isEqual=u})(Ie||(Ie={}));const ci=et("commandService"),lt=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new M,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(s,e){if(!s)throw new Error("invalid command");if(typeof s=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:s,handler:e})}if(s.description){const r=[];for(const l of s.description.args)r.push(l.constraint);const a=s.handler;s.handler=function(l,...c){return XH(c,r),a(l,...c)}}const{id:t}=s;let i=this._commands.get(t);i||(i=new oo,this._commands.set(t,i));const n=i.unshift(s),o=Re(()=>{n();const r=this._commands.get(t);r!=null&&r.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),o}registerCommandAlias(s,e){return lt.registerCommand(s,(t,...i)=>t.get(ci).executeCommand(e,...i))}getCommand(s){const e=this._commands.get(s);if(!(!e||e.isEmpty()))return Ye.first(e)}getCommands(){const s=new Map;for(const e of this._commands.keys()){const t=this.getCommand(e);t&&s.set(e,t)}return s}};lt.registerCommand("noop",()=>{});function Zk(...s){switch(s.length){case 1:return f("vs/platform/contextkey/common/scanner","contextkey.scanner.hint.didYouMean1","Did you mean {0}?",s[0]);case 2:return f("vs/platform/contextkey/common/scanner","contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",s[0],s[1]);case 3:return f("vs/platform/contextkey/common/scanner","contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",s[0],s[1],s[2]);default:return}}const b$=f("vs/platform/contextkey/common/scanner","contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),_$=f("vs/platform/contextkey/common/scanner","contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");let Tu=class ZD{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw uA(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(Zk("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(Zk("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(Zk("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){const t=this._start,i=this._input.substring(this._start,this._current),n={type:19,offset:this._start,lexeme:i};this._errors.push({offset:t,lexeme:i,additionalInfo:e}),this._tokens.push(n)}_string(){this.stringRe.lastIndex=this._start;const e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;const t=this._input.substring(this._start,this._current),i=ZD._keywords.get(t);i?this._addToken(i):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(b$);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,i=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(_$);return}const o=this._input.charCodeAt(e);if(t)t=!1;else if(o===47&&!i){e++;break}else o===91?i=!0:o===92?t=!0:o===93&&(i=!1);e++}for(;e<this._input.length&&ZD._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;const n=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:n,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};Tu._regexFlags=new Set(["i","g","s","m","y","u"].map(s=>s.charCodeAt(0)));Tu._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);const Vn=new Map;Vn.set("false",!1);Vn.set("true",!0);Vn.set("isMac",at);Vn.set("isLinux",Qn);Vn.set("isWindows",En);Vn.set("isWeb",qd);Vn.set("isMacNative",at&&!qd);Vn.set("isEdge",fz);Vn.set("isFirefox",hz);Vn.set("isChrome",Q5);Vn.set("isSafari",gz);const v$=Object.prototype.hasOwnProperty,w$={regexParsingWithErrorRecovery:!0},C$=f("vs/platform/contextkey/common/contextkey","contextkey.parser.error.emptyString","Empty context key expression"),S$=f("vs/platform/contextkey/common/contextkey","contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),y$=f("vs/platform/contextkey/common/contextkey","contextkey.parser.error.noInAfterNot","'in' after 'not'."),jP=f("vs/platform/contextkey/common/contextkey","contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),k$=f("vs/platform/contextkey/common/contextkey","contextkey.parser.error.unexpectedToken","Unexpected token"),L$=f("vs/platform/contextkey/common/contextkey","contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),x$=f("vs/platform/contextkey/common/contextkey","contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),D$=f("vs/platform/contextkey/common/contextkey","contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");let TW=class Fp{constructor(e=w$){this._config=e,this._scanner=new Tu,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(e){if(e===""){this._parsingErrors.push({message:C$,offset:0,lexeme:"",additionalInfo:S$});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{const t=this._expr();if(!this._isAtEnd()){const i=this._peek(),n=i.type===17?L$:void 0;throw this._parsingErrors.push({message:k$,offset:i.offset,lexeme:Tu.getLexeme(i),additionalInfo:n}),Fp._parseError}return t}catch(t){if(t!==Fp._parseError)throw t;return}}_expr(){return this._or()}_or(){const e=[this._and()];for(;this._matchOne(16);){const t=this._and();e.push(t)}return e.length===1?e[0]:Z.or(...e)}_and(){const e=[this._term()];for(;this._matchOne(15);){const t=this._term();e.push(t)}return e.length===1?e[0]:Z.and(...e)}_term(){if(this._matchOne(2)){const e=this._peek();switch(e.type){case 11:return this._advance(),co.INSTANCE;case 12:return this._advance(),So.INSTANCE;case 0:{this._advance();const t=this._expr();return this._consume(1,jP),t==null?void 0:t.negate()}case 17:return this._advance(),Kh.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){const e=this._peek();switch(e.type){case 11:return this._advance(),Z.true();case 12:return this._advance(),Z.false();case 0:{this._advance();const t=this._expr();return this._consume(1,jP),t}case 17:{const t=e.lexeme;if(this._advance(),this._matchOne(9)){const n=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),n.type!==10)throw this._errExpectedButGot("REGEX",n);const o=n.lexeme,r=o.lastIndexOf("/"),a=r===o.length-1?void 0:this._removeFlagsGY(o.substring(r+1));let l;try{l=new RegExp(o.substring(1,r),a)}catch(c){throw this._errExpectedButGot("REGEX",n)}return Zb.create(t,l)}switch(n.type){case 10:case 19:{const o=[n.lexeme];this._advance();let r=this._peek(),a=0;for(let h=0;h<n.lexeme.length;h++)n.lexeme.charCodeAt(h)===40?a++:n.lexeme.charCodeAt(h)===41&&a--;for(;!this._isAtEnd()&&r.type!==15&&r.type!==16;){switch(r.type){case 0:a++;break;case 1:a--;break;case 10:case 18:for(let h=0;h<r.lexeme.length;h++)r.lexeme.charCodeAt(h)===40?a++:n.lexeme.charCodeAt(h)===41&&a--}if(a<0)break;o.push(Tu.getLexeme(r)),this._advance(),r=this._peek()}const l=o.join(""),c=l.lastIndexOf("/"),d=c===l.length-1?void 0:this._removeFlagsGY(l.substring(c+1));let u;try{u=new RegExp(l.substring(1,c),d)}catch(h){throw this._errExpectedButGot("REGEX",n)}return Z.regex(t,u)}case 18:{const o=n.lexeme;this._advance();let r=null;if(!_W(o)){const a=o.indexOf("/"),l=o.lastIndexOf("/");if(a!==l&&a>=0){const c=o.slice(a+1,l),d=o[l+1]==="i"?"i":"";try{r=new RegExp(c,d)}catch(u){throw this._errExpectedButGot("REGEX",n)}}}if(r===null)throw this._errExpectedButGot("REGEX",n);return Zb.create(t,r)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,y$);const n=this._value();return Z.notIn(t,n)}switch(this._peek().type){case 3:{this._advance();const n=this._value();if(this._previous().type===18)return Z.equals(t,n);switch(n){case"true":return Z.has(t);case"false":return Z.not(t);default:return Z.equals(t,n)}}case 4:{this._advance();const n=this._value();if(this._previous().type===18)return Z.notEquals(t,n);switch(n){case"true":return Z.not(t);case"false":return Z.has(t);default:return Z.notEquals(t,n)}}case 5:return this._advance(),RS.create(t,this._value());case 6:return this._advance(),MS.create(t,this._value());case 7:return this._advance(),NS.create(t,this._value());case 8:return this._advance(),AS.create(t,this._value());case 13:return this._advance(),Z.in(t,this._value());default:return Z.has(t)}}case 20:throw this._parsingErrors.push({message:x$,offset:e.offset,lexeme:"",additionalInfo:D$}),Fp._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,i){const n=f("vs/platform/contextkey/common/contextkey","contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,Tu.getLexeme(t)),o=t.offset,r=Tu.getLexeme(t);return this._parsingErrors.push({message:n,offset:o,lexeme:r,additionalInfo:i}),Fp._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}};TW._parseError=new Error;class Z{static false(){return co.INSTANCE}static true(){return So.INSTANCE}static has(e){return jh.create(e)}static equals(e,t){return Pm.create(e,t)}static notEquals(e,t){return TS.create(e,t)}static regex(e,t){return Zb.create(e,t)}static in(e,t){return DS.create(e,t)}static notIn(e,t){return IS.create(e,t)}static not(e){return Kh.create(e)}static and(...e){return Hu.create(e,null,!0)}static or(...e){return Pl.create(e,null,!0)}static deserialize(e){return e==null?void 0:this._parser.parse(e)}}Z._parser=new TW({regexParsingWithErrorRecovery:!1});function I$(s,e){const t=s?s.substituteConstants():void 0,i=e?e.substituteConstants():void 0;return!t&&!i?!0:!t||!i?!1:t.equals(i)}function ab(s,e){return s.cmp(e)}class co{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return So.INSTANCE}}co.INSTANCE=new co;class So{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return co.INSTANCE}}So.INSTANCE=new So;class jh{static create(e,t=null){const i=Vn.get(e);return typeof i=="boolean"?i?So.INSTANCE:co.INSTANCE:new jh(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:NW(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=Vn.get(this.key);return typeof e=="boolean"?e?So.INSTANCE:co.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=Kh.create(this.key,this)),this.negated}}class Pm{static create(e,t,i=null){if(typeof t=="boolean")return t?jh.create(e,i):Kh.create(e,i);const n=Vn.get(e);return typeof n=="boolean"?t===(n?"true":"false")?So.INSTANCE:co.INSTANCE:new Pm(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:qh(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=Vn.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?So.INSTANCE:co.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=TS.create(this.key,this.value,this)),this.negated}}class DS{static create(e,t){return new DS(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}cmp(e){return e.type!==this.type?this.type-e.type:qh(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):typeof i=="string"&&typeof t=="object"&&t!==null?v$.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=IS.create(this.key,this.valueKey)),this.negated}}class IS{static create(e,t){return new IS(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=DS.create(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class TS{static create(e,t,i=null){if(typeof t=="boolean")return t?Kh.create(e,i):jh.create(e,i);const n=Vn.get(e);return typeof n=="boolean"?t===(n?"true":"false")?co.INSTANCE:So.INSTANCE:new TS(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:qh(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=Vn.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?co.INSTANCE:So.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Pm.create(this.key,this.value,this)),this.negated}}class Kh{static create(e,t=null){const i=Vn.get(e);return typeof i=="boolean"?i?co.INSTANCE:So.INSTANCE:new Kh(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:NW(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=Vn.get(this.key);return typeof e=="boolean"?e?co.INSTANCE:So.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=jh.create(this.key,this)),this.negated}}function ES(s,e){if(typeof s=="string"){const t=parseFloat(s);isNaN(t)||(s=t)}return typeof s=="string"||typeof s=="number"?e(s):co.INSTANCE}class NS{static create(e,t,i=null){return ES(t,n=>new NS(e,n,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:qh(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=MS.create(this.key,this.value,this)),this.negated}}class AS{static create(e,t,i=null){return ES(t,n=>new AS(e,n,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:qh(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=RS.create(this.key,this.value,this)),this.negated}}class RS{static create(e,t,i=null){return ES(t,n=>new RS(e,n,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:qh(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=AS.create(this.key,this.value,this)),this.negated}}class MS{static create(e,t,i=null){return ES(t,n=>new MS(e,n,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:qh(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=NS.create(this.key,this.value,this)),this.negated}}class Zb{static create(e,t){return new Zb(e,t)}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=IA.create(this)),this.negated}}class IA{static create(e){return new IA(e)}constructor(e){this._actual=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function EW(s){let e=null;for(let t=0,i=s.length;t<i;t++){const n=s[t].substituteConstants();if(s[t]!==n&&e===null){e=[];for(let o=0;o<t;o++)e[o]=s[o]}e!==null&&(e[t]=n)}return e===null?s:e}class Hu{static create(e,t,i){return Hu._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const n=ab(this.expr[t],e.expr[t]);if(n!==0)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=EW(this.expr);return e===this.expr?this:Hu.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,i){const n=[];let o=!1;for(const r of e)if(r){if(r.type===1){o=!0;continue}if(r.type===0)return co.INSTANCE;if(r.type===6){n.push(...r.expr);continue}n.push(r)}if(n.length===0&&o)return So.INSTANCE;if(n.length!==0){if(n.length===1)return n[0];n.sort(ab);for(let r=1;r<n.length;r++)n[r-1].equals(n[r])&&(n.splice(r,1),r--);if(n.length===1)return n[0];for(;n.length>1;){const r=n[n.length-1];if(r.type!==9)break;n.pop();const a=n.pop(),l=n.length===0,c=Pl.create(r.expr.map(d=>Hu.create([d,a],null,i)),null,l);c&&(n.push(c),n.sort(ab))}if(n.length===1)return n[0];if(i){for(let r=0;r<n.length;r++)for(let a=r+1;a<n.length;a++)if(n[r].negate().equals(n[a]))return co.INSTANCE;if(n.length===1)return n[0]}return new Hu(n,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=Pl.create(e,this,!0)}return this.negated}}class Pl{static create(e,t,i){return Pl._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const n=ab(this.expr[t],e.expr[t]);if(n!==0)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=EW(this.expr);return e===this.expr?this:Pl.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let n=[],o=!1;if(e){for(let r=0,a=e.length;r<a;r++){const l=e[r];if(l){if(l.type===0){o=!0;continue}if(l.type===1)return So.INSTANCE;if(l.type===9){n=n.concat(l.expr);continue}n.push(l)}}if(n.length===0&&o)return co.INSTANCE;n.sort(ab)}if(n.length!==0){if(n.length===1)return n[0];for(let r=1;r<n.length;r++)n[r-1].equals(n[r])&&(n.splice(r,1),r--);if(n.length===1)return n[0];if(i){for(let r=0;r<n.length;r++)for(let a=r+1;a<n.length;a++)if(n[r].negate().equals(n[a]))return So.INSTANCE;if(n.length===1)return n[0]}return new Pl(n,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),n=[];for(const o of qP(t))for(const r of qP(i))n.push(Hu.create([o,r],null,!1));e.unshift(Pl.create(n,null,!1))}this.negated=Pl.create(e,this,!0)}return this.negated}}class de extends jh{static all(){return de._info.values()}constructor(e,t,i){super(e,null),this._defaultValue=t,typeof i=="object"?de._info.push(Object.assign(Object.assign({},i),{key:e})):i!==!0&&de._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return Pm.create(this.key,e)}}de._info=[];const Me=et("contextKeyService");function NW(s,e){return s<e?-1:s>e?1:0}function qh(s,e,t,i){return s<t?-1:s>t?1:e<i?-1:e>i?1:0}function QD(s,e){if(s.type===0||e.type===1)return!0;if(s.type===9)return e.type===9?KP(s.expr,e.expr):!1;if(e.type===9){for(const t of e.expr)if(QD(s,t))return!0;return!1}if(s.type===6){if(e.type===6)return KP(e.expr,s.expr);for(const t of s.expr)if(QD(t,e))return!0;return!1}return s.equals(e)}function KP(s,e){let t=0,i=0;for(;t<s.length&&i<e.length;){const n=s[t].cmp(e[i]);if(n<0)return!1;n===0&&t++,i++}return t===s.length}function qP(s){return s.type===9?s.expr:[s]}function YD(s,e){if(typeof s=="number"){if(s===0)return null;const t=(s&65535)>>>0,i=(s&4294901760)>>>16;return i!==0?new Qk([v0(t,e),v0(i,e)]):new Qk([v0(t,e)])}else{const t=[];for(let i=0;i<s.length;i++)t.push(v0(s[i],e));return new Qk(t)}}function v0(s,e){const t=!!(s&2048),i=!!(s&256),n=e===2?i:t,o=!!(s&1024),r=!!(s&512),a=e===2?t:i,l=s&255;return new lc(n,o,r,a,l)}class lc{constructor(e,t,i,n,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyCode=o}equals(e){return e instanceof lc&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class Qk{constructor(e){if(e.length===0)throw Ns("chords");this.chords=e}}class T${constructor(e,t,i,n,o,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyLabel=o,this.keyAriaLabel=r}}class E${}function Yk(s,e){if(!s)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function PS(s,e="Unreachable"){throw new Error(e)}function Qb(s){if(!s()){debugger;s(),He(new Ti("Assertion Failed"))}}function AW(s,e){let t=0;for(;t<s.length-1;){const i=s[t],n=s[t+1];if(!e(i,n))return!1;t++}return!0}class N${constructor(){this.data=new Map}add(e,t){Yk(ao(e)),Yk(no(t)),Yk(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}const Jt=new N$;class TA{constructor(){this._coreKeybindings=new oo,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(ns===1){if(e&&e.win)return e.win}else if(ns===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=TA.bindToCurrentPlatform(e),i=new Y;if(t&&t.primary){const n=YD(t.primary,ns);n&&i.add(this._registerDefaultKeybinding(n,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let n=0,o=t.secondary.length;n<o;n++){const r=t.secondary[n],a=YD(r,ns);a&&i.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-n-1,e.when))}return i}registerCommandAndKeybindingRule(e){return rr(this.registerKeybindingRule(e),lt.registerCommand(e))}_registerDefaultKeybinding(e,t,i,n,o,r){const a=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:r,weight1:n,weight2:o,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,Re(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(R$)),this._cachedMergedKeybindings.slice(0)}}const yo=new TA,A$={EditorModes:"platform.keybindingsRegistry"};Jt.add(A$.EditorModes,yo);function R$(s,e){if(s.weight1!==e.weight1)return s.weight1-e.weight1;if(s.command&&e.command){if(s.command<e.command)return-1;if(s.command>e.command)return 1}return s.weight2-e.weight2}var M$=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},GP=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},P$=globalThis&&globalThis.__rest||function(s,e){var t={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(s);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(s,i[n])&&(t[i[n]]=s[i[n]]);return t},Ww;function Ug(s){return s.command!==void 0}function O$(s){return s.submenu!==void 0}class D{constructor(e){if(D._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);D._instances.set(e,this),this.id=e}}D._instances=new Map;D.CommandPalette=new D("CommandPalette");D.DebugBreakpointsContext=new D("DebugBreakpointsContext");D.DebugCallStackContext=new D("DebugCallStackContext");D.DebugConsoleContext=new D("DebugConsoleContext");D.DebugVariablesContext=new D("DebugVariablesContext");D.DebugWatchContext=new D("DebugWatchContext");D.DebugToolBar=new D("DebugToolBar");D.DebugToolBarStop=new D("DebugToolBarStop");D.EditorContext=new D("EditorContext");D.SimpleEditorContext=new D("SimpleEditorContext");D.EditorContent=new D("EditorContent");D.EditorLineNumberContext=new D("EditorLineNumberContext");D.EditorContextCopy=new D("EditorContextCopy");D.EditorContextPeek=new D("EditorContextPeek");D.EditorContextShare=new D("EditorContextShare");D.EditorTitle=new D("EditorTitle");D.EditorTitleRun=new D("EditorTitleRun");D.EditorTitleContext=new D("EditorTitleContext");D.EditorTitleContextShare=new D("EditorTitleContextShare");D.EmptyEditorGroup=new D("EmptyEditorGroup");D.EmptyEditorGroupContext=new D("EmptyEditorGroupContext");D.EditorTabsBarContext=new D("EditorTabsBarContext");D.ExplorerContext=new D("ExplorerContext");D.ExplorerContextShare=new D("ExplorerContextShare");D.ExtensionContext=new D("ExtensionContext");D.GlobalActivity=new D("GlobalActivity");D.CommandCenter=new D("CommandCenter");D.CommandCenterCenter=new D("CommandCenterCenter");D.LayoutControlMenuSubmenu=new D("LayoutControlMenuSubmenu");D.LayoutControlMenu=new D("LayoutControlMenu");D.MenubarMainMenu=new D("MenubarMainMenu");D.MenubarAppearanceMenu=new D("MenubarAppearanceMenu");D.MenubarDebugMenu=new D("MenubarDebugMenu");D.MenubarEditMenu=new D("MenubarEditMenu");D.MenubarCopy=new D("MenubarCopy");D.MenubarFileMenu=new D("MenubarFileMenu");D.MenubarGoMenu=new D("MenubarGoMenu");D.MenubarHelpMenu=new D("MenubarHelpMenu");D.MenubarLayoutMenu=new D("MenubarLayoutMenu");D.MenubarNewBreakpointMenu=new D("MenubarNewBreakpointMenu");D.PanelAlignmentMenu=new D("PanelAlignmentMenu");D.PanelPositionMenu=new D("PanelPositionMenu");D.MenubarPreferencesMenu=new D("MenubarPreferencesMenu");D.MenubarRecentMenu=new D("MenubarRecentMenu");D.MenubarSelectionMenu=new D("MenubarSelectionMenu");D.MenubarShare=new D("MenubarShare");D.MenubarSwitchEditorMenu=new D("MenubarSwitchEditorMenu");D.MenubarSwitchGroupMenu=new D("MenubarSwitchGroupMenu");D.MenubarTerminalMenu=new D("MenubarTerminalMenu");D.MenubarViewMenu=new D("MenubarViewMenu");D.MenubarHomeMenu=new D("MenubarHomeMenu");D.OpenEditorsContext=new D("OpenEditorsContext");D.OpenEditorsContextShare=new D("OpenEditorsContextShare");D.ProblemsPanelContext=new D("ProblemsPanelContext");D.SCMChangeContext=new D("SCMChangeContext");D.SCMResourceContext=new D("SCMResourceContext");D.SCMResourceContextShare=new D("SCMResourceContextShare");D.SCMResourceFolderContext=new D("SCMResourceFolderContext");D.SCMResourceGroupContext=new D("SCMResourceGroupContext");D.SCMSourceControl=new D("SCMSourceControl");D.SCMTitle=new D("SCMTitle");D.SearchContext=new D("SearchContext");D.SearchActionMenu=new D("SearchActionContext");D.StatusBarWindowIndicatorMenu=new D("StatusBarWindowIndicatorMenu");D.StatusBarRemoteIndicatorMenu=new D("StatusBarRemoteIndicatorMenu");D.StickyScrollContext=new D("StickyScrollContext");D.TestItem=new D("TestItem");D.TestItemGutter=new D("TestItemGutter");D.TestMessageContext=new D("TestMessageContext");D.TestMessageContent=new D("TestMessageContent");D.TestPeekElement=new D("TestPeekElement");D.TestPeekTitle=new D("TestPeekTitle");D.TouchBarContext=new D("TouchBarContext");D.TitleBarContext=new D("TitleBarContext");D.TitleBarTitleContext=new D("TitleBarTitleContext");D.TunnelContext=new D("TunnelContext");D.TunnelPrivacy=new D("TunnelPrivacy");D.TunnelProtocol=new D("TunnelProtocol");D.TunnelPortInline=new D("TunnelInline");D.TunnelTitle=new D("TunnelTitle");D.TunnelLocalAddressInline=new D("TunnelLocalAddressInline");D.TunnelOriginInline=new D("TunnelOriginInline");D.ViewItemContext=new D("ViewItemContext");D.ViewContainerTitle=new D("ViewContainerTitle");D.ViewContainerTitleContext=new D("ViewContainerTitleContext");D.ViewTitle=new D("ViewTitle");D.ViewTitleContext=new D("ViewTitleContext");D.CommentEditorActions=new D("CommentEditorActions");D.CommentThreadTitle=new D("CommentThreadTitle");D.CommentThreadActions=new D("CommentThreadActions");D.CommentThreadAdditionalActions=new D("CommentThreadAdditionalActions");D.CommentThreadTitleContext=new D("CommentThreadTitleContext");D.CommentThreadCommentContext=new D("CommentThreadCommentContext");D.CommentTitle=new D("CommentTitle");D.CommentActions=new D("CommentActions");D.InteractiveToolbar=new D("InteractiveToolbar");D.InteractiveCellTitle=new D("InteractiveCellTitle");D.InteractiveCellDelete=new D("InteractiveCellDelete");D.InteractiveCellExecute=new D("InteractiveCellExecute");D.InteractiveInputExecute=new D("InteractiveInputExecute");D.NotebookToolbar=new D("NotebookToolbar");D.NotebookStickyScrollContext=new D("NotebookStickyScrollContext");D.NotebookCellTitle=new D("NotebookCellTitle");D.NotebookCellDelete=new D("NotebookCellDelete");D.NotebookCellInsert=new D("NotebookCellInsert");D.NotebookCellBetween=new D("NotebookCellBetween");D.NotebookCellListTop=new D("NotebookCellTop");D.NotebookCellExecute=new D("NotebookCellExecute");D.NotebookCellExecutePrimary=new D("NotebookCellExecutePrimary");D.NotebookDiffCellInputTitle=new D("NotebookDiffCellInputTitle");D.NotebookDiffCellMetadataTitle=new D("NotebookDiffCellMetadataTitle");D.NotebookDiffCellOutputsTitle=new D("NotebookDiffCellOutputsTitle");D.NotebookOutputToolbar=new D("NotebookOutputToolbar");D.NotebookEditorLayoutConfigure=new D("NotebookEditorLayoutConfigure");D.NotebookKernelSource=new D("NotebookKernelSource");D.BulkEditTitle=new D("BulkEditTitle");D.BulkEditContext=new D("BulkEditContext");D.TimelineItemContext=new D("TimelineItemContext");D.TimelineTitle=new D("TimelineTitle");D.TimelineTitleContext=new D("TimelineTitleContext");D.TimelineFilterSubMenu=new D("TimelineFilterSubMenu");D.AccountsContext=new D("AccountsContext");D.PanelTitle=new D("PanelTitle");D.AuxiliaryBarTitle=new D("AuxiliaryBarTitle");D.TerminalInstanceContext=new D("TerminalInstanceContext");D.TerminalEditorInstanceContext=new D("TerminalEditorInstanceContext");D.TerminalNewDropdownContext=new D("TerminalNewDropdownContext");D.TerminalTabContext=new D("TerminalTabContext");D.TerminalTabEmptyAreaContext=new D("TerminalTabEmptyAreaContext");D.WebviewContext=new D("WebviewContext");D.InlineCompletionsActions=new D("InlineCompletionsActions");D.NewFile=new D("NewFile");D.MergeInput1Toolbar=new D("MergeToolbar1Toolbar");D.MergeInput2Toolbar=new D("MergeToolbar2Toolbar");D.MergeBaseToolbar=new D("MergeBaseToolbar");D.MergeInputResultToolbar=new D("MergeToolbarResultToolbar");D.InlineSuggestionToolbar=new D("InlineSuggestionToolbar");D.ChatContext=new D("ChatContext");D.ChatCodeBlock=new D("ChatCodeblock");D.ChatMessageTitle=new D("ChatMessageTitle");D.ChatExecute=new D("ChatExecute");D.ChatInputSide=new D("ChatInputSide");D.AccessibleView=new D("AccessibleView");const dl=et("menuService");class Ol{static for(e){let t=this._all.get(e);return t||(t=new Ol(e),this._all.set(e,t)),t}static merge(e){const t=new Set;for(const i of e)i instanceof Ol&&t.add(i.id);return t}constructor(e){this.id=e,this.has=t=>t===e}}Ol._all=new Map;const hn=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new mU({merge:Ol.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(s){return this._commands.set(s.id,s),this._onDidChangeMenu.fire(Ol.for(D.CommandPalette)),Re(()=>{this._commands.delete(s.id)&&this._onDidChangeMenu.fire(Ol.for(D.CommandPalette))})}getCommand(s){return this._commands.get(s)}getCommands(){const s=new Map;return this._commands.forEach((e,t)=>s.set(t,e)),s}appendMenuItem(s,e){let t=this._menuItems.get(s);t||(t=new oo,this._menuItems.set(s,t));const i=t.push(e);return this._onDidChangeMenu.fire(Ol.for(s)),Re(()=>{i(),this._onDidChangeMenu.fire(Ol.for(s))})}appendMenuItems(s){const e=new Y;for(const{id:t,item:i}of s)e.add(this.appendMenuItem(t,i));return e}getMenuItems(s){let e;return this._menuItems.has(s)?e=[...this._menuItems.get(s)]:e=[],s===D.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(s){const e=new Set;for(const t of s)Ug(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||s.push({command:t})})}};class Yb extends Zf{constructor(e,t,i){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,i,"submenu"),this.item=e,this.hideActions=t}}let dr=Ww=class{static label(e,t){return t!=null&&t.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value}constructor(e,t,i,n,o,r){var a,l;this.hideActions=n,this._commandService=r,this.id=e.id,this.label=Ww.label(e,i),this.tooltip=(l=typeof e.tooltip=="string"?e.tooltip:(a=e.tooltip)===null||a===void 0?void 0:a.value)!==null&&l!==void 0?l:"",this.enabled=!e.precondition||o.contextMatchesRules(e.precondition),this.checked=void 0;let c;if(e.toggled){const d=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=o.contextMatchesRules(d.condition),this.checked&&d.tooltip&&(this.tooltip=typeof d.tooltip=="string"?d.tooltip:d.tooltip.value),this.checked&&Ie.isThemeIcon(d.icon)&&(c=d.icon),this.checked&&d.title&&(this.label=typeof d.title=="string"?d.title:d.title.value)}c||(c=Ie.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new Ww(t,void 0,i,n,o,r):void 0,this._options=i,this.class=c&&Ie.asClassName(c)}run(...e){var t,i;let n=[];return!((t=this._options)===null||t===void 0)&&t.arg&&(n=[...n,this._options.arg]),!((i=this._options)===null||i===void 0)&&i.shouldForwardArgs&&(n=[...n,...e]),this._commandService.executeCommand(this.id,...n)}};dr=Ww=M$([GP(4,Me),GP(5,ci)],dr);class fs{constructor(e){this.desc=e}}function jt(s){const e=new Y,t=new s,i=t.desc,{f1:n,menu:o,keybinding:r,description:a}=i,l=P$(i,["f1","menu","keybinding","description"]);if(e.add(lt.registerCommand({id:l.id,handler:(c,...d)=>t.run(c,...d),description:a})),Array.isArray(o))for(const c of o)e.add(hn.appendMenuItem(c.id,Object.assign({command:Object.assign(Object.assign({},l),{precondition:c.precondition===null?void 0:l.precondition})},c)));else o&&e.add(hn.appendMenuItem(o.id,Object.assign({command:Object.assign(Object.assign({},l),{precondition:o.precondition===null?void 0:l.precondition})},o)));if(n&&(e.add(hn.appendMenuItem(D.CommandPalette,{command:l,when:l.precondition})),e.add(hn.addCommand(l))),Array.isArray(r))for(const c of r)e.add(yo.registerKeybindingRule(Object.assign(Object.assign({},c),{id:l.id,when:l.precondition?Z.and(l.precondition,c.when):c.when})));else r&&e.add(yo.registerKeybindingRule(Object.assign(Object.assign({},r),{id:l.id,when:l.precondition?Z.and(l.precondition,r.when):r.when})));return e}const ms=et("telemetryService"),ps=et("logService");var kn;(function(s){s[s.Off=0]="Off",s[s.Trace=1]="Trace",s[s.Debug=2]="Debug",s[s.Info=3]="Info",s[s.Warning=4]="Warning",s[s.Error=5]="Error"})(kn||(kn={}));const RW=kn.Info;class MW extends H{constructor(){super(...arguments),this.level=RW,this._onDidChangeLogLevel=this._register(new M),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(e){return this.level!==kn.Off&&this.level<=e}}class F$ extends MW{constructor(e=RW,t=!0){super(),this.useColors=t,this.setLevel(e)}trace(e,...t){this.checkLogLevel(kn.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",e,...t):console.log(e,...t))}debug(e,...t){this.checkLogLevel(kn.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",e,...t):console.log(e,...t))}info(e,...t){this.checkLogLevel(kn.Info)&&(this.useColors?console.log("%c INFO","color: #33f",e,...t):console.log(e,...t))}warn(e,...t){this.checkLogLevel(kn.Warning)&&(this.useColors?console.log("%c WARN","color: #993",e,...t):console.log(e,...t))}error(e,...t){this.checkLogLevel(kn.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",e,...t):console.error(e,...t))}dispose(){}}class B$ extends MW{constructor(e){super(),this.loggers=e,e.length&&this.setLevel(e[0].getLevel())}setLevel(e){for(const t of this.loggers)t.setLevel(e);super.setLevel(e)}trace(e,...t){for(const i of this.loggers)i.trace(e,...t)}debug(e,...t){for(const i of this.loggers)i.debug(e,...t)}info(e,...t){for(const i of this.loggers)i.info(e,...t)}warn(e,...t){for(const i of this.loggers)i.warn(e,...t)}error(e,...t){for(const i of this.loggers)i.error(e,...t)}dispose(){for(const e of this.loggers)e.dispose()}}function W$(s){switch(s){case kn.Trace:return"trace";case kn.Debug:return"debug";case kn.Info:return"info";case kn.Warning:return"warn";case kn.Error:return"error";case kn.Off:return"off"}}new de("logLevel",W$(kn.Info));const EA={clipboard:{writeText:Kr||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:Kr||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>Kr||d$()?0:navigator.keyboard||ac?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)};function V$(s){if(s.charCode){const t=String.fromCharCode(s.charCode).toUpperCase();return Ml.fromString(t)}const e=s.keyCode;if(e===3)return 7;if(Ms)switch(e){case 59:return 85;case 60:if(Qn)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(at)return 57;break}else if(Yu){if(at&&e===93)return 57;if(!at&&e===92)return 57}return rW[e]||0}const H$=at?256:2048,z$=512,U$=1024,$$=at?2048:256;class Wt{constructor(e){this._standardKeyboardEventBrand=!0;const t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState("AltGraph"),this.keyCode=V$(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=H$),this.altKey&&(t|=z$),this.shiftKey&&(t|=U$),this.metaKey&&(t|=$$),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new lc(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}let ZP=!1,op=null;function j$(s){if(!s.parent||s.parent===s)return null;try{const e=s.location,t=s.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return ZP=!0,null}catch(e){return ZP=!0,null}return s.parent}class K${static getSameOriginWindowChain(){if(!op){op=[];let e=window,t;do t=j$(e),t?op.push({window:e,iframeElement:e.frameElement||null}):op.push({window:e,iframeElement:null}),e=t;while(e)}return op.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,n=0;const o=this.getSameOriginWindowChain();for(const r of o){if(i+=r.window.scrollY,n+=r.window.scrollX,r.window===t||!r.iframeElement)break;const a=r.iframeElement.getBoundingClientRect();i+=a.top,n+=a.left}return{top:i,left:n}}}class Ds{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=e.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const t=K$.getPositionOfChildWindowRelativeToAncestorWindow(window,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class mh{constructor(e,t=0,i=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){const n=e,o=e;if(typeof n.wheelDeltaY!="undefined")this.deltaY=n.wheelDeltaY/120;else if(typeof o.VERTICAL_AXIS!="undefined"&&o.axis===o.VERTICAL_AXIS)this.deltaY=-o.detail/3;else if(e.type==="wheel"){const r=e;r.deltaMode===r.DOM_DELTA_LINE?Ms&&!at?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof n.wheelDeltaX!="undefined")ac&&En?this.deltaX=-(n.wheelDeltaX/120):this.deltaX=n.wheelDeltaX/120;else if(typeof o.HORIZONTAL_AXIS!="undefined"&&o.axis===o.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){const r=e;r.deltaMode===r.DOM_DELTA_LINE?Ms&&!at?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){var e;(e=this.browserEvent)===null||e===void 0||e.preventDefault()}stopPropagation(){var e;(e=this.browserEvent)===null||e===void 0||e.stopPropagation()}}/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:PW,setPrototypeOf:QP,isFrozen:q$,getPrototypeOf:G$,getOwnPropertyDescriptor:Z$}=Object;let{freeze:Ho,seal:Jr,create:Q$}=Object,{apply:XD,construct:JD}=typeof Reflect!="undefined"&&Reflect;XD||(XD=function(e,t,i){return e.apply(t,i)});Ho||(Ho=function(e){return e});Jr||(Jr=function(e){return e});JD||(JD=function(e,t){return new e(...t)});const Y$=ur(Array.prototype.forEach),YP=ur(Array.prototype.pop),sp=ur(Array.prototype.push),Vw=ur(String.prototype.toLowerCase),Xk=ur(String.prototype.toString),X$=ur(String.prototype.match),kr=ur(String.prototype.replace),J$=ur(String.prototype.indexOf),ej=ur(String.prototype.trim),ws=ur(RegExp.prototype.test),rp=tj(TypeError);function ur(s){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return XD(s,e,i)}}function tj(s){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return JD(s,t)}}function kt(s,e,t){var i;t=(i=t)!==null&&i!==void 0?i:Vw,QP&&QP(s,null);let n=e.length;for(;n--;){let o=e[n];if(typeof o=="string"){const r=t(o);r!==o&&(q$(e)||(e[n]=r),o=r)}s[o]=!0}return s}function hg(s){const e=Q$(null);for(const[t,i]of PW(s))e[t]=i;return e}function w0(s,e){for(;s!==null;){const i=Z$(s,e);if(i){if(i.get)return ur(i.get);if(typeof i.value=="function")return ur(i.value)}s=G$(s)}function t(i){return console.warn("fallback value for",i),null}return t}const XP=Ho(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Jk=Ho(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),eL=Ho(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ij=Ho(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),tL=Ho(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),nj=Ho(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),JP=Ho(["#text"]),e2=Ho(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),iL=Ho(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),t2=Ho(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),C0=Ho(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),oj=Jr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sj=Jr(/<%[\w\W]*|[\w\W]*%>/gm),rj=Jr(/\${[\w\W]*}/gm),aj=Jr(/^data-[\-\w.\u00B7-\uFFFF]/),lj=Jr(/^aria-[\-\w]+$/),OW=Jr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cj=Jr(/^(?:\w+script|data):/i),dj=Jr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),FW=Jr(/^html$/i);var i2=Object.freeze({__proto__:null,MUSTACHE_EXPR:oj,ERB_EXPR:sj,TMPLIT_EXPR:rj,DATA_ATTR:aj,ARIA_ATTR:lj,IS_ALLOWED_URI:OW,IS_SCRIPT_OR_DATA:cj,ATTR_WHITESPACE:dj,DOCTYPE_NAME:FW});const uj=()=>typeof window=="undefined"?null:window,hj=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(i=t.getAttribute(n));const o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML(r){return r},createScriptURL(r){return r}})}catch(r){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function BW(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uj();const e=Qe=>BW(Qe);if(e.version="3.0.5",e.removed=[],!s||!s.document||s.document.nodeType!==9)return e.isSupported=!1,e;const t=s.document,i=t.currentScript;let{document:n}=s;const{DocumentFragment:o,HTMLTemplateElement:r,Node:a,Element:l,NodeFilter:c,NamedNodeMap:d=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:u,DOMParser:h,trustedTypes:g}=s,m=l.prototype,p=w0(m,"cloneNode"),_=w0(m,"nextSibling"),b=w0(m,"childNodes"),v=w0(m,"parentNode");if(typeof r=="function"){const Qe=n.createElement("template");Qe.content&&Qe.content.ownerDocument&&(n=Qe.content.ownerDocument)}let w,C="";const{implementation:S,createNodeIterator:x,createDocumentFragment:L,getElementsByTagName:I}=n,{importNode:E}=t;let W={};e.isSupported=typeof PW=="function"&&typeof v=="function"&&S&&S.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:U,ERB_EXPR:F,TMPLIT_EXPR:O,DATA_ATTR:G,ARIA_ATTR:X,IS_SCRIPT_OR_DATA:fe,ATTR_WHITESPACE:be}=i2;let{IS_ALLOWED_URI:Le}=i2,pe=null;const Fe=kt({},[...XP,...Jk,...eL,...tL,...JP]);let Oe=null;const ke=kt({},[...e2,...iL,...t2,...C0]);let le=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xi=null,_n=null,Fi=!0,_t=!0,Hi=!1,js=!0,vn=!1,ze=!1,Ks=!1,wr=!1,Cr=!1,Gi=!1,_s=!1,c0=!0,d0=!1;const Wk="user-content-";let J=!0,K=!1,j={},A=null;const R=kt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let z=null;const B=kt({},["audio","video","img","source","image","track"]);let ee=null;const he=kt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),xe="http://www.w3.org/1998/Math/MathML",Te="http://www.w3.org/2000/svg",Ke="http://www.w3.org/1999/xhtml";let Ue=Ke,Pt=!1,Dt=null;const Be=kt({},[xe,Te,Ke],Xk);let di;const ui=["application/xhtml+xml","text/html"],qs="text/html";let Ct,Bi=null;const au=n.createElement("form"),lu=function(q){return q instanceof RegExp||q instanceof Function},Sr=function(q){if(!(Bi&&Bi===q)){if((!q||typeof q!="object")&&(q={}),q=hg(q),di=ui.indexOf(q.PARSER_MEDIA_TYPE)===-1?di=qs:di=q.PARSER_MEDIA_TYPE,Ct=di==="application/xhtml+xml"?Xk:Vw,pe="ALLOWED_TAGS"in q?kt({},q.ALLOWED_TAGS,Ct):Fe,Oe="ALLOWED_ATTR"in q?kt({},q.ALLOWED_ATTR,Ct):ke,Dt="ALLOWED_NAMESPACES"in q?kt({},q.ALLOWED_NAMESPACES,Xk):Be,ee="ADD_URI_SAFE_ATTR"in q?kt(hg(he),q.ADD_URI_SAFE_ATTR,Ct):he,z="ADD_DATA_URI_TAGS"in q?kt(hg(B),q.ADD_DATA_URI_TAGS,Ct):B,A="FORBID_CONTENTS"in q?kt({},q.FORBID_CONTENTS,Ct):R,xi="FORBID_TAGS"in q?kt({},q.FORBID_TAGS,Ct):{},_n="FORBID_ATTR"in q?kt({},q.FORBID_ATTR,Ct):{},j="USE_PROFILES"in q?q.USE_PROFILES:!1,Fi=q.ALLOW_ARIA_ATTR!==!1,_t=q.ALLOW_DATA_ATTR!==!1,Hi=q.ALLOW_UNKNOWN_PROTOCOLS||!1,js=q.ALLOW_SELF_CLOSE_IN_ATTR!==!1,vn=q.SAFE_FOR_TEMPLATES||!1,ze=q.WHOLE_DOCUMENT||!1,Cr=q.RETURN_DOM||!1,Gi=q.RETURN_DOM_FRAGMENT||!1,_s=q.RETURN_TRUSTED_TYPE||!1,wr=q.FORCE_BODY||!1,c0=q.SANITIZE_DOM!==!1,d0=q.SANITIZE_NAMED_PROPS||!1,J=q.KEEP_CONTENT!==!1,K=q.IN_PLACE||!1,Le=q.ALLOWED_URI_REGEXP||OW,Ue=q.NAMESPACE||Ke,le=q.CUSTOM_ELEMENT_HANDLING||{},q.CUSTOM_ELEMENT_HANDLING&&lu(q.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(le.tagNameCheck=q.CUSTOM_ELEMENT_HANDLING.tagNameCheck),q.CUSTOM_ELEMENT_HANDLING&&lu(q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(le.attributeNameCheck=q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),q.CUSTOM_ELEMENT_HANDLING&&typeof q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(le.allowCustomizedBuiltInElements=q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),vn&&(_t=!1),Gi&&(Cr=!0),j&&(pe=kt({},[...JP]),Oe=[],j.html===!0&&(kt(pe,XP),kt(Oe,e2)),j.svg===!0&&(kt(pe,Jk),kt(Oe,iL),kt(Oe,C0)),j.svgFilters===!0&&(kt(pe,eL),kt(Oe,iL),kt(Oe,C0)),j.mathMl===!0&&(kt(pe,tL),kt(Oe,t2),kt(Oe,C0))),q.ADD_TAGS&&(pe===Fe&&(pe=hg(pe)),kt(pe,q.ADD_TAGS,Ct)),q.ADD_ATTR&&(Oe===ke&&(Oe=hg(Oe)),kt(Oe,q.ADD_ATTR,Ct)),q.ADD_URI_SAFE_ATTR&&kt(ee,q.ADD_URI_SAFE_ATTR,Ct),q.FORBID_CONTENTS&&(A===R&&(A=hg(A)),kt(A,q.FORBID_CONTENTS,Ct)),J&&(pe["#text"]=!0),ze&&kt(pe,["html","head","body"]),pe.table&&(kt(pe,["tbody"]),delete xi.tbody),q.TRUSTED_TYPES_POLICY){if(typeof q.TRUSTED_TYPES_POLICY.createHTML!="function")throw rp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof q.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw rp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=q.TRUSTED_TYPES_POLICY,C=w.createHTML("")}else w===void 0&&(w=hj(g,i)),w!==null&&typeof C=="string"&&(C=w.createHTML(""));Ho&&Ho(q),Bi=q}},_c=kt({},["mi","mo","mn","ms","mtext"]),cu=kt({},["foreignobject","desc","title","annotation-xml"]),du=kt({},["title","style","font","a","script"]),dg=kt({},Jk);kt(dg,eL),kt(dg,ij);const uu=kt({},tL);kt(uu,nj);const Vk=function(q){let we=v(q);(!we||!we.tagName)&&(we={namespaceURI:Ue,tagName:"template"});const Pe=Vw(q.tagName),hi=Vw(we.tagName);return Dt[q.namespaceURI]?q.namespaceURI===Te?we.namespaceURI===Ke?Pe==="svg":we.namespaceURI===xe?Pe==="svg"&&(hi==="annotation-xml"||_c[hi]):!!dg[Pe]:q.namespaceURI===xe?we.namespaceURI===Ke?Pe==="math":we.namespaceURI===Te?Pe==="math"&&cu[hi]:!!uu[Pe]:q.namespaceURI===Ke?we.namespaceURI===Te&&!cu[hi]||we.namespaceURI===xe&&!_c[hi]?!1:!uu[Pe]&&(du[Pe]||!dg[Pe]):!!(di==="application/xhtml+xml"&&Dt[q.namespaceURI]):!1},ua=function(q){sp(e.removed,{element:q});try{q.parentNode.removeChild(q)}catch(we){q.remove()}},ip=function(q,we){try{sp(e.removed,{attribute:we.getAttributeNode(q),from:we})}catch(Pe){sp(e.removed,{attribute:null,from:we})}if(we.removeAttribute(q),q==="is"&&!Oe[q])if(Cr||Gi)try{ua(we)}catch(Pe){}else try{we.setAttribute(q,"")}catch(Pe){}},np=function(q){let we,Pe;if(wr)q="<remove></remove>"+q;else{const Gs=X$(q,/^[\r\n\t ]+/);Pe=Gs&&Gs[0]}di==="application/xhtml+xml"&&Ue===Ke&&(q='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+q+"</body></html>");const hi=w?w.createHTML(q):q;if(Ue===Ke)try{we=new h().parseFromString(hi,di)}catch(Gs){}if(!we||!we.documentElement){we=S.createDocument(Ue,"template",null);try{we.documentElement.innerHTML=Pt?C:hi}catch(Gs){}}const zn=we.body||we.documentElement;return q&&Pe&&zn.insertBefore(n.createTextNode(Pe),zn.childNodes[0]||null),Ue===Ke?I.call(we,ze?"html":"body")[0]:ze?we.documentElement:zn},u0=function(q){return x.call(q.ownerDocument||q,q,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},FH=function(q){return q instanceof u&&(typeof q.nodeName!="string"||typeof q.textContent!="string"||typeof q.removeChild!="function"||!(q.attributes instanceof d)||typeof q.removeAttribute!="function"||typeof q.setAttribute!="function"||typeof q.namespaceURI!="string"||typeof q.insertBefore!="function"||typeof q.hasChildNodes!="function")},h0=function(q){return typeof a=="object"?q instanceof a:q&&typeof q=="object"&&typeof q.nodeType=="number"&&typeof q.nodeName=="string"},fl=function(q,we,Pe){W[q]&&Y$(W[q],hi=>{hi.call(e,we,Pe,Bi)})},yP=function(q){let we;if(fl("beforeSanitizeElements",q,null),FH(q))return ua(q),!0;const Pe=Ct(q.nodeName);if(fl("uponSanitizeElement",q,{tagName:Pe,allowedTags:pe}),q.hasChildNodes()&&!h0(q.firstElementChild)&&(!h0(q.content)||!h0(q.content.firstElementChild))&&ws(/<[/\w]/g,q.innerHTML)&&ws(/<[/\w]/g,q.textContent))return ua(q),!0;if(!pe[Pe]||xi[Pe]){if(!xi[Pe]&&LP(Pe)&&(le.tagNameCheck instanceof RegExp&&ws(le.tagNameCheck,Pe)||le.tagNameCheck instanceof Function&&le.tagNameCheck(Pe)))return!1;if(J&&!A[Pe]){const hi=v(q)||q.parentNode,zn=b(q)||q.childNodes;if(zn&&hi){const Gs=zn.length;for(let zi=Gs-1;zi>=0;--zi)hi.insertBefore(p(zn[zi],!0),_(q))}}return ua(q),!0}return q instanceof l&&!Vk(q)||(Pe==="noscript"||Pe==="noembed"||Pe==="noframes")&&ws(/<\/no(script|embed|frames)/i,q.innerHTML)?(ua(q),!0):(vn&&q.nodeType===3&&(we=q.textContent,we=kr(we,U," "),we=kr(we,F," "),we=kr(we,O," "),q.textContent!==we&&(sp(e.removed,{element:q.cloneNode()}),q.textContent=we)),fl("afterSanitizeElements",q,null),!1)},kP=function(q,we,Pe){if(c0&&(we==="id"||we==="name")&&(Pe in n||Pe in au))return!1;if(!(_t&&!_n[we]&&ws(G,we))){if(!(Fi&&ws(X,we))){if(!Oe[we]||_n[we]){if(!(LP(q)&&(le.tagNameCheck instanceof RegExp&&ws(le.tagNameCheck,q)||le.tagNameCheck instanceof Function&&le.tagNameCheck(q))&&(le.attributeNameCheck instanceof RegExp&&ws(le.attributeNameCheck,we)||le.attributeNameCheck instanceof Function&&le.attributeNameCheck(we))||we==="is"&&le.allowCustomizedBuiltInElements&&(le.tagNameCheck instanceof RegExp&&ws(le.tagNameCheck,Pe)||le.tagNameCheck instanceof Function&&le.tagNameCheck(Pe))))return!1}else if(!ee[we]){if(!ws(Le,kr(Pe,be,""))){if(!((we==="src"||we==="xlink:href"||we==="href")&&q!=="script"&&J$(Pe,"data:")===0&&z[q])){if(!(Hi&&!ws(fe,kr(Pe,be,"")))){if(Pe)return!1}}}}}}return!0},LP=function(q){return q.indexOf("-")>0},xP=function(q){let we,Pe,hi,zn;fl("beforeSanitizeAttributes",q,null);const{attributes:Gs}=q;if(!Gs)return;const zi={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Oe};for(zn=Gs.length;zn--;){we=Gs[zn];const{name:ha,namespaceURI:Hk}=we;if(Pe=ha==="value"?we.value:ej(we.value),hi=Ct(ha),zi.attrName=hi,zi.attrValue=Pe,zi.keepAttr=!0,zi.forceKeepAttr=void 0,fl("uponSanitizeAttribute",q,zi),Pe=zi.attrValue,zi.forceKeepAttr||(ip(ha,q),!zi.keepAttr))continue;if(!js&&ws(/\/>/i,Pe)){ip(ha,q);continue}vn&&(Pe=kr(Pe,U," "),Pe=kr(Pe,F," "),Pe=kr(Pe,O," "));const DP=Ct(q.nodeName);if(kP(DP,hi,Pe)){if(d0&&(hi==="id"||hi==="name")&&(ip(ha,q),Pe=Wk+Pe),w&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!Hk)switch(g.getAttributeType(DP,hi)){case"TrustedHTML":{Pe=w.createHTML(Pe);break}case"TrustedScriptURL":{Pe=w.createScriptURL(Pe);break}}try{Hk?q.setAttributeNS(Hk,ha,Pe):q.setAttribute(ha,Pe),YP(e.removed)}catch(awe){}}}fl("afterSanitizeAttributes",q,null)},BH=function Qe(q){let we;const Pe=u0(q);for(fl("beforeSanitizeShadowDOM",q,null);we=Pe.nextNode();)fl("uponSanitizeShadowNode",we,null),!yP(we)&&(we.content instanceof o&&Qe(we.content),xP(we));fl("afterSanitizeShadowDOM",q,null)};return e.sanitize=function(Qe){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we,Pe,hi,zn;if(Pt=!Qe,Pt&&(Qe="<!-->"),typeof Qe!="string"&&!h0(Qe))if(typeof Qe.toString=="function"){if(Qe=Qe.toString(),typeof Qe!="string")throw rp("dirty is not a string, aborting")}else throw rp("toString is not a function");if(!e.isSupported)return Qe;if(Ks||Sr(q),e.removed=[],typeof Qe=="string"&&(K=!1),K){if(Qe.nodeName){const ha=Ct(Qe.nodeName);if(!pe[ha]||xi[ha])throw rp("root node is forbidden and cannot be sanitized in-place")}}else if(Qe instanceof a)we=np("<!---->"),Pe=we.ownerDocument.importNode(Qe,!0),Pe.nodeType===1&&Pe.nodeName==="BODY"||Pe.nodeName==="HTML"?we=Pe:we.appendChild(Pe);else{if(!Cr&&!vn&&!ze&&Qe.indexOf("<")===-1)return w&&_s?w.createHTML(Qe):Qe;if(we=np(Qe),!we)return Cr?null:_s?C:""}we&&wr&&ua(we.firstChild);const Gs=u0(K?Qe:we);for(;hi=Gs.nextNode();)yP(hi)||(hi.content instanceof o&&BH(hi.content),xP(hi));if(K)return Qe;if(Cr){if(Gi)for(zn=L.call(we.ownerDocument);we.firstChild;)zn.appendChild(we.firstChild);else zn=we;return(Oe.shadowroot||Oe.shadowrootmode)&&(zn=E.call(t,zn,!0)),zn}let zi=ze?we.outerHTML:we.innerHTML;return ze&&pe["!doctype"]&&we.ownerDocument&&we.ownerDocument.doctype&&we.ownerDocument.doctype.name&&ws(FW,we.ownerDocument.doctype.name)&&(zi="<!DOCTYPE "+we.ownerDocument.doctype.name+`>
`+zi),vn&&(zi=kr(zi,U," "),zi=kr(zi,F," "),zi=kr(zi,O," ")),w&&_s?w.createHTML(zi):zi},e.setConfig=function(Qe){Sr(Qe),Ks=!0},e.clearConfig=function(){Bi=null,Ks=!1},e.isValidAttribute=function(Qe,q,we){Bi||Sr({});const Pe=Ct(Qe),hi=Ct(q);return kP(Pe,hi,we)},e.addHook=function(Qe,q){typeof q=="function"&&(W[Qe]=W[Qe]||[],sp(W[Qe],q))},e.removeHook=function(Qe){if(W[Qe])return YP(W[Qe])},e.removeHooks=function(Qe){W[Qe]&&(W[Qe]=[])},e.removeAllHooks=function(){W={}},e}var ul=BW();ul.version;ul.isSupported;const WW=ul.sanitize;ul.setConfig;ul.clearConfig;ul.isValidAttribute;const VW=ul.addHook,HW=ul.removeHook;ul.removeHooks;ul.removeAllHooks;var qe;(function(s){s.inMemory="inmemory",s.vscode="vscode",s.internal="private",s.walkThrough="walkThrough",s.walkThroughSnippet="walkThroughSnippet",s.http="http",s.https="https",s.file="file",s.mailto="mailto",s.untitled="untitled",s.data="data",s.command="command",s.vscodeRemote="vscode-remote",s.vscodeRemoteResource="vscode-remote-resource",s.vscodeManagedRemoteResource="vscode-managed-remote-resource",s.vscodeUserData="vscode-userdata",s.vscodeCustomEditor="vscode-custom-editor",s.vscodeNotebookCell="vscode-notebook-cell",s.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",s.vscodeNotebookCellOutput="vscode-notebook-cell-output",s.vscodeInteractiveInput="vscode-interactive-input",s.vscodeSettings="vscode-settings",s.vscodeWorkspaceTrust="vscode-workspace-trust",s.vscodeTerminal="vscode-terminal",s.vscodeChatSesssion="vscode-chat-editor",s.webviewPanel="webview-panel",s.vscodeWebview="vscode-webview",s.extension="extension",s.vscodeFileResource="vscode-file",s.tmp="tmp",s.vsls="vsls",s.vscodeSourceControl="vscode-scm"})(qe||(qe={}));const gj="tkn";class fj{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${qe.vscodeRemoteResource}`}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return He(a),e}const t=e.authority;let i=this._hosts[t];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);const n=this._ports[t],o=this._connectionTokens[t];let r=`path=${encodeURIComponent(e.path)}`;return typeof o=="string"&&(r+=`&${gj}=${encodeURIComponent(o)}`),De.from({scheme:qd?this._preferredWebSchema:qe.vscodeRemoteResource,authority:`${i}:${n}`,path:this._remoteResourcesPath,query:r})}}const zW=new fj;class Xb{uriToBrowserUri(e){return e.scheme===qe.vscodeRemote?zW.rewrite(e):e.scheme===qe.file&&(Kr||lz&&sr.origin===`${qe.vscodeFileResource}://${Xb.FALLBACK_AUTHORITY}`)?e.with({scheme:qe.vscodeFileResource,authority:e.authority||Xb.FALLBACK_AUTHORITY,query:null,fragment:null}):e}}Xb.FALLBACK_AUTHORITY="vscode-app";const UW=new Xb;var n2;(function(s){const e=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);s.CoopAndCoep=Object.freeze(e.get("3"));const t="vscode-coi";function i(o){let r;typeof o=="string"?r=new URL(o).searchParams:o instanceof URL?r=o.searchParams:De.isUri(o)&&(r=new URL(o.toString(!0)).searchParams);const a=r==null?void 0:r.get(t);if(a)return e.get(a)}s.getHeadersFromQuery=i;function n(o,r,a){if(!globalThis.crossOriginIsolated)return;const l=r&&a?"3":a?"2":"1";o instanceof URLSearchParams?o.set(t,l):o[t]=l}s.addSearchParam=n})(n2||(n2={}));const{registerWindow:bwe,getWindows:mj,onDidCreateWindow:_we}=function(){const s=[],e=new M;return{onDidCreateWindow:e.event,registerWindow(t){s.push(t);const i=new Y;return i.add(Re(()=>{const n=s.indexOf(t);n!==-1&&s.splice(n,1)})),e.fire({window:t,disposableStore:i}),i},getWindows(){return s}}}();function fn(s){for(;s.firstChild;)s.firstChild.remove()}function NA(s){var e;return(e=s==null?void 0:s.isConnected)!==null&&e!==void 0?e:!1}class pj{constructor(e,t,i,n){this._node=e,this._type=t,this._handler=i,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function $(s,e,t,i){return new pj(s,e,t,i)}function $W(s){return function(e){return s(new Ds(e))}}function bj(s){return function(e){return s(new Wt(e))}}const Si=function(e,t,i,n){let o=i;return t==="click"||t==="mousedown"?o=$W(i):(t==="keydown"||t==="keypress"||t==="keyup")&&(o=bj(i)),$(e,t,o,n)},_j=function(e,t,i){const n=$W(t);return vj(e,n,i)};function vj(s,e,t){return $(s,Xr&&EA.pointerEvents?ae.POINTER_DOWN:ae.MOUSE_DOWN,e,t)}let AC,Ps;class nL{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){He(e)}}static sort(e,t){return t.priority-e.priority}}(function(){let s=[],e=null,t=!1,i=!1;const n=()=>{for(t=!1,e=s,s=[],i=!0;e.length>0;)e.sort(nL.sort),e.shift().execute();i=!1};Ps=(o,r=0)=>{const a=new nL(o,r);return s.push(a),t||(t=!0,requestAnimationFrame(n)),a},AC=(o,r)=>{if(i){const a=new nL(o,r);return e.push(a),a}else return Ps(o,r)}})();function OS(s){return s.ownerDocument.defaultView.getComputedStyle(s,null)}function Om(s){var e;const t=s.ownerDocument,i=(e=t.defaultView)===null||e===void 0?void 0:e.window;if(s!==t.body)return new ft(s.clientWidth,s.clientHeight);if(Xr&&(i!=null&&i.visualViewport))return new ft(i.visualViewport.width,i.visualViewport.height);if(i!=null&&i.innerWidth&&i.innerHeight)return new ft(i.innerWidth,i.innerHeight);if(t.body&&t.body.clientWidth&&t.body.clientHeight)return new ft(t.body.clientWidth,t.body.clientHeight);if(t.documentElement&&t.documentElement.clientWidth&&t.documentElement.clientHeight)return new ft(t.documentElement.clientWidth,t.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class fi{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){const n=OS(e),o=n?n.getPropertyValue(t):"0";return fi.convertToPixels(e,o)}static getBorderLeftWidth(e){return fi.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return fi.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return fi.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return fi.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return fi.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return fi.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return fi.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return fi.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return fi.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return fi.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return fi.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return fi.getDimension(e,"margin-bottom","marginBottom")}}class ft{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new ft(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof ft?e:new ft(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}}ft.None=new ft(0,0);function jW(s){let e=s.offsetParent,t=s.offsetTop,i=s.offsetLeft;for(;(s=s.parentNode)!==null&&s!==s.ownerDocument.body&&s!==s.ownerDocument.documentElement;){t-=s.scrollTop;const n=KW(s)?null:OS(s);n&&(i-=n.direction!=="rtl"?s.scrollLeft:-s.scrollLeft),s===e&&(i+=fi.getBorderLeftWidth(s),t+=fi.getBorderTopWidth(s),t+=s.offsetTop,i+=s.offsetLeft,e=s.offsetParent)}return{left:i,top:t}}function wj(s,e,t){typeof e=="number"&&(s.style.width=`${e}px`),typeof t=="number"&&(s.style.height=`${t}px`)}function Pi(s){var e,t,i,n;const o=s.getBoundingClientRect();return{left:o.left+((t=(e=s.ownerDocument.defaultView)===null||e===void 0?void 0:e.scrollX)!==null&&t!==void 0?t:0),top:o.top+((n=(i=s.ownerDocument.defaultView)===null||i===void 0?void 0:i.scrollY)!==null&&n!==void 0?n:0),width:o.width,height:o.height}}function Cj(s){let e=s,t=1;do{const i=OS(e).zoom;i!=null&&i!=="1"&&(t*=i),e=e.parentElement}while(e!==null&&e!==e.ownerDocument.documentElement);return t}function bo(s){const e=fi.getMarginLeft(s)+fi.getMarginRight(s);return s.offsetWidth+e}function oL(s){const e=fi.getBorderLeftWidth(s)+fi.getBorderRightWidth(s),t=fi.getPaddingLeft(s)+fi.getPaddingRight(s);return s.offsetWidth-e-t}function Sj(s){const e=fi.getBorderTopWidth(s)+fi.getBorderBottomWidth(s),t=fi.getPaddingTop(s)+fi.getPaddingBottom(s);return s.offsetHeight-e-t}function zu(s){const e=fi.getMarginTop(s)+fi.getMarginBottom(s);return s.offsetHeight+e}function Dn(s,e){for(;s;){if(s===e)return!0;s=s.parentNode}return!1}function yj(s,e,t){for(;s&&s.nodeType===s.ELEMENT_NODE;){if(s.classList.contains(e))return s;if(t){if(typeof t=="string"){if(s.classList.contains(t))return null}else if(s===t)return null}s=s.parentNode}return null}function sL(s,e,t){return!!yj(s,e,t)}function KW(s){return s&&!!s.host&&!!s.mode}function RC(s){return!!ph(s)}function ph(s){for(var e;s.parentNode;){if(s===((e=s.ownerDocument)===null||e===void 0?void 0:e.body))return null;s=s.parentNode}return KW(s)?s:null}function ar(){let s=FS().activeElement;for(;s!=null&&s.shadowRoot;)s=s.shadowRoot.activeElement;return s}function FS(){var s;return(s=[document,...mj().map(t=>t.document)].find(t=>t.hasFocus()))!==null&&s!==void 0?s:document}function Os(s=document.getElementsByTagName("head")[0],e){const t=document.createElement("style");return t.type="text/css",t.media="screen",e==null||e(t),s.appendChild(t),t}let rL=null;function qW(){return rL||(rL=Os()),rL}function kj(s){var e,t;return!((e=s==null?void 0:s.sheet)===null||e===void 0)&&e.rules?s.sheet.rules:!((t=s==null?void 0:s.sheet)===null||t===void 0)&&t.cssRules?s.sheet.cssRules:[]}function eI(s,e,t=qW()){!t||!e||t.sheet.insertRule(s+"{"+e+"}",0)}function o2(s,e=qW()){if(!e)return;const t=kj(e),i=[];for(let n=0;n<t.length;n++)t[n].selectorText.indexOf(s)!==-1&&i.push(n);for(let n=i.length-1;n>=0;n--)e.sheet.deleteRule(i[n])}function AA(s){return typeof HTMLElement=="object"?s instanceof HTMLElement:s&&typeof s=="object"&&s.nodeType===1&&typeof s.nodeName=="string"}const ae={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Yu?"webkitAnimationStart":"animationstart",ANIMATION_END:Yu?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Yu?"webkitAnimationIteration":"animationiteration"};function Lj(s){const e=s;return!!(e&&typeof e.preventDefault=="function"&&typeof e.stopPropagation=="function")}const je={stop:(s,e)=>(s.preventDefault(),e&&s.stopPropagation(),s)};function xj(s){const e=[];for(let t=0;s&&s.nodeType===s.ELEMENT_NODE;t++)e[t]=s.scrollTop,s=s.parentNode;return e}function Dj(s,e){for(let t=0;s&&s.nodeType===s.ELEMENT_NODE;t++)s.scrollTop!==e[t]&&(s.scrollTop=e[t]),s=s.parentNode}class MC extends H{static hasFocusWithin(e){if(AA(e)){const t=ph(e),i=t?t.activeElement:e.ownerDocument.activeElement;return Dn(i,e)}else return Dn(window.document.activeElement,window.document)}constructor(e){super(),this._onDidFocus=this._register(new M),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new M),this.onDidBlur=this._onDidBlur.event;let t=MC.hasFocusWithin(e),i=!1;const n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,window.setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{MC.hasFocusWithin(e)!==t&&(t?o():n())},this._register($(e,ae.FOCUS,n,!0)),this._register($(e,ae.BLUR,o,!0)),e instanceof HTMLElement&&(this._register($(e,ae.FOCUS_IN,()=>this._refreshStateHandler())),this._register($(e,ae.FOCUS_OUT,()=>this._refreshStateHandler())))}}function Ja(s){return new MC(s)}function Q(s,...e){if(s.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function GW(s,e){return s.insertBefore(e,s.firstChild),e}function mn(s,...e){s.innerText="",Q(s,...e)}const Ij=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Jb;(function(s){s.HTML="http://www.w3.org/1999/xhtml",s.SVG="http://www.w3.org/2000/svg"})(Jb||(Jb={}));function ZW(s,e,t,...i){const n=Ij.exec(e);if(!n)throw new Error("Bad use of emmet");const o=n[1]||"div";let r;return s!==Jb.HTML?r=document.createElementNS(s,o):r=document.createElement(o),n[3]&&(r.id=n[3]),n[4]&&(r.className=n[4].replace(/\./g," ").trim()),t&&Object.entries(t).forEach(([a,l])=>{typeof l!="undefined"&&(/^on\w+$/.test(a)?r[a]=l:a==="selected"?l&&r.setAttribute(a,"true"):r.setAttribute(a,l))}),r.append(...i),r}function te(s,e,...t){return ZW(Jb.HTML,s,e,...t)}te.SVG=function(s,e,...t){return ZW(Jb.SVG,s,e,...t)};function Tj(s,...e){s?Ro(...e):eo(...e)}function Ro(...s){for(const e of s)e.style.display="",e.removeAttribute("aria-hidden")}function eo(...s){for(const e of s)e.style.display="none",e.setAttribute("aria-hidden","true")}function s2(s){const e=window.devicePixelRatio*s;return Math.max(1,Math.floor(e))/window.devicePixelRatio}function QW(s){window.open(s,"_blank","noopener")}function Ej(s){const e=()=>{s(),t=Ps(e)};let t=Ps(e);return Re(()=>t.dispose())}zW.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function kd(s){return s?`url('${UW.uriToBrowserUri(s).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function r2(s){return`'${s.replace(/'/g,"%27")}'`}function Ju(s,e){if(s!==void 0){const t=s.match(/^\s*var\((.+)\)$/);if(t){const i=t[1].split(",",2);return i.length===2&&(e=Ju(i[1].trim(),e)),`var(${i[0]}, ${e})`}return s}return e}function Nj(s,e=!1){const t=document.createElement("a");return VW("afterSanitizeAttributes",i=>{for(const n of["href","src"])if(i.hasAttribute(n)){const o=i.getAttribute(n);if(n==="href"&&o.startsWith("#"))continue;if(t.href=o,!s.includes(t.protocol.replace(/:$/,""))){if(e&&n==="src"&&t.href.startsWith("data:"))continue;i.removeAttribute(n)}}}),Re(()=>{HW("afterSanitizeAttributes")})}const Aj=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);class Vl extends M{constructor(){super(),this._subscriptions=new Y,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add($(window,"keydown",e=>{if(e.defaultPrevented)return;const t=new Wt(e);if(!(t.keyCode===6&&e.repeat)){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(t.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add($(window,"keyup",e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add($(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add($(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add($(document.body,"mousemove",e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add($(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Vl.instance||(Vl.instance=new Vl),Vl.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class Rj extends H{constructor(e,t){super(),this.element=e,this.callbacks=t,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register($(this.element,ae.DRAG_ENTER,e=>{this.counter++,this.dragStartTime=e.timeStamp,this.callbacks.onDragEnter(e)})),this._register($(this.element,ae.DRAG_OVER,e=>{var t,i;e.preventDefault(),(i=(t=this.callbacks).onDragOver)===null||i===void 0||i.call(t,e,e.timeStamp-this.dragStartTime)})),this._register($(this.element,ae.DRAG_LEAVE,e=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(e))})),this._register($(this.element,ae.DRAG_END,e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(e)})),this._register($(this.element,ae.DROP,e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(e)}))}}const Mj=new RegExp("(?<tag>[\\w\\-]+)?(?:#(?<id>[\\w\\-]+))?(?<class>(?:\\.(?:[\\w\\-]+))*)(?:@(?<name>(?:[\\w\\_])+))?");function an(s,...e){let t,i;Array.isArray(e[0])?(t={},i=e[0]):(t=e[0]||{},i=e[1]);const n=Mj.exec(s);if(!n||!n.groups)throw new Error("Bad use of h");const o=n.groups.tag||"div",r=document.createElement(o);n.groups.id&&(r.id=n.groups.id);const a=[];if(n.groups.class)for(const c of n.groups.class.split("."))c!==""&&a.push(c);if(t.className!==void 0)for(const c of t.className.split("."))c!==""&&a.push(c);a.length>0&&(r.className=a.join(" "));const l={};if(n.groups.name&&(l[n.groups.name]=r),i)for(const c of i)c instanceof HTMLElement?r.appendChild(c):typeof c=="string"?r.append(c):"root"in c&&(Object.assign(l,c),r.appendChild(c.root));for(const[c,d]of Object.entries(t))if(c!=="className")if(c==="style")for(const[u,h]of Object.entries(d))r.style.setProperty(a2(u),typeof h=="number"?h+"px":""+h);else c==="tabIndex"?r.tabIndex=d:r.setAttribute(a2(c),d.toString());return l.root=r,l}function a2(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class BS{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let i=t.kbExpr;this.precondition&&(i?i=Z.and(i,this.precondition):i=this.precondition);const n={id:this.id,weight:t.weight,args:t.args,when:i,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};yo.registerKeybindingRule(n)}}lt.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){hn.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class Fm extends BS{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i,n){return this._implementations.push({priority:e,name:t,implementation:i,when:n}),this._implementations.sort((o,r)=>r.priority-o.priority),{dispose:()=>{for(let o=0;o<this._implementations.length;o++)if(this._implementations[o].implementation===i){this._implementations.splice(o,1);return}}}}runCommand(e,t){const i=e.get(ps),n=e.get(Me);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const o of this._implementations){if(o.when){const a=n.getContext(ar());if(!o.when.evaluate(a))continue}const r=o.implementation(e,t);if(r)return i.trace(`Command '${this.id}' was handled by '${o.name}'.`),typeof r=="boolean"?void 0:r}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class YW extends BS{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class nn extends BS{static bindToContribution(e){return class extends nn{constructor(i){super(i),this._callback=i.handler}runEditorCommand(i,n,o){const r=e(n);r&&this._callback(r,o)}}}static runEditorCommand(e,t,i,n){const o=e.get(bt),r=o.getFocusedCodeEditor()||o.getActiveCodeEditor();if(r)return r.invokeWithinContext(a=>{if(a.get(Me).contextMatchesRules(i!=null?i:void 0))return n(a,r,t)})}runCommand(e,t){return nn.runEditorCommand(e,t,this.precondition,(i,n,o)=>this.runEditorCommand(i,n,o))}}class ge extends nn{static convertOptions(e){let t;Array.isArray(e.menuOpts)?t=e.menuOpts:e.menuOpts?t=[e.menuOpts]:t=[];function i(n){return n.menuId||(n.menuId=D.EditorContext),n.title||(n.title=e.label),n.when=Z.and(e.precondition,n.when),n}return Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}constructor(e){super(ge.convertOptions(e)),this.label=e.label,this.alias=e.alias}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(ms).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class XW extends ge{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort((i,n)=>n[0]-i[0]),{dispose:()=>{for(let i=0;i<this._implementations.length;i++)if(this._implementations[i][1]===t){this._implementations.splice(i,1);return}}}}run(e,t,i){for(const n of this._implementations){const o=n[1](e,t,i);if(o)return typeof o=="boolean"?void 0:o}}}class aa extends fs{run(e,...t){const i=e.get(bt),n=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(n)return n.invokeWithinContext(o=>{var r,a;const l=o.get(Me),c=o.get(ps);if(!l.contextMatchesRules((r=this.desc.precondition)!==null&&r!==void 0?r:void 0)){c.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(a=this.desc.precondition)===null||a===void 0?void 0:a.serialize());return}return this.runEditorCommand(o,n,...t)})}}function hl(s,e){lt.registerCommand(s,function(t,...i){const n=t.get(Ae),[o,r]=i;Lt(De.isUri(o)),Lt(P.isIPosition(r));const a=t.get(Qt).getModel(o);if(a){const l=P.lift(r);return n.invokeFunction(e,a,l,...i.slice(2))}return t.get(xo).createModelReference(o).then(l=>new Promise((c,d)=>{try{const u=n.invokeFunction(e,l.object.textEditorModel,P.lift(r),i.slice(2));c(u)}catch(u){d(u)}}).finally(()=>{l.dispose()}))})}function re(s){return Ls.INSTANCE.registerEditorCommand(s),s}function ne(s){const e=new s;return Ls.INSTANCE.registerEditorAction(e),e}function JW(s){return Ls.INSTANCE.registerEditorAction(s),s}function Pj(s){Ls.INSTANCE.registerEditorAction(s)}function gt(s,e,t){Ls.INSTANCE.registerEditorContribution(s,e,t)}var _f;(function(s){function e(r){return Ls.INSTANCE.getEditorCommand(r)}s.getEditorCommand=e;function t(){return Ls.INSTANCE.getEditorActions()}s.getEditorActions=t;function i(){return Ls.INSTANCE.getEditorContributions()}s.getEditorContributions=i;function n(r){return Ls.INSTANCE.getEditorContributions().filter(a=>r.indexOf(a.id)>=0)}s.getSomeEditorContributions=n;function o(){return Ls.INSTANCE.getDiffEditorContributions()}s.getDiffEditorContributions=o})(_f||(_f={}));const Oj={EditorCommonContributions:"editor.contributions"};class Ls{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t,i){this.editorContributions.push({id:e,ctor:t,instantiation:i})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}Ls.INSTANCE=new Ls;Jt.add(Oj.EditorCommonContributions,Ls.INSTANCE);function yv(s){return s.register(),s}const e3=yv(new Fm({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:D.MenubarEditMenu,group:"1_do",title:f("vs/editor/browser/editorExtensions",{key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:D.CommandPalette,group:"",title:f("vs/editor/browser/editorExtensions","undo","Undo"),order:1}]}));yv(new YW(e3,{id:"default:undo",precondition:void 0}));const t3=yv(new Fm({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:D.MenubarEditMenu,group:"1_do",title:f("vs/editor/browser/editorExtensions",{key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:D.CommandPalette,group:"",title:f("vs/editor/browser/editorExtensions","redo","Redo"),order:1}]}));yv(new YW(t3,{id:"default:redo",precondition:void 0}));const Fj=yv(new Fm({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:D.MenubarSelectionMenu,group:"1_basic",title:f("vs/editor/browser/editorExtensions",{key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:D.CommandPalette,group:"",title:f("vs/editor/browser/editorExtensions","selectAll","Select All"),order:1}]})),i3=Symbol("MicrotaskDelay");var Cs=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},Bp=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],t;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=s[o]&&function(r){return new Promise(function(a,l){r=s[o](r),n(a,l,r.done,r.value)})}}function n(o,r,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},r)}};function tI(s){return!!s&&typeof s.then=="function"}function Vi(s){const e=new yi,t=s(e.token),i=new Promise((n,o)=>{const r=e.token.onCancellationRequested(()=>{r.dispose(),e.dispose(),o(new Gd)});Promise.resolve(t).then(a=>{r.dispose(),e.dispose(),n(a)},a=>{r.dispose(),e.dispose(),o(a)})});return new class{cancel(){e.cancel()}then(n,o){return i.then(n,o)}catch(n){return this.then(void 0,n)}finally(n){return i.finally(n)}}}function WS(s,e,t){return new Promise((i,n)=>{const o=e.onCancellationRequested(()=>{o.dispose(),i(t)});s.then(i,n).finally(()=>o.dispose())})}class Bj{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const t=()=>{if(this.queuedPromise=null,this.isDisposed)return;const i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(n=>{this.activePromise=null,t(n)},n=>{this.activePromise=null,i(n)})})}dispose(){this.isDisposed=!0}}const Wj=(s,e)=>{let t=!0;const i=setTimeout(()=>{t=!1,e()},s);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},Vj=s=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,s())}),{isTriggered:()=>e,dispose:()=>{e=!1}}};class hr{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((n,o)=>{this.doResolve=n,this.doReject=o}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const n=this.task;return this.task=null,n()}}));const i=()=>{var n;this.deferred=null,(n=this.doResolve)===null||n===void 0||n.call(this,null)};return this.deferred=t===i3?Vj(i):Wj(t,i),this.completionPromise}isTriggered(){var e;return!!(!((e=this.deferred)===null||e===void 0)&&e.isTriggered())}cancel(){var e;this.cancelTimeout(),this.completionPromise&&((e=this.doReject)===null||e===void 0||e.call(this,new Gd),this.completionPromise=null)}cancelTimeout(){var e;(e=this.deferred)===null||e===void 0||e.dispose(),this.deferred=null}dispose(){this.cancel()}}class n3{constructor(e){this.delayer=new hr(e),this.throttler=new Bj}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function Ld(s,e){return e?new Promise((t,i)=>{const n=setTimeout(()=>{o.dispose(),t()},s),o=e.onCancellationRequested(()=>{clearTimeout(n),o.dispose(),i(new Gd)})}):Vi(t=>Ld(s,t))}function xd(s,e=0,t){const i=setTimeout(()=>{s(),t&&n.dispose()},e),n=Re(()=>{clearTimeout(i),t==null||t.deleteAndLeak(n)});return t==null||t.add(n),n}function o3(s,e=i=>!!i,t=null){let i=0;const n=s.length,o=()=>{if(i>=n)return Promise.resolve(t);const r=s[i++];return Promise.resolve(r()).then(l=>e(l)?Promise.resolve(l):o())};return o()}class gr{constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class kv{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval(()=>{e()},t)}}class xt{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var e;(e=this.runner)===null||e===void 0||e.call(this)}}let Hl;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?Hl=s=>{G5(()=>{if(e)return;const t=Date.now()+15;s(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,t-Date.now())}}))});let e=!1;return{dispose(){e||(e=!0)}}}:Hl=(s,e)=>{const t=requestIdleCallback(s,typeof e=="number"?{timeout:e}:void 0);let i=!1;return{dispose(){i||(i=!0,cancelIdleCallback(t))}}}})();class Hw{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=Hl(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class VS{get isRejected(){var e;return((e=this.outcome)===null||e===void 0?void 0:e.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()})}error(e){return new Promise(t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()})}cancel(){return this.error(new Gd)}}var iI;(function(s){function e(i){return Cs(this,void 0,void 0,function*(){let n;const o=yield Promise.all(i.map(r=>r.then(a=>a,a=>{n||(n=a)})));if(typeof n!="undefined")throw n;return o})}s.settled=e;function t(i){return new Promise((n,o)=>Cs(this,void 0,void 0,function*(){try{yield i(n,o)}catch(r){o(r)}}))}s.withAsyncBody=t})(iI||(iI={}));class Ii{static fromArray(e){return new Ii(t=>{t.emitMany(e)})}static fromPromise(e){return new Ii(t=>Cs(this,void 0,void 0,function*(){t.emitMany(yield e)}))}static fromPromises(e){return new Ii(t=>Cs(this,void 0,void 0,function*(){yield Promise.all(e.map(i=>Cs(this,void 0,void 0,function*(){return t.emitOne(yield i)})))}))}static merge(e){return new Ii(t=>Cs(this,void 0,void 0,function*(){yield Promise.all(e.map(i=>{var n,o,r;return Cs(this,void 0,void 0,function*(){var a,l,c,d;try{for(n=!0,o=Bp(i);r=yield o.next(),a=r.done,!a;n=!0){d=r.value,n=!1;const u=d;t.emitOne(u)}}catch(u){l={error:u}}finally{try{!n&&!a&&(c=o.return)&&(yield c.call(o))}finally{if(l)throw l.error}}})}))}))}constructor(e){this._state=0,this._results=[],this._error=null,this._onStateChanged=new M,queueMicrotask(()=>Cs(this,void 0,void 0,function*(){const t={emitOne:i=>this.emitOne(i),emitMany:i=>this.emitMany(i),reject:i=>this.reject(i)};try{yield Promise.resolve(e(t)),this.resolve()}catch(i){this.reject(i)}finally{t.emitOne=void 0,t.emitMany=void 0,t.reject=void 0}}))}[Symbol.asyncIterator](){let e=0;return{next:()=>Cs(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};yield ce.toPromise(this._onStateChanged.event)}while(!0)})}}static map(e,t){return new Ii(i=>Cs(this,void 0,void 0,function*(){var n,o,r,a;try{for(var l=!0,c=Bp(e),d;d=yield c.next(),n=d.done,!n;l=!0){a=d.value,l=!1;const u=a;i.emitOne(t(u))}}catch(u){o={error:u}}finally{try{!l&&!n&&(r=c.return)&&(yield r.call(c))}finally{if(o)throw o.error}}}))}map(e){return Ii.map(this,e)}static filter(e,t){return new Ii(i=>Cs(this,void 0,void 0,function*(){var n,o,r,a;try{for(var l=!0,c=Bp(e),d;d=yield c.next(),n=d.done,!n;l=!0){a=d.value,l=!1;const u=a;t(u)&&i.emitOne(u)}}catch(u){o={error:u}}finally{try{!l&&!n&&(r=c.return)&&(yield r.call(c))}finally{if(o)throw o.error}}}))}filter(e){return Ii.filter(this,e)}static coalesce(e){return Ii.filter(e,t=>!!t)}coalesce(){return Ii.coalesce(this)}static toPromise(e){var t,i,n,o,r,a,l;return Cs(this,void 0,void 0,function*(){const c=[];try{for(t=!0,i=Bp(e);n=yield i.next(),o=n.done,!o;t=!0){l=n.value,t=!1;const d=l;c.push(d)}}catch(d){r={error:d}}finally{try{!t&&!o&&(a=i.return)&&(yield a.call(i))}finally{if(r)throw r.error}}return c})}toPromise(){return Ii.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}}Ii.EMPTY=Ii.fromArray([]);class Hj extends Ii{constructor(e,t){super(t),this._source=e}cancel(){this._source.cancel()}}function zj(s){const e=new yi,t=s(e.token);return new Hj(e,i=>Cs(this,void 0,void 0,function*(){var n,o,r,a;const l=e.token.onCancellationRequested(()=>{l.dispose(),e.dispose(),i.reject(new Gd)});try{try{for(var c=!0,d=Bp(t),u;u=yield d.next(),n=u.done,!n;c=!0){a=u.value,c=!1;const h=a;if(e.token.isCancellationRequested)return;i.emitOne(h)}}catch(h){o={error:h}}finally{try{!c&&!n&&(r=d.return)&&(yield r.call(d))}finally{if(o)throw o.error}}l.dispose(),e.dispose()}catch(h){l.dispose(),e.dispose(),i.reject(h)}}))}const Uj="$initialize";let l2=!1;function nI(s){qd&&(l2||(l2=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(s.message))}class $j{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.method=i,this.args=n,this.type=0}}class c2{constructor(e,t,i,n){this.vsWorker=e,this.seq=t,this.res=i,this.err=n,this.type=1}}class jj{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=n,this.type=2}}class Kj{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class qj{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class Gj{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const i=String(++this._lastSentReq);return new Promise((n,o)=>{this._pendingReplies[i]={resolve:n,reject:o},this._send(new $j(this._workerId,i,e,t))})}listen(e,t){let i=null;const n=new M({onWillAddFirstListener:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,n),this._send(new jj(this._workerId,i,e,t))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(i),this._send(new qj(this._workerId,i)),i=null}});return n.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}const t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return}t.resolve(e.res)}_handleRequestMessage(e){const t=e.req;this._handler.handleMessage(e.method,e.args).then(n=>{this._send(new c2(this._workerId,t,n,void 0))},n=>{n.detail instanceof Error&&(n.detail=FP(n.detail)),this._send(new c2(this._workerId,t,void 0,FP(n)))})}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.eventName,e.arg)(n=>{this._send(new Kj(this._workerId,t,n))});this._pendingEvents.set(t,i)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){const t=[];if(e.type===0)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class Zj extends H{constructor(e,t,i){super();let n=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",d=>{this._protocol.handleMessage(d)},d=>{n==null||n(d)})),this._protocol=new Gj({sendMessage:(d,u)=>{this._worker.postMessage(d,u)},handleMessage:(d,u)=>{if(typeof i[d]!="function")return Promise.reject(new Error("Missing method "+d+" on main thread host."));try{return Promise.resolve(i[d].apply(i,u))}catch(h){return Promise.reject(h)}},handleEvent:(d,u)=>{if(r3(d)){const h=i[d].call(i,u);if(typeof h!="function")throw new Error(`Missing dynamic event ${d} on main thread host.`);return h}if(s3(d)){const h=i[d];if(typeof h!="function")throw new Error(`Missing event ${d} on main thread host.`);return h}throw new Error(`Malformed event name ${d}`)}}),this._protocol.setWorkerId(this._worker.getId());let o=null;const r=globalThis.require;typeof r!="undefined"&&typeof r.getConfig=="function"?o=r.getConfig():typeof globalThis.requirejs!="undefined"&&(o=globalThis.requirejs.s.contexts._.config);const a=aA(i);this._onModuleLoaded=this._protocol.sendMessage(Uj,[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,a]);const l=(d,u)=>this._request(d,u),c=(d,u)=>this._protocol.listen(d,u);this._lazyProxy=new Promise((d,u)=>{n=u,this._onModuleLoaded.then(h=>{d(Qj(h,l,c))},h=>{u(h),this._onError("Worker failed to load "+t,h)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((i,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(i,n)},n)})}_onError(e,t){console.error(e),console.info(t)}}function s3(s){return s[0]==="o"&&s[1]==="n"&&Sa(s.charCodeAt(2))}function r3(s){return/^onDynamic/.test(s)&&Sa(s.charCodeAt(9))}function Qj(s,e,t){const i=r=>function(){const a=Array.prototype.slice.call(arguments,0);return e(r,a)},n=r=>function(a){return t(r,a)},o={};for(const r of s){if(r3(r)){o[r]=n(r);continue}if(s3(r)){o[r]=t(r,void 0);continue}o[r]=i(r)}return o}function uc(s,e){var t;const i=globalThis.MonacoEnvironment;if(i!=null&&i.createTrustedTypesPolicy)try{return i.createTrustedTypesPolicy(s,e)}catch(n){He(n);return}try{return(t=window.trustedTypes)===null||t===void 0?void 0:t.createPolicy(s,e)}catch(n){He(n);return}}const d2=uc("defaultWorkerFactory",{createScriptURL:s=>s});function Yj(s){const e=globalThis.MonacoEnvironment;if(e){if(typeof e.getWorker=="function")return e.getWorker("workerMain.js",s);if(typeof e.getWorkerUrl=="function"){const t=e.getWorkerUrl("workerMain.js",s);return new Worker(d2?d2.createScriptURL(t):t,{name:s})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function Xj(s){return typeof s.then=="function"}class Jj{constructor(e,t,i,n,o){this.id=t,this.label=i;const r=Yj(i);Xj(r)?this.worker=r:this.worker=Promise.resolve(r),this.postMessage(e,[]),this.worker.then(a=>{a.onmessage=function(l){n(l.data)},a.onmessageerror=o,typeof a.addEventListener=="function"&&a.addEventListener("error",o)})}getId(){return this.id}postMessage(e,t){var i;(i=this.worker)===null||i===void 0||i.then(n=>{try{n.postMessage(e,t)}catch(o){He(o),He(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:o}))}})}dispose(){var e;(e=this.worker)===null||e===void 0||e.then(t=>t.terminate()),this.worker=null}}class HS{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){const n=++HS.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Jj(e,n,this._label||"anonymous"+n,t,o=>{nI(o),this._webWorkerFailedBeforeError=o,i(o)})}}HS.LAST_WORKER_ID=0;var Ei;(function(s){s[s.None=0]="None",s[s.Indent=1]="Indent",s[s.IndentOutdent=2]="IndentOutdent",s[s.Outdent=3]="Outdent"})(Ei||(Ei={}));class aL{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;const i=e.findTokenIndexAtOffset(t-2),n=e.getStandardTokenType(i);return this.isOK(n)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const n=String.fromCharCode(i);if(!this.open.includes(n)&&!this.close.includes(n))return n}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class eK{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)ap(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),ap(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),ap(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),ap(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&ap(this.autoClosingPairsCloseSingleChar,t.close,t)}}function ap(s,e,t){s.has(e)?s.get(e).push(t):s.set(e,[t])}function zS(s,e){const t=s.getCount(),i=s.findTokenIndexAtOffset(e),n=s.getLanguageId(i);let o=i;for(;o+1<t&&s.getLanguageId(o+1)===n;)o++;let r=i;for(;r>0&&s.getLanguageId(r-1)===n;)r--;return new tK(s,n,r,o+1,s.getStartOffset(r),s.getEndOffset(o))}class tK{constructor(e,t,i,n,o,r){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=o,this._lastCharOffset=r}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function pa(s){return(s&3)!==0}class Qf{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new aL(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new aL({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new aL({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:Qf.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:Qf.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}Qf.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`;Qf.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;const u2=typeof Buffer!="undefined";let lL;class US{static wrap(e){return u2&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new US(e)}constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}toString(){return u2?this.buffer.toString():(lL||(lL=new TextDecoder),lL.decode(this.buffer))}}function iK(s,e){return s[e+0]<<0>>>0|s[e+1]<<8>>>0}function nK(s,e,t){s[t+0]=e&255,e=e>>>8,s[t+1]=e&255}function Er(s,e){return s[e]*Math.pow(2,24)+s[e+1]*Math.pow(2,16)+s[e+2]*Math.pow(2,8)+s[e+3]}function Nr(s,e,t){s[t+3]=e,e=e>>>8,s[t+2]=e,e=e>>>8,s[t+1]=e,e=e>>>8,s[t]=e}function h2(s,e){return s[e]}function g2(s,e,t){s[t]=e}let cL;function a3(){return cL||(cL=new TextDecoder("UTF-16LE")),cL}let dL;function oK(){return dL||(dL=new TextDecoder("UTF-16BE")),dL}let uL;function l3(){return uL||(uL=Z5()?a3():oK()),uL}function sK(s,e,t){const i=new Uint16Array(s.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?rK(s,e,t):a3().decode(i)}function rK(s,e,t){const i=[];let n=0;for(let o=0;o<t;o++){const r=iK(s,e);e+=2,i[n++]=String.fromCharCode(r)}return i.join("")}class Bm{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return l3().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}appendCharCode(e){const t=this._capacity-this._bufferLength;t<=1&&(t===0||$i(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class PC{constructor(e,t,i,n,o,r){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=n,this.forwardRegex=o,this.reversedRegex=r,this._openSet=PC._toSet(this.open),this._closeSet=PC._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}function aK(s){const e=s.length;s=s.map(r=>[r[0].toLowerCase(),r[1].toLowerCase()]);const t=[];for(let r=0;r<e;r++)t[r]=r;const i=(r,a)=>{const[l,c]=r,[d,u]=a;return l===d||l===u||c===d||c===u},n=(r,a)=>{const l=Math.min(r,a),c=Math.max(r,a);for(let d=0;d<e;d++)t[d]===c&&(t[d]=l)};for(let r=0;r<e;r++){const a=s[r];for(let l=r+1;l<e;l++){const c=s[l];i(a,c)&&n(t[r],t[l])}}const o=[];for(let r=0;r<e;r++){const a=[],l=[];for(let c=0;c<e;c++)if(t[c]===r){const[d,u]=s[c];a.push(d),l.push(u)}a.length>0&&o.push({open:a,close:l})}return o}class lK{constructor(e,t){this._richEditBracketsBrand=void 0;const i=aK(t);this.brackets=i.map((n,o)=>new PC(e,o,n.open,n.close,cK(n.open,n.close,i,o),dK(n.open,n.close,i,o))),this.forwardRegex=uK(this.brackets),this.reversedRegex=hK(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const n of this.brackets){for(const o of n.open)this.textIsBracket[o]=n,this.textIsOpenBracket[o]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,o.length);for(const o of n.close)this.textIsBracket[o]=n,this.textIsOpenBracket[o]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,o.length)}}}function c3(s,e,t,i){for(let n=0,o=e.length;n<o;n++){if(n===t)continue;const r=e[n];for(const a of r.open)a.indexOf(s)>=0&&i.push(a);for(const a of r.close)a.indexOf(s)>=0&&i.push(a)}}function d3(s,e){return s.length-e.length}function $S(s){if(s.length<=1)return s;const e=[],t=new Set;for(const i of s)t.has(i)||(e.push(i),t.add(i));return e}function cK(s,e,t,i){let n=[];n=n.concat(s),n=n.concat(e);for(let o=0,r=n.length;o<r;o++)c3(n[o],t,i,n);return n=$S(n),n.sort(d3),n.reverse(),jS(n)}function dK(s,e,t,i){let n=[];n=n.concat(s),n=n.concat(e);for(let o=0,r=n.length;o<r;o++)c3(n[o],t,i,n);return n=$S(n),n.sort(d3),n.reverse(),jS(n.map(RA))}function uK(s){let e=[];for(const t of s){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=$S(e),jS(e)}function hK(s){let e=[];for(const t of s){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=$S(e),jS(e.map(RA))}function gK(s){const e=/^[\w ]+$/.test(s);return s=cs(s),e?`\\b${s}\\b`:s}function jS(s){const e=`(${s.map(gK).join(")|(")})`;return wW(e,!0)}const RA=function(){function s(i){const n=new Uint16Array(i.length);let o=0;for(let r=i.length-1;r>=0;r--)n[o++]=i.charCodeAt(r);return l3().decode(n)}let e=null,t=null;return function(n){return e!==n&&(e=n,t=s(e)),t}}();class Ys{static _findPrevBracketInText(e,t,i,n){const o=i.match(e);if(!o)return null;const r=i.length-(o.index||0),a=o[0].length,l=n+r;return new k(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,n,o){const a=RA(i).substring(i.length-o,i.length-n);return this._findPrevBracketInText(e,t,a,n)}static findNextBracketInText(e,t,i,n){const o=i.match(e);if(!o)return null;const r=o.index||0,a=o[0].length;if(a===0)return null;const l=n+r;return new k(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,n,o){const r=i.substring(n,o);return this.findNextBracketInText(e,t,r,n)}}class fK{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const n=i.charAt(i.length-1);e.push(n)}return wd(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const n=t.findTokenIndexAtOffset(i-1);if(pa(t.getStandardTokenType(n)))return null;const o=this._richEditBrackets.reversedRegex,r=t.getLineContent().substring(0,i-1)+e,a=Ys.findPrevBracketInRange(o,1,r,0,r.length);if(!a)return null;const l=r.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;const d=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:l}:null}}function S0(s){return s.global&&(s.lastIndex=0),!0}class mK{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&S0(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&S0(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&S0(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&S0(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class $g{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const i=$g._createOpenBracketRegExp(t[0]),n=$g._createCloseBracketRegExp(t[1]);i&&n&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:n})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,n){if(e>=3)for(let o=0,r=this._regExpRules.length;o<r;o++){const a=this._regExpRules[o];if([{reg:a.beforeText,text:i},{reg:a.afterText,text:n},{reg:a.previousLineText,text:t}].every(c=>c.reg?(c.reg.lastIndex=0,c.reg.test(c.text)):!0))return a.action}if(e>=2&&i.length>0&&n.length>0)for(let o=0,r=this._brackets.length;o<r;o++){const a=this._brackets[o];if(a.openRegExp.test(i)&&a.closeRegExp.test(n))return{indentAction:Ei.IndentOutdent}}if(e>=2&&i.length>0){for(let o=0,r=this._brackets.length;o<r;o++)if(this._brackets[o].openRegExp.test(i))return{indentAction:Ei.Indent}}return null}static _createOpenBracketRegExp(e){let t=cs(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",$g._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=cs(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,$g._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return He(t),null}}}const ot=et("configurationService");function oI(s,e){const t=Object.create(null);for(const i in s)u3(t,i,s[i],e);return t}function u3(s,e,t,i){const n=e.split("."),o=n.pop();let r=s;for(let a=0;a<n.length;a++){const l=n[a];let c=r[l];switch(typeof c){case"undefined":c=r[l]=Object.create(null);break;case"object":break;default:i(`Ignoring ${e} as ${n.slice(0,a+1).join(".")} is ${JSON.stringify(c)}`);return}r=c}if(typeof r=="object"&&r!==null)try{r[o]=t}catch(a){i(`Ignoring ${e} as ${n.join(".")} is ${JSON.stringify(r)}`)}else i(`Ignoring ${e} as ${n.join(".")} is ${JSON.stringify(r)}`)}function pK(s,e){const t=e.split(".");h3(s,t)}function h3(s,e){const t=e.shift();if(e.length===0){delete s[t];return}if(Object.keys(s).indexOf(t)!==-1){const i=s[t];typeof i=="object"&&!Array.isArray(i)&&(h3(i,e),Object.keys(i).length===0&&delete s[t])}}function f2(s,e,t){function i(r,a){let l=r;for(const c of a){if(typeof l!="object"||l===null)return;l=l[c]}return l}const n=e.split("."),o=i(s,n);return typeof o=="undefined"?t:o}function bK(s){return s.replace(/[\[\]]/g,"")}const qt=et("languageService");class ya{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const g3=[];function ct(s,e,t){e instanceof ya||(e=new ya(e,[],!!t)),g3.push([s,e])}function m2(){return g3}const pi=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"}),KS={JSONContribution:"base.contributions.json"};function _K(s){return s.length>0&&s.charAt(s.length-1)==="#"?s.substring(0,s.length-1):s}class vK{constructor(){this._onDidChangeSchema=new M,this.schemasById={}}registerSchema(e,t){this.schemasById[_K(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}}const wK=new vK;Jt.add(KS.JSONContribution,wK);const la={Configuration:"base.contributions.configuration"},lp="vscode://schemas/settings/resourceLanguage",p2=Jt.as(KS.JSONContribution);class CK{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new M,this._onDidUpdateConfiguration=new M,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:f("vs/platform/configuration/common/configurationRegistry","defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},p2.registerSchema(lp,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=new Set;this.doRegisterConfigurations(e,t,i),p2.registerSchema(lp,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){var i;const n=[];for(const{overrides:o,source:r}of e)for(const a in o)if(t.add(a),Dd.test(a)){const l=this.configurationDefaultsOverrides.get(a),c=(i=l==null?void 0:l.valuesSources)!==null&&i!==void 0?i:new Map;if(r)for(const g of Object.keys(o[a]))c.set(g,r);const d=Object.assign(Object.assign({},(l==null?void 0:l.value)||{}),o[a]);this.configurationDefaultsOverrides.set(a,{source:r,value:d,valuesSources:c});const u=bK(a),h={type:"object",default:d,description:f("vs/platform/configuration/common/configurationRegistry","defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",u),$ref:lp,defaultDefaultValue:d,source:ao(r)?void 0:r,defaultValueSource:r};n.push(...OC(a)),this.configurationProperties[a]=h,this.defaultLanguageConfigurationOverridesNode.properties[a]=h}else{this.configurationDefaultsOverrides.set(a,{value:o[a],source:r});const l=this.configurationProperties[a];l&&(this.updatePropertyDefaultValue(a,l),this.updateSchema(a,l))}this.doRegisterOverrideIdentifiers(n)}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,i){e.forEach(n=>{this.validateAndRegisterProperties(n,t,n.extensionInfo,n.restrictedProperties,void 0,i),this.configurationContributors.push(n),this.registerJSONConfiguration(n)})}validateAndRegisterProperties(e,t=!0,i,n,o=3,r){var a;o=Xo(e.scope)?o:e.scope;const l=e.properties;if(l)for(const d in l){const u=l[d];if(t&&kK(d,u)){delete l[d];continue}if(u.source=i,u.defaultDefaultValue=l[d].default,this.updatePropertyDefaultValue(d,u),Dd.test(d)?u.scope=void 0:(u.scope=Xo(u.scope)?o:u.scope,u.restricted=Xo(u.restricted)?!!(n!=null&&n.includes(d)):u.restricted),l[d].hasOwnProperty("included")&&!l[d].included){this.excludedConfigurationProperties[d]=l[d],delete l[d];continue}else this.configurationProperties[d]=l[d],!((a=l[d].policy)===null||a===void 0)&&a.name&&this.policyConfigurations.set(l[d].policy.name,d);!l[d].deprecationMessage&&l[d].markdownDeprecationMessage&&(l[d].deprecationMessage=l[d].markdownDeprecationMessage),r.add(d)}const c=e.allOf;if(c)for(const d of c)this.validateAndRegisterProperties(d,t,i,n,o,r)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=i=>{const n=i.properties;if(n)for(const r in n)this.updateSchema(r,n[r]);const o=i.allOf;o==null||o.forEach(t)};t(e)}updateSchema(e,t){switch(t.scope){case 1:break;case 2:break;case 6:break;case 3:break;case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:f("vs/platform/configuration/common/configurationRegistry","overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:f("vs/platform/configuration/common/configurationRegistry","overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:lp};this.updatePropertyDefaultValue(t,i)}}registerOverridePropertyPatternKey(){f("vs/platform/configuration/common/configurationRegistry","overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),f("vs/platform/configuration/common/configurationRegistry","overrideSettings.errorMessage","This setting does not support per-language configuration."),this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const i=this.configurationDefaultsOverrides.get(e);let n=i==null?void 0:i.value,o=i==null?void 0:i.source;Mo(n)&&(n=t.defaultDefaultValue,o=void 0),Mo(n)&&(n=yK(t.type)),t.default=n,t.defaultValueSource=o}}const f3="\\[([^\\]]+)\\]",b2=new RegExp(f3,"g"),SK=`^(${f3})+$`,Dd=new RegExp(SK);function OC(s){const e=[];if(Dd.test(s)){let t=b2.exec(s);for(;t!=null&&t.length;){const i=t[1].trim();i&&e.push(i),t=b2.exec(s)}}return wd(e)}function yK(s){switch(Array.isArray(s)?s[0]:s){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const zw=new CK;Jt.add(la.Configuration,zw);function kK(s,e){var t,i,n,o;return s.trim()?Dd.test(s)?f("vs/platform/configuration/common/configurationRegistry","config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",s):zw.getConfigurationProperties()[s]!==void 0?f("vs/platform/configuration/common/configurationRegistry","config.property.duplicate","Cannot register '{0}'. This property is already registered.",s):!((t=e.policy)===null||t===void 0)&&t.name&&zw.getPolicyConfigurations().get((i=e.policy)===null||i===void 0?void 0:i.name)!==void 0?f("vs/platform/configuration/common/configurationRegistry","config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",s,(n=e.policy)===null||n===void 0?void 0:n.name,zw.getPolicyConfigurations().get((o=e.policy)===null||o===void 0?void 0:o.name)):null:f("vs/platform/configuration/common/configurationRegistry","config.property.empty","Cannot register an empty property")}const LK={ModesRegistry:"editor.modesRegistry"};class xK{constructor(){this._onDidChangeLanguages=new M,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}}const Yf=new xK;Jt.add(LK.ModesRegistry,Yf);const ls="plaintext",DK=".txt";Yf.registerLanguage({id:ls,extensions:[DK],aliases:[f("vs/editor/common/languages/modesRegistry","plainText.alias","Plain Text"),"text"],mimetypes:[pi.text]});Jt.as(la.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);class IK{constructor(e,t){this.languageId=e;const i=t.brackets?_2(t.brackets):[],n=new HP(a=>{const l=new Set;return{info:new TK(this,a,l),closing:l}}),o=new HP(a=>{const l=new Set,c=new Set;return{info:new EK(this,a,l,c),opening:l,openingColorized:c}});for(const[a,l]of i){const c=n.get(a),d=o.get(l);c.closing.add(d.info),d.opening.add(c.info)}const r=t.colorizedBracketPairs?_2(t.colorizedBracketPairs):i.filter(a=>!(a[0]==="<"&&a[1]===">"));for(const[a,l]of r){const c=n.get(a),d=o.get(l);c.closing.add(d.info),d.openingColorized.add(c.info),d.opening.add(c.info)}this._openingBrackets=new Map([...n.cachedValues].map(([a,l])=>[a,l.info])),this._closingBrackets=new Map([...o.cachedValues].map(([a,l])=>[a,l.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}}function _2(s){return s.filter(([e,t])=>e!==""&&t!=="")}class m3{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class TK extends m3{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}}class EK extends m3{constructor(e,t,i,n){super(e,t),this.openingBrackets=i,this.openingColorizedBrackets=n,this.isOpeningBracket=!1}closes(e){return e.config!==this.config?!1:this.openingBrackets.has(e)}closesColorized(e){return e.config!==this.config?!1:this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}var NK=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},v2=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};class hL{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}}const Mt=et("languageConfigurationService");let sI=class extends H{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new PK),this.onDidChangeEmitter=this._register(new M),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(rI));this._register(this.configurationService.onDidChangeConfiguration(n=>{const o=n.change.keys.some(a=>i.has(a)),r=n.change.overrides.filter(([a,l])=>l.some(c=>i.has(c))).map(([a])=>a);if(o)this.configurations.clear(),this.onDidChangeEmitter.fire(new hL(void 0));else for(const a of r)this.languageService.isRegisteredLanguageId(a)&&(this.configurations.delete(a),this.onDidChangeEmitter.fire(new hL(a)))})),this._register(this._registry.onDidChange(n=>{this.configurations.delete(n.languageId),this.onDidChangeEmitter.fire(new hL(n.languageId))}))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=AK(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};sI=NK([v2(0,ot),v2(1,qt)],sI);function AK(s,e,t,i){let n=e.getLanguageConfiguration(s);if(!n){if(!i.isRegisteredLanguageId(s))return new wf(s,{});n=new wf(s,{})}const o=RK(n.languageId,t),r=b3([n.underlyingConfig,o]);return new wf(n.languageId,r)}const rI={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function RK(s,e){const t=e.getValue(rI.brackets,{overrideIdentifier:s}),i=e.getValue(rI.colorizedBracketPairs,{overrideIdentifier:s});return{brackets:w2(t),colorizedBracketPairs:w2(i)}}function w2(s){if(Array.isArray(s))return s.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}function p3(s,e,t){const i=s.getLineContent(e);let n=Tt(i);return n.length>t-1&&(n=n.substring(0,t-1)),n}function vf(s,e,t){s.tokenization.forceTokenization(e);const i=s.tokenization.getLineTokens(e),n=typeof t=="undefined"?s.getLineMaxColumn(e)-1:t-1;return zS(i,n)}class MK{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new C2(e,t,++this._order);return this._entries.push(i),this._resolved=null,Re(()=>{for(let n=0;n<this._entries.length;n++)if(this._entries[n]===i){this._entries.splice(n,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new wf(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(C2.cmp),b3(this._entries.map(e=>e.configuration)))}}function b3(s){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of s)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}class C2{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class S2{constructor(e){this.languageId=e}}class PK extends H{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new M),this.onDidChange=this._onDidChange.event,this._register(this.register(ls,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,i=0){let n=this._entries.get(e);n||(n=new MK(e),this._entries.set(e,n));const o=n.register(t,i);return this._onDidChange.fire(new S2(e)),Re(()=>{o.dispose(),this._onDidChange.fire(new S2(e))})}getLanguageConfiguration(e){const t=this._entries.get(e);return(t==null?void 0:t.getResolvedConfiguration())||null}}class wf{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new $g(this.underlyingConfig):null,this.comments=wf._handleComments(this.underlyingConfig),this.characterPair=new Qf(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||dA,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new mK(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new IK(e,this.underlyingConfig)}getWordDefinition(){return X5(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new lK(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new fK(this.brackets)),this._electricCharacter}onEnter(e,t,i,n){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,n):null}getAutoClosingPairs(){return new eK(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[n,o]=t.blockComment;i.blockCommentStartToken=n,i.blockCommentEndToken=o}return i}}ct(Mt,sI,1);class Ic{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}function _3(s){return qS(s,0)}function qS(s,e){switch(typeof s){case"object":return s===null?zl(349,e):Array.isArray(s)?FK(s,e):BK(s,e);case"string":return MA(s,e);case"boolean":return OK(s,e);case"number":return zl(s,e);case"undefined":return zl(937,e);default:return zl(617,e)}}function zl(s,e){return(e<<5)-e+s|0}function OK(s,e){return zl(s?433:863,e)}function MA(s,e){e=zl(149417,e);for(let t=0,i=s.length;t<i;t++)e=zl(s.charCodeAt(t),e);return e}function FK(s,e){return e=zl(104579,e),s.reduce((t,i)=>qS(i,t),e)}function BK(s,e){return e=zl(181387,e),Object.keys(s).sort().reduce((t,i)=>(t=MA(i,t),qS(s[i],t)),e)}function gL(s,e,t=32){const i=t-e,n=~((1<<i)-1);return(s<<e|(n&s)>>>i)>>>0}function y2(s,e=0,t=s.byteLength,i=0){for(let n=0;n<t;n++)s[e+n]=i}function WK(s,e,t="0"){for(;s.length<e;)s=t+s;return s}function cp(s,e=32){return s instanceof ArrayBuffer?Array.from(new Uint8Array(s)).map(t=>t.toString(16).padStart(2,"0")).join(""):WK((s>>>0).toString(16),e/4)}class GS{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(t===0)return;const i=this._buff;let n=this._buffLen,o=this._leftoverHighSurrogate,r,a;for(o!==0?(r=o,a=-1,o=0):(r=e.charCodeAt(0),a=0);;){let l=r;if($i(r))if(a+1<t){const c=e.charCodeAt(a+1);gh(c)?(a++,l=CA(r,c)):l=65533}else{o=r;break}else gh(r)&&(l=65533);if(n=this._push(i,n,l),a++,a<t)r=e.charCodeAt(a);else break}this._buffLen=n,this._leftoverHighSurrogate=o}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64+0],e[1]=e[64+1],e[2]=e[64+2]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),cp(this._h0)+cp(this._h1)+cp(this._h2)+cp(this._h3)+cp(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,y2(this._buff,this._buffLen),this._buffLen>56&&(this._step(),y2(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=GS._bigBlock32,t=this._buffDV;for(let u=0;u<64;u+=4)e.setUint32(u,t.getUint32(u,!1),!1);for(let u=64;u<320;u+=4)e.setUint32(u,gL(e.getUint32(u-12,!1)^e.getUint32(u-32,!1)^e.getUint32(u-56,!1)^e.getUint32(u-64,!1),1),!1);let i=this._h0,n=this._h1,o=this._h2,r=this._h3,a=this._h4,l,c,d;for(let u=0;u<80;u++)u<20?(l=n&o|~n&r,c=1518500249):u<40?(l=n^o^r,c=1859775393):u<60?(l=n&o|n&r|o&r,c=2400959708):(l=n^o^r,c=3395469782),d=gL(i,5)+l+a+c+e.getUint32(u*4,!1)&4294967295,a=r,r=o,o=gL(n,30),n=i,i=d;this._h0=this._h0+i&4294967295,this._h1=this._h1+n&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+r&4294967295,this._h4=this._h4+a&4294967295}}GS._bigBlock32=new DataView(new ArrayBuffer(320));class k2{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}}function VK(s,e,t){return new Da(new k2(s),new k2(e)).ComputeDiff(t).changes}class gg{static Assert(e,t){if(!e)throw new Error(t)}}class fg{static Copy(e,t,i,n,o){for(let r=0;r<o;r++)i[n+r]=e[t+r]}static Copy2(e,t,i,n,o){for(let r=0;r<o;r++)i[n+r]=e[t+r]}}class L2{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Ic(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class Da{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[n,o,r]=Da._getElements(e),[a,l,c]=Da._getElements(t);this._hasStrings=r&&c,this._originalStringElements=n,this._originalElementsOrHash=o,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){const t=e.getElements();if(Da._isStringArray(t)){const i=new Int32Array(t.length);for(let n=0,o=t.length;n<o;n++)i[n]=MA(t[n],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;const i=Da._getStrictElement(this._originalSequence,e),n=Da._getStrictElement(this._modifiedSequence,t);return i===n}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,o){const r=[!1];let a=this.ComputeDiffRecursive(e,t,i,n,r);return o&&(a=this.PrettifyChanges(a)),{quitEarly:r[0],changes:a}}ComputeDiffRecursive(e,t,i,n,o){for(o[0]=!1;e<=t&&i<=n&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&n>=i&&this.ElementsAreEqual(t,n);)t--,n--;if(e>t||i>n){let u;return i<=n?(gg.Assert(e===t+1,"originalStart should only be one more than originalEnd"),u=[new Ic(e,0,i,n-i+1)]):e<=t?(gg.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),u=[new Ic(e,t-e+1,i,0)]):(gg.Assert(e===t+1,"originalStart should only be one more than originalEnd"),gg.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),u=[]),u}const r=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,n,r,a,o),c=r[0],d=a[0];if(l!==null)return l;if(!o[0]){const u=this.ComputeDiffRecursive(e,c,i,d,o);let h=[];return o[0]?h=[new Ic(c+1,t-(c+1)+1,d+1,n-(d+1)+1)]:h=this.ComputeDiffRecursive(c+1,t,d+1,n,o),this.ConcatenateChanges(u,h)}return[new Ic(e,t-e+1,i,n-i+1)]}WALKTRACE(e,t,i,n,o,r,a,l,c,d,u,h,g,m,p,_,b,v){let w=null,C=null,S=new L2,x=t,L=i,I=g[0]-_[0]-n,E=-1073741824,W=this.m_forwardHistory.length-1;do{const U=I+e;U===x||U<L&&c[U-1]<c[U+1]?(u=c[U+1],m=u-I-n,u<E&&S.MarkNextChange(),E=u,S.AddModifiedElement(u+1,m),I=U+1-e):(u=c[U-1]+1,m=u-I-n,u<E&&S.MarkNextChange(),E=u-1,S.AddOriginalElement(u,m+1),I=U-1-e),W>=0&&(c=this.m_forwardHistory[W],e=c[0],x=1,L=c.length-1)}while(--W>=-1);if(w=S.getReverseChanges(),v[0]){let U=g[0]+1,F=_[0]+1;if(w!==null&&w.length>0){const O=w[w.length-1];U=Math.max(U,O.getOriginalEnd()),F=Math.max(F,O.getModifiedEnd())}C=[new Ic(U,h-U+1,F,p-F+1)]}else{S=new L2,x=r,L=a,I=g[0]-_[0]-l,E=1073741824,W=b?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const U=I+o;U===x||U<L&&d[U-1]>=d[U+1]?(u=d[U+1]-1,m=u-I-l,u>E&&S.MarkNextChange(),E=u+1,S.AddOriginalElement(u+1,m+1),I=U+1-o):(u=d[U-1],m=u-I-l,u>E&&S.MarkNextChange(),E=u,S.AddModifiedElement(u+1,m+1),I=U-1-o),W>=0&&(d=this.m_reverseHistory[W],o=d[0],x=1,L=d.length-1)}while(--W>=-1);C=S.getChanges()}return this.ConcatenateChanges(w,C)}ComputeRecursionPoint(e,t,i,n,o,r,a){let l=0,c=0,d=0,u=0,h=0,g=0;e--,i--,o[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const m=t-e+(n-i),p=m+1,_=new Int32Array(p),b=new Int32Array(p),v=n-i,w=t-e,C=e-i,S=t-n,L=(w-v)%2===0;_[v]=e,b[w]=t,a[0]=!1;for(let I=1;I<=m/2+1;I++){let E=0,W=0;d=this.ClipDiagonalBound(v-I,I,v,p),u=this.ClipDiagonalBound(v+I,I,v,p);for(let F=d;F<=u;F+=2){F===d||F<u&&_[F-1]<_[F+1]?l=_[F+1]:l=_[F-1]+1,c=l-(F-v)-C;const O=l;for(;l<t&&c<n&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(_[F]=l,l+c>E+W&&(E=l,W=c),!L&&Math.abs(F-w)<=I-1&&l>=b[F])return o[0]=l,r[0]=c,O<=b[F]&&1447>0&&I<=1447+1?this.WALKTRACE(v,d,u,C,w,h,g,S,_,b,l,t,o,c,n,r,L,a):null}const U=(E-e+(W-i)-I)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(E,U))return a[0]=!0,o[0]=E,r[0]=W,U>0&&1447>0&&I<=1447+1?this.WALKTRACE(v,d,u,C,w,h,g,S,_,b,l,t,o,c,n,r,L,a):(e++,i++,[new Ic(e,t-e+1,i,n-i+1)]);h=this.ClipDiagonalBound(w-I,I,w,p),g=this.ClipDiagonalBound(w+I,I,w,p);for(let F=h;F<=g;F+=2){F===h||F<g&&b[F-1]>=b[F+1]?l=b[F+1]-1:l=b[F-1],c=l-(F-w)-S;const O=l;for(;l>e&&c>i&&this.ElementsAreEqual(l,c);)l--,c--;if(b[F]=l,L&&Math.abs(F-v)<=I&&l<=_[F])return o[0]=l,r[0]=c,O>=_[F]&&1447>0&&I<=1447+1?this.WALKTRACE(v,d,u,C,w,h,g,S,_,b,l,t,o,c,n,r,L,a):null}if(I<=1447){let F=new Int32Array(u-d+2);F[0]=v-d+1,fg.Copy2(_,d,F,1,u-d+1),this.m_forwardHistory.push(F),F=new Int32Array(g-h+2),F[0]=w-h+1,fg.Copy2(b,h,F,1,g-h+1),this.m_reverseHistory.push(F)}}return this.WALKTRACE(v,d,u,C,w,h,g,S,_,b,l,t,o,c,n,r,L,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],n=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,r=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<o&&(!r||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const c=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!c)break;i.originalStart++,i.modifiedStart++}const l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){const i=e[t];let n=0,o=0;if(t>0){const u=e[t-1];n=u.originalStart+u.originalLength,o=u.modifiedStart+u.modifiedLength}const r=i.originalLength>0,a=i.modifiedLength>0;let l=0,c=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let u=1;;u++){const h=i.originalStart-u,g=i.modifiedStart-u;if(h<n||g<o||r&&!this.OriginalElementsAreEqual(h,h+i.originalLength)||a&&!this.ModifiedElementsAreEqual(g,g+i.modifiedLength))break;const p=(h===n&&g===o?5:0)+this._boundaryScore(h,i.originalLength,g,i.modifiedLength);p>c&&(c=p,l=u)}i.originalStart-=l,i.modifiedStart-=l;const d=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],d)){e[t-1]=d[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const n=e[t-1],o=e[t],r=o.originalStart-n.originalStart-n.originalLength,a=n.originalStart,l=o.originalStart+o.originalLength,c=l-a,d=n.modifiedStart,u=o.modifiedStart+o.modifiedLength,h=u-d;if(r<5&&c<20&&h<20){const g=this._findBetterContiguousSequence(a,c,d,h,r);if(g){const[m,p]=g;(m!==n.originalStart+n.originalLength||p!==n.modifiedStart+n.modifiedLength)&&(n.originalLength=m-n.originalStart,n.modifiedLength=p-n.modifiedStart,o.originalStart=m+r,o.modifiedStart=p+r,o.originalLength=l-o.originalStart,o.modifiedLength=u-o.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,n,o){if(t<o||n<o)return null;const r=e+t-o+1,a=i+n-o+1;let l=0,c=0,d=0;for(let u=e;u<r;u++)for(let h=i;h<a;h++){const g=this._contiguousSequenceScore(u,h,o);g>0&&g>l&&(l=g,c=u,d=h)}return l>0?[c,d]:null}_contiguousSequenceScore(e,t,i){let n=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;n+=this._originalStringElements[e+o].length}return n}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,n){const o=this._OriginalRegionIsBoundary(e,t)?1:0,r=this._ModifiedRegionIsBoundary(i,n)?1:0;return o+r}ConcatenateChanges(e,t){const i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const n=new Array(e.length+t.length-1);return fg.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],fg.Copy(t,1,n,e.length,t.length-1),n}else{const n=new Array(e.length+t.length);return fg.Copy(e,0,n,0,e.length),fg.Copy(t,0,n,e.length,t.length),n}}ChangesOverlap(e,t,i){if(gg.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),gg.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const n=e.originalStart;let o=e.originalLength;const r=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new Ic(n,o,r,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){if(e>=0&&e<n)return e;const o=i,r=n-i-1,a=t%2===0;if(e<0){const l=o%2===0;return a===l?0:1}else{const l=r%2===0;return a===l?n-1:n-2}}}function FC(s){return s<0?0:s>255?255:s|0}function mg(s){return s<0?0:s>4294967295?4294967295:s|0}class HK{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=mg(e);const i=this.values,n=this.prefixSum,o=t.length;return o===0?!1:(this.values=new Uint32Array(i.length+o),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=mg(e),t=mg(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=mg(e),t=mg(t);const i=this.values,n=this.prefixSum;if(e>=i.length)return!1;const o=i.length-e;return t>=o&&(t=o),t===0?!1:(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=mg(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,n=0,o=0,r=0;for(;t<=i;)if(n=t+(i-t)/2|0,o=this.prefixSum[n],r=o-this.values[n],e<r)i=n-1;else if(e>=o)t=n+1;else break;return new v3(n,e-r)}}class zK{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),e===0?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e],i=t>0?this._prefixSum[t-1]:0;return new v3(t,e-i)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=SS(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const i=this._values[e],n=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=n+i;for(let o=0;o<i;o++)this._indexBySum[n+o]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}}class v3{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class UK{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new P(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new HK(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;const i=Xa(t);if(i.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);const n=new Uint32Array(i.length-1);for(let o=1;o<i.length;o++)this._lines.splice(e.lineNumber+o-1,0,i[o]),n[o-1]=i[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}}class Wm{constructor(e){const t=FC(e);this._defaultValue=t,this._asciiMap=Wm._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){const t=new Uint8Array(256);return t.fill(e),t}set(e,t){const i=FC(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class BC{constructor(){this._actual=new Wm(0)}add(e){this._actual.set(e,1)}has(e){return this._actual.get(e)===1}clear(){return this._actual.clear()}}class $K{constructor(e,t,i){const n=new Uint8Array(e*t);for(let o=0,r=e*t;o<r;o++)n[o]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class jK{constructor(e){let t=0,i=0;for(let o=0,r=e.length;o<r;o++){const[a,l,c]=e[o];l>t&&(t=l),a>i&&(i=a),c>i&&(i=c)}t++,i++;const n=new $K(i,t,0);for(let o=0,r=e.length;o<r;o++){const[a,l,c]=e[o];n.set(a,l,c)}this._states=n,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let fL=null;function KK(){return fL===null&&(fL=new jK([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),fL}let dp=null;function qK(){if(dp===null){dp=new Wm(0);const s=` 	<>'"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…`;for(let t=0;t<s.length;t++)dp.set(s.charCodeAt(t),1);const e=".,;:";for(let t=0;t<e.length;t++)dp.set(e.charCodeAt(t),2)}return dp}class WC{static _createLink(e,t,i,n,o){let r=o-1;do{const a=t.charCodeAt(r);if(e.get(a)!==2)break;r--}while(r>n);if(n>0){const a=t.charCodeAt(n-1),l=t.charCodeAt(r);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&r--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:r+2},url:t.substring(n,r+1)}}static computeLinks(e,t=KK()){const i=qK(),n=[];for(let o=1,r=e.getLineCount();o<=r;o++){const a=e.getLineContent(o),l=a.length;let c=0,d=0,u=0,h=1,g=!1,m=!1,p=!1,_=!1;for(;c<l;){let b=!1;const v=a.charCodeAt(c);if(h===13){let w;switch(v){case 40:g=!0,w=0;break;case 41:w=g?0:1;break;case 91:p=!0,m=!0,w=0;break;case 93:p=!1,w=m?0:1;break;case 123:_=!0,w=0;break;case 125:w=_?0:1;break;case 39:case 34:case 96:u===v?w=1:u===39||u===34||u===96?w=0:w=1;break;case 42:w=u===42?1:0;break;case 124:w=u===124?1:0;break;case 32:w=p?0:1;break;default:w=i.get(v)}w===1&&(n.push(WC._createLink(i,a,o,d,c)),b=!0)}else if(h===12){let w;v===91?(m=!0,w=0):w=i.get(v),w===1?b=!0:h=13}else h=t.nextState(h,v),h===0&&(b=!0);b&&(h=1,g=!1,m=!1,_=!1,d=c+1,u=v),c++}h===13&&n.push(WC._createLink(i,a,o,d,l))}return n}}function GK(s){return!s||typeof s.getLineCount!="function"||typeof s.getLineContent!="function"?[]:WC.computeLinks(s)}class aI{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,o){if(e&&t){const r=this.doNavigateValueSet(t,o);if(r)return{range:e,value:r}}if(i&&n){const r=this.doNavigateValueSet(n,o);if(r)return{range:i,value:r}}return null}doNavigateValueSet(e,t){const i=this.numberReplace(e,t);return i!==null?i:this.textReplace(e,t)}numberReplace(e,t){const i=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let n=Number(e);const o=parseFloat(e);return!isNaN(n)&&!isNaN(o)&&n===o?n===0&&!t?null:(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let o=0,r=e.length;n===null&&o<r;o++)n=this.valueSetReplace(e[o],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return n>=0?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null}}aI.INSTANCE=new aI;class ZK extends Wm{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}function QK(s){const e={};return t=>(e.hasOwnProperty(t)||(e[t]=s(t)),e[t])}const Fs=QK(s=>new ZK(s));var ds;(function(s){s[s.Left=1]="Left",s[s.Center=2]="Center",s[s.Right=4]="Right",s[s.Full=7]="Full"})(ds||(ds={}));var Cf;(function(s){s[s.Left=1]="Left",s[s.Right=2]="Right"})(Cf||(Cf={}));var Bo;(function(s){s[s.Inline=1]="Inline",s[s.Gutter=2]="Gutter"})(Bo||(Bo={}));var $r;(function(s){s[s.Both=0]="Both",s[s.Right=1]="Right",s[s.Left=2]="Left",s[s.None=3]="None"})($r||($r={}));class Uw{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,e.tabSize|0),e.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,e.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!e.insertSpaces,this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=!!e.trimAutoWhitespace,this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&as(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class e_{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}function YK(s){return s&&typeof s.read=="function"}class mL{constructor(e,t,i,n,o,r){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=o,this._isTracked=r}}class XK{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}class JK{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}function eq(s){return!s.isTooLargeForSyncing()&&!s.isForSimpleWidget}const tq=999;class Su{constructor(e,t,i,n){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=n}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=iq(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=wW(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch(n){return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new XK(t,this.wordSeparators?Fs(this.wordSeparators):null,i?this.searchString:null)}}function iq(s){if(!s||s.length===0)return!1;for(let e=0,t=s.length;e<t;e++){const i=s.charCodeAt(e);if(i===10)return!0;if(i===92){if(e++,e>=t)break;const n=s.charCodeAt(e);if(n===110||n===114||n===87)return!0}}return!1}function Eu(s,e,t){if(!t)return new e_(s,null);const i=[];for(let n=0,o=e.length;n<o;n++)i[n]=e[n];return new e_(s,i)}class x2{constructor(e){const t=[];let i=0;for(let n=0,o=e.length;n<o;n++)e.charCodeAt(n)===10&&(t[i++]=n);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,n=t.length-1;if(n===-1||e<=t[0])return 0;for(;i<n;){const o=i+((n-i)/2>>0);t[o]>=e?n=o-1:t[o+1]>=e?(i=o,n=o):i=o+1}return i+1}}class y0{static findMatches(e,t,i,n,o){const r=t.parseSearchRequest();return r?r.regex.multiline?this._doFindMatchesMultiline(e,i,new jg(r.wordSeparators,r.regex),n,o):this._doFindMatchesLineByLine(e,i,r,n,o):[]}static _getMultilineMatchRange(e,t,i,n,o,r){let a,l=0;n?(l=n.findLineFeedCountBeforeOffset(o),a=t+o+l):a=t+o;let c;if(n){const g=n.findLineFeedCountBeforeOffset(o+r.length)-l;c=a+r.length+g}else c=a+r.length;const d=e.getPositionAt(a),u=e.getPositionAt(c);return new k(d.lineNumber,d.column,u.lineNumber,u.column)}static _doFindMatchesMultiline(e,t,i,n,o){const r=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new x2(a):null,c=[];let d=0,u;for(i.reset(0);u=i.next(a);)if(c[d++]=Eu(this._getMultilineMatchRange(e,r,a,l,u.index,u[0]),u,n),d>=o)return c;return c}static _doFindMatchesLineByLine(e,t,i,n,o){const r=[];let a=0;if(t.startLineNumber===t.endLineNumber){const c=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(i,c,t.startLineNumber,t.startColumn-1,a,r,n,o),r}const l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(i,l,t.startLineNumber,t.startColumn-1,a,r,n,o);for(let c=t.startLineNumber+1;c<t.endLineNumber&&a<o;c++)a=this._findMatchesInLine(i,e.getLineContent(c),c,0,a,r,n,o);if(a<o){const c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(i,c,t.endLineNumber,0,a,r,n,o)}return r}static _findMatchesInLine(e,t,i,n,o,r,a,l){const c=e.wordSeparators;if(!a&&e.simpleSearch){const h=e.simpleSearch,g=h.length,m=t.length;let p=-g;for(;(p=t.indexOf(h,p+g))!==-1;)if((!c||PA(c,t,m,p,g))&&(r[o++]=new e_(new k(i,p+1+n,i,p+1+g+n),null),o>=l))return o;return o}const d=new jg(e.wordSeparators,e.regex);let u;d.reset(0);do if(u=d.next(t),u&&(r[o++]=Eu(new k(i,u.index+1+n,i,u.index+1+u[0].length+n),u,a),o>=l))return o;while(u);return o}static findNextMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const r=new jg(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,i,r,n):this._doFindNextMatchLineByLine(e,i,r,n)}static _doFindNextMatchMultiline(e,t,i,n){const o=new P(t.lineNumber,1),r=e.getOffsetAt(o),a=e.getLineCount(),l=e.getValueInRange(new k(o.lineNumber,o.column,a,e.getLineMaxColumn(a)),1),c=e.getEOL()===`\r
`?new x2(l):null;i.reset(t.column-1);const d=i.next(l);return d?Eu(this._getMultilineMatchRange(e,r,l,c,d.index,d[0]),d,n):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new P(1,1),i,n):null}static _doFindNextMatchLineByLine(e,t,i,n){const o=e.getLineCount(),r=t.lineNumber,a=e.getLineContent(r),l=this._findFirstMatchInLine(i,a,r,t.column,n);if(l)return l;for(let c=1;c<=o;c++){const d=(r+c-1)%o,u=e.getLineContent(d+1),h=this._findFirstMatchInLine(i,u,d+1,1,n);if(h)return h}return null}static _findFirstMatchInLine(e,t,i,n,o){e.reset(n-1);const r=e.next(t);return r?Eu(new k(i,r.index+1,i,r.index+1+r[0].length),r,o):null}static findPreviousMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const r=new jg(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,i,r,n):this._doFindPreviousMatchLineByLine(e,i,r,n)}static _doFindPreviousMatchMultiline(e,t,i,n){const o=this._doFindMatchesMultiline(e,new k(1,1,t.lineNumber,t.column),i,n,10*tq);if(o.length>0)return o[o.length-1];const r=e.getLineCount();return t.lineNumber!==r||t.column!==e.getLineMaxColumn(r)?this._doFindPreviousMatchMultiline(e,new P(r,e.getLineMaxColumn(r)),i,n):null}static _doFindPreviousMatchLineByLine(e,t,i,n){const o=e.getLineCount(),r=t.lineNumber,a=e.getLineContent(r).substring(0,t.column-1),l=this._findLastMatchInLine(i,a,r,n);if(l)return l;for(let c=1;c<=o;c++){const d=(o+r-c-1)%o,u=e.getLineContent(d+1),h=this._findLastMatchInLine(i,u,d+1,n);if(h)return h}return null}static _findLastMatchInLine(e,t,i,n){let o=null,r;for(e.reset(0);r=e.next(t);)o=Eu(new k(i,r.index+1,i,r.index+1+r[0].length),r,n);return o}}function nq(s,e,t,i,n){if(i===0)return!0;const o=e.charCodeAt(i-1);if(s.get(o)!==0||o===13||o===10)return!0;if(n>0){const r=e.charCodeAt(i);if(s.get(r)!==0)return!0}return!1}function oq(s,e,t,i,n){if(i+n===t)return!0;const o=e.charCodeAt(i+n);if(s.get(o)!==0||o===13||o===10)return!0;if(n>0){const r=e.charCodeAt(i+n-1);if(s.get(r)!==0)return!0}return!1}function PA(s,e,t,i,n){return nq(s,e,t,i,n)&&oq(s,e,t,i,n)}class jg{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(i=this._searchRegex.exec(e),!i))return null;const n=i.index,o=i[0].length;if(n===this._prevMatchStartIndex&&o===this._prevMatchLength){if(o===0){EC(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=n,this._prevMatchLength=o,!this._wordSeparators||PA(this._wordSeparators,e,t,n,o))return i}while(i);return null}}class OA{static computeUnicodeHighlights(e,t,i){const n=i?i.startLineNumber:1,o=i?i.endLineNumber:e.getLineCount(),r=new D2(t),a=r.getCandidateCodePoints();let l;a==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${sq(Array.from(a))}`,"g");const c=new jg(null,l),d=[];let u=!1,h,g=0,m=0,p=0;e:for(let _=n,b=o;_<=b;_++){const v=e.getLineContent(_),w=v.length;c.reset(0);do if(h=c.next(v),h){let C=h.index,S=h.index+h[0].length;if(C>0){const E=v.charCodeAt(C-1);$i(E)&&C--}if(S+1<w){const E=v.charCodeAt(S-1);$i(E)&&S++}const x=v.substring(C,S);let L=Ub(C+1,dA,v,0);L&&L.endColumn<=C+1&&(L=null);const I=r.shouldHighlightNonBasicASCII(x,L?L.word:null);if(I!==0){I===3?g++:I===2?m++:I===1?p++:PS();const E=1e3;if(d.length>=E){u=!0;break e}d.push(new k(_,C+1,_,S+1))}}while(h)}return{ranges:d,hasMore:u,ambiguousCharacterCount:g,invisibleCharacterCount:m,nonBasicAsciiCharacterCount:p}}static computeUnicodeHighlightReason(e,t){const i=new D2(t);switch(i.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{const o=e.codePointAt(0),r=i.ambiguousCharacters.getPrimaryConfusable(o),a=fh.getLocales().filter(l=>!fh.getInstance(new Set([...t.allowedLocales,l])).isAmbiguous(o));return{kind:0,confusableWith:String.fromCodePoint(r),notAmbiguousInLocales:a}}case 1:return{kind:2}}}}function sq(s,e){return`[${cs(s.map(i=>String.fromCodePoint(i)).join(""))}]`}class D2{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=fh.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of qa.codePoints)I2(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){const i=e.codePointAt(0);if(this.allowedCodePoints.has(i))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,o=!1;if(t)for(const r of t){const a=r.codePointAt(0),l=Sv(r);n=n||l,!l&&!this.ambiguousCharacters.isAmbiguous(a)&&!qa.isInvisibleCharacter(a)&&(o=!0)}return!n&&o?0:this.options.invisibleCharacters&&!I2(e)&&qa.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(i)?3:0}}function I2(s){return s===" "||s===`
`||s==="	"}class $w{constructor(e,t,i){this.changes=e,this.moves=t,this.hitTimeout=i}}class w3{constructor(e,t){this.lineRangeMapping=e,this.changes=t}}class Je{static addRange(e,t){let i=0;for(;i<t.length&&t[i].endExclusive<e.start;)i++;let n=i;for(;n<t.length&&t[n].start<=e.endExclusive;)n++;if(i===n)t.splice(i,0,e);else{const o=Math.min(e.start,t[i].start),r=Math.max(e.endExclusive,t[n-1].endExclusive);t.splice(i,n-i,new Je(o,r))}}static tryCreate(e,t){if(!(e>t))return new Je(e,t)}static ofLength(e){return new Je(0,e)}constructor(e,t){if(this.start=e,this.endExclusive=t,e>t)throw new Ti(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new Je(this.start+e,this.endExclusive+e)}deltaStart(e){return new Je(this.start+e,this.endExclusive)}deltaEnd(e){return new Je(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(e){return this.start===e.start&&this.endExclusive===e.endExclusive}containsRange(e){return this.start<=e.start&&e.endExclusive<=this.endExclusive}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new Je(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){const t=Math.max(this.start,e.start),i=Math.min(this.endExclusive,e.endExclusive);if(t<=i)return new Je(t,i)}slice(e){return e.slice(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new Ti(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new Ti(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}forEach(e){for(let t=this.start;t<this.endExclusive;t++)e(t)}}class FA{constructor(){this._sortedRanges=[]}addRange(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<e.start;)t++;let i=t;for(;i<this._sortedRanges.length&&this._sortedRanges[i].start<=e.endExclusive;)i++;if(t===i)this._sortedRanges.splice(t,0,e);else{const n=Math.min(e.start,this._sortedRanges[t].start),o=Math.max(e.endExclusive,this._sortedRanges[i-1].endExclusive);this._sortedRanges.splice(t,i-t,new Je(n,o))}}toString(){return this._sortedRanges.map(e=>e.toString()).join(", ")}intersectsStrict(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<=e.start;)t++;return t<this._sortedRanges.length&&this._sortedRanges[t].start<e.endExclusive}intersectWithRange(e){const t=new FA;for(const i of this._sortedRanges){const n=i.intersect(e);n&&t.addRange(n)}return t}intersectWithRangeLength(e){return this.intersectWithRange(e).length}get length(){return this._sortedRanges.reduce((e,t)=>e+t.length,0)}}function VC(s,e,t){const i=rq(s,e);if(i!==-1)return s[i]}function rq(s,e,t=s.length-1){for(let i=t;i>=0;i--){const n=s[i];if(e(n))return i}return-1}function t_(s,e){const t=i_(s,e);return t===-1?void 0:s[t]}function i_(s,e,t=0,i=s.length){let n=t,o=i;for(;n<o;){const r=Math.floor((n+o)/2);e(s[r])?n=r+1:o=r}return n-1}function aq(s,e){const t=n_(s,e);return t===s.length?void 0:s[t]}function n_(s,e,t=0,i=s.length){let n=t,o=i;for(;n<o;){const r=Math.floor((n+o)/2);e(s[r])?o=r:n=r+1}return n}class Lv{constructor(e){this._array=e,this._findLastMonotonousLastIdx=0}findLastMonotonous(e){if(Lv.assertInvariants){if(this._prevFindLastPredicate){for(const i of this._array)if(this._prevFindLastPredicate(i)&&!e(i))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}const t=i_(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=t+1,t===-1?void 0:this._array[t]}}Lv.assertInvariants=!1;function C3(s,e){if(s.length===0)return;let t=s[0];for(let i=1;i<s.length;i++){const n=s[i];e(n,t)>0&&(t=n)}return t}function lq(s,e){if(s.length===0)return;let t=s[0];for(let i=1;i<s.length;i++){const n=s[i];e(n,t)>=0&&(t=n)}return t}function cq(s,e){return C3(s,(t,i)=>-e(t,i))}function dq(s,e){if(s.length===0)return-1;let t=0;for(let i=1;i<s.length;i++){const n=s[i];e(n,s[t])>0&&(t=i)}return t}function uq(s,e){for(const t of s){const i=e(t);if(i!==void 0)return i}}let it=class Tc{static fromRange(e){return new Tc(e.startLineNumber,e.endLineNumber)}static joinMany(e){if(e.length===0)return[];let t=new Ia(e[0].slice());for(let i=1;i<e.length;i++)t=t.getUnion(new Ia(e[i].slice()));return t.ranges}static ofLength(e,t){return new Tc(e,e+t)}static deserialize(e){return new Tc(e[0],e[1])}constructor(e,t){if(e>t)throw new Ti(`startLineNumber ${e} cannot be after endLineNumberExclusive ${t}`);this.startLineNumber=e,this.endLineNumberExclusive=t}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new Tc(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new Tc(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new Tc(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(t<=i)return new Tc(t,i)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new k(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new k(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){const t=[];for(let i=this.startLineNumber;i<this.endLineNumberExclusive;i++)t.push(e(i));return t}forEach(e){for(let t=this.startLineNumber;t<this.endLineNumberExclusive;t++)e(t)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new Je(this.startLineNumber-1,this.endLineNumberExclusive-1)}};class Ia{constructor(e=[]){this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;const t=n_(this._normalizedRanges,n=>n.endLineNumberExclusive>=e.startLineNumber),i=i_(this._normalizedRanges,n=>n.startLineNumber<=e.endLineNumberExclusive)+1;if(t===i)this._normalizedRanges.splice(t,0,e);else if(t===i-1){const n=this._normalizedRanges[t];this._normalizedRanges[t]=n.join(e)}else{const n=this._normalizedRanges[t].join(this._normalizedRanges[i-1]).join(e);this._normalizedRanges.splice(t,i-t,n)}}contains(e){const t=t_(this._normalizedRanges,i=>i.startLineNumber<=e);return!!t&&t.endLineNumberExclusive>e}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;const t=[];let i=0,n=0,o=null;for(;i<this._normalizedRanges.length||n<e._normalizedRanges.length;){let r=null;if(i<this._normalizedRanges.length&&n<e._normalizedRanges.length){const a=this._normalizedRanges[i],l=e._normalizedRanges[n];a.startLineNumber<l.startLineNumber?(r=a,i++):(r=l,n++)}else i<this._normalizedRanges.length?(r=this._normalizedRanges[i],i++):(r=e._normalizedRanges[n],n++);o===null?o=r:o.endLineNumberExclusive>=r.startLineNumber?o=new it(o.startLineNumber,Math.max(o.endLineNumberExclusive,r.endLineNumberExclusive)):(t.push(o),o=r)}return o!==null&&t.push(o),new Ia(t)}subtractFrom(e){const t=n_(this._normalizedRanges,r=>r.endLineNumberExclusive>=e.startLineNumber),i=i_(this._normalizedRanges,r=>r.startLineNumber<=e.endLineNumberExclusive)+1;if(t===i)return new Ia([e]);const n=[];let o=e.startLineNumber;for(let r=t;r<i;r++){const a=this._normalizedRanges[r];a.startLineNumber>o&&n.push(new it(o,a.startLineNumber)),o=a.endLineNumberExclusive}return o<e.endLineNumberExclusive&&n.push(new it(o,e.endLineNumberExclusive)),new Ia(n)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){const t=[];let i=0,n=0;for(;i<this._normalizedRanges.length&&n<e._normalizedRanges.length;){const o=this._normalizedRanges[i],r=e._normalizedRanges[n],a=o.intersect(r);a&&!a.isEmpty&&t.push(a),o.endLineNumberExclusive<r.endLineNumberExclusive?i++:n++}return new Ia(t)}getWithDelta(e){return new Ia(this._normalizedRanges.map(t=>t.delta(e)))}}class el{static inverse(e,t,i){const n=[];let o=1,r=1;for(const l of e){const c=new Bs(new it(o,l.original.startLineNumber),new it(r,l.modified.startLineNumber),void 0);c.modified.isEmpty||n.push(c),o=l.original.endLineNumberExclusive,r=l.modified.endLineNumberExclusive}const a=new Bs(new it(o,t+1),new it(r,i+1),void 0);return a.modified.isEmpty||n.push(a),n}constructor(e,t){this.original=e,this.modified=t}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new el(this.modified,this.original)}join(e){return new el(this.original.join(e.original),this.modified.join(e.modified))}}class Bs extends el{constructor(e,t,i){super(e,t),this.innerChanges=i}flip(){var e;return new Bs(this.modified,this.original,(e=this.innerChanges)===null||e===void 0?void 0:e.map(t=>t.flip()))}}class Id{constructor(e,t){this.originalRange=e,this.modifiedRange=t}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new Id(this.modifiedRange,this.originalRange)}}const hq=3;class gq{computeDiff(e,t,i){var n;const r=new pq(e,t,{maxComputationTime:i.maxComputationTimeMs,shouldIgnoreTrimWhitespace:i.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),a=[];let l=null;for(const c of r.changes){let d;c.originalEndLineNumber===0?d=new it(c.originalStartLineNumber+1,c.originalStartLineNumber+1):d=new it(c.originalStartLineNumber,c.originalEndLineNumber+1);let u;c.modifiedEndLineNumber===0?u=new it(c.modifiedStartLineNumber+1,c.modifiedStartLineNumber+1):u=new it(c.modifiedStartLineNumber,c.modifiedEndLineNumber+1);let h=new Bs(d,u,(n=c.charChanges)===null||n===void 0?void 0:n.map(g=>new Id(new k(g.originalStartLineNumber,g.originalStartColumn,g.originalEndLineNumber,g.originalEndColumn),new k(g.modifiedStartLineNumber,g.modifiedStartColumn,g.modifiedEndLineNumber,g.modifiedEndColumn))));l&&(l.modified.endLineNumberExclusive===h.modified.startLineNumber||l.original.endLineNumberExclusive===h.original.startLineNumber)&&(h=new Bs(l.original.join(h.original),l.modified.join(h.modified),l.innerChanges&&h.innerChanges?l.innerChanges.concat(h.innerChanges):void 0),a.pop()),a.push(h),l=h}return Qb(()=>AW(a,(c,d)=>d.original.startLineNumber-c.original.endLineNumberExclusive===d.modified.startLineNumber-c.modified.endLineNumberExclusive&&c.original.endLineNumberExclusive<d.original.startLineNumber&&c.modified.endLineNumberExclusive<d.modified.startLineNumber)),new $w(a,[],r.quitEarly)}}function S3(s,e,t,i){return new Da(s,e,t).ComputeDiff(i)}let T2=class{constructor(e){const t=[],i=[];for(let n=0,o=e.length;n<o;n++)t[n]=lI(e[n],1),i[n]=cI(e[n],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const n=[],o=[],r=[];let a=0;for(let l=t;l<=i;l++){const c=this.lines[l],d=e?this._startColumns[l]:1,u=e?this._endColumns[l]:c.length+1;for(let h=d;h<u;h++)n[a]=c.charCodeAt(h-1),o[a]=l+1,r[a]=h,a++;!e&&l<i&&(n[a]=10,o[a]=l+1,r[a]=c.length+1,a++)}return new fq(n,o,r)}};class fq{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}toString(){return"["+this._charCodes.map((e,t)=>(e===10?"\\n":String.fromCharCode(e))+`-(${this._lineNumbers[t]},${this._columns[t]})`).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}getEndLineNumber(e){return e===-1?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),this._charCodes[e]===10?this._lineNumbers[e]+1:this._lineNumbers[e])}getStartColumn(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}getEndColumn(e){return e===-1?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),this._charCodes[e]===10?1:this._columns[e]+1)}}class Sf{constructor(e,t,i,n,o,r,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=o,this.modifiedStartColumn=r,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,i){const n=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),r=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1),l=i.getStartLineNumber(e.modifiedStart),c=i.getStartColumn(e.modifiedStart),d=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),u=i.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new Sf(n,o,r,a,l,c,d,u)}}function mq(s){if(s.length<=1)return s;const e=[s[0]];let t=e[0];for(let i=1,n=s.length;i<n;i++){const o=s[i],r=o.originalStart-(t.originalStart+t.originalLength),a=o.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(r,a)<hq?(t.originalLength=o.originalStart+o.originalLength-t.originalStart,t.modifiedLength=o.modifiedStart+o.modifiedLength-t.modifiedStart):(e.push(o),t=o)}return e}class lb{constructor(e,t,i,n,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=o}static createFromDiffResult(e,t,i,n,o,r,a){let l,c,d,u,h;if(t.originalLength===0?(l=i.getStartLineNumber(t.originalStart)-1,c=0):(l=i.getStartLineNumber(t.originalStart),c=i.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(d=n.getStartLineNumber(t.modifiedStart)-1,u=0):(d=n.getStartLineNumber(t.modifiedStart),u=n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),r&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){const g=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),m=n.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(g.getElements().length>0&&m.getElements().length>0){let p=S3(g,m,o,!0).changes;a&&(p=mq(p)),h=[];for(let _=0,b=p.length;_<b;_++)h.push(Sf.createFromDiffChange(p[_],g,m))}}return new lb(l,c,d,u,h)}}class pq{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new T2(e),this.modified=new T2(t),this.continueLineDiff=E2(i.maxComputationTime),this.continueCharDiff=E2(i.maxComputationTime===0?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const e=S3(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const a=[];for(let l=0,c=t.length;l<c;l++)a.push(lb.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:a}}const n=[];let o=0,r=0;for(let a=-1,l=t.length;a<l;a++){const c=a+1<l?t[a+1]:null,d=c?c.originalStart:this.originalLines.length,u=c?c.modifiedStart:this.modifiedLines.length;for(;o<d&&r<u;){const h=this.originalLines[o],g=this.modifiedLines[r];if(h!==g){{let m=lI(h,1),p=lI(g,1);for(;m>1&&p>1;){const _=h.charCodeAt(m-2),b=g.charCodeAt(p-2);if(_!==b)break;m--,p--}(m>1||p>1)&&this._pushTrimWhitespaceCharChange(n,o+1,1,m,r+1,1,p)}{let m=cI(h,1),p=cI(g,1);const _=h.length+1,b=g.length+1;for(;m<_&&p<b;){const v=h.charCodeAt(m-1),w=h.charCodeAt(p-1);if(v!==w)break;m++,p++}(m<_||p<b)&&this._pushTrimWhitespaceCharChange(n,o+1,m,_,r+1,p,b)}}o++,r++}c&&(n.push(lb.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=c.originalLength,r+=c.modifiedLength)}return{quitEarly:i,changes:n}}_pushTrimWhitespaceCharChange(e,t,i,n,o,r,a){if(this._mergeTrimWhitespaceCharChange(e,t,i,n,o,r,a))return;let l;this.shouldComputeCharChanges&&(l=[new Sf(t,i,t,n,o,r,o,a)]),e.push(new lb(t,t,o,o,l))}_mergeTrimWhitespaceCharChange(e,t,i,n,o,r,a){const l=e.length;if(l===0)return!1;const c=e[l-1];return c.originalEndLineNumber===0||c.modifiedEndLineNumber===0?!1:c.originalEndLineNumber===t&&c.modifiedEndLineNumber===o?(this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new Sf(t,i,t,n,o,r,o,a)),!0):c.originalEndLineNumber+1===t&&c.modifiedEndLineNumber+1===o?(c.originalEndLineNumber=t,c.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new Sf(t,i,t,n,o,r,o,a)),!0):!1}}function lI(s,e){const t=Zn(s);return t===-1?e:t+1}function cI(s,e){const t=Gr(s);return t===-1?e:t+2}function E2(s){if(s===0)return()=>!0;const e=Date.now();return()=>Date.now()-e<s}class Xl{static trivial(e,t){return new Xl([new ln(Je.ofLength(e.length),Je.ofLength(t.length))],!1)}static trivialTimedOut(e,t){return new Xl([new ln(Je.ofLength(e.length),Je.ofLength(t.length))],!0)}constructor(e,t){this.diffs=e,this.hitTimeout=t}}class ln{static invert(e,t){const i=[];return B5(e,(n,o)=>{i.push(ln.fromOffsetPairs(n?n.getEndExclusives():Pa.zero,o?o.getStarts():new Pa(t,(n?n.seq2Range.endExclusive-n.seq1Range.endExclusive:0)+t)))}),i}static fromOffsetPairs(e,t){return new ln(new Je(e.offset1,t.offset1),new Je(e.offset2,t.offset2))}constructor(e,t){this.seq1Range=e,this.seq2Range=t}swap(){return new ln(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(e){return new ln(this.seq1Range.join(e.seq1Range),this.seq2Range.join(e.seq2Range))}delta(e){return e===0?this:new ln(this.seq1Range.delta(e),this.seq2Range.delta(e))}deltaStart(e){return e===0?this:new ln(this.seq1Range.deltaStart(e),this.seq2Range.deltaStart(e))}deltaEnd(e){return e===0?this:new ln(this.seq1Range.deltaEnd(e),this.seq2Range.deltaEnd(e))}intersect(e){const t=this.seq1Range.intersect(e.seq1Range),i=this.seq2Range.intersect(e.seq2Range);if(!(!t||!i))return new ln(t,i)}getStarts(){return new Pa(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new Pa(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class Pa{constructor(e,t){this.offset1=e,this.offset2=t}toString(){return`${this.offset1} <-> ${this.offset2}`}}Pa.zero=new Pa(0,0);Pa.max=new Pa(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class o_{isValid(){return!0}}o_.instance=new o_;class bq{constructor(e){if(this.timeout=e,this.startTime=Date.now(),this.valid=!0,e<=0)throw new Ti("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}class pL{constructor(e,t){this.width=e,this.height=t,this.array=[],this.array=new Array(e*t)}get(e,t){return this.array[e+t*this.width]}set(e,t,i){this.array[e+t*this.width]=i}}function dI(s){return s===32||s===9}class Xf{static getKey(e){let t=this.chrKeys.get(e);return t===void 0&&(t=this.chrKeys.size,this.chrKeys.set(e,t)),t}constructor(e,t,i){this.range=e,this.lines=t,this.source=i,this.histogram=[];let n=0;for(let o=e.startLineNumber-1;o<e.endLineNumberExclusive-1;o++){const r=t[o];for(let l=0;l<r.length;l++){n++;const c=r[l],d=Xf.getKey(c);this.histogram[d]=(this.histogram[d]||0)+1}n++;const a=Xf.getKey(`
`);this.histogram[a]=(this.histogram[a]||0)+1}this.totalCount=n}computeSimilarity(e){var t,i;let n=0;const o=Math.max(this.histogram.length,e.histogram.length);for(let r=0;r<o;r++)n+=Math.abs(((t=this.histogram[r])!==null&&t!==void 0?t:0)-((i=e.histogram[r])!==null&&i!==void 0?i:0));return 1-n/(this.totalCount+e.totalCount)}}Xf.chrKeys=new Map;class _q{compute(e,t,i=o_.instance,n){if(e.length===0||t.length===0)return Xl.trivial(e,t);const o=new pL(e.length,t.length),r=new pL(e.length,t.length),a=new pL(e.length,t.length);for(let m=0;m<e.length;m++)for(let p=0;p<t.length;p++){if(!i.isValid())return Xl.trivialTimedOut(e,t);const _=m===0?0:o.get(m-1,p),b=p===0?0:o.get(m,p-1);let v;e.getElement(m)===t.getElement(p)?(m===0||p===0?v=0:v=o.get(m-1,p-1),m>0&&p>0&&r.get(m-1,p-1)===3&&(v+=a.get(m-1,p-1)),v+=n?n(m,p):1):v=-1;const w=Math.max(_,b,v);if(w===v){const C=m>0&&p>0?a.get(m-1,p-1):0;a.set(m,p,C+1),r.set(m,p,3)}else w===_?(a.set(m,p,0),r.set(m,p,1)):w===b&&(a.set(m,p,0),r.set(m,p,2));o.set(m,p,w)}const l=[];let c=e.length,d=t.length;function u(m,p){(m+1!==c||p+1!==d)&&l.push(new ln(new Je(m+1,c),new Je(p+1,d))),c=m,d=p}let h=e.length-1,g=t.length-1;for(;h>=0&&g>=0;)r.get(h,g)===3?(u(h,g),h--,g--):r.get(h,g)===1?h--:g--;return u(-1,-1),l.reverse(),new Xl(l,!1)}}class y3{compute(e,t,i=o_.instance){if(e.length===0||t.length===0)return Xl.trivial(e,t);const n=e,o=t;function r(p,_){for(;p<n.length&&_<o.length&&n.getElement(p)===o.getElement(_);)p++,_++;return p}let a=0;const l=new vq;l.set(0,r(0,0));const c=new wq;c.set(0,l.get(0)===0?null:new N2(null,0,0,l.get(0)));let d=0;e:for(;;){if(a++,!i.isValid())return Xl.trivialTimedOut(n,o);const p=-Math.min(a,o.length+a%2),_=Math.min(a,n.length+a%2);for(d=p;d<=_;d+=2){const b=d===_?-1:l.get(d+1),v=d===p?-1:l.get(d-1)+1,w=Math.min(Math.max(b,v),n.length),C=w-d;if(w>n.length||C>o.length)continue;const S=r(w,C);l.set(d,S);const x=w===b?c.get(d+1):c.get(d-1);if(c.set(d,S!==w?new N2(x,w,C,S-w):x),l.get(d)===n.length&&l.get(d)-d===o.length)break e}}let u=c.get(d);const h=[];let g=n.length,m=o.length;for(;;){const p=u?u.x+u.length:0,_=u?u.y+u.length:0;if((p!==g||_!==m)&&h.push(new ln(new Je(p,g),new Je(_,m))),!u)break;g=u.x,m=u.y,u=u.prev}return h.reverse(),new Xl(h,!1)}}class N2{constructor(e,t,i,n){this.prev=e,this.x=t,this.y=i,this.length=n}}class vq{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){if(e<0){if(e=-e-1,e>=this.negativeArr.length){const i=this.negativeArr;this.negativeArr=new Int32Array(i.length*2),this.negativeArr.set(i)}this.negativeArr[e]=t}else{if(e>=this.positiveArr.length){const i=this.positiveArr;this.positiveArr=new Int32Array(i.length*2),this.positiveArr.set(i)}this.positiveArr[e]=t}}}class wq{constructor(){this.positiveArr=[],this.negativeArr=[]}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){e<0?(e=-e-1,this.negativeArr[e]=t):this.positiveArr[e]=t}}var A2,R2;class Cq{constructor(e,t){this.uri=e,this.value=t}}function Sq(s){return Array.isArray(s)}class On{constructor(e,t){if(this[A2]="ResourceMap",e instanceof On)this.map=new Map(e.map),this.toKey=t!=null?t:On.defaultToKey;else if(Sq(e)){this.map=new Map,this.toKey=t!=null?t:On.defaultToKey;for(const[i,n]of e)this.set(i,n)}else this.map=new Map,this.toKey=e!=null?e:On.defaultToKey}set(e,t){return this.map.set(this.toKey(e),new Cq(e,t)),this}get(e){var t;return(t=this.map.get(this.toKey(e)))===null||t===void 0?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t!="undefined"&&(e=e.bind(t));for(const[i,n]of this.map)e(n.value,n.uri,this)}*values(){for(const e of this.map.values())yield e.value}*keys(){for(const e of this.map.values())yield e.uri}*entries(){for(const e of this.map.values())yield[e.uri,e.value]}*[(A2=Symbol.toStringTag,Symbol.iterator)](){for(const[,e]of this.map)yield[e.uri,e.value]}}On.defaultToKey=s=>s.toString();class yq{constructor(){this[R2]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let n=this._map.get(e);if(n)n.value=t,i!==0&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:i.key,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return n}values(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:i.value,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return n}entries(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:[i.key,i.value],done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return n}[(R2=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;const i=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(i.previous=n,n.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;const i=e.next,n=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=n,n.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class Yd extends yq{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}class kq{constructor(e){if(this._m1=new Map,this._m2=new Map,e)for(const[t,i]of e)this.set(t,i)}clear(){this._m1.clear(),this._m2.clear()}set(e,t){this._m1.set(e,t),this._m2.set(t,e)}get(e){return this._m1.get(e)}getKey(e){return this._m2.get(e)}delete(e){const t=this._m1.get(e);return t===void 0?!1:(this._m1.delete(e),this._m2.delete(t),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class BA{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}get(e){const t=this.map.get(e);return t||new Set}}class HC{constructor(e,t,i){this.lines=e,this.considerWhitespaceChanges=i,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let n=!1;t.start>0&&t.endExclusive>=e.length&&(t=new Je(t.start-1,t.endExclusive),n=!0),this.lineRange=t,this.firstCharOffsetByLine[0]=0;for(let o=this.lineRange.start;o<this.lineRange.endExclusive;o++){let r=e[o],a=0;if(n)a=r.length,r="",n=!1;else if(!i){const l=r.trimStart();a=r.length-l.length,r=l.trimEnd()}this.additionalOffsetByLine.push(a);for(let l=0;l<r.length;l++)this.elements.push(r.charCodeAt(l));o<e.length-1&&(this.elements.push(`
`.charCodeAt(0)),this.firstCharOffsetByLine[o-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new Je(0,this.length))}getText(e){return this.elements.slice(e.start,e.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(e){return this.elements[e]}get length(){return this.elements.length}getBoundaryScore(e){const t=P2(e>0?this.elements[e-1]:-1),i=P2(e<this.elements.length?this.elements[e]:-1);if(t===6&&i===7)return 0;let n=0;return t!==i&&(n+=10,t===0&&i===1&&(n+=1)),n+=M2(t),n+=M2(i),n}translateOffset(e){if(this.lineRange.isEmpty)return new P(this.lineRange.start+1,1);const t=i_(this.firstCharOffsetByLine,i=>i<=e);return new P(this.lineRange.start+t+1,e-this.firstCharOffsetByLine[t]+this.additionalOffsetByLine[t]+1)}translateRange(e){return k.fromPositions(this.translateOffset(e.start),this.translateOffset(e.endExclusive))}findWordContaining(e){if(e<0||e>=this.elements.length||!bL(this.elements[e]))return;let t=e;for(;t>0&&bL(this.elements[t-1]);)t--;let i=e;for(;i<this.elements.length&&bL(this.elements[i]);)i++;return new Je(t,i)}countLinesIn(e){return this.translateOffset(e.endExclusive).lineNumber-this.translateOffset(e.start).lineNumber}isStronglyEqual(e,t){return this.elements[e]===this.elements[t]}extendToFullLines(e){var t,i;const n=(t=t_(this.firstCharOffsetByLine,r=>r<=e.start))!==null&&t!==void 0?t:0,o=(i=aq(this.firstCharOffsetByLine,r=>e.endExclusive<=r))!==null&&i!==void 0?i:this.elements.length;return new Je(n,o)}}function bL(s){return s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57}const Lq={0:0,1:0,2:0,3:10,4:2,5:3,6:10,7:10};function M2(s){return Lq[s]}function P2(s){return s===10?7:s===13?6:dI(s)?5:s>=97&&s<=122?0:s>=65&&s<=90?1:s>=48&&s<=57?2:s===-1?3:4}function xq(s,e,t,i,n,o){let{moves:r,excludedChanges:a}=Dq(s,e,t,o);if(!o.isValid())return[];const l=s.filter(d=>!a.has(d)),c=Iq(l,i,n,e,t,o);return Zx(r,c),r=Tq(r),r=r.filter(d=>d.original.toOffsetRange().slice(e).map(h=>h.trim()).join(`
`).length>=10),r=Eq(s,r),r}function Dq(s,e,t,i){const n=[],o=s.filter(l=>l.modified.isEmpty&&l.original.length>=3).map(l=>new Xf(l.original,e,l)),r=new Set(s.filter(l=>l.original.isEmpty&&l.modified.length>=3).map(l=>new Xf(l.modified,t,l))),a=new Set;for(const l of o){let c=-1,d;for(const u of r){const h=l.computeSimilarity(u);h>c&&(c=h,d=u)}if(c>.9&&d&&(r.delete(d),n.push(new el(l.range,d.range)),a.add(l.source),a.add(d.source)),!i.isValid())return{moves:n,excludedChanges:a}}return{moves:n,excludedChanges:a}}function Iq(s,e,t,i,n,o){const r=[],a=new BA;for(const h of s)for(let g=h.original.startLineNumber;g<h.original.endLineNumberExclusive-2;g++){const m=`${e[g-1]}:${e[g+1-1]}:${e[g+2-1]}`;a.add(m,{range:new it(g,g+3)})}const l=[];s.sort(Es(h=>h.modified.startLineNumber,Ql));for(const h of s){let g=[];for(let m=h.modified.startLineNumber;m<h.modified.endLineNumberExclusive-2;m++){const p=`${t[m-1]}:${t[m+1-1]}:${t[m+2-1]}`,_=new it(m,m+3),b=[];a.forEach(p,({range:v})=>{for(const C of g)if(C.originalLineRange.endLineNumberExclusive+1===v.endLineNumberExclusive&&C.modifiedLineRange.endLineNumberExclusive+1===_.endLineNumberExclusive){C.originalLineRange=new it(C.originalLineRange.startLineNumber,v.endLineNumberExclusive),C.modifiedLineRange=new it(C.modifiedLineRange.startLineNumber,_.endLineNumberExclusive),b.push(C);return}const w={modifiedLineRange:_,originalLineRange:v};l.push(w),b.push(w)}),g=b}if(!o.isValid())return[]}l.sort(z5(Es(h=>h.modifiedLineRange.length,Ql)));const c=new Ia,d=new Ia;for(const h of l){const g=h.modifiedLineRange.startLineNumber-h.originalLineRange.startLineNumber,m=c.subtractFrom(h.modifiedLineRange),p=d.subtractFrom(h.originalLineRange).getWithDelta(g),_=m.getIntersection(p);for(const b of _.ranges){if(b.length<3)continue;const v=b,w=b.delta(-g);r.push(new el(w,v)),c.addRange(v),d.addRange(w)}}r.sort(Es(h=>h.original.startLineNumber,Ql));const u=new Lv(s);for(let h=0;h<r.length;h++){const g=r[h],m=u.findLastMonotonous(x=>x.original.startLineNumber<=g.original.startLineNumber),p=t_(s,x=>x.modified.startLineNumber<=g.modified.startLineNumber),_=Math.max(g.original.startLineNumber-m.original.startLineNumber,g.modified.startLineNumber-p.modified.startLineNumber),b=u.findLastMonotonous(x=>x.original.startLineNumber<g.original.endLineNumberExclusive),v=t_(s,x=>x.modified.startLineNumber<g.modified.endLineNumberExclusive),w=Math.max(b.original.endLineNumberExclusive-g.original.endLineNumberExclusive,v.modified.endLineNumberExclusive-g.modified.endLineNumberExclusive);let C;for(C=0;C<_;C++){const x=g.original.startLineNumber-C-1,L=g.modified.startLineNumber-C-1;if(x>i.length||L>n.length||c.contains(L)||d.contains(x)||!O2(i[x-1],n[L-1],o))break}C>0&&(d.addRange(new it(g.original.startLineNumber-C,g.original.startLineNumber)),c.addRange(new it(g.modified.startLineNumber-C,g.modified.startLineNumber)));let S;for(S=0;S<w;S++){const x=g.original.endLineNumberExclusive+S,L=g.modified.endLineNumberExclusive+S;if(x>i.length||L>n.length||c.contains(L)||d.contains(x)||!O2(i[x-1],n[L-1],o))break}S>0&&(d.addRange(new it(g.original.endLineNumberExclusive,g.original.endLineNumberExclusive+S)),c.addRange(new it(g.modified.endLineNumberExclusive,g.modified.endLineNumberExclusive+S))),(C>0||S>0)&&(r[h]=new el(new it(g.original.startLineNumber-C,g.original.endLineNumberExclusive+S),new it(g.modified.startLineNumber-C,g.modified.endLineNumberExclusive+S)))}return r}function O2(s,e,t){if(s.trim()===e.trim())return!0;if(s.length>300&&e.length>300)return!1;const n=new y3().compute(new HC([s],new Je(0,1),!1),new HC([e],new Je(0,1),!1),t);let o=0;const r=ln.invert(n.diffs,s.length);for(const d of r)d.seq1Range.forEach(u=>{dI(s.charCodeAt(u))||o++});function a(d){let u=0;for(let h=0;h<s.length;h++)dI(d.charCodeAt(h))||u++;return u}const l=a(s.length>e.length?s:e);return o/l>.6&&l>10}function Tq(s){if(s.length===0)return s;s.sort(Es(t=>t.original.startLineNumber,Ql));const e=[s[0]];for(let t=1;t<s.length;t++){const i=e[e.length-1],n=s[t],o=n.original.startLineNumber-i.original.endLineNumberExclusive,r=n.modified.startLineNumber-i.modified.endLineNumberExclusive;if(o>=0&&r>=0&&o+r<=2){e[e.length-1]=i.join(n);continue}e.push(n)}return e}function Eq(s,e){const t=new Lv(s);return e=e.filter(i=>{const n=t.findLastMonotonous(a=>a.original.endLineNumberExclusive<i.original.endLineNumberExclusive)||new el(new it(1,1),new it(1,1)),o=t_(s,a=>a.modified.endLineNumberExclusive<i.modified.endLineNumberExclusive);return n!==o}),e}function uI(s,e,t){let i=t;return i=Nq(s,e,i),i=Aq(s,e,i),i}function Nq(s,e,t){if(t.length===0)return t;const i=[];i.push(t[0]);for(let o=1;o<t.length;o++){const r=i[i.length-1];let a=t[o];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=a.seq1Range.start-r.seq1Range.endExclusive;let c;for(c=1;c<=l&&!(s.getElement(a.seq1Range.start-c)!==s.getElement(a.seq1Range.endExclusive-c)||e.getElement(a.seq2Range.start-c)!==e.getElement(a.seq2Range.endExclusive-c));c++);if(c--,c===l){i[i.length-1]=new ln(new Je(r.seq1Range.start,a.seq1Range.endExclusive-l),new Je(r.seq2Range.start,a.seq2Range.endExclusive-l));continue}a=a.delta(-c)}i.push(a)}const n=[];for(let o=0;o<i.length-1;o++){const r=i[o+1];let a=i[o];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=r.seq1Range.start-a.seq1Range.endExclusive;let c;for(c=0;c<l&&!(!s.isStronglyEqual(a.seq1Range.start+c,a.seq1Range.endExclusive+c)||!e.isStronglyEqual(a.seq2Range.start+c,a.seq2Range.endExclusive+c));c++);if(c===l){i[o+1]=new ln(new Je(a.seq1Range.start+l,r.seq1Range.endExclusive),new Je(a.seq2Range.start+l,r.seq2Range.endExclusive));continue}c>0&&(a=a.delta(c))}n.push(a)}return i.length>0&&n.push(i[i.length-1]),n}function Aq(s,e,t){if(!s.getBoundaryScore||!e.getBoundaryScore)return t;for(let i=0;i<t.length;i++){const n=i>0?t[i-1]:void 0,o=t[i],r=i+1<t.length?t[i+1]:void 0,a=new Je(n?n.seq1Range.start+1:0,r?r.seq1Range.endExclusive-1:s.length),l=new Je(n?n.seq2Range.start+1:0,r?r.seq2Range.endExclusive-1:e.length);o.seq1Range.isEmpty?t[i]=F2(o,s,e,a,l):o.seq2Range.isEmpty&&(t[i]=F2(o.swap(),e,s,l,a).swap())}return t}function F2(s,e,t,i,n){let r=1;for(;s.seq1Range.start-r>=i.start&&s.seq2Range.start-r>=n.start&&t.isStronglyEqual(s.seq2Range.start-r,s.seq2Range.endExclusive-r)&&r<100;)r++;r--;let a=0;for(;s.seq1Range.start+a<i.endExclusive&&s.seq2Range.endExclusive+a<n.endExclusive&&t.isStronglyEqual(s.seq2Range.start+a,s.seq2Range.endExclusive+a)&&a<100;)a++;if(r===0&&a===0)return s;let l=0,c=-1;for(let d=-r;d<=a;d++){const u=s.seq2Range.start+d,h=s.seq2Range.endExclusive+d,g=s.seq1Range.start+d,m=e.getBoundaryScore(g)+t.getBoundaryScore(u)+t.getBoundaryScore(h);m>c&&(c=m,l=d)}return s.delta(l)}function Rq(s,e,t){const i=[];for(const n of t){const o=i[i.length-1];if(!o){i.push(n);continue}n.seq1Range.start-o.seq1Range.endExclusive<=2||n.seq2Range.start-o.seq2Range.endExclusive<=2?i[i.length-1]=new ln(o.seq1Range.join(n.seq1Range),o.seq2Range.join(n.seq2Range)):i.push(n)}return i}function Mq(s,e,t){const i=[];let n;function o(){if(!n)return;const a=n.s1Range.length-n.deleted;n.s2Range.length-n.added,Math.max(n.deleted,n.added)+(n.count-1)>a&&i.push(new ln(n.s1Range,n.s2Range)),n=void 0}for(const a of t){let l=function(g,m){var p,_,b,v;if(!n||!n.s1Range.containsRange(g)||!n.s2Range.containsRange(m))if(n&&!(n.s1Range.endExclusive<g.start&&n.s2Range.endExclusive<m.start)){const S=Je.tryCreate(n.s1Range.endExclusive,g.start),x=Je.tryCreate(n.s2Range.endExclusive,m.start);n.deleted+=(p=S==null?void 0:S.length)!==null&&p!==void 0?p:0,n.added+=(_=x==null?void 0:x.length)!==null&&_!==void 0?_:0,n.s1Range=n.s1Range.join(g),n.s2Range=n.s2Range.join(m)}else o(),n={added:0,deleted:0,count:0,s1Range:g,s2Range:m};const w=g.intersect(a.seq1Range),C=m.intersect(a.seq2Range);n.count++,n.deleted+=(b=w==null?void 0:w.length)!==null&&b!==void 0?b:0,n.added+=(v=C==null?void 0:C.length)!==null&&v!==void 0?v:0};const c=s.findWordContaining(a.seq1Range.start-1),d=e.findWordContaining(a.seq2Range.start-1),u=s.findWordContaining(a.seq1Range.endExclusive),h=e.findWordContaining(a.seq2Range.endExclusive);c&&u&&d&&h&&c.equals(u)&&d.equals(h)?l(c,d):(c&&d&&l(c,d),u&&h&&l(u,h))}return o(),Pq(t,i)}function Pq(s,e){const t=[];for(;s.length>0||e.length>0;){const i=s[0],n=e[0];let o;i&&(!n||i.seq1Range.start<n.seq1Range.start)?o=s.shift():o=e.shift(),t.length>0&&t[t.length-1].seq1Range.endExclusive>=o.seq1Range.start?t[t.length-1]=t[t.length-1].join(o):t.push(o)}return t}function Oq(s,e,t){let i=t;if(i.length===0)return i;let n=0,o;do{o=!1;const r=[i[0]];for(let a=1;a<i.length;a++){let d=function(h,g){const m=new Je(c.seq1Range.endExclusive,l.seq1Range.start);return s.getText(m).replace(/\s/g,"").length<=4&&(h.seq1Range.length+h.seq2Range.length>5||g.seq1Range.length+g.seq2Range.length>5)};const l=i[a],c=r[r.length-1];d(c,l)?(o=!0,r[r.length-1]=r[r.length-1].join(l)):r.push(l)}i=r}while(n++<10&&o);return i}function Fq(s,e,t){let i=t;if(i.length===0)return i;let n=0,o;do{o=!1;const a=[i[0]];for(let l=1;l<i.length;l++){let u=function(g,m){const p=new Je(d.seq1Range.endExclusive,c.seq1Range.start);if(s.countLinesIn(p)>5||p.length>500)return!1;const b=s.getText(p).trim();if(b.length>20||b.split(/\r\n|\r|\n/).length>1)return!1;const v=s.countLinesIn(g.seq1Range),w=g.seq1Range.length,C=e.countLinesIn(g.seq2Range),S=g.seq2Range.length,x=s.countLinesIn(m.seq1Range),L=m.seq1Range.length,I=e.countLinesIn(m.seq2Range),E=m.seq2Range.length,W=2*40+50;function U(F){return Math.min(F,W)}return Math.pow(Math.pow(U(v*40+w),1.5)+Math.pow(U(C*40+S),1.5),1.5)+Math.pow(Math.pow(U(x*40+L),1.5)+Math.pow(U(I*40+E),1.5),1.5)>Math.pow(Math.pow(W,1.5),1.5)*1.3};const c=i[l],d=a[a.length-1];u(d,c)?(o=!0,a[a.length-1]=a[a.length-1].join(c)):a.push(c)}i=a}while(n++<10&&o);const r=[];return qH(i,(a,l,c)=>{let d=l;function u(b){return b.length>0&&b.trim().length<=3&&l.seq1Range.length+l.seq2Range.length>100}const h=s.extendToFullLines(l.seq1Range),g=s.getText(new Je(h.start,l.seq1Range.start));u(g)&&(d=d.deltaStart(-g.length));const m=s.getText(new Je(l.seq1Range.endExclusive,h.endExclusive));u(m)&&(d=d.deltaEnd(m.length));const p=ln.fromOffsetPairs(a?a.getEndExclusives():Pa.zero,c?c.getStarts():Pa.max),_=d.intersect(p);r.push(_)}),r}class B2{constructor(e,t){this.trimmedHash=e,this.lines=t}getElement(e){return this.trimmedHash[e]}get length(){return this.trimmedHash.length}getBoundaryScore(e){const t=e===0?0:W2(this.lines[e-1]),i=e===this.lines.length?0:W2(this.lines[e]);return 1e3-(t+i)}getText(e){return this.lines.slice(e.start,e.endExclusive).join(`
`)}isStronglyEqual(e,t){return this.lines[e]===this.lines[t]}}function W2(s){let e=0;for(;e<s.length&&(s.charCodeAt(e)===32||s.charCodeAt(e)===9);)e++;return e}class k3{constructor(){this.dynamicProgrammingDiffing=new _q,this.myersDiffingAlgorithm=new y3}computeDiff(e,t,i){if(e.length<=1&&bi(e,t,(S,x)=>S===x))return new $w([],[],!1);if(e.length===1&&e[0].length===0||t.length===1&&t[0].length===0)return new $w([new Bs(new it(1,e.length+1),new it(1,t.length+1),[new Id(new k(1,1,e.length,e[0].length+1),new k(1,1,t.length,t[0].length+1))])],[],!1);const n=i.maxComputationTimeMs===0?o_.instance:new bq(i.maxComputationTimeMs),o=!i.ignoreTrimWhitespace,r=new Map;function a(S){let x=r.get(S);return x===void 0&&(x=r.size,r.set(S,x)),x}const l=e.map(S=>a(S.trim())),c=t.map(S=>a(S.trim())),d=new B2(l,e),u=new B2(c,t),h=(()=>d.length+u.length<1700?this.dynamicProgrammingDiffing.compute(d,u,n,(S,x)=>e[S]===t[x]?t[x].length===0?.1:1+Math.log(1+t[x].length):.99):this.myersDiffingAlgorithm.compute(d,u))();let g=h.diffs,m=h.hitTimeout;g=uI(d,u,g),g=Oq(d,u,g);const p=[],_=S=>{if(o)for(let x=0;x<S;x++){const L=b+x,I=v+x;if(e[L]!==t[I]){const E=this.refineDiff(e,t,new ln(new Je(L,L+1),new Je(I,I+1)),n,o);for(const W of E.mappings)p.push(W);E.hitTimeout&&(m=!0)}}};let b=0,v=0;for(const S of g){Qb(()=>S.seq1Range.start-b===S.seq2Range.start-v);const x=S.seq1Range.start-b;_(x),b=S.seq1Range.endExclusive,v=S.seq2Range.endExclusive;const L=this.refineDiff(e,t,S,n,o);L.hitTimeout&&(m=!0);for(const I of L.mappings)p.push(I)}_(e.length-b);const w=V2(p,e,t);let C=[];return i.computeMoves&&(C=this.computeMoves(w,e,t,l,c,n,o)),Qb(()=>{function S(L,I){if(L.lineNumber<1||L.lineNumber>I.length)return!1;const E=I[L.lineNumber-1];return!(L.column<1||L.column>E.length+1)}function x(L,I){return!(L.startLineNumber<1||L.startLineNumber>I.length+1||L.endLineNumberExclusive<1||L.endLineNumberExclusive>I.length+1)}for(const L of w){if(!L.innerChanges)return!1;for(const I of L.innerChanges)if(!(S(I.modifiedRange.getStartPosition(),t)&&S(I.modifiedRange.getEndPosition(),t)&&S(I.originalRange.getStartPosition(),e)&&S(I.originalRange.getEndPosition(),e)))return!1;if(!x(L.modified,t)||!x(L.original,e))return!1}return!0}),new $w(w,C,m)}computeMoves(e,t,i,n,o,r,a){return xq(e,t,i,n,o,r).map(d=>{const u=this.refineDiff(t,i,new ln(d.original.toOffsetRange(),d.modified.toOffsetRange()),r,a),h=V2(u.mappings,t,i,!0);return new w3(d,h)})}refineDiff(e,t,i,n,o){const r=new HC(e,i.seq1Range,o),a=new HC(t,i.seq2Range,o),l=r.length+a.length<500?this.dynamicProgrammingDiffing.compute(r,a,n):this.myersDiffingAlgorithm.compute(r,a,n);let c=l.diffs;return c=uI(r,a,c),c=Mq(r,a,c),c=Rq(r,a,c),c=Fq(r,a,c),{mappings:c.map(u=>new Id(r.translateRange(u.seq1Range),a.translateRange(u.seq2Range))),hitTimeout:l.hitTimeout}}}function V2(s,e,t,i=!1){const n=[];for(const o of F5(s.map(r=>Bq(r,e,t)),(r,a)=>r.original.overlapOrTouch(a.original)||r.modified.overlapOrTouch(a.modified))){const r=o[0],a=o[o.length-1];n.push(new Bs(r.original.join(a.original),r.modified.join(a.modified),o.map(l=>l.innerChanges[0])))}return Qb(()=>!i&&n.length>0&&n[0].original.startLineNumber!==n[0].modified.startLineNumber?!1:AW(n,(o,r)=>r.original.startLineNumber-o.original.endLineNumberExclusive===r.modified.startLineNumber-o.modified.endLineNumberExclusive&&o.original.endLineNumberExclusive<r.original.startLineNumber&&o.modified.endLineNumberExclusive<r.modified.startLineNumber)),n}function Bq(s,e,t){let i=0,n=0;s.modifiedRange.endColumn===1&&s.originalRange.endColumn===1&&s.originalRange.startLineNumber+i<=s.originalRange.endLineNumber&&s.modifiedRange.startLineNumber+i<=s.modifiedRange.endLineNumber&&(n=-1),s.modifiedRange.startColumn-1>=t[s.modifiedRange.startLineNumber-1].length&&s.originalRange.startColumn-1>=e[s.originalRange.startLineNumber-1].length&&s.originalRange.startLineNumber<=s.originalRange.endLineNumber+n&&s.modifiedRange.startLineNumber<=s.modifiedRange.endLineNumber+n&&(i=1);const o=new it(s.originalRange.startLineNumber+i,s.originalRange.endLineNumber+1+n),r=new it(s.modifiedRange.startLineNumber+i,s.modifiedRange.endLineNumber+1+n);return new Bs(o,r,[s])}const H2={getLegacy:()=>new gq,getDefault:()=>new k3};function sd(s,e){const t=Math.pow(10,e);return Math.round(s*t)/t}class rt{constructor(e,t,i,n=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=sd(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class Js{constructor(e,t,i,n){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=sd(Math.max(Math.min(1,t),0),3),this.l=sd(Math.max(Math.min(1,i),0),3),this.a=sd(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=e.a,r=Math.max(t,i,n),a=Math.min(t,i,n);let l=0,c=0;const d=(a+r)/2,u=r-a;if(u>0){switch(c=Math.min(d<=.5?u/(2*d):u/(2-2*d),1),r){case t:l=(i-n)/u+(i<n?6:0);break;case i:l=(n-t)/u+2;break;case n:l=(t-i)/u+4;break}l*=60,l=Math.round(l)}return new Js(l,c,d,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:n,a:o}=e;let r,a,l;if(i===0)r=a=l=n;else{const c=n<.5?n*(1+i):n+i-n*i,d=2*n-c;r=Js._hue2rgb(d,c,t+1/3),a=Js._hue2rgb(d,c,t),l=Js._hue2rgb(d,c,t-1/3)}return new rt(Math.round(r*255),Math.round(a*255),Math.round(l*255),o)}}class Oa{constructor(e,t,i,n){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=sd(Math.max(Math.min(1,t),0),3),this.v=sd(Math.max(Math.min(1,i),0),3),this.a=sd(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(t,i,n),r=Math.min(t,i,n),a=o-r,l=o===0?0:a/o;let c;return a===0?c=0:o===t?c=((i-n)/a%6+6)%6:o===i?c=(n-t)/a+2:c=(t-i)/a+4,new Oa(Math.round(c*60),l,o,e.a)}static toRGBA(e){const{h:t,s:i,v:n,a:o}=e,r=n*i,a=r*(1-Math.abs(t/60%2-1)),l=n-r;let[c,d,u]=[0,0,0];return t<60?(c=r,d=a):t<120?(c=a,d=r):t<180?(d=r,u=a):t<240?(d=a,u=r):t<300?(c=a,u=r):t<=360&&(c=r,u=a),c=Math.round((c+l)*255),d=Math.round((d+l)*255),u=Math.round((u+l)*255),new rt(c,d,u,o)}}class V{static fromHex(e){return V.Format.CSS.parseHex(e)||V.red}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}get hsla(){return this._hsla?this._hsla:Js.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Oa.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof rt)this.rgba=e;else if(e instanceof Js)this._hsla=e,this.rgba=Js.toRGBA(e);else if(e instanceof Oa)this._hsva=e,this.rgba=Oa.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&rt.equals(this.rgba,e.rgba)&&Js.equals(this.hsla,e.hsla)&&Oa.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=V._relativeLuminanceForComponent(this.rgba.r),t=V._relativeLuminanceForComponent(this.rgba.g),i=V._relativeLuminanceForComponent(this.rgba.b),n=.2126*e+.7152*t+.0722*i;return sd(n,4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new V(new Js(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new V(new Js(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:n,a:o}=this.rgba;return new V(new rt(t,i,n,o*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new V(new rt(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;const{r:t,g:i,b:n,a:o}=this.rgba;return new V(new rt(e.rgba.r-o*(e.rgba.r-t),e.rgba.g-o*(e.rgba.g-i),e.rgba.b-o*(e.rgba.b-n),1))}toString(){return this._toString||(this._toString=V.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(o-n)/o,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(n-o)/n,e.darken(i)}}V.white=new V(new rt(255,255,255,1));V.black=new V(new rt(0,0,0,1));V.red=new V(new rt(255,0,0,1));V.blue=new V(new rt(0,0,255,1));V.green=new V(new rt(0,255,0,1));V.cyan=new V(new rt(0,255,255,1));V.lightgrey=new V(new rt(211,211,211,1));V.transparent=new V(new rt(0,0,0,0));(function(s){(function(e){(function(t){function i(g){return g.rgba.a===1?`rgb(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b})`:s.Format.CSS.formatRGBA(g)}t.formatRGB=i;function n(g){return`rgba(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b}, ${+g.rgba.a.toFixed(2)})`}t.formatRGBA=n;function o(g){return g.hsla.a===1?`hsl(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%)`:s.Format.CSS.formatHSLA(g)}t.formatHSL=o;function r(g){return`hsla(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%, ${g.hsla.a.toFixed(2)})`}t.formatHSLA=r;function a(g){const m=g.toString(16);return m.length!==2?"0"+m:m}function l(g){return`#${a(g.rgba.r)}${a(g.rgba.g)}${a(g.rgba.b)}`}t.formatHex=l;function c(g,m=!1){return m&&g.rgba.a===1?s.Format.CSS.formatHex(g):`#${a(g.rgba.r)}${a(g.rgba.g)}${a(g.rgba.b)}${a(Math.round(g.rgba.a*255))}`}t.formatHexA=c;function d(g){return g.isOpaque()?s.Format.CSS.formatHex(g):s.Format.CSS.formatRGBA(g)}t.format=d;function u(g){const m=g.length;if(m===0||g.charCodeAt(0)!==35)return null;if(m===7){const p=16*h(g.charCodeAt(1))+h(g.charCodeAt(2)),_=16*h(g.charCodeAt(3))+h(g.charCodeAt(4)),b=16*h(g.charCodeAt(5))+h(g.charCodeAt(6));return new s(new rt(p,_,b,1))}if(m===9){const p=16*h(g.charCodeAt(1))+h(g.charCodeAt(2)),_=16*h(g.charCodeAt(3))+h(g.charCodeAt(4)),b=16*h(g.charCodeAt(5))+h(g.charCodeAt(6)),v=16*h(g.charCodeAt(7))+h(g.charCodeAt(8));return new s(new rt(p,_,b,v/255))}if(m===4){const p=h(g.charCodeAt(1)),_=h(g.charCodeAt(2)),b=h(g.charCodeAt(3));return new s(new rt(16*p+p,16*_+_,16*b+b))}if(m===5){const p=h(g.charCodeAt(1)),_=h(g.charCodeAt(2)),b=h(g.charCodeAt(3)),v=h(g.charCodeAt(4));return new s(new rt(16*p+p,16*_+_,16*b+b,(16*v+v)/255))}return null}t.parseHex=u;function h(g){switch(g){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(e.CSS||(e.CSS={}))})(s.Format||(s.Format={}))})(V||(V={}));function L3(s){const e=[];for(const t of s){const i=Number(t);(i||i===0&&t.replace(/\s/g,"")!=="")&&e.push(i)}return e}function WA(s,e,t,i){return{red:s/255,blue:t/255,green:e/255,alpha:i}}function up(s,e){const t=e.index,i=e[0].length;if(!t)return;const n=s.positionAt(t);return{startLineNumber:n.lineNumber,startColumn:n.column,endLineNumber:n.lineNumber,endColumn:n.column+i}}function Wq(s,e){if(!s)return;const t=V.Format.CSS.parseHex(e);if(t)return{range:s,color:WA(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function z2(s,e,t){if(!s||e.length!==1)return;const n=e[0].values(),o=L3(n);return{range:s,color:WA(o[0],o[1],o[2],t?o[3]:1)}}function U2(s,e,t){if(!s||e.length!==1)return;const n=e[0].values(),o=L3(n),r=new V(new Js(o[0],o[1]/100,o[2]/100,t?o[3]:1));return{range:s,color:WA(r.rgba.r,r.rgba.g,r.rgba.b,r.rgba.a)}}function hp(s,e){return typeof s=="string"?[...s.matchAll(e)]:s.findMatches(e)}function Vq(s){const e=[],i=hp(s,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(i.length>0)for(const n of i){const o=n.filter(c=>c!==void 0),r=o[1],a=o[2];if(!a)continue;let l;if(r==="rgb"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;l=z2(up(s,n),hp(a,c),!1)}else if(r==="rgba"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=z2(up(s,n),hp(a,c),!0)}else if(r==="hsl"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;l=U2(up(s,n),hp(a,c),!1)}else if(r==="hsla"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=U2(up(s,n),hp(a,c),!0)}else r==="#"&&(l=Wq(up(s,n),r+a));l&&e.push(l)}return e}function Hq(s){return!s||typeof s.getValue!="function"||typeof s.positionAt!="function"?[]:Vq(s)}var Cc=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class zq extends UK{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(e){const t=[];for(let i=0;i<this._lines.length;i++){const n=this._lines[i],o=this.offsetAt(new P(i+1,1)),r=n.matchAll(e);for(const a of r)(a.index||a.index===0)&&(a.index=a.index+o),t.push(a)}return t}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){const i=Ub(e.column,X5(t),this._lines[e.lineNumber-1],0);return i?new k(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let n=0,o="",r=0,a=[];return{*[Symbol.iterator](){for(;;)if(r<a.length){const l=o.substring(a[r].start,a[r].end);r+=1,yield l}else if(n<t.length)o=t[n],a=i(o,e),r=0,n+=1;else break}}}getLineWords(e,t){const i=this._lines[e-1],n=this._wordenize(i,t),o=[];for(const r of n)o.push({word:i.substring(r.start,r.end),startColumn:r.start+1,endColumn:r.end+1});return o}_wordenize(e,t){const i=[];let n;for(t.lastIndex=0;(n=t.exec(e))&&n[0].length!==0;)i.push({start:n.index,end:n.index+n[0].length});return i}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);const t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let r=i+1;r<n;r++)o.push(this._lines[r]);return o.push(this._lines[n].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();const t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!P.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{const o=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>o&&(i=o,n=!0)}return n?{lineNumber:t,column:i}:e}}class rd{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){const e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new zq(De.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeUnicodeHighlights(e,t,i){return Cc(this,void 0,void 0,function*(){const n=this._getModel(e);return n?OA.computeUnicodeHighlights(n,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(e,t,i,n){return Cc(this,void 0,void 0,function*(){const o=this._getModel(e),r=this._getModel(t);return!o||!r?null:rd.computeDiff(o,r,i,n)})}static computeDiff(e,t,i,n){const o=n==="advanced"?H2.getDefault():H2.getLegacy(),r=e.getLinesContent(),a=t.getLinesContent(),l=o.computeDiff(r,a,i),c=l.changes.length>0?!1:this._modelsAreIdentical(e,t);function d(u){return u.map(h=>{var g;return[h.original.startLineNumber,h.original.endLineNumberExclusive,h.modified.startLineNumber,h.modified.endLineNumberExclusive,(g=h.innerChanges)===null||g===void 0?void 0:g.map(m=>[m.originalRange.startLineNumber,m.originalRange.startColumn,m.originalRange.endLineNumber,m.originalRange.endColumn,m.modifiedRange.startLineNumber,m.modifiedRange.startColumn,m.modifiedRange.endLineNumber,m.modifiedRange.endColumn])]})}return{identical:c,quitEarly:l.hitTimeout,changes:d(l.changes),moves:l.moves.map(u=>[u.lineRangeMapping.original.startLineNumber,u.lineRangeMapping.original.endLineNumberExclusive,u.lineRangeMapping.modified.startLineNumber,u.lineRangeMapping.modified.endLineNumberExclusive,d(u.changes)])}}static _modelsAreIdentical(e,t){const i=e.getLineCount(),n=t.getLineCount();if(i!==n)return!1;for(let o=1;o<=i;o++){const r=e.getLineContent(o),a=t.getLineContent(o);if(r!==a)return!1}return!0}computeMoreMinimalEdits(e,t,i){return Cc(this,void 0,void 0,function*(){const n=this._getModel(e);if(!n)return t;const o=[];let r;t=t.slice(0).sort((l,c)=>{if(l.range&&c.range)return k.compareRangesUsingStarts(l.range,c.range);const d=l.range?0:1,u=c.range?0:1;return d-u});let a=0;for(let l=1;l<t.length;l++)k.getEndPosition(t[a].range).equals(k.getStartPosition(t[l].range))?(t[a].range=k.fromPositions(k.getStartPosition(t[a].range),k.getEndPosition(t[l].range)),t[a].text+=t[l].text):(a++,t[a]=t[l]);t.length=a+1;for(let{range:l,text:c,eol:d}of t){if(typeof d=="number"&&(r=d),k.isEmpty(l)&&!c)continue;const u=n.getValueInRange(l);if(c=c.replace(/\r\n|\n|\r/g,n.eol),u===c)continue;if(Math.max(c.length,u.length)>rd._diffLimit){o.push({range:l,text:c});continue}const h=VK(u,c,i),g=n.offsetAt(k.lift(l).getStartPosition());for(const m of h){const p=n.positionAt(g+m.originalStart),_=n.positionAt(g+m.originalStart+m.originalLength),b={text:c.substr(m.modifiedStart,m.modifiedLength),range:{startLineNumber:p.lineNumber,startColumn:p.column,endLineNumber:_.lineNumber,endColumn:_.column}};n.getValueInRange(b.range)!==b.text&&o.push(b)}}return typeof r=="number"&&o.push({eol:r,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),o})}computeLinks(e){return Cc(this,void 0,void 0,function*(){const t=this._getModel(e);return t?GK(t):null})}computeDefaultDocumentColors(e){return Cc(this,void 0,void 0,function*(){const t=this._getModel(e);return t?Hq(t):null})}textualSuggest(e,t,i,n){return Cc(this,void 0,void 0,function*(){const o=new Wn,r=new RegExp(i,n),a=new Set;e:for(const l of e){const c=this._getModel(l);if(c){for(const d of c.words(r))if(!(d===t||!isNaN(Number(d)))&&(a.add(d),a.size>rd._suggestionsLimit))break e}}return{words:Array.from(a),duration:o.elapsed()}})}computeWordRanges(e,t,i,n){return Cc(this,void 0,void 0,function*(){const o=this._getModel(e);if(!o)return Object.create(null);const r=new RegExp(i,n),a=Object.create(null);for(let l=t.startLineNumber;l<t.endLineNumber;l++){const c=o.getLineWords(l,r);for(const d of c){if(!isNaN(Number(d.word)))continue;let u=a[d.word];u||(u=[],a[d.word]=u),u.push({startLineNumber:l,startColumn:d.startColumn,endLineNumber:l,endColumn:d.endColumn})}}return a})}navigateValueSet(e,t,i,n,o){return Cc(this,void 0,void 0,function*(){const r=this._getModel(e);if(!r)return null;const a=new RegExp(n,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});const l=r.getValueInRange(t),c=r.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!c)return null;const d=r.getValueInRange(c);return aI.INSTANCE.navigateValueSet(t,l,c,d,i)})}loadForeignModule(e,t,i){const r={host:iz(i,(a,l)=>this._host.fhr(a,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(r,t),Promise.resolve(aA(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}}rd._diffLimit=1e5;rd._suggestionsLimit=1e4;typeof importScripts=="function"&&(globalThis.monaco=bW());const VA=et("textResourceConfigurationService"),x3=et("textResourcePropertiesService"),me=et("ILanguageFeaturesService");var Uq=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},gp=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},zC=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const $2=60*1e3,j2=5*60*1e3;function Nu(s,e){const t=s.getModel(e);return!(!t||t.isTooLargeForSyncing())}let hI=class extends H{constructor(e,t,i,n,o){super(),this._modelService=e,this._workerManager=this._register(new jq(this._modelService,n)),this._logService=i,this._register(o.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(r,a)=>Nu(this._modelService,r.uri)?this._workerManager.withWorker().then(l=>l.computeLinks(r.uri)).then(l=>l&&{links:l}):Promise.resolve({links:[]})})),this._register(o.completionProvider.register("*",new $q(this._workerManager,t,this._modelService,n)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return Nu(this._modelService,e)}computedUnicodeHighlights(e,t,i){return this._workerManager.withWorker().then(n=>n.computedUnicodeHighlights(e,t,i))}computeDiff(e,t,i,n){return zC(this,void 0,void 0,function*(){const o=yield this._workerManager.withWorker().then(l=>l.computeDiff(e,t,i,n));if(!o)return null;return{identical:o.identical,quitEarly:o.quitEarly,changes:a(o.changes),moves:o.moves.map(l=>new w3(new el(new it(l[0],l[1]),new it(l[2],l[3])),a(l[4])))};function a(l){return l.map(c=>{var d;return new Bs(new it(c[0],c[1]),new it(c[2],c[3]),(d=c[4])===null||d===void 0?void 0:d.map(u=>new Id(new k(u[0],u[1],u[2],u[3]),new k(u[4],u[5],u[6],u[7]))))})}})}computeMoreMinimalEdits(e,t,i=!1){if(Bn(t)){if(!Nu(this._modelService,e))return Promise.resolve(t);const n=Wn.create(),o=this._workerManager.withWorker().then(r=>r.computeMoreMinimalEdits(e,t,i));return o.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),n.elapsed())),Promise.race([o,Ld(1e3).then(()=>t)])}else return Promise.resolve(void 0)}canNavigateValueSet(e){return Nu(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(n=>n.navigateValueSet(e,t,i))}canComputeWordRanges(e){return Nu(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};hI=Uq([gp(0,Qt),gp(1,VA),gp(2,ps),gp(3,Mt),gp(4,me)],hI);class $q{constructor(e,t,i,n){this.languageConfigurationService=n,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return zC(this,void 0,void 0,function*(){const i=this._configurationService.getValue(e.uri,t,"editor");if(!i.wordBasedSuggestions)return;const n=[];if(i.wordBasedSuggestionsMode==="currentDocument")Nu(this._modelService,e.uri)&&n.push(e.uri);else for(const u of this._modelService.getModels())Nu(this._modelService,u.uri)&&(u===e?n.unshift(u.uri):(i.wordBasedSuggestionsMode==="allDocuments"||u.getLanguageId()===e.getLanguageId())&&n.push(u.uri));if(n.length===0)return;const o=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),r=e.getWordAtPosition(t),a=r?new k(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn):k.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),d=yield(yield this._workerManager.withWorker()).textualSuggest(n,r==null?void 0:r.word,o);if(d)return{duration:d.duration,suggestions:d.words.map(u=>({kind:18,label:u,insertText:u,range:{insert:l,replace:a}}))}})}}class jq extends H{constructor(e,t){super(),this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new kv).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(j2/2)),this._register(this._modelService.onModelRemoved(n=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>j2&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new HA(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class Kq extends H{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){const n=new kv;n.cancelAndSet(()=>this._checkStopModelSync(),Math.round($2/2)),this._register(n)}}dispose(){for(const e in this._syncedModels)St(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const i of e){const n=i.toString();this._syncedModels[n]||this._beginModelSync(i,t),this._syncedModels[n]&&(this._syncedModelsLastUsedTime[n]=new Date().getTime())}}_checkStopModelSync(){const e=new Date().getTime(),t=[];for(const i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>$2&&t.push(i);for(const i of t)this._stopModelSync(i)}_beginModelSync(e,t){const i=this._modelService.getModel(e);if(!i||!t&&i.isTooLargeForSyncing())return;const n=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const o=new Y;o.add(i.onDidChangeContent(r=>{this._proxy.acceptModelChanged(n.toString(),r)})),o.add(i.onWillDispose(()=>{this._stopModelSync(n)})),o.add(Re(()=>{this._proxy.acceptRemovedModel(n)})),this._syncedModels[n]=o}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],St(t)}}class K2{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class _L{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class HA extends H{constructor(e,t,i,n){super(),this.languageConfigurationService=n,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new HS(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Zj(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new _L(this)))}catch(e){nI(e),this._worker=new K2(new rd(new _L(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(nI(e),this._worker=new K2(new rd(new _L(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new Kq(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return zC(this,void 0,void 0,function*(){return this._disposed?Promise.reject(rU()):this._getProxy().then(i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i))})}computedUnicodeHighlights(e,t,i){return this._withSyncedResources([e]).then(n=>n.computeUnicodeHighlights(e.toString(),t,i))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t],!0).then(o=>o.computeDiff(e.toString(),t.toString(),i,n))}computeMoreMinimalEdits(e,t,i){return this._withSyncedResources([e]).then(n=>n.computeMoreMinimalEdits(e.toString(),t,i))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}computeDefaultDocumentColors(e){return this._withSyncedResources([e]).then(t=>t.computeDefaultDocumentColors(e.toString()))}textualSuggest(e,t,i){return zC(this,void 0,void 0,function*(){const n=yield this._withSyncedResources(e),o=i.source,r=i.flags;return n.textualSuggest(e.map(a=>a.toString()),t,o,r)})}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{const n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);const o=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId()).getWordDefinition(),r=o.source,a=o.flags;return i.computeWordRanges(e.toString(),t,r,a)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(n=>{const o=this._modelService.getModel(e);if(!o)return null;const r=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),a=r.source,l=r.flags;return n.navigateValueSet(e.toString(),t,i,a,l)})}dispose(){super.dispose(),this._disposed=!0}}function qq(s,e,t){return new Gq(s,e,t)}class Gq extends HA{constructor(e,t,i){super(e,i.keepIdleModels||!1,i.label,t),this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||typeof this._foreignModuleHost[e]!="function")return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?aA(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(i=>{this._foreignModuleCreateData=null;const n=(a,l)=>e.fmr(a,l),o=(a,l)=>function(){const c=Array.prototype.slice.call(arguments,0);return l(a,c)},r={};for(const a of i)r[a]=o(a,n);return r})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(t=>this.getProxy())}}const xv={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},Jf=new class{clone(){return this}equals(s){return this===s}};function zA(s,e){return new _A([new $b(0,"",s)],e)}function ZS(s,e){const t=new Uint32Array(2);return t[0]=0,t[1]=(s<<0|0|0|32768|2<<24)>>>0,new LS(t,e===null?Jf:e)}class Ln{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static getClassNameFromMetadata(e){let i="mtk"+this.getForeground(e);const n=this.getFontStyle(e);return n&1&&(i+=" mtki"),n&2&&(i+=" mtkb"),n&4&&(i+=" mtku"),n&8&&(i+=" mtks"),i}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),n=this.getFontStyle(e);let o=`color: ${t[i]};`;n&1&&(o+="font-style: italic;"),n&2&&(o+="font-weight: bold;");let r="";return n&4&&(r+=" underline"),n&8&&(r+=" line-through"),r&&(o+=`text-decoration:${r};`),o}static getPresentationFromMetadata(e){const t=this.getForeground(e),i=this.getFontStyle(e);return{foreground:t,italic:!!(i&1),bold:!!(i&2),underline:!!(i&4),strikethrough:!!(i&8)}}}class ji{static createEmpty(e,t){const i=ji.defaultTokenMetadata,n=new Uint32Array(2);return n[0]=e.length,n[1]=i,new ji(n,e,t)}constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=i}equals(e){return e instanceof ji?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const n=t<<1,o=n+(i<<1);for(let r=n;r<o;r++)if(this._tokens[r]!==e._tokens[r])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const t=this._tokens[(e<<1)+1],i=Ln.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return Ln.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return Ln.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return Ln.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[(e<<1)+1];return Ln.getInlineStyleFromMetadata(i,t)}getPresentation(e){const t=this._tokens[(e<<1)+1];return Ln.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return ji.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new UA(this,e,t,i)}static convertToEndOffset(e,t){const n=(e.length>>>1)-1;for(let o=0;o<n;o++)e[o<<1]=e[o+1<<1];e[n<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,n=(e.length>>>1)-1;for(;i<n;){const o=i+Math.floor((n-i)/2),r=e[o<<1];if(r===t)return o+1;r<t?i=o+1:r>t&&(n=o)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,n="";const o=new Array;let r=0;for(;;){const a=t<this._tokensCount?this._tokens[t<<1]:-1,l=i<e.length?e[i]:null;if(a!==-1&&(l===null||a<=l.offset)){n+=this._text.substring(r,a);const c=this._tokens[(t<<1)+1];o.push(n.length,c),t++,r=a}else if(l){if(l.offset>r){n+=this._text.substring(r,l.offset);const c=this._tokens[(t<<1)+1];o.push(n.length,c),r=l.offset}n+=l.text,o.push(n.length,l.tokenMetadata),i++}else break}return new ji(new Uint32Array(o),n,this._languageIdCodec)}}ji.defaultTokenMetadata=(32768|2<<24)>>>0;class UA{constructor(e,t,i,n){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let o=this._firstTokenIndex,r=e.getCount();o<r&&!(e.getStartOffset(o)>=i);o++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof UA?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class Oo{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length,n=t.length;if(i!==n)return!1;for(let o=0;o<i;o++)if(!Oo._equals(e[o],t[o]))return!1;return!0}static extractWrapped(e,t,i){if(e.length===0)return e;const n=t+1,o=i+1,r=i-t,a=[];let l=0;for(const c of e)c.endColumn<=n||c.startColumn>=o||(a[l++]=new Oo(Math.max(1,c.startColumn-n+1),Math.min(r+1,c.endColumn-n+1),c.className,c.type));return a}static filter(e,t,i,n){if(e.length===0)return[];const o=[];let r=0;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.range;if(d.endLineNumber<t||d.startLineNumber>t||d.isEmpty()&&(c.type===0||c.type===3))continue;const u=d.startLineNumber===t?d.startColumn:i,h=d.endLineNumber===t?d.endColumn:n;o[r++]=new Oo(u,h,c.inlineClassName,c.type)}return o}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=Oo._typeCompare(e.type,t.type);return i!==0?i:e.className!==t.className?e.className<t.className?-1:1:0}}class q2{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}}class UC{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let n=0;for(;n+1<this.count&&this.stopOffsets[n]===this.stopOffsets[n+1];)n++;i.push(new q2(t,this.stopOffsets[n],this.classNames.join(" "),UC._metadata(this.metadata))),t=this.stopOffsets[n]+1,this.stopOffsets.splice(0,n+1),this.classNames.splice(0,n+1),this.metadata.splice(0,n+1),this.count-=n+1}return this.count>0&&t<e&&(i.push(new q2(t,e-1,this.classNames.join(" "),UC._metadata(this.metadata))),t=e),t}insert(e,t,i){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}}class Zq{static normalize(e,t){if(t.length===0)return[];const i=[],n=new UC;let o=0;for(let r=0,a=t.length;r<a;r++){const l=t[r];let c=l.startColumn,d=l.endColumn;const u=l.className,h=l.type===1?2:l.type===2?4:0;if(c>1){const p=e.charCodeAt(c-2);$i(p)&&c--}if(d>1){const p=e.charCodeAt(d-2);$i(p)&&d--}const g=c-1,m=d-2;o=n.consumeLowerThan(g,o,i),n.count===0&&(o=g),n.insert(m,u,h)}return n.consumeLowerThan(1073741824,o,i),i}}class Ji{constructor(e,t,i,n){this.endIndex=e,this.type=t,this.metadata=i,this.containsRTL=n,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class D3{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class Xd{constructor(e,t,i,n,o,r,a,l,c,d,u,h,g,m,p,_,b,v,w){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=o,this.containsRTL=r,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=c.sort(Oo.compare),this.tabSize=d,this.startVisibleColumn=u,this.spaceWidth=h,this.stopRenderingLineAfter=p,this.renderWhitespace=_==="all"?4:_==="boundary"?1:_==="selection"?2:_==="trailing"?3:0,this.renderControlCharacters=b,this.fontLigatures=v,this.selectionsOnLine=w&&w.sort((x,L)=>x.startOffset<L.startOffset?-1:1);const C=Math.abs(m-h),S=Math.abs(g-h);C<S?(this.renderSpaceWidth=m,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=g,this.renderSpaceCharCode=183)}sameSelection(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&Oo.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class I3{constructor(e,t){this.partIndex=e,this.charIndex=t}}class ka{static getPartIndex(e){return(e&4294901760)>>>16}static getCharIndex(e){return(e&65535)>>>0}constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(e,t,i,n){const o=(t<<16|i<<0)>>>0;this._data[e-1]=o,this._horizontalOffset[e-1]=n}getHorizontalOffset(e){return this._horizontalOffset.length===0?0:this._horizontalOffset[e-1]}charOffsetToPartData(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=ka.getPartIndex(t),n=ka.getCharIndex(t);return new I3(i,n)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(this.length===0)return 0;const n=(e<<16|i<<0)>>>0;let o=0,r=this.length-1;for(;o+1<r;){const p=o+r>>>1,_=this._data[p];if(_===n)return p;_>n?r=p:o=p}if(o===r)return o;const a=this._data[o],l=this._data[r];if(a===n)return o;if(l===n)return r;const c=ka.getPartIndex(a),d=ka.getCharIndex(a),u=ka.getPartIndex(l);let h;c!==u?h=t:h=ka.getCharIndex(l);const g=i-d,m=h-i;return g<=m?o:r}}class gI{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function Dv(s,e){if(s.lineContent.length===0){if(s.lineDecorations.length>0){e.appendString("<span>");let t=0,i=0,n=0;for(const r of s.lineDecorations)(r.type===1||r.type===2)&&(e.appendString('<span class="'),e.appendString(r.className),e.appendString('"></span>'),r.type===1&&(n|=1,t++),r.type===2&&(n|=2,i++));e.appendString("</span>");const o=new ka(1,t+i);return o.setColumnInfo(1,t,0,0),new gI(o,!1,n)}return e.appendString("<span><span></span></span>"),new gI(new ka(0,0),!1,0)}return oG(Xq(s),e)}class Qq{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}}function QS(s){const e=new Bm(1e4),t=Dv(s,e);return new Qq(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}class Yq{constructor(e,t,i,n,o,r,a,l,c,d,u,h,g,m,p,_){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=o,this.overflowingCharCount=r,this.parts=a,this.containsForeignElements=l,this.fauxIndentLength=c,this.tabSize=d,this.startVisibleColumn=u,this.containsRTL=h,this.spaceWidth=g,this.renderSpaceCharCode=m,this.renderWhitespace=p,this.renderControlCharacters=_}}function Xq(s){const e=s.lineContent;let t,i,n;s.stopRenderingLineAfter!==-1&&s.stopRenderingLineAfter<e.length?(t=!0,i=e.length-s.stopRenderingLineAfter,n=s.stopRenderingLineAfter):(t=!1,i=0,n=e.length);let o=Jq(e,s.containsRTL,s.lineTokens,s.fauxIndentLength,n);s.renderControlCharacters&&!s.isBasicASCII&&(o=tG(e,o)),(s.renderWhitespace===4||s.renderWhitespace===1||s.renderWhitespace===2&&s.selectionsOnLine||s.renderWhitespace===3&&!s.continuesWithWrappedLine)&&(o=iG(s,e,n,o));let r=0;if(s.lineDecorations.length>0){for(let a=0,l=s.lineDecorations.length;a<l;a++){const c=s.lineDecorations[a];c.type===3||c.type===1?r|=1:c.type===2&&(r|=2)}o=nG(e,n,o,s.lineDecorations)}return s.containsRTL||(o=eG(e,o,!s.isBasicASCII||s.fontLigatures)),new Yq(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,e,n,t,i,o,r,s.fauxIndentLength,s.tabSize,s.startVisibleColumn,s.containsRTL,s.spaceWidth,s.renderSpaceCharCode,s.renderWhitespace,s.renderControlCharacters)}function Jq(s,e,t,i,n){const o=[];let r=0;i>0&&(o[r++]=new Ji(i,"",0,!1));let a=i;for(let l=0,c=t.getCount();l<c;l++){const d=t.getEndOffset(l);if(d<=i)continue;const u=t.getClassName(l);if(d>=n){const g=e?Kf(s.substring(a,n)):!1;o[r++]=new Ji(n,u,0,g);break}const h=e?Kf(s.substring(a,d)):!1;o[r++]=new Ji(d,u,0,h),a=d}return o}function eG(s,e,t){let i=0;const n=[];let o=0;if(t)for(let r=0,a=e.length;r<a;r++){const l=e[r],c=l.endIndex;if(i+50<c){const d=l.type,u=l.metadata,h=l.containsRTL;let g=-1,m=i;for(let p=i;p<c;p++)s.charCodeAt(p)===32&&(g=p),g!==-1&&p-m>=50&&(n[o++]=new Ji(g+1,d,u,h),m=g+1,g=-1);m!==c&&(n[o++]=new Ji(c,d,u,h))}else n[o++]=l;i=c}else for(let r=0,a=e.length;r<a;r++){const l=e[r],c=l.endIndex,d=c-i;if(d>50){const u=l.type,h=l.metadata,g=l.containsRTL,m=Math.ceil(d/50);for(let p=1;p<m;p++){const _=i+p*50;n[o++]=new Ji(_,u,h,g)}n[o++]=new Ji(c,u,h,g)}else n[o++]=l;i=c}return n}function T3(s){return s<32?s!==9:s===127||s>=8234&&s<=8238||s>=8294&&s<=8297||s>=8206&&s<=8207||s===1564}function tG(s,e){const t=[];let i=new Ji(0,"",0,!1),n=0;for(const o of e){const r=o.endIndex;for(;n<r;n++){const a=s.charCodeAt(n);T3(a)&&(n>i.endIndex&&(i=new Ji(n,o.type,o.metadata,o.containsRTL),t.push(i)),i=new Ji(n+1,"mtkcontrol",o.metadata,!1),t.push(i))}n>i.endIndex&&(i=new Ji(r,o.type,o.metadata,o.containsRTL),t.push(i))}return t}function iG(s,e,t,i){const n=s.continuesWithWrappedLine,o=s.fauxIndentLength,r=s.tabSize,a=s.startVisibleColumn,l=s.useMonospaceOptimizations,c=s.selectionsOnLine,d=s.renderWhitespace===1,u=s.renderWhitespace===3,h=s.renderSpaceWidth!==s.spaceWidth,g=[];let m=0,p=0,_=i[p].type,b=i[p].containsRTL,v=i[p].endIndex;const w=i.length;let C=!1,S=Zn(e),x;S===-1?(C=!0,S=t,x=t):x=Gr(e);let L=!1,I=0,E=c&&c[I],W=a%r;for(let F=o;F<t;F++){const O=e.charCodeAt(F);E&&F>=E.endOffset&&(I++,E=c&&c[I]);let G;if(F<S||F>x)G=!0;else if(O===9)G=!0;else if(O===32)if(d)if(L)G=!0;else{const X=F+1<t?e.charCodeAt(F+1):0;G=X===32||X===9}else G=!0;else G=!1;if(G&&c&&(G=!!E&&E.startOffset<=F&&E.endOffset>F),G&&u&&(G=C||F>x),G&&b&&F>=S&&F<=x&&(G=!1),L){if(!G||!l&&W>=r){if(h){const X=m>0?g[m-1].endIndex:o;for(let fe=X+1;fe<=F;fe++)g[m++]=new Ji(fe,"mtkw",1,!1)}else g[m++]=new Ji(F,"mtkw",1,!1);W=W%r}}else(F===v||G&&F>o)&&(g[m++]=new Ji(F,_,0,b),W=W%r);for(O===9?W=r:yd(O)?W+=2:W++,L=G;F===v&&(p++,p<w);)_=i[p].type,b=i[p].containsRTL,v=i[p].endIndex}let U=!1;if(L)if(n&&d){const F=t>0?e.charCodeAt(t-1):0,O=t>1?e.charCodeAt(t-2):0;F===32&&O!==32&&O!==9||(U=!0)}else U=!0;if(U)if(h){const F=m>0?g[m-1].endIndex:o;for(let O=F+1;O<=t;O++)g[m++]=new Ji(O,"mtkw",1,!1)}else g[m++]=new Ji(t,"mtkw",1,!1);else g[m++]=new Ji(t,_,0,b);return g}function nG(s,e,t,i){i.sort(Oo.compare);const n=Zq.normalize(s,i),o=n.length;let r=0;const a=[];let l=0,c=0;for(let u=0,h=t.length;u<h;u++){const g=t[u],m=g.endIndex,p=g.type,_=g.metadata,b=g.containsRTL;for(;r<o&&n[r].startOffset<m;){const v=n[r];if(v.startOffset>c&&(c=v.startOffset,a[l++]=new Ji(c,p,_,b)),v.endOffset+1<=m)c=v.endOffset+1,a[l++]=new Ji(c,p+" "+v.className,_|v.metadata,b),r++;else{c=m,a[l++]=new Ji(c,p+" "+v.className,_|v.metadata,b);break}}m>c&&(c=m,a[l++]=new Ji(c,p,_,b))}const d=t[t.length-1].endIndex;if(r<o&&n[r].startOffset===d)for(;r<o&&n[r].startOffset===d;){const u=n[r];a[l++]=new Ji(c,u.className,u.metadata,!1),r++}return a}function oG(s,e){const t=s.fontIsMonospace,i=s.canUseHalfwidthRightwardsArrow,n=s.containsForeignElements,o=s.lineContent,r=s.len,a=s.isOverflowing,l=s.overflowingCharCount,c=s.parts,d=s.fauxIndentLength,u=s.tabSize,h=s.startVisibleColumn,g=s.containsRTL,m=s.spaceWidth,p=s.renderSpaceCharCode,_=s.renderWhitespace,b=s.renderControlCharacters,v=new ka(r+1,c.length);let w=!1,C=0,S=h,x=0,L=0,I=0;g?e.appendString('<span dir="ltr">'):e.appendString("<span>");for(let E=0,W=c.length;E<W;E++){const U=c[E],F=U.endIndex,O=U.type,G=U.containsRTL,X=_!==0&&U.isWhitespace(),fe=X&&!t&&(O==="mtkw"||!n),be=C===F&&U.isPseudoAfter();if(x=0,e.appendString("<span "),G&&e.appendString('style="unicode-bidi:isolate" '),e.appendString('class="'),e.appendString(fe?"mtkz":O),e.appendASCIICharCode(34),X){let Le=0;{let pe=C,Fe=S;for(;pe<F;pe++){const ke=(o.charCodeAt(pe)===9?u-Fe%u:1)|0;Le+=ke,pe>=d&&(Fe+=ke)}}for(fe&&(e.appendString(' style="width:'),e.appendString(String(m*Le)),e.appendString('px"')),e.appendASCIICharCode(62);C<F;C++){v.setColumnInfo(C+1,E-I,x,L),I=0;const pe=o.charCodeAt(C);let Fe,Oe;if(pe===9){Fe=u-S%u|0,Oe=Fe,!i||Oe>1?e.appendCharCode(8594):e.appendCharCode(65515);for(let ke=2;ke<=Oe;ke++)e.appendCharCode(160)}else Fe=2,Oe=1,e.appendCharCode(p),e.appendCharCode(8204);x+=Fe,L+=Oe,C>=d&&(S+=Oe)}}else for(e.appendASCIICharCode(62);C<F;C++){v.setColumnInfo(C+1,E-I,x,L),I=0;const Le=o.charCodeAt(C);let pe=1,Fe=1;switch(Le){case 9:pe=u-S%u,Fe=pe;for(let Oe=1;Oe<=pe;Oe++)e.appendCharCode(160);break;case 32:e.appendCharCode(160);break;case 60:e.appendString("&lt;");break;case 62:e.appendString("&gt;");break;case 38:e.appendString("&amp;");break;case 0:b?e.appendCharCode(9216):e.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.appendCharCode(65533);break;default:yd(Le)&&Fe++,b&&Le<32?e.appendCharCode(9216+Le):b&&Le===127?e.appendCharCode(9249):b&&T3(Le)?(e.appendString("[U+"),e.appendString(sG(Le)),e.appendString("]"),pe=8,Fe=pe):e.appendCharCode(Le)}x+=pe,L+=Fe,C>=d&&(S+=Fe)}be?I++:I=0,C>=r&&!w&&U.isPseudoAfter()&&(w=!0,v.setColumnInfo(C+1,E,x,L)),e.appendString("</span>")}return w||v.setColumnInfo(r+1,c.length-1,x,L),a&&(e.appendString('<span class="mtkoverflow">'),e.appendString(f("vs/editor/common/viewLayout/viewLineRenderer","showMore","Show more ({0})",rG(l))),e.appendString("</span>")),e.appendString("</span>"),new gI(v,g,n)}function sG(s){return s.toString(16).toUpperCase().padStart(4,"0")}function rG(s){return s<1024?f("vs/editor/common/viewLayout/viewLineRenderer","overflow.chars","{0} chars",s):s<1024*1024?`${(s/1024).toFixed(1)} KB`:`${(s/1024/1024).toFixed(1)} MB`}class G2{constructor(e,t,i,n){this._viewportBrand=void 0,this.top=e|0,this.left=t|0,this.width=i|0,this.height=n|0}}class aG{constructor(e,t){this.tabSize=e,this.data=t}}class $A{constructor(e,t,i,n,o,r,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=o,this.tokens=r,this.inlineDecorations=a}}class us{constructor(e,t,i,n,o,r,a,l,c,d){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=us.isBasicASCII(i,r),this.containsRTL=us.containsRTL(i,this.isBasicASCII,o),this.tokens=a,this.inlineDecorations=l,this.tabSize=c,this.startVisibleColumn=d}static isBasicASCII(e,t){return t?Sv(e):!0}static containsRTL(e,t,i){return!t&&i?Kf(e):!1}}class cb{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class lG{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=n}toInlineDecoration(e){return new cb(new k(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class E3{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class s_{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static compareByRenderingProps(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}static equals(e,t){return e.color===t.color&&e.zIndex===t.zIndex&&bi(e.data,t.data)}static equalsArr(e,t){return bi(e,t,s_.equals)}}function cG(s){return Array.isArray(s)}function dG(s){return!cG(s)}function N3(s){return typeof s=="string"}function Z2(s){return!N3(s)}function Rg(s){return!s}function ad(s,e){return s.ignoreCase&&e?e.toLowerCase():e}function Q2(s){return s.replace(/[&<>'"_]/g,"-")}function uG(s,e){console.log(`${s.languageId}: ${e}`)}function zt(s,e){return new Error(`${s.languageId}: ${e}`)}function Bc(s,e,t,i,n){const o=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let r=null;return e.replace(o,function(a,l,c,d,u,h,g,m,p){return Rg(c)?Rg(d)?!Rg(u)&&u<i.length?ad(s,i[u]):!Rg(g)&&s&&typeof s[g]=="string"?s[g]:(r===null&&(r=n.split("."),r.unshift(n)),!Rg(h)&&h<r.length?ad(s,r[h]):""):ad(s,t):"$"})}function k0(s,e){let t=e;for(;t&&t.length>0;){const i=s.tokenizer[t];if(i)return i;const n=t.lastIndexOf(".");n<0?t=null:t=t.substr(0,n)}return null}function hG(s,e){let t=e;for(;t&&t.length>0;){if(s.stateNames[t])return!0;const n=t.lastIndexOf(".");n<0?t=null:t=t.substr(0,n)}return!1}var gG=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},fG=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},fI;const A3=5;class r_{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new yf(e,t);let i=yf.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new yf(e,t),this._entries[i]=n,n)}}r_._INSTANCE=new r_(A3);class yf{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null}equals(e){return yf._equals(this,e)}push(e){return r_.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return r_.create(this.parent,e)}}class Kg{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new Kg(this.languageId,this.state)}}class Wc{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(t!==null)return new db(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new db(e,t);const i=yf.getStackElementId(e);let n=this._entries[i];return n||(n=new db(e,null),this._entries[i]=n,n)}}Wc._INSTANCE=new Wc(A3);class db{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Wc.create(this.stack,this.embeddedLanguageData)}equals(e){return!(e instanceof db)||!this.stack.equals(e.stack)?!1:this.embeddedLanguageData===null&&e.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||e.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(e.embeddedLanguageData)}}class mG{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new $b(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,n){const o=i.languageId,r=i.state,a=ei.get(o);if(!a)return this.enterLanguage(o),this.emit(n,""),r;const l=a.tokenize(e,t,r);if(n!==0)for(const c of l.tokens)this._tokens.push(new $b(c.offset+n,c.type,c.language));else this._tokens=this._tokens.concat(l.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,l.endState}finalize(e){return new _A(this._tokens,e)}}class $C{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){const i=this._theme.match(this._currentLanguageId,t)|1024;this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){const n=e!==null?e.length:0,o=t.length,r=i!==null?i.length:0;if(n===0&&o===0&&r===0)return new Uint32Array(0);if(n===0&&o===0)return i;if(o===0&&r===0)return e;const a=new Uint32Array(n+o+r);e!==null&&a.set(e);for(let l=0;l<o;l++)a[n+l]=t[l];return i!==null&&a.set(i,n+o),a}nestedLanguageTokenize(e,t,i,n){const o=i.languageId,r=i.state,a=ei.get(o);if(!a)return this.enterLanguage(o),this.emit(n,""),r;const l=a.tokenizeEncoded(e,t,r);if(n!==0)for(let c=0,d=l.tokens.length;c<d;c+=2)l.tokens[c]+=n;return this._prependTokens=$C._merge(this._prependTokens,this._tokens,l.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,l.endState}finalize(e){return new LS($C._merge(this._prependTokens,this._tokens,null),e)}}let a_=fI=class extends H{constructor(e,t,i,n,o){super(),this._configurationService=o,this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=n,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let r=!1;this._register(ei.onDidChange(a=>{if(r)return;let l=!1;for(let c=0,d=a.changedLanguages.length;c<d;c++){const u=a.changedLanguages[c];if(this._embeddedLanguages[u]){l=!0;break}}l&&(r=!0,ei.handleChange([this._languageId]),r=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const e=[];for(const t in this._embeddedLanguages){const i=ei.get(t);if(i){if(i instanceof fI){const n=i.getLoadStatus();n.loaded===!1&&e.push(n.promise)}continue}ei.isResolved(t)||e.push(ei.getOrCreate(t))}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){const e=r_.create(null,this._lexer.start);return Wc.create(e,null)}tokenize(e,t,i){if(e.length>=this._maxTokenizationLineLength)return zA(this._languageId,i);const n=new mG,o=this._tokenize(e,t,i,n);return n.finalize(o)}tokenizeEncoded(e,t,i){if(e.length>=this._maxTokenizationLineLength)return ZS(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),i);const n=new $C(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),o=this._tokenize(e,t,i,n);return n.finalize(o)}_tokenize(e,t,i,n){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,n):this._myTokenize(e,t,i,0,n)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=k0(this._lexer,t.stack.state),!i))throw zt(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,o=!1;for(const r of i){if(!Z2(r.action)||r.action.nextEmbedded!=="@pop")continue;o=!0;let a=r.regex;const l=r.regex.source;if(l.substr(0,4)==="^(?:"&&l.substr(l.length-1,1)===")"){const d=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(l.substr(4,l.length-5),d)}const c=e.search(a);c===-1||c!==0&&r.matchOnlyAtLineStart||(n===-1||c<n)&&(n=c)}if(!o)throw zt(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n,o){const r=this._findLeavingNestedLanguageOffset(e,i);if(r===-1){const c=o.nestedLanguageTokenize(e,t,i.embeddedLanguageData,n);return Wc.create(i.stack,new Kg(i.embeddedLanguageData.languageId,c))}const a=e.substring(0,r);a.length>0&&o.nestedLanguageTokenize(a,!1,i.embeddedLanguageData,n);const l=e.substring(r);return this._myTokenize(l,t,i,n+r,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n,o){o.enterLanguage(this._languageId);const r=e.length,a=t&&this._lexer.includeLF?e+`
`:e,l=a.length;let c=i.embeddedLanguageData,d=i.stack,u=0,h=null,g=!0;for(;g||u<l;){const m=u,p=d.depth,_=h?h.groups.length:0,b=d.state;let v=null,w=null,C=null,S=null,x=null;if(h){v=h.matches;const E=h.groups.shift();w=E.matched,C=E.action,S=h.rule,h.groups.length===0&&(h=null)}else{if(!g&&u>=l)break;g=!1;let E=this._lexer.tokenizer[b];if(!E&&(E=k0(this._lexer,b),!E))throw zt(this._lexer,"tokenizer state is not defined: "+b);const W=a.substr(u);for(const U of E)if((u===0||!U.matchOnlyAtLineStart)&&(v=W.match(U.regex),v)){w=v[0],C=U.action;break}}if(v||(v=[""],w=""),C||(u<l&&(v=[a.charAt(u)],w=v[0]),C=this._lexer.defaultToken),w===null)break;for(u+=w.length;dG(C)&&Z2(C)&&C.test;)C=C.test(w,v,b,u===l);let L=null;if(typeof C=="string"||Array.isArray(C))L=C;else if(C.group)L=C.group;else if(C.token!==null&&C.token!==void 0){if(C.tokenSubst?L=Bc(this._lexer,C.token,w,v,b):L=C.token,C.nextEmbedded)if(C.nextEmbedded==="@pop"){if(!c)throw zt(this._lexer,"cannot pop embedded language if not inside one");c=null}else{if(c)throw zt(this._lexer,"cannot enter embedded language from within an embedded language");x=Bc(this._lexer,C.nextEmbedded,w,v,b)}if(C.goBack&&(u=Math.max(0,u-C.goBack)),C.switchTo&&typeof C.switchTo=="string"){let E=Bc(this._lexer,C.switchTo,w,v,b);if(E[0]==="@"&&(E=E.substr(1)),k0(this._lexer,E))d=d.switchTo(E);else throw zt(this._lexer,"trying to switch to a state '"+E+"' that is undefined in rule: "+this._safeRuleName(S))}else{if(C.transform&&typeof C.transform=="function")throw zt(this._lexer,"action.transform not supported");if(C.next)if(C.next==="@push"){if(d.depth>=this._lexer.maxStack)throw zt(this._lexer,"maximum tokenizer stack size reached: ["+d.state+","+d.parent.state+",...]");d=d.push(b)}else if(C.next==="@pop"){if(d.depth<=1)throw zt(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(S));d=d.pop()}else if(C.next==="@popall")d=d.popall();else{let E=Bc(this._lexer,C.next,w,v,b);if(E[0]==="@"&&(E=E.substr(1)),k0(this._lexer,E))d=d.push(E);else throw zt(this._lexer,"trying to set a next state '"+E+"' that is undefined in rule: "+this._safeRuleName(S))}}C.log&&typeof C.log=="string"&&uG(this._lexer,this._lexer.languageId+": "+Bc(this._lexer,C.log,w,v,b))}if(L===null)throw zt(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(S));const I=E=>{const W=this._languageService.getLanguageIdByLanguageName(E)||this._languageService.getLanguageIdByMimeType(E)||E,U=this._getNestedEmbeddedLanguageData(W);if(u<l){const F=e.substr(u);return this._nestedTokenize(F,t,Wc.create(d,U),n+u,o)}else return Wc.create(d,U)};if(Array.isArray(L)){if(h&&h.groups.length>0)throw zt(this._lexer,"groups cannot be nested: "+this._safeRuleName(S));if(v.length!==L.length+1)throw zt(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(S));let E=0;for(let W=1;W<v.length;W++)E+=v[W].length;if(E!==w.length)throw zt(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(S));h={rule:S,matches:v,groups:[]};for(let W=0;W<L.length;W++)h.groups[W]={action:L[W],matched:v[W+1]};u-=w.length;continue}else{if(L==="@rematch"&&(u-=w.length,w="",v=null,L="",x!==null))return I(x);if(w.length===0){if(l===0||p!==d.depth||b!==d.state||(h?h.groups.length:0)!==_)continue;throw zt(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(S))}let E=null;if(N3(L)&&L.indexOf("@brackets")===0){const W=L.substr(9),U=pG(this._lexer,w);if(!U)throw zt(this._lexer,"@brackets token returned but no bracket defined as: "+w);E=Q2(U.token+W)}else{const W=L===""?"":L+this._lexer.tokenPostfix;E=Q2(W)}m<r&&o.emit(m+n,E)}if(x!==null)return I(x)}return Wc.create(d,c)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new Kg(e,Jf);e!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(e),ei.getOrCreate(e),this._embeddedLanguages[e]=!0);const t=ei.get(e);return t?new Kg(e,t.getInitialState()):new Kg(e,Jf)}};a_=fI=gG([fG(4,ot)],a_);function pG(s,e){if(!e)return null;e=ad(s,e);const t=s.brackets;for(const i of t){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}var bG=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const vL=uc("standaloneColorizer",{createHTML:s=>s});class jA{static colorizeElement(e,t,i,n){n=n||{};const o=n.theme||"vs",r=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),Promise.resolve();const a=t.getLanguageIdByMimeType(r)||r;e.setTheme(o);const l=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+o;const c=d=>{var u;const h=(u=vL==null?void 0:vL.createHTML(d))!==null&&u!==void 0?u:d;i.innerHTML=h};return this.colorize(t,l||"",a,n).then(c,d=>console.error(d))}static colorize(e,t,i,n){return bG(this,void 0,void 0,function*(){const o=e.languageIdCodec;let r=4;n&&typeof n.tabSize=="number"&&(r=n.tabSize),LA(t)&&(t=t.substr(1));const a=Xa(t);if(!e.isRegisteredLanguageId(i))return Y2(a,r,o);const l=yield ei.getOrCreate(i);return l?_G(a,r,l,o):Y2(a,r,o)})}static colorizeLine(e,t,i,n,o=4){const r=us.isBasicASCII(e,t),a=us.containsRTL(e,r,i);return QS(new Xd(!1,!0,e,!1,r,a,0,n,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){const n=e.getLineContent(t);e.tokenization.forceTokenization(t);const r=e.tokenization.getLineTokens(t).inflate();return this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),r,i)}}function _G(s,e,t,i){return new Promise((n,o)=>{const r=()=>{const a=vG(s,e,t,i);if(t instanceof a_){const l=t.getLoadStatus();if(l.loaded===!1){l.promise.then(r,o);return}}n(a)};r()})}function Y2(s,e,t){let i=[];const o=new Uint32Array(2);o[0]=0,o[1]=33587200;for(let r=0,a=s.length;r<a;r++){const l=s[r];o[0]=l.length;const c=new ji(o,l,t),d=us.isBasicASCII(l,!0),u=us.containsRTL(l,d,!0),h=QS(new Xd(!1,!0,l,!1,d,u,0,c,[],e,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(h.html),i.push("<br/>")}return i.join("")}function vG(s,e,t,i){let n=[],o=t.getInitialState();for(let r=0,a=s.length;r<a;r++){const l=s[r],c=t.tokenizeEncoded(l,!0,o);ji.convertToEndOffset(c.tokens,l.length);const d=new ji(c.tokens,l,i),u=us.isBasicASCII(l,!0),h=us.containsRTL(l,u,!0),g=QS(new Xd(!1,!0,l,!1,u,h,0,d.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(g.html),n.push("<br/>"),o=c.endState}return n.join("")}const X2=2e4;let Au,jw,mI,Kw,pI;function wG(s){Au=document.createElement("div"),Au.className="monaco-aria-container";const e=()=>{const i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),Au.appendChild(i),i};jw=e(),mI=e();const t=()=>{const i=document.createElement("div");return i.className="monaco-status",i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),Au.appendChild(i),i};Kw=t(),pI=t(),s.appendChild(Au)}function Fn(s){Au&&(jw.textContent!==s?(fn(mI),jC(jw,s)):(fn(jw),jC(mI,s)))}function Td(s){Au&&(Kw.textContent!==s?(fn(pI),jC(Kw,s)):(fn(Kw),jC(pI,s)))}function jC(s,e){fn(s),e.length>X2&&(e=e.substr(0,X2)),s.textContent=e,s.style.visibility="hidden",s.style.visibility="visible"}const KA=et("markerDecorationsService");var CG=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},SG=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let l_=class{constructor(e,t){}dispose(){}};l_.ID="editor.contrib.markerDecorations";l_=CG([SG(1,KA)],l_);gt(l_.ID,l_,0);class R3 extends H{constructor(e,t){super(),this._onDidChange=this._register(new M),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let e=null;const t=()=>{e?this.observe({width:e.width,height:e.height}):this.observe()};let i=!1,n=!1;const o=()=>{if(i&&!n)try{i=!1,n=!0,t()}finally{requestAnimationFrame(()=>{n=!1,o()})}};this._resizeObserver=new ResizeObserver(r=>{e=r&&r[0]&&r[0].contentRect?r[0].contentRect:null,i=!0,o()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,n=this._referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),(this._width!==i||this._height!==n)&&(this._width=i,this._height=n,e&&this._onDidChange.fire())}}class ld{constructor(e,t){this.key=e,this.migrate=t}apply(e){const t=ld._read(e,this.key),i=o=>ld._read(e,o),n=(o,r)=>ld._write(e,o,r);this.migrate(t,i,n)}static _read(e,t){if(typeof e=="undefined")return;const i=t.indexOf(".");if(i>=0){const n=t.substring(0,i);return this._read(e[n],t.substring(i+1))}return e[t]}static _write(e,t,i){const n=t.indexOf(".");if(n>=0){const o=t.substring(0,n);e[o]=e[o]||{},this._write(e[o],t.substring(n+1),i);return}e[t]=i}}ld.items=[];function Jd(s,e){ld.items.push(new ld(s,e))}function Hs(s,e){Jd(s,(t,i,n)=>{if(typeof t!="undefined"){for(const[o,r]of e)if(t===o){n(s,r);return}}})}function yG(s){ld.items.forEach(e=>e.apply(s))}Hs("wordWrap",[[!0,"on"],[!1,"off"]]);Hs("lineNumbers",[[!0,"on"],[!1,"off"]]);Hs("cursorBlinking",[["visible","solid"]]);Hs("renderWhitespace",[[!0,"boundary"],[!1,"none"]]);Hs("renderLineHighlight",[[!0,"line"],[!1,"none"]]);Hs("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]);Hs("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]);Hs("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);Hs("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);Hs("autoIndent",[[!1,"advanced"],[!0,"full"]]);Hs("matchBrackets",[[!0,"always"],[!1,"never"]]);Hs("renderFinalNewline",[[!0,"on"],[!1,"off"]]);Hs("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]);Jd("autoClosingBrackets",(s,e,t)=>{s===!1&&(t("autoClosingBrackets","never"),typeof e("autoClosingQuotes")=="undefined"&&t("autoClosingQuotes","never"),typeof e("autoSurround")=="undefined"&&t("autoSurround","never"))});Jd("renderIndentGuides",(s,e,t)=>{typeof s!="undefined"&&(t("renderIndentGuides",void 0),typeof e("guides.indentation")=="undefined"&&t("guides.indentation",!!s))});Jd("highlightActiveIndentGuide",(s,e,t)=>{typeof s!="undefined"&&(t("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")=="undefined"&&t("guides.highlightActiveIndentation",!!s))});const kG={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};Jd("suggest.filteredTypes",(s,e,t)=>{if(s&&typeof s=="object"){for(const i of Object.entries(kG))s[i[0]]===!1&&typeof e(`suggest.${i[1]}`)=="undefined"&&t(`suggest.${i[1]}`,!1);t("suggest.filteredTypes",void 0)}});Jd("quickSuggestions",(s,e,t)=>{if(typeof s=="boolean"){const i=s?"on":"off";t("quickSuggestions",{comments:i,strings:i,other:i})}});Jd("experimental.stickyScroll.enabled",(s,e,t)=>{typeof s=="boolean"&&(t("experimental.stickyScroll.enabled",void 0),typeof e("stickyScroll.enabled")=="undefined"&&t("stickyScroll.enabled",s))});Jd("experimental.stickyScroll.maxLineCount",(s,e,t)=>{typeof s=="number"&&(t("experimental.stickyScroll.maxLineCount",void 0),typeof e("stickyScroll.maxLineCount")=="undefined"&&t("stickyScroll.maxLineCount",s))});class LG{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new M,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus)}}const em=new LG,hc=et("accessibilityService"),Iv=new de("accessibilityModeEnabled",!1);var xG=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},DG=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let bI=class extends H{constructor(e,t,i,n){super(),this._accessibilityService=n,this._onDidChange=this._register(new M),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new M),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new tW,this.isSimpleWidget=e,this._containerObserver=this._register(new R3(i,t.dimension)),this._rawOptions=J2(t),this._validatedOptions=Vc.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(ks.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(em.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(qD.onDidChange(()=>this._recomputeOptions())),this._register(Gb.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),t=Vc.checkEquals(this.options,e);t!==null&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){const e=this._readEnvConfiguration(),t=Xu.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),n={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:em.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return Vc.computeOptions(this._validatedOptions,n)}_readEnvConfiguration(){return{extraEditorClassName:TG(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:Yu||Ms,pixelRatio:Gb.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return qD.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){const t=J2(e);Vc.applyUpdate(this._rawOptions,t)&&(this._validatedOptions=Vc.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const t=IG(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(e){this._glyphMarginDecorationLaneCount!==e&&(this._glyphMarginDecorationLaneCount=e,this._recomputeOptions())}};bI=xG([DG(3,hc)],bI);function IG(s){let e=0;for(;s;)s=Math.floor(s/10),e++;return e||1}function TG(){let s="";return!ac&&!DW&&(s+="no-user-select "),ac&&(s+="no-minimap-shadow ",s+="enable-user-select "),at&&(s+="mac "),s}class EG{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class NG{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}}class Vc{static validateOptions(e){const t=new EG;for(const i of Hg){const n=i.name==="_never_"?void 0:e[i.name];t._write(i.id,i.validate(n))}return t}static computeOptions(e,t){const i=new NG;for(const n of Hg)i._write(n.id,n.compute(t,i,e._read(n.id)));return i}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object"||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?bi(e,t):!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!Vc._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let n=!1;for(const o of Hg){const r=!Vc._deepEquals(e._read(o.id),t._read(o.id));i[o.id]=r,r&&(n=!0)}return n?new eW(i):null}static applyUpdate(e,t){let i=!1;for(const n of Hg)if(t.hasOwnProperty(n.name)){const o=n.applyUpdate(e[n.name],t[n.name]);e[n.name]=o.newValue,i=i||o.didChange}return i}}function J2(s){const e=Tl(s);return yG(e),e}function ki(s,e,t){let i=null,n=null;if(typeof t.value=="function"?(i="value",n=t.value,n.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",n=t.get),!n)throw new Error("not supported");const o=`$memoize$${e}`;t[i]=function(...r){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:n.apply(this,r)}),this[o]}}var AG=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},At;(function(s){s.Tap="-monaco-gesturetap",s.Change="-monaco-gesturechange",s.Start="-monaco-gesturestart",s.End="-monaco-gesturesend",s.Contextmenu="-monaco-gesturecontextmenu"})(At||(At={}));class Nt extends H{constructor(){super(),this.dispatched=!1,this.targets=new oo,this.ignoreTargets=new oo,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register($(document,"touchstart",e=>this.onTouchStart(e),{passive:!1})),this._register($(document,"touchend",e=>this.onTouchEnd(e))),this._register($(document,"touchmove",e=>this.onTouchMove(e),{passive:!1}))}static addTarget(e){if(!Nt.isTouchDevice())return H.None;Nt.INSTANCE||(Nt.INSTANCE=new Nt);const t=Nt.INSTANCE.targets.push(e);return Re(t)}static ignoreTarget(e){if(!Nt.isTouchDevice())return H.None;Nt.INSTANCE||(Nt.INSTANCE=new Nt);const t=Nt.INSTANCE.ignoreTargets.push(e);return Re(t)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=e.targetTouches.length;i<n;i++){const o=e.targetTouches.item(i);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:t,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[t],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};const r=this.newGestureEvent(At.Start,o.target);r.pageX=o.pageX,r.pageY=o.pageY,this.dispatchEvent(r)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){const t=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,o=e.changedTouches.length;n<o;n++){const r=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}const a=this.activeTouches[r.identifier],l=Date.now()-a.initialTimeStamp;if(l<Nt.HOLD_DELAY&&Math.abs(a.initialPageX-vs(a.rollingPageX))<30&&Math.abs(a.initialPageY-vs(a.rollingPageY))<30){const c=this.newGestureEvent(At.Tap,a.initialTarget);c.pageX=vs(a.rollingPageX),c.pageY=vs(a.rollingPageY),this.dispatchEvent(c)}else if(l>=Nt.HOLD_DELAY&&Math.abs(a.initialPageX-vs(a.rollingPageX))<30&&Math.abs(a.initialPageY-vs(a.rollingPageY))<30){const c=this.newGestureEvent(At.Contextmenu,a.initialTarget);c.pageX=vs(a.rollingPageX),c.pageY=vs(a.rollingPageY),this.dispatchEvent(c)}else if(i===1){const c=vs(a.rollingPageX),d=vs(a.rollingPageY),u=vs(a.rollingTimestamps)-a.rollingTimestamps[0],h=c-a.rollingPageX[0],g=d-a.rollingPageY[0],m=[...this.targets].filter(p=>a.initialTarget instanceof Node&&p.contains(a.initialTarget));this.inertia(m,t,Math.abs(h)/u,h>0?1:-1,c,Math.abs(g)/u,g>0?1:-1,d)}this.dispatchEvent(this.newGestureEvent(At.End,a.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){const i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===At.Tap){const t=new Date().getTime();let i=0;t-this._lastSetTapCountTime>Nt.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===At.Change||e.type===At.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(const t of this.ignoreTargets)if(t.contains(e.initialTarget))return;for(const t of this.targets)t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)}}inertia(e,t,i,n,o,r,a,l){this.handle=Ps(()=>{const c=Date.now(),d=c-t;let u=0,h=0,g=!0;i+=Nt.SCROLL_FRICTION*d,r+=Nt.SCROLL_FRICTION*d,i>0&&(g=!1,u=n*i*d),r>0&&(g=!1,h=a*r*d);const m=this.newGestureEvent(At.Change);m.translationX=u,m.translationY=h,e.forEach(p=>p.dispatchEvent(m)),g||this.inertia(e,c,i,n,o+u,r,a,l+h)})}onTouchMove(e){const t=Date.now();for(let i=0,n=e.changedTouches.length;i<n;i++){const o=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("end of an UNKNOWN touch",o);continue}const r=this.activeTouches[o.identifier],a=this.newGestureEvent(At.Change,r.initialTarget);a.translationX=o.pageX-vs(r.rollingPageX),a.translationY=o.pageY-vs(r.rollingPageY),a.pageX=o.pageX,a.pageY=o.pageY,this.dispatchEvent(a),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(o.pageX),r.rollingPageY.push(o.pageY),r.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}Nt.SCROLL_FRICTION=-.005;Nt.HOLD_DELAY=700;Nt.CLEAR_TAP_COUNT_TIME=400;AG([ki],Nt,"isTouchDevice",null);class Vm{constructor(){this._hooks=new Y,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,n,o){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=n,this._onStopCallback=o;let r=e;try{e.setPointerCapture(t),this._hooks.add(Re(()=>{try{e.releasePointerCapture(t)}catch(a){}}))}catch(a){r=window}this._hooks.add($(r,ae.POINTER_MOVE,a=>{if(a.buttons!==i){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add($(r,ae.POINTER_UP,a=>this.stopMonitoring(!0)))}}function qA(s){return`--vscode-${s.replace(/\./g,"-")}`}function ue(s){return`var(${qA(s)})`}function RG(s,e){return`var(${qA(s)}, ${e})`}const M3={ColorContribution:"base.contributions.colors"};class MG{constructor(){this._onDidChangeSchema=new M,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,n=!1,o){const r={id:e,description:i,defaults:t,needsTransparency:n,deprecationMessage:o};this.colorsById[e]=r;const a={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(a.deprecationMessage=o),this.colorSchema.properties[e]=a,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults){const n=i.defaults[t.type];return xr(n,t)}}getColorSchema(){return this.colorSchema}toString(){const e=(t,i)=>{const n=t.indexOf(".")===-1?0:1,o=i.indexOf(".")===-1?0:1;return n!==o?n-o:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}}const YS=new MG;Jt.add(M3.ColorContribution,YS);function N(s,e,t,i,n){return YS.registerColor(s,e,t,i,n)}const oe=N("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},f("vs/platform/theme/common/colorRegistry","foreground","Overall foreground color. This color is only used if not overridden by a component."));N("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},f("vs/platform/theme/common/colorRegistry","disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component."));const PG=N("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},f("vs/platform/theme/common/colorRegistry","errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));N("descriptionForeground",{light:"#717171",dark:Ce(oe,.7),hcDark:Ce(oe,.7),hcLight:Ce(oe,.7)},f("vs/platform/theme/common/colorRegistry","descriptionForeground","Foreground color for description text providing additional information, for example for a label."));const jc=N("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},f("vs/platform/theme/common/colorRegistry","iconForeground","The default color for icons in the workbench.")),os=N("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},f("vs/platform/theme/common/colorRegistry","focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),nt=N("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},f("vs/platform/theme/common/colorRegistry","contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Ut=N("contrastActiveBorder",{light:null,dark:null,hcDark:os,hcLight:os},f("vs/platform/theme/common/colorRegistry","activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));N("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor."));N("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:V.black,hcLight:"#292929"},f("vs/platform/theme/common/colorRegistry","textSeparatorForeground","Color for text separators."));const OG=N("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},f("vs/platform/theme/common/colorRegistry","textLinkForeground","Foreground color for links in text."));N("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},f("vs/platform/theme/common/colorRegistry","textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));N("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},f("vs/platform/theme/common/colorRegistry","textPreformatForeground","Foreground color for preformatted text segments."));N("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},f("vs/platform/theme/common/colorRegistry","textBlockQuoteBackground","Background color for block quotes in text."));N("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:V.white,hcLight:"#292929"},f("vs/platform/theme/common/colorRegistry","textBlockQuoteBorder","Border color for block quotes in text."));N("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:V.black,hcLight:"#F2F2F2"},f("vs/platform/theme/common/colorRegistry","textCodeBlockBackground","Background color for code blocks in text."));const Fa=N("widget.shadow",{dark:Ce(V.black,.36),light:Ce(V.black,.16),hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),GA=N("widget.border",{dark:null,light:null,hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","widgetBorder","Border color of widgets such as find/replace inside the editor.")),P3=N("input.background",{dark:"#3C3C3C",light:V.white,hcDark:V.black,hcLight:V.white},f("vs/platform/theme/common/colorRegistry","inputBoxBackground","Input box background.")),O3=N("input.foreground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/platform/theme/common/colorRegistry","inputBoxForeground","Input box foreground.")),F3=N("input.border",{dark:null,light:null,hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","inputBoxBorder","Input box border.")),ZA=N("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","inputBoxActiveOptionBorder","Border color of activated options in input fields."));N("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","inputOption.hoverBackground","Background color of activated options in input fields."));const Uu=N("inputOption.activeBackground",{dark:Ce(os,.4),light:Ce(os,.2),hcDark:V.transparent,hcLight:V.transparent},f("vs/platform/theme/common/colorRegistry","inputOption.activeBackground","Background hover color of options in input fields.")),QA=N("inputOption.activeForeground",{dark:V.white,light:V.black,hcDark:oe,hcLight:oe},f("vs/platform/theme/common/colorRegistry","inputOption.activeForeground","Foreground color of activated options in input fields."));N("input.placeholderForeground",{light:Ce(oe,.5),dark:Ce(oe,.5),hcDark:Ce(oe,.7),hcLight:Ce(oe,.7)},f("vs/platform/theme/common/colorRegistry","inputPlaceholderForeground","Input box foreground color for placeholder text."));const FG=N("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:V.black,hcLight:V.white},f("vs/platform/theme/common/colorRegistry","inputValidationInfoBackground","Input validation background color for information severity.")),BG=N("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:oe},f("vs/platform/theme/common/colorRegistry","inputValidationInfoForeground","Input validation foreground color for information severity.")),WG=N("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","inputValidationInfoBorder","Input validation border color for information severity.")),VG=N("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:V.black,hcLight:V.white},f("vs/platform/theme/common/colorRegistry","inputValidationWarningBackground","Input validation background color for warning severity.")),HG=N("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:oe},f("vs/platform/theme/common/colorRegistry","inputValidationWarningForeground","Input validation foreground color for warning severity.")),zG=N("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","inputValidationWarningBorder","Input validation border color for warning severity.")),UG=N("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:V.black,hcLight:V.white},f("vs/platform/theme/common/colorRegistry","inputValidationErrorBackground","Input validation background color for error severity.")),$G=N("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:oe},f("vs/platform/theme/common/colorRegistry","inputValidationErrorForeground","Input validation foreground color for error severity.")),jG=N("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","inputValidationErrorBorder","Input validation border color for error severity.")),Ba=N("dropdown.background",{dark:"#3C3C3C",light:V.white,hcDark:V.black,hcLight:V.white},f("vs/platform/theme/common/colorRegistry","dropdownBackground","Dropdown background.")),KG=N("dropdown.listBackground",{dark:null,light:null,hcDark:V.black,hcLight:V.white},f("vs/platform/theme/common/colorRegistry","dropdownListBackground","Dropdown list background.")),Ul=N("dropdown.foreground",{dark:"#F0F0F0",light:oe,hcDark:V.white,hcLight:oe},f("vs/platform/theme/common/colorRegistry","dropdownForeground","Dropdown foreground.")),qg=N("dropdown.border",{dark:Ba,light:"#CECECE",hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","dropdownBorder","Dropdown border.")),Wp=N("button.foreground",{dark:V.white,light:V.white,hcDark:V.white,hcLight:V.white},f("vs/platform/theme/common/colorRegistry","buttonForeground","Button foreground color.")),qG=N("button.separator",{dark:Ce(Wp,.4),light:Ce(Wp,.4),hcDark:Ce(Wp,.4),hcLight:Ce(Wp,.4)},f("vs/platform/theme/common/colorRegistry","buttonSeparator","Button separator color.")),Vp=N("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},f("vs/platform/theme/common/colorRegistry","buttonBackground","Button background color.")),GG=N("button.hoverBackground",{dark:Zr(Vp,.2),light:Gh(Vp,.2),hcDark:Vp,hcLight:Vp},f("vs/platform/theme/common/colorRegistry","buttonHoverBackground","Button background color when hovering.")),ZG=N("button.border",{dark:nt,light:nt,hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","buttonBorder","Button border color.")),QG=N("button.secondaryForeground",{dark:V.white,light:V.white,hcDark:V.white,hcLight:oe},f("vs/platform/theme/common/colorRegistry","buttonSecondaryForeground","Secondary button foreground color.")),_I=N("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:V.white},f("vs/platform/theme/common/colorRegistry","buttonSecondaryBackground","Secondary button background color.")),YG=N("button.secondaryHoverBackground",{dark:Zr(_I,.2),light:Gh(_I,.2),hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","buttonSecondaryHoverBackground","Secondary button background color when hovering.")),qw=N("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:V.black,hcLight:"#0F4A85"},f("vs/platform/theme/common/colorRegistry","badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),XG=N("badge.foreground",{dark:V.white,light:"#333",hcDark:V.white,hcLight:V.white},f("vs/platform/theme/common/colorRegistry","badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),JG=N("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Hp=N("scrollbarSlider.background",{dark:V.fromHex("#797979").transparent(.4),light:V.fromHex("#646464").transparent(.4),hcDark:Ce(nt,.6),hcLight:Ce(nt,.4)},f("vs/platform/theme/common/colorRegistry","scrollbarSliderBackground","Scrollbar slider background color.")),zp=N("scrollbarSlider.hoverBackground",{dark:V.fromHex("#646464").transparent(.7),light:V.fromHex("#646464").transparent(.7),hcDark:Ce(nt,.8),hcLight:Ce(nt,.8)},f("vs/platform/theme/common/colorRegistry","scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Up=N("scrollbarSlider.activeBackground",{dark:V.fromHex("#BFBFBF").transparent(.4),light:V.fromHex("#000000").transparent(.6),hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),eZ=N("progressBar.background",{dark:V.fromHex("#0E70C0"),light:V.fromHex("#0E70C0"),hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","progressBarBackground","Background color of the progress bar that can show for long running operations."));N("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const Wa=N("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},f("vs/platform/theme/common/colorRegistry","editorError.foreground","Foreground color of error squigglies in the editor.")),tZ=N("editorError.border",{dark:null,light:null,hcDark:V.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},f("vs/platform/theme/common/colorRegistry","errorBorder","If set, color of double underlines for errors in the editor."));N("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const ss=N("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},f("vs/platform/theme/common/colorRegistry","editorWarning.foreground","Foreground color of warning squigglies in the editor.")),c_=N("editorWarning.border",{dark:null,light:null,hcDark:V.fromHex("#FFCC00").transparent(.8),hcLight:V.fromHex("#FFCC00").transparent(.8)},f("vs/platform/theme/common/colorRegistry","warningBorder","If set, color of double underlines for warnings in the editor."));N("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const Co=N("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},f("vs/platform/theme/common/colorRegistry","editorInfo.foreground","Foreground color of info squigglies in the editor.")),d_=N("editorInfo.border",{dark:null,light:null,hcDark:V.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},f("vs/platform/theme/common/colorRegistry","infoBorder","If set, color of double underlines for infos in the editor.")),iZ=N("editorHint.foreground",{dark:V.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","editorHint.foreground","Foreground color of hint squigglies in the editor."));N("editorHint.border",{dark:null,light:null,hcDark:V.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},f("vs/platform/theme/common/colorRegistry","hintBorder","If set, color of double underlines for hints in the editor."));N("sash.hoverBorder",{dark:os,light:os,hcDark:os,hcLight:os},f("vs/platform/theme/common/colorRegistry","sashActiveBorder","Border color of active sashes."));const Ki=N("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:V.black,hcLight:V.white},f("vs/platform/theme/common/colorRegistry","editorBackground","Editor background color.")),tr=N("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:V.white,hcLight:oe},f("vs/platform/theme/common/colorRegistry","editorForeground","Editor default foreground color."));N("editorStickyScroll.background",{light:Ki,dark:Ki,hcDark:Ki,hcLight:Ki},f("vs/platform/theme/common/colorRegistry","editorStickyScrollBackground","Sticky scroll background color for the editor"));N("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:V.fromHex("#0F4A85").transparent(.1)},f("vs/platform/theme/common/colorRegistry","editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor"));const li=N("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:V.white},f("vs/platform/theme/common/colorRegistry","editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Va=N("editorWidget.foreground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/platform/theme/common/colorRegistry","editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Ha=N("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),nZ=N("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),eO=N("quickInput.background",{dark:li,light:li,hcDark:li,hcLight:li},f("vs/platform/theme/common/colorRegistry","pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),oZ=N("quickInput.foreground",{dark:Va,light:Va,hcDark:Va,hcLight:Va},f("vs/platform/theme/common/colorRegistry","pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),sZ=N("quickInputTitle.background",{dark:new V(new rt(255,255,255,.105)),light:new V(new rt(0,0,0,.06)),hcDark:"#000000",hcLight:V.white},f("vs/platform/theme/common/colorRegistry","pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),B3=N("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:V.white,hcLight:"#0F4A85"},f("vs/platform/theme/common/colorRegistry","pickerGroupForeground","Quick picker color for grouping labels.")),rZ=N("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:V.white,hcLight:"#0F4A85"},f("vs/platform/theme/common/colorRegistry","pickerGroupBorder","Quick picker color for grouping borders.")),aZ=N("keybindingLabel.background",{dark:new V(new rt(128,128,128,.17)),light:new V(new rt(221,221,221,.4)),hcDark:V.transparent,hcLight:V.transparent},f("vs/platform/theme/common/colorRegistry","keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),lZ=N("keybindingLabel.foreground",{dark:V.fromHex("#CCCCCC"),light:V.fromHex("#555555"),hcDark:V.white,hcLight:oe},f("vs/platform/theme/common/colorRegistry","keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),cZ=N("keybindingLabel.border",{dark:new V(new rt(51,51,51,.6)),light:new V(new rt(204,204,204,.4)),hcDark:new V(new rt(111,195,223)),hcLight:nt},f("vs/platform/theme/common/colorRegistry","keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),dZ=N("keybindingLabel.bottomBorder",{dark:new V(new rt(68,68,68,.6)),light:new V(new rt(187,187,187,.4)),hcDark:new V(new rt(111,195,223)),hcLight:oe},f("vs/platform/theme/common/colorRegistry","keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Kc=N("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},f("vs/platform/theme/common/colorRegistry","editorSelectionBackground","Color of the editor selection.")),uZ=N("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:V.white},f("vs/platform/theme/common/colorRegistry","editorSelectionForeground","Color of the selected text for high contrast.")),W3=N("editor.inactiveSelectionBackground",{light:Ce(Kc,.5),dark:Ce(Kc,.5),hcDark:Ce(Kc,.7),hcLight:Ce(Kc,.5)},f("vs/platform/theme/common/colorRegistry","editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),YA=N("editor.selectionHighlightBackground",{light:aO(Kc,Ki,.3,.6),dark:aO(Kc,Ki,.3,.6),hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);N("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Ut,hcLight:Ut},f("vs/platform/theme/common/colorRegistry","editorSelectionHighlightBorder","Border color for regions with the same content as the selection."));const hZ=N("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","editorFindMatch","Color of the current search match.")),za=N("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),gZ=N("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),fZ=N("editor.findMatchBorder",{light:null,dark:null,hcDark:Ut,hcLight:Ut},f("vs/platform/theme/common/colorRegistry","editorFindMatchBorder","Border color of the current search match.")),qc=N("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Ut,hcLight:Ut},f("vs/platform/theme/common/colorRegistry","findMatchHighlightBorder","Border color of the other search matches.")),mZ=N("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:Ce(Ut,.4),hcLight:Ce(Ut,.4)},f("vs/platform/theme/common/colorRegistry","findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);N("searchEditor.findMatchBackground",{light:Ce(za,.66),dark:Ce(za,.66),hcDark:za,hcLight:za},f("vs/platform/theme/common/colorRegistry","searchEditor.queryMatch","Color of the Search Editor query matches."));N("searchEditor.findMatchBorder",{light:Ce(qc,.66),dark:Ce(qc,.66),hcDark:qc,hcLight:qc},f("vs/platform/theme/common/colorRegistry","searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));N("search.resultsInfoForeground",{light:oe,dark:Ce(oe,.65),hcDark:oe,hcLight:oe},f("vs/platform/theme/common/colorRegistry","search.resultsInfoForeground","Color of the text in the search viewlet's completion message."));N("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},f("vs/platform/theme/common/colorRegistry","hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);const KC=N("editorHoverWidget.background",{light:li,dark:li,hcDark:li,hcLight:li},f("vs/platform/theme/common/colorRegistry","hoverBackground","Background color of the editor hover."));N("editorHoverWidget.foreground",{light:Va,dark:Va,hcDark:Va,hcLight:Va},f("vs/platform/theme/common/colorRegistry","hoverForeground","Foreground color of the editor hover."));const pZ=N("editorHoverWidget.border",{light:Ha,dark:Ha,hcDark:Ha,hcLight:Ha},f("vs/platform/theme/common/colorRegistry","hoverBorder","Border color of the editor hover."));N("editorHoverWidget.statusBarBackground",{dark:Zr(KC,.2),light:Gh(KC,.05),hcDark:li,hcLight:li},f("vs/platform/theme/common/colorRegistry","statusBarBackground","Background color of the editor hover status bar."));const bZ=N("editorLink.activeForeground",{dark:"#4E94CE",light:V.blue,hcDark:V.cyan,hcLight:"#292929"},f("vs/platform/theme/common/colorRegistry","activeLinkForeground","Color of active links.")),$l=N("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:V.white,hcLight:V.black},f("vs/platform/theme/common/colorRegistry","editorInlayHintForeground","Foreground color of inline hints")),jl=N("editorInlayHint.background",{dark:Ce(qw,.1),light:Ce(qw,.1),hcDark:Ce(V.white,.1),hcLight:Ce(qw,.1)},f("vs/platform/theme/common/colorRegistry","editorInlayHintBackground","Background color of inline hints")),_Z=N("editorInlayHint.typeForeground",{dark:$l,light:$l,hcDark:$l,hcLight:$l},f("vs/platform/theme/common/colorRegistry","editorInlayHintForegroundTypes","Foreground color of inline hints for types")),vZ=N("editorInlayHint.typeBackground",{dark:jl,light:jl,hcDark:jl,hcLight:jl},f("vs/platform/theme/common/colorRegistry","editorInlayHintBackgroundTypes","Background color of inline hints for types")),wZ=N("editorInlayHint.parameterForeground",{dark:$l,light:$l,hcDark:$l,hcLight:$l},f("vs/platform/theme/common/colorRegistry","editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),CZ=N("editorInlayHint.parameterBackground",{dark:jl,light:jl,hcDark:jl,hcLight:jl},f("vs/platform/theme/common/colorRegistry","editorInlayHintBackgroundParameter","Background color of inline hints for parameters"));N("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},f("vs/platform/theme/common/colorRegistry","editorLightBulbForeground","The color used for the lightbulb actions icon."));N("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},f("vs/platform/theme/common/colorRegistry","editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon."));const vI=new V(new rt(155,185,85,.2)),wI=new V(new rt(255,0,0,.2)),SZ=N("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),yZ=N("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);N("diffEditor.insertedLineBackground",{dark:vI,light:vI,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0);N("diffEditor.removedLineBackground",{dark:wI,light:wI,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);N("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","diffEditorInsertedLineGutter","Background color for the margin where lines got inserted."));N("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","diffEditorRemovedLineGutter","Background color for the margin where lines got removed."));const kZ=N("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),LZ=N("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","diffEditorOverviewRemoved","Diff overview ruler foreground for removed content."));N("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},f("vs/platform/theme/common/colorRegistry","diffEditorInsertedOutline","Outline color for the text that got inserted."));N("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},f("vs/platform/theme/common/colorRegistry","diffEditorRemovedOutline","Outline color for text that got removed."));N("diffEditor.border",{dark:null,light:null,hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","diffEditorBorder","Border color between the two text editors."));N("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views."));N("diffEditor.unchangedRegionBackground",{dark:"#3e3e3e",light:"#e4e4e4",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor."));N("diffEditor.unchangedRegionForeground",{dark:"#a3a2a2",light:"#4d4c4c",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor."));N("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor."));const xZ=N("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),DZ=N("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),IZ=N("list.focusOutline",{dark:os,light:os,hcDark:Ut,hcLight:Ut},f("vs/platform/theme/common/colorRegistry","listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),TZ=N("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Kl=N("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:V.fromHex("#0F4A85").transparent(.1)},f("vs/platform/theme/common/colorRegistry","listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ua=N("list.activeSelectionForeground",{dark:V.white,light:V.white,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),$p=N("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),EZ=N("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:V.fromHex("#0F4A85").transparent(.1)},f("vs/platform/theme/common/colorRegistry","listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),NZ=N("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),AZ=N("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),RZ=N("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),MZ=N("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),V3=N("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:V.white.transparent(.1),hcLight:V.fromHex("#0F4A85").transparent(.1)},f("vs/platform/theme/common/colorRegistry","listHoverBackground","List/Tree background when hovering over items using the mouse.")),H3=N("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),PZ=N("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),ir=N("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:os,hcLight:os},f("vs/platform/theme/common/colorRegistry","highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),L0=N("list.focusHighlightForeground",{dark:ir,light:uQ(Kl,ir,"#BBE7FF"),hcDark:ir,hcLight:ir},f("vs/platform/theme/common/colorRegistry","listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));N("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},f("vs/platform/theme/common/colorRegistry","invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer."));N("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listErrorForeground","Foreground color of list items containing errors."));N("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listWarningForeground","Foreground color of list items containing warnings."));const OZ=N("listFilterWidget.background",{light:Gh(li,0),dark:Zr(li,0),hcDark:li,hcLight:li},f("vs/platform/theme/common/colorRegistry","listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),FZ=N("listFilterWidget.outline",{dark:V.transparent,light:V.transparent,hcDark:"#f38518",hcLight:"#007ACC"},f("vs/platform/theme/common/colorRegistry","listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),BZ=N("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),WZ=N("listFilterWidget.shadow",{dark:Fa,light:Fa,hcDark:Fa,hcLight:Fa},f("vs/platform/theme/common/colorRegistry","listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees."));N("list.filterMatchBackground",{dark:za,light:za,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","listFilterMatchHighlight","Background color of the filtered match."));N("list.filterMatchBorder",{dark:qc,light:qc,hcDark:nt,hcLight:Ut},f("vs/platform/theme/common/colorRegistry","listFilterMatchHighlightBorder","Border color of the filtered match."));const jp=N("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},f("vs/platform/theme/common/colorRegistry","treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),VZ=N("tree.inactiveIndentGuidesStroke",{dark:Ce(jp,.4),light:Ce(jp,.4),hcDark:Ce(jp,.4),hcLight:Ce(jp,.4)},f("vs/platform/theme/common/colorRegistry","treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),HZ=N("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","tableColumnsBorder","Table border color between columns.")),zZ=N("tree.tableOddRowsBackground",{dark:Ce(oe,.04),light:Ce(oe,.04),hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","tableOddRowsBackgroundColor","Background color for odd table rows."));N("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},f("vs/platform/theme/common/colorRegistry","listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. "));const UZ=N("checkbox.background",{dark:Ba,light:Ba,hcDark:Ba,hcLight:Ba},f("vs/platform/theme/common/colorRegistry","checkbox.background","Background color of checkbox widget."));N("checkbox.selectBackground",{dark:li,light:li,hcDark:li,hcLight:li},f("vs/platform/theme/common/colorRegistry","checkbox.select.background","Background color of checkbox widget when the element it's in is selected."));const $Z=N("checkbox.foreground",{dark:Ul,light:Ul,hcDark:Ul,hcLight:Ul},f("vs/platform/theme/common/colorRegistry","checkbox.foreground","Foreground color of checkbox widget.")),jZ=N("checkbox.border",{dark:qg,light:qg,hcDark:qg,hcLight:qg},f("vs/platform/theme/common/colorRegistry","checkbox.border","Border color of checkbox widget."));N("checkbox.selectBorder",{dark:jc,light:jc,hcDark:jc,hcLight:jc},f("vs/platform/theme/common/colorRegistry","checkbox.select.border","Border color of checkbox widget when the element it's in is selected."));const tO=N("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,f("vs/platform/theme/common/colorRegistry","quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),$u=N("quickInputList.focusForeground",{dark:Ua,light:Ua,hcDark:Ua,hcLight:Ua},f("vs/platform/theme/common/colorRegistry","quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Gg=N("quickInputList.focusIconForeground",{dark:$p,light:$p,hcDark:$p,hcLight:$p},f("vs/platform/theme/common/colorRegistry","quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),ju=N("quickInputList.focusBackground",{dark:u_(tO,Kl),light:u_(tO,Kl),hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","quickInput.listFocusBackground","Quick picker background color for the focused item.")),KZ=N("menu.border",{dark:null,light:null,hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","menuBorder","Border color of menus.")),qZ=N("menu.foreground",{dark:Ul,light:Ul,hcDark:Ul,hcLight:Ul},f("vs/platform/theme/common/colorRegistry","menuForeground","Foreground color of menu items.")),GZ=N("menu.background",{dark:Ba,light:Ba,hcDark:Ba,hcLight:Ba},f("vs/platform/theme/common/colorRegistry","menuBackground","Background color of menu items.")),ZZ=N("menu.selectionForeground",{dark:Ua,light:Ua,hcDark:Ua,hcLight:Ua},f("vs/platform/theme/common/colorRegistry","menuSelectionForeground","Foreground color of the selected menu item in menus.")),QZ=N("menu.selectionBackground",{dark:Kl,light:Kl,hcDark:Kl,hcLight:Kl},f("vs/platform/theme/common/colorRegistry","menuSelectionBackground","Background color of the selected menu item in menus.")),YZ=N("menu.selectionBorder",{dark:null,light:null,hcDark:Ut,hcLight:Ut},f("vs/platform/theme/common/colorRegistry","menuSelectionBorder","Border color of the selected menu item in menus.")),XZ=N("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:nt,hcLight:nt},f("vs/platform/theme/common/colorRegistry","menuSeparatorBackground","Color of a separator menu item in menus.")),CI=N("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"));N("toolbar.hoverOutline",{dark:null,light:null,hcDark:Ut,hcLight:Ut},f("vs/platform/theme/common/colorRegistry","toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse"));N("toolbar.activeBackground",{dark:Zr(CI,.1),light:Gh(CI,.1),hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","toolbarActiveBackground","Toolbar background when holding the mouse over actions"));N("editor.snippetTabstopHighlightBackground",{dark:new V(new rt(124,124,124,.3)),light:new V(new rt(10,50,100,.2)),hcDark:new V(new rt(124,124,124,.3)),hcLight:new V(new rt(10,50,100,.2))},f("vs/platform/theme/common/colorRegistry","snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));N("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));N("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));N("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new V(new rt(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},f("vs/platform/theme/common/colorRegistry","snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));const JZ=N("breadcrumb.foreground",{light:Ce(oe,.8),dark:Ce(oe,.8),hcDark:Ce(oe,.8),hcLight:Ce(oe,.8)},f("vs/platform/theme/common/colorRegistry","breadcrumbsFocusForeground","Color of focused breadcrumb items.")),eQ=N("breadcrumb.background",{light:Ki,dark:Ki,hcDark:Ki,hcLight:Ki},f("vs/platform/theme/common/colorRegistry","breadcrumbsBackground","Background color of breadcrumb items.")),iO=N("breadcrumb.focusForeground",{light:Gh(oe,.2),dark:Zr(oe,.1),hcDark:Zr(oe,.1),hcLight:Zr(oe,.1)},f("vs/platform/theme/common/colorRegistry","breadcrumbsFocusForeground","Color of focused breadcrumb items.")),tQ=N("breadcrumb.activeSelectionForeground",{light:Gh(oe,.2),dark:Zr(oe,.1),hcDark:Zr(oe,.1),hcLight:Zr(oe,.1)},f("vs/platform/theme/common/colorRegistry","breadcrumbsSelectedForeground","Color of selected breadcrumb items."));N("breadcrumbPicker.background",{light:li,dark:li,hcDark:li,hcLight:li},f("vs/platform/theme/common/colorRegistry","breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const z3=.5,nO=V.fromHex("#40C8AE").transparent(z3),oO=V.fromHex("#40A6FF").transparent(z3),sO=V.fromHex("#606060").transparent(.4),nr=.4,tm=1,Zg=N("merge.currentHeaderBackground",{dark:nO,light:nO,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);N("merge.currentContentBackground",{dark:Ce(Zg,nr),light:Ce(Zg,nr),hcDark:Ce(Zg,nr),hcLight:Ce(Zg,nr)},f("vs/platform/theme/common/colorRegistry","mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const Qg=N("merge.incomingHeaderBackground",{dark:oO,light:oO,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);N("merge.incomingContentBackground",{dark:Ce(Qg,nr),light:Ce(Qg,nr),hcDark:Ce(Qg,nr),hcLight:Ce(Qg,nr)},f("vs/platform/theme/common/colorRegistry","mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const Yg=N("merge.commonHeaderBackground",{dark:sO,light:sO,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);N("merge.commonContentBackground",{dark:Ce(Yg,nr),light:Ce(Yg,nr),hcDark:Ce(Yg,nr),hcLight:Ce(Yg,nr)},f("vs/platform/theme/common/colorRegistry","mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const im=N("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},f("vs/platform/theme/common/colorRegistry","mergeBorder","Border color on headers and the splitter in inline merge-conflicts."));N("editorOverviewRuler.currentContentForeground",{dark:Ce(Zg,tm),light:Ce(Zg,tm),hcDark:im,hcLight:im},f("vs/platform/theme/common/colorRegistry","overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts."));N("editorOverviewRuler.incomingContentForeground",{dark:Ce(Qg,tm),light:Ce(Qg,tm),hcDark:im,hcLight:im},f("vs/platform/theme/common/colorRegistry","overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts."));N("editorOverviewRuler.commonContentForeground",{dark:Ce(Yg,tm),light:Ce(Yg,tm),hcDark:im,hcLight:im},f("vs/platform/theme/common/colorRegistry","overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts."));const XA=N("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},f("vs/platform/theme/common/colorRegistry","overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Kp=N("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},f("vs/platform/theme/common/colorRegistry","overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Xg=N("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},f("vs/platform/theme/common/colorRegistry","minimapFindMatchHighlight","Minimap marker color for find matches."),!0),XS=N("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},f("vs/platform/theme/common/colorRegistry","minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),rO=N("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},f("vs/platform/theme/common/colorRegistry","minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),iQ=N("minimap.infoHighlight",{dark:Co,light:Co,hcDark:d_,hcLight:d_},f("vs/platform/theme/common/colorRegistry","minimapInfo","Minimap marker color for infos.")),nQ=N("minimap.warningHighlight",{dark:ss,light:ss,hcDark:c_,hcLight:c_},f("vs/platform/theme/common/colorRegistry","overviewRuleWarning","Minimap marker color for warnings.")),oQ=N("minimap.errorHighlight",{dark:new V(new rt(255,18,18,.7)),light:new V(new rt(255,18,18,.7)),hcDark:new V(new rt(255,50,50,1)),hcLight:"#B5200D"},f("vs/platform/theme/common/colorRegistry","minimapError","Minimap marker color for errors.")),sQ=N("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/platform/theme/common/colorRegistry","minimapBackground","Minimap background color.")),rQ=N("minimap.foregroundOpacity",{dark:V.fromHex("#000f"),light:V.fromHex("#000f"),hcDark:V.fromHex("#000f"),hcLight:V.fromHex("#000f")},f("vs/platform/theme/common/colorRegistry","minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.'));N("minimapSlider.background",{light:Ce(Hp,.5),dark:Ce(Hp,.5),hcDark:Ce(Hp,.5),hcLight:Ce(Hp,.5)},f("vs/platform/theme/common/colorRegistry","minimapSliderBackground","Minimap slider background color."));N("minimapSlider.hoverBackground",{light:Ce(zp,.5),dark:Ce(zp,.5),hcDark:Ce(zp,.5),hcLight:Ce(zp,.5)},f("vs/platform/theme/common/colorRegistry","minimapSliderHoverBackground","Minimap slider background color when hovering."));N("minimapSlider.activeBackground",{light:Ce(Up,.5),dark:Ce(Up,.5),hcDark:Ce(Up,.5),hcLight:Ce(Up,.5)},f("vs/platform/theme/common/colorRegistry","minimapSliderActiveBackground","Minimap slider background color when clicked on."));const aQ=N("problemsErrorIcon.foreground",{dark:Wa,light:Wa,hcDark:Wa,hcLight:Wa},f("vs/platform/theme/common/colorRegistry","problemsErrorIconForeground","The color used for the problems error icon.")),lQ=N("problemsWarningIcon.foreground",{dark:ss,light:ss,hcDark:ss,hcLight:ss},f("vs/platform/theme/common/colorRegistry","problemsWarningIconForeground","The color used for the problems warning icon.")),cQ=N("problemsInfoIcon.foreground",{dark:Co,light:Co,hcDark:Co,hcLight:Co},f("vs/platform/theme/common/colorRegistry","problemsInfoIconForeground","The color used for the problems info icon."));N("charts.foreground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/platform/theme/common/colorRegistry","chartsForeground","The foreground color used in charts."));N("charts.lines",{dark:Ce(oe,.5),light:Ce(oe,.5),hcDark:Ce(oe,.5),hcLight:Ce(oe,.5)},f("vs/platform/theme/common/colorRegistry","chartsLines","The color used for horizontal lines in charts."));N("charts.red",{dark:Wa,light:Wa,hcDark:Wa,hcLight:Wa},f("vs/platform/theme/common/colorRegistry","chartsRed","The red color used in chart visualizations."));N("charts.blue",{dark:Co,light:Co,hcDark:Co,hcLight:Co},f("vs/platform/theme/common/colorRegistry","chartsBlue","The blue color used in chart visualizations."));N("charts.yellow",{dark:ss,light:ss,hcDark:ss,hcLight:ss},f("vs/platform/theme/common/colorRegistry","chartsYellow","The yellow color used in chart visualizations."));N("charts.orange",{dark:Xg,light:Xg,hcDark:Xg,hcLight:Xg},f("vs/platform/theme/common/colorRegistry","chartsOrange","The orange color used in chart visualizations."));N("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},f("vs/platform/theme/common/colorRegistry","chartsGreen","The green color used in chart visualizations."));N("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},f("vs/platform/theme/common/colorRegistry","chartsPurple","The purple color used in chart visualizations."));function dQ(s,e){var t,i,n,o;switch(s.op){case 0:return(t=xr(s.value,e))===null||t===void 0?void 0:t.darken(s.factor);case 1:return(i=xr(s.value,e))===null||i===void 0?void 0:i.lighten(s.factor);case 2:return(n=xr(s.value,e))===null||n===void 0?void 0:n.transparent(s.factor);case 3:{const r=xr(s.background,e);return r?(o=xr(s.value,e))===null||o===void 0?void 0:o.makeOpaque(r):xr(s.value,e)}case 4:for(const r of s.values){const a=xr(r,e);if(a)return a}return;case 6:return xr(e.defines(s.if)?s.then:s.else,e);case 5:{const r=xr(s.value,e);if(!r)return;const a=xr(s.background,e);return a?r.isDarkerThan(a)?V.getLighterColor(r,a,s.factor).transparent(s.transparency):V.getDarkerColor(r,a,s.factor).transparent(s.transparency):r.transparent(s.factor*s.transparency)}default:throw PS()}}function Gh(s,e){return{op:0,value:s,factor:e}}function Zr(s,e){return{op:1,value:s,factor:e}}function Ce(s,e){return{op:2,value:s,factor:e}}function u_(...s){return{op:4,values:s}}function uQ(s,e,t){return{op:6,if:s,then:e,else:t}}function aO(s,e,t,i){return{op:5,value:s,background:e,factor:t,transparency:i}}function xr(s,e){if(s!==null){if(typeof s=="string")return s[0]==="#"?V.fromHex(s):e.getColor(s);if(s instanceof V)return s;if(typeof s=="object")return dQ(s,e)}}const U3="vscode://schemas/workbench-colors",$3=Jt.as(KS.JSONContribution);$3.registerSchema(U3,YS.getColorSchema());const lO=new xt(()=>$3.notifySchemaChanged(U3),200);YS.onDidChangeSchema(()=>{lO.isScheduled()||lO.schedule()});class JS{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new j3(this.x-window.scrollX,this.y-window.scrollY)}}class j3{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new JS(this.clientX+window.scrollX,this.clientY+window.scrollY)}}class hQ{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this._editorPagePositionBrand=void 0}}class gQ{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function JA(s){const e=Pi(s);return new hQ(e.left,e.top,e.width,e.height)}function eR(s,e,t){const i=e.width/s.offsetWidth,n=e.height/s.offsetHeight,o=(t.x-e.x)/i,r=(t.y-e.y)/n;return new gQ(o,r)}class Ed extends Ds{constructor(e,t,i){super(e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new JS(this.posx,this.posy),this.editorPos=JA(i),this.relativePos=eR(i,this.editorPos,this.pos)}}class fQ{constructor(e){this._editorViewDomNode=e}_create(e){return new Ed(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return $(e,"contextmenu",i=>{t(this._create(i))})}onMouseUp(e,t){return $(e,"mouseup",i=>{t(this._create(i))})}onMouseDown(e,t){return $(e,ae.MOUSE_DOWN,i=>{t(this._create(i))})}onPointerDown(e,t){return $(e,ae.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onMouseLeave(e,t){return $(e,ae.MOUSE_LEAVE,i=>{t(this._create(i))})}onMouseMove(e,t){return $(e,"mousemove",i=>t(this._create(i)))}}class mQ{constructor(e){this._editorViewDomNode=e}_create(e){return new Ed(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return $(e,"pointerup",i=>{t(this._create(i))})}onPointerDown(e,t){return $(e,ae.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onPointerLeave(e,t){return $(e,ae.POINTER_LEAVE,i=>{t(this._create(i))})}onPointerMove(e,t){return $(e,"pointermove",i=>t(this._create(i)))}}class pQ extends H{constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new Vm),this._keydownListener=null}startMonitoring(e,t,i,n,o){this._keydownListener=Si(e.ownerDocument,"keydown",r=>{r.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,r.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(e,t,i,r=>{n(new Ed(r,!0,this._editorViewDomNode))},r=>{this._keydownListener.dispose(),o(r)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class Tv{constructor(e){this._editor=e,this._instanceId=++Tv._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new xt(()=>this.garbageCollect(),1e3)}createClassNameRef(e){const t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){const t=this.computeUniqueKey(e);let i=this._rules.get(t);if(!i){const n=this._counter++;i=new bQ(t,`dyn-rule-${this._instanceId}-${n}`,RC(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(const e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}}Tv._idPool=0;class bQ{constructor(e,t,i,n){this.key=e,this.className=t,this.properties=n,this._referenceCount=0,this._styleElement=Os(i),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=`.${e} {`;for(const n in t){const o=t[n];let r;typeof o=="object"?r=ue(o.id):r=o;const a=_Q(n);i+=`
	${a}: ${r};`}return i+=`
}`,i}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function _Q(s){return s.replace(/(^[A-Z])/,([e])=>e.toLowerCase()).replace(/([A-Z])/g,([e])=>`-${e.toLowerCase()}`)}class Ev extends H{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,n=e.length;i<n;i++){const o=e[i];switch(o.type){case 0:this.onCompositionStart(o)&&(t=!0);break;case 1:this.onCompositionEnd(o)&&(t=!0);break;case 2:this.onConfigurationChanged(o)&&(t=!0);break;case 3:this.onCursorStateChanged(o)&&(t=!0);break;case 4:this.onDecorationsChanged(o)&&(t=!0);break;case 5:this.onFlushed(o)&&(t=!0);break;case 6:this.onFocusChanged(o)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(o)&&(t=!0);break;case 8:this.onLineMappingChanged(o)&&(t=!0);break;case 9:this.onLinesChanged(o)&&(t=!0);break;case 10:this.onLinesDeleted(o)&&(t=!0);break;case 11:this.onLinesInserted(o)&&(t=!0);break;case 12:this.onRevealRangeRequest(o)&&(t=!0);break;case 13:this.onScrollChanged(o)&&(t=!0);break;case 15:this.onTokensChanged(o)&&(t=!0);break;case 14:this.onThemeChanged(o)&&(t=!0);break;case 16:this.onTokensColorsChanged(o)&&(t=!0);break;case 17:this.onZonesChanged(o)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(o)}}t&&(this._shouldRender=!0)}}class Uo extends Ev{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class tl{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)}static collect(e,t){const i=[];let n=0;for(;e&&e!==e.ownerDocument.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[n++]=this.read(e)),e=e.parentElement;const o=new Uint8Array(n);for(let r=0;r<n;r++)o[r]=i[n-r-1];return o}}class vQ{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e,t){return this._viewLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t){return this._viewLayout.getVerticalOffsetAfterLineNumber(e,t)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class wQ extends vQ{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class CQ{constructor(e,t,i,n){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i,this.continuesOnNextLine=n}}class ey{static from(e){const t=new Array(e.length);for(let i=0,n=e.length;i<n;i++){const o=e[i];t[i]=new ey(o.left,o.width)}return t}constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class eh{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class SQ{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class cO{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class Gw{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,n,o){const r=this._createRange();try{return r.setStart(e,t),r.setEnd(i,n),r.getClientRects()}catch(a){return null}finally{this._detachRange(r,o)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(eh.compare);const t=[];let i=0,n=e[0];for(let o=1,r=e.length;o<r;o++){const a=e[o];n.left+n.width+.9>=a.left?n.width=Math.max(n.width,a.left+a.width-n.left):(t[i++]=n,n=a)}return t[i++]=n,t}static _createHorizontalRangesFromClientRects(e,t,i){if(!e||e.length===0)return null;const n=[];for(let o=0,r=e.length;o<r;o++){const a=e[o];n[o]=new eh(Math.max(0,(a.left-t)/i),a.width/i)}return this._mergeAdjacentRanges(n)}static readHorizontalRanges(e,t,i,n,o,r){const l=e.children.length-1;if(0>l)return null;if(t=Math.min(l,Math.max(0,t)),n=Math.min(l,Math.max(0,n)),t===n&&i===o&&i===0&&!e.children[t].firstChild){const h=e.children[t].getClientRects();return r.markDidDomLayout(),this._createHorizontalRangesFromClientRects(h,r.clientRectDeltaLeft,r.clientRectScale)}t!==n&&n>0&&o===0&&(n--,o=1073741824);let c=e.children[t].firstChild,d=e.children[n].firstChild;if((!c||!d)&&(!c&&i===0&&t>0&&(c=e.children[t-1].firstChild,i=1073741824),!d&&o===0&&n>0&&(d=e.children[n-1].firstChild,o=1073741824)),!c||!d)return null;i=Math.min(c.textContent.length,Math.max(0,i)),o=Math.min(d.textContent.length,Math.max(0,o));const u=this._readClientRects(c,i,d,o,r.endNode);return r.markDidDomLayout(),this._createHorizontalRangesFromClientRects(u,r.clientRectDeltaLeft,r.clientRectScale)}}var Is;(function(s){s.DARK="dark",s.LIGHT="light",s.HIGH_CONTRAST_DARK="hcDark",s.HIGH_CONTRAST_LIGHT="hcLight"})(Is||(Is={}));function Qr(s){return s===Is.HIGH_CONTRAST_DARK||s===Is.HIGH_CONTRAST_LIGHT}function nm(s){return s===Is.DARK||s===Is.HIGH_CONTRAST_DARK}const yQ=function(){return Kr?!0:!(Qn||Ms||ac)}();let kf=!0;class dO{constructor(e,t){this.themeType=t;const i=e.options,n=i.get(50);i.get(38)==="off"?this.renderWhitespace=i.get(98):this.renderWhitespace="none",this.renderControlCharacters=i.get(93),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.useMonospaceOptimizations=n.isMonospace&&!i.get(33),this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(66),this.stopRenderingLineAfter=i.get(116),this.fontLigatures=i.get(51)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Ta{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=vt(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return Qr(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,t,i,n){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const o=i.getViewLineRenderingData(e),r=this._options,a=Oo.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let l=null;if(Qr(r.themeType)||this._options.renderWhitespace==="selection"){const h=i.selections;for(const g of h){if(g.endLineNumber<e||g.startLineNumber>e)continue;const m=g.startLineNumber===e?g.startColumn:o.minColumn,p=g.endLineNumber===e?g.endColumn:o.maxColumn;m<p&&(Qr(r.themeType)&&a.push(new Oo(m,p,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(l||(l=[]),l.push(new D3(m-1,p-1))))}}const c=new Xd(r.useMonospaceOptimizations,r.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,a,o.tabSize,o.startVisibleColumn,r.spaceWidth,r.middotWidth,r.wsmiddotWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures!==Jo.OFF,l);if(this._renderedViewLine&&this._renderedViewLine.input.equals(c))return!1;n.appendString('<div style="top:'),n.appendString(String(t)),n.appendString("px;height:"),n.appendString(String(this._options.lineHeight)),n.appendString('px;" class="'),n.appendString(Ta.CLASS_NAME),n.appendString('">');const d=Dv(c,n);n.appendString("</div>");let u=null;return kf&&yQ&&o.isBasicASCII&&r.useMonospaceOptimizations&&d.containsForeignElements===0&&(u=new x0(this._renderedViewLine?this._renderedViewLine.domNode:null,c,d.characterMapping)),u||(u=q3(this._renderedViewLine?this._renderedViewLine.domNode:null,c,d.characterMapping,d.containsRTL,d.containsForeignElements)),this._renderedViewLine=u,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(e){return this._renderedViewLine?this._renderedViewLine.getWidth(e):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof x0:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof x0?this._renderedViewLine.monospaceAssumptionsAreValid():kf}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof x0&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,n){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));const o=this._renderedViewLine.input.stopRenderingLineAfter;if(o!==-1&&t>o+1&&i>o+1)return new cO(!0,[new eh(this.getWidth(n),0)]);o!==-1&&t>o+1&&(t=o+1),o!==-1&&i>o+1&&(i=o+1);const r=this._renderedViewLine.getVisibleRangesForRange(e,t,i,n);return r&&r.length>0?new cO(!1,r):null}getColumnOfNodeOffset(e,t){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t):1}}Ta.CLASS_NAME="view-line";class x0{constructor(e,t,i){this._cachedWidth=-1,this.domNode=e,this.input=t;const n=Math.floor(t.lineContent.length/300);if(n>0){this._keyColumnPixelOffsetCache=new Float32Array(n);for(let o=0;o<n;o++)this._keyColumnPixelOffsetCache[o]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(e){if(!this.domNode||this.input.lineContent.length<300){const t=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*t)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return kf;if(this.input.lineContent.length<300){const e=this.getWidth(null),t=this.domNode.domNode.firstChild.offsetWidth;Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),kf=!1)}return kf}toSlowRenderedLine(){return q3(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,n){const o=this._getColumnPixelOffset(e,t,n),r=this._getColumnPixelOffset(e,i,n);return[new eh(o,r-o)]}_getColumnPixelOffset(e,t,i){if(t<=300){const c=this._characterMapping.getHorizontalOffset(t);return this._charWidth*c}const n=Math.floor((t-1)/300)-1,o=(n+1)*300+1;let r=-1;if(this._keyColumnPixelOffsetCache&&(r=this._keyColumnPixelOffsetCache[n],r===-1&&(r=this._actualReadPixelOffset(e,o,i),this._keyColumnPixelOffsetCache[n]=r)),r===-1){const c=this._characterMapping.getHorizontalOffset(t);return this._charWidth*c}const a=this._characterMapping.getHorizontalOffset(o),l=this._characterMapping.getHorizontalOffset(t);return r+this._charWidth*(l-a)}_getReadingTarget(e){return e.domNode.firstChild}_actualReadPixelOffset(e,t,i){if(!this.domNode)return-1;const n=this._characterMapping.getDomPosition(t),o=Gw.readHorizontalRanges(this._getReadingTarget(this.domNode),n.partIndex,n.charIndex,n.partIndex,n.charIndex,i);return!o||o.length===0?-1:o[0].left}getColumnOfNodeOffset(e,t){return tR(this._characterMapping,e,t)}}class K3{constructor(e,t,i,n,o){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let r=0,a=this._characterMapping.length;r<=a;r++)this._pixelOffsetCache[r]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(e){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,t,i,n){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const o=this._readPixelOffset(this.domNode,e,t,n);if(o===-1)return null;const r=this._readPixelOffset(this.domNode,e,i,n);return r===-1?null:[new eh(o,r-o)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,n)}_readVisibleRangesForRange(e,t,i,n,o){if(i===n){const r=this._readPixelOffset(e,t,i,o);return r===-1?null:[new eh(r,0)]}else return this._readRawVisibleRangesForRange(e,i,n,o)}_readPixelOffset(e,t,i,n){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(n);const o=this._getReadingTarget(e);return o.firstChild?(n.markDidDomLayout(),o.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const o=this._pixelOffsetCache[i];if(o!==-1)return o;const r=this._actualReadPixelOffset(e,t,i,n);return this._pixelOffsetCache[i]=r,r}return this._actualReadPixelOffset(e,t,i,n)}_actualReadPixelOffset(e,t,i,n){if(this._characterMapping.length===0){const l=Gw.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,n);return!l||l.length===0?-1:l[0].left}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(n);const o=this._characterMapping.getDomPosition(i),r=Gw.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,o.partIndex,o.charIndex,n);if(!r||r.length===0)return-1;const a=r[0].left;if(this.input.isBasicASCII){const l=this._characterMapping.getHorizontalOffset(i),c=Math.round(this.input.spaceWidth*l);if(Math.abs(c-a)<=1)return c}return a}_readRawVisibleRangesForRange(e,t,i,n){if(t===1&&i===this._characterMapping.length)return[new eh(0,this.getWidth(n))];const o=this._characterMapping.getDomPosition(t),r=this._characterMapping.getDomPosition(i);return Gw.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,r.partIndex,r.charIndex,n)}getColumnOfNodeOffset(e,t){return tR(this._characterMapping,e,t)}}class kQ extends K3{_readVisibleRangesForRange(e,t,i,n,o){const r=super._readVisibleRangesForRange(e,t,i,n,o);if(!r||r.length===0||i===n||i===1&&n===this._characterMapping.length)return r;if(!this.input.containsRTL){const a=this._readPixelOffset(e,t,n,o);if(a!==-1){const l=r[r.length-1];l.left<a&&(l.width=a-l.left)}}return r}}const q3=function(){return Yu?LQ:xQ}();function LQ(s,e,t,i,n){return new kQ(s,e,t,i,n)}function xQ(s,e,t,i,n){return new K3(s,e,t,i,n)}function tR(s,e,t){const i=e.textContent.length;let n=-1;for(;e;)e=e.previousSibling,n++;return s.getColumn(new I3(n,t),i)}class Wi{static _nextVisibleColumn(e,t,i){return e===9?Wi.nextRenderTabStop(t,i):yd(e)||kA(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const n=Math.min(t-1,e.length),o=e.substring(0,n),r=new NC(o);let a=0;for(;!r.eol();){const l=EC(o,n,r.offset);r.nextGraphemeLength(),a=this._nextVisibleColumn(l,a,i)}return a}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const n=e.length,o=new NC(e);let r=0,a=1;for(;!o.eol();){const l=EC(e,n,o.offset);o.nextGraphemeLength();const c=this._nextVisibleColumn(l,r,i),d=o.offset+1;if(c>=t){const u=t-r;return c-t<u?d:a}r=c,a=d}return n+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}class h_{static whitespaceVisibleColumn(e,t,i){const n=e.length;let o=0,r=-1,a=-1;for(let l=0;l<n;l++){if(l===t)return[r,a,o];switch(o%i===0&&(r=l,a=o),e.charCodeAt(l)){case 32:o+=1;break;case 9:o=Wi.nextRenderTabStop(o,i);break;default:return[-1,-1,-1]}}return t===n?[r,a,o]:[-1,-1,-1]}static atomicPosition(e,t,i,n){const o=e.length,[r,a,l]=h_.whitespaceVisibleColumn(e,t,i);if(l===-1)return-1;let c;switch(n){case 0:c=!0;break;case 1:c=!1;break;case 2:if(l%i===0)return t;c=l%i<=i/2;break}if(c){if(r===-1)return-1;let h=a;for(let g=r;g<o;++g){if(h===a+i)return r;switch(e.charCodeAt(g)){case 32:h+=1;break;case 9:h=Wi.nextRenderTabStop(h,i);break;default:return-1}}return h===a+i?r:-1}const d=Wi.nextRenderTabStop(l,i);let u=l;for(let h=t;h<o;h++){if(u===d)return h;switch(e.charCodeAt(h)){case 32:u+=1;break;case 9:u=Wi.nextRenderTabStop(u,i);break;default:return-1}}return u===d?o:-1}}class Ec{constructor(e=null){this.hitTarget=e,this.type=0}}class G3{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}var Ru;(function(s){function e(t,i,n){const o=t.getPositionFromDOMInfo(i,n);return o?new G3(o,i,null):new Ec(i)}s.createFromDOMInfo=e})(Ru||(Ru={}));class DQ{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class qn{static _deduceRage(e,t=null){return!t&&e?new k(e.lineNumber,e.column,e.lineNumber,e.column):t!=null?t:null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,n,o,r){return{type:e,element:t,mouseColumn:i,position:n,range:o,detail:r}}static createViewZone(e,t,i,n,o){return{type:e,element:t,mouseColumn:i,position:n,range:this._deduceRage(n),detail:o}}static createContentText(e,t,i,n,o){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,n),detail:o}}static createContentEmpty(e,t,i,n){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:n}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t,i,n){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t),outsidePosition:i,outsideDistance:n}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class jo{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowGuard(e){return e.length>=1&&e[0]===3}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class om{constructor(e,t,i){this.viewModel=e.viewModel;const n=e.configuration.options;this.layoutInfo=n.get(143),this.viewDomNode=t.viewDomNode,this.lineHeight=n.get(66),this.stickyTabStops=n.get(115),this.typicalHalfwidthCharacterWidth=n.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return om.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const n=i.verticalOffset+i.height/2,o=e.viewModel.getLineCount();let r=null,a,l=null;return i.afterLineNumber!==o&&(l=new P(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(r=new P(i.afterLineNumber,e.viewModel.getLineMaxColumn(i.afterLineNumber))),l===null?a=r:r===null?a=l:t<n?a=r:a=l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:r,positionAfter:l,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const n=this._context.viewModel.getLineCount(),o=this._context.viewModel.getLineMaxColumn(n);return{range:new k(n,o,n,o),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.viewModel.getLineMaxColumn(t);return{range:new k(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return om._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==e.ownerDocument.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class IQ{constructor(e,t,i,n){this.editorPos=t,this.pos=i,this.relativePos=n,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Cn._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class iR extends IQ{constructor(e,t,i,n,o){super(e,t,i,n),this._ctx=e,o?(this.target=o,this.targetPath=tl.collect(o,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?Wi.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return qn.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return qn.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,n){return qn.createMargin(e,this.target,this._getMouseColumn(t),t,i,n)}fulfillViewZone(e,t,i){return qn.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return qn.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return qn.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return qn.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return qn.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return qn.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new iR(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const uO={isAfterLines:!0};function wL(s){return{isAfterLines:!1,horizontalDistanceToText:s}}class Cn{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=tl.collect(t,this._viewHelper.viewDomNode);return!!(jo.isChildOfContentWidgets(i)||jo.isChildOfOverflowingContentWidgets(i)||jo.isChildOfOverlayWidgets(i))}createMouseTarget(e,t,i,n,o){const r=new om(this._context,this._viewHelper,e),a=new iR(r,t,i,n,o);try{const l=Cn._createMouseTarget(r,a,!1);if(l.type===6&&r.stickyTabStops&&l.position!==null){const c=Cn._snapToSoftTabBoundary(l.position,r.viewModel),d=k.fromPositions(c,c).plusRange(l.range);return a.fulfillContentText(c,d,l.detail)}return l}catch(l){return a.fulfillUnknown()}}static _createMouseTarget(e,t,i){if(t.target===null){if(i)return t.fulfillUnknown();const r=Cn._doHitTest(e,t);return r.type===1?Cn.createMouseTargetFromHitTestPosition(e,t,r.spanNode,r.position,r.injectedText):this._createMouseTarget(e,t.withTarget(r.hitTarget),!0)}const n=t;let o=null;return!jo.isChildOfOverflowGuard(t.targetPath)&&!jo.isChildOfOverflowingContentWidgets(t.targetPath)&&(o=o||t.fulfillUnknown()),o=o||Cn._hitTestContentWidget(e,n),o=o||Cn._hitTestOverlayWidget(e,n),o=o||Cn._hitTestMinimap(e,n),o=o||Cn._hitTestScrollbarSlider(e,n),o=o||Cn._hitTestViewZone(e,n),o=o||Cn._hitTestMargin(e,n),o=o||Cn._hitTestViewCursor(e,n),o=o||Cn._hitTestTextArea(e,n),o=o||Cn._hitTestViewLines(e,n,i),o=o||Cn._hitTestScrollbar(e,n),o||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(jo.isChildOfContentWidgets(t.targetPath)||jo.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(jo.isChildOfOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const n of i)if(t.target===n.domNode)return t.fulfillContentText(n.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,n=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(const r of i){if(n<r.contentLeft||n>r.contentLeft+r.width)continue;const a=e.getVerticalOffsetForLineNumber(r.position.lineNumber);if(a<=o&&o<=a+r.height)return t.fulfillContentText(r.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const n=t.isInContentArea?8:5;return t.fulfillViewZone(n,i.position,i)}return null}static _hitTestTextArea(e,t){return jo.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),n=i.range.getStartPosition();let o=Math.abs(t.relativePos.x);const r={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfillMargin(2,n,i.range,r):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,n,i.range,r):(o-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,n,i.range,r)))}return null}static _hitTestViewLines(e,t,i){if(!jo.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new P(1,1),uO);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const o=e.viewModel.getLineCount(),r=e.viewModel.getLineMaxColumn(o);return t.fulfillContentEmpty(new P(o,r),uO)}if(i){if(jo.isStrictChildOfViewLines(t.targetPath)){const o=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.viewModel.getLineLength(o)===0){const a=e.getLineWidth(o),l=wL(t.mouseContentHorizontalOffset-a);return t.fulfillContentEmpty(new P(o,1),l)}const r=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>=r){const a=wL(t.mouseContentHorizontalOffset-r),l=new P(o,e.viewModel.getLineMaxColumn(o));return t.fulfillContentEmpty(l,a)}}return t.fulfillUnknown()}const n=Cn._doHitTest(e,t);return n.type===1?Cn.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}static _hitTestMinimap(e,t){if(jo.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new P(i,n))}return null}static _hitTestScrollbarSlider(e,t){if(jo.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.viewModel.getLineMaxColumn(n);return t.fulfillScrollbar(new P(n,o))}}return null}static _hitTestScrollbar(e,t){if(jo.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new P(i,n))}return null}getMouseColumn(e){const t=this._context.configuration.options,i=t.get(143),n=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return Cn._getMouseColumn(n,t.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,n,o){const r=n.lineNumber,a=n.column,l=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>l){const b=wL(t.mouseContentHorizontalOffset-l);return t.fulfillContentEmpty(n,b)}const c=e.visibleRangeForPosition(r,a);if(!c)return t.fulfillUnknown(n);const d=c.left;if(Math.abs(t.mouseContentHorizontalOffset-d)<1)return t.fulfillContentText(n,null,{mightBeForeignElement:!!o,injectedText:o});const u=[];if(u.push({offset:c.left,column:a}),a>1){const b=e.visibleRangeForPosition(r,a-1);b&&u.push({offset:b.left,column:a-1})}const h=e.viewModel.getLineMaxColumn(r);if(a<h){const b=e.visibleRangeForPosition(r,a+1);b&&u.push({offset:b.left,column:a+1})}u.sort((b,v)=>b.offset-v.offset);const g=t.pos.toClientCoordinates(),m=i.getBoundingClientRect(),p=m.left<=g.clientX&&g.clientX<=m.right;let _=null;for(let b=1;b<u.length;b++){const v=u[b-1],w=u[b];if(v.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=w.offset){_=new k(r,v.column,r,w.column);const C=Math.abs(v.offset-t.mouseContentHorizontalOffset),S=Math.abs(w.offset-t.mouseContentHorizontalOffset);n=C<S?new P(r,v.column):new P(r,w.column);break}}return t.fulfillContentText(n,_,{mightBeForeignElement:!p||!!o,injectedText:o})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.getVerticalOffsetForLineNumber(i),o=n+e.lineHeight;if(!(i===e.viewModel.getLineCount()&&t.mouseVerticalOffset>o)){const a=Math.floor((n+o)/2);let l=t.pos.y+(a-t.mouseVerticalOffset);l<=t.editorPos.y&&(l=t.editorPos.y+1),l>=t.editorPos.y+t.editorPos.height&&(l=t.editorPos.y+t.editorPos.height-1);const c=new JS(t.pos.x,l),d=this._actualDoHitTestWithCaretRangeFromPoint(e,c.toClientCoordinates());if(d.type===1)return d}return this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=ph(e.viewDomNode);let n;if(i?typeof i.caretRangeFromPoint=="undefined"?n=TQ(i,t.clientX,t.clientY):n=i.caretRangeFromPoint(t.clientX,t.clientY):n=e.viewDomNode.ownerDocument.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return new Ec;const o=n.startContainer;if(o.nodeType===o.TEXT_NODE){const r=o.parentNode,a=r?r.parentNode:null,l=a?a.parentNode:null;return(l&&l.nodeType===l.ELEMENT_NODE?l.className:null)===Ta.CLASS_NAME?Ru.createFromDOMInfo(e,r,n.startOffset):new Ec(o.parentNode)}else if(o.nodeType===o.ELEMENT_NODE){const r=o.parentNode,a=r?r.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===Ta.CLASS_NAME?Ru.createFromDOMInfo(e,o,o.textContent.length):new Ec(o)}return new Ec}static _doHitTestWithCaretPositionFromPoint(e,t){const i=e.viewDomNode.ownerDocument.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const n=i.offsetNode.parentNode,o=n?n.parentNode:null,r=o?o.parentNode:null;return(r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===Ta.CLASS_NAME?Ru.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new Ec(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const n=i.offsetNode.parentNode,o=n&&n.nodeType===n.ELEMENT_NODE?n.className:null,r=n?n.parentNode:null,a=r&&r.nodeType===r.ELEMENT_NODE?r.className:null;if(o===Ta.CLASS_NAME){const l=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(l)return Ru.createFromDOMInfo(e,l,0)}else if(a===Ta.CLASS_NAME)return Ru.createFromDOMInfo(e,i.offsetNode,0)}return new Ec(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:n}=t.model.getOptions(),o=h_.atomicPosition(i,e.column-1,n,2);return o!==-1?new P(e.lineNumber,o+1):e}static _doHitTest(e,t){let i=new Ec;if(typeof e.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?i=this._doHitTestWithCaretRangeFromPoint(e,t):e.viewDomNode.ownerDocument.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),i.type===1){const n=e.viewModel.getInjectedTextAt(i.position),o=e.viewModel.normalizePosition(i.position,2);(n||!o.equals(i.position))&&(i=new G3(o,i.spanNode,n))}return i}}function TQ(s,e,t){const i=document.createRange();let n=s.elementFromPoint(e,t);if(n!==null){for(;n&&n.firstChild&&n.firstChild.nodeType!==n.firstChild.TEXT_NODE&&n.lastChild&&n.lastChild.firstChild;)n=n.lastChild;const o=n.getBoundingClientRect(),r=window.getComputedStyle(n,null).getPropertyValue("font-style"),a=window.getComputedStyle(n,null).getPropertyValue("font-variant"),l=window.getComputedStyle(n,null).getPropertyValue("font-weight"),c=window.getComputedStyle(n,null).getPropertyValue("font-size"),d=window.getComputedStyle(n,null).getPropertyValue("line-height"),u=window.getComputedStyle(n,null).getPropertyValue("font-family"),h=`${r} ${a} ${l} ${c}/${d} ${u}`,g=n.innerText;let m=o.left,p=0,_;if(e>o.left+o.width)p=g.length;else{const b=Ku.getInstance();for(let v=0;v<g.length+1;v++){if(_=b.getCharWidth(g.charAt(v),h)/2,m+=_,e<m){p=v;break}m+=_}}i.setStart(n.firstChild,p),i.setEnd(n.firstChild,p)}return i}class Ku{static getInstance(){return Ku._INSTANCE||(Ku._INSTANCE=new Ku),Ku._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const n=this._canvas.getContext("2d");n.font=t;const r=n.measureText(e).width;return this._cache[i]=r,r}}Ku._INSTANCE=null;let fr=class extends H{onclick(e,t){this._register($(e,ae.CLICK,i=>t(new Ds(i))))}onmousedown(e,t){this._register($(e,ae.MOUSE_DOWN,i=>t(new Ds(i))))}onmouseover(e,t){this._register($(e,ae.MOUSE_OVER,i=>t(new Ds(i))))}onmouseleave(e,t){this._register($(e,ae.MOUSE_LEAVE,i=>t(new Ds(i))))}onkeydown(e,t){this._register($(e,ae.KEY_DOWN,i=>t(new Wt(i))))}onkeyup(e,t){this._register($(e,ae.KEY_UP,i=>t(new Wt(i))))}oninput(e,t){this._register($(e,ae.INPUT,t))}onblur(e,t){this._register($(e,ae.BLUR,t))}onfocus(e,t){this._register($(e,ae.FOCUS,t))}ignoreGesture(e){return Nt.ignoreTarget(e)}};const sm=11;class EQ extends fr{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof e.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof e.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof e.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...Ie.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width=sm+"px",this.domNode.style.height=sm+"px",typeof e.top!="undefined"&&(this.domNode.style.top=e.top+"px"),typeof e.left!="undefined"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom!="undefined"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right!="undefined"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new Vm),this._register(Si(this.bgDomNode,ae.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(Si(this.domNode,ae.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new kv),this._pointerdownScheduleRepeatTimer=this._register(new gr)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,i=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}}class NQ extends H{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new gr)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var e;(e=this._domNode)===null||e===void 0||e.setClassName(this._visibleClassName)},0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(t=this._domNode)===null||t===void 0||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}const AQ=140;class Z3 extends fr{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new NQ(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new Vm),this._shouldRender=!0,this.domNode=vt(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register($(this.domNode.domNode,ae.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){const t=this._register(new EQ(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,n){this.slider=vt(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof n=="number"&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register($(this.slider.domNode,ae.POINTER_DOWN,o=>{o.button===0&&(o.preventDefault(),this._sliderPointerDown(o))})),this.onclick(this.slider.domNode,o=>{o.leftButton&&o.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);i<=o&&o<=n?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,i=e.offsetY;else{const o=Pi(this.domNode.domNode);t=e.pageX-o.left,i=e.pageY-o.top}const n=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),n=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,o=>{const r=this._sliderOrthogonalPointerPosition(o),a=Math.abs(r-i);if(En&&a>AQ){this._setDesiredScrollPositionNow(n.getScrollPosition());return}const c=this._sliderPointerPosition(o)-t;this._setDesiredScrollPositionNow(n.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const RQ=20;class rm{constructor(e,t,i,n,o,r){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=o,this._scrollPosition=r,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new rm(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,n,o){const r=Math.max(0,i-e),a=Math.max(0,r-2*t),l=n>0&&n>i;if(!l)return{computedAvailableSize:Math.round(r),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const c=Math.round(Math.max(RQ,Math.floor(i*a/n))),d=(a-c)/(n-i),u=o*d;return{computedAvailableSize:Math.round(r),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:d,computedSliderPosition:Math.round(u)}}_refreshComputedValues(){const e=rm._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}class MQ extends Z3{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new rm(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,n.width,n.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const r=(t.arrowSize-sm)/2,a=(t.horizontalScrollbarSize-sm)/2;this._createArrow({className:"scra",icon:se.scrollbarButtonLeft,top:a,left:r,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new mh(null,1,0))}),this._createArrow({className:"scra",icon:se.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:r,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new mh(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class PQ extends Z3{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new rm(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const r=(t.arrowSize-sm)/2,a=(t.verticalScrollbarSize-sm)/2;this._createArrow({className:"scra",icon:se.scrollbarButtonUp,top:r,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new mh(null,0,1))}),this._createArrow({className:"scra",icon:se.scrollbarButtonDown,top:void 0,left:a,bottom:r,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new mh(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class qC{constructor(e,t,i,n,o,r,a){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,i=i|0,n=n|0,o=o|0,r=r|0,a=a|0),this.rawScrollLeft=n,this.rawScrollTop=a,t<0&&(t=0),n+t>i&&(n=i-t),n<0&&(n=0),o<0&&(o=0),a+o>r&&(a=r-o),a<0&&(a=0),this.width=t,this.scrollWidth=i,this.scrollLeft=n,this.height=o,this.scrollHeight=r,this.scrollTop=a}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new qC(this._forceIntegerValues,typeof e.width!="undefined"?e.width:this.width,typeof e.scrollWidth!="undefined"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height!="undefined"?e.height:this.height,typeof e.scrollHeight!="undefined"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new qC(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft!="undefined"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop!="undefined"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,r=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:o,heightChanged:r,scrollHeightChanged:a,scrollTopChanged:l}}}class Nv extends H{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new M),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new qC(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var i;const n=this._state.withScrollDimensions(e,t);this._setState(n,!!this._smoothScrolling),(i=this._smoothScrolling)===null||i===void 0||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;t?n=new g_(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):n=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{const i=this._state.withScrollPosition(e);this._smoothScrolling=g_.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class hO{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function CL(s,e){const t=e-s;return function(i){return s+t*BQ(i)}}function OQ(s,e,t){return function(i){return i<t?s(i/t):e((i-t)/(1-t))}}class g_{constructor(e,t,i,n){this.from=e,this.to=t,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let o,r;return e<t?(o=e+.75*i,r=t-.75*i):(o=e-.75*i,r=t+.75*i),OQ(CL(e,o),CL(r,t),.33)}return CL(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const i=this.scrollLeft(t),n=this.scrollTop(t);return new hO(i,n,!1)}return new hO(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return g_.start(e,t,i)}static start(e,t,i){i=i+10;const n=Date.now()-10;return new g_(e,t,n,i)}}function FQ(s){return Math.pow(s,3)}function BQ(s){return 1-FQ(1-s)}const WQ=500,gO=50;class VQ{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class GC{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,n=this._rear;do{const o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}while(!0);return t<=.5}acceptStandardWheelEvent(e){const t=window.devicePixelRatio/c$();En||Qn?this.accept(Date.now(),e.deltaX/t,e.deltaY/t):this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,i){const n=new VQ(e,t,i);n.score=this._computeScore(n),this._front===-1&&this._rear===-1?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return this._front===-1&&this._rear===-1||this._memory[this._rear],(!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}GC.INSTANCE=new GC;class nR extends fr{get options(){return this._options}constructor(e,t,i){super(),this._onScroll=this._register(new M),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new M),e.style.overflow="hidden",this._options=HQ(t),this._scrollable=i,this._register(this._scrollable.onScroll(o=>{this._onWillScroll.fire(o),this._onDidScroll(o),this._onScroll.fire(o)}));const n={onMouseWheel:o=>this._onMouseWheel(o),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new PQ(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new MQ(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=vt(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=vt(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=vt(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,o=>this._onMouseOver(o)),this.onmouseleave(this._listenOnDomNode,o=>this._onMouseLeave(o)),this._hideTimeout=this._register(new gr),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=St(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,at&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal!="undefined"&&(this._options.horizontal=e.horizontal),typeof e.vertical!="undefined"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage!="undefined"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new mh(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=St(this._mouseWheelToDispose),e)){const i=n=>{this._onMouseWheel(new mh(n))};this._mouseWheelToDispose.push($(this._listenOnDomNode,ae.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){var t;if(!((t=e.browserEvent)===null||t===void 0)&&t.defaultPrevented)return;const i=GC.INSTANCE;i.acceptStandardWheelEvent(e);let n=!1;if(e.deltaY||e.deltaX){let r=e.deltaY*this._options.mouseWheelScrollSensitivity,a=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&a+r===0?a=r=0:Math.abs(r)>=Math.abs(a)?a=0:r=0),this._options.flipAxes&&([r,a]=[a,r]);const l=!at&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||l)&&!a&&(a=r,r=0),e.browserEvent&&e.browserEvent.altKey&&(a=a*this._options.fastScrollSensitivity,r=r*this._options.fastScrollSensitivity);const c=this._scrollable.getFutureScrollPosition();let d={};if(r){const u=gO*r,h=c.scrollTop-(u<0?Math.floor(u):Math.ceil(u));this._verticalScrollbar.writeScrollPosition(d,h)}if(a){const u=gO*a,h=c.scrollLeft-(u<0?Math.floor(u):Math.ceil(u));this._horizontalScrollbar.writeScrollPosition(d,h)}d=this._scrollable.validateScrollPosition(d),(c.scrollLeft!==d.scrollLeft||c.scrollTop!==d.scrollTop)&&(this._options.mouseWheelSmoothScroll&&i.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(d):this._scrollable.setScrollPositionNow(d),n=!0)}let o=n;!o&&this._options.alwaysConsumeMouseWheel&&(o=!0),!o&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(o=!0),o&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,n=i?" left":"",o=t?" top":"",r=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${n}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${r}${o}${n}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),WQ)}}class Q3 extends nR{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new Nv({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:n=>Ps(n)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class oR extends nR{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class Av extends nR{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new Nv({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:n=>Ps(n)});super(e,t,i),this._register(i),this._element=e,this._register(this.onScroll(n=>{n.scrollTopChanged&&(this._element.scrollTop=n.scrollTop),n.scrollLeftChanged&&(this._element.scrollLeft=n.scrollLeft)})),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function HQ(s){const e={lazyRender:typeof s.lazyRender!="undefined"?s.lazyRender:!1,className:typeof s.className!="undefined"?s.className:"",useShadows:typeof s.useShadows!="undefined"?s.useShadows:!0,handleMouseWheel:typeof s.handleMouseWheel!="undefined"?s.handleMouseWheel:!0,flipAxes:typeof s.flipAxes!="undefined"?s.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof s.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?s.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof s.alwaysConsumeMouseWheel!="undefined"?s.alwaysConsumeMouseWheel:!1,scrollYToX:typeof s.scrollYToX!="undefined"?s.scrollYToX:!1,mouseWheelScrollSensitivity:typeof s.mouseWheelScrollSensitivity!="undefined"?s.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof s.fastScrollSensitivity!="undefined"?s.fastScrollSensitivity:5,scrollPredominantAxis:typeof s.scrollPredominantAxis!="undefined"?s.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof s.mouseWheelSmoothScroll!="undefined"?s.mouseWheelSmoothScroll:!0,arrowSize:typeof s.arrowSize!="undefined"?s.arrowSize:11,listenOnDomNode:typeof s.listenOnDomNode!="undefined"?s.listenOnDomNode:null,horizontal:typeof s.horizontal!="undefined"?s.horizontal:1,horizontalScrollbarSize:typeof s.horizontalScrollbarSize!="undefined"?s.horizontalScrollbarSize:10,horizontalSliderSize:typeof s.horizontalSliderSize!="undefined"?s.horizontalSliderSize:0,horizontalHasArrows:typeof s.horizontalHasArrows!="undefined"?s.horizontalHasArrows:!1,vertical:typeof s.vertical!="undefined"?s.vertical:1,verticalScrollbarSize:typeof s.verticalScrollbarSize!="undefined"?s.verticalScrollbarSize:10,verticalHasArrows:typeof s.verticalHasArrows!="undefined"?s.verticalHasArrows:!1,verticalSliderSize:typeof s.verticalSliderSize!="undefined"?s.verticalSliderSize:0,scrollByPage:typeof s.scrollByPage!="undefined"?s.scrollByPage:!1};return e.horizontalSliderSize=typeof s.horizontalSliderSize!="undefined"?s.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof s.verticalSliderSize!="undefined"?s.verticalSliderSize:e.verticalScrollbarSize,at&&(e.className+=" mac"),e}class sR extends Ev{constructor(e,t,i){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new Cn(this._context,i),this._mouseDownOperation=this._register(new zQ(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(r,a)=>this._createMouseTarget(r,a),r=>this._getMouseColumn(r))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(143).height;const n=new fQ(this.viewHelper.viewDomNode);this._register(n.onContextMenu(this.viewHelper.viewDomNode,r=>this._onContextMenu(r,!0))),this._register(n.onMouseMove(this.viewHelper.viewDomNode,r=>{this._onMouseMove(r),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=$(this.viewHelper.viewDomNode.ownerDocument,"mousemove",a=>{this.viewHelper.viewDomNode.contains(a.target)||this._onMouseLeave(new Ed(a,!1,this.viewHelper.viewDomNode))}))})),this._register(n.onMouseUp(this.viewHelper.viewDomNode,r=>this._onMouseUp(r))),this._register(n.onMouseLeave(this.viewHelper.viewDomNode,r=>this._onMouseLeave(r)));let o=0;this._register(n.onPointerDown(this.viewHelper.viewDomNode,(r,a)=>{o=a})),this._register($(this.viewHelper.viewDomNode,ae.POINTER_UP,r=>{this._mouseDownOperation.onPointerUp()})),this._register(n.onMouseDown(this.viewHelper.viewDomNode,r=>this._onMouseDown(r,o))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const e=GC.INSTANCE;let t=0,i=ks.getZoomLevel(),n=!1,o=0;const r=l=>{if(this.viewController.emitMouseWheel(l),!this._context.configuration.options.get(75))return;const c=new mh(l);if(e.acceptStandardWheelEvent(c),e.isPhysicalMouseWheel()){if(a(l)){const d=ks.getZoomLevel(),u=c.deltaY>0?1:-1;ks.setZoomLevel(d+u),c.preventDefault(),c.stopPropagation()}}else Date.now()-t>50&&(i=ks.getZoomLevel(),n=a(l),o=0),t=Date.now(),o+=c.deltaY,n&&(ks.setZoomLevel(i+o/5),c.preventDefault(),c.stopPropagation())};this._register($(this.viewHelper.viewDomNode,ae.MOUSE_WHEEL,r,{capture:!0,passive:!1}));function a(l){return at?(l.metaKey||l.ctrlKey)&&!l.shiftKey&&!l.altKey:l.ctrlKey&&!l.metaKey&&!l.shiftKey&&!l.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(143)){const t=this._context.configuration.options.get(143).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}getTargetAtClientPoint(e,t){const n=new j3(e,t).toPageCoordinates(),o=JA(this.viewHelper.viewDomNode);if(n.y<o.y||n.y>o.y+o.height||n.x<o.x||n.x>o.x+o.width)return null;const r=eR(this.viewHelper.viewDomNode,o,n);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),o,n,r,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){const n=ph(this.viewHelper.viewDomNode);n&&(i=n.elementsFromPoint(e.posx,e.posy).find(o=>this.viewHelper.viewDomNode.contains(o)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!(this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,t){const i=this._createMouseTarget(e,!0),n=i.type===6||i.type===7,o=i.type===2||i.type===3||i.type===4,r=i.type===3,a=this._context.configuration.options.get(108),l=i.type===8||i.type===5,c=i.type===9;let d=e.leftButton||e.middleButton;at&&e.leftButton&&e.ctrlKey&&(d=!1);const u=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(d&&(n||r&&a))u(),this._mouseDownOperation.start(i.type,e,t);else if(o)e.preventDefault();else if(l){const h=i.detail;d&&this.viewHelper.shouldSuppressMouseDownOnViewZone(h.viewZoneId)&&(u(),this._mouseDownOperation.start(i.type,e,t),e.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(u(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:i})}}class zQ extends H{constructor(e,t,i,n,o,r){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._mouseTargetFactory=n,this._createMouseTarget=o,this._getMouseColumn=r,this._mouseMoveMonitor=this._register(new pQ(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new UQ(this._context,this._viewHelper,this._mouseTargetFactory,(a,l,c)=>this._dispatchMouse(a,l,c))),this._mouseState=new ty,this._currentSelection=new _e(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!1);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):t.type===13&&(t.outsidePosition==="above"||t.outsidePosition==="below")?this._topBottomDragScrolling.start(t,e):(this._topBottomDragScrolling.stop(),this._dispatchMouse(t,!0,1)))}start(e,t,i){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const n=this._findMousePosition(t,!0);if(!n||!n.position)return;this._mouseState.trySetCount(t.detail,n.position),t.detail=this._mouseState.count;const o=this._context.configuration.options;if(!o.get(90)&&o.get(35)&&!o.get(22)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&n.type===6&&n.position&&this._currentSelection.containsPosition(n.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,r=>this._onMouseDownThenMove(r),r=>{const a=this._findMousePosition(this._lastMouseEvent,!1);r&&r instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:a?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(n,t.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,r=>this._onMouseDownThenMove(r),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.viewModel,n=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){const a=t.y-e.posy,l=Math.max(n.getCurrentScrollTop()-a,0),c=om.getZoneAtCoord(this._context,l);if(c){const u=this._helpPositionJumpOverViewZone(c);if(u)return qn.createOutsideEditor(o,u,"above",a)}const d=n.getLineNumberAtVerticalOffset(l);return qn.createOutsideEditor(o,new P(d,1),"above",a)}if(e.posy>t.y+t.height){const a=e.posy-t.y-t.height,l=n.getCurrentScrollTop()+e.relativePos.y,c=om.getZoneAtCoord(this._context,l);if(c){const u=this._helpPositionJumpOverViewZone(c);if(u)return qn.createOutsideEditor(o,u,"below",a)}const d=n.getLineNumberAtVerticalOffset(l);return qn.createOutsideEditor(o,new P(d,i.getLineMaxColumn(d)),"below",a)}const r=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+e.relativePos.y);if(e.posx<t.x){const a=t.x-e.posx;return qn.createOutsideEditor(o,new P(r,1),"left",a)}if(e.posx>t.x+t.width){const a=e.posx-t.x-t.width;return qn.createOutsideEditor(o,new P(r,i.getLineMaxColumn(r)),"right",a)}return null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const n=this._createMouseTarget(e,t);if(!n.position)return null;if(n.type===8||n.type===5){const r=this._helpPositionJumpOverViewZone(n.detail);if(r)return qn.createViewZone(n.type,n.element,n.mouseColumn,r,n.detail)}return n}_helpPositionJumpOverViewZone(e){const t=new P(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,n=e.positionAfter;return i&&n?i.isBefore(t)?i:n:null}_dispatchMouse(e,t,i){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:i,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}}class UQ extends H{constructor(e,t,i,n){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=n,this._operation=null}dispose(){super.dispose(),this.stop()}start(e,t){this._operation?this._operation.setPosition(e,t):this._operation=new $Q(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,e,t)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class $Q extends H{constructor(e,t,i,n,o,r){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=n,this._position=o,this._mouseEvent=r,this._lastTime=Date.now(),this._animationFrameDisposable=Ps(()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(e,t){this._position=e,this._mouseEvent=t}_tick(){const e=Date.now(),t=e-this._lastTime;return this._lastTime=e,t}_getScrollSpeed(){const e=this._context.configuration.options.get(66),t=this._context.configuration.options.get(143).height/e,i=this._position.outsideDistance/e;return i<=1.5?Math.max(30,t*(1+i)):i<=3?Math.max(60,t*(2+i)):Math.max(200,t*(7+i))}_execute(){const e=this._context.configuration.options.get(66),t=this._getScrollSpeed(),i=this._tick(),n=t*(i/1e3)*e,o=this._position.outsidePosition==="above"?-n:n;this._context.viewModel.viewLayout.deltaScrollNow(0,o),this._viewHelper.renderNow();const r=this._context.viewLayout.getLinesViewportData(),a=this._position.outsidePosition==="above"?r.startLineNumber:r.endLineNumber;let l;{const c=JA(this._viewHelper.viewDomNode),d=this._context.configuration.options.get(143).horizontalScrollbarHeight,u=new JS(this._mouseEvent.pos.x,c.y+c.height-d-.1),h=eR(this._viewHelper.viewDomNode,c,u);l=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),c,u,h,null)}(!l.position||l.position.lineNumber!==a)&&(this._position.outsidePosition==="above"?l=qn.createOutsideEditor(this._position.mouseColumn,new P(a,1),"above",this._position.outsideDistance):l=qn.createOutsideEditor(this._position.mouseColumn,new P(a,this._context.viewModel.getLineMaxColumn(a)),"below",this._position.outsideDistance)),this._dispatchMouse(l,!0,2),this._animationFrameDisposable=Ps(()=>this._execute())}}class ty{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=new Date().getTime();i-this._lastSetMouseDownCountTime>ty.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}ty.CLEAR_MOUSE_DOWN_COUNT_TIME=400;class tt{get event(){return this.emitter.event}constructor(e,t,i){const n=o=>this.emitter.fire(o);this.emitter=new M({onWillAddFirstListener:()=>e.addEventListener(t,n,i),onDidRemoveLastListener:()=>e.removeEventListener(t,n,i)})}dispose(){this.emitter.dispose()}}var Gc;(function(s){const e={total:0,min:Number.MAX_VALUE,max:0},t=Object.assign({},e),i=Object.assign({},e),n=Object.assign({},e);let o=0;const r={keydown:0,input:0,render:0};function a(){b(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),r.keydown=1,queueMicrotask(l)}s.onKeyDown=a;function l(){r.keydown===1&&(performance.mark("keydown/end"),r.keydown=2)}function c(){performance.mark("input/start"),r.input=1,_()}s.onBeforeInput=c;function d(){r.input===0&&c(),queueMicrotask(u)}s.onInput=d;function u(){r.input===1&&(performance.mark("input/end"),r.input=2)}function h(){b()}s.onKeyUp=h;function g(){b()}s.onSelectionChange=g;function m(){r.keydown===2&&r.input===2&&r.render===0&&(performance.mark("render/start"),r.render=1,queueMicrotask(p),_())}s.onRenderStart=m;function p(){r.render===1&&(performance.mark("render/end"),r.render=2)}function _(){setTimeout(b)}function b(){r.keydown===2&&r.input===2&&r.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),v("keydown",e),v("input",t),v("render",i),v("inputlatency",n),o++,w())}function v(L,I){const E=performance.getEntriesByName(L)[0].duration;I.total+=E,I.min=Math.min(I.min,E),I.max=Math.max(I.max,E)}function w(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),r.keydown=0,r.input=0,r.render=0}function C(){if(o===0)return;const L={keydown:S(e),input:S(t),render:S(i),total:S(n),sampleCount:o};return x(e),x(t),x(i),x(n),o=0,L}s.getAndClearMeasurements=C;function S(L){return{average:L.total/o,max:L.max,min:L.min}}function x(L){L.total=0,L.min=Number.MAX_VALUE,L.max=0}})(Gc||(Gc={}));class rn{constructor(e,t,i,n,o){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selection=n,this.newlineCountBeforeSelection=o}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e,t){const i=e.getValue(),n=e.getSelectionStart(),o=e.getSelectionEnd();let r;if(t){const a=i.substring(0,n),l=t.value.substring(0,t.selectionStart);a===l&&(r=t.newlineCountBeforeSelection)}return new rn(i,n,o,null,r)}collapseSelection(){return this.selectionStart===this.value.length?this:new rn(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){var t,i,n,o,r,a,l,c;if(e<=this.selectionStart){const h=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition((i=(t=this.selection)===null||t===void 0?void 0:t.getStartPosition())!==null&&i!==void 0?i:null,h,-1)}if(e>=this.selectionEnd){const h=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition((o=(n=this.selection)===null||n===void 0?void 0:n.getEndPosition())!==null&&o!==void 0?o:null,h,1)}const d=this.value.substring(this.selectionStart,e);if(d.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((a=(r=this.selection)===null||r===void 0?void 0:r.getStartPosition())!==null&&a!==void 0?a:null,d,1);const u=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition((c=(l=this.selection)===null||l===void 0?void 0:l.getEndPosition())!==null&&c!==void 0?c:null,u,-1)}_finishDeduceEditorPosition(e,t,i){let n=0,o=-1;for(;(o=t.indexOf(`
`,o+1))!==-1;)n++;return[e,i*t.length,n]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const n=Math.min(hh(e.value,t.value),e.selectionStart,t.selectionStart),o=Math.min(TC(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd);e.value.substring(n,e.value.length-o);const r=t.value.substring(n,t.value.length-o),a=e.selectionStart-n,l=e.selectionEnd-n,c=t.selectionStart-n,d=t.selectionEnd-n;if(c===d){const h=e.selectionStart-n;return{text:r,replacePrevCharCnt:h,replaceNextCharCnt:0,positionDelta:0}}const u=l-a;return{text:r,replacePrevCharCnt:u,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(hh(e.value,t.value),e.selectionEnd),n=Math.min(TC(e.value,t.value),e.value.length-e.selectionEnd),o=e.value.substring(i,e.value.length-n),r=t.value.substring(i,t.value.length-n);e.selectionStart-i;const a=e.selectionEnd-i;t.selectionStart-i;const l=t.selectionEnd-i;return{text:r,replacePrevCharCnt:a,replaceNextCharCnt:o.length-a,positionDelta:l-r.length}}}rn.EMPTY=new rn("",0,0,null,void 0);class Jg{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t,n=i+1,o=i+t;return new k(n,1,o+1,1)}static fromEditorSelection(e,t,i,n){const r=Jg._getPageOfLine(t.startLineNumber,i),a=Jg._getRangeForPage(r,i),l=Jg._getPageOfLine(t.endLineNumber,i),c=Jg._getRangeForPage(l,i);let d=a.intersectRanges(new k(1,1,t.startLineNumber,t.startColumn));if(n&&e.getValueLengthInRange(d,1)>500){const b=e.modifyPosition(d.getEndPosition(),-500);d=k.fromPositions(b,d.getEndPosition())}const u=e.getValueInRange(d,1),h=e.getLineCount(),g=e.getLineMaxColumn(h);let m=c.intersectRanges(new k(t.endLineNumber,t.endColumn,h,g));if(n&&e.getValueLengthInRange(m,1)>500){const b=e.modifyPosition(m.getStartPosition(),500);m=k.fromPositions(m.getStartPosition(),b)}const p=e.getValueInRange(m,1);let _;if(r===l||r+1===l)_=e.getValueInRange(t,1);else{const b=a.intersectRanges(t),v=c.intersectRanges(t);_=e.getValueInRange(b,1)+String.fromCharCode(8230)+e.getValueInRange(v,1)}return n&&_.length>2*500&&(_=_.substring(0,500)+String.fromCharCode(8230)+_.substring(_.length-500,_.length)),new rn(u+_+p,u.length,u.length+_.length,t,d.endLineNumber-d.startLineNumber)}}var ZC;(function(s){s.Tap="-monaco-textarea-synthetic-tap"})(ZC||(ZC={}));const SI={forceCopyWithSyntaxHighlighting:!1};class f_{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}f_.INSTANCE=new f_;class jQ{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){e=e||"";const t={text:e,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}class KQ extends H{get textAreaState(){return this._textAreaState}constructor(e,t,i,n){super(),this._host=e,this._textArea=t,this._OS=i,this._browser=n,this._onFocus=this._register(new M),this.onFocus=this._onFocus.event,this._onBlur=this._register(new M),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new M),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new M),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new M),this.onCut=this._onCut.event,this._onPaste=this._register(new M),this.onPaste=this._onPaste.event,this._onType=this._register(new M),this.onType=this._onType.event,this._onCompositionStart=this._register(new M),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new M),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new M),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new M),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new xt(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new xt(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=rn.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let o=null;this._register(this._textArea.onKeyDown(r=>{const a=new Wt(r);(a.keyCode===114||this._currentComposition&&a.keyCode===1)&&a.stopPropagation(),a.equals(9)&&a.preventDefault(),o=a,this._onKeyDown.fire(a)})),this._register(this._textArea.onKeyUp(r=>{const a=new Wt(r);this._onKeyUp.fire(a)})),this._register(this._textArea.onCompositionStart(r=>{const a=new jQ;if(this._currentComposition){this._currentComposition=a;return}if(this._currentComposition=a,this._OS===2&&o&&o.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===r.data&&(o.code==="ArrowRight"||o.code==="ArrowLeft")){a.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:r.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:r.data});return}this._onCompositionStart.fire({data:r.data})})),this._register(this._textArea.onCompositionUpdate(r=>{const a=this._currentComposition;if(!a)return;if(this._browser.isAndroid){const c=rn.readFromTextArea(this._textArea,this._textAreaState),d=rn.deduceAndroidCompositionInput(this._textAreaState,c);this._textAreaState=c,this._onType.fire(d),this._onCompositionUpdate.fire(r);return}const l=a.handleCompositionUpdate(r.data);this._textAreaState=rn.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(l),this._onCompositionUpdate.fire(r)})),this._register(this._textArea.onCompositionEnd(r=>{const a=this._currentComposition;if(!a)return;if(this._currentComposition=null,this._browser.isAndroid){const c=rn.readFromTextArea(this._textArea,this._textAreaState),d=rn.deduceAndroidCompositionInput(this._textAreaState,c);this._textAreaState=c,this._onType.fire(d),this._onCompositionEnd.fire();return}const l=a.handleCompositionUpdate(r.data);this._textAreaState=rn.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(l),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(r=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const a=rn.readFromTextArea(this._textArea,this._textAreaState),l=rn.deduceInput(this._textAreaState,a,this._OS===2);l.replacePrevCharCnt===0&&l.text.length===1&&($i(l.text.charCodeAt(0))||l.text.charCodeAt(0)===127)||(this._textAreaState=a,(l.text!==""||l.replacePrevCharCnt!==0||l.replaceNextCharCnt!==0||l.positionDelta!==0)&&this._onType.fire(l))})),this._register(this._textArea.onCut(r=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(r),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(r=>{this._ensureClipboardGetsEditorSelection(r)})),this._register(this._textArea.onPaste(r=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),r.preventDefault(),!r.clipboardData)return;let[a,l]=yI.getTextData(r.clipboardData);a&&(l=l||f_.INSTANCE.get(a),this._onPaste.fire({text:a,metadata:l}))})),this._register(this._textArea.onFocus(()=>{const r=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!r&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return $(this._textArea.ownerDocument,"selectionchange",t=>{if(Gc.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const i=Date.now(),n=i-e;if(e=i,n<5)return;const o=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),o<100||!this._textAreaState.selection)return;const r=this._textArea.getValue();if(this._textAreaState.value!==r)return;const a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;const c=this._textAreaState.deduceEditorPosition(a),d=this._host.deduceModelPosition(c[0],c[1],c[2]),u=this._textAreaState.deduceEditorPosition(l),h=this._host.deduceModelPosition(u[0],u[1],u[2]),g=new _e(d.lineNumber,d.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(g)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._currentComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};f_.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,i),e.preventDefault(),e.clipboardData&&yI.setTextData(e.clipboardData,t.text,t.html,i)}}const yI={getTextData(s){const e=s.getData(pi.text);let t=null;const i=s.getData("vscode-editor-data");if(typeof i=="string")try{t=JSON.parse(i),t.version!==1&&(t=null)}catch(n){}return e.length===0&&t===null&&s.files.length>0?[Array.prototype.slice.call(s.files,0).map(o=>o.name).join(`
`),null]:[e,t]},setTextData(s,e,t,i){s.setData(pi.text,e),typeof t=="string"&&s.setData("text/html",t),s.setData("vscode-editor-data",JSON.stringify(i))}};class qQ extends H{get ownerDocument(){return this._actual.ownerDocument}constructor(e){super(),this._actual=e,this.onKeyDown=this._register(new tt(this._actual,"keydown")).event,this.onKeyUp=this._register(new tt(this._actual,"keyup")).event,this.onCompositionStart=this._register(new tt(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new tt(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new tt(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new tt(this._actual,"beforeinput")).event,this.onInput=this._register(new tt(this._actual,"input")).event,this.onCut=this._register(new tt(this._actual,"cut")).event,this.onCopy=this._register(new tt(this._actual,"copy")).event,this.onPaste=this._register(new tt(this._actual,"paste")).event,this.onFocus=this._register(new tt(this._actual,"focus")).event,this.onBlur=this._register(new tt(this._actual,"blur")).event,this._onSyntheticTap=this._register(new M),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>Gc.onKeyDown())),this._register(this.onBeforeInput(()=>Gc.onBeforeInput())),this._register(this.onInput(()=>Gc.onInput())),this._register(this.onKeyUp(()=>Gc.onKeyUp())),this._register($(this._actual,ZC.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const e=ph(this._actual);return e?e.activeElement===this._actual:NA(this._actual)?this._actual.ownerDocument.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){const i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){const n=this._actual;let o=null;const r=ph(n);r?o=r.activeElement:o=n.ownerDocument.activeElement;const a=o===n,l=n.selectionStart,c=n.selectionEnd;if(a&&l===t&&c===i){Ms&&window.parent!==window&&n.focus();return}if(a){this.setIgnoreSelectionChangeTime("setSelectionRange"),n.setSelectionRange(t,i),Ms&&window.parent!==window&&n.focus();return}try{const d=xj(n);this.setIgnoreSelectionChangeTime("setSelectionRange"),n.focus(),n.setSelectionRange(t,i),Dj(n,d)}catch(d){}}}class GQ extends sR{constructor(e,t,i){super(e,t,i),this._register(Nt.addTarget(this.viewHelper.linesContentDomNode)),this._register($(this.viewHelper.linesContentDomNode,At.Tap,o=>this.onTap(o))),this._register($(this.viewHelper.linesContentDomNode,At.Change,o=>this.onChange(o))),this._register($(this.viewHelper.linesContentDomNode,At.Contextmenu,o=>this._onContextMenu(new Ed(o,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register($(this.viewHelper.linesContentDomNode,"pointerdown",o=>{const r=o.pointerType;if(r==="mouse"){this._lastPointerType="mouse";return}else r==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const n=new mQ(this.viewHelper.viewDomNode);this._register(n.onPointerMove(this.viewHelper.viewDomNode,o=>this._onMouseMove(o))),this._register(n.onPointerUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,(o,r)=>this._onMouseDown(o,r)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new Ed(e,!1,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:t.type===6&&t.detail.injectedText!==null})}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e,t){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e,t)}}class ZQ extends sR{constructor(e,t,i){super(e,t,i),this._register(Nt.addTarget(this.viewHelper.linesContentDomNode)),this._register($(this.viewHelper.linesContentDomNode,At.Tap,n=>this.onTap(n))),this._register($(this.viewHelper.linesContentDomNode,At.Change,n=>this.onChange(n))),this._register($(this.viewHelper.linesContentDomNode,At.Contextmenu,n=>this._onContextMenu(new Ed(n,!1,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new Ed(e,!1,this.viewHelper.viewDomNode),!1);if(t.position){const i=document.createEvent("CustomEvent");i.initEvent(ZC.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(i),this.viewController.moveTo(t.position,1)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class QQ extends H{constructor(e,t,i){super(),Xr&&EA.pointerEvents?this.handler=this._register(new GQ(e,t,i)):window.TouchEvent?this.handler=this._register(new ZQ(e,t,i)):this.handler=this._register(new sR(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class Zh extends Ev{}const qi=et("themeService");function ti(s){return{id:s}}function kI(s){switch(s){case Is.DARK:return"vs-dark";case Is.HIGH_CONTRAST_DARK:return"hc-black";case Is.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const Y3={ThemingContribution:"base.contributions.theming"};class YQ{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new M}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Re(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}}const X3=new YQ;Jt.add(Y3.ThemingContribution,X3);function mr(s){return X3.onColorThemeChange(s)}class XQ extends H{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}const J3=N("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/editor/common/core/editorColorRegistry","lineHighlight","Background color for the highlight of line at the cursor position.")),fO=N("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:nt},f("vs/editor/common/core/editorColorRegistry","lineHighlightBorderBox","Background color for the border around the line at the cursor position."));N("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},f("vs/editor/common/core/editorColorRegistry","rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0);N("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:Ut,hcLight:Ut},f("vs/editor/common/core/editorColorRegistry","rangeHighlightBorder","Background color of the border around highlighted ranges."),!0);N("editor.symbolHighlightBackground",{dark:za,light:za,hcDark:null,hcLight:null},f("vs/editor/common/core/editorColorRegistry","symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0);N("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:Ut,hcLight:Ut},f("vs/editor/common/core/editorColorRegistry","symbolHighlightBorder","Background color of the border around highlighted symbols."),!0);const e9=N("editorCursor.foreground",{dark:"#AEAFAD",light:V.black,hcDark:V.white,hcLight:"#0F4A85"},f("vs/editor/common/core/editorColorRegistry","caret","Color of the editor cursor.")),JQ=N("editorCursor.background",null,f("vs/editor/common/core/editorColorRegistry","editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),ql=N("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},f("vs/editor/common/core/editorColorRegistry","editorWhitespaces","Color of whitespace characters in the editor.")),eY=N("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:V.white,hcLight:"#292929"},f("vs/editor/common/core/editorColorRegistry","editorLineNumbers","Color of editor line numbers.")),D0=N("editorIndentGuide.background",{dark:ql,light:ql,hcDark:ql,hcLight:ql},f("vs/editor/common/core/editorColorRegistry","editorIndentGuides","Color of the editor indentation guides."),!1,f("vs/editor/common/core/editorColorRegistry","deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),I0=N("editorIndentGuide.activeBackground",{dark:ql,light:ql,hcDark:ql,hcLight:ql},f("vs/editor/common/core/editorColorRegistry","editorActiveIndentGuide","Color of the active editor indentation guides."),!1,f("vs/editor/common/core/editorColorRegistry","deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),Rv=N("editorIndentGuide.background1",{dark:D0,light:D0,hcDark:D0,hcLight:D0},f("vs/editor/common/core/editorColorRegistry","editorIndentGuides1","Color of the editor indentation guides (1).")),tY=N("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorIndentGuides2","Color of the editor indentation guides (2).")),iY=N("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorIndentGuides3","Color of the editor indentation guides (3).")),nY=N("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorIndentGuides4","Color of the editor indentation guides (4).")),oY=N("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorIndentGuides5","Color of the editor indentation guides (5).")),sY=N("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorIndentGuides6","Color of the editor indentation guides (6).")),Mv=N("editorIndentGuide.activeBackground1",{dark:I0,light:I0,hcDark:I0,hcLight:I0},f("vs/editor/common/core/editorColorRegistry","editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),rY=N("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),aY=N("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),lY=N("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),cY=N("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),dY=N("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),T0=N("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:Ut,hcLight:Ut},f("vs/editor/common/core/editorColorRegistry","editorActiveLineNumber","Color of editor active line number"),!1,f("vs/editor/common/core/editorColorRegistry","deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead."));N("editorLineNumber.activeForeground",{dark:T0,light:T0,hcDark:T0,hcLight:T0},f("vs/editor/common/core/editorColorRegistry","editorActiveLineNumber","Color of editor active line number"));const uY=N("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/editor/common/core/editorColorRegistry","editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."));N("editorRuler.foreground",{dark:"#5A5A5A",light:V.lightgrey,hcDark:V.white,hcLight:"#292929"},f("vs/editor/common/core/editorColorRegistry","editorRuler","Color of the editor rulers."));N("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},f("vs/editor/common/core/editorColorRegistry","editorCodeLensForeground","Foreground color of editor CodeLens"));N("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},f("vs/editor/common/core/editorColorRegistry","editorBracketMatchBackground","Background color behind matching brackets"));N("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:nt,hcLight:nt},f("vs/editor/common/core/editorColorRegistry","editorBracketMatchBorder","Color for matching brackets boxes"));const hY=N("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},f("vs/editor/common/core/editorColorRegistry","editorOverviewRulerBorder","Color of the overview ruler border.")),gY=N("editorOverviewRuler.background",null,f("vs/editor/common/core/editorColorRegistry","editorOverviewRulerBackground","Background color of the editor overview ruler."));N("editorGutter.background",{dark:Ki,light:Ki,hcDark:Ki,hcLight:Ki},f("vs/editor/common/core/editorColorRegistry","editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers."));N("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:V.fromHex("#fff").transparent(.8),hcLight:nt},f("vs/editor/common/core/editorColorRegistry","unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor."));const fY=N("editorUnnecessaryCode.opacity",{dark:V.fromHex("#000a"),light:V.fromHex("#0007"),hcDark:null,hcLight:null},f("vs/editor/common/core/editorColorRegistry","unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`));N("editorGhostText.border",{dark:null,light:null,hcDark:V.fromHex("#fff").transparent(.8),hcLight:V.fromHex("#292929").transparent(.8)},f("vs/editor/common/core/editorColorRegistry","editorGhostTextBorder","Border color of ghost text in the editor."));N("editorGhostText.foreground",{dark:V.fromHex("#ffffff56"),light:V.fromHex("#0007"),hcDark:null,hcLight:null},f("vs/editor/common/core/editorColorRegistry","editorGhostTextForeground","Foreground color of the ghost text in the editor."));N("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},f("vs/editor/common/core/editorColorRegistry","editorGhostTextBackground","Background color of the ghost text in the editor."));const E0=new V(new rt(0,122,204,.6)),t9=N("editorOverviewRuler.rangeHighlightForeground",{dark:E0,light:E0,hcDark:E0,hcLight:E0},f("vs/editor/common/core/editorColorRegistry","overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),mY=N("editorOverviewRuler.errorForeground",{dark:new V(new rt(255,18,18,.7)),light:new V(new rt(255,18,18,.7)),hcDark:new V(new rt(255,50,50,1)),hcLight:"#B5200D"},f("vs/editor/common/core/editorColorRegistry","overviewRuleError","Overview ruler marker color for errors.")),pY=N("editorOverviewRuler.warningForeground",{dark:ss,light:ss,hcDark:c_,hcLight:c_},f("vs/editor/common/core/editorColorRegistry","overviewRuleWarning","Overview ruler marker color for warnings.")),bY=N("editorOverviewRuler.infoForeground",{dark:Co,light:Co,hcDark:d_,hcLight:d_},f("vs/editor/common/core/editorColorRegistry","overviewRuleInfo","Overview ruler marker color for infos.")),i9=N("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},f("vs/editor/common/core/editorColorRegistry","editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),n9=N("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},f("vs/editor/common/core/editorColorRegistry","editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),o9=N("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},f("vs/editor/common/core/editorColorRegistry","editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),s9=N("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),r9=N("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),a9=N("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),_Y=N("editorBracketHighlight.unexpectedBracket.foreground",{dark:new V(new rt(255,18,18,.8)),light:new V(new rt(255,18,18,.8)),hcDark:new V(new rt(255,50,50,1)),hcLight:""},f("vs/editor/common/core/editorColorRegistry","editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),vY=N("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),wY=N("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),CY=N("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),SY=N("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),yY=N("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),kY=N("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),LY=N("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),xY=N("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),DY=N("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),IY=N("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),TY=N("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),EY=N("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f("vs/editor/common/core/editorColorRegistry","editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));N("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},f("vs/editor/common/core/editorColorRegistry","editorUnicodeHighlight.border","Border color used to highlight unicode characters."));N("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},f("vs/editor/common/core/editorColorRegistry","editorUnicodeHighlight.background","Background color used to highlight unicode characters."));mr((s,e)=>{const t=s.getColor(Ki),i=s.getColor(J3),n=i&&!i.isTransparent()?i:t;n&&e.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${n}; }`)});class Pv extends Zh{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new P(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(66);const t=e.get(67);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(94);const i=e.get(143);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new P(e,1));if(t.column!==1)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){const n=Math.abs(this._lastCursorModelPosition.lineNumber-i);return n===0?'<span class="relative-current-line-number">'+i+"</span>":String(n)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10===0?String(i):"":String(i)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const t=Qn?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=this._context.viewModel.getLineCount(),r=[];for(let a=i;a<=n;a++){const l=a-i,c=this._getLineRenderLineNumber(a);if(!c){r[l]="";continue}let d="";if(a===o&&this._context.viewModel.getLineLength(a)===0){if(this._renderFinalNewline==="off"){r[l]="";continue}this._renderFinalNewline==="dimmed"&&(d=" dimmed-line-number")}a===this._activeLineNumber&&(d=" active-line-number"),r[l]=`<div class="${Pv.CLASS_NAME}${t}${d}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${c}</div>`}this._renderResult=r}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}Pv.CLASS_NAME="line-numbers";mr((s,e)=>{const t=s.getColor(eY),i=s.getColor(uY);i?e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${i}; }`):t&&e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${t.transparent(.4)}; }`)});class bh extends Uo{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(143);this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=vt(document.createElement("div")),this._domNode.setClassName(bh.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=vt(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(bh.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);return this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}bh.CLASS_NAME="glyph-margin";bh.OUTER_CLASS_NAME="margin";const Lf="monaco-mouse-cursor-text";class NY{constructor(){this._onDidChange=new M,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const ub=new NY,Et=et("keybindingService");var AY=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},RY=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};class MY{constructor(e,t,i,n,o){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=n,this.distanceToModelLineEnd=o,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const t=new P(this.modelLineNumber,this.distanceToModelLineStart+1),i=new P(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const SL=Ms;let LI=class extends Uo{constructor(e,t,i,n){super(e),this._keybindingService=n,this._primaryCursorPosition=new P(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;const o=this._context.configuration.options,r=o.get(143);this._setAccessibilityOptions(o),this._contentLeft=r.contentLeft,this._contentWidth=r.contentWidth,this._contentHeight=r.height,this._fontInfo=o.get(50),this._lineHeight=o.get(66),this._emptySelectionClipboard=o.get(37),this._copyWithSyntaxHighlighting=o.get(25),this._visibleTextArea=null,this._selections=[new _e(1,1,1,1)],this._modelSelections=[new _e(1,1,1,1)],this._lastRenderPosition=null,this.textArea=vt(document.createElement("textarea")),tl.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Lf}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:a}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${a*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("aria-required",o.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(o.get(123))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",f("vs/editor/browser/controller/textAreaHandler","editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",o.get(90)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=vt(document.createElement("div")),this.textAreaCover.setPosition("absolute");const l={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:u=>this._context.viewModel.getLineMaxColumn(u),getValueInRange:(u,h)=>this._context.viewModel.getValueInRange(u,h),getValueLengthInRange:(u,h)=>this._context.viewModel.getValueLengthInRange(u,h),modifyPosition:(u,h)=>this._context.viewModel.modifyPosition(u,h)},c={getDataToCopy:()=>{const u=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,En),h=this._context.viewModel.model.getEOL(),g=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),m=Array.isArray(u)?u:null,p=Array.isArray(u)?u.join(h):u;let _,b=null;if(SI.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&p.length<65536){const v=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);v&&(_=v.html,b=v.mode)}return{isFromEmptySelection:g,multicursorText:m,text:p,html:_,mode:b}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const u=this._selections[0];if(at&&u.isEmpty()){const g=u.getStartPosition();let m=this._getWordBeforePosition(g);if(m.length===0&&(m=this._getCharacterBeforePosition(g)),m.length>0)return new rn(m,m.length,m.length,k.fromPositions(g),0)}const h=500;if(at&&!u.isEmpty()&&l.getValueLengthInRange(u,0)<h){const g=l.getValueInRange(u,0);return new rn(g,0,g.length,u,0)}if(ac&&!u.isEmpty()){const g="vscode-placeholder";return new rn(g,0,g.length,null,void 0)}return rn.EMPTY}if(UP){const u=this._selections[0];if(u.isEmpty()){const h=u.getStartPosition(),[g,m]=this._getAndroidWordAtPosition(h);if(g.length>0)return new rn(g,m,m,k.fromPositions(h),0)}return rn.EMPTY}return Jg.fromEditorSelection(l,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(u,h,g)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(u,h,g)},d=this._register(new qQ(this.textArea.domNode));this._textAreaInput=this._register(new KQ(c,d,ns,{isAndroid:UP,isChrome:xA,isFirefox:Ms,isSafari:ac})),this._register(this._textAreaInput.onKeyDown(u=>{this._viewController.emitKeyDown(u)})),this._register(this._textAreaInput.onKeyUp(u=>{this._viewController.emitKeyUp(u)})),this._register(this._textAreaInput.onPaste(u=>{let h=!1,g=null,m=null;u.metadata&&(h=this._emptySelectionClipboard&&!!u.metadata.isFromEmptySelection,g=typeof u.metadata.multicursorText!="undefined"?u.metadata.multicursorText:null,m=u.metadata.mode),this._viewController.paste(u.text,h,g,m)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(u=>{u.replacePrevCharCnt||u.replaceNextCharCnt||u.positionDelta?this._viewController.compositionType(u.text,u.replacePrevCharCnt,u.replaceNextCharCnt,u.positionDelta):this._viewController.type(u.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(u=>{this._viewController.setSelection(u)})),this._register(this._textAreaInput.onCompositionStart(u=>{const h=this.textArea.domNode,g=this._modelSelections[0],{distanceToModelLineStart:m,widthOfHiddenTextBefore:p}=(()=>{const b=h.value.substring(0,Math.min(h.selectionStart,h.selectionEnd)),v=b.lastIndexOf(`
`),w=b.substring(v+1),C=w.lastIndexOf("	"),S=w.length-C-1,x=g.getStartPosition(),L=Math.min(x.column-1,S),I=x.column-1-L,E=w.substring(0,w.length-L),{tabSize:W}=this._context.viewModel.model.getOptions(),U=PY(this.textArea.domNode.ownerDocument,E,this._fontInfo,W);return{distanceToModelLineStart:I,widthOfHiddenTextBefore:U}})(),{distanceToModelLineEnd:_}=(()=>{const b=h.value.substring(Math.max(h.selectionStart,h.selectionEnd)),v=b.indexOf(`
`),w=v===-1?b:b.substring(0,v),C=w.indexOf("	"),S=C===-1?w.length:w.length-C-1,x=g.getEndPosition(),L=Math.min(this._context.viewModel.model.getLineMaxColumn(x.lineNumber)-x.column,S);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(x.lineNumber)-x.column-L}})();this._context.viewModel.revealRange("keyboard",!0,k.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new MY(this._context,g.startLineNumber,m,p,_),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Lf} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(u=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${Lf}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(ub.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(e){this._textAreaInput.writeScreenReaderContent(e)}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',i=this._context.viewModel.getLineContent(e.lineNumber),n=Fs(t);let o=!0,r=e.column,a=!0,l=e.column,c=0;for(;c<50&&(o||a);){if(o&&r<=1&&(o=!1),o){const d=i.charCodeAt(r-2);n.get(d)!==0?o=!1:r--}if(a&&l>i.length&&(a=!1),a){const d=i.charCodeAt(l-1);n.get(d)!==0?a=!1:l++}c++}return[i.substring(r-1,l-1),e.column-r]}_getWordBeforePosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),i=Fs(this._context.configuration.options.get(129));let n=e.column,o=0;for(;n>1;){const r=t.charCodeAt(n-2);if(i.get(r)!==0||o>50)return t.substring(n-1,e.column-1);o++,n--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const i=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!$i(i.charCodeAt(0)))return i}return""}_getAriaLabel(e){var t,i,n;if(e.get(2)===1){const r=(t=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||t===void 0?void 0:t.getAriaLabel(),a=(i=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||i===void 0?void 0:i.getAriaLabel(),l=(n=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||n===void 0?void 0:n.getAriaLabel(),c=f("vs/editor/browser/controller/textAreaHandler","accessibilityModeOff","The editor is not accessible at this time.");return r?f("vs/editor/browser/controller/textAreaHandler","accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",c,r):a?f("vs/editor/browser/controller/textAreaHandler","accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",c,a):l?f("vs/editor/browser/controller/textAreaHandler","accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",c,l):c}return e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);this._accessibilitySupport===2&&t===sa.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t;const n=e.get(143).wrappingColumn;if(n!==-1&&this._accessibilitySupport!==1){const o=e.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(n*o.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=SL?0:1}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(50),this._lineHeight=t.get(66),this._emptySelectionClipboard=t.get(37),this._copyWithSyntaxHighlighting=t.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:n}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${n*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("aria-required",t.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(t.get(123))),(e.hasChanged(34)||e.hasChanged(90))&&this._ensureReadOnlyAttribute(),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}_ensureReadOnlyAttribute(){const e=this._context.configuration.options;!ub.enabled||e.get(34)&&e.get(90)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(e){var t;this._primaryCursorPosition=new P(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),(t=this._visibleTextArea)===null||t===void 0||t.prepareRender(e)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){var e;if(this._visibleTextArea){const n=this._visibleTextArea.visibleTextareaStart,o=this._visibleTextArea.visibleTextareaEnd,r=this._visibleTextArea.startPosition,a=this._visibleTextArea.endPosition;if(r&&a&&n&&o&&o.left>=this._scrollLeft&&n.left<=this._scrollLeft+this._contentWidth){const l=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,c=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let d=this._visibleTextArea.widthOfHiddenLineTextBefore,u=this._contentLeft+n.left-this._scrollLeft,h=o.left-n.left+1;if(u<this._contentLeft){const v=this._contentLeft-u;u+=v,d+=v,h-=v}h>this._contentWidth&&(h=this._contentWidth);const g=this._context.viewModel.getViewLineData(r.lineNumber),m=g.tokens.findTokenIndexAtOffset(r.column-1),p=g.tokens.findTokenIndexAtOffset(a.column-1),_=m===p,b=this._visibleTextArea.definePresentation(_?g.tokens.getPresentation(m):null);this.textArea.domNode.scrollTop=c*this._lineHeight,this.textArea.domNode.scrollLeft=d,this._doRender({lastRenderPosition:null,top:l,left:u,width:h,height:this._lineHeight,useCover:!1,color:(ei.getColorMap()||[])[b.foreground],italic:b.italic,bold:b.bold,underline:b.underline,strikethrough:b.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const t=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(t<this._contentLeft||t>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const i=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(i<0||i>this._contentHeight){this._renderAtTopLeft();return}if(at){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:i,left:this._textAreaWrapping?this._contentLeft:t,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const n=(e=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&e!==void 0?e:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=n*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:i,left:this._textAreaWrapping?this._contentLeft:t,width:this._textAreaWidth,height:SL?0:1,useCover:!1})}_newlinecount(e){let t=0,i=-1;do{if(i=e.indexOf(`
`,i+1),i===-1)break;t++}while(!0);return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:SL?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const t=this.textArea,i=this.textAreaCover;In(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?V.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),i.setTop(e.useCover?e.top:0),i.setLeft(e.useCover?e.left:0),i.setWidth(e.useCover?e.width:0),i.setHeight(e.useCover?e.height:0);const n=this._context.configuration.options;n.get(57)?i.setClassName("monaco-editor-background textAreaCover "+bh.OUTER_CLASS_NAME):n.get(67).renderType!==0?i.setClassName("monaco-editor-background textAreaCover "+Pv.CLASS_NAME):i.setClassName("monaco-editor-background textAreaCover")}};LI=AY([RY(3,Et)],LI);function PY(s,e,t,i){if(e.length===0)return 0;const n=s.createElement("div");n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";const o=s.createElement("span");In(o,t),o.style.whiteSpace="pre",o.style.tabSize=`${i*t.spaceWidth}px`,o.append(e),n.appendChild(o),s.body.appendChild(n);const r=o.offsetWidth;return s.body.removeChild(n),r}function OY(s,e,t){let i=0;for(let o=0;o<s.length;o++)s.charAt(o)==="	"?i=Wi.nextIndentTabStop(i,e):i++;let n="";if(!t){const o=Math.floor(i/e);i=i%e;for(let r=0;r<o;r++)n+="	"}for(let o=0;o<i;o++)n+=" ";return n}function QC(s,e,t){let i=Zn(s);return i===-1&&(i=s.length),OY(s.substring(0,i),e,t)+s.substring(i)}const FY=()=>!0,BY=()=>!1,WY=s=>s===" "||s==="	";class pg{static shouldRecreate(e){return e.hasChanged(143)||e.hasChanged(129)||e.hasChanged(37)||e.hasChanged(76)||e.hasChanged(78)||e.hasChanged(79)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(9)||e.hasChanged(10)||e.hasChanged(14)||e.hasChanged(127)||e.hasChanged(50)||e.hasChanged(90)}constructor(e,t,i,n){var o;this.languageConfigurationService=n,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const r=i.options,a=r.get(143),l=r.get(50);this.readOnly=r.get(90),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=r.get(115),this.lineHeight=l.lineHeight,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(a.height/this.lineHeight)-2),this.useTabStops=r.get(127),this.wordSeparators=r.get(129),this.emptySelectionClipboard=r.get(37),this.copyWithSyntaxHighlighting=r.get(25),this.multiCursorMergeOverlapping=r.get(76),this.multiCursorPaste=r.get(78),this.multiCursorLimit=r.get(79),this.autoClosingBrackets=r.get(6),this.autoClosingComments=r.get(7),this.autoClosingQuotes=r.get(11),this.autoClosingDelete=r.get(9),this.autoClosingOvertype=r.get(10),this.autoSurround=r.get(14),this.autoIndent=r.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(e,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const c=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(c)for(const u of c)this.surroundingPairs[u.open]=u.close;const d=this.languageConfigurationService.getLanguageConfiguration(e).comments;this.blockCommentStartToken=(o=d==null?void 0:d.blockCommentStartToken)!==null&&o!==void 0?o:null}get electricChars(){var e;if(!this._electricChars){this._electricChars={};const t=(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||e===void 0?void 0:e.getElectricCharacters();if(t)for(const i of t)this._electricChars[i]=!0}return this._electricChars}onElectricCharacter(e,t,i){const n=zS(t,i-1),o=this.languageConfigurationService.getLanguageConfiguration(n.languageId).electricCharacter;return o?o.onElectricCharacter(e,n,i-n.firstCharOffset):null}normalizeIndentation(e){return QC(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t,i){switch(t){case"beforeWhitespace":return WY;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e,i);case"always":return FY;case"never":return BY}}_getLanguageDefinedShouldAutoClose(e,t){const i=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet(t);return n=>i.indexOf(n)!==-1}visibleColumnFromColumn(e,t){return Wi.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,i){const n=Wi.columnFromVisibleColumn(e.getLineContent(t),i,this.tabSize),o=e.getLineMinColumn(t);if(n<o)return o;const r=e.getLineMaxColumn(t);return n>r?r:n}}let ut=class l9{static fromModelState(e){return new VY(e)}static fromViewState(e){return new HY(e)}static fromModelSelection(e){const t=_e.liftSelection(e),i=new cn(k.fromPositions(t.getSelectionStart()),0,0,t.getPosition(),0);return l9.fromModelState(i)}static fromModelSelections(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.fromModelSelection(e[i]);return t}constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}};class VY{constructor(e){this.modelState=e,this.viewState=null}}class HY{constructor(e){this.modelState=null,this.viewState=e}}class cn{constructor(e,t,i,n,o){this.selectionStart=e,this.selectionStartKind=t,this.selectionStartLeftoverVisibleColumns=i,this.position=n,this.leftoverVisibleColumns=o,this._singleCursorStateBrand=void 0,this.selection=cn._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.selectionStartKind===e.selectionStartKind&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,n){return e?new cn(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new P(t,i),n):new cn(new k(t,i,t,i),0,n,new P(t,i),n)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?_e.fromPositions(e.getStartPosition(),t):_e.fromPositions(e.getEndPosition(),t)}}class mo{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function Nc(s){return s==="'"||s==='"'||s==="`"}class Mu{static columnSelect(e,t,i,n,o,r){const a=Math.abs(o-i)+1,l=i>o,c=n>r,d=n<r,u=[];for(let h=0;h<a;h++){const g=i+(l?-h:h),m=e.columnFromVisibleColumn(t,g,n),p=e.columnFromVisibleColumn(t,g,r),_=e.visibleColumnFromColumn(t,new P(g,m)),b=e.visibleColumnFromColumn(t,new P(g,p));d&&(_>r||b<n)||c&&(b>n||_<r)||u.push(new cn(new k(g,m,g,m),0,0,new P(g,p),0))}if(u.length===0)for(let h=0;h<a;h++){const g=i+(l?-h:h),m=t.getLineMaxColumn(g);u.push(new cn(new k(g,m,g,m),0,0,new P(g,m),0))}return{viewStates:u,reversed:l,fromLineNumber:i,fromVisualColumn:n,toLineNumber:o,toVisualColumn:r}}static columnSelectLeft(e,t,i){let n=i.toViewVisualColumn;return n>0&&n--,Mu.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,n)}static columnSelectRight(e,t,i){let n=0;const o=Math.min(i.fromViewLineNumber,i.toViewLineNumber),r=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let l=o;l<=r;l++){const c=t.getLineMaxColumn(l),d=e.visibleColumnFromColumn(t,new P(l,c));n=Math.max(n,d)}let a=i.toViewVisualColumn;return a<n&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,n){const o=n?e.pageSize:1,r=Math.max(1,i.toViewLineNumber-o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,r,i.toViewVisualColumn)}static columnSelectDown(e,t,i,n){const o=n?e.pageSize:1,r=Math.min(t.getLineCount(),i.toViewLineNumber+o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,r,i.toViewVisualColumn)}}class Sn{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return _e.fromPositions(n.getEndPosition())}}class zY{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return _e.fromRange(n,0)}}class N0{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return _e.fromPositions(n.getStartPosition())}}class Zw{constructor(e,t,i,n,o=!1){this._range=e,this._text=t,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return _e.fromPositions(n.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class rR{constructor(e,t,i,n=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class yL{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class wt{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-CW(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new P(i,e.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const n=e.getLineMinColumn(t.lineNumber),o=e.getLineContent(t.lineNumber),r=h_.atomicPosition(o,t.column-1,i,0);if(r!==-1&&r+1>=n)return new P(t.lineNumber,r+1)}return this.leftPosition(e,t)}static left(e,t,i){const n=e.stickyTabStops?wt.leftPositionAtomicSoftTabs(t,i,e.tabSize):wt.leftPosition(t,i);return new yL(n.lineNumber,n.column,0)}static moveLeft(e,t,i,n,o){let r,a;if(i.hasSelection()&&!n)r=i.selection.startLineNumber,a=i.selection.startColumn;else{const l=i.position.delta(void 0,-(o-1)),c=t.normalizePosition(wt.clipPositionColumn(l,t),0),d=wt.left(e,t,c);r=d.lineNumber,a=d.column}return i.move(n,r,a,0)}static clipPositionColumn(e,t){return new P(e.lineNumber,wt.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i=i+yA(e.getLineContent(t),i-1):t<e.getLineCount()&&(t=t+1,i=e.getLineMinColumn(t)),new P(t,i)}static rightPositionAtomicSoftTabs(e,t,i,n,o){if(i<e.getLineIndentColumn(t)){const r=e.getLineContent(t),a=h_.atomicPosition(r,i-1,n,1);if(a!==-1)return new P(t,a+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const n=e.stickyTabStops?wt.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):wt.rightPosition(t,i.lineNumber,i.column);return new yL(n.lineNumber,n.column,0)}static moveRight(e,t,i,n,o){let r,a;if(i.hasSelection()&&!n)r=i.selection.endLineNumber,a=i.selection.endColumn;else{const l=i.position.delta(void 0,o-1),c=t.normalizePosition(wt.clipPositionColumn(l,t),1),d=wt.right(e,t,c);r=d.lineNumber,a=d.column}return i.move(n,r,a,0)}static vertical(e,t,i,n,o,r,a,l){const c=Wi.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+o,d=t.getLineCount(),u=i===1&&n===1,h=i===d&&n===t.getLineMaxColumn(i),g=r<i?u:h;if(i=r,i<1?(i=1,a?n=t.getLineMinColumn(i):n=Math.min(t.getLineMaxColumn(i),n)):i>d?(i=d,a?n=t.getLineMaxColumn(i):n=Math.min(t.getLineMaxColumn(i),n)):n=e.columnFromVisibleColumn(t,i,c),g?o=0:o=c-Wi.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize),l!==void 0){const m=new P(i,n),p=t.normalizePosition(m,l);o=o+(n-p.column),i=p.lineNumber,n=p.column}return new yL(i,n,o)}static down(e,t,i,n,o,r,a){return this.vertical(e,t,i,n,o,i+r,a,4)}static moveDown(e,t,i,n,o){let r,a;i.hasSelection()&&!n?(r=i.selection.endLineNumber,a=i.selection.endColumn):(r=i.position.lineNumber,a=i.position.column);let l=0,c;do if(c=wt.down(e,t,r+l,a,i.leftoverVisibleColumns,o,!0),t.normalizePosition(new P(c.lineNumber,c.column),2).lineNumber>r)break;while(l++<10&&r+l<t.getLineCount());return i.move(n,c.lineNumber,c.column,c.leftoverVisibleColumns)}static translateDown(e,t,i){const n=i.selection,o=wt.down(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),r=wt.down(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new cn(new k(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new P(r.lineNumber,r.column),r.leftoverVisibleColumns)}static up(e,t,i,n,o,r,a){return this.vertical(e,t,i,n,o,i-r,a,3)}static moveUp(e,t,i,n,o){let r,a;i.hasSelection()&&!n?(r=i.selection.startLineNumber,a=i.selection.startColumn):(r=i.position.lineNumber,a=i.position.column);const l=wt.up(e,t,r,a,i.leftoverVisibleColumns,o,!0);return i.move(n,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,i){const n=i.selection,o=wt.up(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),r=wt.up(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new cn(new k(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new P(r.lineNumber,r.column),r.leftoverVisibleColumns)}static _isBlankLine(e,t){return e.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(e,t,i,n){let o=i.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return i.move(n,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,i,n){const o=t.getLineCount();let r=i.position.lineNumber;for(;r<o&&this._isBlankLine(t,r);)r++;for(;r<o&&!this._isBlankLine(t,r);)r++;return i.move(n,r,t.getLineMinColumn(r),0)}static moveToBeginningOfLine(e,t,i,n){const o=i.position.lineNumber,r=t.getLineMinColumn(o),a=t.getLineFirstNonWhitespaceColumn(o)||r;let l;return i.position.column===a?l=r:l=a,i.move(n,o,l,0)}static moveToEndOfLine(e,t,i,n,o){const r=i.position.lineNumber,a=t.getLineMaxColumn(r);return i.move(n,r,a,o?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(e,t,i,n){const o=t.getLineCount(),r=t.getLineMaxColumn(o);return i.move(n,o,r,0)}}class _h{static deleteRight(e,t,i,n){const o=[];let r=e!==3;for(let a=0,l=n.length;a<l;a++){const c=n[a];let d=c;if(d.isEmpty()){const u=c.getPosition(),h=wt.right(t,i,u);d=new k(h.lineNumber,h.column,u.lineNumber,u.column)}if(d.isEmpty()){o[a]=null;continue}d.startLineNumber!==d.endLineNumber&&(r=!0),o[a]=new Sn(d,"")}return[r,o]}static isAutoClosingPairDelete(e,t,i,n,o,r,a){if(t==="never"&&i==="never"||e==="never")return!1;for(let l=0,c=r.length;l<c;l++){const d=r[l],u=d.getPosition();if(!d.isEmpty())return!1;const h=o.getLineContent(u.lineNumber);if(u.column<2||u.column>=h.length+1)return!1;const g=h.charAt(u.column-2),m=n.get(g);if(!m)return!1;if(Nc(g)){if(i==="never")return!1}else if(t==="never")return!1;const p=h.charAt(u.column-1);let _=!1;for(const b of m)b.open===g&&b.close===p&&(_=!0);if(!_)return!1;if(e==="auto"){let b=!1;for(let v=0,w=a.length;v<w;v++){const C=a[v];if(u.lineNumber===C.startLineNumber&&u.column===C.startColumn){b=!0;break}}if(!b)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){const n=[];for(let o=0,r=i.length;o<r;o++){const a=i[o].getPosition(),l=new k(a.lineNumber,a.column-1,a.lineNumber,a.column+1);n[o]=new Sn(l,"")}return[!0,n]}static deleteLeft(e,t,i,n,o){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,n,o))return this._runAutoClosingPairDelete(t,i,n);const r=[];let a=e!==2;for(let l=0,c=n.length;l<c;l++){const d=_h.getDeleteRange(n[l],i,t);if(d.isEmpty()){r[l]=null;continue}d.startLineNumber!==d.endLineNumber&&(a=!0),r[l]=new Sn(d,"")}return[a,r]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const n=e.getPosition();if(i.useTabStops&&n.column>1){const o=t.getLineContent(n.lineNumber),r=Zn(o),a=r===-1?o.length+1:r+1;if(n.column<=a){const l=i.visibleColumnFromColumn(t,n),c=Wi.prevIndentTabStop(l,i.indentSize),d=i.columnFromVisibleColumn(t,n.lineNumber,c);return new k(n.lineNumber,d,n.lineNumber,n.column)}}return k.fromPositions(_h.getPositionAfterDeleteLeft(n,t),n)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=n$(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}else if(e.lineNumber>1){const i=e.lineNumber-1;return new P(i,t.getLineMaxColumn(i))}else return e}static cut(e,t,i){const n=[];let o=null;i.sort((r,a)=>P.compare(r.getStartPosition(),a.getEndPosition()));for(let r=0,a=i.length;r<a;r++){const l=i[r];if(l.isEmpty())if(e.emptySelectionClipboard){const c=l.getPosition();let d,u,h,g;c.lineNumber<t.getLineCount()?(d=c.lineNumber,u=1,h=c.lineNumber+1,g=1):c.lineNumber>1&&(o==null?void 0:o.endLineNumber)!==c.lineNumber?(d=c.lineNumber-1,u=t.getLineMaxColumn(c.lineNumber-1),h=c.lineNumber,g=t.getLineMaxColumn(c.lineNumber)):(d=c.lineNumber,u=1,h=c.lineNumber,g=t.getLineMaxColumn(c.lineNumber));const m=new k(d,u,h,g);o=m,m.isEmpty()?n[r]=null:n[r]=new Sn(m,"")}else n[r]=null;else n[r]=new Sn(l,"")}return new mo(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class pt{static _createWord(e,t,i,n,o){return{start:n,end:o,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){const n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,e,i)}static _doFindPreviousWordOnLine(e,t,i){let n=0;for(let o=i.column-2;o>=0;o--){const r=e.charCodeAt(o),a=t.get(r);if(a===0){if(n===2)return this._createWord(e,n,a,o+1,this._findEndOfWord(e,t,n,o+1));n=1}else if(a===2){if(n===1)return this._createWord(e,n,a,o+1,this._findEndOfWord(e,t,n,o+1));n=2}else if(a===1&&n!==0)return this._createWord(e,n,a,o+1,this._findEndOfWord(e,t,n,o+1))}return n!==0?this._createWord(e,n,1,0,this._findEndOfWord(e,t,n,0)):null}static _findEndOfWord(e,t,i,n){const o=e.length;for(let r=n;r<o;r++){const a=e.charCodeAt(r),l=t.get(a);if(l===1||i===1&&l===2||i===2&&l===0)return r}return o}static _findNextWordOnLine(e,t,i){const n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,e,i)}static _doFindNextWordOnLine(e,t,i){let n=0;const o=e.length;for(let r=i.column-1;r<o;r++){const a=e.charCodeAt(r),l=t.get(a);if(l===0){if(n===2)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,r-1),r);n=1}else if(l===2){if(n===1)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,r-1),r);n=2}else if(l===1&&n!==0)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,r-1),r)}return n!==0?this._createWord(e,n,1,this._findStartOfWord(e,t,n,o-1),o):null}static _findStartOfWord(e,t,i,n){for(let o=n;o>=0;o--){const r=e.charCodeAt(o),a=t.get(r);if(a===1||i===1&&a===2||i===2&&a===0)return o+1}return 0}static moveWordLeft(e,t,i,n){let o=i.lineNumber,r=i.column;r===1&&o>1&&(o=o-1,r=t.getLineMaxColumn(o));let a=pt._findPreviousWordOnLine(e,t,new P(o,r));if(n===0)return new P(o,a?a.start+1:1);if(n===1)return a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=pt._findPreviousWordOnLine(e,t,new P(o,a.start+1))),new P(o,a?a.start+1:1);if(n===3){for(;a&&a.wordType===2;)a=pt._findPreviousWordOnLine(e,t,new P(o,a.start+1));return new P(o,a?a.start+1:1)}return a&&r<=a.end+1&&(a=pt._findPreviousWordOnLine(e,t,new P(o,a.start+1))),new P(o,a?a.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===1)return i>1?new P(i-1,e.getLineMaxColumn(i-1)):t;const o=e.getLineContent(i);for(let r=t.column-1;r>1;r--){const a=o.charCodeAt(r-2),l=o.charCodeAt(r-1);if(a===95&&l!==95)return new P(i,r);if(a===45&&l!==45)return new P(i,r);if((Uc(a)||_0(a))&&Sa(l))return new P(i,r);if(Sa(a)&&Sa(l)&&r+1<n){const c=o.charCodeAt(r);if(Uc(c)||_0(c))return new P(i,r)}}return new P(i,1)}static moveWordRight(e,t,i,n){let o=i.lineNumber,r=i.column,a=!1;r===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(a=!0,o=o+1,r=1);let l=pt._findNextWordOnLine(e,t,new P(o,r));if(n===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=pt._findNextWordOnLine(e,t,new P(o,l.end+1))),l?r=l.end+1:r=t.getLineMaxColumn(o);else if(n===3){for(a&&(r=0);l&&(l.wordType===2||l.start+1<=r);)l=pt._findNextWordOnLine(e,t,new P(o,l.end+1));l?r=l.start+1:r=t.getLineMaxColumn(o)}else l&&!a&&r>=l.start+1&&(l=pt._findNextWordOnLine(e,t,new P(o,l.end+1))),l?r=l.start+1:r=t.getLineMaxColumn(o);return new P(o,r)}static _moveWordPartRight(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===n)return i<e.getLineCount()?new P(i+1,1):t;const o=e.getLineContent(i);for(let r=t.column+1;r<n;r++){const a=o.charCodeAt(r-2),l=o.charCodeAt(r-1);if(a!==95&&l===95)return new P(i,r);if(a!==45&&l===45)return new P(i,r);if((Uc(a)||_0(a))&&Sa(l))return new P(i,r);if(Sa(a)&&Sa(l)&&r+1<n){const c=o.charCodeAt(r);if(Uc(c)||_0(c))return new P(i,r)}}return new P(i,n)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-2,o=Gr(i,n);return o+1<n?new k(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,n=e.model,o=e.selection,r=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(_h.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const u=e.selection.getPosition();return new k(u.lineNumber,u.column-1,u.lineNumber,u.column+1)}const a=new P(o.positionLineNumber,o.positionColumn);let l=a.lineNumber,c=a.column;if(l===1&&c===1)return null;if(r){const u=this._deleteWordLeftWhitespace(n,a);if(u)return u}let d=pt._findPreviousWordOnLine(i,n,a);return t===0?d?c=d.start+1:c>1?c=1:(l--,c=n.getLineMaxColumn(l)):(d&&c<=d.end+1&&(d=pt._findPreviousWordOnLine(i,n,new P(l,d.start+1))),d?c=d.end+1:c>1?c=1:(l--,c=n.getLineMaxColumn(l))),new k(l,c,a.lineNumber,a.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const n=new P(i.positionLineNumber,i.positionColumn),o=this._deleteInsideWordWhitespace(t,n);return o||this._deleteInsideWordDetermineDeleteRange(e,t,n)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return i===32||i===9}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=i.length;if(n===0)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,o))return null;let r=Math.min(t.column-1,n-1);if(!this._charAtIsWhitespace(i,r))return null;for(;o>0&&this._charAtIsWhitespace(i,o-1);)o--;for(;r+1<n&&this._charAtIsWhitespace(i,r+1);)r++;return new k(t.lineNumber,o+1,t.lineNumber,r+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const n=t.getLineContent(i.lineNumber),o=n.length;if(o===0)return i.lineNumber>1?new k(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new k(i.lineNumber,1,i.lineNumber+1,1):new k(i.lineNumber,1,i.lineNumber,1);const r=u=>u.start+1<=i.column&&i.column<=u.end+1,a=(u,h)=>(u=Math.min(u,i.column),h=Math.max(h,i.column),new k(i.lineNumber,u,i.lineNumber,h)),l=u=>{let h=u.start+1,g=u.end+1,m=!1;for(;g-1<o&&this._charAtIsWhitespace(n,g-1);)m=!0,g++;if(!m)for(;h>1&&this._charAtIsWhitespace(n,h-2);)h--;return a(h,g)},c=pt._findPreviousWordOnLine(e,t,i);if(c&&r(c))return l(c);const d=pt._findNextWordOnLine(e,t,i);return d&&r(d)?l(d):c&&d?a(c.end+1,d.start+1):c?a(c.start+1,c.end+1):d?a(d.start+1,d.end+1):a(1,o+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=pt._moveWordPartLeft(e,i);return new k(i.lineNumber,i.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(e,t){const i=e.length;for(let n=t;n<i;n++){const o=e.charAt(n);if(o!==" "&&o!=="	")return n}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-1,o=this._findFirstNonWhitespaceChar(i,n);return n+1<o?new k(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,n=e.model,o=e.selection,r=e.whitespaceHeuristics;if(!o.isEmpty())return o;const a=new P(o.positionLineNumber,o.positionColumn);let l=a.lineNumber,c=a.column;const d=n.getLineCount(),u=n.getLineMaxColumn(l);if(l===d&&c===u)return null;if(r){const g=this._deleteWordRightWhitespace(n,a);if(g)return g}let h=pt._findNextWordOnLine(i,n,a);return t===2?h?c=h.end+1:c<u||l===d?c=u:(l++,h=pt._findNextWordOnLine(i,n,new P(l,1)),h?c=h.start+1:c=n.getLineMaxColumn(l)):(h&&c>=h.start+1&&(h=pt._findNextWordOnLine(i,n,new P(l,h.end+1))),h?c=h.start+1:c<u||l===d?c=u:(l++,h=pt._findNextWordOnLine(i,n,new P(l,1)),h?c=h.start+1:c=n.getLineMaxColumn(l))),new k(l,c,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=pt._moveWordPartRight(e,i);return new k(i.lineNumber,i.column,n.lineNumber,n.column)}static _createWordAtPosition(e,t,i){const n=new k(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(e,t,i){const n=Fs(t),o=pt._findPreviousWordOnLine(n,e,i);if(o&&o.wordType===1&&o.start<=i.column-1&&i.column-1<=o.end)return pt._createWordAtPosition(e,i.lineNumber,o);const r=pt._findNextWordOnLine(n,e,i);return r&&r.wordType===1&&r.start<=i.column-1&&i.column-1<=r.end?pt._createWordAtPosition(e,i.lineNumber,r):null}static word(e,t,i,n,o){const r=Fs(e.wordSeparators),a=pt._findPreviousWordOnLine(r,t,o),l=pt._findNextWordOnLine(r,t,o);if(!n){let g,m;return a&&a.wordType===1&&a.start<=o.column-1&&o.column-1<=a.end?(g=a.start+1,m=a.end+1):l&&l.wordType===1&&l.start<=o.column-1&&o.column-1<=l.end?(g=l.start+1,m=l.end+1):(a?g=a.end+1:g=1,l?m=l.start+1:m=t.getLineMaxColumn(o.lineNumber)),new cn(new k(o.lineNumber,g,o.lineNumber,m),1,0,new P(o.lineNumber,m),0)}let c,d;a&&a.wordType===1&&a.start<o.column-1&&o.column-1<a.end?(c=a.start+1,d=a.end+1):l&&l.wordType===1&&l.start<o.column-1&&o.column-1<l.end?(c=l.start+1,d=l.end+1):(c=o.column,d=o.column);const u=o.lineNumber;let h;if(i.selectionStart.containsPosition(o))h=i.selectionStart.endColumn;else if(o.isBeforeOrEqual(i.selectionStart.getStartPosition())){h=c;const g=new P(u,h);i.selectionStart.containsPosition(g)&&(h=i.selectionStart.endColumn)}else{h=d;const g=new P(u,h);i.selectionStart.containsPosition(g)&&(h=i.selectionStart.startColumn)}return i.move(!0,u,h,0)}}class iy extends pt{static deleteWordPartLeft(e){const t=A0([pt.deleteWordLeft(e,0),pt.deleteWordLeft(e,2),pt._deleteWordPartLeft(e.model,e.selection)]);return t.sort(k.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=A0([pt.deleteWordRight(e,0),pt.deleteWordRight(e,2),pt._deleteWordPartRight(e.model,e.selection)]);return t.sort(k.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,i){const n=A0([pt.moveWordLeft(e,t,i,0),pt.moveWordLeft(e,t,i,2),pt._moveWordPartLeft(t,i)]);return n.sort(P.compare),n[2]}static moveWordPartRight(e,t,i){const n=A0([pt.moveWordRight(e,t,i,0),pt.moveWordRight(e,t,i,2),pt._moveWordPartRight(t,i)]);return n.sort(P.compare),n[0]}}function A0(s){return s.filter(e=>!!e)}class sn{static addCursorDown(e,t,i){const n=[];let o=0;for(let r=0,a=t.length;r<a;r++){const l=t[r];n[o++]=new ut(l.modelState,l.viewState),i?n[o++]=ut.fromModelState(wt.translateDown(e.cursorConfig,e.model,l.modelState)):n[o++]=ut.fromViewState(wt.translateDown(e.cursorConfig,e,l.viewState))}return n}static addCursorUp(e,t,i){const n=[];let o=0;for(let r=0,a=t.length;r<a;r++){const l=t[r];n[o++]=new ut(l.modelState,l.viewState),i?n[o++]=ut.fromModelState(wt.translateUp(e.cursorConfig,e.model,l.modelState)):n[o++]=ut.fromViewState(wt.translateUp(e.cursorConfig,e,l.viewState))}return n}static moveToBeginningOfLine(e,t,i){const n=[];for(let o=0,r=t.length;o<r;o++){const a=t[o];n[o]=this._moveToLineStart(e,a,i)}return n}static _moveToLineStart(e,t,i){const n=t.viewState.position.column,o=t.modelState.position.column,r=n===o,a=t.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(a);return!r&&!(n===l)?this._moveToLineStartByView(e,t,i):this._moveToLineStartByModel(e,t,i)}static _moveToLineStartByView(e,t,i){return ut.fromViewState(wt.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return ut.fromModelState(wt.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){const o=[];for(let r=0,a=t.length;r<a;r++){const l=t[r];o[r]=this._moveToLineEnd(e,l,i,n)}return o}static _moveToLineEnd(e,t,i,n){const o=t.viewState.position,r=e.getLineMaxColumn(o.lineNumber),a=o.column===r,l=t.modelState.position,c=e.model.getLineMaxColumn(l.lineNumber),d=r-o.column===c-l.column;return a||d?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return ut.fromViewState(wt.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return ut.fromModelState(wt.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){const i=[];for(let n=0,o=t.length;n<o;n++){const r=t[n],a=r.modelState.selection.startLineNumber,l=e.model.getLineCount();let c=r.modelState.selection.endLineNumber,d;c===l?d=e.model.getLineMaxColumn(l):(c++,d=1),i[n]=ut.fromModelState(new cn(new k(a,1,a,1),0,0,new P(c,d),0))}return i}static moveToBeginningOfBuffer(e,t,i){const n=[];for(let o=0,r=t.length;o<r;o++){const a=t[o];n[o]=ut.fromModelState(wt.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return n}static moveToEndOfBuffer(e,t,i){const n=[];for(let o=0,r=t.length;o<r;o++){const a=t[o];n[o]=ut.fromModelState(wt.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return n}static selectAll(e,t){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return ut.fromModelState(new cn(new k(1,1,1,1),0,0,new P(i,n),0))}static line(e,t,i,n,o){const r=e.model.validatePosition(n),a=o?e.coordinatesConverter.validateViewPosition(new P(o.lineNumber,o.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);if(!i){const c=e.model.getLineCount();let d=r.lineNumber+1,u=1;return d>c&&(d=c,u=e.model.getLineMaxColumn(d)),ut.fromModelState(new cn(new k(r.lineNumber,1,d,u),2,0,new P(d,u),0))}const l=t.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<l)return ut.fromViewState(t.viewState.move(!0,a.lineNumber,1,0));if(r.lineNumber>l){const c=e.getLineCount();let d=a.lineNumber+1,u=1;return d>c&&(d=c,u=e.getLineMaxColumn(d)),ut.fromViewState(t.viewState.move(!0,d,u,0))}else{const c=t.modelState.selectionStart.getEndPosition();return ut.fromModelState(t.modelState.move(!0,c.lineNumber,c.column,0))}}static word(e,t,i,n){const o=e.model.validatePosition(n);return ut.fromModelState(pt.word(e.cursorConfig,e.model,t.modelState,i,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new ut(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,n=t.viewState.position.column;return ut.fromViewState(new cn(new k(i,n,i,n),0,0,new P(i,n),0))}static moveTo(e,t,i,n,o){if(i){if(t.modelState.selectionStartKind===1)return this.word(e,t,i,n);if(t.modelState.selectionStartKind===2)return this.line(e,t,i,n,o)}const r=e.model.validatePosition(n),a=o?e.coordinatesConverter.validateViewPosition(new P(o.lineNumber,o.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);return ut.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,n,o,r){switch(i){case 0:return r===4?this._moveHalfLineLeft(e,t,n):this._moveLeft(e,t,n,o);case 1:return r===4?this._moveHalfLineRight(e,t,n):this._moveRight(e,t,n,o);case 2:return r===2?this._moveUpByViewLines(e,t,n,o):this._moveUpByModelLines(e,t,n,o);case 3:return r===2?this._moveDownByViewLines(e,t,n,o):this._moveDownByModelLines(e,t,n,o);case 4:return r===2?t.map(a=>ut.fromViewState(wt.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,n))):t.map(a=>ut.fromModelState(wt.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,n)));case 5:return r===2?t.map(a=>ut.fromViewState(wt.moveToNextBlankLine(e.cursorConfig,e,a.viewState,n))):t.map(a=>ut.fromModelState(wt.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,n)));case 6:return this._moveToViewMinColumn(e,t,n);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 8:return this._moveToViewCenterColumn(e,t,n);case 9:return this._moveToViewMaxColumn(e,t,n);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,o){const r=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(r);switch(i){case 11:{const l=this._firstLineNumberInRange(e.model,a,o),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,c)]}case 13:{const l=this._lastLineNumberInRange(e.model,a,o),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,c)]}case 12:{const l=Math.round((a.startLineNumber+a.endLineNumber)/2),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,c)]}case 14:{const l=[];for(let c=0,d=t.length;c<d;c++){const u=t[c];l[c]=this.findPositionInViewportIfOutside(e,u,r,n)}return l}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){const o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new ut(t.modelState,t.viewState);{let r;o>i.endLineNumber-1?r=i.endLineNumber-1:o<i.startLineNumber?r=i.startLineNumber:r=o;const a=wt.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,r,!1);return ut.fromViewState(t.viewState.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){return t.map(o=>ut.fromViewState(wt.moveLeft(e.cursorConfig,e,o.viewState,i,n)))}static _moveHalfLineLeft(e,t,i){const n=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(l).length/2);n[o]=ut.fromViewState(wt.moveLeft(e.cursorConfig,e,a.viewState,i,c))}return n}static _moveRight(e,t,i,n){return t.map(o=>ut.fromViewState(wt.moveRight(e.cursorConfig,e,o.viewState,i,n)))}static _moveHalfLineRight(e,t,i){const n=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(l).length/2);n[o]=ut.fromViewState(wt.moveRight(e.cursorConfig,e,a.viewState,i,c))}return n}static _moveDownByViewLines(e,t,i,n){const o=[];for(let r=0,a=t.length;r<a;r++){const l=t[r];o[r]=ut.fromViewState(wt.moveDown(e.cursorConfig,e,l.viewState,i,n))}return o}static _moveDownByModelLines(e,t,i,n){const o=[];for(let r=0,a=t.length;r<a;r++){const l=t[r];o[r]=ut.fromModelState(wt.moveDown(e.cursorConfig,e.model,l.modelState,i,n))}return o}static _moveUpByViewLines(e,t,i,n){const o=[];for(let r=0,a=t.length;r<a;r++){const l=t[r];o[r]=ut.fromViewState(wt.moveUp(e.cursorConfig,e,l.viewState,i,n))}return o}static _moveUpByModelLines(e,t,i,n){const o=[];for(let r=0,a=t.length;r<a;r++){const l=t[r];o[r]=ut.fromModelState(wt.moveUp(e.cursorConfig,e.model,l.modelState,i,n))}return o}static _moveToViewPosition(e,t,i,n,o){return ut.fromViewState(t.viewState.move(i,n,o,0))}static _moveToModelPosition(e,t,i,n,o){return ut.fromModelState(t.modelState.move(i,n,o,0))}static _moveToViewMinColumn(e,t,i){const n=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=e.getLineMinColumn(l);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){const n=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=e.getLineFirstNonWhitespaceColumn(l);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewCenterColumn(e,t,i){const n=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=Math.round((e.getLineMaxColumn(l)+e.getLineMinColumn(l))/2);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewMaxColumn(e,t,i){const n=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=e.getLineMaxColumn(l);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){const n=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.viewState.position.lineNumber,c=e.getLineLastNonWhitespaceColumn(l);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}}var YC;(function(s){const e=function(i){if(!no(i))return!1;const n=i;return!(!ao(n.to)||!Mo(n.select)&&!U5(n.select)||!Mo(n.by)&&!ao(n.by)||!Mo(n.value)&&!Cd(n.value))};s.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},s.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},s.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(i){if(!i.to)return null;let n;switch(i.to){case s.RawDirection.Left:n=0;break;case s.RawDirection.Right:n=1;break;case s.RawDirection.Up:n=2;break;case s.RawDirection.Down:n=3;break;case s.RawDirection.PrevBlankLine:n=4;break;case s.RawDirection.NextBlankLine:n=5;break;case s.RawDirection.WrappedLineStart:n=6;break;case s.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=7;break;case s.RawDirection.WrappedLineColumnCenter:n=8;break;case s.RawDirection.WrappedLineEnd:n=9;break;case s.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=10;break;case s.RawDirection.ViewPortTop:n=11;break;case s.RawDirection.ViewPortBottom:n=13;break;case s.RawDirection.ViewPortCenter:n=12;break;case s.RawDirection.ViewPortIfOutside:n=14;break;default:return null}let o=0;switch(i.by){case s.RawUnit.Line:o=1;break;case s.RawUnit.WrappedLine:o=2;break;case s.RawUnit.Character:o=3;break;case s.RawUnit.HalfLine:o=4;break}return{direction:n,unit:o,select:!!i.select,value:i.value||1}}s.parse=t})(YC||(YC={}));function xf(s,e,t,i){const n=vf(e,t.startLineNumber,t.startColumn),o=i.getLanguageConfiguration(n.languageId);if(!o)return null;const r=n.getLineContent(),a=r.substr(0,t.startColumn-1-n.firstCharOffset);let l;t.isEmpty()?l=r.substr(t.startColumn-1-n.firstCharOffset):l=vf(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-n.firstCharOffset);let c="";if(t.startLineNumber>1&&n.firstCharOffset===0){const p=vf(e,t.startLineNumber-1);p.languageId===n.languageId&&(c=p.getLineContent())}const d=o.onEnter(s,c,a,l);if(!d)return null;const u=d.indentAction;let h=d.appendText;const g=d.removeText||0;h?u===Ei.Indent&&(h="	"+h):u===Ei.Indent||u===Ei.IndentOutdent?h="	":h="";let m=p3(e,t.startLineNumber,t.startColumn);return g&&(m=m.substring(0,m.length-g)),{indentAction:u,appendText:h,removeText:g,indentation:m}}var UY=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},$Y=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Qw;const kL=Object.create(null);function hu(s,e){if(e<=0)return"";kL[s]||(kL[s]=["",s]);const t=kL[s];for(let i=t.length;i<=e;i++)t[i]=t[i-1]+s;return t[e]}let xs=Qw=class{static unshiftIndent(e,t,i,n,o){const r=Wi.visibleColumnFromColumn(e,t,i);if(o){const a=hu(" ",n),c=Wi.prevIndentTabStop(r,n)/n;return hu(a,c)}else{const a="	",c=Wi.prevRenderTabStop(r,i)/i;return hu(a,c)}}static shiftIndent(e,t,i,n,o){const r=Wi.visibleColumnFromColumn(e,t,i);if(o){const a=hu(" ",n),c=Wi.nextIndentTabStop(r,n)/n;return hu(a,c)}else{const a="	",c=Wi.nextRenderTabStop(r,i)/i;return hu(a,c)}}constructor(e,t,i){this._languageConfigurationService=i,this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let n=this._selection.endLineNumber;this._selection.endColumn===1&&i!==n&&(n=n-1);const{tabSize:o,indentSize:r,insertSpaces:a}=this._opts,l=i===n;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,d=0;for(let u=i;u<=n;u++,c=d){d=0;const h=e.getLineContent(u);let g=Zn(h);if(this._opts.isUnshift&&(h.length===0||g===0)||!l&&!this._opts.isUnshift&&h.length===0)continue;if(g===-1&&(g=h.length),u>1&&Wi.visibleColumnFromColumn(h,g+1,o)%r!==0&&e.tokenization.isCheapToTokenize(u-1)){const _=xf(this._opts.autoIndent,e,new k(u-1,e.getLineMaxColumn(u-1),u-1,e.getLineMaxColumn(u-1)),this._languageConfigurationService);if(_){if(d=c,_.appendText)for(let b=0,v=_.appendText.length;b<v&&d<r&&_.appendText.charCodeAt(b)===32;b++)d++;_.removeText&&(d=Math.max(0,d-_.removeText));for(let b=0;b<d&&!(g===0||h.charCodeAt(g-1)!==32);b++)g--}}if(this._opts.isUnshift&&g===0)continue;let m;this._opts.isUnshift?m=Qw.unshiftIndent(h,g+1,o,r,a):m=Qw.shiftIndent(h,g+1,o,r,a),this._addEditOperation(t,new k(u,1,u,g+1),m),u===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=g+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&e.getLineLength(i)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const c=a?hu(" ",r):"	";for(let d=i;d<=n;d++){const u=e.getLineContent(d);let h=Zn(u);if(!(this._opts.isUnshift&&(u.length===0||h===0))&&!(!l&&!this._opts.isUnshift&&u.length===0)&&(h===-1&&(h=u.length),!(this._opts.isUnshift&&h===0)))if(this._opts.isUnshift){h=Math.min(h,r);for(let g=0;g<h;g++)if(u.charCodeAt(g)===9){h=g+1;break}this._addEditOperation(t,new k(d,1,d,h+1),"")}else this._addEditOperation(t,new k(d,1,d,1),c),d===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){const n=t.getInverseEditOperations()[0];return new _e(n.range.endLineNumber,n.range.endColumn,n.range.endLineNumber,n.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const n=this._selection.startColumn;return i.startColumn<=n?i:i.getDirection()===0?new _e(i.startLineNumber,n,i.endLineNumber,i.endColumn):new _e(i.endLineNumber,i.endColumn,i.startLineNumber,n)}return i}};xs=Qw=UY([$Y(2,Mt)],xs);class jY{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new k(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new k(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){const i=t.getInverseEditOperations(),n=i[0].range,o=i[1].range;return new _e(n.endLineNumber,n.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}class KY{constructor(e,t,i){this._position=e,this._text=t,this._charAfter=i}getEditOperations(e,t){t.addTrackedEditOperation(new k(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return new _e(n.endLineNumber,n.startColumn,n.endLineNumber,n.endColumn-this._charAfter.length)}}function qY(s,e,t){const i=s.tokenization.getLanguageIdAtPosition(e,0);if(e>1){let n,o=-1;for(n=e-1;n>=1;n--){if(s.tokenization.getLanguageIdAtPosition(n,0)!==i)return o;const r=s.getLineContent(n);if(t.shouldIgnore(r)||/^\s+$/.test(r)||r===""){o=n;continue}return n}}return-1}function ny(s,e,t,i=!0,n){if(s<4)return null;const o=n.getLanguageConfiguration(e.tokenization.getLanguageId()).indentRulesSupport;if(!o)return null;if(t<=1)return{indentation:"",action:null};for(let l=t-1;l>0&&e.getLineContent(l)==="";l--)if(l===1)return{indentation:"",action:null};const r=qY(e,t,o);if(r<0)return null;if(r<1)return{indentation:"",action:null};const a=e.getLineContent(r);if(o.shouldIncrease(a)||o.shouldIndentNextLine(a))return{indentation:Tt(a),action:Ei.Indent,line:r};if(o.shouldDecrease(a))return{indentation:Tt(a),action:null,line:r};{if(r===1)return{indentation:Tt(e.getLineContent(r)),action:null,line:r};const l=r-1,c=o.getIndentMetadata(e.getLineContent(l));if(!(c&3)&&c&4){let d=0;for(let u=l-1;u>0;u--)if(!o.shouldIndentNextLine(e.getLineContent(u))){d=u;break}return{indentation:Tt(e.getLineContent(d+1)),action:null,line:d+1}}if(i)return{indentation:Tt(e.getLineContent(r)),action:null,line:r};for(let d=r;d>0;d--){const u=e.getLineContent(d);if(o.shouldIncrease(u))return{indentation:Tt(u),action:Ei.Indent,line:d};if(o.shouldIndentNextLine(u)){let h=0;for(let g=d-1;g>0;g--)if(!o.shouldIndentNextLine(e.getLineContent(d))){h=g;break}return{indentation:Tt(e.getLineContent(h+1)),action:null,line:h+1}}else if(o.shouldDecrease(u))return{indentation:Tt(u),action:null,line:d}}return{indentation:Tt(e.getLineContent(1)),action:null,line:1}}}function hb(s,e,t,i,n,o){if(s<4)return null;const r=o.getLanguageConfiguration(t);if(!r)return null;const a=o.getLanguageConfiguration(t).indentRulesSupport;if(!a)return null;const l=ny(s,e,i,void 0,o),c=e.getLineContent(i);if(l){const d=l.line;if(d!==void 0){let u=!0;for(let h=d;h<i-1;h++)if(!/^\s*$/.test(e.getLineContent(h))){u=!1;break}if(u){const h=r.onEnter(s,"",e.getLineContent(d),"");if(h){let g=Tt(e.getLineContent(d));return h.removeText&&(g=g.substring(0,g.length-h.removeText)),h.indentAction===Ei.Indent||h.indentAction===Ei.IndentOutdent?g=n.shiftIndent(g):h.indentAction===Ei.Outdent&&(g=n.unshiftIndent(g)),a.shouldDecrease(c)&&(g=n.unshiftIndent(g)),h.appendText&&(g+=h.appendText),Tt(g)}}}return a.shouldDecrease(c)?l.action===Ei.Indent?l.indentation:n.unshiftIndent(l.indentation):l.action===Ei.Indent?n.shiftIndent(l.indentation):l.indentation}return null}function GY(s,e,t,i,n){if(s<4)return null;e.tokenization.forceTokenization(t.startLineNumber);const o=e.tokenization.getLineTokens(t.startLineNumber),r=zS(o,t.startColumn-1),a=r.getLineContent();let l=!1,c;r.firstCharOffset>0&&o.getLanguageId(0)!==r.languageId?(l=!0,c=a.substr(0,t.startColumn-1-r.firstCharOffset)):c=o.getLineContent().substring(0,t.startColumn-1);let d;t.isEmpty()?d=a.substr(t.startColumn-1-r.firstCharOffset):d=vf(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-r.firstCharOffset);const u=n.getLanguageConfiguration(r.languageId).indentRulesSupport;if(!u)return null;const h=c,g=Tt(c),m={tokenization:{getLineTokens:v=>e.tokenization.getLineTokens(v),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(v,w)=>e.getLanguageIdAtPosition(v,w)},getLineContent:v=>v===t.startLineNumber?h:e.getLineContent(v)},p=Tt(o.getLineContent()),_=ny(s,m,t.startLineNumber+1,void 0,n);if(!_){const v=l?p:g;return{beforeEnter:v,afterEnter:v}}let b=l?p:_.indentation;return _.action===Ei.Indent&&(b=i.shiftIndent(b)),u.shouldDecrease(d)&&(b=i.unshiftIndent(b)),{beforeEnter:l?p:g,afterEnter:b}}function ZY(s,e,t,i,n,o){if(s<4)return null;const r=vf(e,t.startLineNumber,t.startColumn);if(r.firstCharOffset)return null;const a=o.getLanguageConfiguration(r.languageId).indentRulesSupport;if(!a)return null;const l=r.getLineContent(),c=l.substr(0,t.startColumn-1-r.firstCharOffset);let d;if(t.isEmpty()?d=l.substr(t.startColumn-1-r.firstCharOffset):d=vf(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-r.firstCharOffset),!a.shouldDecrease(c+d)&&a.shouldDecrease(c+i+d)){const u=ny(s,e,t.startLineNumber,!1,o);if(!u)return null;let h=u.indentation;return u.action!==Ei.Indent&&(h=n.unshiftIndent(h)),h}return null}function c9(s,e,t){const i=t.getLanguageConfiguration(s.getLanguageId()).indentRulesSupport;return!i||e<1||e>s.getLineCount()?null:i.getIndentMetadata(s.getLineContent(e))}class Yt{static indent(e,t,i){if(t===null||i===null)return[];const n=[];for(let o=0,r=i.length;o<r;o++)n[o]=new xs(i[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return n}static outdent(e,t,i){const n=[];for(let o=0,r=i.length;o<r;o++)n[o]=new xs(i[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return n}static shiftIndent(e,t,i){return i=i||1,xs.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,xs.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,n){const o=[];for(let r=0,a=i.length;r<a;r++)o[r]=new Sn(i[r],n[r]);return new mo(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,n,o){const r=[];for(let a=0,l=i.length;a<l;a++){const c=i[a],d=c.getPosition();if(o&&!c.isEmpty()&&(o=!1),o&&n.indexOf(`
`)!==n.length-1&&(o=!1),o){const u=new k(d.lineNumber,1,d.lineNumber,1);r[a]=new rR(u,n,c,!0)}else r[a]=new Sn(c,n)}return new mo(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,n,o){if(n||t.length===1)return null;if(o&&o.length===t.length)return o;if(e.multiCursorPaste==="spread"){i.charCodeAt(i.length-1)===10&&(i=i.substr(0,i.length-1)),i.charCodeAt(i.length-1)===13&&(i=i.substr(0,i.length-1));const r=Xa(i);if(r.length===t.length)return r}return null}static paste(e,t,i,n,o,r){const a=this._distributePasteToCursors(e,i,n,o,r);return a?(i=i.sort(k.compareRangesUsingStarts),this._distributedPaste(e,t,i,a)):this._simplePaste(e,t,i,n,o)}static _goodIndentForLine(e,t,i){let n=null,o="";const r=ny(e.autoIndent,t,i,!1,e.languageConfigurationService);if(r)n=r.action,o=r.indentation;else if(i>1){let a;for(a=i-1;a>=1;a--){const d=t.getLineContent(a);if(Gr(d)>=0)break}if(a<1)return null;const l=t.getLineMaxColumn(a),c=xf(e.autoIndent,t,new k(a,l,a,l),e.languageConfigurationService);c&&(o=c.indentation+c.appendText)}return n&&(n===Ei.Indent&&(o=Yt.shiftIndent(e,o)),n===Ei.Outdent&&(o=Yt.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(e,t,i,n){let o="";const r=i.getStartPosition();if(e.insertSpaces){const a=e.visibleColumnFromColumn(t,r),l=e.indentSize,c=l-a%l;for(let d=0;d<c;d++)o+=" "}else o="	";return new Sn(i,o,n)}static tab(e,t,i){const n=[];for(let o=0,r=i.length;o<r;o++){const a=i[o];if(a.isEmpty()){const l=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(l)&&t.tokenization.isCheapToTokenize(a.startLineNumber)){let c=this._goodIndentForLine(e,t,a.startLineNumber);c=c||"	";const d=e.normalizeIndentation(c);if(!l.startsWith(d)){n[o]=new Sn(new k(a.startLineNumber,1,a.startLineNumber,l.length+1),d,!0);continue}}n[o]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){const l=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==l){n[o]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}n[o]=new xs(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return n}static compositionType(e,t,i,n,o,r,a,l){const c=n.map(d=>this._compositionType(i,d,o,r,a,l));return new mo(4,c,{shouldPushStackElementBefore:R0(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,n,o,r){if(!t.isEmpty())return null;const a=t.getPosition(),l=Math.max(1,a.column-n),c=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+o),d=new k(a.lineNumber,l,a.lineNumber,c);return e.getValueInRange(d)===i&&r===0?null:new Zw(d,i,0,r)}static _typeCommand(e,t,i){return i?new N0(e,t,!0):new Sn(e,t,!0)}static _enter(e,t,i,n){if(e.autoIndent===0)return Yt._typeCommand(n,`
`,i);if(!t.tokenization.isCheapToTokenize(n.getStartPosition().lineNumber)||e.autoIndent===1){const l=t.getLineContent(n.startLineNumber),c=Tt(l).substring(0,n.startColumn-1);return Yt._typeCommand(n,`
`+e.normalizeIndentation(c),i)}const o=xf(e.autoIndent,t,n,e.languageConfigurationService);if(o){if(o.indentAction===Ei.None)return Yt._typeCommand(n,`
`+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===Ei.Indent)return Yt._typeCommand(n,`
`+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===Ei.IndentOutdent){const l=e.normalizeIndentation(o.indentation),c=e.normalizeIndentation(o.indentation+o.appendText),d=`
`+c+`
`+l;return i?new N0(n,d,!0):new Zw(n,d,-1,c.length-l.length,!0)}else if(o.indentAction===Ei.Outdent){const l=Yt.unshiftIndent(e,o.indentation);return Yt._typeCommand(n,`
`+e.normalizeIndentation(l+o.appendText),i)}}const r=t.getLineContent(n.startLineNumber),a=Tt(r).substring(0,n.startColumn-1);if(e.autoIndent>=4){const l=GY(e.autoIndent,t,n,{unshiftIndent:c=>Yt.unshiftIndent(e,c),shiftIndent:c=>Yt.shiftIndent(e,c),normalizeIndentation:c=>e.normalizeIndentation(c)},e.languageConfigurationService);if(l){let c=e.visibleColumnFromColumn(t,n.getEndPosition());const d=n.endColumn,u=t.getLineContent(n.endLineNumber),h=Zn(u);if(h>=0?n=n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,h+1)):n=n.setEndPosition(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),i)return new N0(n,`
`+e.normalizeIndentation(l.afterEnter),!0);{let g=0;return d<=h+1&&(e.insertSpaces||(c=Math.ceil(c/e.indentSize)),g=Math.min(c+1-e.normalizeIndentation(l.afterEnter).length-1,0)),new Zw(n,`
`+e.normalizeIndentation(l.afterEnter),0,g,!0)}}}return Yt._typeCommand(n,`
`+e.normalizeIndentation(a),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let n=0,o=i.length;n<o;n++)if(!t.tokenization.isCheapToTokenize(i[n].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,n){const o=p3(t,i.startLineNumber,i.startColumn),r=ZY(e.autoIndent,t,i,n,{shiftIndent:a=>Yt.shiftIndent(e,a),unshiftIndent:a=>Yt.unshiftIndent(e,a)},e.languageConfigurationService);if(r===null)return null;if(r!==e.normalizeIndentation(o)){const a=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return a===0?Yt._typeCommand(new k(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(r)+n,!1):Yt._typeCommand(new k(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(r)+t.getLineContent(i.startLineNumber).substring(a-1,i.startColumn-1)+n,!1)}return null}static _isAutoClosingOvertype(e,t,i,n,o){if(e.autoClosingOvertype==="never"||!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let r=0,a=i.length;r<a;r++){const l=i[r];if(!l.isEmpty())return!1;const c=l.getPosition(),d=t.getLineContent(c.lineNumber);if(d.charAt(c.column-1)!==o)return!1;const h=Nc(o);if((c.column>2?d.charCodeAt(c.column-2):0)===92&&h)return!1;if(e.autoClosingOvertype==="auto"){let m=!1;for(let p=0,_=n.length;p<_;p++){const b=n[p];if(c.lineNumber===b.startLineNumber&&c.column===b.startColumn){m=!0;break}}if(!m)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,n,o){const r=[];for(let a=0,l=n.length;a<l;a++){const d=n[a].getPosition(),u=new k(d.lineNumber,d.column,d.lineNumber,d.column+1);r[a]=new Sn(u,o)}return new mo(4,r,{shouldPushStackElementBefore:R0(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),n=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],r=n.some(l=>t.startsWith(l.open)),a=o.some(l=>t.startsWith(l.close));return!r&&a}static _findAutoClosingPairOpen(e,t,i,n){const o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(n);if(!o)return null;let r=null;for(const a of o)if(r===null||a.open.length>r.open.length){let l=!0;for(const c of i)if(t.getValueInRange(new k(c.lineNumber,c.column-a.open.length+1,c.lineNumber,c.column))+n!==a.open){l=!1;break}l&&(r=a)}return r}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const i=t.close.charAt(t.close.length-1),n=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let o=null;for(const r of n)r.open!==t.open&&t.open.includes(r.open)&&t.close.endsWith(r.close)&&(!o||r.open.length>o.open.length)&&(o=r);return o}static _getAutoClosingPairClose(e,t,i,n,o){for(const m of i)if(!m.isEmpty())return null;const r=i.map(m=>{const p=m.getPosition();return o?{lineNumber:p.lineNumber,beforeColumn:p.column-n.length,afterColumn:p.column}:{lineNumber:p.lineNumber,beforeColumn:p.column,afterColumn:p.column}}),a=this._findAutoClosingPairOpen(e,t,r.map(m=>new P(m.lineNumber,m.beforeColumn)),n);if(!a)return null;let l,c;if(Nc(n)?(l=e.autoClosingQuotes,c=e.shouldAutoCloseBefore.quote):(e.blockCommentStartToken?a.open.includes(e.blockCommentStartToken):!1)?(l=e.autoClosingComments,c=e.shouldAutoCloseBefore.comment):(l=e.autoClosingBrackets,c=e.shouldAutoCloseBefore.bracket),l==="never")return null;const u=this._findContainedAutoClosingPair(e,a),h=u?u.close:"";let g=!0;for(const m of r){const{lineNumber:p,beforeColumn:_,afterColumn:b}=m,v=t.getLineContent(p),w=v.substring(0,_-1),C=v.substring(b-1);if(C.startsWith(h)||(g=!1),C.length>0){const I=C.charAt(0);if(!Yt._isBeforeClosingBrace(e,C)&&!c(I))return null}if(a.open.length===1&&(n==="'"||n==='"')&&l!=="always"){const I=Fs(e.wordSeparators);if(w.length>0){const E=w.charCodeAt(w.length-1);if(I.get(E)===0)return null}}if(!t.tokenization.isCheapToTokenize(p))return null;t.tokenization.forceTokenization(p);const S=t.tokenization.getLineTokens(p),x=zS(S,_-1);if(!a.shouldAutoClose(x,_-x.firstCharOffset))return null;const L=a.findNeutralCharacter();if(L){const I=t.tokenization.getTokenTypeIfInsertingCharacter(p,_,L);if(!a.isOK(I))return null}}return g?a.close.substring(0,a.close.length-h.length):a.close}static _runAutoClosingOpenCharType(e,t,i,n,o,r,a){const l=[];for(let c=0,d=n.length;c<d;c++){const u=n[c];l[c]=new d9(u,o,!r,a)}return new mo(4,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return Nc(t)?e.autoSurround==="quotes"||e.autoSurround==="languageDefined":e.autoSurround==="brackets"||e.autoSurround==="languageDefined"}static _isSurroundSelectionType(e,t,i,n){if(!Yt._shouldSurroundChar(e,n)||!e.surroundingPairs.hasOwnProperty(n))return!1;const o=Nc(n);for(const r of i){if(r.isEmpty())return!1;let a=!0;for(let l=r.startLineNumber;l<=r.endLineNumber;l++){const c=t.getLineContent(l),d=l===r.startLineNumber?r.startColumn-1:0,u=l===r.endLineNumber?r.endColumn-1:c.length,h=c.substring(d,u);if(/[^ \t]/.test(h)){a=!1;break}}if(a)return!1;if(o&&r.startLineNumber===r.endLineNumber&&r.startColumn+1===r.endColumn){const l=t.getValueInRange(r);if(Nc(l))return!1}}return!0}static _runSurroundSelectionType(e,t,i,n,o){const r=[];for(let a=0,l=n.length;a<l;a++){const c=n[a],d=t.surroundingPairs[o];r[a]=new jY(c,o,d)}return new mo(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!!(i.length===1&&t.tokenization.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,n,o){if(!t.electricChars.hasOwnProperty(o)||!n.isEmpty())return null;const r=n.getPosition();i.tokenization.forceTokenization(r.lineNumber);const a=i.tokenization.getLineTokens(r.lineNumber);let l;try{l=t.onElectricCharacter(o,a,r.column)}catch(c){return He(c),null}if(!l)return null;if(l.matchOpenBracket){const c=(a.getLineContent()+o).lastIndexOf(l.matchOpenBracket)+1,d=i.bracketPairs.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:r.lineNumber,column:c},500);if(d){if(d.startLineNumber===r.lineNumber)return null;const u=i.getLineContent(d.startLineNumber),h=Tt(u),g=t.normalizeIndentation(h),m=i.getLineContent(r.lineNumber),p=i.getLineFirstNonWhitespaceColumn(r.lineNumber)||r.column,_=m.substring(p-1,r.column-1),b=g+_+o,v=new k(r.lineNumber,1,r.lineNumber,r.column),w=new Sn(v,b);return new mo(LL(b,e),[w],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,n,o,r){if(!n)return null;let a=null;for(const u of n)if(a===null)a=u.insertedText;else if(a!==u.insertedText)return null;if(!a||a.length!==1)return null;const l=a;let c=!1;for(const u of n)if(u.deletedText.length!==0){c=!0;break}if(c){if(!Yt._shouldSurroundChar(t,l)||!t.surroundingPairs.hasOwnProperty(l))return null;const u=Nc(l);for(const m of n)if(m.deletedSelectionStart!==0||m.deletedSelectionEnd!==m.deletedText.length||/^[ \t]+$/.test(m.deletedText)||u&&Nc(m.deletedText))return null;const h=[];for(const m of o){if(!m.isEmpty())return null;h.push(m.getPosition())}if(h.length!==n.length)return null;const g=[];for(let m=0,p=h.length;m<p;m++)g.push(new KY(h[m],n[m].deletedText,t.surroundingPairs[l]));return new mo(4,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(t,i,o,r,l)){const u=o.map(h=>new Sn(new k(h.positionLineNumber,h.positionColumn,h.positionLineNumber,h.positionColumn+1),"",!1));return new mo(4,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const d=this._getAutoClosingPairClose(t,i,o,l,!0);return d!==null?this._runAutoClosingOpenCharType(e,t,i,o,l,!0,d):null}static typeWithInterceptors(e,t,i,n,o,r,a){if(!e&&a===`
`){const d=[];for(let u=0,h=o.length;u<h;u++)d[u]=Yt._enter(i,n,!1,o[u]);return new mo(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,n,o)){const d=[];let u=!1;for(let h=0,g=o.length;h<g;h++)if(d[h]=this._runAutoIndentType(i,n,o[h],a),!d[h]){u=!0;break}if(!u)return new mo(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(i,n,o,r,a))return this._runAutoClosingOvertype(t,i,n,o,a);if(!e){const d=this._getAutoClosingPairClose(i,n,o,a,!1);if(d)return this._runAutoClosingOpenCharType(t,i,n,o,a,!1,d)}if(!e&&this._isSurroundSelectionType(i,n,o,a))return this._runSurroundSelectionType(t,i,n,o,a);if(!e&&this._isTypeInterceptorElectricChar(i,n,o)){const d=this._typeInterceptorElectricChar(t,i,n,o[0],a);if(d)return d}const l=[];for(let d=0,u=o.length;d<u;d++)l[d]=new Sn(o[d],a);const c=LL(a,t);return new mo(c,l,{shouldPushStackElementBefore:R0(t,c),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,n,o){const r=[];for(let l=0,c=n.length;l<c;l++)r[l]=new Sn(n[l],o);const a=LL(o,e);return new mo(a,r,{shouldPushStackElementBefore:R0(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(t===null||i===null)return[];const n=[];for(let o=0,r=i.length;o<r;o++){let a=i[o].positionLineNumber;if(a===1)n[o]=new N0(new k(1,1,1,1),`
`);else{a--;const l=t.getLineMaxColumn(a);n[o]=this._enter(e,t,!1,new k(a,l,a,l))}}return n}static lineInsertAfter(e,t,i){if(t===null||i===null)return[];const n=[];for(let o=0,r=i.length;o<r;o++){const a=i[o].positionLineNumber,l=t.getLineMaxColumn(a);n[o]=this._enter(e,t,!1,new k(a,l,a,l))}return n}static lineBreakInsert(e,t,i){const n=[];for(let o=0,r=i.length;o<r;o++)n[o]=this._enter(e,t,!0,i[o]);return n}}class d9 extends Zw{constructor(e,t,i,n){super(e,(i?t:"")+n,0,-n.length),this._openCharacter=t,this._closeCharacter=n,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new k(n.startLineNumber,n.endColumn-this._closeCharacter.length,n.endLineNumber,n.endColumn),this.enclosingRange=new k(n.startLineNumber,n.endColumn-this._openCharacter.length-this._closeCharacter.length,n.endLineNumber,n.endColumn),super.computeCursorState(e,t)}}class QY{constructor(e,t,i,n,o,r){this.deletedText=e,this.deletedSelectionStart=t,this.deletedSelectionEnd=i,this.insertedText=n,this.insertedSelectionStart=o,this.insertedSelectionEnd=r}}function LL(s,e){return s===" "?e===5||e===6?6:5:4}function R0(s,e){return pO(s)&&!pO(e)?!0:s===5?!1:mO(s)!==mO(e)}function mO(s){return s===6||s===5?"space":s}function pO(s){return s===4||s===5||s===6}var T;(function(s){s.editorSimpleInput=new de("editorSimpleInput",!1,!0),s.editorTextFocus=new de("editorTextFocus",!1,f("vs/editor/common/editorContextKeys","editorTextFocus","Whether the editor text has focus (cursor is blinking)")),s.focus=new de("editorFocus",!1,f("vs/editor/common/editorContextKeys","editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),s.textInputFocus=new de("textInputFocus",!1,f("vs/editor/common/editorContextKeys","textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),s.readOnly=new de("editorReadonly",!1,f("vs/editor/common/editorContextKeys","editorReadonly","Whether the editor is read-only")),s.inDiffEditor=new de("inDiffEditor",!1,f("vs/editor/common/editorContextKeys","inDiffEditor","Whether the context is a diff editor")),s.isEmbeddedDiffEditor=new de("isEmbeddedDiffEditor",!1,f("vs/editor/common/editorContextKeys","isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),s.comparingMovedCode=new de("comparingMovedCode",!1,f("vs/editor/common/editorContextKeys","comparingMovedCode","Whether a moved code block is selected for comparison")),s.accessibleDiffViewerVisible=new de("accessibleDiffViewerVisible",!1,f("vs/editor/common/editorContextKeys","accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),s.diffEditorRenderSideBySideInlineBreakpointReached=new de("diffEditorRenderSideBySideInlineBreakpointReached",!1,f("vs/editor/common/editorContextKeys","diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),s.columnSelection=new de("editorColumnSelection",!1,f("vs/editor/common/editorContextKeys","editorColumnSelection","Whether `editor.columnSelection` is enabled")),s.writable=s.readOnly.toNegated(),s.hasNonEmptySelection=new de("editorHasSelection",!1,f("vs/editor/common/editorContextKeys","editorHasSelection","Whether the editor has text selected")),s.hasOnlyEmptySelection=s.hasNonEmptySelection.toNegated(),s.hasMultipleSelections=new de("editorHasMultipleSelections",!1,f("vs/editor/common/editorContextKeys","editorHasMultipleSelections","Whether the editor has multiple selections")),s.hasSingleSelection=s.hasMultipleSelections.toNegated(),s.tabMovesFocus=new de("editorTabMovesFocus",!1,f("vs/editor/common/editorContextKeys","editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),s.tabDoesNotMoveFocus=s.tabMovesFocus.toNegated(),s.isInWalkThroughSnippet=new de("isInEmbeddedEditor",!1,!0),s.canUndo=new de("canUndo",!1,!0),s.canRedo=new de("canRedo",!1,!0),s.hoverVisible=new de("editorHoverVisible",!1,f("vs/editor/common/editorContextKeys","editorHoverVisible","Whether the editor hover is visible")),s.hoverFocused=new de("editorHoverFocused",!1,f("vs/editor/common/editorContextKeys","editorHoverFocused","Whether the editor hover is focused")),s.stickyScrollFocused=new de("stickyScrollFocused",!1,f("vs/editor/common/editorContextKeys","stickyScrollFocused","Whether the sticky scroll is focused")),s.stickyScrollVisible=new de("stickyScrollVisible",!1,f("vs/editor/common/editorContextKeys","stickyScrollVisible","Whether the sticky scroll is visible")),s.standaloneColorPickerVisible=new de("standaloneColorPickerVisible",!1,f("vs/editor/common/editorContextKeys","standaloneColorPickerVisible","Whether the standalone color picker is visible")),s.standaloneColorPickerFocused=new de("standaloneColorPickerFocused",!1,f("vs/editor/common/editorContextKeys","standaloneColorPickerFocused","Whether the standalone color picker is focused")),s.inCompositeEditor=new de("inCompositeEditor",void 0,f("vs/editor/common/editorContextKeys","inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),s.notInCompositeEditor=s.inCompositeEditor.toNegated(),s.languageId=new de("editorLangId","",f("vs/editor/common/editorContextKeys","editorLangId","The language identifier of the editor")),s.hasCompletionItemProvider=new de("editorHasCompletionItemProvider",!1,f("vs/editor/common/editorContextKeys","editorHasCompletionItemProvider","Whether the editor has a completion item provider")),s.hasCodeActionsProvider=new de("editorHasCodeActionsProvider",!1,f("vs/editor/common/editorContextKeys","editorHasCodeActionsProvider","Whether the editor has a code actions provider")),s.hasCodeLensProvider=new de("editorHasCodeLensProvider",!1,f("vs/editor/common/editorContextKeys","editorHasCodeLensProvider","Whether the editor has a code lens provider")),s.hasDefinitionProvider=new de("editorHasDefinitionProvider",!1,f("vs/editor/common/editorContextKeys","editorHasDefinitionProvider","Whether the editor has a definition provider")),s.hasDeclarationProvider=new de("editorHasDeclarationProvider",!1,f("vs/editor/common/editorContextKeys","editorHasDeclarationProvider","Whether the editor has a declaration provider")),s.hasImplementationProvider=new de("editorHasImplementationProvider",!1,f("vs/editor/common/editorContextKeys","editorHasImplementationProvider","Whether the editor has an implementation provider")),s.hasTypeDefinitionProvider=new de("editorHasTypeDefinitionProvider",!1,f("vs/editor/common/editorContextKeys","editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),s.hasHoverProvider=new de("editorHasHoverProvider",!1,f("vs/editor/common/editorContextKeys","editorHasHoverProvider","Whether the editor has a hover provider")),s.hasDocumentHighlightProvider=new de("editorHasDocumentHighlightProvider",!1,f("vs/editor/common/editorContextKeys","editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),s.hasDocumentSymbolProvider=new de("editorHasDocumentSymbolProvider",!1,f("vs/editor/common/editorContextKeys","editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),s.hasReferenceProvider=new de("editorHasReferenceProvider",!1,f("vs/editor/common/editorContextKeys","editorHasReferenceProvider","Whether the editor has a reference provider")),s.hasRenameProvider=new de("editorHasRenameProvider",!1,f("vs/editor/common/editorContextKeys","editorHasRenameProvider","Whether the editor has a rename provider")),s.hasSignatureHelpProvider=new de("editorHasSignatureHelpProvider",!1,f("vs/editor/common/editorContextKeys","editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),s.hasInlayHintsProvider=new de("editorHasInlayHintsProvider",!1,f("vs/editor/common/editorContextKeys","editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),s.hasDocumentFormattingProvider=new de("editorHasDocumentFormattingProvider",!1,f("vs/editor/common/editorContextKeys","editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),s.hasDocumentSelectionFormattingProvider=new de("editorHasDocumentSelectionFormattingProvider",!1,f("vs/editor/common/editorContextKeys","editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),s.hasMultipleDocumentFormattingProvider=new de("editorHasMultipleDocumentFormattingProvider",!1,f("vs/editor/common/editorContextKeys","editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),s.hasMultipleDocumentSelectionFormattingProvider=new de("editorHasMultipleDocumentSelectionFormattingProvider",!1,f("vs/editor/common/editorContextKeys","editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(T||(T={}));const mt=0;class ri extends nn{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i||{})}}var wn;(function(s){const e=function(i){if(!no(i))return!1;const n=i;return!(!ao(n.to)||!Mo(n.by)&&!ao(n.by)||!Mo(n.value)&&!Cd(n.value)||!Mo(n.revealCursor)&&!U5(n.revealCursor))};s.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},s.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},s.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function t(i){let n;switch(i.to){case s.RawDirection.Up:n=1;break;case s.RawDirection.Right:n=2;break;case s.RawDirection.Down:n=3;break;case s.RawDirection.Left:n=4;break;default:return null}let o;switch(i.by){case s.RawUnit.Line:o=1;break;case s.RawUnit.WrappedLine:o=2;break;case s.RawUnit.Page:o=3;break;case s.RawUnit.HalfPage:o=4;break;case s.RawUnit.Editor:o=5;break;case s.RawUnit.Column:o=6;break;default:o=2}const r=Math.floor(i.value||1),a=!!i.revealCursor;return{direction:n,unit:o,value:r,revealCursor:a,select:!!i.select}}s.parse=t})(wn||(wn={}));var ef;(function(s){const e=function(t){if(!no(t))return!1;const i=t;return!(!Cd(i.lineNumber)&&!ao(i.lineNumber)||!Mo(i.at)&&!ao(i.at))};s.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},s.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(ef||(ef={}));class xI{constructor(e){e.addImplementation(1e4,"code-editor",(t,i)=>{const n=t.get(bt).getFocusedCodeEditor();return n&&n.hasTextFocus()?this._runEditorCommand(t,n,i):!1}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,i)=>{const n=ar();return n&&["input","textarea"].indexOf(n.tagName.toLowerCase())>=0?(this.runDOMCommand(n),!0):!1}),e.addImplementation(0,"generic-dom",(t,i)=>{const n=t.get(bt).getActiveCodeEditor();return n?(n.focus(),this._runEditorCommand(t,n,i)):!1})}_runEditorCommand(e,t,i){const n=this.runEditorCommand(e,t,i);return n||!0}}var Zi;(function(s){class e extends ri{constructor(v){super(v),this._inSelectionMode=v.inSelectionMode}runCoreEditorCommand(v,w){if(!w.position)return;v.model.pushStackElement(),v.setCursorStates(w.source,3,[sn.moveTo(v,v.getPrimaryCursorState(),this._inSelectionMode,w.position,w.viewPosition)])&&w.revealType!==2&&v.revealPrimaryCursor(w.source,!0,!0)}}s.MoveTo=re(new e({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),s.MoveToSelect=re(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class t extends ri{runCoreEditorCommand(v,w){v.model.pushStackElement();const C=this._getColumnSelectResult(v,v.getPrimaryCursorState(),v.getCursorColumnSelectData(),w);C!==null&&(v.setCursorStates(w.source,3,C.viewStates.map(S=>ut.fromViewState(S))),v.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:C.fromLineNumber,fromViewVisualColumn:C.fromVisualColumn,toViewLineNumber:C.toLineNumber,toViewVisualColumn:C.toVisualColumn}),C.reversed?v.revealTopMostCursor(w.source):v.revealBottomMostCursor(w.source))}}s.ColumnSelect=re(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(b,v,w,C){if(typeof C.position=="undefined"||typeof C.viewPosition=="undefined"||typeof C.mouseColumn=="undefined")return null;const S=b.model.validatePosition(C.position),x=b.coordinatesConverter.validateViewPosition(new P(C.viewPosition.lineNumber,C.viewPosition.column),S),L=C.doColumnSelect?w.fromViewLineNumber:x.lineNumber,I=C.doColumnSelect?w.fromViewVisualColumn:C.mouseColumn-1;return Mu.columnSelect(b.cursorConfig,b,L,I,x.lineNumber,C.mouseColumn-1)}}),s.CursorColumnSelectLeft=re(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(b,v,w,C){return Mu.columnSelectLeft(b.cursorConfig,b,w)}}),s.CursorColumnSelectRight=re(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(b,v,w,C){return Mu.columnSelectRight(b.cursorConfig,b,w)}});class i extends t{constructor(v){super(v),this._isPaged=v.isPaged}_getColumnSelectResult(v,w,C,S){return Mu.columnSelectUp(v.cursorConfig,v,C,this._isPaged)}}s.CursorColumnSelectUp=re(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:3600,linux:{primary:0}}})),s.CursorColumnSelectPageUp=re(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:3595,linux:{primary:0}}}));class n extends t{constructor(v){super(v),this._isPaged=v.isPaged}_getColumnSelectResult(v,w,C,S){return Mu.columnSelectDown(v.cursorConfig,v,C,this._isPaged)}}s.CursorColumnSelectDown=re(new n({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:3602,linux:{primary:0}}})),s.CursorColumnSelectPageDown=re(new n({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:3596,linux:{primary:0}}}));class o extends ri{constructor(){super({id:"cursorMove",precondition:void 0,description:YC.description})}runCoreEditorCommand(v,w){const C=YC.parse(w);C&&this._runCursorMove(v,w.source,C)}_runCursorMove(v,w,C){v.model.pushStackElement(),v.setCursorStates(w,3,o._move(v,v.getCursorStates(),C)),v.revealPrimaryCursor(w,!0)}static _move(v,w,C){const S=C.select,x=C.value;switch(C.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return sn.simpleMove(v,w,C.direction,S,x,C.unit);case 11:case 13:case 12:case 14:return sn.viewportMove(v,w,C.direction,S,x);default:return null}}}s.CursorMoveImpl=o,s.CursorMove=re(new o);class r extends ri{constructor(v){super(v),this._staticArgs=v.args}runCoreEditorCommand(v,w){let C=this._staticArgs;this._staticArgs.value===-1&&(C={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:w.pageSize||v.cursorConfig.pageSize}),v.model.pushStackElement(),v.setCursorStates(w.source,3,sn.simpleMove(v,v.getCursorStates(),C.direction,C.select,C.value,C.unit)),v.revealPrimaryCursor(w.source,!0)}}s.CursorLeft=re(new r({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),s.CursorLeftSelect=re(new r({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:1039}})),s.CursorRight=re(new r({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),s.CursorRightSelect=re(new r({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:1041}})),s.CursorUp=re(new r({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),s.CursorUpSelect=re(new r({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),s.CursorPageUp=re(new r({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:11}})),s.CursorPageUpSelect=re(new r({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:1035}})),s.CursorDown=re(new r({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),s.CursorDownSelect=re(new r({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),s.CursorPageDown=re(new r({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:12}})),s.CursorPageDownSelect=re(new r({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:1036}})),s.CreateCursor=re(new class extends ri{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(b,v){if(!v.position)return;let w;v.wholeLine?w=sn.line(b,b.getPrimaryCursorState(),!1,v.position,v.viewPosition):w=sn.moveTo(b,b.getPrimaryCursorState(),!1,v.position,v.viewPosition);const C=b.getCursorStates();if(C.length>1){const S=w.modelState?w.modelState.position:null,x=w.viewState?w.viewState.position:null;for(let L=0,I=C.length;L<I;L++){const E=C[L];if(!(S&&!E.modelState.selection.containsPosition(S))&&!(x&&!E.viewState.selection.containsPosition(x))){C.splice(L,1),b.model.pushStackElement(),b.setCursorStates(v.source,3,C);return}}}C.push(w),b.model.pushStackElement(),b.setCursorStates(v.source,3,C)}}),s.LastCursorMoveToSelect=re(new class extends ri{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(b,v){if(!v.position)return;const w=b.getLastAddedCursorIndex(),C=b.getCursorStates(),S=C.slice(0);S[w]=sn.moveTo(b,C[w],!0,v.position,v.viewPosition),b.model.pushStackElement(),b.setCursorStates(v.source,3,S)}});class a extends ri{constructor(v){super(v),this._inSelectionMode=v.inSelectionMode}runCoreEditorCommand(v,w){v.model.pushStackElement(),v.setCursorStates(w.source,3,sn.moveToBeginningOfLine(v,v.getCursorStates(),this._inSelectionMode)),v.revealPrimaryCursor(w.source,!0)}}s.CursorHome=re(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),s.CursorHomeSelect=re(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends ri{constructor(v){super(v),this._inSelectionMode=v.inSelectionMode}runCoreEditorCommand(v,w){v.model.pushStackElement(),v.setCursorStates(w.source,3,this._exec(v.getCursorStates())),v.revealPrimaryCursor(w.source,!0)}_exec(v){const w=[];for(let C=0,S=v.length;C<S;C++){const x=v[C],L=x.modelState.position.lineNumber;w[C]=ut.fromModelState(x.modelState.move(this._inSelectionMode,L,1,0))}return w}}s.CursorLineStart=re(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:0,mac:{primary:287}}})),s.CursorLineStartSelect=re(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends ri{constructor(v){super(v),this._inSelectionMode=v.inSelectionMode}runCoreEditorCommand(v,w){v.model.pushStackElement(),v.setCursorStates(w.source,3,sn.moveToEndOfLine(v,v.getCursorStates(),this._inSelectionMode,w.sticky||!1)),v.revealPrimaryCursor(w.source,!0)}}s.CursorEnd=re(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:mt,kbExpr:T.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f("vs/editor/browser/coreCommands","stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),s.CursorEndSelect=re(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:mt,kbExpr:T.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f("vs/editor/browser/coreCommands","stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class d extends ri{constructor(v){super(v),this._inSelectionMode=v.inSelectionMode}runCoreEditorCommand(v,w){v.model.pushStackElement(),v.setCursorStates(w.source,3,this._exec(v,v.getCursorStates())),v.revealPrimaryCursor(w.source,!0)}_exec(v,w){const C=[];for(let S=0,x=w.length;S<x;S++){const L=w[S],I=L.modelState.position.lineNumber,E=v.model.getLineMaxColumn(I);C[S]=ut.fromModelState(L.modelState.move(this._inSelectionMode,I,E,0))}return C}}s.CursorLineEnd=re(new d({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:0,mac:{primary:291}}})),s.CursorLineEndSelect=re(new d({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:0,mac:{primary:1315}}}));class u extends ri{constructor(v){super(v),this._inSelectionMode=v.inSelectionMode}runCoreEditorCommand(v,w){v.model.pushStackElement(),v.setCursorStates(w.source,3,sn.moveToBeginningOfBuffer(v,v.getCursorStates(),this._inSelectionMode)),v.revealPrimaryCursor(w.source,!0)}}s.CursorTop=re(new u({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:2062,mac:{primary:2064}}})),s.CursorTopSelect=re(new u({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:3086,mac:{primary:3088}}}));class h extends ri{constructor(v){super(v),this._inSelectionMode=v.inSelectionMode}runCoreEditorCommand(v,w){v.model.pushStackElement(),v.setCursorStates(w.source,3,sn.moveToEndOfBuffer(v,v.getCursorStates(),this._inSelectionMode)),v.revealPrimaryCursor(w.source,!0)}}s.CursorBottom=re(new h({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:2061,mac:{primary:2066}}})),s.CursorBottomSelect=re(new h({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:3085,mac:{primary:3090}}}));class g extends ri{constructor(){super({id:"editorScroll",precondition:void 0,description:wn.description})}determineScrollMethod(v){const w=[6],C=[1,2,3,4,5,6],S=[4,2],x=[1,3];return w.includes(v.unit)&&S.includes(v.direction)?this._runHorizontalEditorScroll.bind(this):C.includes(v.unit)&&x.includes(v.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(v,w){const C=wn.parse(w);if(!C)return;const S=this.determineScrollMethod(C);S&&S(v,w.source,C)}_runVerticalEditorScroll(v,w,C){const S=this._computeDesiredScrollTop(v,C);if(C.revealCursor){const x=v.getCompletelyVisibleViewRangeAtScrollTop(S);v.setCursorStates(w,3,[sn.findPositionInViewportIfOutside(v,v.getPrimaryCursorState(),x,C.select)])}v.viewLayout.setScrollPosition({scrollTop:S},0)}_computeDesiredScrollTop(v,w){if(w.unit===1){const x=v.viewLayout.getFutureViewport(),L=v.getCompletelyVisibleViewRangeAtScrollTop(x.top),I=v.coordinatesConverter.convertViewRangeToModelRange(L);let E;w.direction===1?E=Math.max(1,I.startLineNumber-w.value):E=Math.min(v.model.getLineCount(),I.startLineNumber+w.value);const W=v.coordinatesConverter.convertModelPositionToViewPosition(new P(E,1));return v.viewLayout.getVerticalOffsetForLineNumber(W.lineNumber)}if(w.unit===5){let x=0;return w.direction===3&&(x=v.model.getLineCount()-v.cursorConfig.pageSize),v.viewLayout.getVerticalOffsetForLineNumber(x)}let C;w.unit===3?C=v.cursorConfig.pageSize*w.value:w.unit===4?C=Math.round(v.cursorConfig.pageSize/2)*w.value:C=w.value;const S=(w.direction===1?-1:1)*C;return v.viewLayout.getCurrentScrollTop()+S*v.cursorConfig.lineHeight}_runHorizontalEditorScroll(v,w,C){const S=this._computeDesiredScrollLeft(v,C);v.viewLayout.setScrollPosition({scrollLeft:S},0)}_computeDesiredScrollLeft(v,w){const C=(w.direction===4?-1:1)*w.value;return v.viewLayout.getCurrentScrollLeft()+C*v.cursorConfig.typicalHalfwidthCharacterWidth}}s.EditorScrollImpl=g,s.EditorScroll=re(new g),s.ScrollLineUp=re(new class extends ri{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(b,v){s.EditorScroll.runCoreEditorCommand(b,{to:wn.RawDirection.Up,by:wn.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:v.source})}}),s.ScrollPageUp=re(new class extends ri{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(b,v){s.EditorScroll.runCoreEditorCommand(b,{to:wn.RawDirection.Up,by:wn.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:v.source})}}),s.ScrollEditorTop=re(new class extends ri{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus}})}runCoreEditorCommand(b,v){s.EditorScroll.runCoreEditorCommand(b,{to:wn.RawDirection.Up,by:wn.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:v.source})}}),s.ScrollLineDown=re(new class extends ri{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(b,v){s.EditorScroll.runCoreEditorCommand(b,{to:wn.RawDirection.Down,by:wn.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:v.source})}}),s.ScrollPageDown=re(new class extends ri{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(b,v){s.EditorScroll.runCoreEditorCommand(b,{to:wn.RawDirection.Down,by:wn.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:v.source})}}),s.ScrollEditorBottom=re(new class extends ri{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus}})}runCoreEditorCommand(b,v){s.EditorScroll.runCoreEditorCommand(b,{to:wn.RawDirection.Down,by:wn.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:v.source})}}),s.ScrollLeft=re(new class extends ri{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus}})}runCoreEditorCommand(b,v){s.EditorScroll.runCoreEditorCommand(b,{to:wn.RawDirection.Left,by:wn.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:v.source})}}),s.ScrollRight=re(new class extends ri{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus}})}runCoreEditorCommand(b,v){s.EditorScroll.runCoreEditorCommand(b,{to:wn.RawDirection.Right,by:wn.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:v.source})}});class m extends ri{constructor(v){super(v),this._inSelectionMode=v.inSelectionMode}runCoreEditorCommand(v,w){w.position&&(v.model.pushStackElement(),v.setCursorStates(w.source,3,[sn.word(v,v.getPrimaryCursorState(),this._inSelectionMode,w.position)]),w.revealType!==2&&v.revealPrimaryCursor(w.source,!0,!0))}}s.WordSelect=re(new m({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),s.WordSelectDrag=re(new m({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),s.LastCursorWordSelect=re(new class extends ri{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(b,v){if(!v.position)return;const w=b.getLastAddedCursorIndex(),C=b.getCursorStates(),S=C.slice(0),x=C[w];S[w]=sn.word(b,x,x.modelState.hasSelection(),v.position),b.model.pushStackElement(),b.setCursorStates(v.source,3,S)}});class p extends ri{constructor(v){super(v),this._inSelectionMode=v.inSelectionMode}runCoreEditorCommand(v,w){w.position&&(v.model.pushStackElement(),v.setCursorStates(w.source,3,[sn.line(v,v.getPrimaryCursorState(),this._inSelectionMode,w.position,w.viewPosition)]),w.revealType!==2&&v.revealPrimaryCursor(w.source,!1,!0))}}s.LineSelect=re(new p({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),s.LineSelectDrag=re(new p({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class _ extends ri{constructor(v){super(v),this._inSelectionMode=v.inSelectionMode}runCoreEditorCommand(v,w){if(!w.position)return;const C=v.getLastAddedCursorIndex(),S=v.getCursorStates(),x=S.slice(0);x[C]=sn.line(v,S[C],this._inSelectionMode,w.position,w.viewPosition),v.model.pushStackElement(),v.setCursorStates(w.source,3,x)}}s.LastCursorLineSelect=re(new _({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),s.LastCursorLineSelectDrag=re(new _({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),s.CancelSelection=re(new class extends ri{constructor(){super({id:"cancelSelection",precondition:T.hasNonEmptySelection,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(b,v){b.model.pushStackElement(),b.setCursorStates(v.source,3,[sn.cancelSelection(b,b.getPrimaryCursorState())]),b.revealPrimaryCursor(v.source,!0)}}),s.RemoveSecondaryCursors=re(new class extends ri{constructor(){super({id:"removeSecondaryCursors",precondition:T.hasMultipleSelections,kbOpts:{weight:mt+1,kbExpr:T.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(b,v){b.model.pushStackElement(),b.setCursorStates(v.source,3,[b.getPrimaryCursorState()]),b.revealPrimaryCursor(v.source,!0),Td(f("vs/editor/browser/coreCommands","removedCursor","Removed secondary cursors"))}}),s.RevealLine=re(new class extends ri{constructor(){super({id:"revealLine",precondition:void 0,description:ef.description})}runCoreEditorCommand(b,v){const w=v,C=w.lineNumber||0;let S=typeof C=="number"?C+1:parseInt(C)+1;S<1&&(S=1);const x=b.model.getLineCount();S>x&&(S=x);const L=new k(S,1,S,b.model.getLineMaxColumn(S));let I=0;if(w.at)switch(w.at){case ef.RawAtArgument.Top:I=3;break;case ef.RawAtArgument.Center:I=1;break;case ef.RawAtArgument.Bottom:I=4;break}const E=b.coordinatesConverter.convertModelRangeToViewRange(L);b.revealRange(v.source,!1,E,I,0)}}),s.SelectAll=new class extends xI{constructor(){super(Fj)}runDOMCommand(b){Ms&&(b.focus(),b.select()),b.ownerDocument.execCommand("selectAll")}runEditorCommand(b,v,w){const C=v._getViewModel();C&&this.runCoreEditorCommand(C,w)}runCoreEditorCommand(b,v){b.model.pushStackElement(),b.setCursorStates("keyboard",3,[sn.selectAll(b,b.getPrimaryCursorState())])}},s.SetSelection=re(new class extends ri{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(b,v){v.selection&&(b.model.pushStackElement(),b.setCursorStates(v.source,3,[ut.fromModelSelection(v.selection)]))}})})(Zi||(Zi={}));const YY=Z.and(T.textInputFocus,T.columnSelection);function Hm(s,e){yo.registerKeybindingRule({id:s,primary:e,when:YY,weight:mt+1})}Hm(Zi.CursorColumnSelectLeft.id,1039);Hm(Zi.CursorColumnSelectRight.id,1041);Hm(Zi.CursorColumnSelectUp.id,1040);Hm(Zi.CursorColumnSelectPageUp.id,1035);Hm(Zi.CursorColumnSelectDown.id,1042);Hm(Zi.CursorColumnSelectPageDown.id,1036);function bO(s){return s.register(),s}var Df;(function(s){class e extends nn{runEditorCommand(i,n,o){const r=n._getViewModel();r&&this.runCoreEditingCommand(n,r,o||{})}}s.CoreEditingCommand=e,s.LineBreakInsert=re(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:T.writable,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Yt.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection)))}}),s.Outdent=re(new class extends e{constructor(){super({id:"outdent",precondition:T.writable,kbOpts:{weight:mt,kbExpr:Z.and(T.editorTextFocus,T.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Yt.outdent(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection))),t.pushUndoStop()}}),s.Tab=re(new class extends e{constructor(){super({id:"tab",precondition:T.writable,kbOpts:{weight:mt,kbExpr:Z.and(T.editorTextFocus,T.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Yt.tab(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection))),t.pushUndoStop()}}),s.DeleteLeft=re(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,i,n){const[o,r]=_h.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection),i.getCursorAutoClosedCharacters());o&&t.pushUndoStop(),t.executeCommands(this.id,r),i.setPrevEditOperationType(2)}}),s.DeleteRight=re(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:mt,kbExpr:T.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,i,n){const[o,r]=_h.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection));o&&t.pushUndoStop(),t.executeCommands(this.id,r),i.setPrevEditOperationType(3)}}),s.Undo=new class extends xI{constructor(){super(e3)}runDOMCommand(t){t.ownerDocument.execCommand("undo")}runEditorCommand(t,i,n){if(!(!i.hasModel()||i.getOption(90)===!0))return i.getModel().undo()}},s.Redo=new class extends xI{constructor(){super(t3)}runDOMCommand(t){t.ownerDocument.execCommand("redo")}runEditorCommand(t,i,n){if(!(!i.hasModel()||i.getOption(90)===!0))return i.getModel().redo()}}})(Df||(Df={}));class _O extends BS{constructor(e,t,i){super({id:e,precondition:void 0,description:i}),this._handlerId=t}runCommand(e,t){const i=e.get(bt).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function Qh(s,e){bO(new _O("default:"+s,s)),bO(new _O(s,s,e))}Qh("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});Qh("replacePreviousChar");Qh("compositionType");Qh("compositionStart");Qh("compositionEnd");Qh("paste");Qh("cut");class XY{constructor(e,t,i,n){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=n}paste(e,t,i,n){this.commandDelegate.paste(e,t,i,n)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,n){this.commandDelegate.compositionType(e,t,i,n)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Zi.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new P(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(77)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(77)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=Qn&&t.get(106),n=t.get(22);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position,e.revealType):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position,e.revealType):this._lastCursorLineSelect(e.position,e.revealType):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position,e.revealType):e.inSelectionMode?this._wordSelectDrag(e.position,e.revealType):this._wordSelect(e.position,e.revealType)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position,e.revealType):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position,e.revealType):this.moveTo(e.position,e.revealType)}_usualArgs(e,t){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,revealType:t}}moveTo(e,t){Zi.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_moveToSelect(e,t){Zi.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_columnSelect(e,t,i){e=this._validateViewColumn(e),Zi.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),Zi.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e,t){Zi.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelect(e,t){Zi.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelectDrag(e,t){Zi.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorWordSelect(e,t){Zi.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelect(e,t){Zi.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelectDrag(e,t){Zi.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelect(e,t){Zi.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelectDrag(e,t){Zi.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_selectAll(){Zi.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class oy{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var t;(t=this.onKeyDown)===null||t===void 0||t.call(this,e)}emitKeyUp(e){var t;(t=this.onKeyUp)===null||t===void 0||t.call(this,e)}emitContextMenu(e){var t;(t=this.onContextMenu)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var t;(t=this.onMouseMove)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var t;(t=this.onMouseLeave)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var t;(t=this.onMouseDown)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var t;(t=this.onMouseUp)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var t;(t=this.onMouseDrag)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var t;(t=this.onMouseDrop)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;(e=this.onMouseDropCanceled)===null||e===void 0||e.call(this)}emitMouseWheel(e){var t;(t=this.onMouseWheel)===null||t===void 0||t.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return oy.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){const i=Object.assign({},e);return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),(i.type===5||i.type===8)&&(i.detail=this.convertViewToModelViewZoneData(i.detail,t)),i}static convertViewToModelViewZoneData(e,t){return{viewZoneId:e.viewZoneId,positionBefore:e.positionBefore?t.convertViewPositionToModelPosition(e.positionBefore):e.positionBefore,positionAfter:e.positionAfter?t.convertViewPositionToModelPosition(e.positionAfter):e.positionAfter,position:t.convertViewPositionToModelPosition(e.position),afterLineNumber:t.convertViewPositionToModelPosition(new P(e.afterLineNumber,1)).lineNumber}}}class u9{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Ti("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(t<i){const l=t-e+1;return this._rendLineNumberStart-=l,null}if(e>n)return null;let o=0,r=0;for(let l=i;l<=n;l++){const c=l-this._rendLineNumberStart;e<=l&&l<=t&&(r===0?(o=c,r=1):r++)}if(e<i){let l=0;t<i?l=t-e+1:l=i-e,this._rendLineNumberStart-=l}return this._lines.splice(o,r)}onLinesChanged(e,t){const i=e+t-1;if(this.getCount()===0)return!1;const n=this.getStartLineNumber(),o=this.getEndLineNumber();let r=!1;for(let a=e;a<=i;a++)a>=n&&a<=o&&(this._lines[a-this._rendLineNumberStart].onContentChanged(),r=!0);return r}onLinesInserted(e,t){if(this.getCount()===0)return null;const i=t-e+1,n=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=i,null;if(e>o)return null;if(i+e>o)return this._lines.splice(e-this._rendLineNumberStart,o-e+1);const r=[];for(let u=0;u<i;u++)r[u]=this._createLine();const a=e-this._rendLineNumberStart,l=this._lines.slice(0,a),c=this._lines.slice(a,this._lines.length-i),d=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(r).concat(c),d}onTokensChanged(e){if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let o=0,r=e.length;o<r;o++){const a=e[o];if(a.toLineNumber<t||a.fromLineNumber>i)continue;const l=Math.max(t,a.fromLineNumber),c=Math.min(i,a.toLineNumber);for(let d=l;d<=c;d++){const u=d-this._rendLineNumberStart;this._lines[u].onTokensChanged(),n=!0}}return n}}class h9{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new u9(()=>this._host.createVisibleLine())}_createDomNode(){const e=vt(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(143)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const o=t[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const o=t[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new Fl(this.domNode.domNode,this._host,e),n={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=i.render(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}}class Fl{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,n){const o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(let r=t;r<=i;r++)o.lines[r-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,n),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),n,t),o.rendLineNumberStart>t){const r=t,a=Math.min(i,o.rendLineNumberStart-1);r<=a&&(this._insertLinesBefore(o,r,a,n,t),o.linesLength+=a-r+1)}else if(o.rendLineNumberStart<t){const r=Math.min(o.linesLength,t-o.rendLineNumberStart);r>0&&(this._removeLinesBefore(o,r),o.linesLength-=r)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i){const r=o.rendLineNumberStart+o.linesLength,a=i;r<=a&&(this._insertLinesAfter(o,r,a,n,t),o.linesLength+=a-r+1)}else if(o.rendLineNumberStart+o.linesLength-1>i){const r=Math.max(0,i-o.rendLineNumberStart+1),l=o.linesLength-1-r+1;l>0&&(this._removeLinesAfter(o,l),o.linesLength-=l)}return this._finishRendering(o,!1,n),o}_renderUntouchedLines(e,t,i,n,o){const r=e.rendLineNumberStart,a=e.lines;for(let l=t;l<=i;l++){const c=r+l;a[l].layoutLine(c,n[c-o])}}_insertLinesBefore(e,t,i,n,o){const r=[];let a=0;for(let l=t;l<=i;l++)r[a++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const n=e.lines[i].getDomNode();n&&this.domNode.removeChild(n)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,n,o){const r=[];let a=0;for(let l=t;l<=i;l++)r[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let n=0;n<t;n++){const o=e.lines[i+n].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,n){Fl._ttPolicy&&(i=Fl._ttPolicy.createHTML(i));const o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);let r=this.domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){const l=e.lines[a];n[a]&&(l.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const n=document.createElement("div");Fl._ttPolicy&&(t=Fl._ttPolicy.createHTML(t)),n.innerHTML=t;for(let o=0;o<e.linesLength;o++){const r=e.lines[o];if(i[o]){const a=n.firstChild,l=r.getDomNode();l.parentNode.replaceChild(a,l),r.setDomNode(a)}}}_finishRendering(e,t,i){const n=Fl._sb,o=e.linesLength,r=e.lines,a=e.rendLineNumberStart,l=[];{n.reset();let c=!1;for(let d=0;d<o;d++){const u=r[d];l[d]=!1,!(u.getDomNode()||!u.renderLine(d+a,i[d],this.viewportData,n))&&(l[d]=!0,c=!0)}c&&this._finishRenderingNewLines(e,t,n.build(),l)}{n.reset();let c=!1;const d=[];for(let u=0;u<o;u++){const h=r[u];d[u]=!1,!(l[u]||!h.renderLine(u+a,i[u],this.viewportData,n))&&(d[u]=!0,c=!0)}c&&this._finishRenderingInvalidLines(e,n.build(),d)}}}Fl._ttPolicy=uc("editorViewLayer",{createHTML:s=>s});Fl._sb=new Bm(1e5);class g9 extends Uo{constructor(e){super(e),this._visibleLines=new h9(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration.options.get(50);In(this.domNode,i),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new JY(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++)this._visibleLines.getVisibleLine(r).onConfigurationChanged(e);const o=this._context.configuration.options.get(50);return In(this.domNode,o),!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,n=t.length;i<n;i++){const o=t[i];o.prepareRender(e),o.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class JY{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(66),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=vt(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(66)}renderLine(e,t,i,n){let o="";for(let r=0,a=this._dynamicOverlays.length;r<a;r++){const l=this._dynamicOverlays[r];o+=l.render(i.startLineNumber,e)}return this._renderedContent===o?!1:(this._renderedContent=o,n.appendString('<div style="position:absolute;top:'),n.appendString(String(t)),n.appendString("px;width:100%;height:"),n.appendString(String(this._lineHeight)),n.appendString('px;">'),n.appendString(o),n.appendString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class eX extends g9{constructor(e){super(e);const i=this._context.configuration.options.get(143);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const i=this._context.configuration.options.get(143);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class tX extends g9{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(143);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),In(this.domNode,t.get(50))}onConfigurationChanged(e){const t=this._context.configuration.options;In(this.domNode,t.get(50));const i=t.get(143);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class iX extends Uo{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=vt(document.createElement("div")),tl.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=vt(document.createElement("div")),tl.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(e){return this._updateAnchorsViewPositions(),!0}onLinesInserted(e){return this._updateAnchorsViewPositions(),!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}_updateAnchorsViewPositions(){const e=Object.keys(this._widgets);for(const t of e)this._widgets[t].updateAnchorViewPosition()}addWidget(e){const t=new nX(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i,n,o){this._widgets[e.getId()].setPosition(t,i,n,o),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const n=i.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class nX{constructor(e,t,i){this._primaryAnchor=new fp(null,null),this._secondaryAnchor=new fp(null,null),this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=vt(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,o=n.get(143);this._fixedOverflowWidgets=n.get(42),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=n.get(66),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(66),e.hasChanged(143)){const i=t.get(143);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(e,t,i){this._affinity=e,this._primaryAnchor=n(t,this._context.viewModel,this._affinity),this._secondaryAnchor=n(i,this._context.viewModel,this._affinity);function n(o,r,a){if(!o)return new fp(null,null);const l=r.model.validatePosition(o);if(r.coordinatesConverter.modelPositionIsVisible(l)){const c=r.coordinatesConverter.convertModelPositionToViewPosition(l,a!=null?a:void 0);return new fp(o,c)}return new fp(o,null)}}_getMaxWidth(){const e=this.domNode.domNode.ownerDocument,t=e.defaultView;return this.allowEditorOverflow?(t==null?void 0:t.innerWidth)||e.documentElement.offsetWidth||e.body.offsetWidth:this._contentWidth}setPosition(e,t,i,n){this._setPosition(n,e,t),this._preference=i,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,n){const o=e.top,r=o,a=e.top+e.height,l=n.viewportHeight-a,c=o-i,d=r>=i,u=a,h=l>=i;let g=e.left;return g+t>n.scrollLeft+n.viewportWidth&&(g=n.scrollLeft+n.viewportWidth-t),g<n.scrollLeft&&(g=n.scrollLeft),{fitsAbove:d,aboveTop:c,fitsBelow:h,belowTop:u,left:g}}_layoutHorizontalSegmentInPage(e,t,i,n){var o;const l=Math.max(15,t.left-n),c=Math.min(t.left+t.width+n,e.width-15),u=this._viewDomNode.domNode.ownerDocument.defaultView;let h=t.left+i-((o=u==null?void 0:u.scrollX)!==null&&o!==void 0?o:0);if(h+n>c){const g=h-(c-n);h-=g,i-=g}if(h<l){const g=h-l;h-=g,i-=g}return[i,h]}_layoutBoxInPage(e,t,i,n){var o,r;const a=e.top-i,l=e.top+e.height,c=Pi(this._viewDomNode.domNode),d=this._viewDomNode.domNode.ownerDocument,u=d.defaultView,h=c.top+a-((o=u==null?void 0:u.scrollY)!==null&&o!==void 0?o:0),g=c.top+l-((r=u==null?void 0:u.scrollY)!==null&&r!==void 0?r:0),m=Om(d.body),[p,_]=this._layoutHorizontalSegmentInPage(m,c,e.left-n.scrollLeft+this._contentLeft,t),b=22,v=22,w=h>=b,C=g+i<=m.height-v;return this._fixedOverflowWidgets?{fitsAbove:w,aboveTop:Math.max(h,b),fitsBelow:C,belowTop:g,left:_}:{fitsAbove:w,aboveTop:a,fitsBelow:C,belowTop:l,left:p}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new mp(e.top,e.left+this._contentLeft)}_getAnchorsCoordinates(e){var t,i;const n=a(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),o=((t=this._secondaryAnchor.viewPosition)===null||t===void 0?void 0:t.lineNumber)===((i=this._primaryAnchor.viewPosition)===null||i===void 0?void 0:i.lineNumber)?this._secondaryAnchor.viewPosition:null,r=a(o,this._affinity,this._lineHeight);return{primary:n,secondary:r};function a(l,c,d){if(!l)return null;const u=e.visibleRangeForPosition(l);if(!u)return null;const h=l.column===1&&c===3?0:u.left,g=e.getVerticalOffsetForLineNumber(l.lineNumber)-e.scrollTop;return new vO(g,h,d)}}_reduceAnchorCoordinates(e,t,i){if(!t)return e;const n=this._context.configuration.options.get(50);let o=t.left;return o<e.left?o=Math.max(o,e.left-i+n.typicalFullwidthCharacterWidth):o=Math.min(o,e.left+i-n.typicalFullwidthCharacterWidth),new vO(e.top,o,e.height)}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const{primary:t,secondary:i}=this._getAnchorsCoordinates(e);if(!t)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let r=null;if(typeof this._actual.beforeRender=="function"&&(r=xL(this._actual.beforeRender,this._actual)),r)this._cachedDomNodeOffsetWidth=r.width,this._cachedDomNodeOffsetHeight=r.height;else{const l=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(l.width),this._cachedDomNodeOffsetHeight=Math.round(l.height)}}const n=this._reduceAnchorCoordinates(t,i,this._cachedDomNodeOffsetWidth);let o;this.allowEditorOverflow?o=this._layoutBoxInPage(n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):o=this._layoutBoxInViewport(n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let r=1;r<=2;r++)for(const a of this._preference)if(a===1){if(!o)return null;if(r===2||o.fitsAbove)return{coordinate:new mp(o.aboveTop,o.left),position:1}}else if(a===2){if(!o)return null;if(r===2||o.fitsBelow)return{coordinate:new mp(o.belowTop,o.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new mp(n.top,n.left)),position:0}:{coordinate:new mp(n.top,n.left),position:0};return null}onBeforeRender(e){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<e.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&xL(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&xL(this._actual.afterRender,this._actual,this._renderData.position)}}class fp{constructor(e,t){this.modelPosition=e,this.viewPosition=t}}class mp{constructor(e,t){this.top=e,this.left=t,this._coordinateBrand=void 0}}class vO{constructor(e,t,i){this.top=e,this.left=t,this.height=i,this._anchorCoordinateBrand=void 0}}function xL(s,e,...t){try{return s.call(e,...t)}catch(i){return null}}class f9 extends Zh{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(143);this._lineHeight=t.get(66),this._renderLineHighlight=t.get(95),this._renderLineHighlightOnlyWhenFocus=t.get(96),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new _e(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=this._selections.map(n=>n.positionLineNumber);t.sort((n,o)=>n-o),bi(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,e=!0);const i=this._selections.every(n=>n.isEmpty());return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);return this._lineHeight=t.get(66),this._renderLineHighlight=t.get(95),this._renderLineHighlightOnlyWhenFocus=t.get(96),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const t=this._renderOne(e),i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length;let r=0;const a=[];for(let l=i;l<=n;l++){const c=l-i;for(;r<o&&this._cursorLineNumbers[r]<l;)r++;r<o&&this._cursorLineNumbers[r]===l?a[c]=t:a[c]=""}this._renderData=a}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class oX extends f9{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class sX extends f9{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}mr((s,e)=>{const t=s.getColor(J3);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||s.defines(fO)){const i=s.getColor(fO);i&&(e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),Qr(s.type)&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class rX extends Zh{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let l=0,c=t.length;l<c;l++){const d=t[l];d.options.className&&(i[n++]=d)}i=i.sort((l,c)=>{if(l.options.zIndex<c.options.zIndex)return-1;if(l.options.zIndex>c.options.zIndex)return 1;const d=l.options.className,u=c.options.className;return d<u?-1:d>u?1:k.compareRangesUsingStarts(l.range,c.range)});const o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,a=[];for(let l=o;l<=r;l++){const c=l-o;a[c]=""}this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){const n=String(this._lineHeight),o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let a=0,l=t.length;a<l;a++){const c=t[a];if(!c.options.isWholeLine)continue;const d='<div class="cdr '+c.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',u=Math.max(c.range.startLineNumber,o),h=Math.min(c.range.endLineNumber,r);for(let g=u;g<=h;g++){const m=g-o;i[m]+=d}}}_renderNormalDecorations(e,t,i){var n;const o=String(this._lineHeight),r=e.visibleRange.startLineNumber;let a=null,l=!1,c=null,d=!1;for(let u=0,h=t.length;u<h;u++){const g=t[u];if(g.options.isWholeLine)continue;const m=g.options.className,p=!!g.options.showIfCollapsed;let _=g.range;if(p&&_.endColumn===1&&_.endLineNumber!==_.startLineNumber&&(_=new k(_.startLineNumber,_.startColumn,_.endLineNumber-1,this._context.viewModel.getLineMaxColumn(_.endLineNumber-1))),a===m&&l===p&&k.areIntersectingOrTouching(c,_)){c=k.plusRange(c,_);continue}a!==null&&this._renderNormalDecoration(e,c,a,d,l,o,r,i),a=m,l=p,c=_,d=(n=g.options.shouldFillLineOnLineBreak)!==null&&n!==void 0?n:!1}a!==null&&this._renderNormalDecoration(e,c,a,d,l,o,r,i)}_renderNormalDecoration(e,t,i,n,o,r,a,l){const c=e.linesVisibleRangesForRange(t,i==="findMatch");if(c)for(let d=0,u=c.length;d<u;d++){const h=c[d];if(h.outsideRenderedLine)continue;const g=h.lineNumber-a;if(o&&h.ranges.length===1){const m=h.ranges[0];if(m.width<this._typicalHalfwidthCharacterWidth){const p=Math.round(m.left+m.width/2),_=Math.max(0,Math.round(p-this._typicalHalfwidthCharacterWidth/2));h.ranges[0]=new ey(_,this._typicalHalfwidthCharacterWidth)}}for(let m=0,p=h.ranges.length;m<p;m++){const _=n&&h.continuesOnNextLine&&p===1,b=h.ranges[m],v='<div class="cdr '+i+'" style="left:'+String(b.left)+(_?"px;width:100%;height:":"px;width:"+String(b.width)+"px;height:")+r+'px;"></div>';l[g]+=v}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class aX extends Uo{constructor(e,t,i,n){super(e);const o=this._context.configuration.options,r=o.get(102),a=o.get(74),l=o.get(40),c=o.get(105),d={listenOnDomNode:i.domNode,className:"editor-scrollable "+kI(e.theme.type),useShadows:!1,lazyRender:!0,vertical:r.vertical,horizontal:r.horizontal,verticalHasArrows:r.verticalHasArrows,horizontalHasArrows:r.horizontalHasArrows,verticalScrollbarSize:r.verticalScrollbarSize,verticalSliderSize:r.verticalSliderSize,horizontalScrollbarSize:r.horizontalScrollbarSize,horizontalSliderSize:r.horizontalSliderSize,handleMouseWheel:r.handleMouseWheel,alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel,arrowSize:r.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:c,scrollByPage:r.scrollByPage};this.scrollbar=this._register(new oR(t.domNode,d,this._context.viewLayout.getScrollable())),tl.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=vt(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const u=(h,g,m)=>{const p={};if(g){const _=h.scrollTop;_&&(p.scrollTop=this._context.viewLayout.getCurrentScrollTop()+_,h.scrollTop=0)}if(m){const _=h.scrollLeft;_&&(p.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+_,h.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(p,1)};this._register($(i.domNode,"scroll",h=>u(i.domNode,!0,!0))),this._register($(t.domNode,"scroll",h=>u(t.domNode,!0,!1))),this._register($(n.domNode,"scroll",h=>u(n.domNode,!0,!1))),this._register($(this.scrollbarDomNode.domNode,"scroll",h=>u(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(143);this.scrollbarDomNode.setLeft(t.contentLeft),e.get(72).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this.scrollbar.delegateScrollFromMouseWheelEvent(e)}onConfigurationChanged(e){if(e.hasChanged(102)||e.hasChanged(74)||e.hasChanged(40)){const t=this._context.configuration.options,i=t.get(102),n=t.get(74),o=t.get(40),r=t.get(105),a={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:o,scrollPredominantAxis:r};this.scrollbar.updateOptions(a)}return e.hasChanged(143)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+kI(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class m9 extends H{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}function sy(s,e){let t=0,i=0;const n=s.length;for(;i<n;){const o=s.charCodeAt(i);if(o===32)t++;else if(o===9)t=t-t%e+e;else break;i++}return i===n?-1:t}var th;(function(s){s[s.Disabled=0]="Disabled",s[s.EnabledForActive=1]="EnabledForActive",s[s.Enabled=2]="Enabled"})(th||(th={}));class qu{constructor(e,t,i,n,o,r){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=n,this.forWrappedLinesAfterColumn=o,this.forWrappedLinesBeforeOrAtColumn=r,e!==-1==(t!==-1))throw new Error}}class gb{constructor(e,t){this.top=e,this.endColumn=t}}class lX extends m9{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return sy(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const n=this.textModel.getLineCount();if(e<1||e>n)throw new Ti("Illegal value for lineNumber");const o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=!!(o&&o.offSide);let a=-2,l=-1,c=-2,d=-1;const u=L=>{if(a!==-1&&(a===-2||a>L-1)){a=-1,l=-1;for(let I=L-2;I>=0;I--){const E=this._computeIndentLevel(I);if(E>=0){a=I,l=E;break}}}if(c===-2){c=-1,d=-1;for(let I=L;I<n;I++){const E=this._computeIndentLevel(I);if(E>=0){c=I,d=E;break}}}};let h=-2,g=-1,m=-2,p=-1;const _=L=>{if(h===-2){h=-1,g=-1;for(let I=L-2;I>=0;I--){const E=this._computeIndentLevel(I);if(E>=0){h=I,g=E;break}}}if(m!==-1&&(m===-2||m<L-1)){m=-1,p=-1;for(let I=L;I<n;I++){const E=this._computeIndentLevel(I);if(E>=0){m=I,p=E;break}}}};let b=0,v=!0,w=0,C=!0,S=0,x=0;for(let L=0;v||C;L++){const I=e-L,E=e+L;L>1&&(I<1||I<t)&&(v=!1),L>1&&(E>n||E>i)&&(C=!1),L>5e4&&(v=!1,C=!1);let W=-1;if(v&&I>=1){const F=this._computeIndentLevel(I-1);F>=0?(c=I-1,d=F,W=Math.ceil(F/this.textModel.getOptions().indentSize)):(u(I),W=this._getIndentLevelForWhitespaceLine(r,l,d))}let U=-1;if(C&&E<=n){const F=this._computeIndentLevel(E-1);F>=0?(h=E-1,g=F,U=Math.ceil(F/this.textModel.getOptions().indentSize)):(_(E),U=this._getIndentLevelForWhitespaceLine(r,g,p))}if(L===0){x=W;continue}if(L===1){if(E<=n&&U>=0&&x+1===U){v=!1,b=E,w=E,S=U;continue}if(I>=1&&W>=0&&W-1===x){C=!1,b=I,w=I,S=W;continue}if(b=e,w=e,S=x,S===0)return{startLineNumber:b,endLineNumber:w,indent:S}}v&&(W>=S?b=I:v=!1),C&&(U>=S?w=E:C=!1)}return{startLineNumber:b,endLineNumber:w,indent:S}}getLinesBracketGuides(e,t,i,n){var o;const r=[];for(let h=e;h<=t;h++)r.push([]);const a=!0,l=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new k(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let c;if(i&&l.length>0){const h=(e<=i.lineNumber&&i.lineNumber<=t?l:this.textModel.bracketPairs.getBracketPairsInRange(k.fromPositions(i)).toArray()).filter(g=>k.strictContainsPosition(g.range,i));c=(o=VC(h,g=>a))===null||o===void 0?void 0:o.range}const d=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,u=new p9;for(const h of l){if(!h.closingBracketRange)continue;const g=c&&h.range.equalsRange(c);if(!g&&!n.includeInactive)continue;const m=u.getInlineClassName(h.nestingLevel,h.nestingLevelOfEqualBracketType,d)+(n.highlightActive&&g?" "+u.activeClassName:""),p=h.openingBracketRange.getStartPosition(),_=h.closingBracketRange.getStartPosition(),b=n.horizontalGuides===th.Enabled||n.horizontalGuides===th.EnabledForActive&&g;if(h.range.startLineNumber===h.range.endLineNumber){b&&r[h.range.startLineNumber-e].push(new qu(-1,h.openingBracketRange.getEndPosition().column,m,new gb(!1,_.column),-1,-1));continue}const v=this.getVisibleColumnFromPosition(_),w=this.getVisibleColumnFromPosition(h.openingBracketRange.getStartPosition()),C=Math.min(w,v,h.minVisibleColumnIndentation+1);let S=!1;Zn(this.textModel.getLineContent(h.closingBracketRange.startLineNumber))<h.closingBracketRange.startColumn-1&&(S=!0);const I=Math.max(p.lineNumber,e),E=Math.min(_.lineNumber,t),W=S?1:0;for(let U=I;U<E+W;U++)r[U-e].push(new qu(C,-1,m,null,U===p.lineNumber?p.column:-1,U===_.lineNumber?_.column:-1));b&&(p.lineNumber>=e&&w>C&&r[p.lineNumber-e].push(new qu(C,-1,m,new gb(!1,p.column),-1,-1)),_.lineNumber<=t&&v>C&&r[_.lineNumber-e].push(new qu(C,-1,m,new gb(!S,_.column),-1,-1)))}for(const h of r)h.sort((g,m)=>g.visibleColumn-m.visibleColumn);return r}getVisibleColumnFromPosition(e){return Wi.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const n=this.textModel.getOptions(),o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=!!(o&&o.offSide),a=new Array(t-e+1);let l=-2,c=-1,d=-2,u=-1;for(let h=e;h<=t;h++){const g=h-e,m=this._computeIndentLevel(h-1);if(m>=0){l=h-1,c=m,a[g]=Math.ceil(m/n.indentSize);continue}if(l===-2){l=-1,c=-1;for(let p=h-2;p>=0;p--){const _=this._computeIndentLevel(p);if(_>=0){l=p,c=_;break}}}if(d!==-1&&(d===-2||d<h-1)){d=-1,u=-1;for(let p=h;p<i;p++){const _=this._computeIndentLevel(p);if(_>=0){d=p,u=_;break}}}a[g]=this._getIndentLevelForWhitespaceLine(r,c,u)}return a}_getIndentLevelForWhitespaceLine(e,t,i){const n=this.textModel.getOptions();return t===-1||i===-1?0:t<i?1+Math.floor(t/n.indentSize):t===i||e?Math.ceil(i/n.indentSize):1+Math.floor(i/n.indentSize)}}class p9{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}}class cX extends Zh{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,i=t.get(144),n=t.get(50);this._lineHeight=t.get(66),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(144),n=t.get(50);return this._lineHeight=t.get(66),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(e){var t;const n=e.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(n)?!1:(this._primaryPosition=n,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,n,o;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const r=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,l=e.scrollWidth,c=this._lineHeight,d=this._primaryPosition,u=this.getGuidesByLine(r,Math.min(a+1,this._context.viewModel.getLineCount()),d),h=[];for(let g=r;g<=a;g++){const m=g-r,p=u[m];let _="";const b=(i=(t=e.visibleRangeForPosition(new P(g,1)))===null||t===void 0?void 0:t.left)!==null&&i!==void 0?i:0;for(const v of p){const w=v.column===-1?b+(v.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new P(g,v.column)).left;if(w>l||this._maxIndentLeft>0&&w>this._maxIndentLeft)break;const C=v.horizontalLine?v.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",S=v.horizontalLine?((o=(n=e.visibleRangeForPosition(new P(g,v.horizontalLine.endColumn)))===null||n===void 0?void 0:n.left)!==null&&o!==void 0?o:w+this._spaceWidth)-w:this._spaceWidth;_+=`<div class="core-guide ${v.className} ${C}" style="left:${w}px;height:${c}px;width:${S}px"></div>`}h[m]=_}this._renderResult=h}getGuidesByLine(e,t,i){const n=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?th.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?th.EnabledForActive:th.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,o=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,t):null;let r=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&i){const u=this._context.viewModel.getActiveIndentGuide(i.lineNumber,e,t);r=u.startLineNumber,a=u.endLineNumber,l=u.indent}const{indentSize:c}=this._context.viewModel.model.getOptions(),d=[];for(let u=e;u<=t;u++){const h=new Array;d.push(h);const g=n?n[u-e]:[],m=new rc(g),p=o?o[u-e]:0;for(let _=1;_<=p;_++){const b=(_-1)*c+1,v=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||g.length===0)&&r<=u&&u<=a&&_===l;h.push(...m.takeWhile(C=>C.visibleColumn<b)||[]);const w=m.peek();(!w||w.visibleColumn!==b||w.horizontalLine)&&h.push(new qu(b,-1,`core-guide-indent lvl-${(_-1)%30}`+(v?" indent-active":""),null,-1,-1))}h.push(...m.takeWhile(_=>!0)||[])}return d}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function bg(s){if(!(s&&s.isTransparent()))return s}mr((s,e)=>{const t=[{bracketColor:i9,guideColor:vY,guideColorActive:LY},{bracketColor:n9,guideColor:wY,guideColorActive:xY},{bracketColor:o9,guideColor:CY,guideColorActive:DY},{bracketColor:s9,guideColor:SY,guideColorActive:IY},{bracketColor:r9,guideColor:yY,guideColorActive:TY},{bracketColor:a9,guideColor:kY,guideColorActive:EY}],i=new p9,n=[{indentColor:Rv,indentColorActive:Mv},{indentColor:tY,indentColorActive:rY},{indentColor:iY,indentColorActive:aY},{indentColor:nY,indentColorActive:lY},{indentColor:oY,indentColorActive:cY},{indentColor:sY,indentColorActive:dY}],o=t.map(a=>{var l,c;const d=s.getColor(a.bracketColor),u=s.getColor(a.guideColor),h=s.getColor(a.guideColorActive),g=bg((l=bg(u))!==null&&l!==void 0?l:d==null?void 0:d.transparent(.3)),m=bg((c=bg(h))!==null&&c!==void 0?c:d);if(!(!g||!m))return{guideColor:g,guideColorActive:m}}).filter(Hb),r=n.map(a=>{const l=s.getColor(a.indentColor),c=s.getColor(a.indentColorActive),d=bg(l),u=bg(c);if(!(!d||!u))return{indentColor:d,indentColorActive:u}}).filter(Hb);if(o.length>0){for(let a=0;a<30;a++){const l=o[a%o.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${i.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${i.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${i.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(r.length>0){for(let a=0;a<30;a++){const l=r[a%r.length];e.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${a} { --indent-color: ${l.indentColor}; --indent-color-active: ${l.indentColorActive}; }`)}e.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),e.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}});class DL{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(e,t){this._domNode=e,this.endNode=t,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class dX{constructor(){this._currentVisibleRange=new k(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class uX{constructor(e,t,i,n,o,r,a){this.minimalReveal=e,this.lineNumber=t,this.startColumn=i,this.endColumn=n,this.startScrollTop=o,this.stopScrollTop=r,this.scrollType=a,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}}class hX{constructor(e,t,i,n,o){this.minimalReveal=e,this.selections=t,this.startScrollTop=i,this.stopScrollTop=n,this.scrollType=o,this.type="selections";let r=t[0].startLineNumber,a=t[0].endLineNumber;for(let l=1,c=t.length;l<c;l++){const d=t[l];r=Math.min(r,d.startLineNumber),a=Math.max(a,d.endLineNumber)}this.minLineNumber=r,this.maxLineNumber=a}}class ry extends Uo{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new h9(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,n=this._context.configuration.options,o=n.get(50),r=n.get(144);this._lineHeight=n.get(66),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=n.get(99),this._cursorSurroundingLines=n.get(29),this._cursorSurroundingLinesStyle=n.get(30),this._canUseLayerHinting=!n.get(32),this._viewLineOptions=new dO(i,this._context.theme.type),tl.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Lf}`),In(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new xt(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new xt(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new dX,this._horizontalRevealRequest=null,this._stickyScrollEnabled=n.get(114).enabled,this._maxNumberStickyLines=n.get(114).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Ta(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(144)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(50),n=t.get(144);return this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=n.isViewportWrapping,this._revealHorizontalRightPadding=t.get(99),this._cursorSurroundingLines=t.get(29),this._cursorSurroundingLinesStyle=t.get(30),this._canUseLayerHinting=!t.get(32),this._stickyScrollEnabled=t.get(114).enabled,this._maxNumberStickyLines=t.get(114).maxLineCount,In(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(143)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new dO(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++)this._visibleLines.getVisibleLine(o).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=!1;for(let o=t;o<=i;o++)n=this._visibleLines.getVisibleLine(o).onSelectionChanged()||n;return n}onDecorationsChanged(e){{const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++)this._visibleLines.getVisibleLine(n).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(t===-1)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new uX(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new hX(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const o=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(i,o),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(i===null)return null;const n=this._getLineNumberFor(i);if(n===-1||n<1||n>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(n)===1)return new P(n,1);const o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(n<o||n>r)return null;let a=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(e,t);const l=this._context.viewModel.getLineMinColumn(n);return a<l&&(a=l),new P(n,a)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===Ta.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){const o=this._visibleLines.getVisibleLine(n);if(e===o.getDomNode())return n}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();if(e<t||e>i)return-1;const n=new DL(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getVisibleLine(e).getWidth(n);return this._updateLineWidthsSlowIfDomDidLayout(n),o}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,n=k.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;const o=[];let r=0;const a=new DL(this.domNode.domNode,this._textRangeRestingSpot);let l=0;t&&(l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new P(n.startLineNumber,1)).lineNumber);const c=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let u=n.startLineNumber;u<=n.endLineNumber;u++){if(u<c||u>d)continue;const h=u===n.startLineNumber?n.startColumn:1,g=u!==n.endLineNumber,m=g?this._context.viewModel.getLineMaxColumn(u):n.endColumn,p=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(u,h,m,a);if(p){if(t&&u<i){const _=l;l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new P(u+1,1)).lineNumber,_!==l&&(p.ranges[p.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[r++]=new CQ(p.outsideRenderedLine,u,ey.from(p.ranges),g)}}return this._updateLineWidthsSlowIfDomDidLayout(a),r===0?null:o}_visibleRangesForLineRange(e,t,i){if(this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber())return null;const n=new DL(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,n);return this._updateLineWidthsSlowIfDomDidLayout(n),o}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new SQ(t.outsideRenderedLine,t.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(e){e.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=1,o=!0;for(let r=t;r<=i;r++){const a=this._visibleLines.getVisibleLine(r);if(e&&!a.getWidthIsFast()){o=!1;continue}n=Math.max(n,a.getWidth(null))}return o&&t===1&&i===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++){const r=this._visibleLines.getVisibleLine(o);if(r.needsMonospaceFontCheck()){const a=r.getWidth(null);a>t&&(t=a,e=o)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let o=i;o<=n;o++)this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const i=this._horizontalRevealRequest;if(e.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const n=this._computeScrollLeftToReveal(i);n&&(this._isViewportWrapping||this._ensureMaxLineWidth(n.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:n.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),Qn&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++)if(this._visibleLines.getVisibleLine(o).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,n,o,r){const a=e.top,l=e.height,c=a+l;let d,u,h;if(o&&o.length>0){let b=o[0].startLineNumber,v=o[0].endLineNumber;for(let w=1,C=o.length;w<C;w++){const S=o[w];b=Math.min(b,S.startLineNumber),v=Math.max(v,S.endLineNumber)}d=!1,u=this._context.viewLayout.getVerticalOffsetForLineNumber(b),h=this._context.viewLayout.getVerticalOffsetForLineNumber(v)+this._lineHeight}else if(n)d=!0,u=this._context.viewLayout.getVerticalOffsetForLineNumber(n.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(n.endLineNumber)+this._lineHeight;else return-1;const g=(t==="mouse"||i)&&this._cursorSurroundingLinesStyle==="default";let m=0,p=0;if(g)i||(m=this._lineHeight);else{const b=Math.min(l/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?m=Math.max(b,this._maxNumberStickyLines)*this._lineHeight:m=b*this._lineHeight,p=Math.max(0,b-1)*this._lineHeight}i||(r===0||r===4)&&(p+=this._lineHeight),u-=m,h+=p;let _;if(h-u>l){if(!d)return-1;_=u}else if(r===5||r===6)if(r===6&&a<=u&&h<=c)_=a;else{const b=Math.max(5*this._lineHeight,l*.2),v=u-b,w=h-l;_=Math.max(w,v)}else if(r===1||r===2)if(r===2&&a<=u&&h<=c)_=a;else{const b=(u+h)/2;_=Math.max(0,b-l/2)}else _=this._computeMinimumScrolling(a,c,u,h,r===3,r===4);return _}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=this._context.configuration.options.get(143),n=t.left,o=n+t.width-i.verticalScrollbarWidth;let r=1073741824,a=0;if(e.type==="range"){const c=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!c)return null;for(const d of c.ranges)r=Math.min(r,Math.round(d.left)),a=Math.max(a,Math.round(d.left+d.width))}else for(const c of e.selections){if(c.startLineNumber!==c.endLineNumber)return null;const d=this._visibleRangesForLineRange(c.startLineNumber,c.startColumn,c.endColumn);if(!d)return null;for(const u of d.ranges)r=Math.min(r,Math.round(u.left)),a=Math.max(a,Math.round(u.left+u.width))}return e.minimalReveal||(r=Math.max(0,r-ry.HORIZONTAL_EXTRA_PX),a+=this._revealHorizontalRightPadding),e.type==="selections"&&a-r>t.width?null:{scrollLeft:this._computeMinimumScrolling(n,o,r,a),maxHorizontalOffset:a}}_computeMinimumScrolling(e,t,i,n,o,r){e=e|0,t=t|0,i=i|0,n=n|0,o=!!o,r=!!r;const a=t-e;if(n-i<a){if(o)return i;if(r)return Math.max(0,n-a);if(i<e)return i;if(n>t)return Math.max(0,n-a)}else return i;return e}}ry.HORIZONTAL_EXTRA_PX=30;class DI{constructor(e,t,i,n){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i),this.zIndex=n!=null?n:0}}class gX{constructor(e,t){this.className=e,this.zIndex=t}}class fX{constructor(){this.decorations=[]}add(e){this.decorations.push(e)}getDecorations(){return this.decorations}}class b9 extends Zh{_render(e,t,i){const n=[];for(let a=e;a<=t;a++){const l=a-e;n[l]=new fX}if(i.length===0)return n;i.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let o=null,r=0;for(let a=0,l=i.length;a<l;a++){const c=i[a],d=c.className,u=c.zIndex;let h=Math.max(c.startLineNumber,e)-e;const g=Math.min(c.endLineNumber,t)-e;o===d?(h=Math.max(r+1,h),r=Math.max(r,g)):(o=d,r=g);for(let m=h;m<=r;m++)n[m].add(new gX(d,u))}return n}}class mX extends Uo{constructor(e){super(e),this._widgets={},this._context=e;const t=this._context.configuration.options,i=t.get(143);this.domNode=vt(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=t.get(66),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);return this._lineHeight=t.get(66),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}addWidget(e){const t=vt(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:e.getPosition(),domNode:t,renderInfo:null},t.setPosition("absolute"),t.setDisplay("none"),t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference.lane===t.lane&&i.preference.zIndex===t.zIndex&&k.equalsRange(i.preference.range,t.range)?!1:(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){var t;const i=e.getId();if(this._widgets[i]){const o=this._widgets[i].domNode.domNode;delete this._widgets[i],(t=o.parentNode)===null||t===void 0||t.removeChild(o),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(e,t){var i,n,o;const r=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,l=e.getDecorationsInViewport();for(const c of l){const d=c.options.glyphMarginClassName;if(!d)continue;const u=Math.max(c.range.startLineNumber,r),h=Math.min(c.range.endLineNumber,a),g=Math.min((n=(i=c.options.glyphMargin)===null||i===void 0?void 0:i.position)!==null&&n!==void 0?n:1,this._glyphMarginDecorationLaneCount),m=(o=c.options.zIndex)!==null&&o!==void 0?o:0;for(let p=u;p<=h;p++)t.push(new pX(p,g,m,d))}}_collectWidgetBasedGlyphRenderRequest(e,t){const i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(const o of Object.values(this._widgets)){const r=o.preference.range;if(r.endLineNumber<i||r.startLineNumber>n)continue;const a=Math.max(r.startLineNumber,i),l=Math.min(o.preference.lane,this._glyphMarginDecorationLaneCount);t.push(new bX(a,l,o.preference.zIndex,o))}}_collectSortedGlyphRenderRequests(e){const t=[];return this._collectDecorationBasedGlyphRenderRequest(e,t),this._collectWidgetBasedGlyphRenderRequest(e,t),t.sort((i,n)=>i.lineNumber===n.lineNumber?i.lane===n.lane?i.zIndex===n.zIndex?n.type===i.type?i.type===0&&n.type===0?i.className<n.className?-1:1:0:n.type-i.type:n.zIndex-i.zIndex:i.lane-n.lane:i.lineNumber-n.lineNumber),t}prepareRender(e){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const n of Object.values(this._widgets))n.renderInfo=null;const t=new rc(this._collectSortedGlyphRenderRequests(e)),i=[];for(;t.length>0;){const n=t.peek();if(!n)break;const o=t.takeWhile(a=>a.lineNumber===n.lineNumber&&a.lane===n.lane);if(!o||o.length===0)break;const r=o[0];if(r.type===0){const a=[];for(const l of o){if(l.zIndex!==r.zIndex||l.type!==r.type)break;(a.length===0||a[a.length-1]!==l.className)&&a.push(l.className)}i.push(r.accept(a.join(" ")))}else r.widget.renderInfo={lineNumber:r.lineNumber,lane:r.lane}}this._decorationGlyphsToRender=i}render(e){if(!this._glyphMargin){for(const i of Object.values(this._widgets))i.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const i=this._managedDomNodes.pop();i==null||i.domNode.remove()}return}const t=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const i of Object.values(this._widgets))if(!i.renderInfo)i.domNode.setDisplay("none");else{const n=e.viewportData.relativeVerticalOffset[i.renderInfo.lineNumber-e.viewportData.startLineNumber],o=this._glyphMarginLeft+(i.renderInfo.lane-1)*this._lineHeight;i.domNode.setDisplay("block"),i.domNode.setTop(n),i.domNode.setLeft(o),i.domNode.setWidth(t),i.domNode.setHeight(this._lineHeight)}for(let i=0;i<this._decorationGlyphsToRender.length;i++){const n=this._decorationGlyphsToRender[i],o=e.viewportData.relativeVerticalOffset[n.lineNumber-e.viewportData.startLineNumber],r=this._glyphMarginLeft+(n.lane-1)*this._lineHeight;let a;i<this._managedDomNodes.length?a=this._managedDomNodes[i]:(a=vt(document.createElement("div")),this._managedDomNodes.push(a),this.domNode.appendChild(a)),a.setClassName("cgmr codicon "+n.combinedClassName),a.setPosition("absolute"),a.setTop(o),a.setLeft(r),a.setWidth(t),a.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const i=this._managedDomNodes.pop();i==null||i.domNode.remove()}}}class pX{constructor(e,t,i,n){this.lineNumber=e,this.lane=t,this.zIndex=i,this.className=n,this.type=0}accept(e){return new _X(this.lineNumber,this.lane,e)}}class bX{constructor(e,t,i,n){this.lineNumber=e,this.lane=t,this.zIndex=i,this.widget=n,this.type=1}}class _X{constructor(e,t,i){this.lineNumber=e,this.lane=t,this.combinedClassName=i}}class vX extends b9{constructor(e){super(),this._context=e;const i=this._context.configuration.options.get(143);this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const i=this._context.configuration.options.get(143);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let n=0;for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.options.linesDecorationsClassName,c=a.options.zIndex;l&&(i[n++]=new DI(a.range.startLineNumber,a.range.endLineNumber,l,c));const d=a.options.firstLineDecorationClassName;d&&(i[n++]=new DI(a.range.startLineNumber,a.range.startLineNumber,d,c))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=this._decorationsLeft.toString(),r=this._decorationsWidth.toString(),a='" style="left:'+o+"px;width:"+r+'px;"></div>',l=[];for(let c=t;c<=i;c++){const d=c-t,u=n[d].getDecorations();let h="";for(const g of u)h+='<div class="cldr '+g.className+a;l[d]=h}this._renderResult=l}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class wX extends b9{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let n=0;for(let o=0,r=t.length;o<r;o++){const a=t[o],l=a.options.marginClassName,c=a.options.zIndex;l&&(i[n++]=new DI(a.range.startLineNumber,a.range.endLineNumber,l,c))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=[];for(let r=t;r<=i;r++){const a=r-t,l=n[a].getDecorations();let c="";for(const d of l)c+='<div class="cmdr '+d.className+'" style=""></div>';o[a]=c}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class Ts{constructor(e,t,i,n){this._rgba8Brand=void 0,this.r=Ts._clamp(e),this.g=Ts._clamp(t),this.b=Ts._clamp(i),this.a=Ts._clamp(n)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}Ts.Empty=new Ts(0,0,0,0);class Ov extends H{static getInstance(){return this._INSTANCE||(this._INSTANCE=new Ov),this._INSTANCE}constructor(){super(),this._onDidChange=new M,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(ei.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const e=ei.getColorMap();if(!e){this._colors=[Ts.Empty],this._backgroundIsLight=!0;return}this._colors=[Ts.Empty];for(let i=1;i<e.length;i++){const n=e[i].rgba;this._colors[i]=new Ts(n.r,n.g,n.b,Math.round(n.a*255))}const t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}Ov._INSTANCE=null;const CX=(()=>{const s=[];for(let e=32;e<=126;e++)s.push(e);return s.push(65533),s})(),SX=(s,e)=>(s-=32,s<0||s>96?e<=2?(s+96)%96:96-1:s);class m_{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=m_.soften(e,12/15),this.charDataLight=m_.soften(e,50/60)}static soften(e,t){const i=new Uint8ClampedArray(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=FC(e[n]*t);return i}renderChar(e,t,i,n,o,r,a,l,c,d,u){const h=1*this.scale,g=2*this.scale,m=u?1:g;if(t+h>e.width||i+m>e.height){console.warn("bad render request outside image data");return}const p=d?this.charDataLight:this.charDataNormal,_=SX(n,c),b=e.width*4,v=a.r,w=a.g,C=a.b,S=o.r-v,x=o.g-w,L=o.b-C,I=Math.max(r,l),E=e.data;let W=_*h*g,U=i*b+t*4;for(let F=0;F<m;F++){let O=U;for(let G=0;G<h;G++){const X=p[W++]/255*(r/255);E[O++]=v+S*X,E[O++]=w+x*X,E[O++]=C+L*X,E[O++]=I}U+=b}}blockRenderChar(e,t,i,n,o,r,a,l){const c=1*this.scale,d=2*this.scale,u=l?1:d;if(t+c>e.width||i+u>e.height){console.warn("bad render request outside image data");return}const h=e.width*4,g=.5*(o/255),m=r.r,p=r.g,_=r.b,b=n.r-m,v=n.g-p,w=n.b-_,C=m+b*g,S=p+v*g,x=_+w*g,L=Math.max(o,a),I=e.data;let E=i*h+t*4;for(let W=0;W<u;W++){let U=E;for(let F=0;F<c;F++)I[U++]=C,I[U++]=S,I[U++]=x,I[U++]=L;E+=h}}}const wO={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},CO=s=>{const e=new Uint8ClampedArray(s.length/2);for(let t=0;t<s.length;t+=2)e[t>>1]=wO[s[t]]<<4|wO[s[t+1]]&15;return e},SO={1:Sd(()=>CO("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:Sd(()=>CO("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class fb{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return SO[e]?i=new m_(SO[e](),e):i=fb.createFromSampleData(fb.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=96*10,t.style.width=96*10+"px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let n=0;for(const o of CX)i.fillText(String.fromCharCode(o),n,16/2),n+=10;return i.getImageData(0,0,96*10,16)}static createFromSampleData(e,t){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const n=fb._downsample(e,t);return new m_(n,t)}static _downsampleChar(e,t,i,n,o){const r=1*o,a=2*o;let l=n,c=0;for(let d=0;d<a;d++){const u=d/a*16,h=(d+1)/a*16;for(let g=0;g<r;g++){const m=g/r*10,p=(g+1)/r*10;let _=0,b=0;for(let w=u;w<h;w++){const C=t+Math.floor(w)*3840,S=1-(w-Math.floor(w));for(let x=m;x<p;x++){const L=1-(x-Math.floor(x)),I=C+Math.floor(x)*4,E=L*S;b+=E,_+=e[I]*e[I+3]/255*E}}const v=_/b;c=Math.max(c,v),i[l++]=FC(v)}}return c}static _downsample(e,t){const i=2*t*1*t,n=i*96,o=new Uint8ClampedArray(n);let r=0,a=0,l=0;for(let c=0;c<96;c++)l=Math.max(l,this._downsampleChar(e,a,o,r,t)),r+=i,a+=10*4;if(l>0){const c=255/l;for(let d=0;d<n;d++)o[d]*=c}return o}}const yX=140,kX=2;class p_{constructor(e,t,i){const n=e.options,o=n.get(141),r=n.get(143),a=r.minimap,l=n.get(50),c=n.get(72);this.renderMinimap=a.renderMinimap,this.size=c.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(104),this.paddingTop=n.get(83).top,this.paddingBottom=n.get(83).bottom,this.showSlider=c.showSlider,this.autohide=c.autohide,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(66),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=r.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=r.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=Sd(()=>fb.create(this.fontScale,l.fontFamily)),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=p_._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=p_._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor(sQ);return i?new Ts(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(rQ);return t?Ts._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.paddingTop===e.paddingTop&&this.paddingBottom===e.paddingBottom&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class mb{constructor(e,t,i,n,o,r,a,l,c){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=o,this.sliderHeight=r,this.topPaddingLineCount=a,this.startLineNumber=l,this.endLineNumber=c}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumber,e.endLineNumber);return t>i?null:[t,i]}getYForLineNumber(e,t){return+(e-this.startLineNumber+this.topPaddingLineCount)*t}static create(e,t,i,n,o,r,a,l,c,d,u){const h=e.pixelRatio,g=e.minimapLineHeight,m=Math.floor(e.canvasInnerHeight/g),p=e.lineHeight;if(e.minimapHeightIsEditorHeight){let x=l*e.lineHeight+e.paddingTop+e.paddingBottom;e.scrollBeyondLastLine&&(x+=Math.max(0,o-e.lineHeight-e.paddingBottom));const L=Math.max(1,Math.floor(o*o/x)),I=Math.max(0,e.minimapHeight-L),E=I/(d-o),W=c*E,U=I>0,F=Math.floor(e.canvasInnerHeight/e.minimapLineHeight),O=Math.floor(e.paddingTop/e.lineHeight);return new mb(c,d,U,E,W,L,O,1,Math.min(a,F))}let _;if(r&&i!==a){const x=i-t+1;_=Math.floor(x*g/h)}else{const x=o/p;_=Math.floor(x*g/h)}const b=Math.floor(e.paddingTop/p);let v=Math.floor(e.paddingBottom/p);if(e.scrollBeyondLastLine){const x=o/p;v=Math.max(v,x-1)}let w;if(v>0){const x=o/p;w=(b+a+v-x-1)*g/h}else w=Math.max(0,(b+a)*g/h-_);w=Math.min(e.minimapHeight-_,w);const C=w/(d-o),S=c*C;if(m>=b+a+v){const x=w>0;return new mb(c,d,x,C,S,_,b,1,a)}else{let x;t>1?x=t+b:x=Math.max(1,c/p);let L,I=Math.max(1,Math.floor(x-S*h/g));I<b?(L=b-I+1,I=1):(L=0,I=Math.max(1,I-b)),u&&u.scrollHeight===d&&(u.scrollTop>c&&(I=Math.min(I,u.startLineNumber),L=Math.max(L,u.topPaddingLineCount)),u.scrollTop<c&&(I=Math.max(I,u.startLineNumber),L=Math.min(L,u.topPaddingLineCount)));const E=Math.min(a,I-L+m-1),W=(c-n)/p;let U;return c>=e.paddingTop?U=(t-I+L+W)*g/h:U=c/e.paddingTop*(L+W)*g/h,new mb(c,d,!0,C,U,_,L,I,E)}}}class XC{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}XC.INVALID=new XC(-1);class yO{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new u9(()=>XC.INVALID),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const i=this._renderedLines._get().lines;for(let n=0,o=i.length;n<o;n++)if(i[n].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class aR{constructor(e,t,i,n){this._backgroundFillData=aR._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const n=i.r,o=i.g,r=i.b,a=i.a,l=new Uint8ClampedArray(e*t*4);let c=0;for(let d=0;d<t;d++)for(let u=0;u<e;u++)l[c]=n,l[c+1]=o,l[c+2]=r,l[c+3]=a,c+=4;return l}}class b_{static compute(e,t,i){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const{minimapLineCount:n}=ff.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:e.scrollBeyondLastLine,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:e.editorHeight,lineHeight:e.lineHeight,pixelRatio:e.pixelRatio}),o=t/n,r=o/2;if(!i||i.minimapLines.length===0){const _=[];if(_[0]=1,n>1){for(let b=0,v=n-1;b<v;b++)_[b]=Math.round(b*o+r);_[n-1]=t}return[new b_(o,_),[]]}const a=i.minimapLines,l=a.length,c=[];let d=0,u=0,h=1;const g=10;let m=[],p=null;for(let _=0;_<n;_++){const b=Math.max(h,Math.round(_*o)),v=Math.max(b,Math.round((_+1)*o));for(;d<l&&a[d]<b;){if(m.length<g){const C=d+1+u;p&&p.type==="deleted"&&p._oldIndex===d-1?p.deleteToLineNumber++:(p={type:"deleted",_oldIndex:d,deleteFromLineNumber:C,deleteToLineNumber:C},m.push(p)),u--}d++}let w;if(d<l&&a[d]<=v)w=a[d],d++;else if(_===0?w=1:_+1===n?w=t:w=Math.round(_*o+r),m.length<g){const C=d+1+u;p&&p.type==="inserted"&&p._i===_-1?p.insertToLineNumber++:(p={type:"inserted",_i:_,insertFromLineNumber:C,insertToLineNumber:C},m.push(p)),u++}c[_]=w,h=w}if(m.length<g)for(;d<l;){const _=d+1+u;p&&p.type==="deleted"&&p._oldIndex===d-1?p.deleteToLineNumber++:(p={type:"deleted",_oldIndex:d,deleteFromLineNumber:_,deleteToLineNumber:_},m.push(p)),u--,d++}else m=[{type:"flush"}];return[new b_(o,c),m]}constructor(e,t){this.samplingRatio=e,this.minimapLines=t}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){const o=this.minimapLines[i];if(o<e||o>t)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?i>1&&i--:n++),[i,n]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,n=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),n=Math.max(n,o)):this.minimapLines[o]-=t;return[i,n]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class LX extends Uo{constructor(e){super(e),this.tokensColorTracker=Ov.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new p_(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=b_.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new JC(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new p_(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return t?this._actual.onLinesChanged(t[0],t[1]-t[0]+1):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i-t+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const t=[];for(const i of e.ranges){const n=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);n&&t.push({fromLineNumber:n[0],toLineNumber:n[1]})}return t.length?this._actual.onTokensChanged(t):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const n={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(n)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[t,i]=b_.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const n of i)switch(n.type){case"deleted":this._actual.onLinesDeleted(n.deleteFromLineNumber,n.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(n.insertFromLineNumber,n.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){const n=[];for(let o=0,r=t-e+1;o<r;o++)i[o]?n[o]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+o-1]):n[o]=null;return n}return this._context.viewModel.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new _e(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const o=this._samplingState.minimapLines[e-1],r=this._samplingState.minimapLines[t-1];i=new k(o,1,r,this._context.viewModel.getLineMaxColumn(r))}else i=new k(e,1,t,this._context.viewModel.getLineMaxColumn(t));const n=this._context.viewModel.getMinimapDecorationsInRange(i);if(this._samplingState){const o=[];for(const r of n){if(!r.options.minimap)continue;const a=r.range,l=this._samplingState.modelLineToMinimapLine(a.startLineNumber),c=this._samplingState.modelLineToMinimapLine(a.endLineNumber);o.push(new E3(new k(l,a.startColumn,c,a.endColumn),r.options))}return o}return n}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new k(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class JC extends H{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(rO),this._domNode=vt(document.createElement("div")),tl.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=vt(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=vt(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=vt(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=vt(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=vt(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=Si(this._domNode.domNode,ae.POINTER_DOWN,i=>{if(i.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(i.button===0&&this._lastRenderData){const c=Pi(this._slider.domNode),d=c.top+c.height/2;this._startSliderDragging(i,d,this._lastRenderData.renderedLayout)}return}const o=this._model.options.minimapLineHeight,r=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*i.offsetY;let l=Math.floor(r/o)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;l=Math.min(l,this._model.getLineCount()),this._model.revealLineNumber(l)}),this._sliderPointerMoveMonitor=new Vm,this._sliderPointerDownListener=Si(this._slider.domNode,ae.POINTER_DOWN,i=>{i.preventDefault(),i.stopPropagation(),i.button===0&&this._lastRenderData&&this._startSliderDragging(i,i.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Nt.addTarget(this._domNode.domNode),this._sliderTouchStartListener=$(this._domNode.domNode,At.Start,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(i))},{passive:!1}),this._sliderTouchMoveListener=$(this._domNode.domNode,At.Change,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(i)},{passive:!1}),this._sliderTouchEndListener=Si(this._domNode.domNode,At.End,i=>{i.preventDefault(),i.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i){if(!e.target||!(e.target instanceof Element))return;const n=e.pageX;this._slider.toggleClassName("active",!0);const o=(r,a)=>{const l=Pi(this._domNode.domNode),c=Math.min(Math.abs(a-n),Math.abs(a-l.left),Math.abs(a-l.left-l.width));if(En&&c>yX){this._model.setScrollTop(i.scrollTop);return}const d=r-t;this._model.setScrollTop(i.getDesiredScrollTopFromDelta(d))};e.pageY!==t&&o(e.pageY,n),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,r=>o(r.pageY,r.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return this._model.options.showSlider==="always"?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new aR(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,t):!1}onLinesDeleted(e,t){var i;return(i=this._lastRenderData)===null||i===void 0||i.onLinesDeleted(e,t),!0}onLinesInserted(e,t){var i;return(i=this._lastRenderData)===null||i===void 0||i.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(rO),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const i=mb.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(k.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort((h,g)=>(h.options.zIndex||0)-(g.options.zIndex||0));const{canvasInnerWidth:n,canvasInnerHeight:o}=this._model.options,r=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,l=this._model.getOptions().tabSize,c=this._decorationsCanvas.domNode.getContext("2d");c.clearRect(0,0,n,o);const d=new kO(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(c,t,d,e,r),this._renderDecorationsLineHighlights(c,i,d,e,r);const u=new kO(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(c,t,u,e,r,l,a,n),this._renderDecorationsHighlights(c,i,u,e,r,l,a,n)}}_renderSelectionLineHighlights(e,t,i,n,o){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let r=0,a=0;for(const l of t){const c=n.intersectWithViewport(l);if(!c)continue;const[d,u]=c;for(let m=d;m<=u;m++)i.set(m,!0);const h=n.getYForLineNumber(d,o),g=n.getYForLineNumber(u,o);a>=h||(a>r&&e.fillRect(Dc,r,e.canvas.width,a-r),r=h),a=g}a>r&&e.fillRect(Dc,r,e.canvas.width,a-r)}_renderDecorationsLineHighlights(e,t,i,n,o){const r=new Map;for(let a=t.length-1;a>=0;a--){const l=t[a],c=l.options.minimap;if(!c||c.position!==Bo.Inline)continue;const d=n.intersectWithViewport(l.range);if(!d)continue;const[u,h]=d,g=c.getColor(this._theme.value);if(!g||g.isTransparent())continue;let m=r.get(g.toString());m||(m=g.transparent(.5).toString(),r.set(g.toString(),m)),e.fillStyle=m;for(let p=u;p<=h;p++){if(i.has(p))continue;i.set(p,!0);const _=n.getYForLineNumber(u,o);e.fillRect(Dc,_,e.canvas.width,o)}}}_renderSelectionsHighlights(e,t,i,n,o,r,a,l){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const c of t){const d=n.intersectWithViewport(c);if(!d)continue;const[u,h]=d;for(let g=u;g<=h;g++)this.renderDecorationOnLine(e,i,c,this._selectionColor,n,g,o,o,r,a,l)}}_renderDecorationsHighlights(e,t,i,n,o,r,a,l){for(const c of t){const d=c.options.minimap;if(!d)continue;const u=n.intersectWithViewport(c.range);if(!u)continue;const[h,g]=u,m=d.getColor(this._theme.value);if(!(!m||m.isTransparent()))for(let p=h;p<=g;p++)switch(d.position){case Bo.Inline:this.renderDecorationOnLine(e,i,c.range,m,n,p,o,o,r,a,l);continue;case Bo.Gutter:{const _=n.getYForLineNumber(p,o),b=2;this.renderDecoration(e,m,b,_,kX,o);continue}}}}renderDecorationOnLine(e,t,i,n,o,r,a,l,c,d,u){const h=o.getYForLineNumber(r,l);if(h+a<0||h>this._model.options.canvasInnerHeight)return;const{startLineNumber:g,endLineNumber:m}=i,p=g===r?i.startColumn:1,_=m===r?i.endColumn:this._model.getLineMaxColumn(r),b=this.getXOffsetForPosition(t,r,p,c,d,u),v=this.getXOffsetForPosition(t,r,_,c,d,u);this.renderDecoration(e,n,b,h,v-b,a)}getXOffsetForPosition(e,t,i,n,o,r){if(i===1)return Dc;if((i-1)*o>=r)return r;let l=e.get(t);if(!l){const c=this._model.getLineContent(t);l=[Dc];let d=Dc;for(let u=1;u<c.length+1;u++){const h=c.charCodeAt(u-1),g=h===9?n*o:yd(h)?2*o:o,m=d+g;if(m>=r){l[u]=r;break}l[u]=m,d=m}e.set(t,l)}return i-1<l.length?l[i-1]:r}renderDecoration(e,t,i,n,o,r){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,o,r)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const X=this._lastRenderData._get();return new yO(e,X.imageData,X.lines)}const o=this._getBuffer();if(!o)return null;const[r,a,l]=JC._renderUntouchedLines(o,e.topPaddingLineCount,t,i,n,this._lastRenderData),c=this._model.getMinimapLinesRenderingData(t,i,l),d=this._model.getOptions().tabSize,u=this._model.options.defaultBackgroundColor,h=this._model.options.backgroundColor,g=this._model.options.foregroundAlpha,m=this._model.tokensColorTracker,p=m.backgroundIsLight(),_=this._model.options.renderMinimap,b=this._model.options.charRenderer(),v=this._model.options.fontScale,w=this._model.options.minimapCharWidth,S=(_===1?2:2+1)*v,x=n>S?Math.floor((n-S)/2):0,L=h.a/255,I=new Ts(Math.round((h.r-u.r)*L+u.r),Math.round((h.g-u.g)*L+u.g),Math.round((h.b-u.b)*L+u.b),255);let E=e.topPaddingLineCount*n;const W=[];for(let X=0,fe=i-t+1;X<fe;X++)l[X]&&JC._renderLine(o,I,h.a,p,_,w,m,g,b,E,x,d,c[X],v,n),W[X]=new XC(E),E+=n;const U=r===-1?0:r,O=(a===-1?o.height:a)-U;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,U,o.width,O),new yO(e,o,W)}static _renderUntouchedLines(e,t,i,n,o,r){const a=[];if(!r){for(let E=0,W=n-i+1;E<W;E++)a[E]=!0;return[-1,-1,a]}const l=r._get(),c=l.imageData.data,d=l.rendLineNumberStart,u=l.lines,h=u.length,g=e.width,m=e.data,p=(n-i+1)*o*g*4;let _=-1,b=-1,v=-1,w=-1,C=-1,S=-1,x=t*o;for(let E=i;E<=n;E++){const W=E-i,U=E-d,F=U>=0&&U<h?u[U].dy:-1;if(F===-1){a[W]=!0,x+=o;continue}const O=F*g*4,G=(F+o)*g*4,X=x*g*4,fe=(x+o)*g*4;w===O&&S===X?(w=G,S=fe):(v!==-1&&(m.set(c.subarray(v,w),C),_===-1&&v===0&&v===C&&(_=w),b===-1&&w===p&&v===C&&(b=v)),v=O,w=G,C=X,S=fe),a[W]=!1,x+=o}v!==-1&&(m.set(c.subarray(v,w),C),_===-1&&v===0&&v===C&&(_=w),b===-1&&w===p&&v===C&&(b=v));const L=_===-1?-1:_/(g*4),I=b===-1?-1:b/(g*4);return[L,I,a]}static _renderLine(e,t,i,n,o,r,a,l,c,d,u,h,g,m,p){const _=g.content,b=g.tokens,v=e.width-r,w=p===1;let C=Dc,S=0,x=0;for(let L=0,I=b.getCount();L<I;L++){const E=b.getEndOffset(L),W=b.getForeground(L),U=a.getColor(W);for(;S<E;S++){if(C>v)return;const F=_.charCodeAt(S);if(F===9){const O=h-(S+x)%h;x+=O-1,C+=O*r}else if(F===32)C+=r;else{const O=yd(F)?2:1;for(let G=0;G<O;G++)if(o===2?c.blockRenderChar(e,C,d+u,U,l,t,i,w):c.renderChar(e,C,d+u,F,U,l,t,i,m,n,w),C+=r,C>v)return}}}}}class kO{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let n=0,o=this._endLineNumber-this._startLineNumber+1;n<o;n++)this._values[n]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}class xX extends Uo{constructor(e){super(e);const i=this._context.configuration.options.get(143);this._widgets={},this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,this._domNode=vt(document.createElement("div")),tl.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const i=this._context.configuration.options.get(143);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0}addWidget(e){const t=vt(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference===t?(this._updateMaxMinWidth(),!1):(i.preference=t,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const n=this._widgets[t].domNode.domNode;delete this._widgets[t],n.parentNode.removeChild(n),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var e,t;let i=0;const n=Object.keys(this._widgets);for(let o=0,r=n.length;o<r;o++){const a=n[o],c=(t=(e=this._widgets[a].widget).getMinContentWidthInPx)===null||t===void 0?void 0:t.call(e);typeof c!="undefined"&&(i=Math.max(i,c))}this._context.viewLayout.setOverlayWidgetsMinWidth(i)}_renderWidget(e){const t=e.domNode;if(e.preference===null){t.setTop("");return}if(e.preference===0)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const i=t.domNode.clientHeight;t.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(t.setTop(0),t.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let i=0,n=t.length;i<n;i++){const o=t[i];this._renderWidget(this._widgets[o])}}}class DX{constructor(e,t){const i=e.options;this.lineHeight=i.get(66),this.pixelRatio=i.get(141),this.overviewRulerLanes=i.get(82),this.renderBorder=i.get(81);const n=t.getColor(hY);this.borderColor=n?n.toString():null,this.hideCursor=i.get(59);const o=t.getColor(e9);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;const r=i.get(72),a=r.enabled,l=r.side,c=t.getColor(gY),d=ei.getDefaultBackground();c?this.backgroundColor=c:a&&l==="right"?this.backgroundColor=d:this.backgroundColor=null;const h=i.get(143).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[g,m]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=g,this.w=m}_initLanes(e,t,i){const n=t-e;if(i>=3){const o=Math.floor(n/3),r=Math.floor(n/3),a=n-o-r,l=e,c=l+o,d=l+o+a;return[[0,l,c,l,d,l,c,l],[0,o,a,o+a,r,o+a+r,a+r,o+a+r]]}else if(i===2){const o=Math.floor(n/2),r=n-o,a=e,l=a+o;return[[0,a,a,a,l,a,a,a],[0,o,o,o,r,o+r,o+r,o+r]]}else{const o=e,r=n;return[[0,o,o,o,o,o,o,o],[0,r,r,r,r,r,r,r]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&V.equals(this.backgroundColor,e.backgroundColor)&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class IX extends Uo{constructor(e){super(e),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=vt(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=ei.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new DX(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(e){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(P.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(e){return e.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(e){return this._markRenderingIsNeeded()}onScrollChanged(e){return e.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(e){return this._markRenderingIsNeeded()}onThemeChanged(e){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render(),this._actualShouldRender=0}_render(){const e=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(e?V.Format.CSS.formatHexA(e):""),this._domNode.setDisplay("none");return}const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(s_.compareByRenderingProps),this._actualShouldRender===1&&!s_.equalsArr(this._renderedDecorations,t)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!bi(this._renderedCursorPositions,this._cursorPositions,(m,p)=>m.lineNumber===p.lineNumber)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const i=this._settings.canvasWidth,n=this._settings.canvasHeight,o=this._settings.lineHeight,r=this._context.viewLayout,a=this._context.viewLayout.getScrollHeight(),l=n/a,c=6*this._settings.pixelRatio|0,d=c/2|0,u=this._domNode.domNode.getContext("2d");e?e.isOpaque()?(u.fillStyle=V.Format.CSS.formatHexA(e),u.fillRect(0,0,i,n)):(u.clearRect(0,0,i,n),u.fillStyle=V.Format.CSS.formatHexA(e),u.fillRect(0,0,i,n)):u.clearRect(0,0,i,n);const h=this._settings.x,g=this._settings.w;for(const m of t){const p=m.color,_=m.data;u.fillStyle=p;let b=0,v=0,w=0;for(let C=0,S=_.length/3;C<S;C++){const x=_[3*C],L=_[3*C+1],I=_[3*C+2];let E=r.getVerticalOffsetForLineNumber(L)*l|0,W=(r.getVerticalOffsetForLineNumber(I)+o)*l|0;if(W-E<c){let F=(E+W)/2|0;F<d?F=d:F+d>n&&(F=n-d),E=F-d,W=F+d}E>w+1||x!==b?(C!==0&&u.fillRect(h[b],v,g[b],w-v),b=x,v=E,w=W):W>w&&(w=W)}u.fillRect(h[b],v,g[b],w-v)}if(!this._settings.hideCursor&&this._settings.cursorColor){const m=2*this._settings.pixelRatio|0,p=m/2|0,_=this._settings.x[7],b=this._settings.w[7];u.fillStyle=this._settings.cursorColor;let v=-100,w=-100;for(let C=0,S=this._cursorPositions.length;C<S;C++){const x=this._cursorPositions[C];let L=r.getVerticalOffsetForLineNumber(x.lineNumber)*l|0;L<p?L=p:L+p>n&&(L=n-p);const I=L-p,E=I+m;I>w+1?(C!==0&&u.fillRect(_,v,b,w-v),v=I,w=E):E>w&&(w=E)}u.fillRect(_,v,b,w-v)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(u.beginPath(),u.lineWidth=1,u.strokeStyle=this._settings.borderColor,u.moveTo(0,0),u.lineTo(0,n),u.stroke(),u.moveTo(0,0),u.lineTo(i,0),u.stroke())}}class LO{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=e|0,this.to=t|0,this.colorId=i|0}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class _9{constructor(e,t,i,n){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.heightInLines=i,this.color=n,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.heightInLines===t.heightInLines?e.endLineNumber-t.endLineNumber:e.heightInLines-t.heightInLines:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class TX{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(_9.compare)}setLineHeight(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),n=Math.floor(this._outerHeight),o=i/n,r=Math.floor(4*this._pixelRatio/2),a=[];for(let l=0,c=this._zones.length;l<c;l++){const d=this._zones[l];if(!e){const C=d.getColorZones();if(C){a.push(C);continue}}const u=this._getVerticalOffsetForLine(d.startLineNumber),h=d.heightInLines===0?this._getVerticalOffsetForLine(d.endLineNumber)+t:u+d.heightInLines*t,g=Math.floor(o*u),m=Math.floor(o*h);let p=Math.floor((g+m)/2),_=m-p;_<r&&(_=r),p-_<0&&(p=_),p+_>i&&(p=i-_);const b=d.color;let v=this._color2Id[b];v||(v=++this._lastAssignedId,this._color2Id[b]=v,this._id2Color[v]=b);const w=new LO(p-_,p+_,v);d.setColorZone(w),a.push(w)}return this._colorZonesInvalid=!1,a.sort(LO.compare),a}}class EX extends Ev{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=vt(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new TX(n=>this._context.viewLayout.getVerticalOffsetForLineNumber(n)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(66)),this._zoneManager.setPixelRatio(i.get(141)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(66)&&(this._zoneManager.setLineHeight(t.get(66)),this._render()),e.hasChanged(141)&&(this._zoneManager.setPixelRatio(t.get(141)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(o,i,n,e),!0}_renderOneLane(e,t,i,n){let o=0,r=0,a=0;for(const l of t){const c=l.colorId,d=l.from,u=l.to;c!==o?(e.fillRect(0,r,n,a-r),o=c,e.fillStyle=i[o],r=d,a=u):a>=d?a=Math.max(a,u):(e.fillRect(0,r,n,a-r),r=d,a=u)}e.fillRect(0,r,n,a-r)}}class NX extends Uo{constructor(e){super(e),this.domNode=vt(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(101),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(101),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:n}=this._context.viewModel.model.getOptions(),o=n;let r=t-e;for(;r>0;){const a=vt(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(o),this.domNode.appendChild(a),this._renderedRulers.push(a),r--}return}let i=e-t;for(;i>0;){const n=this._renderedRulers.pop();this.domNode.removeChild(n),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const n=this._renderedRulers[t],o=this._rulers[t];n.setBoxShadow(o.color?`1px 0 0 0 ${o.color} inset`:""),n.setHeight(Math.min(e.scrollHeight,1e6)),n.setLeft(o.column*this._typicalHalfwidthCharacterWidth)}}}class AX extends Uo{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const i=this._context.configuration.options.get(102);this._useShadows=i.useShadows,this._domNode=vt(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const t=this._context.configuration.options.get(143);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.verticalScrollbarWidth}onConfigurationChanged(e){const i=this._context.configuration.options.get(102);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class RX{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class MX{constructor(e,t){this.lineNumber=e,this.ranges=t}}function PX(s){return new RX(s)}function OX(s){return new MX(s.lineNumber,s.ranges.map(PX))}class gi extends Zh{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(66),this._roundedSelection=t.get(100),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(66),this._roundedSelection=t.get(100),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){const n=this._typicalHalfwidthCharacterWidth/4;let o=null,r=null;if(i&&i.length>0&&t.length>0){const a=t[0].lineNumber;if(a===e.startLineNumber)for(let c=0;!o&&c<i.length;c++)i[c].lineNumber===a&&(o=i[c].ranges[0]);const l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(let c=i.length-1;!r&&c>=0;c--)i[c].lineNumber===l&&(r=i[c].ranges[0]);o&&!o.startStyle&&(o=null),r&&!r.startStyle&&(r=null)}for(let a=0,l=t.length;a<l;a++){const c=t[a].ranges[0],d=c.left,u=c.left+c.width,h={top:0,bottom:0},g={top:0,bottom:0};if(a>0){const m=t[a-1].ranges[0].left,p=t[a-1].ranges[0].left+t[a-1].ranges[0].width;M0(d-m)<n?h.top=2:d>m&&(h.top=1),M0(u-p)<n?g.top=2:m<u&&u<p&&(g.top=1)}else o&&(h.top=o.startStyle.top,g.top=o.endStyle.top);if(a+1<l){const m=t[a+1].ranges[0].left,p=t[a+1].ranges[0].left+t[a+1].ranges[0].width;M0(d-m)<n?h.bottom=2:m<d&&d<p&&(h.bottom=1),M0(u-p)<n?g.bottom=2:u<p&&(g.bottom=1)}else r&&(h.bottom=r.startStyle.bottom,g.bottom=r.endStyle.bottom);c.startStyle=h,c.endStyle=g}}_getVisibleRangesWithStyle(e,t,i){const o=(t.linesVisibleRangesForRange(e,!0)||[]).map(OX);return!this._visibleRangesHaveGaps(o)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,o,i),o}_createSelectionPiece(e,t,i,n,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,n){if(n.length===0)return;const o=!!n[0].ranges[0].startStyle,r=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),l=n[0].lineNumber,c=n[n.length-1].lineNumber;for(let d=0,u=n.length;d<u;d++){const h=n[d],g=h.lineNumber,m=g-t,p=i&&(g===c||g===l)?a:r,_=i&&g===l?1:0;let b="",v="";for(let w=0,C=h.ranges.length;w<C;w++){const S=h.ranges[w];if(o){const L=S.startStyle,I=S.endStyle;if(L.top===1||L.bottom===1){b+=this._createSelectionPiece(_,p,gi.SELECTION_CLASS_NAME,S.left-gi.ROUNDED_PIECE_WIDTH,gi.ROUNDED_PIECE_WIDTH);let E=gi.EDITOR_BACKGROUND_CLASS_NAME;L.top===1&&(E+=" "+gi.SELECTION_TOP_RIGHT),L.bottom===1&&(E+=" "+gi.SELECTION_BOTTOM_RIGHT),b+=this._createSelectionPiece(_,p,E,S.left-gi.ROUNDED_PIECE_WIDTH,gi.ROUNDED_PIECE_WIDTH)}if(I.top===1||I.bottom===1){b+=this._createSelectionPiece(_,p,gi.SELECTION_CLASS_NAME,S.left+S.width,gi.ROUNDED_PIECE_WIDTH);let E=gi.EDITOR_BACKGROUND_CLASS_NAME;I.top===1&&(E+=" "+gi.SELECTION_TOP_LEFT),I.bottom===1&&(E+=" "+gi.SELECTION_BOTTOM_LEFT),b+=this._createSelectionPiece(_,p,E,S.left+S.width,gi.ROUNDED_PIECE_WIDTH)}}let x=gi.SELECTION_CLASS_NAME;if(o){const L=S.startStyle,I=S.endStyle;L.top===0&&(x+=" "+gi.SELECTION_TOP_LEFT),L.bottom===0&&(x+=" "+gi.SELECTION_BOTTOM_LEFT),I.top===0&&(x+=" "+gi.SELECTION_TOP_RIGHT),I.bottom===0&&(x+=" "+gi.SELECTION_BOTTOM_RIGHT)}v+=this._createSelectionPiece(_,p,x,S.left,S.width)}e[m][0]+=b,e[m][1]+=v}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(let r=i;r<=n;r++){const a=r-i;t[a]=["",""]}const o=[];for(let r=0,a=this._selections.length;r<a;r++){const l=this._selections[r];if(l.isEmpty()){o[r]=null;continue}const c=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[r]);o[r]=c,this._actualRenderOneSelection(t,i,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map(([r,a])=>r+a)}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}gi.SELECTION_CLASS_NAME="selected-text";gi.SELECTION_TOP_LEFT="top-left-radius";gi.SELECTION_BOTTOM_LEFT="bottom-left-radius";gi.SELECTION_TOP_RIGHT="top-right-radius";gi.SELECTION_BOTTOM_RIGHT="bottom-right-radius";gi.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";gi.ROUNDED_PIECE_WIDTH=10;mr((s,e)=>{const t=s.getColor(uZ);t&&!t.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${t}; }`)});function M0(s){return s<0?-s:s}class xO{constructor(e,t,i,n,o,r,a){this.top=e,this.left=t,this.paddingLeft=i,this.width=n,this.height=o,this.textContent=r,this.textContentClassName=a}}class DO{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(50);this._cursorStyle=t.get(28),this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=vt(document.createElement("div")),this._domNode.setClassName(`cursor ${Lf}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),In(this._domNode,i),this._domNode.setDisplay("none"),this._position=new P(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(50);return this._cursorStyle=t.get(28),this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),In(this._domNode,i),!0}onCursorPositionChanged(e,t){return t?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:t}=this._position,i=this._context.viewModel.getLineContent(e),[n,o]=YU(i,t-1);return[new P(e,n+1),i.substring(n,o)]}_prepareRender(e){let t="",i="";const[n,o]=this._getGraphemeAwarePosition();if(this._cursorStyle===dn.Line||this._cursorStyle===dn.LineThin){const h=e.visibleRangeForPosition(n);if(!h||h.outsideRenderedLine)return null;let g;this._cursorStyle===dn.Line?(g=s2(this._lineCursorWidth>0?this._lineCursorWidth:2),g>2&&(t=o,i=this._getTokenClassName(n))):g=s2(1);let m=h.left,p=0;g>=2&&m>=1&&(p=1,m-=p);const _=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.bigNumbersDelta;return new xO(_,m,p,g,this._lineHeight,t,i)}const r=e.linesVisibleRangesForRange(new k(n.lineNumber,n.column,n.lineNumber,n.column+o.length),!1);if(!r||r.length===0)return null;const a=r[0];if(a.outsideRenderedLine||a.ranges.length===0)return null;const l=a.ranges[0],c=o==="	"?this._typicalHalfwidthCharacterWidth:l.width<1?this._typicalHalfwidthCharacterWidth:l.width;this._cursorStyle===dn.Block&&(t=o,i=this._getTokenClassName(n));let d=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.bigNumbersDelta,u=this._lineHeight;return(this._cursorStyle===dn.Underline||this._cursorStyle===dn.UnderlineThin)&&(d+=this._lineHeight-2,u=2),new xO(d,l.left,0,c,u,t,i)}_getTokenClassName(e){const t=this._context.viewModel.getViewLineData(e.lineNumber),i=t.tokens.findTokenIndexAtOffset(e.column-1);return t.tokens.getClassName(i)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Lf} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class __ extends Uo{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(90),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new DO(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=vt(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new gr,this._cursorFlatBlinkInterval=new kv,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(90),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t,i){const n=this._secondaryCursors.length!==t.length||this._cursorSmoothCaretAnimation==="explicit"&&i!==3;if(this._primaryCursor.onCursorPositionChanged(e,n),this._updateBlinking(),this._secondaryCursors.length<t.length){const o=t.length-this._secondaryCursors.length;for(let r=0;r<o;r++){const a=new DO(this._context);this._domNode.domNode.insertBefore(a.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(a)}}else if(this._secondaryCursors.length>t.length){const o=this._secondaryCursors.length-t.length;for(let r=0;r<o;r++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let o=0;o<t.length;o++)this._secondaryCursors[o].onCursorPositionChanged(t[o],n)}onCursorStateChanged(e){const t=[];for(let n=0,o=e.selections.length;n<o;n++)t[n]=e.selections[n].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),e.reason);const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=i=>{for(let n=0,o=e.ranges.length;n<o;n++)if(e.ranges[n].fromLineNumber<=i.lineNumber&&i.lineNumber<=e.ranges[n].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=e===0,i=e===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!i&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},__.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},__.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case dn.Line:e+=" cursor-line-style";break;case dn.Block:e+=" cursor-block-style";break;case dn.Underline:e+=" cursor-underline-style";break;case dn.LineThin:e+=" cursor-line-thin-style";break;case dn.BlockOutline:e+=" cursor-block-outline-style";break;case dn.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){const t=[];let i=0;const n=this._primaryCursor.render(e);n&&(t[i++]=n);for(let o=0,r=this._secondaryCursors.length;o<r;o++){const a=this._secondaryCursors[o].render(e);a&&(t[i++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}}__.BLINK_INTERVAL=500;mr((s,e)=>{const t=s.getColor(e9);if(t){let i=s.getColor(JQ);i||(i=t.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${i}; }`),Qr(s.type)&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${i}; border-right: 1px solid ${i}; }`)}});const IL=()=>{throw new Error("Invalid change accessor")};class FX extends Uo{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(143);this._lineHeight=t.get(66),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=vt(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=vt(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const n of e)t.set(n.id,n);let i=!1;return this._context.viewModel.changeWhitespace(n=>{const o=Object.keys(this._zones);for(let r=0,a=o.length;r<a;r++){const l=o[r],c=this._zones[l],d=this._computeWhitespaceProps(c.delegate);c.isInHiddenArea=d.isInHiddenArea;const u=t.get(l);u&&(u.afterLineNumber!==d.afterViewLineNumber||u.height!==d.heightInPx)&&(n.changeOneWhitespace(l,d.afterViewLineNumber,d.heightInPx),this._safeCallOnComputedHeight(c.delegate,d.heightInPx),i=!0)}}),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);return this._lineHeight=t.get(66),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(66)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){var t,i;return(i=(t=e.ordinal)!==null&&t!==void 0?t:e.afterColumn)!==null&&i!==void 0?i:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t;if(typeof e.afterColumn!="undefined")t=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const r=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new P(r,this._context.viewModel.model.getLineMaxColumn(r))}let i;t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});const n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity,!0),o=e.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:n.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.viewModel.changeWhitespace(i=>{const n={addZone:o=>(t=!0,this._addZone(i,o)),removeZone:o=>{o&&(t=this._removeZone(i,o)||t)},layoutZone:o=>{o&&(t=this._layoutZone(i,o)||t)}};BX(e,n),n.addZone=IL,n.removeZone=IL,n.layoutZone=IL}),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),o={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:vt(t.domNode),marginDomNode:t.marginDomNode?vt(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,i.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(t)}catch(i){He(i)}}_safeCallOnDomNodeTop(e,t){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(t)}catch(i){He(i)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let n=!1;for(const r of t)this._zones[r.id].isInHiddenArea||(i[r.id]=r,n=!0);const o=Object.keys(this._zones);for(let r=0,a=o.length;r<a;r++){const l=o[r],c=this._zones[l];let d=0,u=0,h="none";i.hasOwnProperty(l)?(d=i[l].verticalOffset-e.bigNumbersDelta,u=i[l].height,h="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(d),c.domNode.setHeight(u),c.domNode.setDisplay(h),c.marginDomNode&&(c.marginDomNode.setTop(d),c.marginDomNode.setHeight(u),c.marginDomNode.setDisplay(h))}n&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function BX(s,e){try{return s(e)}catch(t){He(t)}}class WX{get type(){return this._theme.type}get value(){return this._theme}constructor(e){this._theme=e}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class VX{constructor(e,t,i){this.configuration=e,this.theme=new WX(t),this.viewModel=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}class HX{constructor(e,t,i,n){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new k(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class zX extends Uo{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=vt(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const i=this._context.configuration.options.get(143),n=i.contentWidth-i.verticalScrollbarWidth;this.contentWidth!==n&&(this.contentWidth=n,e=!0);const o=i.contentLeft;return this.contentLeft!==o&&(this.contentLeft=o,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){var t;let i=0;const n=e.getDecorationsInViewport();for(const o of n){if(!o.options.blockClassName)continue;let r=this.blocks[i];r||(r=this.blocks[i]=vt(document.createElement("div")),this.domNode.appendChild(r));let a,l;o.options.blockIsAfterEnd?(a=e.getVerticalOffsetAfterLineNumber(o.range.endLineNumber,!1),l=e.getVerticalOffsetAfterLineNumber(o.range.endLineNumber,!0)):(a=e.getVerticalOffsetForLineNumber(o.range.startLineNumber,!0),l=o.range.isEmpty()&&!o.options.blockDoesNotCollapse?e.getVerticalOffsetForLineNumber(o.range.startLineNumber,!1):e.getVerticalOffsetAfterLineNumber(o.range.endLineNumber,!0));const[c,d,u,h]=(t=o.options.blockPadding)!==null&&t!==void 0?t:[0,0,0,0];r.setClassName("blockDecorations-block "+o.options.blockClassName),r.setLeft(this.contentLeft-h),r.setWidth(this.contentWidth+h+d),r.setTop(a-e.scrollTop-c),r.setHeight(l-a+c+u),i++}for(let o=i;o<this.blocks.length;o++)this.blocks[o].domNode.remove();this.blocks.length=i}}class UX extends Zh{constructor(e){super(),this._context=e,this._options=new IO(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=new IO(this._context.configuration);return this._options.equals(t)?e.hasChanged(143):(this._options=t,!0)}onCursorStateChanged(e){return this._selection=e.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}prepareRender(e){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber-t+1,o=new Array(n);for(let a=0;a<n;a++)o[a]=!0;const r=this._context.viewModel.getMinimapLinesRenderingData(e.viewportData.startLineNumber,e.viewportData.endLineNumber,o);this._renderResult=[];for(let a=e.viewportData.startLineNumber;a<=e.viewportData.endLineNumber;a++){const l=a-e.viewportData.startLineNumber,c=r.data[l];let d=null;if(this._options.renderWhitespace==="selection"){const u=this._selection;for(const h of u){if(h.endLineNumber<a||h.startLineNumber>a)continue;const g=h.startLineNumber===a?h.startColumn:c.minColumn,m=h.endLineNumber===a?h.endColumn:c.maxColumn;g<m&&(d||(d=[]),d.push(new D3(g-1,m-1)))}}this._renderResult[l]=this._applyRenderWhitespace(e,a,d,c)}}_applyRenderWhitespace(e,t,i,n){if(this._options.renderWhitespace==="selection"&&!i||this._options.renderWhitespace==="trailing"&&n.continuesWithWrappedLine)return"";const o=this._context.theme.getColor(ql),r=this._options.renderWithSVG,a=n.content,l=this._options.stopRenderingLineAfter===-1?a.length:Math.min(this._options.stopRenderingLineAfter,a.length),c=n.continuesWithWrappedLine,d=n.minColumn-1,u=this._options.renderWhitespace==="boundary",h=this._options.renderWhitespace==="trailing",g=this._options.lineHeight,m=this._options.middotWidth,p=this._options.wsmiddotWidth,_=this._options.spaceWidth,b=Math.abs(p-_),v=Math.abs(m-_),w=b<v?11825:183,C=this._options.canUseHalfwidthRightwardsArrow;let S="",x=!1,L=Zn(a),I;L===-1?(x=!0,L=l,I=l):I=Gr(a);let E=0,W=i&&i[E],U=0;for(let F=d;F<l;F++){const O=a.charCodeAt(F);if(W&&F>=W.endOffset&&(E++,W=i&&i[E]),O!==9&&O!==32||h&&!x&&F<=I)continue;if(u&&F>=L&&F<=I&&O===32){const X=F-1>=0?a.charCodeAt(F-1):0,fe=F+1<l?a.charCodeAt(F+1):0;if(X!==32&&fe!==32)continue}if(u&&c&&F===l-1){const X=F-1>=0?a.charCodeAt(F-1):0;if(O===32&&X!==32&&X!==9)continue}if(i&&(!W||W.startOffset>F||W.endOffset<=F))continue;const G=e.visibleRangeForPosition(new P(t,F+1));G&&(r?(U=Math.max(U,G.left),O===9?S+=this._renderArrow(g,_,G.left):S+=`<circle cx="${(G.left+_/2).toFixed(2)}" cy="${(g/2).toFixed(2)}" r="${(_/7).toFixed(2)}" />`):O===9?S+=`<div class="mwh" style="left:${G.left}px;height:${g}px;">${C?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:S+=`<div class="mwh" style="left:${G.left}px;height:${g}px;">${String.fromCharCode(w)}</div>`)}return r?(U=Math.round(U+_),`<svg style="position:absolute;width:${U}px;height:${g}px" viewBox="0 0 ${U} ${g}" xmlns="http://www.w3.org/2000/svg" fill="${o}">`+S+"</svg>"):S}_renderArrow(e,t,i){const n=t/7,o=t,r=e/2,a=i,l={x:0,y:n/2},c={x:100/125*o,y:l.y},d={x:c.x-.2*c.x,y:c.y+.2*c.x},u={x:d.x+.1*c.x,y:d.y+.1*c.x},h={x:u.x+.35*c.x,y:u.y-.35*c.x},g={x:h.x,y:-h.y},m={x:u.x,y:-u.y},p={x:d.x,y:-d.y},_={x:c.x,y:-c.y},b={x:l.x,y:-l.y};return`<path d="M ${[l,c,d,u,h,g,m,p,_,b].map(C=>`${(a+C.x).toFixed(2)} ${(r+C.y).toFixed(2)}`).join(" L ")}" />`}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class IO{constructor(e){const t=e.options,i=t.get(50),n=t.get(38);n==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):n==="svg"?(this.renderWhitespace=t.get(98),this.renderWithSVG=!0):(this.renderWhitespace=t.get(98),this.renderWithSVG=!1),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=t.get(66),this.stopRenderingLineAfter=t.get(116)}equals(e){return this.renderWhitespace===e.renderWhitespace&&this.renderWithSVG===e.renderWithSVG&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter}}var $X=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},jX=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let II=class extends Ev{constructor(e,t,i,n,o,r,a){super(),this._instantiationService=a,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new _e(1,1,1,1)],this._renderAnimationFrame=null;const l=new XY(t,n,o,e);this._context=new VX(t,i,n),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(LI,this._context,l,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=vt(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=vt(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=vt(document.createElement("div")),tl.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new aX(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new ry(this._context,this._linesContent),this._viewZones=new FX(this._context),this._viewParts.push(this._viewZones);const c=new IX(this._context);this._viewParts.push(c);const d=new AX(this._context);this._viewParts.push(d);const u=new eX(this._context);this._viewParts.push(u),u.addDynamicOverlay(new oX(this._context)),u.addDynamicOverlay(new gi(this._context)),u.addDynamicOverlay(new cX(this._context)),u.addDynamicOverlay(new rX(this._context)),u.addDynamicOverlay(new UX(this._context));const h=new tX(this._context);this._viewParts.push(h),h.addDynamicOverlay(new sX(this._context)),h.addDynamicOverlay(new wX(this._context)),h.addDynamicOverlay(new vX(this._context)),h.addDynamicOverlay(new Pv(this._context)),this._glyphMarginWidgets=new mX(this._context),this._viewParts.push(this._glyphMarginWidgets);const g=new bh(this._context);g.getDomNode().appendChild(this._viewZones.marginDomNode),g.getDomNode().appendChild(h.getDomNode()),g.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(g),this._contentWidgets=new iX(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new __(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new xX(this._context),this._viewParts.push(this._overlayWidgets);const m=new NX(this._context);this._viewParts.push(m);const p=new zX(this._context);this._viewParts.push(p);const _=new LX(this._context);if(this._viewParts.push(_),c){const b=this._scrollbar.getOverviewRulerLayoutInfo();b.parent.insertBefore(c.getDomNode(),b.insertBefore)}this._linesContent.appendChild(u.getDomNode()),this._linesContent.appendChild(m.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(g.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(d.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(_.getDomNode()),this._overflowGuardContainer.appendChild(p.domNode),this.domNode.appendChild(this._overflowGuardContainer),r?r.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new QQ(this._context,l,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._shouldRecomputeGlyphMarginLanes&&(this._shouldRecomputeGlyphMarginLanes=!1,this._context.configuration.setGlyphMarginDecorationLaneCount(this._computeGlyphMarginLaneCount())),Gc.onRenderStart(),this._renderNow()}_computeGlyphMarginLaneCount(){const e=this._context.viewModel.model;let t=[];t=t.concat(e.getAllMarginDecorations().map(o=>{var r,a;const l=(a=(r=o.options.glyphMargin)===null||r===void 0?void 0:r.position)!==null&&a!==void 0?a:Cf.Left;return{range:o.range,lane:l}})),t=t.concat(this._glyphMarginWidgets.getWidgets().map(o=>({range:e.validateRange(o.preference.range),lane:o.preference.lane}))),t.sort((o,r)=>k.compareRangesUsingStarts(o.range,r.range));let i=null,n=null;for(const o of t)if(o.lane===Cf.Left&&(!i||k.compareRangesUsingEnds(i,o.range)<0)&&(i=o.range),o.lane===Cf.Right&&(!n||k.compareRangesUsingEnds(n,o.range)<0)&&(n=o.range),i&&n){if(i.endLineNumber<n.startLineNumber){i=null;continue}if(n.endLineNumber<i.startLineNumber){n=null;continue}return 2}return 1}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new DQ(e,t)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new P(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const t=this._context.configuration.options.get(143);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(140)+" "+kI(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onDecorationsChanged(e){return e.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=AC(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){KX(()=>this._actualRender())}_getViewPartsToRender(){const e=[];let t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(!NA(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const t=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new HX(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const n=new wQ(this._context.viewLayout,i,this._viewLines);for(const o of e)o.prepareRender(n);for(const o of e)o.render(n),o.onDidRender()}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this._scrollbar.delegateScrollFromMouseWheelEvent(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(e,t){const i=this._context.viewModel.model.validatePosition({lineNumber:e,column:t}),n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const o=this._viewLines.visibleRangeForPosition(new P(n.lineNumber,n.column));return o?o.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?oy.convertViewToModelMouseTarget(i,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new EX(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const i of this._viewParts)i.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(e){this._textAreaHandler.writeScreenReaderContent(e)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var t,i,n,o,r,a,l,c;this._contentWidgets.setWidgetPosition(e.widget,(i=(t=e.position)===null||t===void 0?void 0:t.position)!==null&&i!==void 0?i:null,(o=(n=e.position)===null||n===void 0?void 0:n.secondaryPosition)!==null&&o!==void 0?o:null,(a=(r=e.position)===null||r===void 0?void 0:r.preference)!==null&&a!==void 0?a:null,(c=(l=e.position)===null||l===void 0?void 0:l.positionAffinity)!==null&&c!==void 0?c:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}addGlyphMarginWidget(e){this._glyphMarginWidgets.addWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(e){const t=e.position;this._glyphMarginWidgets.setWidgetPosition(e.widget,t)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(e){this._glyphMarginWidgets.removeWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};II=$X([jX(6,Ae)],II);function KX(s){try{return s()}catch(e){He(e)}}class v9{constructor(e,t,i,n,o,r){this.id=e,this.label=t,this.alias=i,this._precondition=n,this._run=o,this._contextKeyService=r}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(e){return this.isSupported()?this._run(e):Promise.resolve(void 0)}}function Nd(s){let e=0,t=0,i=0,n=0;for(let o=0,r=s.length;o<r;o++){const a=s.charCodeAt(o);a===13?(e===0&&(t=o),e++,o+1<r&&s.charCodeAt(o+1)===10?(n|=2,o++):n|=3,i=o+1):a===10&&(n|=1,e===0&&(t=o),e++,i=o+1)}return e===0&&(t=s.length),[e,t,s.length-i,n]}class TO{constructor(e,t,i,n){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=n}}class qX{constructor(e,t,i,n,o,r){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=n,this.nestingLevelOfEqualBracketType=o,this.bracketPairNode=r}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class GX extends qX{constructor(e,t,i,n,o,r,a){super(e,t,i,n,o,r),this.minVisibleColumnIndentation=a}}class v_{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}}v_.zero=new v_(0,0);function ZX(s,e,t,i){return s!==t?wi(t-s,i):wi(0,i-e)}const ro=0;function e1(s){return s===0}const rs=Math.pow(2,26);function wi(s,e){return s*rs+e}function As(s){const e=s,t=Math.floor(e/rs),i=e-t*rs;return new v_(t,i)}function QX(s){return Math.floor(s/rs)}function ii(s,e){let t=s+e;return e>=rs&&(t=t-s%rs),t}function YX(s,e){return s.reduce((t,i)=>ii(t,e(i)),ro)}function w9(s,e){return s===e}function w_(s,e){const t=s,i=e;if(i-t<=0)return ro;const o=Math.floor(t/rs),r=Math.floor(i/rs),a=i-r*rs;if(o===r){const l=t-o*rs;return wi(0,a-l)}else return wi(r-o,a)}function If(s,e){return s<e}function Tf(s,e){return s<=e}function qp(s,e){return s>=e}function tf(s){return wi(s.lineNumber-1,s.column-1)}function ih(s,e){const t=s,i=Math.floor(t/rs),n=t-i*rs,o=e,r=Math.floor(o/rs),a=o-r*rs;return new k(i+1,n+1,r+1,a+1)}function XX(s){const e=Xa(s);return wi(e.length-1,e[e.length-1].length)}class Gl{static fromModelContentChanges(e){return e.map(i=>{const n=k.lift(i.range);return new Gl(tf(n.getStartPosition()),tf(n.getEndPosition()),XX(i.text))}).reverse()}constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}toString(){return`[${As(this.startOffset)}...${As(this.endOffset)}) -> ${As(this.newLength)}`}}class JX{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(t=>lR.from(t))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):null;return i===null?null:w_(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?wi(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):wi(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=As(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?wi(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):wi(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(Tf(i,e)){this.nextEditIdx++;const n=As(i),o=As(this.translateOldToCur(t.endOffsetBeforeObj)),r=n.lineCount-o.lineCount;this.deltaOldToNewLineCount+=r;const a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=n.columnCount-o.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}}class lR{static from(e){return new lR(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,i){this.endOffsetBeforeObj=As(t),this.endOffsetAfterObj=As(ii(e,i)),this.offsetObj=As(e)}}const Yw=[];class Ri{static create(e,t){if(e<=128&&t.length===0){let i=Ri.cache[e];return i||(i=new Ri(e,t),Ri.cache[e]=i),i}return new Ri(e,t)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const i=t.getKey(e);let n=i>>5;if(n===0){const r=1<<i|this.items;return r===this.items?this:Ri.create(r,this.additionalItems)}n--;const o=this.additionalItems.slice(0);for(;o.length<n;)o.push(0);return o[n]|=1<<(i&31),Ri.create(this.items,o)}merge(e){const t=this.items|e.items;if(this.additionalItems===Yw&&e.additionalItems===Yw)return t===this.items?this:t===e.items?e:Ri.create(t,Yw);const i=[];for(let n=0;n<Math.max(this.additionalItems.length,e.additionalItems.length);n++){const o=this.additionalItems[n]||0,r=e.additionalItems[n]||0;i.push(o|r)}return Ri.create(t,i)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}}Ri.cache=new Array(129);Ri.empty=Ri.create(0,Yw);const EO={getKey(s){return s}};class C9{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}}class cR{get length(){return this._length}constructor(e){this._length=e}}class C_ extends cR{static create(e,t,i){let n=e.length;return t&&(n=ii(n,t.length)),i&&(n=ii(n,i.length)),new C_(n,e,t,i,t?t.missingOpeningBracketIds:Ri.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,i,n,o){super(e),this.openingBracket=t,this.child=i,this.closingBracket=n,this.missingOpeningBracketIds=o}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new C_(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(ii(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class il extends cR{static create23(e,t,i,n=!1){let o=e.length,r=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(o=ii(o,t.length),r=r.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");o=ii(o,i.length),r=r.merge(i.missingOpeningBracketIds)}return n?new eJ(o,e.listHeight+1,e,t,i,r):new S_(o,e.listHeight+1,e,t,i,r)}static getEmpty(){return new tJ(ro,0,[],Ri.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0)return;const t=this.getChild(e-1),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let t=this;for(;t.kind===4;){const i=t.childrenLength;if(i===0)throw new Ti;t=t.getChild(i-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let n=1;n<e;n++){const o=this.getChild(n);t=ii(t,o.length),i=i.merge(o.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,n=e;for(let o=0;o<this.childrenLength;o++){const r=this.getChild(o);r&&(i=Math.min(i,r.computeMinIndentation(n,t)),n=ii(n,r.length))}return this.cachedMinIndentation=i,i}}class S_ extends il{get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,i,n,o,r){super(e,t,r),this._item1=i,this._item2=n,this._item3=o}deepClone(){return new S_(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class eJ extends S_{toMutable(){return new S_(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class t1 extends il{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,i,n){super(e,t,n),this._children=i}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new t1(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class tJ extends t1{toMutable(){return new t1(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const iJ=[];class dR extends cR{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return iJ}deepClone(){return this}}class Pu extends dR{get kind(){return 0}get missingOpeningBracketIds(){return Ri.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=As(e),n=(i.columnCount===0?i.lineCount:i.lineCount+1)+1,o=QX(ii(e,this.length))+1;let r=Number.MAX_SAFE_INTEGER;for(let a=n;a<=o;a++){const l=t.getLineFirstNonWhitespaceColumn(a),c=t.getLineContent(a);if(l===0)continue;const d=Wi.visibleColumnFromColumn(c,l,t.getOptions().tabSize);r=Math.min(r,d)}return r}}class i1 extends dR{static create(e,t,i){return new i1(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return Ri.getEmpty()}constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class nJ extends dR{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}let Hc=class{constructor(e,t,i,n,o){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=n,this.astNode=o}};class S9{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new oJ(this.textModel,this.bracketTokens),this._offset=ro,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return wi(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=ii(this._offset,e);const t=As(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=ii(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class oJ{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const o=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=o.length,o}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const o=this.lineTokens,r=o.getCount();let a=null;if(this.lineTokenOffset<r){const l=o.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<r&&l===o.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const c=Ln.getTokenType(l)===0,d=Ln.containsBalancedBrackets(l),u=o.getEndOffset(this.lineTokenOffset);if(d&&c&&this.lineCharOffset<u){const h=o.getLanguageId(this.lineTokenOffset),g=this.line.substring(this.lineCharOffset,u),m=this.bracketTokens.getSingleLanguageBracketTokens(h),p=m.regExpGlobal;if(p){p.lastIndex=0;const _=p.exec(g);_&&(a=m.getToken(_[0]),a&&(this.lineCharOffset+=_.index))}}if(i+=u-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=u}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}const n=ZX(e,t,this.lineIdx,this.lineCharOffset);return new Hc(n,0,-1,Ri.getEmpty(),new Pu(n))}}class sJ{constructor(e,t){this.text=e,this._offset=ro,this.idx=0;const i=t.getRegExpStr(),n=i?new RegExp(i+`|
`,"gi"):null,o=[];let r,a=0,l=0,c=0,d=0;const u=[];for(let m=0;m<60;m++)u.push(new Hc(wi(0,m),0,-1,Ri.getEmpty(),new Pu(wi(0,m))));const h=[];for(let m=0;m<60;m++)h.push(new Hc(wi(1,m),0,-1,Ri.getEmpty(),new Pu(wi(1,m))));if(n)for(n.lastIndex=0;(r=n.exec(e))!==null;){const m=r.index,p=r[0];if(p===`
`)a++,l=m+1;else{if(c!==m){let _;if(d===a){const b=m-c;if(b<u.length)_=u[b];else{const v=wi(0,b);_=new Hc(v,0,-1,Ri.getEmpty(),new Pu(v))}}else{const b=a-d,v=m-l;if(b===1&&v<h.length)_=h[v];else{const w=wi(b,v);_=new Hc(w,0,-1,Ri.getEmpty(),new Pu(w))}}o.push(_)}o.push(t.getToken(p)),c=m+p.length,d=a}}const g=e.length;if(c!==g){const m=d===a?wi(0,g-c):wi(a-d,g-l);o.push(new Hc(m,0,-1,Ri.getEmpty(),new Pu(m)))}this.length=wi(a,g-l),this.tokens=o}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new aU}}class uR{static createFromLanguage(e,t){function i(o){return t.getKey(`${o.languageId}:::${o.bracketText}`)}const n=new Map;for(const o of e.bracketsNew.openingBrackets){const r=wi(0,o.bracketText.length),a=i(o),l=Ri.getEmpty().add(a,EO);n.set(o.bracketText,new Hc(r,1,a,l,i1.create(r,o,l)))}for(const o of e.bracketsNew.closingBrackets){const r=wi(0,o.bracketText.length);let a=Ri.getEmpty();const l=o.getOpeningBrackets();for(const c of l)a=a.add(i(c),EO);n.set(o.bracketText,new Hc(r,2,i(l[0]),a,i1.create(r,o,a)))}return new uR(n)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>rJ(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}}function rJ(s){let e=cs(s);return/^[\w ]+/.test(s)&&(e=`\\b${e}`),/[\w ]+$/.test(s)&&(e=`${e}\\b`),e}class y9{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=uR.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function aJ(s){if(s.length===0)return null;if(s.length===1)return s[0];let e=0;function t(){if(e>=s.length)return null;const r=e,a=s[r].listHeight;for(e++;e<s.length&&s[e].listHeight===a;)e++;return e-r>=2?k9(r===0&&e===s.length?s:s.slice(r,e),!1):s[r]}let i=t(),n=t();if(!n)return i;for(let r=t();r;r=t())NO(i,n)<=NO(n,r)?(i=TL(i,n),n=r):n=TL(n,r);return TL(i,n)}function k9(s,e=!1){if(s.length===0)return null;if(s.length===1)return s[0];let t=s.length;for(;t>3;){const i=t>>1;for(let n=0;n<i;n++){const o=n<<1;s[n]=il.create23(s[o],s[o+1],o+3===t?s[o+2]:null,e)}t=i}return il.create23(s[0],s[1],t>=3?s[2]:null,e)}function NO(s,e){return Math.abs(s.listHeight-e.listHeight)}function TL(s,e){return s.listHeight===e.listHeight?il.create23(s,e,null,!1):s.listHeight>e.listHeight?lJ(s,e):cJ(e,s)}function lJ(s,e){s=s.toMutable();let t=s;const i=[];let n;for(;;){if(e.listHeight===t.listHeight){n=e;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let o=i.length-1;o>=0;o--){const r=i[o];n?r.childrenLength>=3?n=il.create23(r.unappendChild(),n,null,!1):(r.appendChildOfSameHeight(n),n=void 0):r.handleChildrenChanged()}return n?il.create23(s,n,null,!1):s}function cJ(s,e){s=s.toMutable();let t=s;const i=[];for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let n=e;for(let o=i.length-1;o>=0;o--){const r=i[o];n?r.childrenLength>=3?n=il.create23(n,r.unprependChild(),null,!1):(r.prependChildOfSameHeight(n),n=void 0):r.handleChildrenChanged()}return n?il.create23(n,s,null,!1):s}class dJ{constructor(e){this.lastOffset=ro,this.nextNodes=[e],this.offsets=[ro],this.idxs=[]}readLongestNodeAt(e,t){if(If(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=pp(this.nextNodes);if(!i)return;const n=pp(this.offsets);if(If(e,n))return;if(If(n,e))if(ii(n,i.length)<=e)this.nextNodeAfterCurrent();else{const o=EL(i);o!==-1?(this.nextNodes.push(i.getChild(o)),this.offsets.push(n),this.idxs.push(o)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const o=EL(i);if(o===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(o)),this.offsets.push(n),this.idxs.push(o)}}}}nextNodeAfterCurrent(){for(;;){const e=pp(this.offsets),t=pp(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const i=pp(this.nextNodes),n=EL(i,this.idxs[this.idxs.length-1]);if(n!==-1){this.nextNodes.push(i.getChild(n)),this.offsets.push(ii(e,t.length)),this.idxs[this.idxs.length-1]=n;break}else this.idxs.pop()}}}function EL(s,e=-1){for(;;){if(e++,e>=s.childrenLength)return-1;if(s.getChild(e))return e}}function pp(s){return s.length>0?s[s.length-1]:void 0}function TI(s,e,t,i){return new uJ(s,e,t,i).parseDocument()}class uJ{constructor(e,t,i,n){if(this.tokenizer=e,this.createImmutableLists=n,this._itemsConstructed=0,this._itemsFromCache=0,i&&n)throw new Error("Not supported");this.oldNodeReader=i?new dJ(i):void 0,this.positionMapper=new JX(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Ri.getEmpty(),0);return e||(e=il.getEmpty()),e}parseList(e,t){const i=[];for(;;){let o=this.tryReadChildFromCache(e);if(!o){const r=this.tokenizer.peek();if(!r||r.kind===2&&r.bracketIds.intersects(e))break;o=this.parseChild(e,t+1)}o.kind===4&&o.childrenLength===0||i.push(o)}return this.oldNodeReader?aJ(i):k9(i,this.createImmutableLists)}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(t===null||!e1(t)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),n=>t!==null&&!If(n.length,t)?!1:n.canBeReused(e));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(e,t){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new nJ(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(t>300)return new Pu(i.length);const n=e.merge(i.bracketIds),o=this.parseList(n,t+1),r=this.tokenizer.peek();return r&&r.kind===2&&(r.bracketId===i.bracketId||r.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),C_.create(i.astNode,o,r.astNode)):C_.create(i.astNode,o,null)}default:throw new Error("unexpected")}}}function n1(s,e){if(s.length===0)return e;if(e.length===0)return s;const t=new rc(AO(s)),i=AO(e);i.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let n=t.dequeue();function o(c){if(c===void 0){const u=t.takeWhile(h=>!0)||[];return n&&u.unshift(n),u}const d=[];for(;n&&!e1(c);){const[u,h]=n.splitAt(c);d.push(u),c=w_(u.lengthAfter,c),n=h!=null?h:t.dequeue()}return e1(c)||d.push(new Zc(!1,c,c)),d}const r=[];function a(c,d,u){if(r.length>0&&w9(r[r.length-1].endOffset,c)){const h=r[r.length-1];r[r.length-1]=new Gl(h.startOffset,d,ii(h.newLength,u))}else r.push({startOffset:c,endOffset:d,newLength:u})}let l=ro;for(const c of i){const d=o(c.lengthBefore);if(c.modified){const u=YX(d,g=>g.lengthBefore),h=ii(l,u);a(l,h,c.lengthAfter),l=h}else for(const u of d){const h=l;l=ii(l,u.lengthBefore),u.modified&&a(h,l,u.lengthAfter)}}return r}class Zc{constructor(e,t,i){this.modified=e,this.lengthBefore=t,this.lengthAfter=i}splitAt(e){const t=w_(e,this.lengthAfter);return w9(t,ro)?[this,void 0]:this.modified?[new Zc(this.modified,this.lengthBefore,e),new Zc(this.modified,ro,t)]:[new Zc(this.modified,e,e),new Zc(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${As(this.lengthBefore)} -> ${As(this.lengthAfter)}`}}function AO(s){const e=[];let t=ro;for(const i of s){const n=w_(t,i.startOffset);e1(n)||e.push(new Zc(!1,n,n));const o=w_(i.startOffset,i.endOffset);e.push(new Zc(!0,o,i.newLength)),t=i.endOffset}return e}class hJ extends H{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new M,this.denseKeyProvider=new C9,this.brackets=new y9(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)e.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),n=new sJ(this.textModel.getValue(),i);this.initialAstWithoutTokens=TI(n,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const e=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map(i=>new Gl(wi(i.fromLineNumber-1,0),wi(i.toLineNumber,0),wi(i.toLineNumber-i.fromLineNumber+1,0)));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=Gl.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const i=n1(this.queuedTextEdits,e);this.queuedTextEdits=i,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=n1(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,i){const n=t,o=new S9(this.textModel,this.brackets);return TI(o,e,n,i)}getBracketsInRange(e,t){this.flushQueue();const i=wi(e.startLineNumber-1,e.startColumn-1),n=wi(e.endLineNumber-1,e.endColumn-1);return new ja(o=>{const r=this.initialAstWithoutTokens||this.astWithTokens;EI(r,ro,r.length,i,n,o,0,0,new Map,t)})}getBracketPairsInRange(e,t){this.flushQueue();const i=tf(e.getStartPosition()),n=tf(e.getEndPosition());return new ja(o=>{const r=this.initialAstWithoutTokens||this.astWithTokens,a=new gJ(o,t,this.textModel);NI(r,ro,r.length,i,n,a,0,new Map)})}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return x9(t,ro,t.length,tf(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return L9(t,ro,t.length,tf(e))}}function L9(s,e,t,i){if(s.kind===4||s.kind===2){const n=[];for(const o of s.children)t=ii(e,o.length),n.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let o=n.length-1;o>=0;o--){const{nodeOffsetStart:r,nodeOffsetEnd:a}=n[o];if(If(r,i)){const l=L9(s.children[o],r,a,i);if(l)return l}}return null}else{if(s.kind===3)return null;if(s.kind===1){const n=ih(e,t);return{bracketInfo:s.bracketInfo,range:n}}}return null}function x9(s,e,t,i){if(s.kind===4||s.kind===2){for(const n of s.children){if(t=ii(e,n.length),If(i,t)){const o=x9(n,e,t,i);if(o)return o}e=t}return null}else{if(s.kind===3)return null;if(s.kind===1){const n=ih(e,t);return{bracketInfo:s.bracketInfo,range:n}}}return null}function EI(s,e,t,i,n,o,r,a,l,c,d=!1){if(r>200)return!0;e:for(;;)switch(s.kind){case 4:{const u=s.childrenLength;for(let h=0;h<u;h++){const g=s.getChild(h);if(g){if(t=ii(e,g.length),Tf(e,n)&&qp(t,i)){if(qp(t,n)){s=g;continue e}if(!EI(g,e,t,i,n,o,r,0,l,c))return!1}e=t}}return!0}case 2:{const u=!c||!s.closingBracket||s.closingBracket.bracketInfo.closesColorized(s.openingBracket.bracketInfo);let h=0;if(l){let m=l.get(s.openingBracket.text);m===void 0&&(m=0),h=m,u&&(m++,l.set(s.openingBracket.text,m))}const g=s.childrenLength;for(let m=0;m<g;m++){const p=s.getChild(m);if(p){if(t=ii(e,p.length),Tf(e,n)&&qp(t,i)){if(qp(t,n)&&p.kind!==1){s=p,u?(r++,a=h+1):a=h;continue e}if((u||p.kind!==1||!s.closingBracket)&&!EI(p,e,t,i,n,o,u?r+1:r,u?h+1:h,l,c,!s.closingBracket))return!1}e=t}}return l==null||l.set(s.openingBracket.text,h),!0}case 3:{const u=ih(e,t);return o(new TO(u,r-1,0,!0))}case 1:{const u=ih(e,t);return o(new TO(u,r-1,a-1,d))}case 0:return!0}}class gJ{constructor(e,t,i){this.push=e,this.includeMinIndentation=t,this.textModel=i}}function NI(s,e,t,i,n,o,r,a){var l;if(r>200)return!0;let c=!0;if(s.kind===2){let d=0;if(a){let g=a.get(s.openingBracket.text);g===void 0&&(g=0),d=g,g++,a.set(s.openingBracket.text,g)}const u=ii(e,s.openingBracket.length);let h=-1;if(o.includeMinIndentation&&(h=s.computeMinIndentation(e,o.textModel)),c=o.push(new GX(ih(e,t),ih(e,u),s.closingBracket?ih(ii(u,((l=s.child)===null||l===void 0?void 0:l.length)||ro),t):void 0,r,d,s,h)),e=u,c&&s.child){const g=s.child;if(t=ii(e,g.length),Tf(e,n)&&qp(t,i)&&(c=NI(g,e,t,i,n,o,r+1,a),!c))return!1}a==null||a.set(s.openingBracket.text,d)}else{let d=e;for(const u of s.children){const h=d;if(d=ii(d,u.length),Tf(h,n)&&Tf(i,d)&&(c=NI(u,h,d,i,n,o,r,a),!c))return!1}}return c}class fJ extends H{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new pn),this.onDidChangeEmitter=new M,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(i=>{var n;(!i.languageId||!((n=this.bracketPairsTree.value)===null||n===void 0)&&n.object.didLanguageChange(i.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;(e=this.bracketPairsTree.value)===null||e===void 0||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new Y;this.bracketPairsTree.value=mJ(e.add(new hJ(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!1))||ja.empty}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!0))||ja.empty}getBracketsInRange(e,t=!1){var i;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((i=this.bracketPairsTree.value)===null||i===void 0?void 0:i.object.getBracketsInRange(e,t))||ja.empty}findMatchingBracketUp(e,t,i){const n=this.textModel.validatePosition(t),o=this.textModel.getLanguageIdAtPosition(n.lineNumber,n.column);if(this.canBuildAST){const r=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew.getClosingBracketInfo(e);if(!r)return null;const a=this.getBracketPairsInRange(k.fromPositions(t,t)).findLast(l=>r.closes(l.openingBracketInfo));return a?a.openingBracketRange:null}else{const r=e.toLowerCase(),a=this.languageConfigurationService.getLanguageConfiguration(o).brackets;if(!a)return null;const l=a.textIsBracket[r];return l?P0(this._findMatchingBracketUp(l,n,NL(i))):null}}matchBracket(e,t){if(this.canBuildAST){const i=this.getBracketPairsInRange(k.fromPositions(e,e)).filter(n=>n.closingBracketRange!==void 0&&(n.openingBracketRange.containsPosition(e)||n.closingBracketRange.containsPosition(e))).findLastMaxBy(Es(n=>n.openingBracketRange.containsPosition(e)?n.openingBracketRange:n.closingBracketRange,k.compareRangesUsingStarts));return i?[i.openingBracketRange,i.closingBracketRange]:null}else{const i=NL(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,n){const o=t.getCount(),r=t.getLanguageId(n);let a=Math.max(0,e.column-1-i.maxBracketLength);for(let c=n-1;c>=0;c--){const d=t.getEndOffset(c);if(d<=a)break;if(pa(t.getStandardTokenType(c))||t.getLanguageId(c)!==r){a=d;break}}let l=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let c=n+1;c<o;c++){const d=t.getStartOffset(c);if(d>=l)break;if(pa(t.getStandardTokenType(c))||t.getLanguageId(c)!==r){l=d;break}}return{searchStartOffset:a,searchEndOffset:l}}_matchBracket(e,t){const i=e.lineNumber,n=this.textModel.tokenization.getLineTokens(i),o=this.textModel.getLineContent(i),r=n.findTokenIndexAtOffset(e.column-1);if(r<0)return null;const a=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(r)).brackets;if(a&&!pa(n.getStandardTokenType(r))){let{searchStartOffset:l,searchEndOffset:c}=this._establishBracketSearchOffsets(e,n,a,r),d=null;for(;;){const u=Ys.findNextBracketInRange(a.forwardRegex,i,o,l,c);if(!u)break;if(u.startColumn<=e.column&&e.column<=u.endColumn){const h=o.substring(u.startColumn-1,u.endColumn-1).toLowerCase(),g=this._matchFoundBracket(u,a.textIsBracket[h],a.textIsOpenBracket[h],t);if(g){if(g instanceof El)return null;d=g}}l=u.endColumn-1}if(d)return d}if(r>0&&n.getStartOffset(r)===e.column-1){const l=r-1,c=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(l)).brackets;if(c&&!pa(n.getStandardTokenType(l))){const{searchStartOffset:d,searchEndOffset:u}=this._establishBracketSearchOffsets(e,n,c,l),h=Ys.findPrevBracketInRange(c.reversedRegex,i,o,d,u);if(h&&h.startColumn<=e.column&&e.column<=h.endColumn){const g=o.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),m=this._matchFoundBracket(h,c.textIsBracket[g],c.textIsOpenBracket[g],t);if(m)return m instanceof El?null:m}}}return null}_matchFoundBracket(e,t,i,n){if(!t)return null;const o=i?this._findMatchingBracketDown(t,e.getEndPosition(),n):this._findMatchingBracketUp(t,e.getStartPosition(),n);return o?o instanceof El?o:[e,o]:null}_findMatchingBracketUp(e,t,i){const n=e.languageId,o=e.reversedRegex;let r=-1,a=0;const l=(c,d,u,h)=>{for(;;){if(i&&++a%100===0&&!i())return El.INSTANCE;const g=Ys.findPrevBracketInRange(o,c,d,u,h);if(!g)break;const m=d.substring(g.startColumn-1,g.endColumn-1).toLowerCase();if(e.isOpen(m)?r++:e.isClose(m)&&r--,r===0)return g;h=g.startColumn-1}return null};for(let c=t.lineNumber;c>=1;c--){const d=this.textModel.tokenization.getLineTokens(c),u=d.getCount(),h=this.textModel.getLineContent(c);let g=u-1,m=h.length,p=h.length;c===t.lineNumber&&(g=d.findTokenIndexAtOffset(t.column-1),m=t.column-1,p=t.column-1);let _=!0;for(;g>=0;g--){const b=d.getLanguageId(g)===n&&!pa(d.getStandardTokenType(g));if(b)_?m=d.getStartOffset(g):(m=d.getStartOffset(g),p=d.getEndOffset(g));else if(_&&m!==p){const v=l(c,h,m,p);if(v)return v}_=b}if(_&&m!==p){const b=l(c,h,m,p);if(b)return b}}return null}_findMatchingBracketDown(e,t,i){const n=e.languageId,o=e.forwardRegex;let r=1,a=0;const l=(d,u,h,g)=>{for(;;){if(i&&++a%100===0&&!i())return El.INSTANCE;const m=Ys.findNextBracketInRange(o,d,u,h,g);if(!m)break;const p=u.substring(m.startColumn-1,m.endColumn-1).toLowerCase();if(e.isOpen(p)?r++:e.isClose(p)&&r--,r===0)return m;h=m.endColumn-1}return null},c=this.textModel.getLineCount();for(let d=t.lineNumber;d<=c;d++){const u=this.textModel.tokenization.getLineTokens(d),h=u.getCount(),g=this.textModel.getLineContent(d);let m=0,p=0,_=0;d===t.lineNumber&&(m=u.findTokenIndexAtOffset(t.column-1),p=t.column-1,_=t.column-1);let b=!0;for(;m<h;m++){const v=u.getLanguageId(m)===n&&!pa(u.getStandardTokenType(m));if(v)b||(p=u.getStartOffset(m)),_=u.getEndOffset(m);else if(b&&p!==_){const w=l(d,g,p,_);if(w)return w}b=v}if(b&&p!==_){const v=l(d,g,p,_);if(v)return v}}return null}findPrevBracket(e){var t;const i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getFirstBracketBefore(i))||null;let n=null,o=null,r=null;for(let a=i.lineNumber;a>=1;a--){const l=this.textModel.tokenization.getLineTokens(a),c=l.getCount(),d=this.textModel.getLineContent(a);let u=c-1,h=d.length,g=d.length;if(a===i.lineNumber){u=l.findTokenIndexAtOffset(i.column-1),h=i.column-1,g=i.column-1;const p=l.getLanguageId(u);n!==p&&(n=p,o=this.languageConfigurationService.getLanguageConfiguration(n).brackets,r=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew)}let m=!0;for(;u>=0;u--){const p=l.getLanguageId(u);if(n!==p){if(o&&r&&m&&h!==g){const b=Ys.findPrevBracketInRange(o.reversedRegex,a,d,h,g);if(b)return this._toFoundBracket(r,b);m=!1}n=p,o=this.languageConfigurationService.getLanguageConfiguration(n).brackets,r=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew}const _=!!o&&!pa(l.getStandardTokenType(u));if(_)m?h=l.getStartOffset(u):(h=l.getStartOffset(u),g=l.getEndOffset(u));else if(r&&o&&m&&h!==g){const b=Ys.findPrevBracketInRange(o.reversedRegex,a,d,h,g);if(b)return this._toFoundBracket(r,b)}m=_}if(r&&o&&m&&h!==g){const p=Ys.findPrevBracketInRange(o.reversedRegex,a,d,h,g);if(p)return this._toFoundBracket(r,p)}}return null}findNextBracket(e){var t;const i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getFirstBracketAfter(i))||null;const n=this.textModel.getLineCount();let o=null,r=null,a=null;for(let l=i.lineNumber;l<=n;l++){const c=this.textModel.tokenization.getLineTokens(l),d=c.getCount(),u=this.textModel.getLineContent(l);let h=0,g=0,m=0;if(l===i.lineNumber){h=c.findTokenIndexAtOffset(i.column-1),g=i.column-1,m=i.column-1;const _=c.getLanguageId(h);o!==_&&(o=_,r=this.languageConfigurationService.getLanguageConfiguration(o).brackets,a=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew)}let p=!0;for(;h<d;h++){const _=c.getLanguageId(h);if(o!==_){if(a&&r&&p&&g!==m){const v=Ys.findNextBracketInRange(r.forwardRegex,l,u,g,m);if(v)return this._toFoundBracket(a,v);p=!1}o=_,r=this.languageConfigurationService.getLanguageConfiguration(o).brackets,a=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew}const b=!!r&&!pa(c.getStandardTokenType(h));if(b)p||(g=c.getStartOffset(h)),m=c.getEndOffset(h);else if(a&&r&&p&&g!==m){const v=Ys.findNextBracketInRange(r.forwardRegex,l,u,g,m);if(v)return this._toFoundBracket(a,v)}p=b}if(a&&r&&p&&g!==m){const _=Ys.findNextBracketInRange(r.forwardRegex,l,u,g,m);if(_)return this._toFoundBracket(a,_)}}return null}findEnclosingBrackets(e,t){const i=this.textModel.validatePosition(e);if(this.canBuildAST){const g=k.fromPositions(i),m=this.getBracketPairsInRange(k.fromPositions(i,i)).findLast(p=>p.closingBracketRange!==void 0&&p.range.strictContainsRange(g));return m?[m.openingBracketRange,m.closingBracketRange]:null}const n=NL(t),o=this.textModel.getLineCount(),r=new Map;let a=[];const l=(g,m)=>{if(!r.has(g)){const p=[];for(let _=0,b=m?m.brackets.length:0;_<b;_++)p[_]=0;r.set(g,p)}a=r.get(g)};let c=0;const d=(g,m,p,_,b)=>{for(;;){if(n&&++c%100===0&&!n())return El.INSTANCE;const v=Ys.findNextBracketInRange(g.forwardRegex,m,p,_,b);if(!v)break;const w=p.substring(v.startColumn-1,v.endColumn-1).toLowerCase(),C=g.textIsBracket[w];if(C&&(C.isOpen(w)?a[C.index]++:C.isClose(w)&&a[C.index]--,a[C.index]===-1))return this._matchFoundBracket(v,C,!1,n);_=v.endColumn-1}return null};let u=null,h=null;for(let g=i.lineNumber;g<=o;g++){const m=this.textModel.tokenization.getLineTokens(g),p=m.getCount(),_=this.textModel.getLineContent(g);let b=0,v=0,w=0;if(g===i.lineNumber){b=m.findTokenIndexAtOffset(i.column-1),v=i.column-1,w=i.column-1;const S=m.getLanguageId(b);u!==S&&(u=S,h=this.languageConfigurationService.getLanguageConfiguration(u).brackets,l(u,h))}let C=!0;for(;b<p;b++){const S=m.getLanguageId(b);if(u!==S){if(h&&C&&v!==w){const L=d(h,g,_,v,w);if(L)return P0(L);C=!1}u=S,h=this.languageConfigurationService.getLanguageConfiguration(u).brackets,l(u,h)}const x=!!h&&!pa(m.getStandardTokenType(b));if(x)C||(v=m.getStartOffset(b)),w=m.getEndOffset(b);else if(h&&C&&v!==w){const L=d(h,g,_,v,w);if(L)return P0(L)}C=x}if(h&&C&&v!==w){const S=d(h,g,_,v,w);if(S)return P0(S)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const n=e.getBracketInfo(i);return n?{range:t,bracketInfo:n}:null}}function mJ(s,e){return{object:s,dispose:()=>e==null?void 0:e.dispose()}}function NL(s){if(typeof s=="undefined")return()=>!0;{const e=Date.now();return()=>Date.now()-e<=s}}class El{constructor(){this._searchCanceledBrand=void 0}}El.INSTANCE=new El;function P0(s){return s instanceof El?null:s}class pJ extends H{constructor(e){super(),this.textModel=e,this.colorProvider=new D9,this.onDidChangeEmitter=new M,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i,n){return n?[]:t===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map(r=>({id:`bracket${r.range.toString()}-${r.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(r,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:r.range})).toArray():[]}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new k(1,1,this.textModel.getLineCount(),1),e,t):[]}}class D9{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}}mr((s,e)=>{const t=[i9,n9,o9,s9,r9,a9],i=new D9;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${s.getColor(_Y)}; }`);const n=t.map(o=>s.getColor(o)).filter(o=>!!o).filter(o=>!o.isTransparent());for(let o=0;o<30;o++){const r=n[o%n.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(o)} { color: ${r}; }`)}});function O0(s){return s.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class yn{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,i,n){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=n}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${O0(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${O0(this.oldText)}")`:`(replace@${this.oldPosition} "${O0(this.oldText)}" with "${O0(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const n=t.length;Nr(e,n,i),i+=4;for(let o=0;o<n;o++)nK(e,t.charCodeAt(o),i),i+=2;return i}static _readString(e,t){const i=Er(e,t);return t+=4,sK(e,t,i)}writeSize(){return 4+4+yn._writeStringSize(this.oldText)+yn._writeStringSize(this.newText)}write(e,t){return Nr(e,this.oldPosition,t),t+=4,Nr(e,this.newPosition,t),t+=4,t=yn._writeString(e,this.oldText,t),t=yn._writeString(e,this.newText,t),t}static read(e,t,i){const n=Er(e,t);t+=4;const o=Er(e,t);t+=4;const r=yn._readString(e,t);t+=yn._writeStringSize(r);const a=yn._readString(e,t);return t+=yn._writeStringSize(a),i.push(new yn(n,r,o,a)),t}}function bJ(s,e){return s===null||s.length===0?e:new va(s,e).compress()}class va{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),n=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(n),n=this._getCurr(++t);continue}if(n===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++t);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldPosition<i.newPosition){const[c,d]=va._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(c),n=d;continue}if(i.newPosition<n.oldPosition){const[c,d]=va._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(c),i=d;continue}let a,l;if(n.oldEnd===i.newEnd)a=i,l=n,i=this._getPrev(++e),n=this._getCurr(++t);else if(n.oldEnd<i.newEnd){const[c,d]=va._splitPrev(i,n.oldLength);a=c,l=n,i=d,n=this._getCurr(++t)}else{const[c,d]=va._splitCurr(n,i.newLength);a=i,l=c,i=this._getPrev(++e),n=d}this._result[this._resultLen++]=new yn(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}const o=va._merge(this._result);return va._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=va._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=va._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new yn(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new yn(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),n=e.newText.substr(t);return[new yn(e.oldPosition,e.oldText,e.newPosition,i),new yn(e.oldEnd,"",e.newPosition+t,n)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),n=e.oldText.substr(t);return[new yn(e.oldPosition,i,e.newPosition,e.newText),new yn(e.oldPosition+t,n,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;const t=[];let i=0,n=e[0];for(let o=1;o<e.length;o++){const r=e[o];n.oldEnd===r.oldPosition?n=new yn(n.oldPosition,n.oldText+r.oldText,n.newPosition,n.newText+r.newText):(t[i++]=n,n=r)}return t[i++]=n,t}static _removeNoOps(e){if(e.length===0)return e;const t=[];let i=0;for(let n=0;n<e.length;n++){const o=e[n];o.oldText!==o.newText&&(t[i++]=o)}return t}}function Sc(s){return s===47||s===92}function I9(s){return s.replace(/[\\/]/g,Mi.sep)}function _J(s){return s.indexOf("/")===-1&&(s=I9(s)),/^[a-zA-Z]:(\/|$)/.test(s)&&(s="/"+s),s}function RO(s,e=Mi.sep){if(!s)return"";const t=s.length,i=s.charCodeAt(0);if(Sc(i)){if(Sc(s.charCodeAt(1))&&!Sc(s.charCodeAt(2))){let o=3;const r=o;for(;o<t&&!Sc(s.charCodeAt(o));o++);if(r!==o&&!Sc(s.charCodeAt(o+1))){for(o+=1;o<t;o++)if(Sc(s.charCodeAt(o)))return s.slice(0,o+1).replace(/[\\/]/g,e)}}return e}else if(T9(i)&&s.charCodeAt(1)===58)return Sc(s.charCodeAt(2))?s.slice(0,2)+e:s.slice(0,2);let n=s.indexOf("://");if(n!==-1){for(n+=3;n<t;n++)if(Sc(s.charCodeAt(n)))return s.slice(0,n+1)}return""}function AI(s,e,t,i=qr){if(s===e)return!0;if(!s||!e||e.length>s.length)return!1;if(t){if(!wA(s,e))return!1;if(e.length===s.length)return!0;let o=e.length;return e.charAt(e.length-1)===i&&o--,s.charAt(o)===i}return e.charAt(e.length-1)!==i&&(e+=i),s.indexOf(e)===0}function T9(s){return s>=65&&s<=90||s>=97&&s<=122}function vJ(s,e=En){return e?T9(s.charCodeAt(0))&&s.charCodeAt(1)===58:!1}function ba(s){return LC(s,!0)}class wJ{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:qb(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===qe.file)return AI(ba(e),ba(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(PO(e.authority,t.authority))return AI(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return De.joinPath(e,...t)}basenameOrAuthority(e){return Ws(e)||e.authority}basename(e){return Mi.basename(e.path)}extname(e){return Mi.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===qe.file?t=De.file(uW(ba(e))).path:(t=Mi.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===qe.file?t=De.file(dW(ba(e))).path:t=Mi.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!PO(e.authority,t.authority))return;if(e.scheme===qe.file){const o=IU(ba(e),ba(t));return En?I9(o):o}let i=e.path||"/";const n=t.path||"/";if(this._ignorePathCasing(e)){let o=0;for(const r=Math.min(i.length,n.length);o<r&&!(i.charCodeAt(o)!==n.charCodeAt(o)&&i.charAt(o).toLowerCase()!==n.charAt(o).toLowerCase());o++);i=n.substr(0,o)+i.substr(o)}return Mi.relative(i,n)}resolvePath(e,t){if(e.scheme===qe.file){const i=De.file(DU(ba(e),t));return e.with({authority:i.authority,path:i.path})}return t=_J(t),e.with({path:Mi.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&zg(e,t)}hasTrailingPathSeparator(e,t=qr){if(e.scheme===qe.file){const i=ba(e);return i.length>RO(i).length&&i[i.length-1]===t}else{const i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=qr){return OO(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=qr){let i=!1;if(e.scheme===qe.file){const n=ba(e);i=n!==void 0&&n.length===RO(n).length&&n[n.length-1]===t}else{t="/";const n=e.path;i=n.length===1&&n.charCodeAt(n.length-1)===47}return!i&&!OO(e,t)?e.with({path:e.path+"/"}):e}}const $t=new wJ(()=>!1),hR=$t.isEqual.bind($t);$t.isEqualOrParent.bind($t);$t.getComparisonKey.bind($t);const CJ=$t.basenameOrAuthority.bind($t),Ws=$t.basename.bind($t),SJ=$t.extname.bind($t),ay=$t.dirname.bind($t),yJ=$t.joinPath.bind($t),kJ=$t.normalizePath.bind($t),LJ=$t.relativePath.bind($t),MO=$t.resolvePath.bind($t);$t.isAbsolutePath.bind($t);const PO=$t.isEqualAuthority.bind($t),OO=$t.hasTrailingPathSeparator.bind($t);$t.removeTrailingPathSeparator.bind($t);$t.addTrailingPathSeparator.bind($t);var Ad;(function(s){s.META_DATA_LABEL="label",s.META_DATA_DESCRIPTION="description",s.META_DATA_SIZE="size",s.META_DATA_MIME="mime";function e(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(r=>{const[a,l]=r.split(":");a&&l&&i.set(a,l)});const o=t.path.substring(0,t.path.indexOf(";"));return o&&i.set(s.META_DATA_MIME,o),i}s.parseMetaData=e})(Ad||(Ad={}));function _g(s){return s.toString()}class Qi{static create(e,t){const i=e.getAlternativeVersionId(),n=RI(e);return new Qi(i,i,n,n,t,t,[])}constructor(e,t,i,n,o,r,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=n,this.beforeCursorState=o,this.afterCursorState=r,this.changes=a}append(e,t,i,n,o){t.length>0&&(this.changes=bJ(this.changes,t)),this.afterEOL=i,this.afterVersionId=n,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,i){if(Nr(e,t?t.length:0,i),i+=4,t)for(const n of t)Nr(e,n.selectionStartLineNumber,i),i+=4,Nr(e,n.selectionStartColumn,i),i+=4,Nr(e,n.positionLineNumber,i),i+=4,Nr(e,n.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const n=Er(e,t);t+=4;for(let o=0;o<n;o++){const r=Er(e,t);t+=4;const a=Er(e,t);t+=4;const l=Er(e,t);t+=4;const c=Er(e,t);t+=4,i.push(new _e(r,a,l,c))}return t}serialize(){let e=10+Qi._writeSelectionsSize(this.beforeCursorState)+Qi._writeSelectionsSize(this.afterCursorState)+4;for(const n of this.changes)e+=n.writeSize();const t=new Uint8Array(e);let i=0;Nr(t,this.beforeVersionId,i),i+=4,Nr(t,this.afterVersionId,i),i+=4,g2(t,this.beforeEOL,i),i+=1,g2(t,this.afterEOL,i),i+=1,i=Qi._writeSelections(t,this.beforeCursorState,i),i=Qi._writeSelections(t,this.afterCursorState,i),Nr(t,this.changes.length,i),i+=4;for(const n of this.changes)i=n.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const n=Er(t,i);i+=4;const o=Er(t,i);i+=4;const r=h2(t,i);i+=1;const a=h2(t,i);i+=1;const l=[];i=Qi._readSelections(t,i,l);const c=[];i=Qi._readSelections(t,i,c);const d=Er(t,i);i+=4;const u=[];for(let h=0;h<d;h++)i=yn.read(t,i,u);return new Qi(n,o,r,a,l,c,u)}}class E9{get type(){return 0}get resource(){return De.isUri(this.model)?this.model:this.model.uri}constructor(e,t,i,n){this.label=e,this.code=t,this.model=i,this._data=Qi.create(i,n)}toString(){return(this._data instanceof Qi?this._data:Qi.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(De.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof Qi}append(e,t,i,n,o){this._data instanceof Qi&&this._data.append(e,t,i,n,o)}close(){this._data instanceof Qi&&(this._data=this._data.serialize())}open(){this._data instanceof Qi||(this._data=Qi.deserialize(this._data))}undo(){if(De.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Qi&&(this._data=this._data.serialize());const e=Qi.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(De.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Qi&&(this._data=this._data.serialize());const e=Qi.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof Qi&&(this._data=this._data.serialize()),this._data.byteLength+168}}class xJ{get resources(){return this._editStackElementsArr.map(e=>e.resource)}constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const n of this._editStackElementsArr){const o=_g(n.resource);this._editStackElementsMap.set(o,n)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=_g(e);return this._editStackElementsMap.has(t)}setModel(e){const t=_g(De.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=_g(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,n,o){const r=_g(e.uri);this._editStackElementsMap.get(r).append(e,t,i,n,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=_g(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${Ws(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function RI(s){return s.getEOL()===`
`?0:1}function Nl(s){return s?s instanceof E9||s instanceof xJ:!1}class gR{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Nl(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Nl(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const i=this._undoRedoService.getLastElement(this._model.uri);if(Nl(i)&&i.canAppend(this._model))return i;const n=new E9(f("vs/editor/common/model/editStack","edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(n,t),n}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],RI(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i,n){const o=this._getOrCreateEditStackElement(e,n),r=this._model.applyEdits(t,!0),a=gR._computeCursorState(i,r),l=r.map((c,d)=>({index:d,textChange:c.textChange}));return l.sort((c,d)=>c.textChange.oldPosition===d.textChange.oldPosition?c.index-d.index:c.textChange.oldPosition-d.textChange.oldPosition),o.append(this._model,l.map(c=>c.textChange),RI(this._model),this._model.getAlternativeVersionId(),a),a}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return He(i),null}}}class DJ{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function IJ(s,e,t,i,n){n.spacesDiff=0,n.looksLikeAlignment=!1;let o;for(o=0;o<e&&o<i;o++){const h=s.charCodeAt(o),g=t.charCodeAt(o);if(h!==g)break}let r=0,a=0;for(let h=o;h<e;h++)s.charCodeAt(h)===32?r++:a++;let l=0,c=0;for(let h=o;h<i;h++)t.charCodeAt(h)===32?l++:c++;if(r>0&&a>0||l>0&&c>0)return;const d=Math.abs(a-c),u=Math.abs(r-l);if(d===0){n.spacesDiff=u,u>0&&0<=l-1&&l-1<s.length&&l<t.length&&t.charCodeAt(l)!==32&&s.charCodeAt(l-1)===32&&s.charCodeAt(s.length-1)===44&&(n.looksLikeAlignment=!0);return}if(u%d===0){n.spacesDiff=u/d;return}}function FO(s,e,t){const i=Math.min(s.getLineCount(),1e4);let n=0,o=0,r="",a=0;const l=[2,4,6,8,3,5,7],c=8,d=[0,0,0,0,0,0,0,0,0],u=new DJ;for(let m=1;m<=i;m++){const p=s.getLineLength(m),_=s.getLineContent(m),b=p<=65536;let v=!1,w=0,C=0,S=0;for(let L=0,I=p;L<I;L++){const E=b?_.charCodeAt(L):s.getLineCharCode(m,L);if(E===9)S++;else if(E===32)C++;else{v=!0,w=L;break}}if(!v||(S>0?n++:C>1&&o++,IJ(r,a,_,w,u),u.looksLikeAlignment&&!(t&&e===u.spacesDiff)))continue;const x=u.spacesDiff;x<=c&&d[x]++,r=_,a=w}let h=t;n!==o&&(h=n<o);let g=e;if(h){let m=h?0:.1*i;l.forEach(p=>{const _=d[p];_>m&&(m=_,g=p)}),g===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(g=2)}return{insertSpaces:h,tabSize:g}}function po(s){return(s.metadata&1)>>>0}function Ht(s,e){s.metadata=s.metadata&254|e<<0}function Tn(s){return(s.metadata&2)>>>1===1}function Ft(s,e){s.metadata=s.metadata&253|(e?1:0)<<1}function N9(s){return(s.metadata&4)>>>2===1}function BO(s,e){s.metadata=s.metadata&251|(e?1:0)<<2}function A9(s){return(s.metadata&64)>>>6===1}function WO(s,e){s.metadata=s.metadata&191|(e?1:0)<<6}function TJ(s){return(s.metadata&24)>>>3}function VO(s,e){s.metadata=s.metadata&231|e<<3}function EJ(s){return(s.metadata&32)>>>5===1}function HO(s,e){s.metadata=s.metadata&223|(e?1:0)<<5}class R9{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,Ht(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,BO(this,!1),WO(this,!1),VO(this,1),HO(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,Ft(this,!1)}reset(e,t,i,n){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=n}setOptions(e){this.options=e;const t=this.options.className;BO(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),WO(this,this.options.glyphMarginClassName!==null),VO(this,this.options.stickiness),HO(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const Ze=new R9(null,0,0);Ze.parent=Ze;Ze.left=Ze;Ze.right=Ze;Ht(Ze,0);class AL{constructor(){this.root=Ze,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,n,o,r){return this.root===Ze?[]:BJ(this,e,t,i,n,o,r)}search(e,t,i,n){return this.root===Ze?[]:FJ(this,e,t,i,n)}collectNodesFromOwner(e){return PJ(this,e)}collectNodesPostOrder(){return OJ(this)}insert(e){zO(this,e),this._normalizeDeltaIfNecessary()}delete(e){UO(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let n=0;for(;e!==this.root;)e===e.parent.right&&(n+=e.parent.delta),e=e.parent;const o=i.start+n,r=i.end+n;i.setCachedOffsets(o,r,t)}acceptReplace(e,t,i,n){const o=RJ(this,e,e+t);for(let r=0,a=o.length;r<a;r++){const l=o[r];UO(this,l)}this._normalizeDeltaIfNecessary(),MJ(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let r=0,a=o.length;r<a;r++){const l=o[r];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,AJ(l,e,e+t,i,n),l.maxEnd=l.end,zO(this,l)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,NJ(this))}}function NJ(s){let e=s.root,t=0;for(;e!==Ze;){if(e.left!==Ze&&!Tn(e.left)){e=e.left;continue}if(e.right!==Ze&&!Tn(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,Rd(e),Ft(e,!0),Ft(e.left,!1),Ft(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}Ft(s.root,!1)}function vg(s,e,t,i){return s<t?!0:s>t||i===1?!1:i===2?!0:e}function AJ(s,e,t,i,n){const o=TJ(s),r=o===0||o===2,a=o===1||o===2,l=t-e,c=i,d=Math.min(l,c),u=s.start;let h=!1;const g=s.end;let m=!1;e<=u&&g<=t&&EJ(s)&&(s.start=e,h=!0,s.end=e,m=!0);{const _=n?1:l>0?2:0;!h&&vg(u,r,e,_)&&(h=!0),!m&&vg(g,a,e,_)&&(m=!0)}if(d>0&&!n){const _=l>c?2:0;!h&&vg(u,r,e+d,_)&&(h=!0),!m&&vg(g,a,e+d,_)&&(m=!0)}{const _=n?1:0;!h&&vg(u,r,t,_)&&(s.start=e+c,h=!0),!m&&vg(g,a,t,_)&&(s.end=e+c,m=!0)}const p=c-l;h||(s.start=Math.max(0,u+p)),m||(s.end=Math.max(0,g+p)),s.start>s.end&&(s.end=s.start)}function RJ(s,e,t){let i=s.root,n=0,o=0,r=0,a=0;const l=[];let c=0;for(;i!==Ze;){if(Tn(i)){Ft(i.left,!1),Ft(i.right,!1),i===i.parent.right&&(n-=i.parent.delta),i=i.parent;continue}if(!Tn(i.left)){if(o=n+i.maxEnd,o<e){Ft(i,!0);continue}if(i.left!==Ze){i=i.left;continue}}if(r=n+i.start,r>t){Ft(i,!0);continue}if(a=n+i.end,a>=e&&(i.setCachedOffsets(r,a,0),l[c++]=i),Ft(i,!0),i.right!==Ze&&!Tn(i.right)){n+=i.delta,i=i.right;continue}}return Ft(s.root,!1),l}function MJ(s,e,t,i){let n=s.root,o=0,r=0,a=0;const l=i-(t-e);for(;n!==Ze;){if(Tn(n)){Ft(n.left,!1),Ft(n.right,!1),n===n.parent.right&&(o-=n.parent.delta),Rd(n),n=n.parent;continue}if(!Tn(n.left)){if(r=o+n.maxEnd,r<e){Ft(n,!0);continue}if(n.left!==Ze){n=n.left;continue}}if(a=o+n.start,a>t){n.start+=l,n.end+=l,n.delta+=l,(n.delta<-1073741824||n.delta>1073741824)&&(s.requestNormalizeDelta=!0),Ft(n,!0);continue}if(Ft(n,!0),n.right!==Ze&&!Tn(n.right)){o+=n.delta,n=n.right;continue}}Ft(s.root,!1)}function PJ(s,e){let t=s.root;const i=[];let n=0;for(;t!==Ze;){if(Tn(t)){Ft(t.left,!1),Ft(t.right,!1),t=t.parent;continue}if(t.left!==Ze&&!Tn(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[n++]=t),Ft(t,!0),t.right!==Ze&&!Tn(t.right)){t=t.right;continue}}return Ft(s.root,!1),i}function OJ(s){let e=s.root;const t=[];let i=0;for(;e!==Ze;){if(Tn(e)){Ft(e.left,!1),Ft(e.right,!1),e=e.parent;continue}if(e.left!==Ze&&!Tn(e.left)){e=e.left;continue}if(e.right!==Ze&&!Tn(e.right)){e=e.right;continue}t[i++]=e,Ft(e,!0)}return Ft(s.root,!1),t}function FJ(s,e,t,i,n){let o=s.root,r=0,a=0,l=0;const c=[];let d=0;for(;o!==Ze;){if(Tn(o)){Ft(o.left,!1),Ft(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),o=o.parent;continue}if(o.left!==Ze&&!Tn(o.left)){o=o.left;continue}a=r+o.start,l=r+o.end,o.setCachedOffsets(a,l,i);let u=!0;if(e&&o.ownerId&&o.ownerId!==e&&(u=!1),t&&N9(o)&&(u=!1),n&&!A9(o)&&(u=!1),u&&(c[d++]=o),Ft(o,!0),o.right!==Ze&&!Tn(o.right)){r+=o.delta,o=o.right;continue}}return Ft(s.root,!1),c}function BJ(s,e,t,i,n,o,r){let a=s.root,l=0,c=0,d=0,u=0;const h=[];let g=0;for(;a!==Ze;){if(Tn(a)){Ft(a.left,!1),Ft(a.right,!1),a===a.parent.right&&(l-=a.parent.delta),a=a.parent;continue}if(!Tn(a.left)){if(c=l+a.maxEnd,c<e){Ft(a,!0);continue}if(a.left!==Ze){a=a.left;continue}}if(d=l+a.start,d>t){Ft(a,!0);continue}if(u=l+a.end,u>=e){a.setCachedOffsets(d,u,o);let m=!0;i&&a.ownerId&&a.ownerId!==i&&(m=!1),n&&N9(a)&&(m=!1),r&&!A9(a)&&(m=!1),m&&(h[g++]=a)}if(Ft(a,!0),a.right!==Ze&&!Tn(a.right)){l+=a.delta,a=a.right;continue}}return Ft(s.root,!1),h}function zO(s,e){if(s.root===Ze)return e.parent=Ze,e.left=Ze,e.right=Ze,Ht(e,0),s.root=e,s.root;WJ(s,e),Ac(e.parent);let t=e;for(;t!==s.root&&po(t.parent)===1;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;po(i)===1?(Ht(t.parent,0),Ht(i,0),Ht(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,pb(s,t)),Ht(t.parent,0),Ht(t.parent.parent,1),bb(s,t.parent.parent))}else{const i=t.parent.parent.left;po(i)===1?(Ht(t.parent,0),Ht(i,0),Ht(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,bb(s,t)),Ht(t.parent,0),Ht(t.parent.parent,1),pb(s,t.parent.parent))}return Ht(s.root,0),e}function WJ(s,e){let t=0,i=s.root;const n=e.start,o=e.end;for(;;)if(HJ(n,o,i.start+t,i.end+t)<0)if(i.left===Ze){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===Ze){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=Ze,e.right=Ze,Ht(e,1)}function UO(s,e){let t,i;if(e.left===Ze?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(s.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===Ze?(t=e.left,i=e):(i=VJ(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(s.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(s.requestNormalizeDelta=!0)),i===s.root){s.root=t,Ht(t,0),e.detach(),RL(),Rd(t),s.root.parent=Ze;return}const n=po(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,Ht(i,po(e)),e===s.root?s.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==Ze&&(i.left.parent=i),i.right!==Ze&&(i.right.parent=i)),e.detach(),n){Ac(t.parent),i!==e&&(Ac(i),Ac(i.parent)),RL();return}Ac(t),Ac(t.parent),i!==e&&(Ac(i),Ac(i.parent));let o;for(;t!==s.root&&po(t)===0;)t===t.parent.left?(o=t.parent.right,po(o)===1&&(Ht(o,0),Ht(t.parent,1),pb(s,t.parent),o=t.parent.right),po(o.left)===0&&po(o.right)===0?(Ht(o,1),t=t.parent):(po(o.right)===0&&(Ht(o.left,0),Ht(o,1),bb(s,o),o=t.parent.right),Ht(o,po(t.parent)),Ht(t.parent,0),Ht(o.right,0),pb(s,t.parent),t=s.root)):(o=t.parent.left,po(o)===1&&(Ht(o,0),Ht(t.parent,1),bb(s,t.parent),o=t.parent.left),po(o.left)===0&&po(o.right)===0?(Ht(o,1),t=t.parent):(po(o.left)===0&&(Ht(o.right,0),Ht(o,1),pb(s,o),o=t.parent.left),Ht(o,po(t.parent)),Ht(t.parent,0),Ht(o.left,0),bb(s,t.parent),t=s.root));Ht(t,0),RL()}function VJ(s){for(;s.left!==Ze;)s=s.left;return s}function RL(){Ze.parent=Ze,Ze.delta=0,Ze.start=0,Ze.end=0}function pb(s,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(s.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==Ze&&(t.left.parent=e),t.parent=e.parent,e.parent===Ze?s.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,Rd(e),Rd(t)}function bb(s,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(s.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==Ze&&(t.right.parent=e),t.parent=e.parent,e.parent===Ze?s.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,Rd(e),Rd(t)}function M9(s){let e=s.end;if(s.left!==Ze){const t=s.left.maxEnd;t>e&&(e=t)}if(s.right!==Ze){const t=s.right.maxEnd+s.delta;t>e&&(e=t)}return e}function Rd(s){s.maxEnd=M9(s)}function Ac(s){for(;s!==Ze;){const e=M9(s);if(s.maxEnd===e)return;s.maxEnd=e,s=s.parent}}function HJ(s,e,t,i){return s===t?e-i:s-t}class MI{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==We)return fR(this.right);let e=this;for(;e.parent!==We&&e.parent.left!==e;)e=e.parent;return e.parent===We?We:e.parent}prev(){if(this.left!==We)return P9(this.left);let e=this;for(;e.parent!==We&&e.parent.right!==e;)e=e.parent;return e.parent===We?We:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const We=new MI(null,0);We.parent=We;We.left=We;We.right=We;We.color=0;function fR(s){for(;s.left!==We;)s=s.left;return s}function P9(s){for(;s.right!==We;)s=s.right;return s}function mR(s){return s===We?0:s.size_left+s.piece.length+mR(s.right)}function pR(s){return s===We?0:s.lf_left+s.piece.lineFeedCnt+pR(s.right)}function ML(){We.parent=We}function _b(s,e){const t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==We&&(t.left.parent=e),t.parent=e.parent,e.parent===We?s.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function vb(s,e){const t=e.left;e.left=t.right,t.right!==We&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===We?s.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function F0(s,e){let t,i;if(e.left===We?(i=e,t=i.right):e.right===We?(i=e,t=i.left):(i=fR(e.right),t=i.right),i===s.root){s.root=t,t.color=0,e.detach(),ML(),s.root.parent=We;return}const n=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,Gp(s,t)):(i.parent===e?t.parent=i:t.parent=i.parent,Gp(s,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===s.root?s.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==We&&(i.left.parent=i),i.right!==We&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,Gp(s,i)),e.detach(),t.parent.left===t){const r=mR(t),a=pR(t);if(r!==t.parent.size_left||a!==t.parent.lf_left){const l=r-t.parent.size_left,c=a-t.parent.lf_left;t.parent.size_left=r,t.parent.lf_left=a,kl(s,t.parent,l,c)}}if(Gp(s,t.parent),n){ML();return}let o;for(;t!==s.root&&t.color===0;)t===t.parent.left?(o=t.parent.right,o.color===1&&(o.color=0,t.parent.color=1,_b(s,t.parent),o=t.parent.right),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.right.color===0&&(o.left.color=0,o.color=1,vb(s,o),o=t.parent.right),o.color=t.parent.color,t.parent.color=0,o.right.color=0,_b(s,t.parent),t=s.root)):(o=t.parent.left,o.color===1&&(o.color=0,t.parent.color=1,vb(s,t.parent),o=t.parent.left),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.left.color===0&&(o.right.color=0,o.color=1,_b(s,o),o=t.parent.left),o.color=t.parent.color,t.parent.color=0,o.left.color=0,vb(s,t.parent),t=s.root));t.color=0,ML()}function $O(s,e){for(Gp(s,e);e!==s.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,_b(s,e)),e.parent.color=0,e.parent.parent.color=1,vb(s,e.parent.parent))}else{const t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,vb(s,e)),e.parent.color=0,e.parent.parent.color=1,_b(s,e.parent.parent))}s.root.color=0}function kl(s,e,t,i){for(;e!==s.root&&e!==We;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function Gp(s,e){let t=0,i=0;if(e!==s.root){for(;e!==s.root&&e===e.parent.right;)e=e.parent;if(e!==s.root)for(e=e.parent,t=mR(e.left)-e.size_left,i=pR(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==s.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}const ml=65535;function O9(s){let e;return s[s.length-1]<65536?e=new Uint16Array(s.length):e=new Uint32Array(s.length),e.set(s,0),e}class zJ{constructor(e,t,i,n,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=n,this.isBasicASCII=o}}function Ll(s,e=!0){const t=[0];let i=1;for(let n=0,o=s.length;n<o;n++){const r=s.charCodeAt(n);r===13?n+1<o&&s.charCodeAt(n+1)===10?(t[i++]=n+2,n++):t[i++]=n+1:r===10&&(t[i++]=n+1)}return e?O9(t):t}function UJ(s,e){s.length=0,s[0]=0;let t=1,i=0,n=0,o=0,r=!0;for(let l=0,c=e.length;l<c;l++){const d=e.charCodeAt(l);d===13?l+1<c&&e.charCodeAt(l+1)===10?(o++,s[t++]=l+2,l++):(i++,s[t++]=l+1):d===10?(n++,s[t++]=l+1):r&&d!==9&&(d<32||d>126)&&(r=!1)}const a=new zJ(O9(s),i,n,o,r);return s.length=0,a}class Do{constructor(e,t,i,n,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=n,this.length=o}}class Ou{constructor(e,t){this.buffer=e,this.lineStarts=t}}class $J{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==We&&e.iterate(e.root,i=>(i!==We&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class jJ{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let n=0;n<i.length;n++){const o=i[n];if(o.node.parent===null||o.nodeStartOffset>=e){i[n]=null,t=!0;continue}}if(t){const n=[];for(const o of i)o!==null&&n.push(o);this._cache=n}}}class KJ{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new Ou("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=We,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let n=null;for(let o=0,r=e.length;o<r;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=Ll(e[o].buffer));const a=new Do(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),n=this.rbInsertRight(n,a)}this._searchCache=new jJ(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=ml,i=t-Math.floor(t/3),n=i*2;let o="",r=0;const a=[];if(this.iterate(this.root,l=>{const c=this.getNodeContent(l),d=c.length;if(r<=i||r+d<n)return o+=c,r+=d,!0;const u=o.replace(/\r\n|\r|\n/g,e);return a.push(new Ou(u,Ll(u))),o=c,r=d,!0}),r>0){const l=o.replace(/\r\n|\r|\n/g,e);a.push(new Ou(l,Ll(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new $J(this,e)}getOffsetAt(e,t){let i=0,n=this.root;for(;n!==We;)if(n.left!==We&&n.lf_left+1>=e)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt+1>=e){i+=n.size_left;const o=this.getAccumulatedValue(n,e-n.lf_left-2);return i+=o+t-1}else e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right;return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const n=e;for(;t!==We;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){const o=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+o.index,o.index===0){const r=this.getOffsetAt(i+1,1),a=n-r;return new P(i+1,a+1)}return new P(i+1,o.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===We){const o=this.getOffsetAt(i+1,1),r=n-e-o;return new P(i+1,r+1)}else t=t.right;return new P(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),n=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(i,n);return t?t!==this._EOL||!this._EOLNormalized?o.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){const a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(c+e.remainder,c+t.remainder)}let i=e.node;const n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let r=n.substring(o+e.remainder,o+i.piece.length);for(i=i.next();i!==We;){const a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){r+=a.substring(l,l+t.remainder);break}else r+=a.substr(l,i.piece.length);i=i.next()}return r}getLinesContent(){const e=[];let t=0,i="",n=!1;return this.iterate(this.root,o=>{if(o===We)return!0;const r=o.piece;let a=r.length;if(a===0)return!0;const l=this._buffers[r.bufferIndex].buffer,c=this._buffers[r.bufferIndex].lineStarts,d=r.start.line,u=r.end.line;let h=c[d]+r.start.column;if(n&&(l.charCodeAt(h)===10&&(h++,a--),e[t++]=i,i="",n=!1,a===0))return!0;if(d===u)return!this._EOLNormalized&&l.charCodeAt(h+a-1)===13?(n=!0,i+=l.substr(h,a-1)):i+=l.substr(h,a),!0;i+=this._EOLNormalized?l.substring(h,Math.max(h,c[d+1]-this._EOLLength)):l.substring(h,c[d+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let g=d+1;g<u;g++)i=this._EOLNormalized?l.substring(c[g],c[g+1]-this._EOLLength):l.substring(c[g],c[g+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&l.charCodeAt(c[u]+r.end.column-1)===13?(n=!0,r.end.column===0?t--:i=l.substr(c[u],r.end.column-1)):i=l.substr(c[u],r.end.column),!0}),n&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],n=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(n)}else{const t=this._buffers[e.node.piece.bufferIndex],n=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(n)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,n,o,r,a,l,c,d,u){const h=this._buffers[e.piece.bufferIndex],g=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),m=this.offsetInBuffer(e.piece.bufferIndex,o),p=this.offsetInBuffer(e.piece.bufferIndex,r);let _;const b={line:0,column:0};let v,w;t._wordSeparators?(v=h.buffer.substring(m,p),w=C=>C+m,t.reset(0)):(v=h.buffer,w=C=>C,t.reset(m));do if(_=t.next(v),_){if(w(_.index)>=p)return d;this.positionInBuffer(e,w(_.index)-g,b);const C=this.getLineFeedCnt(e.piece.bufferIndex,o,b),S=b.line===o.line?b.column-o.column+n:b.column+1,x=S+_[0].length;if(u[d++]=Eu(new k(i+C,S,i+C,x),_,l),w(_.index)+_[0].length>=p||d>=c)return d}while(_);return d}findMatchesLineByLine(e,t,i,n){const o=[];let r=0;const a=new jg(t.wordSeparators,t.regex);let l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];const c=this.nodeAt2(e.endLineNumber,e.endColumn);if(c===null)return[];let d=this.positionInBuffer(l.node,l.remainder);const u=this.positionInBuffer(c.node,c.remainder);if(l.node===c.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,d,u,t,i,n,r,o),o;let h=e.startLineNumber,g=l.node;for(;g!==c.node;){const p=this.getLineFeedCnt(g.piece.bufferIndex,d,g.piece.end);if(p>=1){const b=this._buffers[g.piece.bufferIndex].lineStarts,v=this.offsetInBuffer(g.piece.bufferIndex,g.piece.start),w=b[d.line+p],C=h===e.startLineNumber?e.startColumn:1;if(r=this.findMatchesInNode(g,a,h,C,d,this.positionInBuffer(g,w-v),t,i,n,r,o),r>=n)return o;h+=p}const _=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const b=this.getLineContent(h).substring(_,e.endColumn-1);return r=this._findMatchesInLine(t,a,b,e.endLineNumber,_,r,o,i,n),o}if(r=this._findMatchesInLine(t,a,this.getLineContent(h).substr(_),h,_,r,o,i,n),r>=n)return o;h++,l=this.nodeAt2(h,1),g=l.node,d=this.positionInBuffer(l.node,l.remainder)}if(h===e.endLineNumber){const p=h===e.startLineNumber?e.startColumn-1:0,_=this.getLineContent(h).substring(p,e.endColumn-1);return r=this._findMatchesInLine(t,a,_,e.endLineNumber,p,r,o,i,n),o}const m=h===e.startLineNumber?e.startColumn:1;return r=this.findMatchesInNode(c.node,a,h,m,d,u,t,i,n,r,o),o}_findMatchesInLine(e,t,i,n,o,r,a,l,c){const d=e.wordSeparators;if(!l&&e.simpleSearch){const h=e.simpleSearch,g=h.length,m=i.length;let p=-g;for(;(p=i.indexOf(h,p+g))!==-1;)if((!d||PA(d,i,m,p,g))&&(a[r++]=new e_(new k(n,p+1+o,n,p+1+g+o),null),r>=c))return r;return r}let u;t.reset(0);do if(u=t.next(i),u&&(a[r++]=Eu(new k(n,u.index+1+o,n,u.index+1+u[0].length+o),u,l),r>=c))return r;while(u);return r}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==We){const{node:n,remainder:o,nodeStartOffset:r}=this.nodeAt(e),a=n.piece,l=a.bufferIndex,c=this.positionInBuffer(n,o);if(n.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&r+a.length===e&&t.length<ml){this.appendToNode(n,t),this.computeBufferMetadata();return}if(r===e)this.insertContentToNodeLeft(t,n),this._searchCache.validate(e);else if(r+n.piece.length>e){const d=[];let u=new Do(a.bufferIndex,c,a.end,this.getLineFeedCnt(a.bufferIndex,c,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(n,o)===10){const p={line:u.start.line+1,column:0};u=new Do(u.bufferIndex,p,u.end,this.getLineFeedCnt(u.bufferIndex,p,u.end),u.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(n,o-1)===13){const p=this.positionInBuffer(n,o-1);this.deleteNodeTail(n,p),t="\r"+t,n.piece.length===0&&d.push(n)}else this.deleteNodeTail(n,c);else this.deleteNodeTail(n,c);const h=this.createNewPieces(t);u.length>0&&this.rbInsertRight(n,u);let g=n;for(let m=0;m<h.length;m++)g=this.rbInsertRight(g,h[m]);this.deleteNodes(d)}else this.insertContentToNodeRight(t,n)}else{const n=this.createNewPieces(t);let o=this.rbInsertLeft(null,n[0]);for(let r=1;r<n.length;r++)o=this.rbInsertRight(o,n[r])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===We)return;const i=this.nodeAt(e),n=this.nodeAt(e+t),o=i.node,r=n.node;if(o===r){const h=this.positionInBuffer(o,i.remainder),g=this.positionInBuffer(o,n.remainder);if(i.nodeStartOffset===e){if(t===o.piece.length){const m=o.next();F0(this,o),this.validateCRLFWithPrevNode(m),this.computeBufferMetadata();return}this.deleteNodeHead(o,g),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),this.computeBufferMetadata();return}if(i.nodeStartOffset+o.piece.length===e+t){this.deleteNodeTail(o,h),this.validateCRLFWithNextNode(o),this.computeBufferMetadata();return}this.shrinkNode(o,h,g),this.computeBufferMetadata();return}const a=[],l=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,l),this._searchCache.validate(e),o.piece.length===0&&a.push(o);const c=this.positionInBuffer(r,n.remainder);this.deleteNodeHead(r,c),r.piece.length===0&&a.push(r);const d=o.next();for(let h=d;h!==We&&h!==r;h=h.next())a.push(h);const u=o.piece.length===0?o.prev():o;this.deleteNodes(a),this.validateCRLFWithNextNode(u),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const r=t.piece,a={line:r.start.line+1,column:0},l=new Do(r.bufferIndex,a,r.end,this.getLineFeedCnt(r.bufferIndex,a,r.end),r.length-1);t.piece=l,e+=`
`,kl(this,t,-1,-1),t.piece.length===0&&i.push(t)}const n=this.createNewPieces(e);let o=this.rbInsertLeft(t,n[n.length-1]);for(let r=n.length-2;r>=0;r--)o=this.rbInsertLeft(o,n[r]);this.validateCRLFWithPrevNode(o),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);const i=this.createNewPieces(e),n=this.rbInsertRight(t,i[0]);let o=n;for(let r=1;r<i.length;r++)o=this.rbInsertRight(o,i[r]);this.validateCRLFWithPrevNode(n)}positionInBuffer(e,t,i){const n=e.piece,o=e.piece.bufferIndex,r=this._buffers[o].lineStarts,l=r[n.start.line]+n.start.column+t;let c=n.start.line,d=n.end.line,u=0,h=0,g=0;for(;c<=d&&(u=c+(d-c)/2|0,g=r[u],u!==d);)if(h=r[u+1],l<g)d=u-1;else if(l>=h)c=u+1;else break;return i?(i.line=u,i.column=l-g,null):{line:u,column:l-g}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;const n=this._buffers[e].lineStarts;if(i.line===n.length-1)return i.line-t.line;const o=n[i.line+1],r=n[i.line]+i.column;if(o>r+1)return i.line-t.line;const a=r-1;return this._buffers[e].buffer.charCodeAt(a)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)F0(this,e[t])}createNewPieces(e){if(e.length>ml){const d=[];for(;e.length>ml;){const h=e.charCodeAt(ml-1);let g;h===13||h>=55296&&h<=56319?(g=e.substring(0,ml-1),e=e.substring(ml-1)):(g=e.substring(0,ml),e=e.substring(ml));const m=Ll(g);d.push(new Do(this._buffers.length,{line:0,column:0},{line:m.length-1,column:g.length-m[m.length-1]},m.length-1,g.length)),this._buffers.push(new Ou(g,m))}const u=Ll(e);return d.push(new Do(this._buffers.length,{line:0,column:0},{line:u.length-1,column:e.length-u[u.length-1]},u.length-1,e.length)),this._buffers.push(new Ou(e,u)),d}let t=this._buffers[0].buffer.length;const i=Ll(e,!1);let n=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},n=this._lastChangeBufferPos;for(let d=0;d<i.length;d++)i[d]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let d=0;d<i.length;d++)i[d]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const o=this._buffers[0].buffer.length,r=this._buffers[0].lineStarts.length-1,a=o-this._buffers[0].lineStarts[r],l={line:r,column:a},c=new Do(0,n,l,this.getLineFeedCnt(0,n,l),o-t);return this._lastChangeBufferPos=l,[c]}getLineRawContent(e,t=0){let i=this.root,n="";const o=this._searchCache.get2(e);if(o){i=o.node;const r=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt===e)n=a.substring(l+r,l+i.piece.length);else{const c=this.getAccumulatedValue(i,e-o.nodeStartLineNumber);return a.substring(l+r,l+c-t)}}else{let r=0;const a=e;for(;i!==We;)if(i.left!==We&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this.getAccumulatedValue(i,e-i.lf_left-1),d=this._buffers[i.piece.bufferIndex].buffer,u=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return r+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:r,nodeStartLineNumber:a-(e-1-i.lf_left)}),d.substring(u+l,u+c-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this._buffers[i.piece.bufferIndex].buffer,d=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n=c.substring(d+l,d+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==We;){const r=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const a=this.getAccumulatedValue(i,0),l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n+=r.substring(l,l+a-t),n}else{const a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=r.substr(a,i.piece.length)}i=i.next()}return n}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==We;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,n=this.positionInBuffer(e,t),o=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const r=this.getLineFeedCnt(e.piece.bufferIndex,i.start,n);if(r!==o)return{index:r,remainder:0}}return{index:o,remainder:n.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,n=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+t+1;return o>i.end.line?n[i.end.line]+i.end.column-n[i.start.line]-i.start.column:n[o]-n[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),r=t,a=this.offsetInBuffer(i.bufferIndex,r),l=this.getLineFeedCnt(i.bufferIndex,i.start,r),c=l-n,d=a-o,u=i.length+d;e.piece=new Do(i.bufferIndex,i.start,r,l,u),kl(this,e,d,c)}deleteNodeHead(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),r=t,a=this.getLineFeedCnt(i.bufferIndex,r,i.end),l=this.offsetInBuffer(i.bufferIndex,r),c=a-n,d=o-l,u=i.length+d;e.piece=new Do(i.bufferIndex,r,i.end,a,u),kl(this,e,d,c)}shrinkNode(e,t,i){const n=e.piece,o=n.start,r=n.end,a=n.length,l=n.lineFeedCnt,c=t,d=this.getLineFeedCnt(n.bufferIndex,n.start,c),u=this.offsetInBuffer(n.bufferIndex,t)-this.offsetInBuffer(n.bufferIndex,o);e.piece=new Do(n.bufferIndex,n.start,c,d,u),kl(this,e,u-a,d-l);const h=new Do(n.bufferIndex,i,r,this.getLineFeedCnt(n.bufferIndex,i,r),this.offsetInBuffer(n.bufferIndex,r)-this.offsetInBuffer(n.bufferIndex,i)),g=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(g)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=Ll(t,!1);for(let g=0;g<o.length;g++)o[g]+=n;if(i){const g=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-g}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const r=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[r],l={line:r,column:a},c=e.piece.length+t.length,d=e.piece.lineFeedCnt,u=this.getLineFeedCnt(0,e.piece.start,l),h=u-d;e.piece=new Do(e.piece.bufferIndex,e.piece.start,l,u,c),this._lastChangeBufferPos=l,kl(this,e,t.length,h)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let n=0;for(;t!==We;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){n+=t.size_left;const o={node:t,remainder:e-t.size_left,nodeStartOffset:n};return this._searchCache.set(o),o}else e-=t.size_left+t.piece.length,n+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,n=0;for(;i!==We;)if(i.left!==We&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const o=this.getAccumulatedValue(i,e-i.lf_left-2),r=this.getAccumulatedValue(i,e-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(o+t-1,r),nodeStartOffset:n}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const o=this.getAccumulatedValue(i,e-i.lf_left-2);if(o+t-1<=i.piece.length)return{node:i,remainder:o+t-1,nodeStartOffset:n};t-=i.piece.length-o;break}else e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==We;){if(i.piece.lineFeedCnt>0){const o=this.getAccumulatedValue(i,0),r=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,o),nodeStartOffset:r}}else if(i.piece.length>=t-1){const o=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:o}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],n=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(n)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===We||e.piece.lineFeedCnt===0)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,n=t.start.line,o=i[n]+t.start.column;return n===i.length-1||i[n+1]>o+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(o)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===We||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],n=this._buffers[e.piece.bufferIndex].lineStarts;let o;e.piece.end.column===0?o={line:e.piece.end.line-1,column:n[e.piece.end.line]-n[e.piece.end.line-1]-1}:o={line:e.piece.end.line,column:e.piece.end.column-1};const r=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new Do(e.piece.bufferIndex,e.piece.start,o,a,r),kl(this,e,-1,-1),e.piece.length===0&&i.push(e);const l={line:t.piece.start.line+1,column:0},c=t.piece.length-1,d=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new Do(t.piece.bufferIndex,l,t.piece.end,d,c),kl(this,t,-1,-1),t.piece.length===0&&i.push(t);const u=this.createNewPieces(`\r
`);this.rbInsertRight(e,u[0]);for(let h=0;h<i.length;h++)F0(this,i[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)F0(this,i);else{const n=i.piece,o={line:n.start.line+1,column:0},r=n.length-1,a=this.getLineFeedCnt(n.bufferIndex,o,n.end);i.piece=new Do(n.bufferIndex,o,n.end,a,r),kl(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===We)return t(We);const i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===We)return"";const t=this._buffers[e.piece.bufferIndex],i=e.piece,n=this.offsetInBuffer(i.bufferIndex,i.start),o=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(n,o)}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),n=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,n)}rbInsertRight(e,t){const i=new MI(t,1);if(i.left=We,i.right=We,i.parent=We,i.size_left=0,i.lf_left=0,this.root===We)this.root=i,i.color=0;else if(e.right===We)e.right=i,i.parent=e;else{const o=fR(e.right);o.left=i,i.parent=o}return $O(this,i),i}rbInsertLeft(e,t){const i=new MI(t,1);if(i.left=We,i.right=We,i.parent=We,i.size_left=0,i.lf_left=0,this.root===We)this.root=i,i.color=0;else if(e.left===We)e.left=i,i.parent=e;else{const n=P9(e.left);n.right=i,i.parent=n}return $O(this,i),i}}class Ef extends H{constructor(e,t,i,n,o,r,a){super(),this._onDidChangeContent=this._register(new M),this._BOM=t,this._mightContainNonBasicASCII=!r,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._pieceTree=new KJ(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,n=this.getPositionAt(e),o=this.getPositionAt(i);return new k(n.lineNumber,n.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn),n=this.getOffsetAt(e.endLineNumber,e.endColumn);let o=0;const r=this._getEndOfLine(t),a=this.getEOL();if(r.length!==a.length){const l=r.length-a.length,c=e.endLineNumber-e.startLineNumber;o=l*c}return n-i+o}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const n=e.startLineNumber,o=e.endLineNumber;for(let r=n;r<=o;r++){const a=this.getLineContent(r),l=r===n?e.startColumn-1:0,c=r===o?e.endColumn-1:a.length;for(let d=l;d<c;d++)$i(a.charCodeAt(d))?(i=i+1,d=d+1):i=i+1}return i+=this._getEndOfLine(t).length*(o-n),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=Zn(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Gr(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let n=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,r=this._mightContainNonBasicASCII,a=!0,l=[];for(let p=0;p<e.length;p++){const _=e[p];a&&_._isTracked&&(a=!1);const b=_.range;if(_.text){let x=!0;r||(x=!Sv(_.text),r=x),!n&&x&&(n=Kf(_.text)),!o&&x&&(o=yW(_.text))}let v="",w=0,C=0,S=0;if(_.text){let x;[w,C,S,x]=Nd(_.text);const L=this.getEOL();x===0||x===(L===`\r
`?2:1)?v=_.text:v=_.text.replace(/\r\n|\r|\n/g,L)}l[p]={sortIndex:p,identifier:_.identifier||null,range:b,rangeOffset:this.getOffsetAt(b.startLineNumber,b.startColumn),rangeLength:this.getValueLengthInRange(b),text:v,eolCount:w,firstLineLength:C,lastLineLength:S,forceMoveMarkers:!!_.forceMoveMarkers,isAutoWhitespaceEdit:_.isAutoWhitespaceEdit||!1}}l.sort(Ef._sortOpsAscending);let c=!1;for(let p=0,_=l.length-1;p<_;p++){const b=l[p].range.getEndPosition(),v=l[p+1].range.getStartPosition();if(v.isBeforeOrEqual(b)){if(v.isBefore(b))throw new Error("Overlapping ranges are not allowed!");c=!0}}a&&(l=this._reduceOperations(l));const d=i||t?Ef._getInverseEditRanges(l):[],u=[];if(t)for(let p=0;p<l.length;p++){const _=l[p],b=d[p];if(_.isAutoWhitespaceEdit&&_.range.isEmpty())for(let v=b.startLineNumber;v<=b.endLineNumber;v++){let w="";v===b.startLineNumber&&(w=this.getLineContent(_.range.startLineNumber),Zn(w)!==-1)||u.push({lineNumber:v,oldContent:w})}}let h=null;if(i){let p=0;h=[];for(let _=0;_<l.length;_++){const b=l[_],v=d[_],w=this.getValueInRange(b.range),C=b.rangeOffset+p;p+=b.text.length-w.length,h[_]={sortIndex:b.sortIndex,identifier:b.identifier,range:v,text:w,textChange:new yn(b.rangeOffset,w,C,b.text)}}c||h.sort((_,b)=>_.sortIndex-b.sortIndex)}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=r;const g=this._doApplyEdits(l);let m=null;if(t&&u.length>0){u.sort((p,_)=>_.lineNumber-p.lineNumber),m=[];for(let p=0,_=u.length;p<_;p++){const b=u[p].lineNumber;if(p>0&&u[p-1].lineNumber===b)continue;const v=u[p].oldContent,w=this.getLineContent(b);w.length===0||w===v||Zn(w)!==-1||m.push(b)}}return this._onDidChangeContent.fire(),new JK(h,g,m)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,n=e[e.length-1].range,o=new k(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn);let r=i.startLineNumber,a=i.startColumn;const l=[];for(let g=0,m=e.length;g<m;g++){const p=e[g],_=p.range;t=t||p.forceMoveMarkers,l.push(this.getValueInRange(new k(r,a,_.startLineNumber,_.startColumn))),p.text.length>0&&l.push(p.text),r=_.endLineNumber,a=_.endColumn}const c=l.join(""),[d,u,h]=Nd(c);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:c,eolCount:d,firstLineLength:u,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(Ef._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const n=e[i],o=n.range.startLineNumber,r=n.range.startColumn,a=n.range.endLineNumber,l=n.range.endColumn;if(o===a&&r===l&&n.text.length===0)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);const c=new k(o,r,a,l);t.push({range:c,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,n){return this._pieceTree.findMatchesLineByLine(e,t,i,n)}static _getInverseEditRanges(e){const t=[];let i=0,n=0,o=null;for(let r=0,a=e.length;r<a;r++){const l=e[r];let c,d;o?o.range.endLineNumber===l.range.startLineNumber?(c=i,d=n+(l.range.startColumn-o.range.endColumn)):(c=i+(l.range.startLineNumber-o.range.endLineNumber),d=l.range.startColumn):(c=l.range.startLineNumber,d=l.range.startColumn);let u;if(l.text.length>0){const h=l.eolCount+1;h===1?u=new k(c,d,c,d+l.firstLineLength):u=new k(c,d,c+h-1,l.lastLineLength+1)}else u=new k(c,d,c,d);i=u.endLineNumber,n=u.endColumn,t.push(u),o=l}return t}static _sortOpsAscending(e,t){const i=k.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=k.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}}class qJ{constructor(e,t,i,n,o,r,a,l,c){this._chunks=e,this._bom=t,this._cr=i,this._lf=n,this._crlf=o,this._containsRTL=r,this._containsUnusualLineTerminators=a,this._isBasicASCII=l,this._normalizeEOL=c}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let o=0,r=i.length;o<r;o++){const a=i[o].buffer.replace(/\r\n|\r|\n/g,t),l=Ll(a);i[o]=new Ou(a,l)}const n=new Ef(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:n,disposable:n}}}class F9{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&LA(e)&&(this.BOM=e$,e=e.substr(1));const t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=UJ(this._tmpLineStarts,e);this.chunks.push(new Ou(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=Kf(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=yW(e)))}finish(e=!0){return this._finish(),new qJ(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=Ll(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}class GJ{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,i){if(e>=this._store.length)return;if(t===0){this.insert(e,i);return}else if(i===0){this.delete(e,t);return}const n=this._store.slice(0,e),o=this._store.slice(e+t),r=ZJ(i,this._default);this._store=n.concat(r,o)}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;const i=[];for(let n=0;n<t;n++)i[n]=this._default;this._store=SS(this._store,e,i)}}function ZJ(s,e){const t=[];for(let i=0;i<s;i++)t[i]=e;return t}class QJ{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class PI{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e){i.appendLineTokens(t);return}}this._tokens.push(new QJ(e,[t]))}finalize(){return this._tokens}}class YJ{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new OI(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class XJ extends YJ{constructor(e,t,i,n){super(e,t),this._textModel=i,this._languageIdCodec=n}updateTokensUntilLine(e,t){const i=this._textModel.getLanguageId();for(;;){const n=this.getFirstInvalidLine();if(!n||n.lineNumber>t)break;const o=this._textModel.getLineContent(n.lineNumber),r=bp(this._languageIdCodec,i,this.tokenizationSupport,o,!0,n.startState);e.add(n.lineNumber,r.tokens),this.store.setEndState(n.lineNumber,r.endState)}}getTokenTypeIfInsertingCharacter(e,t){const i=this.getStartState(e.lineNumber);if(!i)return 0;const n=this._textModel.getLanguageId(),o=this._textModel.getLineContent(e.lineNumber),r=o.substring(0,e.column-1)+t+o.substring(e.column-1),a=bp(this._languageIdCodec,n,this.tokenizationSupport,r,!0,i),l=new ji(a.tokens,r,this._languageIdCodec);if(l.getCount()===0)return 0;const c=l.findTokenIndexAtOffset(e.column-1);return l.getStandardTokenType(c)}tokenizeLineWithEdit(e,t,i){const n=e.lineNumber,o=e.column,r=this.getStartState(n);if(!r)return null;const a=this._textModel.getLineContent(n),l=a.substring(0,o-1)+i+a.substring(o-1+t),c=this._textModel.getLanguageIdAtPosition(n,0),d=bp(this._languageIdCodec,c,this.tokenizationSupport,l,!0,r);return new ji(d.tokens,l,this._languageIdCodec)}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,i){if(i<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,i),{heuristicTokens:!1};let n=this.guessStartState(t);const o=this._textModel.getLanguageId();for(let r=t;r<=i;r++){const a=this._textModel.getLineContent(r),l=bp(this._languageIdCodec,o,this.tokenizationSupport,a,!0,n);e.add(r,l.tokens),n=l.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const i=[];let n=null;for(let a=e-1;t>1&&a>=1;a--){const l=this._textModel.getLineFirstNonWhitespaceColumn(a);if(l!==0&&l<t&&(i.push(this._textModel.getLineContent(a)),t=l,n=this.getStartState(a),n))break}n||(n=this.tokenizationSupport.getInitialState()),i.reverse();const o=this._textModel.getLanguageId();let r=n;for(const a of i)r=bp(this._languageIdCodec,o,this.tokenizationSupport,a,!1,r).endState;return r}}class OI{constructor(e){this.lineCount=e,this._tokenizationStateStore=new JJ,this._invalidEndStatesLineNumbers=new eee,this._invalidEndStatesLineNumbers.addRange(new Je(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new Ti("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const i=this._tokenizationStateStore.setEndState(e,t);return i&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new Je(e+1,e+2)),i}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new Je(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[i]=Nd(t.text);this.acceptChange(new it(t.range.startLineNumber,t.range.endLineNumber+1),i+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new Je(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(e,t){return e===1?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(t===null)return null;const i=this.getStartState(t,e);if(!i)throw new Ti("Start state must be defined");return{lineNumber:t,startState:i}}}class JJ{constructor(){this._lineEndStates=new GJ(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const i=this._lineEndStates.get(e);return i&&i.equals(t)?!1:(this._lineEndStates.set(e,t),!0)}acceptChange(e,t){let i=e.length;t>0&&i>0&&(i--,t--),this._lineEndStates.replace(e.startLineNumber,i,t)}}class eee{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex(i=>i.contains(e));if(t!==-1){const i=this._ranges[t];i.start===e?i.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new Je(e+1,i.endExclusive):i.endExclusive===e+1?this._ranges[t]=new Je(i.start,e):this._ranges.splice(t,1,new Je(i.start,e),new Je(e+1,i.endExclusive))}}addRange(e){Je.addRange(e,this._ranges)}addRangeAndResize(e,t){let i=0;for(;!(i>=this._ranges.length||e.start<=this._ranges[i].endExclusive);)i++;let n=i;for(;!(n>=this._ranges.length||e.endExclusive<this._ranges[n].start);)n++;const o=t-e.length;for(let r=n;r<this._ranges.length;r++)this._ranges[r]=this._ranges[r].delta(o);if(i===n){const r=new Je(e.start,e.start+t);r.isEmpty||this._ranges.splice(i,0,r)}else{const r=Math.min(e.start,this._ranges[i].start),a=Math.max(e.endExclusive,this._ranges[n-1].endExclusive),l=new Je(r,a+o);l.isEmpty?this._ranges.splice(i,n-i):this._ranges.splice(i,n-i,l)}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}}function bp(s,e,t,i,n,o){let r=null;if(t)try{r=t.tokenizeEncoded(i,n,o.clone())}catch(a){He(a)}return r||(r=ZS(s.encodeLanguageId(e),o)),ji.convertToEndOffset(r.tokens,i.length),r}class tee{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,Hl(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?G5(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new PI,i=Wn.create(!1);do if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(e){var t;const i=(t=this._tokenizerWithStateStore)===null||t===void 0?void 0:t.getFirstInvalidLine();return i?(this._tokenizerWithStateStore.updateTokensUntilLine(e,i.lineNumber),i.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new it(e,t))}}const xl=new Uint32Array(0).buffer;class Ca{static deleteBeginning(e,t){return e===null||e===xl?e:Ca.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===xl)return e;const i=Bl(e),n=i[i.length-2];return Ca.delete(e,t,n)}static delete(e,t,i){if(e===null||e===xl||t===i)return e;const n=Bl(e),o=n.length>>>1;if(t===0&&n[n.length-2]===i)return xl;const r=ji.findIndexInTokensArray(n,t),a=r>0?n[r-1<<1]:0,l=n[r<<1];if(i<l){const g=i-t;for(let m=r;m<o;m++)n[m<<1]-=g;return e}let c,d;a!==t?(n[r<<1]=t,c=r+1<<1,d=t):(c=r<<1,d=a);const u=i-t;for(let g=r+1;g<o;g++){const m=n[g<<1]-u;m>d&&(n[c++]=m,n[c++]=n[(g<<1)+1],d=m)}if(c===n.length)return e;const h=new Uint32Array(c);return h.set(n.subarray(0,c),0),h.buffer}static append(e,t){if(t===xl)return e;if(e===xl)return t;if(e===null)return e;if(t===null)return null;const i=Bl(e),n=Bl(t),o=n.length>>>1,r=new Uint32Array(i.length+n.length);r.set(i,0);let a=i.length;const l=i[i.length-2];for(let c=0;c<o;c++)r[a++]=n[c<<1]+l,r[a++]=n[(c<<1)+1];return r.buffer}static insert(e,t,i){if(e===null||e===xl)return e;const n=Bl(e),o=n.length>>>1;let r=ji.findIndexInTokensArray(n,t);r>0&&n[r-1<<1]===t&&r--;for(let a=r;a<o;a++)n[a<<1]+=i;return e}}function Bl(s){return s instanceof Uint32Array?s:new Uint32Array(s)}class y_{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),n!==null&&n!==xl)return new ji(Bl(n),i,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=i.length,o[1]=jO(this._languageIdCodec.encodeLanguageId(e)),new ji(o,i,this._languageIdCodec)}static _massageTokens(e,t,i){const n=i?Bl(i):null;if(t===0){let o=!1;if(n&&n.length>1&&(o=Ln.getLanguageId(n[1])!==e),!o)return xl}if(!n||n.length===0){const o=new Uint32Array(2);return o[0]=t,o[1]=jO(e),o.buffer}return n[n.length-2]=t,n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;const i=[];for(let n=0;n<t;n++)i[n]=null;this._lineTokens=SS(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,n,o){const r=y_._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,n);this._ensureLine(t);const a=this._lineTokens[t];return this._lineTokens[t]=r,o?!y_._equals(a,r):!1}static _equals(e,t){if(!e||!t)return!e&&!t;const i=Bl(e),n=Bl(t);if(i.length!==n.length)return!1;for(let o=0,r=i.length;o<r;o++)if(i[o]!==n[o])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new P(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=Ca.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=Ca.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let n=null;i<this._len&&(n=Ca.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=Ca.append(this._lineTokens[t],n),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;const n=e.lineNumber-1;if(!(n>=this._len)){if(t===0){this._lineTokens[n]=Ca.insert(this._lineTokens[n],e.column-1,i);return}this._lineTokens[n]=Ca.deleteEnding(this._lineTokens[n],e.column-1),this._lineTokens[n]=Ca.insert(this._lineTokens[n],e.column-1,i),this._insertLines(e.lineNumber,t)}}setMultilineTokens(e,t){if(e.length===0)return{changes:[]};const i=[];for(let n=0,o=e.length;n<o;n++){const r=e[n];let a=0,l=0,c=!1;for(let d=r.startLineNumber;d<=r.endLineNumber;d++)c?(this.setTokens(t.getLanguageId(),d-1,t.getLineLength(d),r.getLineTokens(d),!1),l=d):this.setTokens(t.getLanguageId(),d-1,t.getLineLength(d),r.getLineTokens(d),!0)&&(c=!0,a=d,l=d);c&&i.push({fromLineNumber:a,toLineNumber:l})}return{changes:i}}}function jO(s){return(s<<0|0|0|32768|2<<24|1024)>>>0}class bR{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const o=t[0].getRange(),r=t[t.length-1].getRange();if(!o||!r)return e;i=e.plusRange(o).plusRange(r)}let n=null;for(let o=0,r=this._pieces.length;o<r;o++){const a=this._pieces[o];if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){n=n||{index:o};break}if(a.removeTokens(i),a.isEmpty()){this._pieces.splice(o,1),o--,r--;continue}if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){n=n||{index:o};continue}const[l,c]=a.split(i);if(l.isEmpty()){n=n||{index:o};continue}c.isEmpty()||(this._pieces.splice(o,1,l,c),o++,r++,n=n||{index:o})}return n=n||{index:this._pieces.length},t.length>0&&(this._pieces=SS(this._pieces,n.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0)return t;const i=this._pieces;if(i.length===0)return t;const n=bR._findFirstPieceWithLine(i,e),o=i[n].getLineTokens(e);if(!o)return t;const r=t.getCount(),a=o.getCount();let l=0;const c=[];let d=0,u=0;const h=(g,m)=>{g!==u&&(u=g,c[d++]=g,c[d++]=m)};for(let g=0;g<a;g++){const m=o.getStartCharacter(g),p=o.getEndCharacter(g),_=o.getMetadata(g),b=((_&1?2048:0)|(_&2?4096:0)|(_&4?8192:0)|(_&8?16384:0)|(_&16?16744448:0)|(_&32?4278190080:0))>>>0,v=~b>>>0;for(;l<r&&t.getEndOffset(l)<=m;)h(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<r&&t.getStartOffset(l)<m&&h(m,t.getMetadata(l));l<r&&t.getEndOffset(l)<p;)h(t.getEndOffset(l),t.getMetadata(l)&v|_&b),l++;if(l<r)h(p,t.getMetadata(l)&v|_&b),t.getEndOffset(l)===p&&l++;else{const w=Math.min(Math.max(0,l-1),r-1);h(p,t.getMetadata(w)&v|_&b)}}for(;l<r;)h(t.getEndOffset(l),t.getMetadata(l)),l++;return new ji(new Uint32Array(c),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,n=e.length-1;for(;i<n;){let o=i+Math.floor((n-i)/2);if(e[o].endLineNumber<t)i=o+1;else if(e[o].startLineNumber>t)n=o-1;else{for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}}return i}acceptEdit(e,t,i,n,o){for(const r of this._pieces)r.acceptEdit(e,t,i,n,o)}}class o1 extends m9{constructor(e,t,i,n,o,r){super(),this._languageService=e,this._languageConfigurationService=t,this._textModel=i,this._bracketPairsTextModelPart=n,this._languageId=o,this._attachedViews=r,this._semanticTokens=new bR(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new M),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new M),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new M),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new iee(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(a=>{a.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(a=>{this._emitModelTokensChangedEvent(a)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(a=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[i,n,o]=Nd(t.text);this._semanticTokens.acceptEdit(t.range,i,n,o,t.text.length>0?t.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(e)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this.grammarTokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new Ti("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this.grammarTokens.forceTokenization(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this.grammarTokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this.grammarTokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,i){return this.grammarTokens.getTokenTypeIfInsertingCharacter(e,t,i)}tokenizeLineWithEdit(e,t,i){return this.grammarTokens.tokenizeLineWithEdit(e,t,i)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),n=this.getLineTokens(t.lineNumber),o=n.findTokenIndexAtOffset(t.column-1),[r,a]=o1._findLanguageBoundaries(n,o),l=Ub(t.column,this.getLanguageConfiguration(n.getLanguageId(o)).getWordDefinition(),i.substring(r,a),r);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn)return l;if(o>0&&r===t.column-1){const[c,d]=o1._findLanguageBoundaries(n,o-1),u=Ub(t.column,this.getLanguageConfiguration(n.getLanguageId(o-1)).getWordDefinition(),i.substring(c,d),c);if(u&&u.startColumn<=e.column&&e.column<=u.endColumn)return u}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let n=0;for(let r=t;r>=0&&e.getLanguageId(r)===i;r--)n=e.getStartOffset(r);let o=e.getLineContent().length;for(let r=t,a=e.getCount();r<a&&e.getLanguageId(r)===i;r++)o=e.getEndOffset(r);return[n,o]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const i=this._textModel.validatePosition(new P(e,t)),n=this.getLineTokens(i.lineNumber);return n.getLanguageId(n.findTokenIndexAtOffset(i.column-1))}setLanguageId(e,t="api"){if(this._languageId===e)return;const i={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(i),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}}class iee extends H{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,i,n){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=i,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new pn),this._tokens=new y_(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new pn),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new M),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new M),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new gA),this._register(ei.onDidChange(o=>{const r=this.getLanguageId();o.changedLanguages.indexOf(r)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(n.onDidChangeVisibleRanges(({view:o,state:r})=>{if(r){let a=this._attachedViewStates.get(o);a||(a=new nee(()=>this.refreshRanges(a.lineRanges)),this._attachedViewStates.set(o,a)),a.handleStateChange(r)}else this._attachedViewStates.deleteAndDispose(o)}))}resetTokenization(e=!0){var t;this._tokens.flush(),(t=this._debugBackgroundTokens)===null||t===void 0||t.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new OI(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const i=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const r=ei.get(this.getLanguageId());if(!r)return[null,null];let a;try{a=r.getInitialState()}catch(l){return He(l),[null,null]}return[r,a]},[n,o]=i();if(n&&o?this._tokenizer=new XJ(this._textModel.getLineCount(),n,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const r={setTokens:a=>{this.setTokens(a)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const a=2;this._backgroundTokenizationState=a,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(a,l)=>{var c;if(!this._tokenizer)return;const d=this._tokenizer.store.getFirstInvalidEndStateLineNumber();d!==null&&a>=d&&((c=this._tokenizer)===null||c===void 0||c.store.setEndState(a,l))}};n&&n.createBackgroundTokenizer&&!n.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=n.createBackgroundTokenizer(this._textModel,r)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new tee(this._tokenizer,r),this._defaultBackgroundTokenizer.handleChanges()),n!=null&&n.backgroundTokenizerShouldOnlyVerifyTokens&&n.createBackgroundTokenizer?(this._debugBackgroundTokens=new y_(this._languageIdCodec),this._debugBackgroundStates=new OI(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=n.createBackgroundTokenizer(this._textModel,{setTokens:a=>{var l;(l=this._debugBackgroundTokens)===null||l===void 0||l.setMultilineTokens(a,this._textModel)},backgroundTokenizationFinished(){},setEndState:(a,l)=>{var c;(c=this._debugBackgroundStates)===null||c===void 0||c.setEndState(a,l)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var e;(e=this._defaultBackgroundTokenizer)===null||e===void 0||e.handleChanges()}handleDidChangeContent(e){var t,i,n;if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const o of e.changes){const[r,a]=Nd(o.text);this._tokens.acceptEdit(o.range,r,a),(t=this._debugBackgroundTokens)===null||t===void 0||t.acceptEdit(o.range,r,a)}(i=this._debugBackgroundStates)===null||i===void 0||i.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),(n=this._defaultBackgroundTokenizer)===null||n===void 0||n.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=it.joinMany([...this._attachedViewStates].map(([t,i])=>i.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){var i,n;if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const o=new PI,{heuristicTokens:r}=this._tokenizer.tokenizeHeuristically(o,e,t),a=this.setTokens(o.finalize());if(r)for(const l of a.changes)(i=this._backgroundTokenizer.value)===null||i===void 0||i.requestTokens(l.fromLineNumber,l.toLineNumber+1);(n=this._defaultBackgroundTokenizer)===null||n===void 0||n.checkFinished()}forceTokenization(e){var t,i;const n=new PI;(t=this._tokenizer)===null||t===void 0||t.updateTokensUntilLine(n,e),this.setTokens(n.finalize()),(i=this._defaultBackgroundTokenizer)===null||i===void 0||i.checkFinished()}isCheapToTokenize(e){return this._tokenizer?this._tokenizer.isCheapToTokenize(e):!0}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){var t;const i=this._textModel.getLineContent(e),n=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,i);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const o=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,i);!n.equals(o)&&(!((t=this._debugBackgroundTokenizer.value)===null||t===void 0)&&t.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return n}getTokenTypeIfInsertingCharacter(e,t,i){if(!this._tokenizer)return 0;const n=this._textModel.validatePosition(new P(e,t));return this.forceTokenization(n.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(n,i)}tokenizeLineWithEdit(e,t,i){if(!this._tokenizer)return null;const n=this._textModel.validatePosition(e);return this.forceTokenization(n.lineNumber),this._tokenizer.tokenizeLineWithEdit(n,t,i)}get hasTokens(){return this._tokens.hasTokens}}class nee extends H{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new xt(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){bi(this._computedLineRanges,this._lineRanges,(e,t)=>e.equals(t))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}class oee{constructor(){this.changeType=1}}class ea{static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",n=0;for(const o of t)i+=e.substring(n,o.column-1),n=o.column-1,i+=o.options.content;return i+=e.substring(n),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new ea(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new ea(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,n)=>i.lineNumber===n.lineNumber?i.column===n.column?i.order-n.order:i.column-n.column:i.lineNumber-n.lineNumber),t}constructor(e,t,i,n,o){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=n,this.order=o}}class KO{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class see{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class ree{constructor(e,t,i,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class aee{constructor(){this.changeType=5}}class Nf{constructor(e,t,i,n){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),n=t.versionId,o=e.isUndoing||t.isUndoing,r=e.isRedoing||t.isRedoing;return new Nf(i,n,o,r)}}class B9{constructor(e){this.changes=e}}class nh{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=Nf.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=nh._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new nh(t,i)}static _mergeChangeEvents(e,t){const i=[].concat(e.changes).concat(t.changes),n=t.eol,o=t.versionId,r=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush,c=e.isEolChange&&t.isEolChange;return{changes:i,eol:n,isEolChange:c,versionId:o,isUndoing:r,isRedoing:a,isFlush:l}}}const ly=et("undoRedoService");class W9{constructor(e,t){this.resource=e,this.elements=t}}class am{constructor(){this.id=am._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}am._ID=0;am.None=new am;class Ea{constructor(){this.id=Ea._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}Ea._ID=0;Ea.None=new Ea;var lee=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},PL=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},yu;function cee(s){const e=new F9;return e.acceptChunk(s),e.finish()}function dee(s){const e=new F9;let t;for(;typeof(t=s.read())=="string";)e.acceptChunk(t);return e.finish()}function qO(s,e){let t;return typeof s=="string"?t=cee(s):YK(s)?t=dee(s):t=s,t.create(e)}let B0=0;const uee=999,hee=1e4;class gee{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;do{const n=this._source.read();if(n===null)return this._eos=!0,t===0?null:e.join("");if(n.length>0&&(e[t++]=n,i+=n.length),i>=64*1024)return e.join("")}while(!0)}}const _p=()=>{throw new Error("Invalid change accessor")};let nl=yu=class extends H{static resolveOptions(e,t){if(t.detectIndentation){const i=FO(e,t.tabSize,t.insertSpaces);return new Uw({tabSize:i.tabSize,indentSize:"tabSize",insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new Uw(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return rr(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,i,n=null,o,r,a){super(),this._undoRedoService=o,this._languageService=r,this._languageConfigurationService=a,this._onWillDispose=this._register(new M),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new _ee(g=>this.handleBeforeFireDecorationsChangedEvent(g))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new M),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new M),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new M),this._eventEmitter=this._register(new vee),this._languageSelectionListener=this._register(new pn),this._deltaDecorationCallCnt=0,this._attachedViews=new wee,B0++,this.id="$model"+B0,this.isForSimpleWidget=i.isForSimpleWidget,typeof n=="undefined"||n===null?this._associatedResource=De.parse("inmemory://model/"+B0):this._associatedResource=n,this._attachedEditorCount=0;const{textBuffer:l,disposable:c}=qO(e,i.defaultEOL);this._buffer=l,this._bufferDisposable=c,this._options=yu.resolveOptions(this._buffer,i);const d=typeof t=="string"?t:t.languageId;typeof t!="string"&&(this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId))),this._bracketPairs=this._register(new fJ(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new lX(this,this._languageConfigurationService)),this._decorationProvider=this._register(new pJ(this)),this._tokenizationTextModelPart=new o1(this._languageService,this._languageConfigurationService,this,this._bracketPairs,d,this._attachedViews);const u=this._buffer.getLineCount(),h=this._buffer.getValueLengthInRange(new k(1,1,u,this._buffer.getLineLength(u)+1),0);i.largeFileOptimizations?(this._isTooLargeForTokenization=h>yu.LARGE_FILE_SIZE_THRESHOLD||u>yu.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=h>yu.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=h>yu._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=kW(B0),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new GO,this._commandManager=new gR(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(d)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new Ef([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=H.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new nh(e,t)))}setValue(e){if(this._assertNotDisposed(),e==null)throw Ns();const{textBuffer:t,disposable:i}=qO(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,n,o,r,a,l){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:n}],eol:this._buffer.getEOL(),isEolChange:l,versionId:this.getVersionId(),isUndoing:o,isRedoing:r,isFlush:a}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),r=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new GO,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Nf([new oee],this._versionId,!1,!1),this._createContentChanged2(new k(1,1,o,r),0,n,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),r=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Nf([new aee],this._versionId,!1,!1),this._createContentChanged2(new k(1,1,o,r),0,n,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,n=t.length;i<n;i++){const o=t[i],r=o.range,a=o.cachedAbsoluteStart-o.start,l=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),c=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);o.cachedAbsoluteStart=l,o.cachedAbsoluteEnd=c,o.cachedVersionId=e,o.start=l-a,o.end=c-a,Rd(o)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let n=1;n<=i;n++){const o=this._buffer.getLineLength(n);o>=hee?t+=o:e+=o}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=typeof e.tabSize!="undefined"?e.tabSize:this._options.tabSize,i=typeof e.indentSize!="undefined"?e.indentSize:this._options.originalIndentSize,n=typeof e.insertSpaces!="undefined"?e.insertSpaces:this._options.insertSpaces,o=typeof e.trimAutoWhitespace!="undefined"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,r=typeof e.bracketColorizationOptions!="undefined"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,a=new Uw({tabSize:t,indentSize:i,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o,bracketPairColorizationOptions:r});if(this._options.equals(a))return;const l=this._options.createChangeEvent(a);this._options=a,this._bracketPairs.handleDidChangeOptions(l),this._decorationProvider.handleDidChangeOptions(l),this._onDidChangeOptions.fire(l)}detectIndentation(e,t){this._assertNotDisposed();const i=FO(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),QC(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(SW.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new Ti("Operation would exceed heap memory limits");const i=this.getFullModelRange(),n=this.getValueInRange(i,e);return t?this._buffer.getBOM()+n:n}createSnapshot(e=!1){return new gee(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+n:n}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Ti("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Ti("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new Ti("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Ti("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Ti("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Ti("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,n=e.startColumn;let o=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),r=Math.floor(typeof n=="number"&&!isNaN(n)?n:1);if(o<1)o=1,r=1;else if(o>t)o=t,r=this.getLineMaxColumn(o);else if(r<=1)r=1;else{const u=this.getLineMaxColumn(o);r>=u&&(r=u)}const a=e.endLineNumber,l=e.endColumn;let c=Math.floor(typeof a=="number"&&!isNaN(a)?a:1),d=Math.floor(typeof l=="number"&&!isNaN(l)?l:1);if(c<1)c=1,d=1;else if(c>t)c=t,d=this.getLineMaxColumn(c);else if(d<=1)d=1;else{const u=this.getLineMaxColumn(c);d>=u&&(d=u)}return i===o&&n===r&&a===c&&l===d&&e instanceof k&&!(e instanceof _e)?e:new k(o,r,c,d)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;const n=this._buffer.getLineCount();if(e>n)return!1;if(t===1)return!0;const o=this.getLineMaxColumn(e);if(t>o)return!1;if(i===1){const r=this._buffer.getLineCharCode(e,t-2);if($i(r))return!1}return!0}_validatePosition(e,t,i){const n=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),o=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),r=this._buffer.getLineCount();if(n<1)return new P(1,1);if(n>r)return new P(r,this.getLineMaxColumn(r));if(o<=1)return new P(n,1);const a=this.getLineMaxColumn(n);if(o>=a)return new P(n,a);if(i===1){const l=this._buffer.getLineCharCode(n,o-2);if($i(l))return new P(n,o-1)}return new P(n,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof P&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,r=e.endColumn;if(!this._isValidPosition(i,n,0)||!this._isValidPosition(o,r,0))return!1;if(t===1){const a=n>1?this._buffer.getLineCharCode(i,n-2):0,l=r>1&&r<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,r-2):0,c=$i(a),d=$i(l);return!c&&!d}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof k&&!(e instanceof _e)&&this._isValidRange(e,1))return e;const i=this._validatePosition(e.startLineNumber,e.startColumn,0),n=this._validatePosition(e.endLineNumber,e.endColumn,0),o=i.lineNumber,r=i.column,a=n.lineNumber,l=n.column;{const c=r>1?this._buffer.getLineCharCode(o,r-2):0,d=l>1&&l<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,l-2):0,u=$i(c),h=$i(d);return!u&&!h?new k(o,r,a,l):o===a&&r===l?new k(o,r-1,a,l-1):u&&h?new k(o,r-1,a,l+1):u?new k(o,r-1,a,l):new k(o,r,a,l+1)}}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new k(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,n){return this._buffer.findMatchesLineByLine(e,t,i,n)}findMatches(e,t,i,n,o,r,a=uee){this._assertNotDisposed();let l=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(u=>k.isIRange(u))&&(l=t.map(u=>this.validateRange(u)))),l===null&&(l=[this.getFullModelRange()]),l=l.sort((u,h)=>u.startLineNumber-h.startLineNumber||u.startColumn-h.startColumn);const c=[];c.push(l.reduce((u,h)=>k.areIntersecting(u,h)?u.plusRange(h):(c.push(u),h)));let d;if(!i&&e.indexOf(`
`)<0){const h=new Su(e,i,n,o).parseSearchRequest();if(!h)return[];d=g=>this.findMatchesLineByLine(g,h,r,a)}else d=u=>y0.findMatches(this,new Su(e,i,n,o),u,r,a);return c.map(d).reduce((u,h)=>u.concat(h),[])}findNextMatch(e,t,i,n,o,r){this._assertNotDisposed();const a=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){const c=new Su(e,i,n,o).parseSearchRequest();if(!c)return null;const d=this.getLineCount();let u=new k(a.lineNumber,a.column,d,this.getLineMaxColumn(d)),h=this.findMatchesLineByLine(u,c,r,1);return y0.findNextMatch(this,new Su(e,i,n,o),a,r),h.length>0||(u=new k(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),h=this.findMatchesLineByLine(u,c,r,1),h.length>0)?h[0]:null}return y0.findNextMatch(this,new Su(e,i,n,o),a,r)}findPreviousMatch(e,t,i,n,o,r){this._assertNotDisposed();const a=this.validatePosition(t);return y0.findPreviousMatch(this,new Su(e,i,n,o),a,r)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof mL?e:new mL(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i,n){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i,n)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i,n){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const o=t.map(a=>({range:this.validateRange(a.range),text:a.text}));let r=!0;if(e)for(let a=0,l=e.length;a<l;a++){const c=e[a];let d=!1;for(let u=0,h=o.length;u<h;u++){const g=o[u].range,m=g.startLineNumber>c.endLineNumber,p=c.startLineNumber>g.endLineNumber;if(!m&&!p){d=!0;break}}if(!d){r=!1;break}}if(r)for(let a=0,l=this._trimAutoWhitespaceLines.length;a<l;a++){const c=this._trimAutoWhitespaceLines[a],d=this.getLineMaxColumn(c);let u=!0;for(let h=0,g=o.length;h<g;h++){const m=o[h].range,p=o[h].text;if(!(c<m.startLineNumber||c>m.endLineNumber)&&!(c===m.startLineNumber&&m.startColumn===d&&m.isEmpty()&&p&&p.length>0&&p.charAt(0)===`
`)&&!(c===m.startLineNumber&&m.startColumn===1&&m.isEmpty()&&p&&p.length>0&&p.charAt(p.length-1)===`
`)){u=!1;break}}if(u){const h=new k(c,1,c,d);t.push(new mL(null,h,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i,n)}_applyUndo(e,t,i,n){const o=e.map(r=>{const a=this.getPositionAt(r.newPosition),l=this.getPositionAt(r.newEnd);return{range:new k(a.lineNumber,a.column,l.lineNumber,l.column),text:r.oldText}});this._applyUndoRedoEdits(o,t,!0,!1,i,n)}_applyRedo(e,t,i,n){const o=e.map(r=>{const a=this.getPositionAt(r.oldPosition),l=this.getPositionAt(r.oldEnd);return{range:new k(a.lineNumber,a.column,l.lineNumber,l.column),text:r.newText}});this._applyUndoRedoEdits(o,t,!1,!0,i,n)}_applyUndoRedoEdits(e,t,i,n,o,r){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=n,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(r),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),n=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),o=this._buffer.getLineCount(),r=n.changes;if(this._trimAutoWhitespaceLines=n.trimAutoWhitespaceLineNumbers,r.length!==0){for(let c=0,d=r.length;c<d;c++){const u=r[c];this._decorationsTree.acceptReplace(u.rangeOffset,u.rangeLength,u.text.length,u.forceMoveMarkers)}const a=[];this._increaseVersionId();let l=i;for(let c=0,d=r.length;c<d;c++){const u=r[c],[h]=Nd(u.text);this._onDidChangeDecorations.fire();const g=u.range.startLineNumber,m=u.range.endLineNumber,p=m-g,_=h,b=Math.min(p,_),v=_-p,w=o-l-v+g,C=w,S=w+_,x=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new P(C,1)),this.getOffsetAt(new P(S,this.getLineMaxColumn(S))),0),L=ea.fromDecorations(x),I=new rc(L);for(let E=b;E>=0;E--){const W=g+E,U=w+E;I.takeFromEndWhile(O=>O.lineNumber>U);const F=I.takeFromEndWhile(O=>O.lineNumber===U);a.push(new KO(W,this.getLineContent(U),F))}if(b<p){const E=g+b;a.push(new see(E+1,m))}if(b<_){const E=new rc(L),W=g+b,U=_-b,F=o-l-U+W+1,O=[],G=[];for(let X=0;X<U;X++){const fe=F+X;G[X]=this.getLineContent(fe),E.takeWhile(be=>be.lineNumber<fe),O[X]=E.takeWhile(be=>be.lineNumber===fe)}a.push(new ree(W+1,g+_,G,O))}l+=v}this._emitContentChangedEvent(new Nf(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:r,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return n.reverseEdits===null?void 0:n.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;const i=Array.from(e).map(n=>new KO(n,this.getLineContent(n),this._getInjectedTextInLine(n)));this._onDidChangeInjectedText.fire(new B9(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:(o,r)=>this._deltaDecorationsImpl(e,[],[{range:o,options:r}])[0],changeDecoration:(o,r)=>{this._changeDecorationImpl(o,r)},changeDecorationOptions:(o,r)=>{this._changeDecorationOptionsImpl(o,QO(r))},removeDecoration:o=>{this._deltaDecorationsImpl(e,[o],[])},deltaDecorations:(o,r)=>o.length===0&&r.length===0?[]:this._deltaDecorationsImpl(e,o,r)};let n=null;try{n=t(i)}catch(o){He(o)}return i.addDecoration=_p,i.changeDecoration=_p,i.changeDecorationOptions=_p,i.removeDecoration=_p,i.deltaDecorations=_p,n}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),He(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const n=e?this._decorations[e]:null;if(!n)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:ZO[i]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;const o=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),r,a,o),n.setOptions(ZO[i]),this._decorationsTree.insert(n),n.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,n=t.length;i<n;i++){const o=t[i];this._decorationsTree.delete(o),delete this._decorations[o.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,n=!1,o=!1){const r=this.getLineCount(),a=Math.min(r,Math.max(1,e)),l=Math.min(r,Math.max(1,t)),c=this.getLineMaxColumn(l),d=new k(a,1,l,c),u=this._getDecorationsInRange(d,i,n,o);return Zx(u,this._decorationProvider.getDecorationsInRange(d,i,n)),u}getDecorationsInRange(e,t=0,i=!1,n=!1,o=!1){const r=this.validateRange(e),a=this._getDecorationsInRange(r,t,i,o);return Zx(a,this._decorationProvider.getDecorationsInRange(r,t,i,n)),a}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),n=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return ea.fromDecorations(n).filter(o=>o.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,i,n){const o=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),r=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,o,r,t,i,n)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.endLineNumber)}if(i.options.before){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.startLineNumber)}const n=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn),r=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,r,n),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const n=!!(i.options.overviewRuler&&i.options.overviewRuler.color),o=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const r=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber)}if(i.options.before||t.before){const r=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber)}n!==o?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i,n=!1){const o=this.getVersionId(),r=t.length;let a=0;const l=i.length;let c=0;this._onDidChangeDecorations.beginDeferredEmit();try{const d=new Array(l);for(;a<r||c<l;){let u=null;if(a<r){do u=this._decorations[t[a++]];while(!u&&a<r);if(u){if(u.options.after){const h=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.endLineNumber)}if(u.options.before){const h=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.startLineNumber)}this._decorationsTree.delete(u),n||this._onDidChangeDecorations.checkAffectedAndFire(u.options)}}if(c<l){if(!u){const b=++this._lastDecorationId,v=`${this._instanceId};${b}`;u=new R9(v,0,0),this._decorations[v]=u}const h=i[c],g=this._validateRangeRelaxedNoAllocations(h.range),m=QO(h.options),p=this._buffer.getOffsetAt(g.startLineNumber,g.startColumn),_=this._buffer.getOffsetAt(g.endLineNumber,g.endColumn);u.ownerId=e,u.reset(o,p,_,g),u.setOptions(m),u.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(g.endLineNumber),u.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(g.startLineNumber),n||this._onDidChangeDecorations.checkAffectedAndFire(m),this._decorationsTree.insert(u),d[c]=u.id,c++}else u&&delete this._decorations[u.id]}return d}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){typeof e=="string"?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange(()=>this._setLanguage(e.languageId,t)),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return fee(this.getLineContent(e))+1}};nl._MODEL_SYNC_LIMIT=50*1024*1024;nl.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024;nl.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3;nl.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024;nl.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Pn.tabSize,indentSize:Pn.indentSize,insertSpaces:Pn.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Pn.trimAutoWhitespace,largeFileOptimizations:Pn.largeFileOptimizations,bracketPairColorizationOptions:Pn.bracketPairColorizationOptions};nl=yu=lee([PL(4,ly),PL(5,qt),PL(6,Mt)],nl);function fee(s){let e=0;for(const t of s)if(t===" "||t==="	")e++;else break;return e}function OL(s){return!!(s.options.overviewRuler&&s.options.overviewRuler.color)}function FL(s){return!!s.options.after||!!s.options.before}class GO{constructor(){this._decorationsTree0=new AL,this._decorationsTree1=new AL,this._injectedTextDecorationsTree=new AL}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,n,o,r){const a=e.getVersionId(),l=this._intervalSearch(t,i,n,o,a,r);return this._ensureNodesHaveRanges(e,l)}_intervalSearch(e,t,i,n,o,r){const a=this._decorationsTree0.intervalSearch(e,t,i,n,o,r),l=this._decorationsTree1.intervalSearch(e,t,i,n,o,r),c=this._injectedTextDecorationsTree.intervalSearch(e,t,i,n,o,r);return a.concat(l).concat(c)}getInjectedTextInInterval(e,t,i,n){const o=e.getVersionId(),r=this._injectedTextDecorationsTree.intervalSearch(t,i,n,!1,o,!1);return this._ensureNodesHaveRanges(e,r).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){const i=e.getVersionId(),n=this._injectedTextDecorationsTree.search(t,!1,i,!1);return this._ensureNodesHaveRanges(e,n).filter(o=>o.options.showIfCollapsed||!o.range.isEmpty())}getAll(e,t,i,n,o){const r=e.getVersionId(),a=this._search(t,i,n,r,o);return this._ensureNodesHaveRanges(e,a)}_search(e,t,i,n,o){if(i)return this._decorationsTree1.search(e,t,n,o);{const r=this._decorationsTree0.search(e,t,n,o),a=this._decorationsTree1.search(e,t,n,o),l=this._injectedTextDecorationsTree.search(e,t,n,o);return r.concat(a).concat(l)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),n=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(n)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){FL(e)?this._injectedTextDecorationsTree.insert(e):OL(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){FL(e)?this._injectedTextDecorationsTree.delete(e):OL(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){FL(e)?this._injectedTextDecorationsTree.resolveNode(e,t):OL(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,n){this._decorationsTree0.acceptReplace(e,t,i,n),this._decorationsTree1.acceptReplace(e,t,i,n),this._injectedTextDecorationsTree.acceptReplace(e,t,i,n)}}function pl(s){return s.replace(/[^a-z0-9\-_]/gi," ")}class V9{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class mee extends V9{constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:ds.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}}class pee{constructor(e){var t;this.position=(t=e==null?void 0:e.position)!==null&&t!==void 0?t:Cf.Left}}class bee extends V9{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?V.fromHex(e):t.getColor(e.id)}}class Md{static from(e){return e instanceof Md?e:new Md(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}}class Ve{static register(e){return new Ve(e)}static createDynamic(e){return new Ve(e)}constructor(e){var t,i,n,o,r,a;this.description=e.description,this.blockClassName=e.blockClassName?pl(e.blockClassName):null,this.blockDoesNotCollapse=(t=e.blockDoesNotCollapse)!==null&&t!==void 0?t:null,this.blockIsAfterEnd=(i=e.blockIsAfterEnd)!==null&&i!==void 0?i:null,this.blockPadding=(n=e.blockPadding)!==null&&n!==void 0?n:null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?pl(e.className):null,this.shouldFillLineOnLineBreak=(o=e.shouldFillLineOnLineBreak)!==null&&o!==void 0?o:null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new mee(e.overviewRuler):null,this.minimap=e.minimap?new bee(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new pee(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?pl(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?pl(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?pl(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?pl(e.marginClassName):null,this.inlineClassName=e.inlineClassName?pl(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?pl(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?pl(e.afterContentClassName):null,this.after=e.after?Md.from(e.after):null,this.before=e.before?Md.from(e.before):null,this.hideInCommentTokens=(r=e.hideInCommentTokens)!==null&&r!==void 0?r:!1,this.hideInStringTokens=(a=e.hideInStringTokens)!==null&&a!==void 0?a:!1}}Ve.EMPTY=Ve.register({description:"empty"});const ZO=[Ve.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Ve.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Ve.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Ve.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function QO(s){return s instanceof Ve?s:Ve.createDynamic(s)}class _ee extends H{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new M),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(e=this._affectedInjectedTextLines)===null||e===void 0||e.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!!(e.minimap&&e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(e.overviewRuler&&e.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!e.glyphMarginClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}}class vee extends H{constructor(){super(),this._fastEmitter=this._register(new M),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new M),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}class wee{constructor(){this._onDidChangeVisibleRanges=new M,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new Cee(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}}class Cee{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const i=e.map(n=>new it(n.startLineNumber,n.endLineNumber+1));this.handleStateChange({visibleLineRanges:i,stabilized:t})}}class s1{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new cn(new k(1,1,1,1),0,0,new P(1,1),0),new cn(new k(1,1,1,1),0,0,new P(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new ut(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!t.isEmpty()?_e.fromRange(t.collapseToEnd(),this.modelState.selection.getDirection()):_e.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,n){return t.equals(i)?n:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,n=t.selectionStart.getStartPosition(),o=t.selectionStart.getEndPosition(),r=e.normalizePosition(i,2),a=this._validatePositionWithCache(e,n,i,r),l=this._validatePositionWithCache(e,o,n,a);return i.equals(r)&&n.equals(a)&&o.equals(l)?t:new cn(k.fromPositions(a,l),t.selectionStartKind,t.selectionStartLeftoverVisibleColumns+n.column-a.column,r,t.leftoverVisibleColumns+i.column-r.column)}_setState(e,t,i){if(i&&(i=s1._validateViewState(e.viewModel,i)),t){const n=e.model.validateRange(t.selectionStart),o=t.selectionStart.equalsRange(n)?t.selectionStartLeftoverVisibleColumns:0,r=e.model.validatePosition(t.position),a=t.position.equals(r)?t.leftoverVisibleColumns:0;t=new cn(n,t.selectionStartKind,o,r,a)}else{if(!i)return;const n=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new cn(n,i.selectionStartKind,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}if(i){const n=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new cn(n,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{const n=e.coordinatesConverter.convertModelPositionToViewPosition(new P(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),o=e.coordinatesConverter.convertModelPositionToViewPosition(new P(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),r=new k(n.lineNumber,n.column,o.lineNumber,o.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new cn(r,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class YO{constructor(e){this.context=e,this.cursors=[new s1(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return cq(this.cursors,Es(e=>e.viewState.position,P.compare)).viewState.position}getBottomMostViewPosition(){return lq(this.cursors,Es(e=>e.viewState.position,P.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(ut.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,i=e.length;if(t<i){const n=i-t;for(let o=0;o<n;o++)this._addSecondaryCursor()}else if(t>i){const n=t-i;for(let o=0;o<n;o++)this._removeSecondaryCursor(this.cursors.length-2)}for(let n=0;n<i;n++)this.cursors[n+1].setState(this.context,e[n].modelState,e[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new s1(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;const e=this.cursors.slice(0),t=[];for(let i=0,n=e.length;i<n;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(Es(i=>i.selection,k.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const n=t[i],o=t[i+1],r=n.selection,a=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(a.isEmpty()||r.isEmpty()?l=a.getStartPosition().isBeforeOrEqual(r.getEndPosition()):l=a.getStartPosition().isBefore(r.getEndPosition()),l){const c=n.index<o.index?i:i+1,d=n.index<o.index?i+1:i,u=t[d].index,h=t[c].index,g=t[d].selection,m=t[c].selection;if(!g.equalsSelection(m)){const p=g.plusRange(m),_=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn,b=m.selectionStartLineNumber===m.startLineNumber&&m.selectionStartColumn===m.startColumn;let v;u===this.lastAddedCursorIndex?(v=_,this.lastAddedCursorIndex=h):v=b;let w;v?w=new _e(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):w=new _e(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn),t[c].selection=w;const C=ut.fromModelSelection(w);e[h].setState(this.context,C.modelState,C.viewState)}for(const p of t)p.index>u&&p.index--;e.splice(u,1),t.splice(d,1),this._removeSecondaryCursor(u-1),i--}}}}class XO{constructor(e,t,i,n){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=n}}class See{constructor(){this.type=0}}class yee{constructor(){this.type=1}}class kee{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class Lee{constructor(e,t,i){this.selections=e,this.modelSelections=t,this.reason=i,this.type=3}}class wg{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler,this.affectsGlyphMargin=e.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}}class W0{constructor(){this.type=5}}class xee{constructor(e){this.type=6,this.isFocused=e}}class Dee{constructor(){this.type=7}}class V0{constructor(){this.type=8}}class H9{constructor(e,t){this.fromLineNumber=e,this.count=t,this.type=9}}class FI{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class BI{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class Xw{constructor(e,t,i,n,o,r,a){this.source=e,this.minimalReveal=t,this.range=i,this.selections=n,this.verticalType=o,this.revealHorizontal=r,this.scrollType=a,this.type=12}}class Iee{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class Tee{constructor(e){this.theme=e,this.type=14}}class Eee{constructor(e){this.type=15,this.ranges=e}}class Nee{constructor(){this.type=16}}let Aee=class{constructor(){this.type=17}};class Ree extends H{constructor(){super(),this._onEvent=this._register(new M),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++){const n=this._outgoingEvents[t].kind===e.kind?this._outgoingEvents[t].attemptToMerge(e):null;if(n){this._outgoingEvents[t]=n;return}}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Mee),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class Mee{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class _R{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new _R(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class vR{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new vR(this.oldHasFocus,e.hasFocus)}}class wR{constructor(e,t,i,n,o,r,a,l){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=o,this.scrollLeft=r,this.scrollHeight=a,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new wR(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class Pee{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Oee{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class r1{constructor(e,t,i,n,o,r,a){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=o,this.reason=r,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length,n=t.length;if(i!==n)return!1;for(let o=0;o<i;o++)if(!e[o].equalsSelection(t[o]))return!1;return!0}isNoOp(){return r1._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new r1(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class Fee{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Bee{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class Wee{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class Vee{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class Hee{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class zee{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class Uee{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class $ee extends H{constructor(e,t,i,n){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new XO(this._model,this._viewModel,this._coordinatesConverter,n),this._cursors=new YO(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=St(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new XO(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,n){let o=!1;const r=this.context.cursorConfig.multiCursorLimit;n!==null&&n.length>r&&(n=n.slice(0,r),o=!0);const a=wb.from(this._model,this);return this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,a,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,n,o,r){const a=this._cursors.getViewPositions();let l=null,c=null;a.length>1?c=this._cursors.getViewSelections():l=k.fromPositions(a[0],a[0]),e.emitViewEvent(new Xw(t,i,l,c,n,o,r))}saveState(){const e=[],t=this._cursors.getSelections();for(let i=0,n=t.length;i<n;i++){const o=t[i];e.push({inSelectionMode:!o.isEmpty(),selectionStart:{lineNumber:o.selectionStartLineNumber,column:o.selectionStartColumn},position:{lineNumber:o.positionLineNumber,column:o.positionColumn}})}return e}restoreState(e,t){const i=[];for(let n=0,o=t.length;n<o;n++){const r=t[n];let a=1,l=1;r.position&&r.position.lineNumber&&(a=r.position.lineNumber),r.position&&r.position.column&&(l=r.position.column);let c=a,d=l;r.selectionStart&&r.selectionStart.lineNumber&&(c=r.selectionStart.lineNumber),r.selectionStart&&r.selectionStart.column&&(d=r.selectionStart.column),i.push({selectionStartLineNumber:c,selectionStartColumn:d,positionLineNumber:a,positionColumn:l})}this.setStates(e,"restoreState",0,ut.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof B9){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const i=t.rawContentChangedEvent;if(this._knownModelVersionId=i.versionId,this._isHandling)return;const n=i.containsEvent(1);if(this._prevEditOperationType=0,n)this._cursors.dispose(),this._cursors=new YO(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&i.resultingSelection&&i.resultingSelection.length>0){const o=ut.fromModelSelections(i.resultingSelection);this.setStates(e,"modelChange",i.isUndoing?5:i.isRedoing?6:2,o)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{const o=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,ut.fromModelSelections(o))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,n){this.setStates(e,t,n,ut.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){const i=[],n=[];for(let a=0,l=e.length;a<l;a++)i.push({range:e[a],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),n.push({range:t[a],options:{description:"auto-closed-enclosing",stickiness:1}});const o=this._model.deltaDecorations([],i),r=this._model.deltaDecorations([],n);this._autoClosedActions.push(new JO(this._model,o,r))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=jee.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);const i=[],n=[];for(let o=0;o<e.commands.length;o++){const r=e.commands[o];r instanceof d9&&r.enclosingRange&&r.closeCharacterRange&&(i.push(r.closeCharacterRange),n.push(r.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,n),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,n,o){const r=wb.from(this._model,this);if(r.equals(n))return!1;const a=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new Lee(l,a,i)),!n||n.cursorState.length!==r.cursorState.length||r.cursorState.some((c,d)=>!c.modelState.equals(n.cursorState[d].modelState))){const c=n?n.cursorState.map(u=>u.modelState.selection):null,d=n?n.modelVersionId:0;e.emitOutgoingEvent(new r1(c,a,d,r.modelVersionId,t||"keyboard",i,o))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const t=[];for(let i=0,n=e.length;i<n;i++){const o=e[i];if(!o.text||o.text.indexOf(`
`)>=0)return null;const r=o.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!r)return null;const a=r[1],l=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a);if(!l||l.length!==1)return null;const c=l[0].open,d=o.text.length-r[2].length-1,u=o.text.lastIndexOf(c,d-1);if(u===-1)return null;t.push([u,d])}return t}executeEdits(e,t,i,n){let o=null;t==="snippet"&&(o=this._findAutoClosingPairs(i)),o&&(i[0]._isTracked=!0);const r=[],a=[],l=this._model.pushEditOperations(this.getSelections(),i,c=>{if(o)for(let u=0,h=o.length;u<h;u++){const[g,m]=o[u],p=c[u],_=p.range.startLineNumber,b=p.range.startColumn-1+g,v=p.range.startColumn-1+m;r.push(new k(_,v+1,_,v+2)),a.push(new k(_,b+1,_,v+2))}const d=n(c);return d&&(this._isHandling=!0),d});l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),r.length>0&&this._pushAutoClosedAction(r,a)}_executeEdit(e,t,i,n=0){if(this.context.cursorConfig.readOnly)return;const o=wb.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(r){He(r)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,n,o,!1)&&this.revealPrimary(t,i,!1,0,!0,0)}getAutoClosedCharacters(){return JO.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new Cb(this._model,this.getSelections())}endComposition(e,t){const i=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{t==="keyboard"&&this._executeEditOperation(Yt.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,i,this.getSelections(),this.getAutoClosedCharacters()))},e,t)}type(e,t,i){this._executeEdit(()=>{if(i==="keyboard"){const n=t.length;let o=0;for(;o<n;){const r=yA(t,o),a=t.substr(o,r);this._executeEditOperation(Yt.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),a)),o+=r}}else this._executeEditOperation(Yt.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,n,o,r){if(t.length===0&&i===0&&n===0){if(o!==0){const a=this.getSelections().map(l=>{const c=l.getPosition();return new _e(c.lineNumber,c.column+o,c.lineNumber,c.column+o)});this.setSelections(e,r,a,0)}return}this._executeEdit(()=>{this._executeEditOperation(Yt.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,n,o))},e,r)}paste(e,t,i,n,o){this._executeEdit(()=>{this._executeEditOperation(Yt.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,n||[]))},e,o,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(_h.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new mo(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new mo(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}}class wb{static from(e,t){return new wb(e.getVersionId(),t.getCursorStates())}constructor(e,t){this.modelVersionId=e,this.cursorState=t}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class JO{static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){const t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const n=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(n&&(t.push(n),n.startLineNumber!==n.endLineNumber))return!1}t.sort(k.compareRangesUsingStarts),e.sort(k.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}}class jee{static executeCommands(e,t,i){const n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(n,i);for(let r=0,a=n.trackedRanges.length;r<a;r++)n.model._setTrackedRange(n.trackedRanges[r],null,0);return o}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(i.operations.length===0)return null;const n=i.operations,o=this._getLoserCursorMap(n);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const r=[];for(let c=0,d=n.length;c<d;c++)o.hasOwnProperty(n[c].identifier.major.toString())||r.push(n[c]);i.hadTrackedEditOperation&&r.length>0&&(r[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,r,c=>{const d=[];for(let g=0;g<e.selectionsBefore.length;g++)d[g]=[];for(const g of c)g.identifier&&d[g.identifier.major].push(g);const u=(g,m)=>g.identifier.minor-m.identifier.minor,h=[];for(let g=0;g<e.selectionsBefore.length;g++)d[g].length>0?(d[g].sort(u),h[g]=t[g].computeCursorState(e.model,{getInverseEditOperations:()=>d[g],getTrackedSelection:m=>{const p=parseInt(m,10),_=e.model._getTrackedRange(e.trackedRanges[p]);return e.trackedRangesDirection[p]===0?new _e(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn):new _e(_.endLineNumber,_.endColumn,_.startLineNumber,_.startColumn)}})):h[g]=e.selectionsBefore[g];return h});a||(a=e.selectionsBefore);const l=[];for(const c in o)o.hasOwnProperty(c)&&l.push(parseInt(c,10));l.sort((c,d)=>d-c);for(const c of l)a.splice(c,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let o=0,r=t.length;o<r;o++){const a=t[o];if(a){const l=this._getEditOperationsFromCommand(e,o,a);i=i.concat(l.operations),n=n||l.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){const n=[];let o=0;const r=(u,h,g=!1)=>{k.isEmpty(u)&&h===""||n.push({identifier:{major:t,minor:o++},range:u,text:h,forceMoveMarkers:g,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let a=!1;const d={addEditOperation:r,addTrackedEditOperation:(u,h,g)=>{a=!0,r(u,h,g)},trackSelection:(u,h)=>{const g=_e.liftSelection(u);let m;if(g.isEmpty())if(typeof h=="boolean")h?m=2:m=3;else{const b=e.model.getLineMaxColumn(g.startLineNumber);g.startColumn===b?m=2:m=3}else m=1;const p=e.trackedRanges.length,_=e.model._setTrackedRange(null,g,m);return e.trackedRanges[p]=_,e.trackedRangesDirection[p]=g.getDirection(),p.toString()}};try{i.getEditOperations(e.model,d)}catch(u){return He(u),{operations:[],hadTrackedEditOperation:!1}}return{operations:n,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((i,n)=>-k.compareRangesUsingEnds(i.range,n.range));const t={};for(let i=1;i<e.length;i++){const n=e[i-1],o=e[i];if(k.getStartPosition(n.range).isBefore(k.getEndPosition(o.range))){let r;n.identifier.major>o.identifier.major?r=n.identifier.major:r=o.identifier.major,t[r.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===r&&(e.splice(a,1),a<i&&i--,a--);i>0&&i--}}return t}}class Kee{constructor(e,t,i){this.text=e,this.startSelection=t,this.endSelection=i}}class Cb{static _capture(e,t){const i=[];for(const n of t){if(n.startLineNumber!==n.endLineNumber)return null;i.push(new Kee(e.getLineContent(n.startLineNumber),n.startColumn-1,n.endColumn-1))}return i}constructor(e,t){this._original=Cb._capture(e,t)}deduceOutcome(e,t){if(!this._original)return null;const i=Cb._capture(e,t);if(!i||this._original.length!==i.length)return null;const n=[];for(let o=0,r=this._original.length;o<r;o++)n.push(Cb._deduceOutcome(this._original[o],i[o]));return n}static _deduceOutcome(e,t){const i=Math.min(e.startSelection,t.startSelection,hh(e.text,t.text)),n=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,TC(e.text,t.text)),o=e.text.substring(i,e.text.length-n),r=t.text.substring(i,t.text.length-n);return new QY(o,e.startSelection-i,e.endSelection-i,r,t.startSelection-i,t.endSelection-i)}}var qee=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const eF={getInitialState:()=>Jf,tokenizeEncoded:(s,e,t)=>ZS(0,t)};function Gee(s,e,t){return qee(this,void 0,void 0,function*(){if(!t)return tF(e,s.languageIdCodec,eF);const i=yield ei.getOrCreate(t);return tF(e,s.languageIdCodec,i||eF)})}function Zee(s,e,t,i,n,o,r){let a="<div>",l=i,c=0,d=!0;for(let u=0,h=e.getCount();u<h;u++){const g=e.getEndOffset(u);if(g<=i)continue;let m="";for(;l<g&&l<n;l++){const p=s.charCodeAt(l);switch(p){case 9:{let _=o-(l+c)%o;for(c+=_-1;_>0;)r&&d?(m+="&#160;",d=!1):(m+=" ",d=!0),_--;break}case 60:m+="&lt;",d=!1;break;case 62:m+="&gt;",d=!1;break;case 38:m+="&amp;",d=!1;break;case 0:m+="&#00;",d=!1;break;case 65279:case 8232:case 8233:case 133:m+="�",d=!1;break;case 13:m+="&#8203",d=!1;break;case 32:r&&d?(m+="&#160;",d=!1):(m+=" ",d=!0);break;default:m+=String.fromCharCode(p),d=!1}}if(a+=`<span style="${e.getInlineStyle(u,t)}">${m}</span>`,g>n||l>=n)break}return a+="</div>",a}function tF(s,e,t){let i='<div class="monaco-tokenized-source">';const n=Xa(s);let o=t.getInitialState();for(let r=0,a=n.length;r<a;r++){const l=n[r];r>0&&(i+="<br/>");const c=t.tokenizeEncoded(l,!0,o);ji.convertToEndOffset(c.tokens,l.length);const u=new ji(c.tokens,l,e).inflate();let h=0;for(let g=0,m=u.getCount();g<m;g++){const p=u.getClassName(g),_=u.getEndOffset(g);i+=`<span class="${p}">${IC(l.substring(h,_))}</span>`,h=_}o=c.endState}return i+="</div>",i}class Qee{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,n=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n)}}class Yee{constructor(e,t,i,n,o){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=o,this.prefixSum=0}}let z9=class WI{constructor(e,t,i,n){this._instanceId=kW(++WI.INSTANCE_COUNT),this._pendingChanges=new Qee,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=n}static findInsertionIndex(e,t,i){let n=0,o=e.length;for(;n<o;){const r=n+o>>>1;t===e[r].afterLineNumber?i<e[r].ordinal?o=r:n=r+1:t<e[r].afterLineNumber?o=r:n=r+1}return n}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(n,o,r,a)=>{t=!0,n=n|0,o=o|0,r=r|0,a=a|0;const l=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Yee(l,n,o,r,a)),l},changeOneWhitespace:(n,o,r)=>{t=!0,o=o|0,r=r|0,this._pendingChanges.change({id:n,newAfterLineNumber:o,newHeight:r})},removeWhitespace:n=>{t=!0,this._pendingChanges.remove({id:n})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const l of e)this._insertWhitespace(l);for(const l of t)this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight);for(const l of i){const c=this._findWhitespaceIndex(l.id);c!==-1&&this._removeWhitespace(c)}return}const n=new Set;for(const l of i)n.add(l.id);const o=new Map;for(const l of t)o.set(l.id,l);const r=l=>{const c=[];for(const d of l)if(!n.has(d.id)){if(o.has(d.id)){const u=o.get(d.id);d.afterLineNumber=u.newAfterLineNumber,d.height=u.newHeight}c.push(d)}return c},a=r(this._arr).concat(r(e));a.sort((l,c)=>l.afterLineNumber===c.afterLineNumber?l.ordinal-c.ordinal:l.afterLineNumber-c.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=WI.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const n=this._findWhitespaceIndex(e);if(n!==-1&&(this._arr[n].height!==i&&(this._arr[n].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)),this._arr[n].afterLineNumber!==t)){const o=this._arr[n];this._removeWhitespace(n),o.afterLineNumber=t,this._insertWhitespace(o)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount-=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){const o=this._arr[i].afterLineNumber;e<=o&&o<=t?this._arr[i].afterLineNumber=e-1:o>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount+=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){const o=this._arr[i].afterLineNumber;e<=o&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const t=this._arr;let i=0,n=t.length-1;for(;i<=n;){const r=(n-i|0)/2|0,a=i+r|0;if(t[a].afterLineNumber<e){if(a+1>=t.length||t[a+1].afterLineNumber>=e)return a;i=a+1|0}else n=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const i=this._findLastWhitespaceBeforeLineNumber(e)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;let i;e>1?i=this._lineHeight*(e-1):i=0;const n=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(t?1:0));return i+n+this._paddingTop}getVerticalOffsetAfterLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;const i=this._lineHeight*e,n=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(t?1:0));return i+n+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const t=this._lineCount|0,i=this._lineHeight;let n=1,o=t;for(;n<o;){const r=(n+o)/2|0,a=this.getVerticalOffsetForLineNumber(r)|0;if(e>=a+i)n=r+1;else{if(e>=a)return r;o=r}}return n>t?t:n}getLinesViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this._lineHeight,n=this.getLineNumberAtOrAfterVerticalOffset(e)|0,o=this.getVerticalOffsetForLineNumber(n)|0;let r=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(n)|0;const l=this.getWhitespacesCount()|0;let c,d;a===-1?(a=l,d=r+1,c=0):(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);let u=o,h=u;const g=5e5;let m=0;o>=g&&(m=Math.floor(o/g)*g,m=Math.floor(m/i)*i,h-=m);const p=[],_=e+(t-e)/2;let b=-1;for(let S=n;S<=r;S++){if(b===-1){const x=u,L=u+i;(x<=_&&_<L||x>_)&&(b=S)}for(u+=i,p[S-n]=h,h+=i;d===S;)h+=c,u+=c,a++,a>=l?d=r+1:(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);if(u>=t){r=S;break}}b===-1&&(b=r);const v=this.getVerticalOffsetForLineNumber(r)|0;let w=n,C=r;return w<C&&o<e&&w++,w<C&&v+i>t&&C--,{bigNumbersDelta:m,startLineNumber:n,endLineNumber:r,relativeVerticalOffset:p,centeredLineNumber:b,completelyVisibleStartLineNumber:w,completelyVisibleEndLineNumber:C}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i;t>=1?i=this._lineHeight*t:i=0;let n;return e>0?n=this.getWhitespacesAccumulatedHeight(e-1):n=0,i+n+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const n=this.getVerticalOffsetForWhitespaceIndex(i),o=this.getHeightForWhitespaceIndex(i);if(e>=n+o)return-1;for(;t<i;){const r=Math.floor((t+i)/2),a=this.getVerticalOffsetForWhitespaceIndex(r),l=this.getHeightForWhitespaceIndex(r);if(e>=a+l)t=r+1;else{if(e>=a)return r;i=r}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const n=this.getHeightForWhitespaceIndex(t),o=this.getIdForWhitespaceIndex(t),r=this.getAfterLineNumberForWhitespaceIndex(t);return{id:o,afterLineNumber:r,verticalOffset:i,height:n}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),n=this.getWhitespacesCount()-1;if(i<0)return[];const o=[];for(let r=i;r<=n;r++){const a=this.getVerticalOffsetForWhitespaceIndex(r),l=this.getHeightForWhitespaceIndex(r);if(a>=t)break;o.push({id:this.getIdForWhitespaceIndex(r),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(r),verticalOffset:a,height:l})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}};z9.INSTANCE_COUNT=0;const Xee=125;class Zp{constructor(e,t,i,n){e=e|0,t=t|0,i=i|0,n=n|0,e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),n<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class Jee extends H{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new M),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Zp(0,0,0,0),this._scrollable=this._register(new Nv({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight;(i||n)&&this._onDidContentSizeChange.fire(new _R(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class ete extends H{constructor(e,t,i){super(),this._configuration=e;const n=this._configuration.options,o=n.get(143),r=n.get(83);this._linesLayout=new z9(t,n.get(66),r.top,r.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new Jee(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Zp(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(113)?Xee:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(66)&&this._linesLayout.setLineHeight(t.get(66)),e.hasChanged(83)){const i=t.get(83);this._linesLayout.setPadding(i.top,i.bottom)}if(e.hasChanged(143)){const i=t.get(143),n=i.contentWidth,o=i.height,r=this._scrollable.getScrollDimensions(),a=r.contentWidth;this._scrollable.setScrollDimensions(new Zp(n,r.contentWidth,o,this._getContentHeight(n,o,a)))}else this._updateHeight();e.hasChanged(113)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const n=this._configuration.options.get(102);return n.horizontal===2||e>=t?0:n.horizontalScrollbarSize}_getContentHeight(e,t,i){const n=this._configuration.options;let o=this._linesLayout.getLinesTotalHeight();return n.get(104)?o+=Math.max(0,t-n.get(66)-n.get(83).bottom):o+=this._getHorizontalScrollbarHeight(e,i),o}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new Zp(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new G2(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new G2(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(){const e=this._configuration.options,t=this._maxLineWidth,i=e.get(144),n=e.get(50),o=e.get(143);if(i.isViewportWrapping){const r=e.get(72);return t>o.contentWidth+n.typicalHalfwidthCharacterWidth&&r.enabled&&r.side==="right"?t+o.verticalScrollbarWidth:t}else{const r=e.get(103)*n.typicalHalfwidthCharacterWidth,a=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+r+o.verticalScrollbarWidth,a,this._overlayWidgetsMinWidth)}}setMaxLineWidth(e){this._maxLineWidth=e,this._updateContentWidth()}setOverlayWidgetsMinWidth(e){this._overlayWidgetsMinWidth=e,this._updateContentWidth()}_updateContentWidth(){const e=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Zp(e.width,this._computeContentWidth(),e.height,e.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),n=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-n,scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,t)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){t===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class tte{constructor(e,t,i,n,o){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const n=e.range,o=e.options;let r;if(o.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new P(n.startLineNumber,1),0,!1,!0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new P(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);r=new k(a.lineNumber,a.column,l.lineNumber,l.column)}else r=this._coordinatesConverter.convertModelRangeToViewRange(n,1);i=new E3(r,o),this._decorationsCache[t]=i}return i}getMinimapDecorationsInRange(e){return this._getDecorationsInRange(e,!0,!1).decorations}getDecorationsViewportData(e){let t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(e,!1,!1),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(e,t=!1,i=!1){const n=new k(e,this._linesCollection.getViewLineMinColumn(e),e,this._linesCollection.getViewLineMaxColumn(e));return this._getDecorationsInRange(n,t,i).inlineDecorations[0]}_getDecorationsInRange(e,t,i){const n=this._linesCollection.getDecorationsInRange(e,this.editorId,CC(this.configuration.options),t,i),o=e.startLineNumber,r=e.endLineNumber,a=[];let l=0;const c=[];for(let d=o;d<=r;d++)c[d-o]=[];for(let d=0,u=n.length;d<u;d++){const h=n[d],g=h.options;if(!CR(this.model,h))continue;const m=this._getOrCreateViewModelDecoration(h),p=m.range;if(a[l++]=m,g.inlineClassName){const _=new cb(p,g.inlineClassName,g.inlineClassNameAffectsLetterSpacing?3:0),b=Math.max(o,p.startLineNumber),v=Math.min(r,p.endLineNumber);for(let w=b;w<=v;w++)c[w-o].push(_)}if(g.beforeContentClassName&&o<=p.startLineNumber&&p.startLineNumber<=r){const _=new cb(new k(p.startLineNumber,p.startColumn,p.startLineNumber,p.startColumn),g.beforeContentClassName,1);c[p.startLineNumber-o].push(_)}if(g.afterContentClassName&&o<=p.endLineNumber&&p.endLineNumber<=r){const _=new cb(new k(p.endLineNumber,p.endColumn,p.endLineNumber,p.endColumn),g.afterContentClassName,2);c[p.endLineNumber-o].push(_)}}return{decorations:a,inlineDecorations:c}}}function CR(s,e){return!(e.options.hideInCommentTokens&&SR(s,e)||e.options.hideInStringTokens&&yR(s,e))}function SR(s,e){return U9(s,e.range,t=>t===1)}function yR(s,e){return U9(s,e.range,t=>t===2)}function U9(s,e,t){for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const n=s.tokenization.getLineTokens(i),o=i===e.startLineNumber,r=i===e.endLineNumber;let a=o?n.findTokenIndexAtOffset(e.startColumn-1):0;for(;a<n.getCount()&&!(r&&n.getStartOffset(a)>e.endColumn-1);){if(!t(n.getStandardTokenType(a)))return!1;a++}}return!0}function BL(s,e){return s===null?e?a1.INSTANCE:l1.INSTANCE:new ite(s,e)}class ite{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,i){this._assertVisible();const n=i>0?this._projectionData.breakOffsets[i-1]:0,o=this._projectionData.breakOffsets[i];let r;if(this._projectionData.injectionOffsets!==null){const a=this._projectionData.injectionOffsets.map((c,d)=>new ea(0,0,c+1,this._projectionData.injectionOptions[d],0));r=ea.applyInjectedText(e.getLineContent(t),a).substring(n,o)}else r=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});return i>0&&(r=iF(this._projectionData.wrappedTextIndentLength)+r),r}getViewLineLength(e,t,i){return this._assertVisible(),this._projectionData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this._assertVisible(),this._projectionData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this._assertVisible(),this._projectionData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){const n=new Array;return this.getViewLinesData(e,t,i,1,0,[!0],n),n[0]}getViewLinesData(e,t,i,n,o,r,a){this._assertVisible();const l=this._projectionData,c=l.injectionOffsets,d=l.injectionOptions;let u=null;if(c){u=[];let g=0,m=0;for(let p=0;p<l.getOutputLineCount();p++){const _=new Array;u[p]=_;const b=p>0?l.breakOffsets[p-1]:0,v=l.breakOffsets[p];for(;m<c.length;){const w=d[m].content.length,C=c[m]+g,S=C+w;if(C>v)break;if(b<S){const x=d[m];if(x.inlineClassName){const L=p>0?l.wrappedTextIndentLength:0,I=L+Math.max(C-b,0),E=L+Math.min(S-b,v-b);I!==E&&_.push(new lG(I,E,x.inlineClassName,x.inlineClassNameAffectsLetterSpacing))}}if(S<=v)g+=w,m++;else break}}}let h;c?h=e.tokenization.getLineTokens(t).withInserted(c.map((g,m)=>({offset:g,text:d[m].content,tokenMetadata:ji.defaultTokenMetadata}))):h=e.tokenization.getLineTokens(t);for(let g=i;g<i+n;g++){const m=o+g-i;if(!r[m]){a[m]=null;continue}a[m]=this._getViewLineData(h,u?u[g]:null,g)}}_getViewLineData(e,t,i){this._assertVisible();const n=this._projectionData,o=i>0?n.wrappedTextIndentLength:0,r=i>0?n.breakOffsets[i-1]:0,a=n.breakOffsets[i],l=e.sliceAndInflate(r,a,o);let c=l.getLineContent();i>0&&(c=iF(n.wrappedTextIndentLength)+c);const d=this._projectionData.getMinOutputOffset(i)+1,u=c.length+1,h=i+1<this.getViewLineCount(),g=i===0?0:n.breakOffsetsVisibleColumn[i-1];return new $A(c,h,d,u,g,l,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,i=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this._assertVisible();const i=this._projectionData.translateToOutputPosition(t-1);return e+i.outputLineIndex}normalizePosition(e,t,i){const n=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,i).toPosition(n)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class a1{constructor(){}isVisible(){return!0}setVisible(e){return e?this:l1.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){const n=e.tokenization.getLineTokens(t),o=n.getLineContent();return new $A(o,!1,1,o.length+1,0,n.inflate(),null)}getViewLinesData(e,t,i,n,o,r,a){if(!r[o]){a[o]=null;return}a[o]=this.getViewLineData(e,t,0)}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new P(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}}a1.INSTANCE=new a1;class l1{constructor(){}isVisible(){return!1}setVisible(e){return e?a1.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,o,r,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}l1.INSTANCE=new l1;const WL=[""];function iF(s){if(s>=WL.length)for(let e=1;e<=s;e++)WL[e]=nte(e);return WL[s]}function nte(s){return new Array(s+1).join(" ")}class ote{constructor(e,t,i,n,o,r,a,l,c,d){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=o,this.tabSize=r,this.wrappingStrategy=a,this.wrappingColumn=l,this.wrappingIndent=c,this.wordBreak=d,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new rte(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const i=this.model.getLinesContent(),n=this.model.getInjectedTextDecorations(this._editorId),o=i.length,r=this.createLineBreaksComputer(),a=new rc(ea.fromDecorations(n));for(let p=0;p<o;p++){const _=a.takeWhile(b=>b.lineNumber===p+1);r.addRequest(i[p],_,t?t[p]:null)}const l=r.finalize(),c=[],d=this.hiddenAreasDecorationIds.map(p=>this.model.getDecorationRange(p)).sort(k.compareRangesUsingStarts);let u=1,h=0,g=-1,m=g+1<d.length?h+1:o+2;for(let p=0;p<o;p++){const _=p+1;_===m&&(g++,u=d[g].startLineNumber,h=d[g].endLineNumber,m=g+1<d.length?h+1:o+2);const b=_>=u&&_<=h,v=BL(l[p],!b);c[p]=v.getViewLineCount(),this.modelLineProjections[p]=v}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new zK(c)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const t=e.map(h=>this.model.validateRange(h)),i=ste(t),n=this.hiddenAreasDecorationIds.map(h=>this.model.getDecorationRange(h)).sort(k.compareRangesUsingStarts);if(i.length===n.length){let h=!1;for(let g=0;g<i.length;g++)if(!i[g].equalsRange(n[g])){h=!0;break}if(!h)return!1}const o=i.map(h=>({range:h,options:Ve.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,o);const r=i;let a=1,l=0,c=-1,d=c+1<r.length?l+1:this.modelLineProjections.length+2,u=!1;for(let h=0;h<this.modelLineProjections.length;h++){const g=h+1;g===d&&(c++,a=r[c].startLineNumber,l=r[c].endLineNumber,d=c+1<r.length?l+1:this.modelLineProjections.length+2);let m=!1;if(g>=a&&g<=l?this.modelLineProjections[h].isVisible()&&(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!1),m=!0):(u=!0,this.modelLineProjections[h].isVisible()||(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!0),m=!0)),m){const p=this.modelLineProjections[h].getViewLineCount();this.projectedModelLineLineCounts.setValue(h,p)}}return u||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n,o){const r=this.fontInfo.equals(e),a=this.wrappingStrategy===t,l=this.wrappingColumn===i,c=this.wrappingIndent===n,d=this.wordBreak===o;if(r&&a&&l&&c&&d)return!1;const u=r&&a&&!l&&c&&d;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n,this.wordBreak=o;let h=null;if(u){h=[];for(let g=0,m=this.modelLineProjections.length;g<m;g++)h[g]=this.modelLineProjections[g].getProjectionData()}return this._constructLines(!1,h),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;const n=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,o=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new FI(n,o)}onModelLinesInserted(e,t,i,n){if(!e||e<=this._validModelVersionId)return null;const o=t>2&&!this.modelLineProjections[t-2].isVisible(),r=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1;let a=0;const l=[],c=[];for(let d=0,u=n.length;d<u;d++){const h=BL(n[d],!o);l.push(h);const g=h.getViewLineCount();a+=g,c[d]=g}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(l).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,c),new BI(r,r+a-1)}onModelLineChanged(e,t,i){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];const n=t-1,o=this.modelLineProjections[n].getViewLineCount(),r=this.modelLineProjections[n].isVisible(),a=BL(i,r);this.modelLineProjections[n]=a;const l=this.modelLineProjections[n].getViewLineCount();let c=!1,d=0,u=-1,h=0,g=-1,m=0,p=-1;o>l?(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,u=d+l-1,m=u+1,p=m+(o-l)-1,c=!0):o<l?(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,u=d+o-1,h=u+1,g=h+(l-o)-1,c=!0):(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,u=d+l-1),this.projectedModelLineLineCounts.setValue(n,l);const _=d<=u?new H9(d,u-d+1):null,b=h<=g?new BI(h,g):null,v=m<=p?new FI(m,p):null;return[c,_,b,v]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:e|0}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),r=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),a=this.model.guides.getActiveIndentGuide(n.lineNumber,o.lineNumber,r.lineNumber),l=this.convertModelPositionToViewPosition(a.startLineNumber,1),c=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:l.lineNumber,endLineNumber:c.lineNumber,indent:a.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const t=this.projectedModelLineLineCounts.getIndexOf(e-1),i=t.index,n=t.remainder;return new nF(i+1,n)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new P(e.modelLineNumber,n)}getModelEndPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new P(e.modelLineNumber,n)}getViewLineInfosGroupedByModelRanges(e,t){const i=this.getViewLineInfo(e),n=this.getViewLineInfo(t),o=new Array;let r=this.getModelStartPositionOfViewLine(i),a=new Array;for(let l=i.modelLineNumber;l<=n.modelLineNumber;l++){const c=this.modelLineProjections[l-1];if(c.isVisible()){const d=l===i.modelLineNumber?i.modelLineWrappedLineIdx:0,u=l===n.modelLineNumber?n.modelLineWrappedLineIdx+1:c.getViewLineCount();for(let h=d;h<u;h++)a.push(new nF(l,h))}if(!c.isVisible()&&r){const d=new P(l-1,this.model.getLineMaxColumn(l-1)+1),u=k.fromPositions(r,d);o.push(new oF(u,a)),a=[],r=null}else c.isVisible()&&!r&&(r=new P(l,1))}if(r){const l=k.fromPositions(r,this.getModelEndPositionOfViewLine(n));o.push(new oF(l,a))}return o}getViewLinesBracketGuides(e,t,i,n){const o=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,r=[];for(const a of this.getViewLineInfosGroupedByModelRanges(e,t)){const l=a.modelRange.startLineNumber,c=this.model.guides.getLinesBracketGuides(l,a.modelRange.endLineNumber,o,n);for(const d of a.viewLines){const h=c[d.modelLineNumber-l].map(g=>{if(g.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,g.forWrappedLinesAfterColumn).lineNumber>=d.modelLineWrappedLineIdx||g.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,g.forWrappedLinesBeforeOrAtColumn).lineNumber<d.modelLineWrappedLineIdx)return;if(!g.horizontalLine)return g;let m=-1;if(g.column!==-1){const b=this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,g.column);if(b.lineNumber===d.modelLineWrappedLineIdx)m=b.column;else if(b.lineNumber<d.modelLineWrappedLineIdx)m=this.getMinColumnOfViewLine(d);else if(b.lineNumber>d.modelLineWrappedLineIdx)return}const p=this.convertModelPositionToViewPosition(d.modelLineNumber,g.horizontalLine.endColumn),_=this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,g.horizontalLine.endColumn);return _.lineNumber===d.modelLineWrappedLineIdx?new qu(g.visibleColumn,m,g.className,new gb(g.horizontalLine.top,p.column),-1,-1):_.lineNumber<d.modelLineWrappedLineIdx||g.visibleColumn!==-1?void 0:new qu(g.visibleColumn,m,g.className,new gb(g.horizontalLine.top,this.getMaxColumnOfViewLine(d)),-1,-1)});r.push(h.filter(g=>!!g))}}return r}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let o=[];const r=[],a=[],l=i.lineNumber-1,c=n.lineNumber-1;let d=null;for(let m=l;m<=c;m++){const p=this.modelLineProjections[m];if(p.isVisible()){const _=p.getViewLineNumberOfModelPosition(0,m===l?i.column:1),b=p.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(m+1)),v=b-_+1;let w=0;v>1&&p.getViewLineMinColumn(this.model,m+1,b)===1&&(w=_===0?1:2),r.push(v),a.push(w),d===null&&(d=new P(m+1,0))}else d!==null&&(o=o.concat(this.model.guides.getLinesIndentGuides(d.lineNumber,m)),d=null)}d!==null&&(o=o.concat(this.model.guides.getLinesIndentGuides(d.lineNumber,n.lineNumber)),d=null);const u=t-e+1,h=new Array(u);let g=0;for(let m=0,p=o.length;m<p;m++){let _=o[m];const b=Math.min(u-g,r[m]),v=a[m];let w;v===2?w=0:v===1?w=1:w=b;for(let C=0;C<b;C++)C===w&&(_=0),h[g++]=_}return h}getViewLineContent(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const n=this.projectedModelLineLineCounts.getIndexOf(e-1);let o=e;const r=n.index,a=n.remainder,l=[];for(let c=r,d=this.model.getLineCount();c<d;c++){const u=this.modelLineProjections[c];if(!u.isVisible())continue;const h=c===r?a:0;let g=u.getViewLineCount()-h,m=!1;if(o+g>t&&(m=!0,g=t-o+1),u.getViewLinesData(this.model,c+1,h,g,o-e,i,l),o+=g,m)break}return l}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);const n=this.projectedModelLineLineCounts.getIndexOf(e-1),o=n.index,r=n.remainder,a=this.modelLineProjections[o],l=a.getViewLineMinColumn(this.model,o+1,r),c=a.getViewLineMaxColumn(this.model,o+1,r);t<l&&(t=l),t>c&&(t=c);const d=a.getModelColumnOfViewPosition(r,t);return this.model.validatePosition(new P(o+1,d)).equals(i)?new P(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new k(i.lineNumber,i.column,n.lineNumber,n.column)}convertViewPositionToModelPosition(e,t){const i=this.getViewLineInfo(e),n=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new P(i.modelLineNumber,n))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new k(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2,n=!1,o=!1){const r=this.model.validatePosition(new P(e,t)),a=r.lineNumber,l=r.column;let c=a-1,d=!1;if(o)for(;c<this.modelLineProjections.length&&!this.modelLineProjections[c].isVisible();)c++,d=!0;else for(;c>0&&!this.modelLineProjections[c].isVisible();)c--,d=!0;if(c===0&&!this.modelLineProjections[c].isVisible())return new P(n?0:1,1);const u=1+this.projectedModelLineLineCounts.getPrefixSum(c);let h;return d?o?h=this.modelLineProjections[c].getViewPositionOfModelPosition(u,1,i):h=this.modelLineProjections[c].getViewPositionOfModelPosition(u,this.model.getLineMaxColumn(c+1),i):h=this.modelLineProjections[a-1].getViewPositionOfModelPosition(u,l,i),h}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return k.fromPositions(i)}else{const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new k(i.lineNumber,i.column,n.lineNumber,n.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){const o=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(o,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(i===0&&!this.modelLineProjections[i].isVisible())return 1;const n=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i,n,o){const r=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),a=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(a.lineNumber-r.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new k(r.lineNumber,1,a.lineNumber,a.column),t,i,n,o);let l=[];const c=r.lineNumber-1,d=a.lineNumber-1;let u=null;for(let p=c;p<=d;p++)if(this.modelLineProjections[p].isVisible())u===null&&(u=new P(p+1,p===c?r.column:1));else if(u!==null){const b=this.model.getLineMaxColumn(p);l=l.concat(this.model.getDecorationsInRange(new k(u.lineNumber,u.column,p,b),t,i,n)),u=null}u!==null&&(l=l.concat(this.model.getDecorationsInRange(new k(u.lineNumber,u.column,a.lineNumber,a.column),t,i,n)),u=null),l.sort((p,_)=>{const b=k.compareRangesUsingStarts(p.range,_.range);return b===0?p.id<_.id?-1:p.id>_.id?1:0:b});const h=[];let g=0,m=null;for(const p of l){const _=p.id;m!==_&&(m=_,h[g++]=p)}return h}getInjectedTextAt(e){const t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){const i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){const t=this.getViewLineInfo(e);return t.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(t.modelLineNumber):0}}function ste(s){if(s.length===0)return[];const e=s.slice();e.sort(k.compareRangesUsingStarts);const t=[];let i=e[0].startLineNumber,n=e[0].endLineNumber;for(let o=1,r=e.length;o<r;o++){const a=e[o];a.startLineNumber>n+1?(t.push(new k(i,1,n,1)),i=a.startLineNumber,n=a.endLineNumber):a.endLineNumber>n&&(n=a.endLineNumber)}return t.push(new k(i,1,n,1)),t}class nF{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}}class oF{constructor(e,t){this.modelRange=e,this.viewLines=t}}class rte{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t,i,n){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t,i,n)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class ate{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new lte(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(t,i,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new FI(t,i)}onModelLinesInserted(e,t,i,n){return new BI(t,i)}onModelLineChanged(e,t,i){return[!1,new H9(t,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const i=t-e+1,n=new Array(i);for(let o=0;o<i;o++)n[o]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const t=this.model.tokenization.getLineTokens(e),i=t.getLineContent();return new $A(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);const o=[];for(let r=e;r<=t;r++){const a=r-e;o[a]=i[a]?this.getViewLineData(r):null}return o}getDecorationsInRange(e,t,i,n,o){return this.model.getDecorationsInRange(e,t,i,n,o)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class lte{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}let cte=class extends H{constructor(e,t,i,n,o,r,a,l,c){if(super(),this.languageConfigurationService=a,this._themeService=l,this._attachedView=c,this.hiddenAreasModel=new ute,this.previousHiddenAreas=[],this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new Ree,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new pg(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new xt(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=kR.create(this.model),this.model.isTooLargeForTokenization())this._lines=new ate(this.model);else{const d=this._configuration.options,u=d.get(50),h=d.get(137),g=d.get(144),m=d.get(136),p=d.get(128);this._lines=new ote(this._editorId,this.model,n,o,u,this.model.getOptions().tabSize,h,g.wrappingColumn,m,p)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new $ee(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new ete(this._configuration,this.getLineCount(),r)),this._register(this.viewLayout.onDidScroll(d=>{d.scrollTopChanged&&this._handleVisibleLinesChanged(),d.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new Iee(d)),this._eventDispatcher.emitOutgoingEvent(new wR(d.oldScrollWidth,d.oldScrollLeft,d.oldScrollHeight,d.oldScrollTop,d.scrollWidth,d.scrollLeft,d.scrollHeight,d.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(d=>{this._eventDispatcher.emitOutgoingEvent(d)})),this._decorations=new tte(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(d=>{try{const u=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(u,d)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(Ov.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Nee)})),this._register(this._themeService.onDidColorThemeChange(d=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Tee(d))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const e=this.viewLayout.getLinesViewportData(),t=new k(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber));return this._toModelVisibleRanges(t)}visibleLinesStabilized(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!0)}_handleVisibleLinesChanged(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!1)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new xee(e)),this._eventDispatcher.emitOutgoingEvent(new vR(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new See)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new yee)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const e=new P(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),t=this.coordinatesConverter.convertViewPositionToModelPosition(e);return new rF(t,this._viewportStart.startLineDelta)}return new rF(null,0)}_onConfigurationChanged(e,t){const i=this._captureStableViewport(),n=this._configuration.options,o=n.get(50),r=n.get(137),a=n.get(144),l=n.get(136),c=n.get(128);this._lines.setWrappingSettings(o,r,a.wrappingColumn,l,c)&&(e.emitViewEvent(new W0),e.emitViewEvent(new V0),e.emitViewEvent(new wg(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(90)&&(this._decorations.reset(),e.emitViewEvent(new wg(null))),e.emitViewEvent(new kee(t)),this.viewLayout.onConfigurationChanged(t),i.recoverViewportStart(this.coordinatesConverter,this.viewLayout),pg.shouldRecreate(t)&&(this.cursorConfig=new pg(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const i=this._eventDispatcher.beginEmitViewEvents();let n=!1,o=!1;const r=e instanceof nh?e.rawContentChangedEvent.changes:e.changes,a=e instanceof nh?e.rawContentChangedEvent.versionId:null,l=this._lines.createLineBreaksComputer();for(const u of r)switch(u.changeType){case 4:{for(let h=0;h<u.detail.length;h++){const g=u.detail[h];let m=u.injectedTexts[h];m&&(m=m.filter(p=>!p.ownerId||p.ownerId===this._editorId)),l.addRequest(g,m,null)}break}case 2:{let h=null;u.injectedText&&(h=u.injectedText.filter(g=>!g.ownerId||g.ownerId===this._editorId)),l.addRequest(u.detail,h,null);break}}const c=l.finalize(),d=new rc(c);for(const u of r)switch(u.changeType){case 1:{this._lines.onModelFlushed(),i.emitViewEvent(new W0),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),n=!0;break}case 3:{const h=this._lines.onModelLinesDeleted(a,u.fromLineNumber,u.toLineNumber);h!==null&&(i.emitViewEvent(h),this.viewLayout.onLinesDeleted(h.fromLineNumber,h.toLineNumber)),n=!0;break}case 4:{const h=d.takeCount(u.detail.length),g=this._lines.onModelLinesInserted(a,u.fromLineNumber,u.toLineNumber,h);g!==null&&(i.emitViewEvent(g),this.viewLayout.onLinesInserted(g.fromLineNumber,g.toLineNumber)),n=!0;break}case 2:{const h=d.dequeue(),[g,m,p,_]=this._lines.onModelLineChanged(a,u.lineNumber,h);o=g,m&&i.emitViewEvent(m),p&&(i.emitViewEvent(p),this.viewLayout.onLinesInserted(p.fromLineNumber,p.toLineNumber)),_&&(i.emitViewEvent(_),this.viewLayout.onLinesDeleted(_.fromLineNumber,_.toLineNumber));break}case 5:break}a!==null&&this._lines.acceptVersionId(a),this.viewLayout.onHeightMaybeChanged(),!n&&o&&(i.emitViewEvent(new V0),i.emitViewEvent(new wg(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const t=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&t){const i=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(i){const n=this.coordinatesConverter.convertModelPositionToViewPosition(i.getStartPosition()),o=this.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber);this.viewLayout.setScrollPosition({scrollTop:o+this._viewportStart.startLineDelta},1)}}try{const i=this._eventDispatcher.beginEmitViewEvents();e instanceof nh&&i.emitOutgoingEvent(new Hee(e.contentChangedEvent)),this._cursor.onModelContentChanged(i,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(e=>{const t=[];for(let i=0,n=e.ranges.length;i<n;i++){const o=e.ranges[i],r=this.coordinatesConverter.convertModelPositionToViewPosition(new P(o.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new P(o.toLineNumber,this.model.getLineMaxColumn(o.toLineNumber))).lineNumber;t[i]={fromLineNumber:r,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new Eee(t)),this._eventDispatcher.emitOutgoingEvent(new Uee(e))})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new Dee),this.cursorConfig=new pg(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Vee(e))})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new pg(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Wee(e))})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new W0),t.emitViewEvent(new V0),t.emitViewEvent(new wg(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new pg(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new zee(e))})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new wg(e)),this._eventDispatcher.emitOutgoingEvent(new Bee(e))}))}setHiddenAreas(e,t){this.hiddenAreasModel.setHiddenAreas(t,e);const i=this.hiddenAreasModel.getMergedRanges();if(i===this.previousHiddenAreas)return;this.previousHiddenAreas=i;const n=this._captureStableViewport();let o=!1;try{const r=this._eventDispatcher.beginEmitViewEvents();o=this._lines.setHiddenAreas(i),o&&(r.emitViewEvent(new W0),r.emitViewEvent(new V0),r.emitViewEvent(new wg(null)),this._cursor.onLineMappingChanged(r),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),n.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),o&&this._eventDispatcher.emitOutgoingEvent(new Oee)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(143),t=this._configuration.options.get(66),i=Math.max(20,Math.round(e.height/t)),n=this.viewLayout.getLinesViewportData(),o=Math.max(1,n.completelyVisibleStartLineNumber-i),r=Math.min(this.getLineCount(),n.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new k(o,this.getLineMinColumn(o),r,this.getLineMaxColumn(r)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(i.length===0)return[t];const n=[];let o=0,r=t.startLineNumber,a=t.startColumn;const l=t.endLineNumber,c=t.endColumn;for(let d=0,u=i.length;d<u;d++){const h=i[d].startLineNumber,g=i[d].endLineNumber;g<r||h>l||(r<h&&(n[o++]=new k(r,a,h-1,this.model.getLineMaxColumn(h-1))),r=g+1,a=1)}return(r<l||r===l&&a<c)&&(n[o++]=new k(r,a,l,c)),n}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new k(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new k(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new P(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:o}}reduceRestoreState(e){if(typeof e.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStart.update(this,e)}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,n){return this._lines.getViewLinesBracketGuides(e,t,i,n)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=Zn(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Gr(this.getLineContent(e));return t===-1?0:t+2}getMinimapDecorationsInRange(e){return this._decorations.getMinimapDecorationsInRange(e)}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,t){const n=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return this._getViewLineRenderingData(t,n)}getViewLineRenderingData(e){const t=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,t)}_getViewLineRenderingData(e,t){const i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),r=this._lines.getViewLineData(e);return r.inlineDecorations&&(t=[...t,...r.inlineDecorations.map(a=>a.toInlineDecoration(e))]),new us(r.minColumn,r.maxColumn,r.content,r.continuesWithWrappedLine,i,n,r.tokens,t,o,r.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){const n=this._lines.getViewLinesData(e,t,i);return new aG(this.getTabSize(),n)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,CC(this._configuration.options)),i=new dte;for(const n of t){const o=n.options,r=o.overviewRuler;if(!r)continue;const a=r.position;if(a===0)continue;const l=r.getColor(e.value),c=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.startLineNumber,n.range.startColumn),d=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.endLineNumber,n.range.endColumn);i.accept(l,o.zIndex,c,d,a)}return i.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const i=t.options.overviewRuler;i==null||i.invalidateCachedColor();const n=t.options.minimap;n==null||n.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getValueLengthInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueLengthInRange(i,t)}modifyPosition(e,t){const i=this.coordinatesConverter.convertViewPositionToModelPosition(e);return this.model.modifyPosition(i,t)}deduceModelPositionRelativeToViewPosition(e,t,i){const n=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(t<0?t-=i:t+=i);const r=this.model.getOffsetAt(n)+t;return this.model.getPositionAt(r)}getPlainTextToCopy(e,t,i){const n=i?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(k.compareRangesUsingStarts);let o=!1,r=!1;for(const l of e)l.isEmpty()?o=!0:r=!0;if(!r){if(!t)return"";const l=e.map(d=>d.startLineNumber);let c="";for(let d=0;d<l.length;d++)d>0&&l[d-1]===l[d]||(c+=this.model.getLineContent(l[d])+n);return c}if(o&&t){const l=[];let c=0;for(const d of e){const u=d.startLineNumber;d.isEmpty()?u!==c&&l.push(this.model.getLineContent(u)):l.push(this.model.getValueInRange(d,i?2:0)),c=u}return l.length===1?l[0]:l}const a=[];for(const l of e)l.isEmpty()||a.push(this.model.getValueInRange(l,i?2:0));return a.length===1?a[0]:a}getRichTextToCopy(e,t){const i=this.model.getLanguageId();if(i===ls||e.length!==1)return null;let n=e[0];if(n.isEmpty()){if(!t)return null;const d=n.startLineNumber;n=new k(d,this.model.getLineMinColumn(d),d,this.model.getLineMaxColumn(d))}const o=this._configuration.options.get(50),r=this._getColorMap(),l=/[:;\\\/<>]/.test(o.fontFamily)||o.fontFamily===Fo.fontFamily;let c;return l?c=Fo.fontFamily:(c=o.fontFamily,c=c.replace(/"/g,"'"),/[,']/.test(c)||/[+ ]/.test(c)&&(c=`'${c}'`),c=`${c}, ${Fo.fontFamily}`),{mode:i,html:`<div style="color: ${r[1]};background-color: ${r[2]};font-family: ${c};font-weight: ${o.fontWeight};font-size: ${o.fontSize}px;line-height: ${o.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(n,r)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,r=e.endColumn,a=this.getTabSize();let l="";for(let c=i;c<=o;c++){const d=this.model.tokenization.getLineTokens(c),u=d.getLineContent(),h=c===i?n-1:0,g=c===o?r-1:u.length;u===""?l+="<br>":l+=Zee(u,d.inflate(),t,h,g,a,En)}return l}_getColorMap(){const e=ei.getColorMap(),t=["#000000"];if(e)for(let i=1,n=e.length;i<n;i++)t[i]=V.Format.CSS.formatHex(e[i]);return t}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){return this._withViewEventsCollector(n=>this._cursor.setStates(n,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(n=>this._cursor.setSelections(n,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new Fee);return}this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(n=>this._cursor.executeEdits(n,e,t,i))}startComposition(){this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,n,o){this._executeCursorEdit(r=>this._cursor.compositionType(r,e,t,i,n,o))}paste(e,t,i,n){this._executeCursorEdit(o=>this._cursor.paste(o,e,t,i,n))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t,i=!1){this._withViewEventsCollector(n=>this._cursor.revealPrimary(n,e,i,0,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new k(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(n=>n.emitViewEvent(new Xw(e,!1,i,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new k(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(n=>n.emitViewEvent(new Xw(e,!1,i,null,0,!0,0)))}revealRange(e,t,i,n,o){this._withViewEventsCollector(r=>r.emitViewEvent(new Xw(e,!1,i,null,n,t,o)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Aee),this._eventDispatcher.emitOutgoingEvent(new Pee))}_withViewEventsCollector(e){try{const t=this._eventDispatcher.beginEmitViewEvents();return e(t)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}};class kR{static create(e){const t=e._setTrackedRange(null,new k(1,1,1,1),1);return new kR(e,1,!1,t,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(e,t,i,n,o){this._model=e,this._viewLineNumber=t,this._isValid=i,this._modelTrackedRange=n,this._startLineDelta=o}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,t){const i=e.coordinatesConverter.convertViewPositionToModelPosition(new P(t,e.getLineMinColumn(t))),n=e.model._setTrackedRange(this._modelTrackedRange,new k(i.lineNumber,i.column,i.lineNumber,i.column),1),o=e.viewLayout.getVerticalOffsetForLineNumber(t),r=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=t,this._isValid=!0,this._modelTrackedRange=n,this._startLineDelta=r-o}invalidate(){this._isValid=!1}}class dte{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,n,o){const r=this._asMap[e];if(r){const a=r.data,l=a[a.length-3],c=a[a.length-1];if(l===o&&c+1>=i){n>c&&(a[a.length-1]=n);return}a.push(o,i,n)}else{const a=new s_(e,t,[o,i,n]);this._asMap[e]=a,this.asArray.push(a)}}}class ute{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(e,t){const i=this.hiddenAreas.get(e);i&&sF(i,t)||(this.hiddenAreas.set(e,t),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const e=Array.from(this.hiddenAreas.values()).reduce((t,i)=>hte(t,i),[]);return sF(this.ranges,e)?this.ranges:(this.ranges=e,this.ranges)}}function hte(s,e){const t=[];let i=0,n=0;for(;i<s.length&&n<e.length;){const o=s[i],r=e[n];if(o.endLineNumber<r.startLineNumber-1)t.push(s[i++]);else if(r.endLineNumber<o.startLineNumber-1)t.push(e[n++]);else{const a=Math.min(o.startLineNumber,r.startLineNumber),l=Math.max(o.endLineNumber,r.endLineNumber);t.push(new k(a,1,l,1)),i++,n++}}for(;i<s.length;)t.push(s[i++]);for(;n<e.length;)t.push(e[n++]);return t}function sF(s,e){if(s.length!==e.length)return!1;for(let t=0;t<s.length;t++)if(!s[t].equalsRange(e[t]))return!1;return!0}class rF{constructor(e,t){this.viewportStartModelPosition=e,this.startLineDelta=t}recoverViewportStart(e,t){if(!this.viewportStartModelPosition)return;const i=e.convertModelPositionToViewPosition(this.viewportStartModelPosition),n=t.getVerticalOffsetForLineNumber(i.lineNumber);t.setScrollPosition({scrollTop:n+this.startLineDelta},1)}}class cy{constructor(...e){this._entries=new Map;for(const[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}}var k_;(function(s){s[s.Ignore=0]="Ignore",s[s.Info=1]="Info",s[s.Warning=2]="Warning",s[s.Error=3]="Error"})(k_||(k_={}));(function(s){const e="error",t="warning",i="warn",n="info",o="ignore";function r(l){return l?zg(e,l)?s.Error:zg(t,l)||zg(i,l)?s.Warning:zg(n,l)?s.Info:s.Ignore:s.Ignore}s.fromValue=r;function a(l){switch(l){case s.Error:return e;case s.Warning:return t;case s.Info:return n;default:return o}}s.toString=a})(k_||(k_={}));const mi=k_;var dy=mi;const Li=et("notificationService");class gte{}class Sb{constructor(e,t,i,n,o){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=n,this.wrappedTextIndentLength=o}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const t=e>0?this.breakOffsets[e-1]:0;let n=this.breakOffsets[e]-t;return e>0&&(n+=this.wrappedTextIndentLength),n}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let n=e===0?t:this.breakOffsets[e-1]+t;if(this.injectionOffsets!==null)for(let o=0;o<this.injectionOffsets.length&&n>this.injectionOffsets[o];o++)n<this.injectionOffsets[o]+this.injectionOptions[o].content.length?n=this.injectionOffsets[o]:n-=this.injectionOptions[o].content.length;return n}translateToOutputPosition(e,t=2){let i=e;if(this.injectionOffsets!==null)for(let n=0;n<this.injectionOffsets.length&&!(e<this.injectionOffsets[n]||t!==1&&e===this.injectionOffsets[n]);n++)i+=this.injectionOptions[n].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,n=this.breakOffsets.length-1,o=0,r=0;for(;i<=n;){o=i+(n-i)/2|0;const l=this.breakOffsets[o];if(r=o>0?this.breakOffsets[o-1]:0,t===0)if(e<=r)n=o-1;else if(e>l)i=o+1;else break;else if(e<r)n=o-1;else if(e>=l)i=o+1;else break}let a=e-r;return o>0&&(a+=this.wrappedTextIndentLength),new H0(o,a)}normalizeOutputPosition(e,t,i){if(this.injectionOffsets!==null){const n=this.outputPositionToOffsetInInputWithInjections(e,t),o=this.normalizeOffsetInInputWithInjectionsAroundInjections(n,i);if(o!==n)return this.offsetInInputWithInjectionsToOutputPosition(o,i)}if(i===0){if(e>0&&t===this.getMinOutputOffset(e))return new H0(e-1,this.getMaxOutputOffset(e-1))}else if(i===1){const n=this.getOutputLineCount()-1;if(e<n&&t===this.getMaxOutputOffset(e))return new H0(e+1,this.getMinOutputOffset(e+1))}return new H0(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(t===2){if(e===i.offsetInInputWithInjections+i.length&&aF(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let n=i.offsetInInputWithInjections;if(lF(this.injectionOptions[i.injectedTextIndex].cursorStops))return n;let o=i.injectedTextIndex-1;for(;o>=0&&this.injectionOffsets[o]===this.injectionOffsets[i.injectedTextIndex]&&!(aF(this.injectionOptions[o].cursorStops)||(n-=this.injectionOptions[o].content.length,lF(this.injectionOptions[o].cursorStops)));)o--;return n}}else if(t===1||t===4){let n=i.offsetInInputWithInjections+i.length,o=i.injectedTextIndex;for(;o+1<this.injectionOffsets.length&&this.injectionOffsets[o+1]===this.injectionOffsets[o];)n+=this.injectionOptions[o+1].content.length,o++;return n}else if(t===0||t===3){let n=i.offsetInInputWithInjections,o=i.injectedTextIndex;for(;o-1>=0&&this.injectionOffsets[o-1]===this.injectionOffsets[o];)n-=this.injectionOptions[o-1].content.length,o--;return n}PS()}getInjectedText(e,t){const i=this.outputPositionToOffsetInInputWithInjections(e,t),n=this.getInjectedTextAtOffset(i);return n?{options:this.injectionOptions[n.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(t!==null){let n=0;for(let o=0;o<t.length;o++){const r=i[o].content.length,a=t[o]+n,l=t[o]+n+r;if(a>e)break;if(e<=l)return{injectedTextIndex:o,offsetInInputWithInjections:a,length:r};n+=r}}}}function aF(s){return s==null?!0:s===$r.Right||s===$r.Both}function lF(s){return s==null?!0:s===$r.Left||s===$r.Both}class H0{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new P(e+this.outputLineIndex,this.outputOffset+1)}}class LR{static create(e){return new LR(e.get(132),e.get(131))}constructor(e,t){this.classifier=new fte(e,t)}createLineBreaksComputer(e,t,i,n,o){const r=[],a=[],l=[];return{addRequest:(c,d,u)=>{r.push(c),a.push(d),l.push(u)},finalize:()=>{const c=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,d=[];for(let u=0,h=r.length;u<h;u++){const g=a[u],m=l[u];m&&!m.injectionOptions&&!g?d[u]=mte(this.classifier,m,r[u],t,i,c,n,o):d[u]=pte(this.classifier,r[u],g,t,i,c,n,o)}return VI.length=0,HI.length=0,d}}}}class fte extends Wm{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let VI=[],HI=[];function mte(s,e,t,i,n,o,r,a){if(n===-1)return null;const l=t.length;if(l<=1)return null;const c=a==="keepAll",d=e.breakOffsets,u=e.breakOffsetsVisibleColumn,h=$9(t,i,n,o,r),g=n-h,m=VI,p=HI;let _=0,b=0,v=0,w=n;const C=d.length;let S=0;if(S>=0){let x=Math.abs(u[S]-w);for(;S+1<C;){const L=Math.abs(u[S+1]-w);if(L>=x)break;x=L,S++}}for(;S<C;){let x=S<0?0:d[S],L=S<0?0:u[S];b>x&&(x=b,L=v);let I=0,E=0,W=0,U=0;if(L<=w){let O=L,G=x===0?0:t.charCodeAt(x-1),X=x===0?0:s.get(G),fe=!0;for(let be=x;be<l;be++){const Le=be,pe=t.charCodeAt(be);let Fe,Oe;if($i(pe)?(be++,Fe=0,Oe=2):(Fe=s.get(pe),Oe=yb(pe,O,i,o)),Le>b&&zI(G,X,pe,Fe,c)&&(I=Le,E=O),O+=Oe,O>w){Le>b?(W=Le,U=O-Oe):(W=be+1,U=O),O-E>g&&(I=0),fe=!1;break}G=pe,X=Fe}if(fe){_>0&&(m[_]=d[d.length-1],p[_]=u[d.length-1],_++);break}}if(I===0){let O=L,G=t.charCodeAt(x),X=s.get(G),fe=!1;for(let be=x-1;be>=b;be--){const Le=be+1,pe=t.charCodeAt(be);if(pe===9){fe=!0;break}let Fe,Oe;if(gh(pe)?(be--,Fe=0,Oe=2):(Fe=s.get(pe),Oe=yd(pe)?o:1),O<=w){if(W===0&&(W=Le,U=O),O<=w-g)break;if(zI(pe,Fe,G,X,c)){I=Le,E=O;break}}O-=Oe,G=pe,X=Fe}if(I!==0){const be=g-(U-E);if(be<=i){const Le=t.charCodeAt(W);let pe;$i(Le)?pe=2:pe=yb(Le,U,i,o),be-pe<0&&(I=0)}}if(fe){S--;continue}}if(I===0&&(I=W,E=U),I<=b){const O=t.charCodeAt(b);$i(O)?(I=b+2,E=v+2):(I=b+1,E=v+yb(O,v,i,o))}for(b=I,m[_]=I,v=E,p[_]=E,_++,w=E+g;S<0||S<C&&u[S]<E;)S++;let F=Math.abs(u[S]-w);for(;S+1<C;){const O=Math.abs(u[S+1]-w);if(O>=F)break;F=O,S++}}return _===0?null:(m.length=_,p.length=_,VI=e.breakOffsets,HI=e.breakOffsetsVisibleColumn,e.breakOffsets=m,e.breakOffsetsVisibleColumn=p,e.wrappedTextIndentLength=h,e)}function pte(s,e,t,i,n,o,r,a){const l=ea.applyInjectedText(e,t);let c,d;if(t&&t.length>0?(c=t.map(E=>E.options),d=t.map(E=>E.column-1)):(c=null,d=null),n===-1)return c?new Sb(d,c,[l.length],[],0):null;const u=l.length;if(u<=1)return c?new Sb(d,c,[l.length],[],0):null;const h=a==="keepAll",g=$9(l,i,n,o,r),m=n-g,p=[],_=[];let b=0,v=0,w=0,C=n,S=l.charCodeAt(0),x=s.get(S),L=yb(S,0,i,o),I=1;$i(S)&&(L+=1,S=l.charCodeAt(1),x=s.get(S),I++);for(let E=I;E<u;E++){const W=E,U=l.charCodeAt(E);let F,O;$i(U)?(E++,F=0,O=2):(F=s.get(U),O=yb(U,L,i,o)),zI(S,x,U,F,h)&&(v=W,w=L),L+=O,L>C&&((v===0||L-w>m)&&(v=W,w=L-O),p[b]=v,_[b]=w,b++,C=w+m,v=0),S=U,x=F}return b===0&&(!t||t.length===0)?null:(p[b]=u,_[b]=L,new Sb(d,c,p,_,g))}function yb(s,e,t,i){return s===9?t-e%t:yd(s)||s<32?i:1}function cF(s,e){return e-s%e}function zI(s,e,t,i,n){return t!==32&&(e===2&&i!==2||e!==1&&i===1||!n&&e===3&&i!==2||!n&&i===3&&e!==1)}function $9(s,e,t,i,n){let o=0;if(n!==0){const r=Zn(s);if(r!==-1){for(let l=0;l<r;l++){const c=s.charCodeAt(l)===9?cF(o,e):1;o+=c}const a=n===3?2:n===2?1:0;for(let l=0;l<a;l++){const c=cF(o,e);o+=c}o+i>t&&(o=0)}}return o}const VL=uc("domLineBreaksComputer",{createHTML:s=>s});class xR{static create(){return new xR}constructor(){}createLineBreaksComputer(e,t,i,n,o){const r=[],a=[];return{addRequest:(l,c,d)=>{r.push(l),a.push(c)},finalize:()=>bte(r,e,t,i,n,o,a)}}}function bte(s,e,t,i,n,o,r){var a;function l(E){const W=r[E];if(W){const U=ea.applyInjectedText(s[E],W),F=W.map(G=>G.options),O=W.map(G=>G.column-1);return new Sb(O,F,[U.length],[],0)}else return null}if(i===-1){const E=[];for(let W=0,U=s.length;W<U;W++)E[W]=l(W);return E}const c=Math.round(i*e.typicalHalfwidthCharacterWidth),u=Math.round(t*(n===3?2:n===2?1:0)),h=Math.ceil(e.spaceWidth*u),g=document.createElement("div");In(g,e);const m=new Bm(1e4),p=[],_=[],b=[],v=[],w=[];for(let E=0;E<s.length;E++){const W=ea.applyInjectedText(s[E],r[E]);let U=0,F=0,O=c;if(n!==0)if(U=Zn(W),U===-1)U=0;else{for(let be=0;be<U;be++){const Le=W.charCodeAt(be)===9?t-F%t:1;F+=Le}const fe=Math.ceil(e.spaceWidth*F);fe+e.typicalFullwidthCharacterWidth>c?(U=0,F=0):O=c-fe}const G=W.substr(U),X=_te(G,F,t,O,m,h);p[E]=U,_[E]=F,b[E]=G,v[E]=X[0],w[E]=X[1]}const C=m.build(),S=(a=VL==null?void 0:VL.createHTML(C))!==null&&a!==void 0?a:C;g.innerHTML=S,g.style.position="absolute",g.style.top="10000",o==="keepAll"?(g.style.wordBreak="keep-all",g.style.overflowWrap="anywhere"):(g.style.wordBreak="inherit",g.style.overflowWrap="break-word"),document.body.appendChild(g);const x=document.createRange(),L=Array.prototype.slice.call(g.children,0),I=[];for(let E=0;E<s.length;E++){const W=L[E],U=vte(x,W,b[E],v[E]);if(U===null){I[E]=l(E);continue}const F=p[E],O=_[E]+u,G=w[E],X=[];for(let pe=0,Fe=U.length;pe<Fe;pe++)X[pe]=G[U[pe]];if(F!==0)for(let pe=0,Fe=U.length;pe<Fe;pe++)U[pe]+=F;let fe,be;const Le=r[E];Le?(fe=Le.map(pe=>pe.options),be=Le.map(pe=>pe.column-1)):(fe=null,be=null),I[E]=new Sb(be,fe,U,X,O)}return document.body.removeChild(g),I}function _te(s,e,t,i,n,o){if(o!==0){const h=String(o);n.appendString('<div style="text-indent: -'),n.appendString(h),n.appendString("px; padding-left: "),n.appendString(h),n.appendString("px; box-sizing: border-box; width:")}else n.appendString('<div style="width:');n.appendString(String(i)),n.appendString('px;">');const r=s.length;let a=e,l=0;const c=[],d=[];let u=0<r?s.charCodeAt(0):0;n.appendString("<span>");for(let h=0;h<r;h++){h!==0&&h%16384===0&&n.appendString("</span><span>"),c[h]=l,d[h]=a;const g=u;u=h+1<r?s.charCodeAt(h+1):0;let m=1,p=1;switch(g){case 9:m=t-a%t,p=m;for(let _=1;_<=m;_++)_<m?n.appendCharCode(160):n.appendASCIICharCode(32);break;case 32:u===32?n.appendCharCode(160):n.appendASCIICharCode(32);break;case 60:n.appendString("&lt;");break;case 62:n.appendString("&gt;");break;case 38:n.appendString("&amp;");break;case 0:n.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:n.appendCharCode(65533);break;default:yd(g)&&p++,g<32?n.appendCharCode(9216+g):n.appendCharCode(g)}l+=m,a+=p}return n.appendString("</span>"),c[s.length]=l,d[s.length]=a,n.appendString("</div>"),[c,d]}function vte(s,e,t,i){if(t.length<=1)return null;const n=Array.prototype.slice.call(e.children,0),o=[];try{UI(s,n,i,0,null,t.length-1,null,o)}catch(r){return console.log(r),null}return o.length===0?null:(o.push(t.length),o)}function UI(s,e,t,i,n,o,r,a){if(i===o||(n=n||HL(s,e,t[i],t[i+1]),r=r||HL(s,e,t[o],t[o+1]),Math.abs(n[0].top-r[0].top)<=.1))return;if(i+1===o){a.push(o);return}const l=i+(o-i)/2|0,c=HL(s,e,t[l],t[l+1]);UI(s,e,t,i,n,l,c,a),UI(s,e,t,l,c,o,r,a)}function HL(s,e,t,i){return s.setStart(e[t/16384|0].firstChild,t%16384),s.setEnd(e[i/16384|0].firstChild,i%16384),s.getClientRects()}class wte extends H{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new gA),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(e,t,i){this._editor=e,this._instantiationService=i;for(const n of t){if(this._pending.has(n.id)){He(new Error(`Cannot have two contributions with the same id ${n.id}`));continue}this._pending.set(n.id,n)}this._instantiateSome(0),this._register(Hl(()=>{this._instantiateSome(1)})),this._register(Hl(()=>{this._instantiateSome(2)})),this._register(Hl(()=>{this._instantiateSome(3)},5e3))}saveViewState(){const e={};for(const[t,i]of this._instances)typeof i.saveViewState=="function"&&(e[t]=i.saveViewState());return e}restoreViewState(e){for(const[t,i]of this._instances)typeof i.restoreViewState=="function"&&i.restoreViewState(e[t])}get(e){return this._instantiateById(e),this._instances.get(e)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){this._register(Hl(()=>{this._instantiateSome(1)},50))}_instantiateSome(e){if(this._finishedInstantiation[e])return;this._finishedInstantiation[e]=!0;const t=this._findPendingContributionsByInstantiation(e);for(const i of t)this._instantiateById(i.id)}_findPendingContributionsByInstantiation(e){const t=[];for(const[,i]of this._pending)i.instantiation===e&&t.push(i);return t}_instantiateById(e){const t=this._pending.get(e);if(t){if(this._pending.delete(e),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const i=this._instantiationService.createInstance(t.ctor,this._editor);this._instances.set(t.id,i),typeof i.restoreViewState=="function"&&t.instantiation!==0&&console.warn(`Editor contribution '${t.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(i){He(i)}}}}var Cte=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},bl=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Ste=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},ku;let yte=0,kte=class{constructor(e,t,i,n,o,r){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=o,this.attachedView=r}dispose(){St(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}},lm=ku=class extends H{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(e,t,i,n,o,r,a,l,c,d,u,h){var g;super(),this.languageConfigurationService=u,this._deliveryQueue=fU(),this._contributions=this._register(new wte),this._onDidDispose=this._register(new M),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new Un(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new dF({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new dF({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new Un(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new Un(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new Un(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new Un(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new Un(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new Un(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new Un(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new Un(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new Un(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new Un(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new Un(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new Un(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new Un(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new Un(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new Un(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new Un(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new Un(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new M({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),o.willCreateCodeEditor();const m=Object.assign({},t);this._domElement=e,this._overflowWidgetsDomNode=m.overflowWidgetsDomNode,delete m.overflowWidgetsDomNode,this._id=++yte,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,m,d)),this._register(this._configuration.onDidChange(b=>{this._onDidChangeConfiguration.fire(b);const v=this._configuration.options;if(b.hasChanged(143)){const w=v.get(143);this._onDidLayoutChange.fire(w)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=c,this._codeEditorService=o,this._commandService=r,this._themeService=l,this._register(new Lte(this,this._contextKeyService)),this._register(new xte(this,this._contextKeyService,h)),this._instantiationService=n.createChild(new cy([Me,this._contextKeyService])),this._modelData=null,this._focusTracker=new Dte(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let p;Array.isArray(i.contributions)?p=i.contributions:p=_f.getEditorContributions(),this._contributions.initialize(this,p,this._instantiationService);for(const b of _f.getEditorActions()){if(this._actions.has(b.id)){He(new Error(`Cannot have two actions with the same id ${b.id}`));continue}const v=new v9(b.id,b.label,b.alias,(g=b.precondition)!==null&&g!==void 0?g:void 0,()=>this._instantiationService.invokeFunction(w=>Promise.resolve(b.runEditorCommand(w,this,null))),this._contextKeyService);this._actions.set(v.id,v)}const _=()=>!this._configuration.options.get(90)&&this._configuration.options.get(36).enabled;this._register(new Rj(this._domElement,{onDragEnter:()=>{},onDragOver:b=>{if(!_())return;const v=this.getTargetAtClientPoint(b.clientX,b.clientY);v!=null&&v.position&&this.showDropIndicatorAt(v.position)},onDrop:b=>Ste(this,void 0,void 0,function*(){if(!_()||(this.removeDropIndicator(),!b.dataTransfer))return;const v=this.getTargetAtClientPoint(b.clientX,b.clientY);v!=null&&v.position&&this._onDropIntoEditor.fire({position:v.position,event:b})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(e){var t;(t=this._modelData)===null||t===void 0||t.view.writeScreenReaderContent(e)}_createConfiguration(e,t,i){return new bI(e,t,this._domElement,i)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return xv.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?pt.getWordAtPosition(this._modelData.model,this._configuration.options.get(129),e):null}getValue(e=null){if(!this._modelData)return"";const t=!!(e&&e.preserveBOM);let i=0;return e&&e.lineEnding&&e.lineEnding===`
`?i=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(this._modelData===null&&t===null||this._modelData&&this._modelData.model===t)return;const i=this.hasTextFocus(),n=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();const o={oldModelUrl:n?n.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(n),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(const i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,t,i,n){const o=e.model.validatePosition({lineNumber:t,column:i}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(r.lineNumber,n)}getTopForLineNumber(e,t=!1){return this._modelData?ku._getVerticalOffsetForPosition(this._modelData,e,1,t):-1}getTopForPosition(e,t){return this._modelData?ku._getVerticalOffsetForPosition(this._modelData,e,t,!1):-1}static _getVerticalOffsetForPosition(e,t,i,n=!1){const o=e.model.validatePosition({lineNumber:t,column:i}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber,n)}getBottomForLineNumber(e,t=!1){return this._modelData?ku._getVerticalOffsetAfterPosition(this._modelData,e,1,t):-1}setHiddenAreas(e,t){var i;(i=this._modelData)===null||i===void 0||i.viewModel.setHiddenAreas(e.map(n=>k.lift(n)),t)}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return Wi.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,t="api"){if(this._modelData){if(!P.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(!this._modelData)return;if(!k.isIRange(e))throw new Error("Invalid arguments");const o=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",i,r,t,n)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new k(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!P.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new k(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,t="api"){const i=_e.isISelection(e),n=k.isIRange(e);if(!i&&!n)throw new Error("Invalid arguments");if(i)this._setSelectionImpl(e,t);else if(n){const o={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(o,t)}}_setSelectionImpl(e,t){if(!this._modelData)return;const i=new _e(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(t,[i])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if(typeof e!="number"||typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new k(e,1,t,1),i,!1,n)}revealRange(e,t=0,i=!1,n=!0){this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!k.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(k.lift(e),t,i,n)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let n=0,o=e.length;n<o;n++)if(!_e.isISelection(e[n]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,t)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const e=this._contributions.saveViewState(),t=this._modelData.viewModel.saveCursorState(),i=this._modelData.viewModel.saveState();return{cursorState:t,viewState:i,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const i=t.cursorState;Array.isArray(i)?i.length>0&&this._modelData.viewModel.restoreCursorState(i):this._modelData.viewModel.restoreCursorState([i]),this._contributions.restoreViewState(t.contributionsState||{});const n=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(n)}}handleInitialized(){var e;(e=this._getViewModel())===null||e===void 0||e.visibleLinesStabilized()}getContribution(e){return this._contributions.get(e)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions.get(e)||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const o=i;this._type(e,o.text||"");return}case"replacePreviousChar":{const o=i;this._compositionType(e,o.text||"",o.replaceCharCnt||0,0,0);return}case"compositionType":{const o=i;this._compositionType(e,o.text||"",o.replacePrevCharCnt||0,o.replaceNextCharCnt||0,o.positionDelta||0);return}case"paste":{const o=i;this._paste(e,o.text||"",o.pasteOnNewLine||!1,o.multicursorText||null,o.mode||null);return}case"cut":this._cut(e);return}const n=this.getAction(t);if(n){Promise.resolve(n.run(i)).then(void 0,He);return}this._modelData&&(this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||t.length===0||(e==="keyboard"&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),e==="keyboard"&&this._onDidType.fire(t))}_compositionType(e,t,i,n,o){this._modelData&&this._modelData.viewModel.compositionType(t,i,n,o,e)}_paste(e,t,i,n,o){if(!this._modelData||t.length===0)return;const r=this._modelData.viewModel,a=r.getSelection().getStartPosition();r.paste(t,i,n,e);const l=r.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new k(a.lineNumber,a.column,l.lineNumber,l.column),languageId:o})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const n=_f.getEditorCommand(t);return n?(i=i||{},i.source=e,this._instantiationService.invokeFunction(o=>{Promise.resolve(n.runEditorCommand(o,this,i)).then(void 0,He)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(90)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(90)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData||this._configuration.options.get(90))return!1;let n;return i?Array.isArray(i)?n=()=>i:n=i:n=()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}createDecorationsCollection(e){return new Ite(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,CC(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,CC(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?e.length===0&&t.length===0?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){!this._modelData||e.length===0||this._modelData.model.changeDecorations(t=>{t.deltaDecorations(e,[])})}removeDecorationsByType(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(143)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}}addGlyphMarginWidget(e){const t={widget:e,position:e.getPosition()};this._glyphMarginWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(t)}layoutGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const i=this._glyphMarginWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(i)}}removeGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const i=this._glyphMarginWidgets[t];delete this._glyphMarginWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(i)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,t)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const t=this._modelData.model.validatePosition(e),i=this._configuration.options,n=i.get(143),o=ku._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),r=this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+n.glyphMarginWidth+n.lineNumbersWidth+n.decorationsWidth-this.getScrollLeft();return{top:o,left:r,height:i.get(66)}}getOffsetForColumn(e,t){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,t)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){In(e,this._configuration.options.get(50))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount());const i=e.onBeforeAttached(),n=new cte(this._id,this._configuration,e,xR.create(),LR.create(this._configuration.options),a=>Ps(a),this.languageConfigurationService,this._themeService,i);t.push(e.onWillDispose(()=>this.setModel(null))),t.push(n.onEvent(a=>{switch(a.kind){case 0:this._onDidContentSizeChange.fire(a);break;case 1:this._editorTextFocus.setValue(a.hasFocus);break;case 2:this._onDidScrollChange.fire(a);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(a.reachedMaxCursorCount){const u=this.getOption(79),h=f("vs/editor/browser/widget/codeEditorWidget","cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",u);this._notificationService.prompt(dy.Warning,h,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:f("vs/editor/browser/widget/codeEditorWidget","goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const l=[];for(let u=0,h=a.selections.length;u<h;u++)l[u]=a.selections[u].getPosition();const c={position:l[0],secondaryPositions:l.slice(1),reason:a.reason,source:a.source};this._onDidChangeCursorPosition.fire(c);const d={selection:a.selections[0],secondarySelections:a.selections.slice(1),modelVersionId:a.modelVersionId,oldSelections:a.oldSelections,oldModelVersionId:a.oldModelVersionId,source:a.source,reason:a.reason};this._onDidChangeCursorSelection.fire(d);break}case 7:this._onDidChangeModelDecorations.fire(a.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(a.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(a.event);break;case 10:this._onDidChangeModelContent.fire(a.event);break;case 11:this._onDidChangeModelOptions.fire(a.event);break;case 12:this._onDidChangeModelTokens.fire(a.event);break}}));const[o,r]=this._createView(n);if(r){this._domElement.appendChild(o.domNode.domNode);let a=Object.keys(this._contentWidgets);for(let l=0,c=a.length;l<c;l++){const d=a[l];o.addContentWidget(this._contentWidgets[d])}a=Object.keys(this._overlayWidgets);for(let l=0,c=a.length;l<c;l++){const d=a[l];o.addOverlayWidget(this._overlayWidgets[d])}a=Object.keys(this._glyphMarginWidgets);for(let l=0,c=a.length;l<c;l++){const d=a[l];o.addGlyphMarginWidget(this._glyphMarginWidgets[d])}o.render(!1,!0),o.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new kte(e,n,o,r,t,i)}_createView(e){let t;this.isSimpleWidget?t={paste:(o,r,a,l)=>{this._paste("keyboard",o,r,a,l)},type:o=>{this._type("keyboard",o)},compositionType:(o,r,a,l)=>{this._compositionType("keyboard",o,r,a,l)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:t={paste:(o,r,a,l)=>{const c={text:o,pasteOnNewLine:r,multicursorText:a,mode:l};this._commandService.executeCommand("paste",c)},type:o=>{const r={text:o};this._commandService.executeCommand("type",r)},compositionType:(o,r,a,l)=>{if(a||l){const c={text:o,replacePrevCharCnt:r,replaceNextCharCnt:a,positionDelta:l};this._commandService.executeCommand("compositionType",c)}else{const c={text:o,replaceCharCnt:r};this._commandService.executeCommand("replacePreviousChar",c)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new oy(e.coordinatesConverter);return i.onKeyDown=o=>this._onKeyDown.fire(o),i.onKeyUp=o=>this._onKeyUp.fire(o),i.onContextMenu=o=>this._onContextMenu.fire(o),i.onMouseMove=o=>this._onMouseMove.fire(o),i.onMouseLeave=o=>this._onMouseLeave.fire(o),i.onMouseDown=o=>this._onMouseDown.fire(o),i.onMouseUp=o=>this._onMouseUp.fire(o),i.onMouseDrag=o=>this._onMouseDrag.fire(o),i.onMouseDrop=o=>this._onMouseDrop.fire(o),i.onMouseDropCanceled=o=>this._onMouseDropCanceled.fire(o),i.onMouseWheel=o=>this._onMouseWheel.fire(o),[new II(t,this._configuration,this._themeService.getColorTheme(),e,i,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(e){e==null||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}showDropIndicatorAt(e){const t=[{range:new k(e.lineNumber,e.column,e.lineNumber,e.column),options:ku.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(t),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(e,t){this._contextKeyService.createKey(e,t)}};lm.dropIntoEditorDecorationOptions=Ve.register({description:"workbench-dnd-target",className:"dnd-target"});lm=ku=Cte([bl(3,Ae),bl(4,bt),bl(5,ci),bl(6,Me),bl(7,qi),bl(8,Li),bl(9,hc),bl(10,Mt),bl(11,me)],lm);class dF extends H{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new M(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new M(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class Un extends M{constructor(e,t){super({deliveryQueue:t}),this._contributions=e}fire(e){this._contributions.onBeforeInteractionEvent(),super.fire(e)}}class Lte extends H{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=T.editorSimpleInput.bindTo(t),this._editorFocus=T.focus.bindTo(t),this._textInputFocus=T.textInputFocus.bindTo(t),this._editorTextFocus=T.editorTextFocus.bindTo(t),this._tabMovesFocus=T.tabMovesFocus.bindTo(t),this._editorReadonly=T.readOnly.bindTo(t),this._inDiffEditor=T.inDiffEditor.bindTo(t),this._editorColumnSelection=T.columnSelection.bindTo(t),this._hasMultipleSelections=T.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=T.hasNonEmptySelection.bindTo(t),this._canUndo=T.canUndo.bindTo(t),this._canRedo=T.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(em.onDidChangeTabFocus(i=>this._tabMovesFocus.set(i))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._tabMovesFocus.set(em.getTabFocusMode()),this._editorReadonly.set(e.get(90)),this._inDiffEditor.set(e.get(61)),this._editorColumnSelection.set(e.get(22))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class xte extends H{constructor(e,t,i){super(),this._editor=e,this._contextKeyService=t,this._languageFeaturesService=i,this._langId=T.languageId.bindTo(t),this._hasCompletionItemProvider=T.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=T.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=T.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=T.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=T.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=T.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=T.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=T.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=T.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=T.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=T.hasReferenceProvider.bindTo(t),this._hasRenameProvider=T.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=T.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=T.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=T.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=T.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=T.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=T.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=T.isInWalkThroughSnippet.bindTo(t);const n=()=>this._update();this._register(e.onDidChangeModel(n)),this._register(e.onDidChangeModelLanguage(n)),this._register(i.completionProvider.onDidChange(n)),this._register(i.codeActionProvider.onDidChange(n)),this._register(i.codeLensProvider.onDidChange(n)),this._register(i.definitionProvider.onDidChange(n)),this._register(i.declarationProvider.onDidChange(n)),this._register(i.implementationProvider.onDidChange(n)),this._register(i.typeDefinitionProvider.onDidChange(n)),this._register(i.hoverProvider.onDidChange(n)),this._register(i.documentHighlightProvider.onDidChange(n)),this._register(i.documentSymbolProvider.onDidChange(n)),this._register(i.referenceProvider.onDidChange(n)),this._register(i.renameProvider.onDidChange(n)),this._register(i.documentFormattingEditProvider.onDidChange(n)),this._register(i.documentRangeFormattingEditProvider.onDidChange(n)),this._register(i.signatureHelpProvider.onDidChange(n)),this._register(i.inlayHintsProvider.onDidChange(n)),n()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===qe.walkThroughSnippet)})}}class Dte extends H{constructor(e){super(),this._onChange=this._register(new M),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(Ja(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class Ite{get length(){return this._decorationIds.length}constructor(e,t){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(t)&&t.length>0&&this.set(t)}onDidChange(e,t,i){return this._editor.onDidChangeModelDecorations(n=>{this._isChangingDecorations||e.call(t,n)},i)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),t=[];for(const i of this._decorationIds){const n=e.getDecorationRange(i);n&&t.push(n)}return t}has(e){return this._decorationIds.includes(e.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(t=>{this._decorationIds=t.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}return this._decorationIds}}const Tte=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Ete=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function zL(s){return Tte+encodeURIComponent(s.toString())+Ete}const Nte=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Ate=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Rte(s){return Nte+encodeURIComponent(s.toString())+Ate}mr((s,e)=>{const t=s.getColor(Wa);t&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${zL(t)}") repeat-x bottom left; }`);const i=s.getColor(ss);i&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${zL(i)}") repeat-x bottom left; }`);const n=s.getColor(Co);n&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${zL(n)}") repeat-x bottom left; }`);const o=s.getColor(iZ);o&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Rte(o)}") no-repeat bottom left; }`);const r=s.getColor(fY);r&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${r.rgba.a}; }`)});var Mte=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Pte=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Ote=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};let $I=class extends H{constructor(e){super(),this._themeService=e,this._onWillCreateCodeEditor=this._register(new M),this._onCodeEditorAdd=this._register(new M),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new M),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new M),this._onDiffEditorAdd=this._register(new M),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new M),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new oo,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorationsByType(e))))}setModelProperty(e,t,i){const n=e.toString();let o;this._modelProperties.has(n)?o=this._modelProperties.get(n):(o=new Map,this._modelProperties.set(n,o)),o.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}openCodeEditor(e,t,i){return Ote(this,void 0,void 0,function*(){for(const n of this._codeEditorOpenHandlers){const o=yield n(e,t,i);if(o!==null)return o}return null})}registerCodeEditorOpenHandler(e){const t=this._codeEditorOpenHandlers.unshift(e);return Re(t)}};$I=Mte([Pte(0,qi)],$I);var Fte=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},uF=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Bte=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};let c1=class extends $I{constructor(e,t){super(t),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler((i,n,o)=>Bte(this,void 0,void 0,function*(){return n?this.doOpenEditor(n,i):null})))}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const o=t.resource.scheme;if(o===qe.http||o===qe.https)return QW(t.resource.toString()),e}return null}const n=t.options?t.options.selection:null;if(n)if(typeof n.endLineNumber=="number"&&typeof n.endColumn=="number")e.setSelection(n),e.revealRangeInCenter(n,1);else{const o={lineNumber:n.startLineNumber,column:n.startColumn};e.setPosition(o),e.revealPositionInCenter(o,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};c1=Fte([uF(0,Me),uF(1,qi)],c1);ct(bt,c1,0);const zm=et("layoutService");var j9=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},K9=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let d1=class{get dimension(){return this._dimension||(this._dimension=Om(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var e;(e=this._codeEditorService.getFocusedCodeEditor())===null||e===void 0||e.focus()}constructor(e){this._codeEditorService=e,this.onDidLayout=ce.None,this.offset={top:0,quickPickTop:0}}};d1=j9([K9(0,bt)],d1);let jI=class extends d1{get hasContainer(){return!1}get container(){return this._container}constructor(e,t){super(t),this._container=e}};jI=j9([K9(1,bt)],jI);ct(zm,d1,1);const Fv=et("dialogService");var Wte=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},hF=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},z0=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function U0(s){return s.scheme===qe.file?s.fsPath:s.path}let q9=0;class $0{constructor(e,t,i,n,o,r,a){this.id=++q9,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=n,this.groupOrder=o,this.sourceId=r,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class gF{constructor(e,t){this.resourceLabel=e,this.reason=t}}class fF{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,n]of this.elements)(n.reason===0?e:t).push(n.resourceLabel);const i=[];return e.length>0&&i.push(f("vs/platform/undoRedo/common/undoRedoService",{key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(f("vs/platform/undoRedo/common/undoRedoService",{key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class Vte{constructor(e,t,i,n,o,r,a){this.id=++q9,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=n,this.groupOrder=o,this.sourceId=r,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,i){this.removedResources||(this.removedResources=new fF),this.removedResources.has(t)||this.removedResources.set(t,new gF(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new fF),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new gF(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class G9{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,n=this._past.length;i<n;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new W9(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,n=0,o=-1;for(let a=0,l=this._past.length;a<l;a++,n++){const c=this._past[a];i&&(n>=t||c.id!==e.elements[n])&&(i=!1,o=0),!i&&c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0)}let r=-1;for(let a=this._future.length-1;a>=0;a--,n++){const l=this._future[a];i&&(n>=t||l.id!==e.elements[n])&&(i=!1,r=a),!i&&l.type===1&&l.removeResource(this.resourceLabel,this.strResource,0)}o!==-1&&(this._past=this._past.slice(0,o)),r!==-1&&(this._future=this._future.slice(r+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class UL{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const Z9=new G9("","");Z9.locked=!0;let KI=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);const t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join(`
`))}pushElement(e,t=am.None,i=Ea.None){if(e.type===0){const n=U0(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new $0(e,n,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const n=new Set,o=[],r=[];for(const a of e.resources){const l=U0(a),c=this.getUriComparisonKey(a);n.has(c)||(n.add(c),o.push(l),r.push(c))}o.length===1?this._pushElement(new $0(e,o[0],r[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new Vte(e,o,r,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const n=e.resourceLabels[t],o=e.strResources[t];let r;this._editStacks.has(o)?r=this._editStacks.get(o):(r=new G9(n,o),this._editStacks.set(o,r)),r.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const i=this._editStacks.get(t);if(i.hasFutureElements())return null;const n=i.getClosestPastElement();return n?n.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const o of i){const r=U0(o.resource),a=this.getUriComparisonKey(o.resource),l=new $0(o,r,a,0,0,0,0);n.set(l.strResource,l)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitPastWorkspaceElement(e,n)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const o of i){const r=U0(o.resource),a=this.getUriComparisonKey(o.resource),l=new $0(o,r,a,0,0,0,0);n.set(l.strResource,l)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitFutureWorkspaceElement(e,n)}}removeElements(e){const t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,i){const n=this.getUriComparisonKey(e);this._editStacks.has(n)&&this._editStacks.get(n).setElementsValidFlag(t,i)}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new W9(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestPastElement();r&&r.sourceId===e&&(!t||r.sourceOrder>t.sourceOrder)&&(t=r,i=n)}return[t,i]}canUndo(e){if(e instanceof Ea){const[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){He(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n,o){const r=this._acquireLocks(i);let a;try{a=t()}catch(l){return r(),n.dispose(),this._onError(l,e)}return a?a.then(()=>(r(),n.dispose(),o()),l=>(r(),n.dispose(),this._onError(l,e))):(r(),n.dispose(),o())}_invokeWorkspacePrepare(e){return z0(this,void 0,void 0,function*(){if(typeof e.actual.prepareUndoRedo=="undefined")return H.None;const t=e.actual.prepareUndoRedo();return typeof t=="undefined"?H.None:t})}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo=="undefined")return t(H.None);const i=e.actual.prepareUndoRedo();return i?hA(i)?t(i):i.then(n=>t(n)):t(H.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||Z9);return new UL(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(n),new j0(this._undo(e,0,!0));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new j0}_checkWorkspaceUndo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,f("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,f("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const a of i.editStacks)a.getClosestPastElement()!==t&&o.push(a.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,f("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const a of i.editStacks)a.locked&&r.push(a.resourceLabel);return r.length>0?this._tryToSplitAndUndo(e,t,null,f("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,f("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const n=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,n,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,n,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const n=t.getSecondClosestPastElement();if(n&&n.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,i,n){return z0(this,void 0,void 0,function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){let a;(function(d){d[d.All=0]="All",d[d.This=1]="This",d[d.Cancel=2]="Cancel"})(a||(a={}));const{result:l}=yield this._dialogService.prompt({type:mi.Info,message:f("vs/platform/undoRedo/common/undoRedoService","confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),buttons:[{label:f("vs/platform/undoRedo/common/undoRedoService",{key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",i.editStacks.length),run:()=>a.All},{label:f("vs/platform/undoRedo/common/undoRedoService",{key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>a.This}],cancelButton:{run:()=>a.Cancel}});if(l===a.Cancel)return;if(l===a.This)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const c=this._checkWorkspaceUndo(e,t,i,!1);if(c)return c.returnValue;n=!0}let o;try{o=yield this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}const r=this._checkWorkspaceUndo(e,t,i,!0);if(r)return o.dispose(),r.returnValue;for(const a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,o,()=>this._continueUndoInGroup(t.groupId,n))})}_resourceUndo(e,t,i){if(!t.isValid){e.flushAllElements();return}if(e.locked){const n=f("vs/platform/undoRedo/common/undoRedoService",{key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(n);return}return this._invokeResourcePrepare(t,n=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new UL([e]),n,()=>this._continueUndoInGroup(t.groupId,i))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestPastElement();r&&r.groupId===e&&(!t||r.groupOrder>t.groupOrder)&&(t=r,i=n)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);if(i)return this._undo(i,0,t)}undo(e){if(e instanceof Ea){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const n=this._editStacks.get(e),o=n.getClosestPastElement();if(!o)return;if(o.groupId){const[a,l]=this._findClosestUndoElementInGroup(o.groupId);if(o!==a&&l)return this._undo(l,t,i)}if((o.sourceId!==t||o.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,o);try{return o.type===1?this._workspaceUndo(e,o,i):this._resourceUndo(n,o,i)}finally{}}_confirmAndContinueUndo(e,t,i){return z0(this,void 0,void 0,function*(){if((yield this._dialogService.confirm({message:f("vs/platform/undoRedo/common/undoRedoService","confirmDifferentSource","Would you like to undo '{0}'?",i.label),primaryButton:f("vs/platform/undoRedo/common/undoRedoService",{key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:f("vs/platform/undoRedo/common/undoRedoService","confirmDifferentSource.no","No")})).confirmed)return this._undo(e,t,!0)})}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestFutureElement();r&&r.sourceId===e&&(!t||r.sourceOrder<t.sourceOrder)&&(t=r,i=n)}return[t,i]}canRedo(e){if(e instanceof Ea){const[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(n),new j0(this._redo(e));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new j0}_checkWorkspaceRedo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,f("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,f("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const a of i.editStacks)a.getClosestFutureElement()!==t&&o.push(a.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,f("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const a of i.editStacks)a.locked&&r.push(a.resourceLabel);return r.length>0?this._tryToSplitAndRedo(e,t,null,f("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,f("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return z0(this,void 0,void 0,function*(){let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(r){return this._onError(r,t)}const o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return n.dispose(),o.returnValue;for(const r of i.editStacks)r.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,n,()=>this._continueRedoInGroup(t.groupId))})}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){const i=f("vs/platform/undoRedo/common/undoRedoService",{key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i);return}return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new UL([e]),i,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestFutureElement();r&&r.groupId===e&&(!t||r.groupOrder<t.groupOrder)&&(t=r,i=n)}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof Ea){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[n,o]=this._findClosestRedoElementInGroup(i.groupId);if(i!==n&&o)return this._redo(o)}try{return i.type===1?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};KI=Wte([hF(0,Fv),hF(1,Li)],KI);class j0{constructor(e){this.returnValue=e}}ct(ly,KI,1);function Eo(s,e,t){return Math.min(Math.max(s,e),t)}class Q9{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class Hte{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){const t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}const DR=et("environmentService"),$o=et("openerService");function IR(s,e){return De.isUri(s)?zg(s.scheme,e):wA(s,e+":")}function mF(s,...e){return e.some(t=>IR(s,t))}function zte(s){let e;const t=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(s.fragment);return t&&(e={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1,endLineNumber:t[4]?parseInt(t[4]):void 0,endColumn:t[4]?t[5]?parseInt(t[5]):1:void 0},s=s.with({fragment:""})),{selection:e,uri:s}}var Ute=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},pF=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};const zs=et("ILanguageFeatureDebounceService");var u1;(function(s){const e=new WeakMap;let t=0;function i(n){let o=e.get(n);return o===void 0&&(o=++t,e.set(n,o)),o}s.of=i})(u1||(u1={}));class $te{constructor(e){this._default=e}get(e){return this._default}update(e,t){return this._default}default(){return this._default}}class jte{constructor(e,t,i,n,o,r){this._logService=e,this._name=t,this._registry=i,this._default=n,this._min=o,this._max=r,this._cache=new Yd(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((t,i)=>qS(u1.of(i),t),0)}get(e){const t=this._key(e),i=this._cache.get(t);return i?Eo(i.value,this._min,this._max):this.default()}update(e,t){const i=this._key(e);let n=this._cache.get(i);n||(n=new Hte(6),this._cache.set(i,n));const o=Eo(n.update(t),this._min,this._max);return IR(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${o}ms`),o}_overall(){const e=new Q9;for(const[,t]of this._cache)e.update(t.value);return e.value}default(){const e=this._overall()|0||this._default;return Eo(e,this._min,this._max)}}let qI=class{constructor(e,t){this._logService=e,this._data=new Map,this._isDev=t.isExtensionDevelopment||!t.isBuilt}for(e,t,i){var n,o,r;const a=(n=i==null?void 0:i.min)!==null&&n!==void 0?n:50,l=(o=i==null?void 0:i.max)!==null&&o!==void 0?o:Math.pow(a,2),c=(r=i==null?void 0:i.key)!==null&&r!==void 0?r:void 0,d=`${u1.of(e)},${a}${c?","+c:""}`;let u=this._data.get(d);return u||(this._isDev?u=new jte(this._logService,t,e,this._overallAverage()|0||a*1.5,a,l):(this._logService.debug(`[DEBOUNCE: ${t}] is disabled in developed mode`),u=new $te(a*1.5)),this._data.set(d,u)),u}_overallAverage(){const e=new Q9;for(const t of this._data.values())e.update(t.default());return e.value}};qI=Ute([pF(0,ps),pF(1,DR)],qI);ct(zs,qI,1);class kb{static create(e,t){return new kb(e,new h1(t))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(e,t){this._startLineNumber=e,this._tokens=t,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(e){return this._startLineNumber<=e&&e<=this._endLineNumber?this._tokens.getLineTokens(e-this._startLineNumber):null}getRange(){const e=this._tokens.getRange();return e&&new k(this._startLineNumber+e.startLineNumber,e.startColumn,this._startLineNumber+e.endLineNumber,e.endColumn)}removeTokens(e){const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber,[n,o,r]=this._tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new kb(this._startLineNumber,n),new kb(this._startLineNumber+r,o)]}applyEdit(e,t){const[i,n,o]=Nd(t);this.acceptEdit(e,i,n,o,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,n,o){this._acceptDeleteRange(e),this._acceptInsertText(new P(e.startLineNumber,e.startColumn),t,i,n,o),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;if(i<0){const o=i-t;this._startLineNumber-=o;return}const n=this._tokens.getMaxDeltaLine();if(!(t>=n+1)){if(t<0&&i>=n+1){this._startLineNumber=0,this._tokens.clear();return}if(t<0){const o=-t;this._startLineNumber-=o,this._tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this._tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,n,o){if(t===0&&i===0)return;const r=e.lineNumber-this._startLineNumber;if(r<0){this._startLineNumber+=t;return}const a=this._tokens.getMaxDeltaLine();r>=a+1||this._tokens.acceptInsertText(r,e.column-1,t,i,n,o)}}class h1{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){const t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return e===0?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(e===0)return null;const t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),n=this._getEndCharacter(e-1);return new k(0,t+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){const n=t+Math.floor((i-t)/2),o=this._getDeltaLine(n);if(o<e)t=n+1;else if(o>e)i=n-1;else{let r=n;for(;r>t&&this._getDeltaLine(r-1)===e;)r--;let a=n;for(;a<i&&this._getDeltaLine(a+1)===e;)a++;return new bF(this._tokens.subarray(4*r,4*a+4))}}return this._getDeltaLine(t)===e?new bF(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,n){const o=this._tokens,r=this._tokenCount;let a=0,l=!1,c=0;for(let d=0;d<r;d++){const u=4*d,h=o[u],g=o[u+1],m=o[u+2],p=o[u+3];if((h>e||h===e&&m>=t)&&(h<i||h===i&&g<=n))l=!0;else{if(a===0&&(c=h),l){const _=4*a;o[_]=h-c,o[_+1]=g,o[_+2]=m,o[_+3]=p}a++}}return this._tokenCount=a,c}split(e,t,i,n){const o=this._tokens,r=this._tokenCount,a=[],l=[];let c=a,d=0,u=0;for(let h=0;h<r;h++){const g=4*h,m=o[g],p=o[g+1],_=o[g+2],b=o[g+3];if(m>e||m===e&&_>=t){if(m<i||m===i&&p<=n)continue;c!==l&&(c=l,d=0,u=m)}c[d++]=m-u,c[d++]=p,c[d++]=_,c[d++]=b}return[new h1(new Uint32Array(a)),new h1(new Uint32Array(l)),u]}acceptDeleteRange(e,t,i,n,o){const r=this._tokens,a=this._tokenCount,l=n-t;let c=0,d=!1;for(let u=0;u<a;u++){const h=4*u;let g=r[h],m=r[h+1],p=r[h+2];const _=r[h+3];if(g<t||g===t&&p<=i){c++;continue}else if(g===t&&m<i)g===n&&p>o?p-=o-i:p=i;else if(g===t&&m===i)if(g===n&&p>o)p-=o-i;else{d=!0;continue}else if(g<n||g===n&&m<o)if(g===n&&p>o)g=t,m=i,p=m+(p-o);else{d=!0;continue}else if(g>n){if(l===0&&!d){c=a;break}g-=l}else if(g===n&&m>=o)e&&g===0&&(m+=e,p+=e),g-=l,m-=o-i,p-=o-i;else throw new Error("Not possible!");const b=4*c;r[b]=g,r[b+1]=m,r[b+2]=p,r[b+3]=_,c++}this._tokenCount=c}acceptInsertText(e,t,i,n,o,r){const a=i===0&&n===1&&(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122),l=this._tokens,c=this._tokenCount;for(let d=0;d<c;d++){const u=4*d;let h=l[u],g=l[u+1],m=l[u+2];if(!(h<e||h===e&&m<t)){if(h===e&&m===t)if(a)m+=1;else continue;else if(h===e&&g<t&&t<m)i===0?m+=n:m=t;else{if(h===e&&g===t&&a)continue;if(h===e)if(h+=i,i===0)g+=n,m+=n;else{const p=m-g;g=o+(g-t),m=g+p}else h+=i}l[u]=h,l[u+1]=g,l[u+2]=m}}}}class bF{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}var Kte=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},$L=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let GI=class{constructor(e,t,i,n){this._legend=e,this._themeService=t,this._languageService=i,this._logService=n,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new Al}getMetadata(e,t,i){const n=this._languageService.languageIdCodec.encodeLanguageId(i),o=this._hashTable.get(e,t,n);let r;if(o)r=o.metadata,this._logService.getLevel()===kn.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${Ln.getForeground(r)}, fontStyle ${Ln.getFontStyle(r).toString(2)}`);else{let a=this._legend.tokenTypes[e];const l=[];if(a){let c=t;for(let u=0;c>0&&u<this._legend.tokenModifiers.length;u++)c&1&&l.push(this._legend.tokenModifiers[u]),c=c>>1;c>0&&this._logService.getLevel()===kn.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));const d=this._themeService.getColorTheme().getTokenStyleMetadata(a,l,i);if(typeof d=="undefined")r=2147483647;else{if(r=0,typeof d.italic!="undefined"){const u=(d.italic?1:0)<<11;r|=u|1}if(typeof d.bold!="undefined"){const u=(d.bold?2:0)<<11;r|=u|2}if(typeof d.underline!="undefined"){const u=(d.underline?4:0)<<11;r|=u|4}if(typeof d.strikethrough!="undefined"){const u=(d.strikethrough?8:0)<<11;r|=u|8}if(d.foreground){const u=d.foreground<<15;r|=u|16}r===0&&(r=2147483647)}}else this._logService.getLevel()===kn.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),r=2147483647,a="not-in-legend";this._hashTable.add(e,t,n,r),this._logService.getLevel()===kn.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${a}) / ${t} (${l.join(" ")}): foreground ${Ln.getForeground(r)}, fontStyle ${Ln.getFontStyle(r).toString(2)}`)}return r}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${e}, column ${t}`))}warnInvalidEditStart(e,t,i,n,o){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${e}, resultId: ${t}) at edit #${i}: The provided start offset ${n} is outside the previous data (length ${o}).`))}};GI=Kte([$L(1,qi),$L(2,qt),$L(3,ps)],GI);function Y9(s,e,t){const i=s.data,n=s.data.length/5|0,o=Math.max(Math.ceil(n/1024),400),r=[];let a=0,l=1,c=0;for(;a<n;){const d=a;let u=Math.min(d+o,n);if(u<n){let v=u;for(;v-1>d&&i[5*v]===0;)v--;if(v-1===d){let w=u;for(;w+1<n&&i[5*w]===0;)w++;u=w}else u=v}let h=new Uint32Array((u-d)*4),g=0,m=0,p=0,_=0;for(;a<u;){const v=5*a,w=i[v],C=i[v+1],S=l+w|0,x=w===0?c+C|0:C,L=i[v+2],I=x+L|0,E=i[v+3],W=i[v+4];if(I<=x)e.warnInvalidLengthSemanticTokens(S,x+1);else if(p===S&&_>x)e.warnOverlappingSemanticTokens(S,x+1);else{const U=e.getMetadata(E,W,t);U!==2147483647&&(m===0&&(m=S),h[g]=S-m,h[g+1]=x,h[g+2]=I,h[g+3]=U,g+=4,p=S,_=I)}l=S,c=x,a++}g!==h.length&&(h=h.subarray(0,g));const b=kb.create(m,h);r.push(b)}return r}class qte{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}}class Al{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=Al._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Al._SIZES.length?2/3*this._currentLength:0),this._elements=[],Al._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const n=this._hashFunc(e,t,i);let o=this._elements[n];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===i)return o;o=o.next}return null}add(e,t,i,n){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const o=this._elements;this._currentLengthIndex++,this._currentLength=Al._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Al._SIZES.length?2/3*this._currentLength:0),this._elements=[],Al._nullOutEntries(this._elements,this._currentLength);for(const r of o){let a=r;for(;a;){const l=a.next;a.next=null,this._add(a),a=l}}}this._add(new qte(e,t,i,n))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}Al._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];const uy=et("semanticTokensStylingService");var Gte=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},jL=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let ZI=class extends H{constructor(e,t,i){super(),this._themeService=e,this._logService=t,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(e){return this._caches.has(e)||this._caches.set(e,new GI(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}};ZI=Gte([jL(0,qi),jL(1,ps),jL(2,qt)],ZI);ct(uy,ZI,1);var _F=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const K0="**",vF="/",Jw="[/\\\\]",eC="[^/\\\\]",Zte=/\//g;function wF(s,e){switch(s){case 0:return"";case 1:return`${eC}*?`;default:return`(?:${Jw}|${eC}+${Jw}${e?`|${Jw}${eC}+`:""})*?`}}function CF(s,e){if(!s)return[];const t=[];let i=!1,n=!1,o="";for(const r of s){switch(r){case e:if(!i&&!n){t.push(o),o="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":n=!0;break;case"]":n=!1;break}o+=r}return o&&t.push(o),t}function X9(s){if(!s)return"";let e="";const t=CF(s,vF);if(t.every(i=>i===K0))e=".*";else{let i=!1;t.forEach((n,o)=>{if(n===K0){if(i)return;e+=wF(2,o===t.length-1)}else{let r=!1,a="",l=!1,c="";for(const d of n){if(d!=="}"&&r){a+=d;continue}if(l&&(d!=="]"||!c)){let u;d==="-"?u=d:(d==="^"||d==="!")&&!c?u="^":d===vF?u="":u=cs(d),c+=u;continue}switch(d){case"{":r=!0;continue;case"[":l=!0;continue;case"}":{const h=`(?:${CF(a,",").map(g=>X9(g)).join("|")})`;e+=h,r=!1,a="";break}case"]":{e+="["+c+"]",l=!1,c="";break}case"?":e+=eC;continue;case"*":e+=wF(1);continue;default:e+=cs(d)}}o<t.length-1&&(t[o+1]!==K0||o+2<t.length)&&(e+=Jw)}i=n===K0})}return e}const Qte=/^\*\*\/\*\.[\w\.-]+$/,Yte=/^\*\*\/([\w\.-]+)\/?$/,Xte=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,Jte=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,eie=/^\*\*((\/[\w\.-]+)+)\/?$/,tie=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,SF=new Yd(1e4),yF=function(){return!1},Ga=function(){return null};function TR(s,e){if(!s)return Ga;let t;typeof s!="string"?t=s.pattern:t=s,t=t.trim();const i=`${t}_${!!e.trimForExclusions}`;let n=SF.get(i);if(n)return kF(n,s);let o;return Qte.test(t)?n=iie(t.substr(4),t):(o=Yte.exec(KL(t,e)))?n=nie(o[1],t):(e.trimForExclusions?Jte:Xte).test(t)?n=oie(t,e):(o=eie.exec(KL(t,e)))?n=LF(o[1].substr(1),t,!0):(o=tie.exec(KL(t,e)))?n=LF(o[1],t,!1):n=sie(t),SF.set(i,n),kF(n,s)}function kF(s,e){if(typeof e=="string")return s;const t=function(i,n){return AI(i,e.base,!Qn)?s(wv(i.substr(e.base.length),qr),n):null};return t.allBasenames=s.allBasenames,t.allPaths=s.allPaths,t.basenames=s.basenames,t.patterns=s.patterns,t}function KL(s,e){return e.trimForExclusions&&s.endsWith("/**")?s.substr(0,s.length-2):s}function iie(s,e){return function(t,i){return typeof t=="string"&&t.endsWith(s)?e:null}}function nie(s,e){const t=`/${s}`,i=`\\${s}`,n=function(r,a){return typeof r!="string"?null:a?a===s?e:null:r===s||r.endsWith(t)||r.endsWith(i)?e:null},o=[s];return n.basenames=o,n.patterns=[e],n.allBasenames=o,n}function oie(s,e){const t=e7(s.slice(1,-1).split(",").map(a=>TR(a,e)).filter(a=>a!==Ga),s),i=t.length;if(!i)return Ga;if(i===1)return t[0];const n=function(a,l){for(let c=0,d=t.length;c<d;c++)if(t[c](a,l))return s;return null},o=t.find(a=>!!a.allBasenames);o&&(n.allBasenames=o.allBasenames);const r=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return r.length&&(n.allPaths=r),n}function LF(s,e,t){const i=qr===Mi.sep,n=i?s:s.replace(Zte,qr),o=qr+n,r=Mi.sep+s;let a;return t?a=function(l,c){return typeof l=="string"&&(l===n||l.endsWith(o)||!i&&(l===s||l.endsWith(r)))?e:null}:a=function(l,c){return typeof l=="string"&&(l===n||!i&&l===s)?e:null},a.allPaths=[(t?"*/":"./")+s],a}function sie(s){try{const e=new RegExp(`^${X9(s)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?s:null}}catch(e){return Ga}}function rie(s,e,t){return!s||typeof e!="string"?!1:J9(s)(e,void 0,t)}function J9(s,e={}){if(!s)return yF;if(typeof s=="string"||aie(s)){const t=TR(s,e);if(t===Ga)return yF;const i=function(n,o){return!!t(n,o)};return t.allBasenames&&(i.allBasenames=t.allBasenames),t.allPaths&&(i.allPaths=t.allPaths),i}return lie(s,e)}function aie(s){const e=s;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}function lie(s,e){const t=e7(Object.getOwnPropertyNames(s).map(a=>cie(a,s[a],e)).filter(a=>a!==Ga)),i=t.length;if(!i)return Ga;if(!t.some(a=>!!a.requiresSiblings)){if(i===1)return t[0];const a=function(d,u){let h;for(let g=0,m=t.length;g<m;g++){const p=t[g](d,u);if(typeof p=="string")return p;tI(p)&&(h||(h=[]),h.push(p))}return h?(()=>_F(this,void 0,void 0,function*(){for(const g of h){const m=yield g;if(typeof m=="string")return m}return null}))():null},l=t.find(d=>!!d.allBasenames);l&&(a.allBasenames=l.allBasenames);const c=t.reduce((d,u)=>u.allPaths?d.concat(u.allPaths):d,[]);return c.length&&(a.allPaths=c),a}const n=function(a,l,c){let d,u;for(let h=0,g=t.length;h<g;h++){const m=t[h];m.requiresSiblings&&c&&(l||(l=od(a)),d||(d=l.substr(0,l.length-TU(a).length)));const p=m(a,l,d,c);if(typeof p=="string")return p;tI(p)&&(u||(u=[]),u.push(p))}return u?(()=>_F(this,void 0,void 0,function*(){for(const h of u){const g=yield h;if(typeof g=="string")return g}return null}))():null},o=t.find(a=>!!a.allBasenames);o&&(n.allBasenames=o.allBasenames);const r=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return r.length&&(n.allPaths=r),n}function cie(s,e,t){if(e===!1)return Ga;const i=TR(s,t);if(i===Ga)return Ga;if(typeof e=="boolean")return i;if(e){const n=e.when;if(typeof n=="string"){const o=(r,a,l,c)=>{if(!c||!i(r,a))return null;const d=n.replace("$(basename)",()=>l),u=c(d);return tI(u)?u.then(h=>h?s:null):u?s:null};return o.requiresSiblings=!0,o}}return i}function e7(s,e){const t=s.filter(a=>!!a.basenames);if(t.length<2)return s;const i=t.reduce((a,l)=>{const c=l.basenames;return c?a.concat(c):a},[]);let n;if(e){n=[];for(let a=0,l=i.length;a<l;a++)n.push(e)}else n=t.reduce((a,l)=>{const c=l.patterns;return c?a.concat(c):a},[]);const o=function(a,l){if(typeof a!="string")return null;if(!l){let d;for(d=a.length;d>0;d--){const u=a.charCodeAt(d-1);if(u===47||u===92)break}l=a.substr(d)}const c=i.indexOf(l);return c!==-1?n[c]:null};o.basenames=i,o.patterns=n,o.allBasenames=i;const r=s.filter(a=>!a.basenames);return r.push(o),r}function t7(s,e,t,i,n,o){if(Array.isArray(s)){let r=0;for(const a of s){const l=t7(a,e,t,i,n,o);if(l===10)return l;l>r&&(r=l)}return r}else{if(typeof s=="string")return i?s==="*"?5:s===t?10:0:0;if(s){const{language:r,pattern:a,scheme:l,hasAccessToAllModels:c,notebookType:d}=s;if(!i&&!c)return 0;d&&n&&(e=n);let u=0;if(l)if(l===e.scheme)u=10;else if(l==="*")u=5;else return 0;if(r)if(r===t)u=10;else if(r==="*")u=Math.max(u,5);else return 0;if(d)if(d===o)u=10;else if(d==="*"&&o!==void 0)u=Math.max(u,5);else return 0;if(a){let h;if(typeof a=="string"?h=a:h=Object.assign(Object.assign({},a),{base:dW(a.base)}),h===e.fsPath||rie(h,e.fsPath))u=10;else return 0}return u}else return 0}}function i7(s){return typeof s=="string"?!1:Array.isArray(s)?s.every(i7):!!s.exclusive}class xF{constructor(e,t,i,n){this.uri=e,this.languageId=t,this.notebookUri=i,this.notebookType=n}equals(e){var t,i;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&((t=this.notebookUri)===null||t===void 0?void 0:t.toString())===((i=e.notebookUri)===null||i===void 0?void 0:i.toString())}}class ai{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new M,this.onDidChange=this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Re(()=>{if(i){const n=this._entries.indexOf(i);n>=0&&(this._entries.splice(n,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(const i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,i=>t.push(i.provider)),t}orderedGroups(e){const t=[];let i,n;return this._orderedForEach(e,o=>{i&&n===o._score?i.push(o.provider):(n=o._score,i=[o.provider],t.push(i))}),t}_orderedForEach(e,t){this._updateScores(e);for(const i of this._entries)i._score>0&&t(i)}_updateScores(e){var t,i;const n=(t=this._notebookInfoResolver)===null||t===void 0?void 0:t.call(this,e.uri),o=n?new xF(e.uri,e.getLanguageId(),n.uri,n.type):new xF(e.uri,e.getLanguageId(),void 0,void 0);if(!(!((i=this._lastCandidate)===null||i===void 0)&&i.equals(o))){this._lastCandidate=o;for(const r of this._entries)if(r._score=t7(r.selector,o.uri,o.languageId,eq(e),o.notebookUri,o.notebookType),i7(r.selector)&&r._score>0){for(const a of this._entries)a._score=0;r._score=1e3;break}this._entries.sort(ai._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:Qp(e.selector)&&!Qp(t.selector)?1:!Qp(e.selector)&&Qp(t.selector)?-1:e._time<t._time?1:e._time>t._time?-1:0}}function Qp(s){return typeof s=="string"?!1:Array.isArray(s)?s.some(Qp):!!s.isBuiltin}class die{constructor(){this.referenceProvider=new ai(this._score.bind(this)),this.renameProvider=new ai(this._score.bind(this)),this.codeActionProvider=new ai(this._score.bind(this)),this.definitionProvider=new ai(this._score.bind(this)),this.typeDefinitionProvider=new ai(this._score.bind(this)),this.declarationProvider=new ai(this._score.bind(this)),this.implementationProvider=new ai(this._score.bind(this)),this.documentSymbolProvider=new ai(this._score.bind(this)),this.inlayHintsProvider=new ai(this._score.bind(this)),this.colorProvider=new ai(this._score.bind(this)),this.codeLensProvider=new ai(this._score.bind(this)),this.documentFormattingEditProvider=new ai(this._score.bind(this)),this.documentRangeFormattingEditProvider=new ai(this._score.bind(this)),this.onTypeFormattingEditProvider=new ai(this._score.bind(this)),this.signatureHelpProvider=new ai(this._score.bind(this)),this.hoverProvider=new ai(this._score.bind(this)),this.documentHighlightProvider=new ai(this._score.bind(this)),this.selectionRangeProvider=new ai(this._score.bind(this)),this.foldingRangeProvider=new ai(this._score.bind(this)),this.linkProvider=new ai(this._score.bind(this)),this.inlineCompletionsProvider=new ai(this._score.bind(this)),this.completionProvider=new ai(this._score.bind(this)),this.linkedEditingRangeProvider=new ai(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new ai(this._score.bind(this)),this.documentSemanticTokensProvider=new ai(this._score.bind(this)),this.documentOnDropEditProvider=new ai(this._score.bind(this)),this.documentPasteEditProvider=new ai(this._score.bind(this))}_score(e){var t;return(t=this._notebookTypeResolver)===null||t===void 0?void 0:t.call(this,e)}}ct(me,die,1);const Bv=et("IWorkspaceEditService");class ER{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(Jl.is(t))return Jl.lift(t);if(Af.is(t))return Af.lift(t);throw new Error("Unsupported edit")})}}class Jl extends ER{static is(e){return e instanceof Jl?!0:no(e)&&De.isUri(e.resource)&&no(e.textEdit)}static lift(e){return e instanceof Jl?e:new Jl(e.resource,e.textEdit,e.versionId,e.metadata)}constructor(e,t,i=void 0,n){super(n),this.resource=e,this.textEdit=t,this.versionId=i}}class Af extends ER{static is(e){return e instanceof Af?!0:no(e)&&(!!e.newResource||!!e.oldResource)}static lift(e){return e instanceof Af?e:new Af(e.oldResource,e.newResource,e.options,e.metadata)}constructor(e,t,i={},n){super(n),this.oldResource=e,this.newResource=t,this.options=i}}const $n={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0},hy=Object.freeze({id:"editor",order:5,type:"object",title:f("vs/editor/common/config/editorConfigurationSchema","editorConfigurationTitle","Editor"),scope:5}),g1=Object.assign(Object.assign({},hy),{properties:{"editor.tabSize":{type:"number",default:Pn.tabSize,minimum:1,markdownDescription:f("vs/editor/common/config/editorConfigurationSchema","tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:f("vs/editor/common/config/editorConfigurationSchema","indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:Pn.insertSpaces,markdownDescription:f("vs/editor/common/config/editorConfigurationSchema","insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:Pn.detectIndentation,markdownDescription:f("vs/editor/common/config/editorConfigurationSchema","detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:Pn.trimAutoWhitespace,description:f("vs/editor/common/config/editorConfigurationSchema","trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Pn.largeFileOptimizations,description:f("vs/editor/common/config/editorConfigurationSchema","largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:f("vs/editor/common/config/editorConfigurationSchema","wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[f("vs/editor/common/config/editorConfigurationSchema","wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),f("vs/editor/common/config/editorConfigurationSchema","wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),f("vs/editor/common/config/editorConfigurationSchema","wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:f("vs/editor/common/config/editorConfigurationSchema","wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[f("vs/editor/common/config/editorConfigurationSchema","semanticHighlighting.true","Semantic highlighting enabled for all color themes."),f("vs/editor/common/config/editorConfigurationSchema","semanticHighlighting.false","Semantic highlighting disabled for all color themes."),f("vs/editor/common/config/editorConfigurationSchema","semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:f("vs/editor/common/config/editorConfigurationSchema","semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:f("vs/editor/common/config/editorConfigurationSchema","stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:f("vs/editor/common/config/editorConfigurationSchema","maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:f("vs/editor/common/config/editorConfigurationSchema","editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:f("vs/editor/common/config/editorConfigurationSchema","editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:f("vs/editor/common/config/editorConfigurationSchema","editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:f("vs/editor/common/config/editorConfigurationSchema","schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:f("vs/editor/common/config/editorConfigurationSchema","schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:f("vs/editor/common/config/editorConfigurationSchema","schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:f("vs/editor/common/config/editorConfigurationSchema","schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:f("vs/editor/common/config/editorConfigurationSchema","schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:f("vs/editor/common/config/editorConfigurationSchema","schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:$n.maxComputationTime,description:f("vs/editor/common/config/editorConfigurationSchema","maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:$n.maxFileSize,description:f("vs/editor/common/config/editorConfigurationSchema","maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:$n.renderSideBySide,description:f("vs/editor/common/config/editorConfigurationSchema","sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:$n.renderSideBySideInlineBreakpoint,description:f("vs/editor/common/config/editorConfigurationSchema","renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:$n.useInlineViewWhenSpaceIsLimited,description:f("vs/editor/common/config/editorConfigurationSchema","useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:$n.renderMarginRevertIcon,description:f("vs/editor/common/config/editorConfigurationSchema","renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:$n.ignoreTrimWhitespace,description:f("vs/editor/common/config/editorConfigurationSchema","ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:$n.renderIndicators,description:f("vs/editor/common/config/editorConfigurationSchema","renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:$n.diffCodeLens,description:f("vs/editor/common/config/editorConfigurationSchema","codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:$n.diffWordWrap,markdownEnumDescriptions:[f("vs/editor/common/config/editorConfigurationSchema","wordWrap.off","Lines will never wrap."),f("vs/editor/common/config/editorConfigurationSchema","wordWrap.on","Lines will wrap at the viewport width."),f("vs/editor/common/config/editorConfigurationSchema","wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:$n.diffAlgorithm,markdownEnumDescriptions:[f("vs/editor/common/config/editorConfigurationSchema","diffAlgorithm.legacy","Uses the legacy diffing algorithm."),f("vs/editor/common/config/editorConfigurationSchema","diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:$n.hideUnchangedRegions.enabled,markdownDescription:f("vs/editor/common/config/editorConfigurationSchema","hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:$n.hideUnchangedRegions.revealLineCount,markdownDescription:f("vs/editor/common/config/editorConfigurationSchema","hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:$n.hideUnchangedRegions.minimumLineCount,markdownDescription:f("vs/editor/common/config/editorConfigurationSchema","hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:$n.hideUnchangedRegions.contextLineCount,markdownDescription:f("vs/editor/common/config/editorConfigurationSchema","hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:$n.experimental.showMoves,markdownDescription:f("vs/editor/common/config/editorConfigurationSchema","showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:$n.experimental.showEmptyDecorations,description:f("vs/editor/common/config/editorConfigurationSchema","showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}});function uie(s){return typeof s.type!="undefined"||typeof s.anyOf!="undefined"}for(const s of Hg){const e=s.schema;if(typeof e!="undefined")if(uie(e))g1.properties[`editor.${s.name}`]=e;else for(const t in e)Object.hasOwnProperty.call(e,t)&&(g1.properties[t]=e[t])}let q0=null;function n7(){return q0===null&&(q0=Object.create(null),Object.keys(g1.properties).forEach(s=>{q0[s]=!0})),q0}function hie(s){return n7()[`editor.${s}`]||!1}function gie(s){return n7()[`diffEditor.${s}`]||!1}const fie=Jt.as(la.Configuration);fie.registerConfiguration(g1);class Zt{static insert(e,t){return{range:new k(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}function qL(s){return Object.isFrozen(s)?s:ez(s)}class Rn{constructor(e={},t=[],i=[],n){this._contents=e,this._keys=t,this._overrides=i,this.raw=n,this.overrideConfigurations=new Map}get rawConfiguration(){var e;if(!this._rawConfiguration)if(!((e=this.raw)===null||e===void 0)&&e.length){const t=this.raw.map(i=>{if(i instanceof Rn)return i;const n=new mie("");return n.parseRaw(i),n.configurationModel});this._rawConfiguration=t.reduce((i,n)=>n===i?n:i.merge(n),t[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?f2(this.contents,e):this.contents}inspect(e,t){const i=this.rawConfiguration.getValue(e),n=t?this.rawConfiguration.getOverrideValue(e,t):void 0,o=t?this.rawConfiguration.override(t).getValue(e):i;return{value:i,override:n,merged:o}}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?f2(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){var t,i;const n=Tl(this.contents),o=Tl(this.overrides),r=[...this.keys],a=!((t=this.raw)===null||t===void 0)&&t.length?[...this.raw]:[this];for(const l of e)if(a.push(...!((i=l.raw)===null||i===void 0)&&i.length?l.raw:[l]),!l.isEmpty()){this.mergeContents(n,l.contents);for(const c of l.overrides){const[d]=o.filter(u=>bi(u.identifiers,c.identifiers));d?(this.mergeContents(d.contents,c.contents),d.keys.push(...c.keys),d.keys=wd(d.keys)):o.push(Tl(c))}for(const c of l.keys)r.indexOf(c)===-1&&r.push(c)}return new Rn(n,r,o,a.every(l=>l instanceof Rn)?void 0:a)}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;const i={};for(const n of wd([...Object.keys(this.contents),...Object.keys(t)])){let o=this.contents[n];const r=t[n];r&&(typeof o=="object"&&typeof r=="object"?(o=Tl(o),this.mergeContents(o,r)):o=r),i[n]=o}return new Rn(i,this.keys,this.overrides)}mergeContents(e,t){for(const i of Object.keys(t)){if(i in e&&no(e[i])&&no(t[i])){this.mergeContents(e[i],t[i]);continue}e[i]=Tl(t[i])}}getContentsForOverrideIdentifer(e){let t=null,i=null;const n=o=>{o&&(i?this.mergeContents(i,o):i=Tl(o))};for(const o of this.overrides)o.identifiers.length===1&&o.identifiers[0]===e?t=o.contents:o.identifiers.includes(e)&&n(o.contents);return n(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(e,t){this.updateValue(e,t,!0)}setValue(e,t){this.updateValue(e,t,!1)}removeValue(e){const t=this.keys.indexOf(e);t!==-1&&(this.keys.splice(t,1),pK(this.contents,e),Dd.test(e)&&this.overrides.splice(this.overrides.findIndex(i=>bi(i.identifiers,OC(e))),1))}updateValue(e,t,i){u3(this.contents,e,t,n=>console.error(n)),i=i||this.keys.indexOf(e)===-1,i&&this.keys.push(e),Dd.test(e)&&this.overrides.push({identifiers:OC(e),keys:Object.keys(this.contents[e]),contents:oI(this.contents[e],n=>console.error(n))})}}class mie{constructor(e){this._name=e,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new Rn}parseRaw(e,t){this._raw=e;const{contents:i,keys:n,overrides:o,restricted:r,hasExcludedProperties:a}=this.doParseRaw(e,t);this._configurationModel=new Rn(i,n,o,a?[e]:void 0),this._restrictedConfigurations=r||[]}doParseRaw(e,t){const i=Jt.as(la.Configuration).getConfigurationProperties(),n=this.filter(e,i,!0,t);e=n.raw;const o=oI(e,l=>console.error(`Conflict in settings file ${this._name}: ${l}`)),r=Object.keys(e),a=this.toOverrides(e,l=>console.error(`Conflict in settings file ${this._name}: ${l}`));return{contents:o,keys:r,overrides:a,restricted:n.restricted,hasExcludedProperties:n.hasExcludedProperties}}filter(e,t,i,n){var o,r,a;let l=!1;if(!(n!=null&&n.scopes)&&!(n!=null&&n.skipRestricted)&&!(!((o=n==null?void 0:n.exclude)===null||o===void 0)&&o.length))return{raw:e,restricted:[],hasExcludedProperties:l};const c={},d=[];for(const u in e)if(Dd.test(u)&&i){const h=this.filter(e[u],t,!1,n);c[u]=h.raw,l=l||h.hasExcludedProperties,d.push(...h.restricted)}else{const h=t[u],g=h?typeof h.scope!="undefined"?h.scope:3:void 0;h!=null&&h.restricted&&d.push(u),!(!((r=n.exclude)===null||r===void 0)&&r.includes(u))&&(!((a=n.include)===null||a===void 0)&&a.includes(u)||(g===void 0||n.scopes===void 0||n.scopes.includes(g))&&!(n.skipRestricted&&(h!=null&&h.restricted)))?c[u]=e[u]:l=!0}return{raw:c,restricted:d,hasExcludedProperties:l}}toOverrides(e,t){const i=[];for(const n of Object.keys(e))if(Dd.test(n)){const o={};for(const r in e[n])o[r]=e[n][r];i.push({identifiers:OC(n),keys:Object.keys(o),contents:oI(o,t)})}return i}}class pie{constructor(e,t,i,n,o,r,a,l,c,d,u,h,g){this.key=e,this.overrides=t,this._value=i,this.overrideIdentifiers=n,this.defaultConfiguration=o,this.policyConfiguration=r,this.applicationConfiguration=a,this.userConfiguration=l,this.localUserConfiguration=c,this.remoteUserConfiguration=d,this.workspaceConfiguration=u,this.folderConfigurationModel=h,this.memoryConfigurationModel=g}inspect(e,t,i){const n=e.inspect(t,i);return{get value(){return qL(n.value)},get override(){return qL(n.override)},get merged(){return qL(n.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class gy{constructor(e,t,i,n,o=new Rn,r=new Rn,a=new On,l=new Rn,c=new On){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=n,this._remoteUserConfiguration=o,this._workspaceConfiguration=r,this._folderConfigurations=a,this._memoryConfiguration=l,this._memoryConfigurationByResource=c,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new On,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidatedConfigurationModel(e,t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new Rn,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,t===void 0?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const n=this.getConsolidatedConfigurationModel(e,t,i),o=this.getFolderConfigurationModelForResource(t.resource,i),r=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,a=new Set;for(const l of n.overrides)for(const c of l.identifiers)n.getOverrideValue(e,c)!==void 0&&a.add(c);return new pie(e,t,n.getValue(e),a.size?[...a]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,i?this._workspaceConfiguration:void 0,o||void 0,r)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,i){let n=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(n=n.override(t.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(e)!==void 0&&(n=n.merge(this._policyConfiguration)),n}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);const o=this._memoryConfigurationByResource.get(e);o&&(i=i.merge(o))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:i,overrides:n,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:o}]),e},[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.policy),n=this.parseConfigurationModel(e.application),o=this.parseConfigurationModel(e.user),r=this.parseConfigurationModel(e.workspace),a=e.folders.reduce((l,c)=>(l.set(De.revive(c[0]),this.parseConfigurationModel(c[1])),l),new On);return new gy(t,i,n,o,new Rn,r,a,new Rn,new On)}static parseConfigurationModel(e){return new Rn(e.contents,e.keys,e.overrides)}}class bie{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const o of e.keys)this.affectedKeys.add(o);for(const[,o]of e.overrides)for(const r of o)this.affectedKeys.add(r);this._affectsConfigStr=this._marker;for(const o of this.affectedKeys)this._affectsConfigStr+=o+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=gy.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;const n=this._marker+e,o=this._affectsConfigStr.indexOf(n);if(o<0)return!1;const r=o+n.length;if(r>=this._affectsConfigStr.length)return!1;const a=this._affectsConfigStr.charCodeAt(r);if(a!==this._markerCode1&&a!==this._markerCode2)return!1;if(t){const l=this.previousConfiguration?this.previousConfiguration.getValue(e,t,(i=this.previous)===null||i===void 0?void 0:i.workspace):void 0,c=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!as(l,c)}return!0}}const f1={kind:0},_ie={kind:1};function vie(s,e,t){return{kind:2,commandId:s,commandArgs:e,isBubble:t}}class Lb{constructor(e,t,i){var n;this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const o of e){const r=o.command;r&&r.charAt(0)!=="-"&&this._defaultBoundCommands.set(r,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Lb.handleRemovals([].concat(e).concat(t));for(let o=0,r=this._keybindings.length;o<r;o++){const a=this._keybindings[o];if(a.chords.length===0)continue;const l=(n=a.when)===null||n===void 0?void 0:n.substituteConstants();l&&l.type===0||this._addKeyPress(a.chords[0],a)}}static _isTargetedForRemoval(e,t,i){if(t){for(let n=0;n<t.length;n++)if(t[n]!==e.chords[n])return!1}return!(i&&i.type!==1&&(!e.when||!I$(i,e.when)))}static handleRemovals(e){const t=new Map;for(let n=0,o=e.length;n<o;n++){const r=e[n];if(r.command&&r.command.charAt(0)==="-"){const a=r.command.substring(1);t.has(a)?t.get(a).push(r):t.set(a,[r])}}if(t.size===0)return e;const i=[];for(let n=0,o=e.length;n<o;n++){const r=e[n];if(!r.command||r.command.length===0){i.push(r);continue}if(r.command.charAt(0)==="-")continue;const a=t.get(r.command);if(!a||!r.isDefault){i.push(r);continue}let l=!1;for(const c of a){const d=c.when;if(this._isTargetedForRemoval(r,c.chords,d)){l=!0;break}}if(!l){i.push(r);continue}}return i}_addKeyPress(e,t){const i=this._map.get(e);if(typeof i=="undefined"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let n=i.length-1;n>=0;n--){const o=i[n];if(o.command===t.command)continue;let r=!0;for(let a=1;a<o.chords.length&&a<t.chords.length;a++)if(o.chords[a]!==t.chords[a]){r=!1;break}r&&Lb.whenIsEntirelyIncluded(o.when,t.when)&&this._removeFromLookupMap(o)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t=="undefined"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if(typeof t!="undefined"){for(let i=0,n=t.length;i<n;i++)if(t[i]===e){t.splice(i,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:QD(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(typeof i=="undefined"||i.length===0)return null;if(i.length===1)return i[0];for(let n=i.length-1;n>=0;n--){const o=i[n];if(t.contextMatchesRules(o.when))return o}return i[i.length-1]}resolve(e,t,i){const n=[...t,i];this._log(`| Resolving ${n}`);const o=this._map.get(n[0]);if(o===void 0)return this._log("\\ No keybinding entries."),f1;let r=null;if(n.length<2)r=o;else{r=[];for(let l=0,c=o.length;l<c;l++){const d=o[l];if(n.length>d.chords.length)continue;let u=!0;for(let h=1;h<n.length;h++)if(d.chords[h]!==n[h]){u=!1;break}u&&r.push(d)}}const a=this._findCommand(e,r);return a?n.length<a.chords.length?(this._log(`\\ From ${r.length} keybinding entries, awaiting ${a.chords.length-n.length} more chord(s), when: ${DF(a.when)}, source: ${IF(a)}.`),_ie):(this._log(`\\ From ${r.length} keybinding entries, matched ${a.command}, when: ${DF(a.when)}, source: ${IF(a)}.`),vie(a.command,a.commandArgs,a.bubble)):(this._log(`\\ From ${r.length} keybinding entries, no when clauses matched the context.`),f1)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){const n=t[i];if(Lb._contextMatchesRules(e,n.when))return n}return null}static _contextMatchesRules(e,t){return t?t.evaluate(e):!0}}function DF(s){return s?`${s.serialize()}`:"no when condition"}function IF(s){return s.extensionId?s.isBuiltinExtension?`built-in extension ${s.extensionId}`:`user extension ${s.extensionId}`:s.isDefault?"built-in":"user"}const wie=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class Cie extends H{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:ce.None}get inChordMode(){return this._currentChords.length>0}constructor(e,t,i,n,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=o,this._onDidUpdateKeybindings=this._register(new M),this._currentChords=[],this._currentChordChecker=new kv,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=nf.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new gr,this._logging=!1}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(e);if(i.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),f1;const[n]=i.getDispatchChords();if(n===null)return this._log("\\ Keyboard event cannot be dispatched"),f1;const o=this._contextKeyService.getContext(t),r=this._currentChords.map(({keypress:a})=>a);return this._getResolver().resolve(o,r,n)}_scheduleLeaveChordMode(){const e=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-e>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(e,t){switch(this._currentChords.push({keypress:e,label:t}),this._currentChords.length){case 0:throw uA("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(f("vs/platform/keybinding/common/abstractKeybindingService","first.chord","({0}) was pressed. Waiting for second key of chord...",t));break;default:{const i=this._currentChords.map(({label:n})=>n).join(", ");this._currentChordStatusMessage=this._notificationService.status(f("vs/platform/keybinding/common/abstractKeybindingService","next.chord","({0}) was pressed. Waiting for next key of chord...",i))}}this._scheduleLeaveChordMode(),ub.enabled&&ub.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],ub.enable()}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchChords();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=nf.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=nf.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[o]=i.getChords();return this._ignoreSingleModifiers=new nf(o),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){var n;let o=!1;if(e.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let r=null,a=null;if(i){const[u]=e.getSingleModifierDispatchChords();r=u,a=u?[u]:[]}else[r]=e.getDispatchChords(),a=this._currentChords.map(({keypress:u})=>u);if(r===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),o;const l=this._contextKeyService.getContext(t),c=e.getLabel(),d=this._getResolver().resolve(l,a,r);switch(d.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",c,"[ No matching keybinding ]"),this.inChordMode){const u=this._currentChords.map(({label:h})=>h).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${u}, ${c}".`),this._notificationService.status(f("vs/platform/keybinding/common/abstractKeybindingService","missing.chord","The key combination ({0}, {1}) is not a command.",u,c),{hideAfter:10*1e3}),this._leaveChordMode(),o=!0}return o}case 1:return this._logService.trace("KeybindingService#dispatch",c,"[ Several keybindings match - more chords needed ]"),o=!0,this._expectAnotherChord(r,c),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),o;case 2:{if(this._logService.trace("KeybindingService#dispatch",c,`[ Will dispatch command ${d.commandId} ]`),d.commandId===null||d.commandId===""){if(this.inChordMode){const u=this._currentChords.map(({label:h})=>h).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${u}, ${c}".`),this._notificationService.status(f("vs/platform/keybinding/common/abstractKeybindingService","missing.chord","The key combination ({0}, {1}) is not a command.",u,c),{hideAfter:10*1e3}),this._leaveChordMode(),o=!0}}else this.inChordMode&&this._leaveChordMode(),d.isBubble||(o=!0),this._log(`+ Invoking command ${d.commandId}.`),typeof d.commandArgs=="undefined"?this._commandService.executeCommand(d.commandId).then(void 0,u=>this._notificationService.warn(u)):this._commandService.executeCommand(d.commandId,d.commandArgs).then(void 0,u=>this._notificationService.warn(u)),wie.test(d.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:d.commandId,from:"keybinding",detail:(n=e.getUserSettingsLabel())!==null&&n!==void 0?n:void 0});return o}}}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}}class nf{constructor(e){this._ctrlKey=e?e.ctrlKey:!1,this._shiftKey=e?e.shiftKey:!1,this._altKey=e?e.altKey:!1,this._metaKey=e?e.metaKey:!1}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}nf.EMPTY=new nf(null);class TF{constructor(e,t,i,n,o,r,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.chords=e?QI(e.getDispatchChords()):[],e&&this.chords.length===0&&(this.chords=QI(e.getSingleModifierDispatchChords())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=o,this.extensionId=r,this.isBuiltinExtension=a}}function QI(s){const e=[];for(let t=0,i=s.length;t<i;t++){const n=s[t];if(!n)return[];e.push(n)}return e}class fy{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;const n=[];for(let o=0,r=t.length;o<r;o++){const a=t[o],l=i(a);if(l===null)return null;n[o]=Lie(a,l,this.modifierLabels[e])}return n.join(" ")}}const NR=new fy({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:f("vs/base/common/keybindingLabels",{key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:f("vs/base/common/keybindingLabels",{key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:f("vs/base/common/keybindingLabels",{key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:f("vs/base/common/keybindingLabels",{key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:f("vs/base/common/keybindingLabels",{key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:f("vs/base/common/keybindingLabels",{key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:f("vs/base/common/keybindingLabels",{key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:f("vs/base/common/keybindingLabels",{key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),Sie=new fy({ctrlKey:f("vs/base/common/keybindingLabels",{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:f("vs/base/common/keybindingLabels",{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:f("vs/base/common/keybindingLabels",{key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:f("vs/base/common/keybindingLabels",{key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:f("vs/base/common/keybindingLabels",{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:f("vs/base/common/keybindingLabels",{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:f("vs/base/common/keybindingLabels",{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:f("vs/base/common/keybindingLabels",{key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:f("vs/base/common/keybindingLabels",{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:f("vs/base/common/keybindingLabels",{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:f("vs/base/common/keybindingLabels",{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:f("vs/base/common/keybindingLabels",{key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),yie=new fy({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),kie=new fy({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function Lie(s,e,t){if(e===null)return"";const i=[];return s.ctrlKey&&i.push(t.ctrlKey),s.shiftKey&&i.push(t.shiftKey),s.altKey&&i.push(t.altKey),s.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}class xie extends E${constructor(e,t){if(super(),t.length===0)throw Ns("chords");this._os=e,this._chords=t}getLabel(){return NR.toLabel(this._os,this._chords,e=>this._getLabel(e))}getAriaLabel(){return Sie.toLabel(this._os,this._chords,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:yie.toLabel(this._os,this._chords,e=>this._getElectronAccelerator(e))}getUserSettingsLabel(){return kie.toLabel(this._os,this._chords,e=>this._getUserSettingsLabel(e))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(e=>this._getChord(e))}_getChord(e){return new T$(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchChords(){return this._chords.map(e=>this._getChordDispatch(e))}getSingleModifierDispatchChords(){return this._chords.map(e=>this._getSingleModifierChordDispatch(e))}}class L_ extends xie{constructor(e,t){super(t,e)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return Ml.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":Ml.toString(e.keyCode)}_getElectronAccelerator(e){return Ml.toElectronAccelerator(e.keyCode)}_getUserSettingsLabel(e){if(e.isDuplicateModifierCase())return"";const t=Ml.toUserSettingsUS(e.keyCode);return t&&t.toLowerCase()}_getChordDispatch(e){return L_.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=Ml.toString(e.keyCode),t}_getSingleModifierChordDispatch(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}static _scanCodeToKeyCode(e){const t=bA[e];if(t!==-1)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(e){if(!e)return null;if(e instanceof lc)return e;const t=this._scanCodeToKeyCode(e.scanCode);return t===0?null:new lc(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveKeybinding(e,t){const i=QI(e.chords.map(n=>this._toKeyCodeChord(n)));return i.length>0?[new L_(i,t)]:[]}}const cm=et("labelService"),o7=et("progressService");class ec{constructor(e,t){this.callback=e,this.report=t!=null&&t.async?this._reportAsync.bind(this):this._reportSync.bind(this)}_reportSync(e){this._value=e,this.callback(this._value)}_reportAsync(e){Promise.resolve(this._lastTask).finally(()=>{this._value=e;const t=this.callback(this._value);this._lastTask=Promise.resolve(t).finally(()=>this._lastTask=void 0)})}}ec.None=Object.freeze({report(){}});const eu=et("editorProgressService");class Die{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class Iie{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?vA(e,this._value,0,e.length,this._from,this._to):Cv(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Tie{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){const i=this._value.charCodeAt(t);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?vA(e,this._value,0,e.length,this._from,this._to):Cv(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Eie{constructor(e,t){this._ignorePathCasing=e,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Tie(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return $D(e,this._value.scheme);if(this._states[this._stateIdx]===2)return $D(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return qb(e,this._value.query);if(this._states[this._stateIdx]===5)return qb(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class G0{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return(t=(e=this.left)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}get heightRight(){var e,t;return(t=(e=this.right)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}}class Rf{static forUris(e=()=>!1,t=()=>!1){return new Rf(new Eie(e,t))}static forStrings(){return new Rf(new Die)}static forConfigKeys(){return new Rf(new Iie)}constructor(e){this._iter=e}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let n;this._root||(this._root=new G0,this._root.segment=i.value());const o=[];for(n=this._root;;){const a=i.cmp(n.segment);if(a>0)n.left||(n.left=new G0,n.left.segment=i.value()),o.push([-1,n]),n=n.left;else if(a<0)n.right||(n.right=new G0,n.right.segment=i.value()),o.push([1,n]),n=n.right;else if(i.hasNext())i.next(),n.mid||(n.mid=new G0,n.mid.segment=i.value()),o.push([0,n]),n=n.mid;else break}const r=n.value;n.value=t,n.key=e;for(let a=o.length-1;a>=0;a--){const l=o[a][1];l.updateHeight();const c=l.balanceFactor();if(c<-1||c>1){const d=o[a][0],u=o[a+1][0];if(d===1&&u===1)o[a][1]=l.rotateLeft();else if(d===-1&&u===-1)o[a][1]=l.rotateRight();else if(d===1&&u===-1)l.right=o[a+1][1]=o[a+1][1].rotateRight(),o[a][1]=l.rotateLeft();else if(d===-1&&u===1)l.left=o[a+1][1]=o[a+1][1].rotateLeft(),o[a][1]=l.rotateRight();else throw new Error;if(a>0)switch(o[a-1][0]){case-1:o[a-1][1].left=o[a][1];break;case 1:o[a-1][1].right=o[a][1];break;case 0:o[a-1][1].mid=o[a][1];break}else this._root=o[0][1]}}return r}get(e){var t;return(t=this._getNode(e))===null||t===void 0?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const n=t.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var i;const n=this._iter.reset(e),o=[];let r=this._root;for(;r;){const a=n.cmp(r.segment);if(a>0)o.push([-1,r]),r=r.left;else if(a<0)o.push([1,r]),r=r.right;else if(n.hasNext())n.next(),o.push([0,r]),r=r.mid;else break}if(r){if(t?(r.left=void 0,r.mid=void 0,r.right=void 0,r.height=1):(r.key=void 0,r.value=void 0),!r.mid&&!r.value)if(r.left&&r.right){const a=this._min(r.right);if(a.key){const{key:l,value:c,segment:d}=a;this._delete(a.key,!1),r.key=l,r.value=c,r.segment=d}}else{const a=(i=r.left)!==null&&i!==void 0?i:r.right;if(o.length>0){const[l,c]=o[o.length-1];switch(l){case-1:c.left=a;break;case 0:c.mid=a;break;case 1:c.right=a;break}}else this._root=a}for(let a=o.length-1;a>=0;a--){const l=o[a][1];l.updateHeight();const c=l.balanceFactor();if(c>1?(l.right.balanceFactor()>=0||(l.right=l.right.rotateRight()),o[a][1]=l.rotateLeft()):c<-1&&(l.left.balanceFactor()<=0||(l.left=l.left.rotateLeft()),o[a][1]=l.rotateRight()),a>0)switch(o[a-1][0]){case-1:o[a-1][1].left=o[a][1];break;case 1:o[a-1][1].right=o[a][1];break;case 0:o[a-1][1].mid=o[a][1];break}else this._root=o[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i=this._root,n;for(;i;){const o=t.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(t.hasNext())t.next(),n=i.value||n,i=i.mid;else break}return i&&i.value||n}findSuperstr(e){return this._findSuperstrOrElement(e,!1)}_findSuperstrOrElement(e,t){const i=this._iter.reset(e);let n=this._root;for(;n;){const o=i.cmp(n.segment);if(o>0)n=n.left;else if(o<0)n=n.right;else if(i.hasNext())i.next(),n=n.mid;else return n.mid?this._entries(n.mid):t?n.value:void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*Uk(this._entries(this._root))}_entries(e){const t=[];return this._dfsEntries(e,t),t[Symbol.iterator]()}_dfsEntries(e,t){e&&(e.left&&this._dfsEntries(e.left,t),e.value&&t.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,t),e.right&&this._dfsEntries(e.right,t))}}const vh=et("contextService");function YI(s){const e=s;return typeof(e==null?void 0:e.id)=="string"&&De.isUri(e.uri)}function Nie(s){const e=s;return typeof(e==null?void 0:e.id)=="string"&&!YI(s)&&!Pie(s)}const Aie={id:"ext-dev"},Rie={id:"empty-window"};function Mie(s,e){if(typeof s=="string"||typeof s=="undefined")return typeof s=="string"?{id:od(s)}:e?Aie:Rie;const t=s;return t.configuration?{id:t.id,configPath:t.configuration}:t.folders.length===1?{id:t.id,uri:t.folders[0].uri}:{id:t.id}}function Pie(s){const e=s;return typeof(e==null?void 0:e.id)=="string"&&De.isUri(e.configPath)}class Oie{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const XI="code-workspace";f("vs/platform/workspace/common/workspace","codeWorkspace","Code Workspace");const s7="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function Fie(s){return s.id===s7}var JI;(function(s){s.inspectTokensAction=f("vs/editor/common/standaloneStrings","inspectTokens","Developer: Inspect Tokens")})(JI||(JI={}));var m1;(function(s){s.gotoLineActionLabel=f("vs/editor/common/standaloneStrings","gotoLineActionLabel","Go to Line/Column...")})(m1||(m1={}));var eT;(function(s){s.helpQuickAccessActionLabel=f("vs/editor/common/standaloneStrings","helpQuickAccess","Show all Quick Access Providers")})(eT||(eT={}));var p1;(function(s){s.quickCommandActionLabel=f("vs/editor/common/standaloneStrings","quickCommandActionLabel","Command Palette"),s.quickCommandHelp=f("vs/editor/common/standaloneStrings","quickCommandActionHelp","Show And Run Commands")})(p1||(p1={}));var x_;(function(s){s.quickOutlineActionLabel=f("vs/editor/common/standaloneStrings","quickOutlineActionLabel","Go to Symbol..."),s.quickOutlineByCategoryActionLabel=f("vs/editor/common/standaloneStrings","quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(x_||(x_={}));var b1;(function(s){s.editorViewAccessibleLabel=f("vs/editor/common/standaloneStrings","editorViewAccessibleLabel","Editor content"),s.accessibilityHelpMessage=f("vs/editor/common/standaloneStrings","accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(b1||(b1={}));var tT;(function(s){s.toggleHighContrast=f("vs/editor/common/standaloneStrings","toggleHighContrast","Toggle High Contrast Theme")})(tT||(tT={}));var iT;(function(s){s.bulkEditServiceSummary=f("vs/editor/common/standaloneStrings","bulkEditServiceSummary","Made {0} edits in {1} files")})(iT||(iT={}));const r7=et("workspaceTrustManagementService"),gc=et("contextViewService"),pr=et("contextMenuService");var Nn;(function(s){function e(o,r){if(o.start>=r.end||r.start>=o.end)return{start:0,end:0};const a=Math.max(o.start,r.start),l=Math.min(o.end,r.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}s.intersect=e;function t(o){return o.end-o.start<=0}s.isEmpty=t;function i(o,r){return!t(e(o,r))}s.intersects=i;function n(o,r){const a=[],l={start:o.start,end:Math.min(r.start,o.end)},c={start:Math.max(r.end,o.start),end:o.end};return t(l)||a.push(l),t(c)||a.push(c),a}s.relativeComplement=n})(Nn||(Nn={}));function Bie(s){const e=s;return!!e&&typeof e.x=="number"&&typeof e.y=="number"}var Qc;(function(s){s[s.AVOID=0]="AVOID",s[s.ALIGN=1]="ALIGN"})(Qc||(Qc={}));function of(s,e,t){const i=t.mode===Qc.ALIGN?t.offset:t.offset+t.size,n=t.mode===Qc.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=s-i?i:e<=n?n-e:Math.max(s-e,0):e<=n?n-e:e<=s-i?i:0}class dm extends H{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=H.None,this.toDisposeOnSetContainer=H.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=te(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,eo(this.view),this.setContainer(e,t),this._register(Re(()=>this.setContainer(null,1)))}setContainer(e,t){var i;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(i=this.shadowRootHostElement)===null||i===void 0||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=te(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const o=document.createElement("style");o.textContent=Wie,this.shadowRoot.appendChild(o),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(te("slot"))}else this.container.appendChild(this.view);const n=new Y;dm.BUBBLE_UP_EVENTS.forEach(o=>{n.add(Si(this.container,o,r=>{this.onDOMEvent(r,!1)}))}),dm.BUBBLE_DOWN_EVENTS.forEach(o=>{n.add(Si(this.container,o,r=>{this.onDOMEvent(r,!0)},!0))}),this.toDisposeOnSetContainer=n}}show(e){var t,i;this.isVisible()&&this.hide(),fn(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Ro(this.view),this.toDisposeOnClean=e.render(this.view)||H.None,this.delegate=e,this.doLayout(),(i=(t=this.delegate).focus)===null||i===void 0||i.call(t)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(Xr&&EA.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const e=this.delegate.getAnchor();let t;if(AA(e)){const u=Pi(e),h=Cj(e);t={top:u.top*h,left:u.left*h,width:u.width*h,height:u.height*h}}else Bie(e)?t={top:e.y,left:e.x,width:e.width||1,height:e.height||2}:t={top:e.posy,left:e.posx,width:2,height:2};const i=bo(this.view),n=zu(this.view),o=this.delegate.anchorPosition||0,r=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let l,c;if(a===0){const u={offset:t.top-window.pageYOffset,size:t.height,position:o===0?0:1},h={offset:t.left,size:t.width,position:r===0?0:1,mode:Qc.ALIGN};l=of(window.innerHeight,n,u)+window.pageYOffset,Nn.intersects({start:l,end:l+n},{start:u.offset,end:u.offset+u.size})&&(h.mode=Qc.AVOID),c=of(window.innerWidth,i,h)}else{const u={offset:t.left,size:t.width,position:r===0?0:1},h={offset:t.top,size:t.height,position:o===0?0:1,mode:Qc.ALIGN};c=of(window.innerWidth,i,u),Nn.intersects({start:c,end:c+i},{start:u.offset,end:u.offset+u.size})&&(h.mode=Qc.AVOID),l=of(window.innerHeight,n,h)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(o===0?"bottom":"top"),this.view.classList.add(r===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const d=Pi(this.container);this.view.style.top=`${l-(this.useFixedPosition?Pi(this.view).top:d.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?Pi(this.view).left:d.left)}px`,this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,t!=null&&t.onHide&&t.onHide(e),this.toDisposeOnClean.dispose(),eo(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!Dn(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}dm.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];dm.BUBBLE_DOWN_EVENTS=["click"];const Wie=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var Vie=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Hie=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let nT=class extends H{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=H.None,this.container=e.hasContainer?e.container:null,this.contextView=this._register(new dm(this.container,1)),this.layout(),this._register(e.onDidLayout(()=>this.layout()))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?(t!==this.container||this.shadowRoot!==i)&&(this.container=t,this.setContainer(t,i?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=i,this.contextView.show(e);const n=Re(()=>{this.currentViewDisposable===n&&this.hideContextView()});return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};nT=Vie([Hie(0,zm)],nT);let um=[],AR=[],a7=[];function Z0(s,e=!1){zie(s,!1,e)}function zie(s,e,t){const i=Uie(s,e);um.push(i),i.userConfigured?a7.push(i):AR.push(i),t&&!i.userConfigured&&um.forEach(n=>{n.mime===i.mime||n.userConfigured||(i.extension&&n.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&n.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&n.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&n.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))})}function Uie(s,e){return{id:s.id,mime:s.mime,filename:s.filename,extension:s.extension,filepattern:s.filepattern,firstline:s.firstline,userConfigured:e,filenameLowercase:s.filename?s.filename.toLowerCase():void 0,extensionLowercase:s.extension?s.extension.toLowerCase():void 0,filepatternLowercase:s.filepattern?J9(s.filepattern.toLowerCase()):void 0,filepatternOnPath:s.filepattern?s.filepattern.indexOf(Mi.sep)>=0:!1}}function $ie(){um=um.filter(s=>s.userConfigured),AR=[]}function jie(s,e){return Kie(s,e).map(t=>t.id)}function Kie(s,e){let t;if(s)switch(s.scheme){case qe.file:t=s.fsPath;break;case qe.data:{t=Ad.parseMetaData(s).get(Ad.META_DATA_LABEL);break}case qe.vscodeNotebookCell:t=void 0;break;default:t=s.path}if(!t)return[{id:"unknown",mime:pi.unknown}];t=t.toLowerCase();const i=od(t),n=EF(t,i,a7);if(n)return[n,{id:ls,mime:pi.text}];const o=EF(t,i,AR);if(o)return[o,{id:ls,mime:pi.text}];if(e){const r=qie(e);if(r)return[r,{id:ls,mime:pi.text}]}return[{id:"unknown",mime:pi.unknown}]}function EF(s,e,t){var i;let n,o,r;for(let a=t.length-1;a>=0;a--){const l=t[a];if(e===l.filenameLowercase){n=l;break}if(l.filepattern&&(!o||l.filepattern.length>o.filepattern.length)){const c=l.filepatternOnPath?s:e;!((i=l.filepatternLowercase)===null||i===void 0)&&i.call(l,c)&&(o=l)}l.extension&&(!r||l.extension.length>r.extension.length)&&e.endsWith(l.extensionLowercase)&&(r=l)}if(n)return n;if(o)return o;if(r)return r}function qie(s){if(LA(s)&&(s=s.substr(1)),s.length>0)for(let e=um.length-1;e>=0;e--){const t=um[e];if(!t.firstline)continue;const i=s.match(t.firstline);if(i&&i.length>0)return t}}const Q0=Object.prototype.hasOwnProperty,NF="vs.editor.nullLanguage";class Gie{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(NF,0),this._register(ls,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||NF}}class D_ extends H{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new M),this.onDidChange=this._onDidChange.event,D_.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new Gie,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(Yf.onDidChangeLanguages(i=>{this._initializeFromRegistry()})))}dispose(){D_.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},$ie();const e=[].concat(Yf.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(t=>{const i=this._languages[t];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(n=>{this._lowercaseNameMap[n.toLowerCase()]=i.identifier}),i.mimetypes.forEach(n=>{this._mimeTypesMap[n]=i.identifier})}),Jt.as(la.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let i;Q0.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let n=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n=`text/x-${i}`,e.mimetypes.push(n)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const a of t.extensions)Z0({id:i,mime:n,extension:a},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const a of t.filenames)Z0({id:i,mime:n,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(const a of t.filenamePatterns)Z0({id:i,mime:n,filepattern:a},this._warnOnOverwrite);if(typeof t.firstLine=="string"&&t.firstLine.length>0){let a=t.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{const l=new RegExp(a);ZU(l)||Z0({id:i,mime:n,firstline:l},this._warnOnOverwrite)}catch(l){console.warn(`[${t.id}]: Invalid regular expression \`${a}\`: `,l)}}e.aliases.push(i);let o=null;if(typeof t.aliases!="undefined"&&Array.isArray(t.aliases)&&(t.aliases.length===0?o=[null]:o=t.aliases),o!==null)for(const a of o)!a||a.length===0||e.aliases.push(a);const r=o!==null&&o.length>0;if(!(r&&o[0]===null)){const a=(r?o[0]:null)||i;(r||!e.name)&&(e.name=a)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return e?Q0.call(this._languages,e):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return Q0.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&Q0.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return!e&&!t?[]:jie(e,t)}}D_.instanceCount=0;class I_ extends H{constructor(e=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new M),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new M),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new M({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,I_.instanceCount++,this._registry=this._register(new D_(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){I_.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return V5(i,null)}createById(e){return new AF(this.onDidChange,()=>this._createAndGetLanguageIdentifier(e))}createByFilepathOrFirstLine(e,t){return new AF(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(e){return(!e||!this.isRegisteredLanguageId(e))&&(e=ls),e}requestBasicLanguageFeatures(e){this._requestedBasicLanguages.has(e)||(this._requestedBasicLanguages.add(e),this._onDidRequestBasicLanguageFeatures.fire(e))}requestRichLanguageFeatures(e){this._requestedRichLanguages.has(e)||(this._requestedRichLanguages.add(e),this.requestBasicLanguageFeatures(e),ei.getOrCreate(e),this._onDidRequestRichLanguageFeatures.fire(e))}}I_.instanceCount=0;class AF{constructor(e,t){this._onDidChangeLanguages=e,this._selector=t,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new M({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var e;const t=this._selector();t!==this.languageId&&(this.languageId=t,(e=this._emitter)===null||e===void 0||e.fire(this.languageId))}}const T_={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:pi.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"};function RR(...s){return function(e,t){for(let i=0,n=s.length;i<n;i++){const o=s[i](e,t);if(o)return o}return null}}l7.bind(void 0,!1);const E_=l7.bind(void 0,!0);function l7(s,e,t){if(!t||t.length<e.length)return null;let i;return s?i=wA(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function c7(s,e){const t=e.toLowerCase().indexOf(s.toLowerCase());return t===-1?null:[{start:t,end:t+s.length}]}function d7(s,e){return oT(s.toLowerCase(),e.toLowerCase(),0,0)}function oT(s,e,t,i){if(t===s.length)return[];if(i===e.length)return null;if(s[t]===e[i]){let n=null;return(n=oT(s,e,t+1,i+1))?OR({start:i,end:i+1},n):null}return oT(s,e,t,i+1)}function MR(s){return 97<=s&&s<=122}function my(s){return 65<=s&&s<=90}function PR(s){return 48<=s&&s<=57}function u7(s){return s===32||s===9||s===10||s===13}const h7=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(s=>h7.add(s.charCodeAt(0)));function _1(s){return u7(s)||h7.has(s)}function Zie(s,e){return s===e||_1(s)&&_1(e)}function g7(s){return MR(s)||my(s)||PR(s)}function OR(s,e){return e.length===0?e=[s]:s.end===e[0].start?e[0].start=s.start:e.unshift(s),e}function f7(s,e){for(let t=e;t<s.length;t++){const i=s.charCodeAt(t);if(my(i)||PR(i)||t>0&&!g7(s.charCodeAt(t-1)))return t}return s.length}function sT(s,e,t,i){if(t===s.length)return[];if(i===e.length)return null;if(s[t]!==e[i].toLowerCase())return null;{let n=null,o=i+1;for(n=sT(s,e,t+1,i+1);!n&&(o=f7(e,o))<e.length;)n=sT(s,e,t+1,o),o++;return n===null?null:OR({start:i,end:i+1},n)}}function Qie(s){let e=0,t=0,i=0,n=0,o=0;for(let d=0;d<s.length;d++)o=s.charCodeAt(d),my(o)&&e++,MR(o)&&t++,g7(o)&&i++,PR(o)&&n++;const r=e/s.length,a=t/s.length,l=i/s.length,c=n/s.length;return{upperPercent:r,lowerPercent:a,alphaPercent:l,numericPercent:c}}function Yie(s){const{upperPercent:e,lowerPercent:t}=s;return t===0&&e>.6}function Xie(s){const{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:n}=s;return t>.2&&e<.8&&i>.6&&n<.2}function Jie(s){let e=0,t=0,i=0,n=0;for(let o=0;o<s.length;o++)i=s.charCodeAt(o),my(i)&&e++,MR(i)&&t++,u7(i)&&n++;return(e===0||t===0)&&n===0?s.length<=30:e<=5}function m7(s,e){if(!e||(e=e.trim(),e.length===0)||!Jie(s)||e.length>60)return null;const t=Qie(e);if(!Xie(t)){if(!Yie(t))return null;e=e.toLowerCase()}let i=null,n=0;for(s=s.toLowerCase();n<e.length&&(i=sT(s,e,0,n))===null;)n=f7(e,n+1);return i}function ene(s,e,t=!1){if(!e||e.length===0)return null;let i=null,n=0;for(s=s.toLowerCase(),e=e.toLowerCase();n<e.length&&(i=rT(s,e,0,n,t))===null;)n=p7(e,n+1);return i}function rT(s,e,t,i,n){if(t===s.length)return[];if(i===e.length)return null;if(Zie(s.charCodeAt(t),e.charCodeAt(i))){let o=null,r=i+1;if(o=rT(s,e,t+1,i+1,n),!n)for(;!o&&(r=p7(e,r))<e.length;)o=rT(s,e,t+1,r,n),r++;return o?s.charCodeAt(t)!==e.charCodeAt(i)?o:OR({start:i,end:i+1},o):null}else return null}function p7(s,e){for(let t=e;t<s.length;t++)if(_1(s.charCodeAt(t))||t>0&&_1(s.charCodeAt(t-1)))return t;return s.length}const tne=RR(E_,m7,c7),ine=RR(E_,m7,d7),RF=new Yd(1e4);function MF(s,e,t=!1){if(typeof s!="string"||typeof e!="string")return null;let i=RF.get(s);i||(i=new RegExp(qU(s),"i"),RF.set(s,i));const n=i.exec(e);return n?[{start:n.index,end:n.index+n[0].length}]:t?ine(s,e):tne(s,e)}function nne(s,e){const t=wh(s,s.toLowerCase(),0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?Wv(t):null}function one(s,e,t,i,n,o){const r=Math.min(13,s.length);for(;t<r;t++){const a=wh(s,e,t,i,n,o,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(a)return a}return[0,o]}function Wv(s){if(typeof s=="undefined")return[];const e=[],t=s[1];for(let i=s.length-1;i>1;i--){const n=s[i]+t,o=e[e.length-1];o&&o.end===n?o.end=n+1:e.push({start:n,end:n+1})}return e}const Yc=128;function FR(){const s=[],e=[];for(let t=0;t<=Yc;t++)e[t]=0;for(let t=0;t<=Yc;t++)s.push(e.slice(0));return s}function b7(s){const e=[];for(let t=0;t<=s;t++)e[t]=0;return e}const _7=b7(2*Yc),aT=b7(2*Yc),_l=FR(),gu=FR(),Y0=FR();function X0(s,e){if(e<0||e>=s.length)return!1;const t=s.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!kA(t)}}function PF(s,e){if(e<0||e>=s.length)return!1;switch(s.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function tC(s,e,t){return e[s]!==t[s]}function sne(s,e,t,i,n,o,r=!1){for(;e<t&&n<o;)s[e]===i[n]&&(r&&(_7[e]=n),e+=1),n+=1;return e===t}var Yr;(function(s){s.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}s.isDefault=e})(Yr||(Yr={}));class py{constructor(e,t){this.firstMatchCanBeWeak=e,this.boostFullMatch=t}}py.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function wh(s,e,t,i,n,o,r=py.default){const a=s.length>Yc?Yc:s.length,l=i.length>Yc?Yc:i.length;if(t>=a||o>=l||a-t>l-o||!sne(e,t,a,n,o,l,!0))return;rne(a,l,t,o,e,n);let c=1,d=1,u=t,h=o;const g=[!1];for(c=1,u=t;u<a;c++,u++){const v=_7[u],w=aT[u],C=u+1<a?aT[u+1]:l;for(d=v-o+1,h=v;h<C;d++,h++){let S=Number.MIN_SAFE_INTEGER,x=!1;h<=w&&(S=ane(s,e,u,t,i,n,h,l,o,_l[c-1][d-1]===0,g));let L=0;S!==Number.MAX_SAFE_INTEGER&&(x=!0,L=S+gu[c-1][d-1]);const I=h>v,E=I?gu[c][d-1]+(_l[c][d-1]>0?-5:0):0,W=h>v+1&&_l[c][d-1]>0,U=W?gu[c][d-2]+(_l[c][d-2]>0?-5:0):0;if(W&&(!I||U>=E)&&(!x||U>=L))gu[c][d]=U,Y0[c][d]=3,_l[c][d]=0;else if(I&&(!x||E>=L))gu[c][d]=E,Y0[c][d]=2,_l[c][d]=0;else if(x)gu[c][d]=L,Y0[c][d]=1,_l[c][d]=_l[c-1][d-1]+1;else throw new Error("not possible")}}if(!g[0]&&!r.firstMatchCanBeWeak)return;c--,d--;const m=[gu[c][d],o];let p=0,_=0;for(;c>=1;){let v=d;do{const w=Y0[c][v];if(w===3)v=v-2;else if(w===2)v=v-1;else break}while(v>=1);p>1&&e[t+c-1]===n[o+d-1]&&!tC(v+o-1,i,n)&&p+1>_l[c][v]&&(v=d),v===d?p++:p=1,_||(_=v),c--,d=v-1,m.push(d)}l===a&&r.boostFullMatch&&(m[0]+=2);const b=_-a;return m[0]-=b,m}function rne(s,e,t,i,n,o){let r=s-1,a=e-1;for(;r>=t&&a>=i;)n[r]===o[a]&&(aT[r]=a,r--),a--}function ane(s,e,t,i,n,o,r,a,l,c,d){if(e[t]!==o[r])return Number.MIN_SAFE_INTEGER;let u=1,h=!1;return r===t-i?u=s[t]===n[r]?7:5:tC(r,n,o)&&(r===0||!tC(r-1,n,o))?(u=s[t]===n[r]?7:5,h=!0):X0(o,r)&&(r===0||!X0(o,r-1))?u=5:(X0(o,r-1)||PF(o,r-1))&&(u=5,h=!0),u>1&&t===i&&(d[0]=!0),h||(h=tC(r,n,o)||X0(o,r-1)||PF(o,r-1)),t===i?r>l&&(u-=h?3:5):c?u+=h?2:0:u+=h?0:1,r+1===a&&(u-=h?3:5),u}function lne(s,e,t,i,n,o,r){return cne(s,e,t,i,n,o,!0,r)}function cne(s,e,t,i,n,o,r,a){let l=wh(s,e,t,i,n,o,a);if(l&&!r)return l;if(s.length>=3){const c=Math.min(7,s.length-1);for(let d=t+1;d<c;d++){const u=dne(s,d);if(u){const h=wh(u,u.toLowerCase(),t,i,n,o,a);h&&(h[0]-=3,(!l||h[0]>l[0])&&(l=h))}}}return l}function dne(s,e){if(e+1>=s.length)return;const t=s[e],i=s[e+1];if(t!==i)return s.slice(0,e)+i+t+s.slice(e+2)}const une="$(",BR=new RegExp(`\\$\\(${Ie.iconNameExpression}(?:${Ie.iconModifierExpression})?\\)`,"g"),hne=new RegExp(`(\\\\)?${BR.source}`,"g");function gne(s){return s.replace(hne,(e,t)=>t?e:`\\${e}`)}const fne=new RegExp(`\\\\${BR.source}`,"g");function mne(s){return s.replace(fne,e=>`\\${e}`)}const pne=new RegExp(`(\\s)?(\\\\)?${BR.source}(\\s)?`,"g");function WR(s){return s.indexOf(une)===-1?s:s.replace(pne,(e,t,i,n)=>i?e:t||n||"")}function bne(s){return s?s.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}const GL=new RegExp(`\\$\\(${Ie.iconNameCharacter}+\\)`,"g");function Yp(s){GL.lastIndex=0;let e="";const t=[];let i=0;for(;;){const n=GL.lastIndex,o=GL.exec(s),r=s.substring(n,o==null?void 0:o.index);if(r.length>0){e+=r;for(let a=0;a<r.length;a++)t.push(i)}if(!o)break;i+=o[0].length}return{text:e,iconOffsets:t}}function ZL(s,e,t=!1){const{text:i,iconOffsets:n}=e;if(!n||n.length===0)return MF(s,i,t);const o=wv(i," "),r=i.length-o.length,a=MF(s,o,t);if(a)for(const l of a){const c=n[l.start+r]+r;l.start+=c,l.end+=c}return a}class xn{constructor(e="",t=!1){var i,n,o;if(this.value=e,typeof this.value!="string")throw Ns("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(i=t.isTrusted)!==null&&i!==void 0?i:void 0,this.supportThemeIcons=(n=t.supportThemeIcons)!==null&&n!==void 0?n:!1,this.supportHtml=(o=t.supportHtml)!==null&&o!==void 0?o:!1)}appendText(e,t=0){return this.value+=vne(this.supportThemeIcons?gne(e):e).replace(/([ \t]+)/g,(i,n)=>"&nbsp;".repeat(n.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+=`
`,this.value+=t,this.value+="\n```\n",this}appendLink(e,t,i){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(e,t){const i=new RegExp(cs(t),"g");return e.replace(i,(n,o)=>e.charAt(o-1)!=="\\"?`\\${n}`:n)}}function hm(s){return cd(s)?!s.value:Array.isArray(s)?s.every(hm):!0}function cd(s){return s instanceof xn?!0:s&&typeof s=="object"?typeof s.value=="string"&&(typeof s.isTrusted=="boolean"||typeof s.isTrusted=="object"||s.isTrusted===void 0)&&(typeof s.supportThemeIcons=="boolean"||s.supportThemeIcons===void 0):!1}function _ne(s,e){return s===e?!0:!s||!e?!1:s.value===e.value&&s.isTrusted===e.isTrusted&&s.supportThemeIcons===e.supportThemeIcons&&s.supportHtml===e.supportHtml&&(s.baseUri===e.baseUri||!!s.baseUri&&!!e.baseUri&&hR(De.from(s.baseUri),De.from(e.baseUri)))}function vne(s){return s.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function J0(s){return s.replace(/"/g,"&quot;")}function QL(s){return s&&s.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function wne(s){const e=[],t=s.split("|").map(n=>n.trim());s=t[0];const i=t[1];if(i){const n=/height=(\d+)/.exec(i),o=/width=(\d+)/.exec(i),r=n?n[1]:"",a=o?o[1]:"",l=isFinite(parseInt(a)),c=isFinite(parseInt(r));l&&e.push(`width="${a}"`),c&&e.push(`height="${r}"`)}return{href:s,dimensions:e}}var lT=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function Cne(s,e){ao(e)?s.title=WR(e):e!=null&&e.markdownNotSupportedFallback?s.title=e.markdownNotSupportedFallback:s.removeAttribute("title")}class Sne{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}update(e,t,i){var n;return lT(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let o;if(e===void 0||ao(e)||e instanceof HTMLElement)o=e;else if(!zb(e.markdown))o=(n=e.markdown)!==null&&n!==void 0?n:e.markdownNotSupportedFallback;else{this._hoverWidget||this.show(f("vs/base/browser/ui/iconLabel/iconLabelHover","iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new yi;const r=this._cancellationTokenSource.token;if(o=yield e.markdown(r),o===void 0&&(o=e.markdownNotSupportedFallback),this.isDisposed||r.isCancellationRequested)return}this.show(o,t,i)})}show(e,t,i){const n=this._hoverWidget;if(this.hasContent(e)){const o=Object.assign({content:e,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!n},i);this._hoverWidget=this.hoverDelegate.showHover(o,t)}n==null||n.dispose()}hasContent(e){return e?cd(e)?!!e.value:!0:!1}get isDisposed(){var e;return(e=this._hoverWidget)===null||e===void 0?void 0:e.isDisposed}dispose(){var e,t;(e=this._hoverWidget)===null||e===void 0||e.dispose(),(t=this._cancellationTokenSource)===null||t===void 0||t.dispose(!0),this._cancellationTokenSource=void 0}}function v7(s,e,t,i){let n,o;const r=(u,h)=>{var g;const m=o!==void 0;u&&(o==null||o.dispose(),o=void 0),h&&(n==null||n.dispose(),n=void 0),m&&((g=s.onDidHideHover)===null||g===void 0||g.call(s))},a=(u,h,g)=>new gr(()=>lT(this,void 0,void 0,function*(){(!o||o.isDisposed)&&(o=new Sne(s,g||e,u>0),yield o.update(t,h,i))}),u),l=()=>{if(n)return;const u=new Y,h=p=>r(!1,p.fromElement===e);u.add($(e,ae.MOUSE_LEAVE,h,!0));const g=()=>r(!0,!0);u.add($(e,ae.MOUSE_DOWN,g,!0));const m={targetElements:[e],dispose:()=>{}};if(s.placement===void 0||s.placement==="mouse"){const p=_=>{m.x=_.x+10,_.target instanceof HTMLElement&&_.target.classList.contains("action-label")&&r(!0,!0)};u.add($(e,ae.MOUSE_MOVE,p,!0))}u.add(a(s.delay,!1,m)),n=u},c=$(e,ae.MOUSE_OVER,l,!0);return{show:u=>{r(!1,!0),a(0,u)},hide:()=>{r(!0,!0)},update:(u,h)=>lT(this,void 0,void 0,function*(){t=u,yield o==null?void 0:o.update(t,void 0,h)}),dispose:()=>{c.dispose(),r(!0,!0)}}}function yne(s,e={}){const t=VR(e);return t.textContent=s,t}function kne(s,e={}){const t=VR(e);return w7(t,xne(s,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function VR(s){const e=s.inline?"span":"div",t=document.createElement(e);return s.className&&(t.className=s.className),t}class Lne{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function w7(s,e,t,i){let n;if(e.type===2)n=document.createTextNode(e.content||"");else if(e.type===3)n=document.createElement("b");else if(e.type===4)n=document.createElement("i");else if(e.type===7&&i)n=document.createElement("code");else if(e.type===5&&t){const o=document.createElement("a");t.disposables.add(Si(o,"click",r=>{t.callback(String(e.index),r)})),n=o}else e.type===8?n=document.createElement("br"):e.type===1&&(n=s);n&&s!==n&&s.appendChild(n),n&&Array.isArray(e.children)&&e.children.forEach(o=>{w7(n,o,t,i)})}function xne(s,e){const t={type:1,children:[]};let i=0,n=t;const o=[],r=new Lne(s);for(;!r.eos();){let a=r.next();const l=a==="\\"&&cT(r.peek(),e)!==0;if(l&&(a=r.next()),!l&&Dne(a,e)&&a===r.peek()){r.advance(),n.type===2&&(n=o.pop());const c=cT(a,e);if(n.type===c||n.type===5&&c===6)n=o.pop();else{const d={type:c,children:[]};c===5&&(d.index=i,i++),n.children.push(d),o.push(n),n=d}}else if(a===`
`)n.type===2&&(n=o.pop()),n.children.push({type:8});else if(n.type!==2){const c={type:2,content:a};n.children.push(c),o.push(n),n=c}else n.content+=a}return n.type===2&&(n=o.pop()),t}function Dne(s,e){return cT(s,e)!==0}function cT(s,e){switch(s){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}const Ine=new RegExp(`(\\\\)?\\$\\((${Ie.iconNameExpression}(?:${Ie.iconModifierExpression})?)\\)`,"g");function dd(s){const e=new Array;let t,i=0,n=0;for(;(t=Ine.exec(s))!==null;){n=t.index||0,i<n&&e.push(s.substring(i,n)),i=(t.index||0)+t[0].length;const[,o,r]=t;e.push(o?`$(${r})`:dT({id:r}))}return i<s.length&&e.push(s.substring(i)),e}function dT(s){const e=te("span");return e.classList.add(...Ie.asClassNameArray(s)),e}class HR{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const uT=new HR("id#");let ho={};(function(){function s(e,t){t(ho)}s.amd=!0,function(e,t){typeof s=="function"&&s.amd?s(["exports"],t):typeof exports=="object"&&typeof module!="undefined"?t(exports):(e=typeof globalThis!="undefined"?globalThis:e||self,t(e.marked={}))}(this,function(e){function t(J,K){for(var j=0;j<K.length;j++){var A=K[j];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(J,A.key,A)}}function i(J,K,j){return K&&t(J.prototype,K),j&&t(J,j),Object.defineProperty(J,"prototype",{writable:!1}),J}function n(J,K){if(J){if(typeof J=="string")return o(J,K);var j=Object.prototype.toString.call(J).slice(8,-1);if(j==="Object"&&J.constructor&&(j=J.constructor.name),j==="Map"||j==="Set")return Array.from(J);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return o(J,K)}}function o(J,K){(K==null||K>J.length)&&(K=J.length);for(var j=0,A=new Array(K);j<K;j++)A[j]=J[j];return A}function r(J,K){var j=typeof Symbol!="undefined"&&J[Symbol.iterator]||J["@@iterator"];if(j)return(j=j.call(J)).next.bind(j);if(Array.isArray(J)||(j=n(J))||K&&J&&typeof J.length=="number"){j&&(J=j);var A=0;return function(){return A>=J.length?{done:!0}:{done:!1,value:J[A++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults=a();function l(J){e.defaults=J}var c=/[&<>"']/,d=/[&<>"']/g,u=/[<>"']|&(?!#?\w+;)/,h=/[<>"']|&(?!#?\w+;)/g,g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},m=function(K){return g[K]};function p(J,K){if(K){if(c.test(J))return J.replace(d,m)}else if(u.test(J))return J.replace(h,m);return J}var _=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function b(J){return J.replace(_,function(K,j){return j=j.toLowerCase(),j==="colon"?":":j.charAt(0)==="#"?j.charAt(1)==="x"?String.fromCharCode(parseInt(j.substring(2),16)):String.fromCharCode(+j.substring(1)):""})}var v=/(^|[^\[])\^/g;function w(J,K){J=typeof J=="string"?J:J.source,K=K||"";var j={replace:function(R,z){return z=z.source||z,z=z.replace(v,"$1"),J=J.replace(R,z),j},getRegex:function(){return new RegExp(J,K)}};return j}var C=/[^\w:]/g,S=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function x(J,K,j){if(J){var A;try{A=decodeURIComponent(b(j)).replace(C,"").toLowerCase()}catch(R){return null}if(A.indexOf("javascript:")===0||A.indexOf("vbscript:")===0||A.indexOf("data:")===0)return null}K&&!S.test(j)&&(j=U(K,j));try{j=encodeURI(j).replace(/%25/g,"%")}catch(R){return null}return j}var L={},I=/^[^:]+:\/*[^/]*$/,E=/^([^:]+:)[\s\S]*$/,W=/^([^:]+:\/*[^/]*)[\s\S]*$/;function U(J,K){L[" "+J]||(I.test(J)?L[" "+J]=J+"/":L[" "+J]=X(J,"/",!0)),J=L[" "+J];var j=J.indexOf(":")===-1;return K.substring(0,2)==="//"?j?K:J.replace(E,"$1")+K:K.charAt(0)==="/"?j?K:J.replace(W,"$1")+K:J+K}var F={exec:function(){}};function O(J){for(var K=1,j,A;K<arguments.length;K++){j=arguments[K];for(A in j)Object.prototype.hasOwnProperty.call(j,A)&&(J[A]=j[A])}return J}function G(J,K){var j=J.replace(/\|/g,function(z,B,ee){for(var he=!1,xe=B;--xe>=0&&ee[xe]==="\\";)he=!he;return he?"|":" |"}),A=j.split(/ \|/),R=0;if(A[0].trim()||A.shift(),A.length>0&&!A[A.length-1].trim()&&A.pop(),A.length>K)A.splice(K);else for(;A.length<K;)A.push("");for(;R<A.length;R++)A[R]=A[R].trim().replace(/\\\|/g,"|");return A}function X(J,K,j){var A=J.length;if(A===0)return"";for(var R=0;R<A;){var z=J.charAt(A-R-1);if(z===K&&!j)R++;else if(z!==K&&j)R++;else break}return J.slice(0,A-R)}function fe(J,K){if(J.indexOf(K[1])===-1)return-1;for(var j=J.length,A=0,R=0;R<j;R++)if(J[R]==="\\")R++;else if(J[R]===K[0])A++;else if(J[R]===K[1]&&(A--,A<0))return R;return-1}function be(J){J&&J.sanitize&&!J.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Le(J,K){if(K<1)return"";for(var j="";K>1;)K&1&&(j+=J),K>>=1,J+=J;return j+J}function pe(J,K,j,A){var R=K.href,z=K.title?p(K.title):null,B=J[1].replace(/\\([\[\]])/g,"$1");if(J[0].charAt(0)!=="!"){A.state.inLink=!0;var ee={type:"link",raw:j,href:R,title:z,text:B,tokens:A.inlineTokens(B)};return A.state.inLink=!1,ee}return{type:"image",raw:j,href:R,title:z,text:p(B)}}function Fe(J,K){var j=J.match(/^(\s+)(?:```)/);if(j===null)return K;var A=j[1];return K.split(`
`).map(function(R){var z=R.match(/^\s+/);if(z===null)return R;var B=z[0];return B.length>=A.length?R.slice(A.length):R}).join(`
`)}var Oe=function(){function J(j){this.options=j||e.defaults}var K=J.prototype;return K.space=function(A){var R=this.rules.block.newline.exec(A);if(R&&R[0].length>0)return{type:"space",raw:R[0]}},K.code=function(A){var R=this.rules.block.code.exec(A);if(R){var z=R[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:R[0],codeBlockStyle:"indented",text:this.options.pedantic?z:X(z,`
`)}}},K.fences=function(A){var R=this.rules.block.fences.exec(A);if(R){var z=R[0],B=Fe(z,R[3]||"");return{type:"code",raw:z,lang:R[2]?R[2].trim():R[2],text:B}}},K.heading=function(A){var R=this.rules.block.heading.exec(A);if(R){var z=R[2].trim();if(/#$/.test(z)){var B=X(z,"#");(this.options.pedantic||!B||/ $/.test(B))&&(z=B.trim())}return{type:"heading",raw:R[0],depth:R[1].length,text:z,tokens:this.lexer.inline(z)}}},K.hr=function(A){var R=this.rules.block.hr.exec(A);if(R)return{type:"hr",raw:R[0]}},K.blockquote=function(A){var R=this.rules.block.blockquote.exec(A);if(R){var z=R[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:R[0],tokens:this.lexer.blockTokens(z,[]),text:z}}},K.list=function(A){var R=this.rules.block.list.exec(A);if(R){var z,B,ee,he,xe,Te,Ke,Ue,Pt,Dt,Be,di,ui=R[1].trim(),qs=ui.length>1,Ct={type:"list",raw:"",ordered:qs,start:qs?+ui.slice(0,-1):"",loose:!1,items:[]};ui=qs?"\\d{1,9}\\"+ui.slice(-1):"\\"+ui,this.options.pedantic&&(ui=qs?ui:"[*+-]");for(var Bi=new RegExp("^( {0,3}"+ui+")((?:[	 ][^\\n]*)?(?:\\n|$))");A&&(di=!1,!(!(R=Bi.exec(A))||this.rules.block.hr.test(A)));){if(z=R[0],A=A.substring(z.length),Ue=R[2].split(`
`,1)[0],Pt=A.split(`
`,1)[0],this.options.pedantic?(he=2,Be=Ue.trimLeft()):(he=R[2].search(/[^ ]/),he=he>4?1:he,Be=Ue.slice(he),he+=R[1].length),Te=!1,!Ue&&/^ *$/.test(Pt)&&(z+=Pt+`
`,A=A.substring(Pt.length+1),di=!0),!di)for(var au=new RegExp("^ {0,"+Math.min(3,he-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),lu=new RegExp("^ {0,"+Math.min(3,he-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Sr=new RegExp("^ {0,"+Math.min(3,he-1)+"}(?:```|~~~)"),_c=new RegExp("^ {0,"+Math.min(3,he-1)+"}#");A&&(Dt=A.split(`
`,1)[0],Ue=Dt,this.options.pedantic&&(Ue=Ue.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Sr.test(Ue)||_c.test(Ue)||au.test(Ue)||lu.test(A)));){if(Ue.search(/[^ ]/)>=he||!Ue.trim())Be+=`
`+Ue.slice(he);else if(!Te)Be+=`
`+Ue;else break;!Te&&!Ue.trim()&&(Te=!0),z+=Dt+`
`,A=A.substring(Dt.length+1)}Ct.loose||(Ke?Ct.loose=!0:/\n *\n *$/.test(z)&&(Ke=!0)),this.options.gfm&&(B=/^\[[ xX]\] /.exec(Be),B&&(ee=B[0]!=="[ ] ",Be=Be.replace(/^\[[ xX]\] +/,""))),Ct.items.push({type:"list_item",raw:z,task:!!B,checked:ee,loose:!1,text:Be}),Ct.raw+=z}Ct.items[Ct.items.length-1].raw=z.trimRight(),Ct.items[Ct.items.length-1].text=Be.trimRight(),Ct.raw=Ct.raw.trimRight();var cu=Ct.items.length;for(xe=0;xe<cu;xe++){this.lexer.state.top=!1,Ct.items[xe].tokens=this.lexer.blockTokens(Ct.items[xe].text,[]);var du=Ct.items[xe].tokens.filter(function(uu){return uu.type==="space"}),dg=du.every(function(uu){for(var Vk=uu.raw.split(""),ua=0,ip=r(Vk),np;!(np=ip()).done;){var u0=np.value;if(u0===`
`&&(ua+=1),ua>1)return!0}return!1});!Ct.loose&&du.length&&dg&&(Ct.loose=!0,Ct.items[xe].loose=!0)}return Ct}},K.html=function(A){var R=this.rules.block.html.exec(A);if(R){var z={type:"html",raw:R[0],pre:!this.options.sanitizer&&(R[1]==="pre"||R[1]==="script"||R[1]==="style"),text:R[0]};if(this.options.sanitize){var B=this.options.sanitizer?this.options.sanitizer(R[0]):p(R[0]);z.type="paragraph",z.text=B,z.tokens=this.lexer.inline(B)}return z}},K.def=function(A){var R=this.rules.block.def.exec(A);if(R){R[3]&&(R[3]=R[3].substring(1,R[3].length-1));var z=R[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:z,raw:R[0],href:R[2],title:R[3]}}},K.table=function(A){var R=this.rules.block.table.exec(A);if(R){var z={type:"table",header:G(R[1]).map(function(Ke){return{text:Ke}}),align:R[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:R[3]&&R[3].trim()?R[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(z.header.length===z.align.length){z.raw=R[0];var B=z.align.length,ee,he,xe,Te;for(ee=0;ee<B;ee++)/^ *-+: *$/.test(z.align[ee])?z.align[ee]="right":/^ *:-+: *$/.test(z.align[ee])?z.align[ee]="center":/^ *:-+ *$/.test(z.align[ee])?z.align[ee]="left":z.align[ee]=null;for(B=z.rows.length,ee=0;ee<B;ee++)z.rows[ee]=G(z.rows[ee],z.header.length).map(function(Ke){return{text:Ke}});for(B=z.header.length,he=0;he<B;he++)z.header[he].tokens=this.lexer.inline(z.header[he].text);for(B=z.rows.length,he=0;he<B;he++)for(Te=z.rows[he],xe=0;xe<Te.length;xe++)Te[xe].tokens=this.lexer.inline(Te[xe].text);return z}}},K.lheading=function(A){var R=this.rules.block.lheading.exec(A);if(R)return{type:"heading",raw:R[0],depth:R[2].charAt(0)==="="?1:2,text:R[1],tokens:this.lexer.inline(R[1])}},K.paragraph=function(A){var R=this.rules.block.paragraph.exec(A);if(R){var z=R[1].charAt(R[1].length-1)===`
`?R[1].slice(0,-1):R[1];return{type:"paragraph",raw:R[0],text:z,tokens:this.lexer.inline(z)}}},K.text=function(A){var R=this.rules.block.text.exec(A);if(R)return{type:"text",raw:R[0],text:R[0],tokens:this.lexer.inline(R[0])}},K.escape=function(A){var R=this.rules.inline.escape.exec(A);if(R)return{type:"escape",raw:R[0],text:p(R[1])}},K.tag=function(A){var R=this.rules.inline.tag.exec(A);if(R)return!this.lexer.state.inLink&&/^<a /i.test(R[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(R[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(R[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(R[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:R[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(R[0]):p(R[0]):R[0]}},K.link=function(A){var R=this.rules.inline.link.exec(A);if(R){var z=R[2].trim();if(!this.options.pedantic&&/^</.test(z)){if(!/>$/.test(z))return;var B=X(z.slice(0,-1),"\\");if((z.length-B.length)%2===0)return}else{var ee=fe(R[2],"()");if(ee>-1){var he=R[0].indexOf("!")===0?5:4,xe=he+R[1].length+ee;R[2]=R[2].substring(0,ee),R[0]=R[0].substring(0,xe).trim(),R[3]=""}}var Te=R[2],Ke="";if(this.options.pedantic){var Ue=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Te);Ue&&(Te=Ue[1],Ke=Ue[3])}else Ke=R[3]?R[3].slice(1,-1):"";return Te=Te.trim(),/^</.test(Te)&&(this.options.pedantic&&!/>$/.test(z)?Te=Te.slice(1):Te=Te.slice(1,-1)),pe(R,{href:Te&&Te.replace(this.rules.inline._escapes,"$1"),title:Ke&&Ke.replace(this.rules.inline._escapes,"$1")},R[0],this.lexer)}},K.reflink=function(A,R){var z;if((z=this.rules.inline.reflink.exec(A))||(z=this.rules.inline.nolink.exec(A))){var B=(z[2]||z[1]).replace(/\s+/g," ");if(B=R[B.toLowerCase()],!B||!B.href){var ee=z[0].charAt(0);return{type:"text",raw:ee,text:ee}}return pe(z,B,z[0],this.lexer)}},K.emStrong=function(A,R,z){z===void 0&&(z="");var B=this.rules.inline.emStrong.lDelim.exec(A);if(B&&!(B[3]&&z.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ee=B[1]||B[2]||"";if(!ee||ee&&(z===""||this.rules.inline.punctuation.exec(z))){var he=B[0].length-1,xe,Te,Ke=he,Ue=0,Pt=B[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Pt.lastIndex=0,R=R.slice(-1*A.length+he);(B=Pt.exec(R))!=null;)if(xe=B[1]||B[2]||B[3]||B[4]||B[5]||B[6],!!xe){if(Te=xe.length,B[3]||B[4]){Ke+=Te;continue}else if((B[5]||B[6])&&he%3&&!((he+Te)%3)){Ue+=Te;continue}if(Ke-=Te,!(Ke>0)){if(Te=Math.min(Te,Te+Ke+Ue),Math.min(he,Te)%2){var Dt=A.slice(1,he+B.index+Te);return{type:"em",raw:A.slice(0,he+B.index+Te+1),text:Dt,tokens:this.lexer.inlineTokens(Dt)}}var Be=A.slice(2,he+B.index+Te-1);return{type:"strong",raw:A.slice(0,he+B.index+Te+1),text:Be,tokens:this.lexer.inlineTokens(Be)}}}}}},K.codespan=function(A){var R=this.rules.inline.code.exec(A);if(R){var z=R[2].replace(/\n/g," "),B=/[^ ]/.test(z),ee=/^ /.test(z)&&/ $/.test(z);return B&&ee&&(z=z.substring(1,z.length-1)),z=p(z,!0),{type:"codespan",raw:R[0],text:z}}},K.br=function(A){var R=this.rules.inline.br.exec(A);if(R)return{type:"br",raw:R[0]}},K.del=function(A){var R=this.rules.inline.del.exec(A);if(R)return{type:"del",raw:R[0],text:R[2],tokens:this.lexer.inlineTokens(R[2])}},K.autolink=function(A,R){var z=this.rules.inline.autolink.exec(A);if(z){var B,ee;return z[2]==="@"?(B=p(this.options.mangle?R(z[1]):z[1]),ee="mailto:"+B):(B=p(z[1]),ee=B),{type:"link",raw:z[0],text:B,href:ee,tokens:[{type:"text",raw:B,text:B}]}}},K.url=function(A,R){var z;if(z=this.rules.inline.url.exec(A)){var B,ee;if(z[2]==="@")B=p(this.options.mangle?R(z[0]):z[0]),ee="mailto:"+B;else{var he;do he=z[0],z[0]=this.rules.inline._backpedal.exec(z[0])[0];while(he!==z[0]);B=p(z[0]),z[1]==="www."?ee="http://"+B:ee=B}return{type:"link",raw:z[0],text:B,href:ee,tokens:[{type:"text",raw:B,text:B}]}}},K.inlineText=function(A,R){var z=this.rules.inline.text.exec(A);if(z){var B;return this.lexer.state.inRawBlock?B=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(z[0]):p(z[0]):z[0]:B=p(this.options.smartypants?R(z[0]):z[0]),{type:"text",raw:z[0],text:B}}},J}(),ke={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:F,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};ke._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ke._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,ke.def=w(ke.def).replace("label",ke._label).replace("title",ke._title).getRegex(),ke.bullet=/(?:[*+-]|\d{1,9}[.)])/,ke.listItemStart=w(/^( *)(bull) */).replace("bull",ke.bullet).getRegex(),ke.list=w(ke.list).replace(/bull/g,ke.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ke.def.source+")").getRegex(),ke._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ke._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ke.html=w(ke.html,"i").replace("comment",ke._comment).replace("tag",ke._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ke.paragraph=w(ke._paragraph).replace("hr",ke.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ke._tag).getRegex(),ke.blockquote=w(ke.blockquote).replace("paragraph",ke.paragraph).getRegex(),ke.normal=O({},ke),ke.gfm=O({},ke.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ke.gfm.table=w(ke.gfm.table).replace("hr",ke.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ke._tag).getRegex(),ke.gfm.paragraph=w(ke._paragraph).replace("hr",ke.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ke.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ke._tag).getRegex(),ke.pedantic=O({},ke.normal,{html:w(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ke._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:F,paragraph:w(ke.normal._paragraph).replace("hr",ke.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ke.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var le={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:F,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:F,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};le._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",le.punctuation=w(le.punctuation).replace(/punctuation/g,le._punctuation).getRegex(),le.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,le.escapedEmSt=/\\\*|\\_/g,le._comment=w(ke._comment).replace("(?:-->|$)","-->").getRegex(),le.emStrong.lDelim=w(le.emStrong.lDelim).replace(/punct/g,le._punctuation).getRegex(),le.emStrong.rDelimAst=w(le.emStrong.rDelimAst,"g").replace(/punct/g,le._punctuation).getRegex(),le.emStrong.rDelimUnd=w(le.emStrong.rDelimUnd,"g").replace(/punct/g,le._punctuation).getRegex(),le._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,le._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,le._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,le.autolink=w(le.autolink).replace("scheme",le._scheme).replace("email",le._email).getRegex(),le._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,le.tag=w(le.tag).replace("comment",le._comment).replace("attribute",le._attribute).getRegex(),le._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,le._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,le._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,le.link=w(le.link).replace("label",le._label).replace("href",le._href).replace("title",le._title).getRegex(),le.reflink=w(le.reflink).replace("label",le._label).replace("ref",ke._label).getRegex(),le.nolink=w(le.nolink).replace("ref",ke._label).getRegex(),le.reflinkSearch=w(le.reflinkSearch,"g").replace("reflink",le.reflink).replace("nolink",le.nolink).getRegex(),le.normal=O({},le),le.pedantic=O({},le.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:w(/^!?\[(label)\]\((.*?)\)/).replace("label",le._label).getRegex(),reflink:w(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",le._label).getRegex()}),le.gfm=O({},le.normal,{escape:w(le.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),le.gfm.url=w(le.gfm.url,"i").replace("email",le.gfm._extended_email).getRegex(),le.breaks=O({},le.gfm,{br:w(le.br).replace("{2,}","*").getRegex(),text:w(le.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function xi(J){return J.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function _n(J){var K="",j,A,R=J.length;for(j=0;j<R;j++)A=J.charCodeAt(j),Math.random()>.5&&(A="x"+A.toString(16)),K+="&#"+A+";";return K}var Fi=function(){function J(j){this.tokens=[],this.tokens.links=Object.create(null),this.options=j||e.defaults,this.options.tokenizer=this.options.tokenizer||new Oe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var A={block:ke.normal,inline:le.normal};this.options.pedantic?(A.block=ke.pedantic,A.inline=le.pedantic):this.options.gfm&&(A.block=ke.gfm,this.options.breaks?A.inline=le.breaks:A.inline=le.gfm),this.tokenizer.rules=A}J.lex=function(A,R){var z=new J(R);return z.lex(A)},J.lexInline=function(A,R){var z=new J(R);return z.inlineTokens(A)};var K=J.prototype;return K.lex=function(A){A=A.replace(/\r\n|\r/g,`
`),this.blockTokens(A,this.tokens);for(var R;R=this.inlineQueue.shift();)this.inlineTokens(R.src,R.tokens);return this.tokens},K.blockTokens=function(A,R){var z=this;R===void 0&&(R=[]),this.options.pedantic?A=A.replace(/\t/g,"    ").replace(/^ +$/gm,""):A=A.replace(/^( *)(\t+)/gm,function(Ke,Ue,Pt){return Ue+"    ".repeat(Pt.length)});for(var B,ee,he,xe;A;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ke){return(B=Ke.call({lexer:z},A,R))?(A=A.substring(B.raw.length),R.push(B),!0):!1}))){if(B=this.tokenizer.space(A)){A=A.substring(B.raw.length),B.raw.length===1&&R.length>0?R[R.length-1].raw+=`
`:R.push(B);continue}if(B=this.tokenizer.code(A)){A=A.substring(B.raw.length),ee=R[R.length-1],ee&&(ee.type==="paragraph"||ee.type==="text")?(ee.raw+=`
`+B.raw,ee.text+=`
`+B.text,this.inlineQueue[this.inlineQueue.length-1].src=ee.text):R.push(B);continue}if(B=this.tokenizer.fences(A)){A=A.substring(B.raw.length),R.push(B);continue}if(B=this.tokenizer.heading(A)){A=A.substring(B.raw.length),R.push(B);continue}if(B=this.tokenizer.hr(A)){A=A.substring(B.raw.length),R.push(B);continue}if(B=this.tokenizer.blockquote(A)){A=A.substring(B.raw.length),R.push(B);continue}if(B=this.tokenizer.list(A)){A=A.substring(B.raw.length),R.push(B);continue}if(B=this.tokenizer.html(A)){A=A.substring(B.raw.length),R.push(B);continue}if(B=this.tokenizer.def(A)){A=A.substring(B.raw.length),ee=R[R.length-1],ee&&(ee.type==="paragraph"||ee.type==="text")?(ee.raw+=`
`+B.raw,ee.text+=`
`+B.raw,this.inlineQueue[this.inlineQueue.length-1].src=ee.text):this.tokens.links[B.tag]||(this.tokens.links[B.tag]={href:B.href,title:B.title});continue}if(B=this.tokenizer.table(A)){A=A.substring(B.raw.length),R.push(B);continue}if(B=this.tokenizer.lheading(A)){A=A.substring(B.raw.length),R.push(B);continue}if(he=A,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ke=1/0,Ue=A.slice(1),Pt=void 0;z.options.extensions.startBlock.forEach(function(Dt){Pt=Dt.call({lexer:this},Ue),typeof Pt=="number"&&Pt>=0&&(Ke=Math.min(Ke,Pt))}),Ke<1/0&&Ke>=0&&(he=A.substring(0,Ke+1))}(),this.state.top&&(B=this.tokenizer.paragraph(he))){ee=R[R.length-1],xe&&ee.type==="paragraph"?(ee.raw+=`
`+B.raw,ee.text+=`
`+B.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ee.text):R.push(B),xe=he.length!==A.length,A=A.substring(B.raw.length);continue}if(B=this.tokenizer.text(A)){A=A.substring(B.raw.length),ee=R[R.length-1],ee&&ee.type==="text"?(ee.raw+=`
`+B.raw,ee.text+=`
`+B.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ee.text):R.push(B);continue}if(A){var Te="Infinite loop on byte: "+A.charCodeAt(0);if(this.options.silent){console.error(Te);break}else throw new Error(Te)}}return this.state.top=!0,R},K.inline=function(A,R){return R===void 0&&(R=[]),this.inlineQueue.push({src:A,tokens:R}),R},K.inlineTokens=function(A,R){var z=this;R===void 0&&(R=[]);var B,ee,he,xe=A,Te,Ke,Ue;if(this.tokens.links){var Pt=Object.keys(this.tokens.links);if(Pt.length>0)for(;(Te=this.tokenizer.rules.inline.reflinkSearch.exec(xe))!=null;)Pt.includes(Te[0].slice(Te[0].lastIndexOf("[")+1,-1))&&(xe=xe.slice(0,Te.index)+"["+Le("a",Te[0].length-2)+"]"+xe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Te=this.tokenizer.rules.inline.blockSkip.exec(xe))!=null;)xe=xe.slice(0,Te.index)+"["+Le("a",Te[0].length-2)+"]"+xe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Te=this.tokenizer.rules.inline.escapedEmSt.exec(xe))!=null;)xe=xe.slice(0,Te.index)+"++"+xe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;A;)if(Ke||(Ue=""),Ke=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Be){return(B=Be.call({lexer:z},A,R))?(A=A.substring(B.raw.length),R.push(B),!0):!1}))){if(B=this.tokenizer.escape(A)){A=A.substring(B.raw.length),R.push(B);continue}if(B=this.tokenizer.tag(A)){A=A.substring(B.raw.length),ee=R[R.length-1],ee&&B.type==="text"&&ee.type==="text"?(ee.raw+=B.raw,ee.text+=B.text):R.push(B);continue}if(B=this.tokenizer.link(A)){A=A.substring(B.raw.length),R.push(B);continue}if(B=this.tokenizer.reflink(A,this.tokens.links)){A=A.substring(B.raw.length),ee=R[R.length-1],ee&&B.type==="text"&&ee.type==="text"?(ee.raw+=B.raw,ee.text+=B.text):R.push(B);continue}if(B=this.tokenizer.emStrong(A,xe,Ue)){A=A.substring(B.raw.length),R.push(B);continue}if(B=this.tokenizer.codespan(A)){A=A.substring(B.raw.length),R.push(B);continue}if(B=this.tokenizer.br(A)){A=A.substring(B.raw.length),R.push(B);continue}if(B=this.tokenizer.del(A)){A=A.substring(B.raw.length),R.push(B);continue}if(B=this.tokenizer.autolink(A,_n)){A=A.substring(B.raw.length),R.push(B);continue}if(!this.state.inLink&&(B=this.tokenizer.url(A,_n))){A=A.substring(B.raw.length),R.push(B);continue}if(he=A,this.options.extensions&&this.options.extensions.startInline&&function(){var Be=1/0,di=A.slice(1),ui=void 0;z.options.extensions.startInline.forEach(function(qs){ui=qs.call({lexer:this},di),typeof ui=="number"&&ui>=0&&(Be=Math.min(Be,ui))}),Be<1/0&&Be>=0&&(he=A.substring(0,Be+1))}(),B=this.tokenizer.inlineText(he,xi)){A=A.substring(B.raw.length),B.raw.slice(-1)!=="_"&&(Ue=B.raw.slice(-1)),Ke=!0,ee=R[R.length-1],ee&&ee.type==="text"?(ee.raw+=B.raw,ee.text+=B.text):R.push(B);continue}if(A){var Dt="Infinite loop on byte: "+A.charCodeAt(0);if(this.options.silent){console.error(Dt);break}else throw new Error(Dt)}}return R},i(J,null,[{key:"rules",get:function(){return{block:ke,inline:le}}}]),J}(),_t=function(){function J(j){this.options=j||e.defaults}var K=J.prototype;return K.code=function(A,R,z){var B=(R||"").match(/\S*/)[0];if(this.options.highlight){var ee=this.options.highlight(A,B);ee!=null&&ee!==A&&(z=!0,A=ee)}return A=A.replace(/\n$/,"")+`
`,B?'<pre><code class="'+this.options.langPrefix+p(B,!0)+'">'+(z?A:p(A,!0))+`</code></pre>
`:"<pre><code>"+(z?A:p(A,!0))+`</code></pre>
`},K.blockquote=function(A){return`<blockquote>
`+A+`</blockquote>
`},K.html=function(A){return A},K.heading=function(A,R,z,B){if(this.options.headerIds){var ee=this.options.headerPrefix+B.slug(z);return"<h"+R+' id="'+ee+'">'+A+"</h"+R+`>
`}return"<h"+R+">"+A+"</h"+R+`>
`},K.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},K.list=function(A,R,z){var B=R?"ol":"ul",ee=R&&z!==1?' start="'+z+'"':"";return"<"+B+ee+`>
`+A+"</"+B+`>
`},K.listitem=function(A){return"<li>"+A+`</li>
`},K.checkbox=function(A){return"<input "+(A?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},K.paragraph=function(A){return"<p>"+A+`</p>
`},K.table=function(A,R){return R&&(R="<tbody>"+R+"</tbody>"),`<table>
<thead>
`+A+`</thead>
`+R+`</table>
`},K.tablerow=function(A){return`<tr>
`+A+`</tr>
`},K.tablecell=function(A,R){var z=R.header?"th":"td",B=R.align?"<"+z+' align="'+R.align+'">':"<"+z+">";return B+A+("</"+z+`>
`)},K.strong=function(A){return"<strong>"+A+"</strong>"},K.em=function(A){return"<em>"+A+"</em>"},K.codespan=function(A){return"<code>"+A+"</code>"},K.br=function(){return this.options.xhtml?"<br/>":"<br>"},K.del=function(A){return"<del>"+A+"</del>"},K.link=function(A,R,z){if(A=x(this.options.sanitize,this.options.baseUrl,A),A===null)return z;var B='<a href="'+p(A)+'"';return R&&(B+=' title="'+R+'"'),B+=">"+z+"</a>",B},K.image=function(A,R,z){if(A=x(this.options.sanitize,this.options.baseUrl,A),A===null)return z;var B='<img src="'+A+'" alt="'+z+'"';return R&&(B+=' title="'+R+'"'),B+=this.options.xhtml?"/>":">",B},K.text=function(A){return A},J}(),Hi=function(){function J(){}var K=J.prototype;return K.strong=function(A){return A},K.em=function(A){return A},K.codespan=function(A){return A},K.del=function(A){return A},K.html=function(A){return A},K.text=function(A){return A},K.link=function(A,R,z){return""+z},K.image=function(A,R,z){return""+z},K.br=function(){return""},J}(),js=function(){function J(){this.seen={}}var K=J.prototype;return K.serialize=function(A){return A.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},K.getNextSafeSlug=function(A,R){var z=A,B=0;if(this.seen.hasOwnProperty(z)){B=this.seen[A];do B++,z=A+"-"+B;while(this.seen.hasOwnProperty(z))}return R||(this.seen[A]=B,this.seen[z]=0),z},K.slug=function(A,R){R===void 0&&(R={});var z=this.serialize(A);return this.getNextSafeSlug(z,R.dryrun)},J}(),vn=function(){function J(j){this.options=j||e.defaults,this.options.renderer=this.options.renderer||new _t,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Hi,this.slugger=new js}J.parse=function(A,R){var z=new J(R);return z.parse(A)},J.parseInline=function(A,R){var z=new J(R);return z.parseInline(A)};var K=J.prototype;return K.parse=function(A,R){R===void 0&&(R=!0);var z="",B,ee,he,xe,Te,Ke,Ue,Pt,Dt,Be,di,ui,qs,Ct,Bi,au,lu,Sr,_c,cu=A.length;for(B=0;B<cu;B++){if(Be=A[B],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Be.type]&&(_c=this.options.extensions.renderers[Be.type].call({parser:this},Be),_c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Be.type))){z+=_c||"";continue}switch(Be.type){case"space":continue;case"hr":{z+=this.renderer.hr();continue}case"heading":{z+=this.renderer.heading(this.parseInline(Be.tokens),Be.depth,b(this.parseInline(Be.tokens,this.textRenderer)),this.slugger);continue}case"code":{z+=this.renderer.code(Be.text,Be.lang,Be.escaped);continue}case"table":{for(Pt="",Ue="",xe=Be.header.length,ee=0;ee<xe;ee++)Ue+=this.renderer.tablecell(this.parseInline(Be.header[ee].tokens),{header:!0,align:Be.align[ee]});for(Pt+=this.renderer.tablerow(Ue),Dt="",xe=Be.rows.length,ee=0;ee<xe;ee++){for(Ke=Be.rows[ee],Ue="",Te=Ke.length,he=0;he<Te;he++)Ue+=this.renderer.tablecell(this.parseInline(Ke[he].tokens),{header:!1,align:Be.align[he]});Dt+=this.renderer.tablerow(Ue)}z+=this.renderer.table(Pt,Dt);continue}case"blockquote":{Dt=this.parse(Be.tokens),z+=this.renderer.blockquote(Dt);continue}case"list":{for(di=Be.ordered,ui=Be.start,qs=Be.loose,xe=Be.items.length,Dt="",ee=0;ee<xe;ee++)Bi=Be.items[ee],au=Bi.checked,lu=Bi.task,Ct="",Bi.task&&(Sr=this.renderer.checkbox(au),qs?Bi.tokens.length>0&&Bi.tokens[0].type==="paragraph"?(Bi.tokens[0].text=Sr+" "+Bi.tokens[0].text,Bi.tokens[0].tokens&&Bi.tokens[0].tokens.length>0&&Bi.tokens[0].tokens[0].type==="text"&&(Bi.tokens[0].tokens[0].text=Sr+" "+Bi.tokens[0].tokens[0].text)):Bi.tokens.unshift({type:"text",text:Sr}):Ct+=Sr),Ct+=this.parse(Bi.tokens,qs),Dt+=this.renderer.listitem(Ct,lu,au);z+=this.renderer.list(Dt,di,ui);continue}case"html":{z+=this.renderer.html(Be.text);continue}case"paragraph":{z+=this.renderer.paragraph(this.parseInline(Be.tokens));continue}case"text":{for(Dt=Be.tokens?this.parseInline(Be.tokens):Be.text;B+1<cu&&A[B+1].type==="text";)Be=A[++B],Dt+=`
`+(Be.tokens?this.parseInline(Be.tokens):Be.text);z+=R?this.renderer.paragraph(Dt):Dt;continue}default:{var du='Token with "'+Be.type+'" type was not found.';if(this.options.silent){console.error(du);return}else throw new Error(du)}}}return z},K.parseInline=function(A,R){R=R||this.renderer;var z="",B,ee,he,xe=A.length;for(B=0;B<xe;B++){if(ee=A[B],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ee.type]&&(he=this.options.extensions.renderers[ee.type].call({parser:this},ee),he!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ee.type))){z+=he||"";continue}switch(ee.type){case"escape":{z+=R.text(ee.text);break}case"html":{z+=R.html(ee.text);break}case"link":{z+=R.link(ee.href,ee.title,this.parseInline(ee.tokens,R));break}case"image":{z+=R.image(ee.href,ee.title,ee.text);break}case"strong":{z+=R.strong(this.parseInline(ee.tokens,R));break}case"em":{z+=R.em(this.parseInline(ee.tokens,R));break}case"codespan":{z+=R.codespan(ee.text);break}case"br":{z+=R.br();break}case"del":{z+=R.del(this.parseInline(ee.tokens,R));break}case"text":{z+=R.text(ee.text);break}default:{var Te='Token with "'+ee.type+'" type was not found.';if(this.options.silent){console.error(Te);return}else throw new Error(Te)}}}return z},J}();function ze(J,K,j){if(typeof J=="undefined"||J===null)throw new Error("marked(): input parameter is undefined or null");if(typeof J!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(J)+", string expected");if(typeof K=="function"&&(j=K,K=null),K=O({},ze.defaults,K||{}),be(K),j){var A=K.highlight,R;try{R=Fi.lex(J,K)}catch(xe){return j(xe)}var z=function(Te){var Ke;if(!Te)try{K.walkTokens&&ze.walkTokens(R,K.walkTokens),Ke=vn.parse(R,K)}catch(Ue){Te=Ue}return K.highlight=A,Te?j(Te):j(null,Ke)};if(!A||A.length<3||(delete K.highlight,!R.length))return z();var B=0;ze.walkTokens(R,function(xe){xe.type==="code"&&(B++,setTimeout(function(){A(xe.text,xe.lang,function(Te,Ke){if(Te)return z(Te);Ke!=null&&Ke!==xe.text&&(xe.text=Ke,xe.escaped=!0),B--,B===0&&z()})},0))}),B===0&&z();return}function ee(xe){if(xe.message+=`
Please report this to https://github.com/markedjs/marked.`,K.silent)return"<p>An error occurred:</p><pre>"+p(xe.message+"",!0)+"</pre>";throw xe}try{var he=Fi.lex(J,K);if(K.walkTokens){if(K.async)return Promise.all(ze.walkTokens(he,K.walkTokens)).then(function(){return vn.parse(he,K)}).catch(ee);ze.walkTokens(he,K.walkTokens)}return vn.parse(he,K)}catch(xe){ee(xe)}}ze.options=ze.setOptions=function(J){return O(ze.defaults,J),l(ze.defaults),ze},ze.getDefaults=a,ze.defaults=e.defaults,ze.use=function(){for(var J=arguments.length,K=new Array(J),j=0;j<J;j++)K[j]=arguments[j];var A=O.apply(void 0,[{}].concat(K)),R=ze.defaults.extensions||{renderers:{},childTokens:{}},z;K.forEach(function(B){if(B.extensions&&(z=!0,B.extensions.forEach(function(he){if(!he.name)throw new Error("extension name required");if(he.renderer){var xe=R.renderers?R.renderers[he.name]:null;xe?R.renderers[he.name]=function(){for(var Te=arguments.length,Ke=new Array(Te),Ue=0;Ue<Te;Ue++)Ke[Ue]=arguments[Ue];var Pt=he.renderer.apply(this,Ke);return Pt===!1&&(Pt=xe.apply(this,Ke)),Pt}:R.renderers[he.name]=he.renderer}if(he.tokenizer){if(!he.level||he.level!=="block"&&he.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");R[he.level]?R[he.level].unshift(he.tokenizer):R[he.level]=[he.tokenizer],he.start&&(he.level==="block"?R.startBlock?R.startBlock.push(he.start):R.startBlock=[he.start]:he.level==="inline"&&(R.startInline?R.startInline.push(he.start):R.startInline=[he.start]))}he.childTokens&&(R.childTokens[he.name]=he.childTokens)})),B.renderer&&function(){var he=ze.defaults.renderer||new _t,xe=function(Ue){var Pt=he[Ue];he[Ue]=function(){for(var Dt=arguments.length,Be=new Array(Dt),di=0;di<Dt;di++)Be[di]=arguments[di];var ui=B.renderer[Ue].apply(he,Be);return ui===!1&&(ui=Pt.apply(he,Be)),ui}};for(var Te in B.renderer)xe(Te);A.renderer=he}(),B.tokenizer&&function(){var he=ze.defaults.tokenizer||new Oe,xe=function(Ue){var Pt=he[Ue];he[Ue]=function(){for(var Dt=arguments.length,Be=new Array(Dt),di=0;di<Dt;di++)Be[di]=arguments[di];var ui=B.tokenizer[Ue].apply(he,Be);return ui===!1&&(ui=Pt.apply(he,Be)),ui}};for(var Te in B.tokenizer)xe(Te);A.tokenizer=he}(),B.walkTokens){var ee=ze.defaults.walkTokens;A.walkTokens=function(he){var xe=[];return xe.push(B.walkTokens.call(this,he)),ee&&(xe=xe.concat(ee.call(this,he))),xe}}z&&(A.extensions=R),ze.setOptions(A)})},ze.walkTokens=function(J,K){for(var j=[],A=function(){var ee=z.value;switch(j=j.concat(K.call(ze,ee)),ee.type){case"table":{for(var he=r(ee.header),xe;!(xe=he()).done;){var Te=xe.value;j=j.concat(ze.walkTokens(Te.tokens,K))}for(var Ke=r(ee.rows),Ue;!(Ue=Ke()).done;)for(var Pt=Ue.value,Dt=r(Pt),Be;!(Be=Dt()).done;){var di=Be.value;j=j.concat(ze.walkTokens(di.tokens,K))}break}case"list":{j=j.concat(ze.walkTokens(ee.items,K));break}default:ze.defaults.extensions&&ze.defaults.extensions.childTokens&&ze.defaults.extensions.childTokens[ee.type]?ze.defaults.extensions.childTokens[ee.type].forEach(function(ui){j=j.concat(ze.walkTokens(ee[ui],K))}):ee.tokens&&(j=j.concat(ze.walkTokens(ee.tokens,K)))}},R=r(J),z;!(z=R()).done;)A();return j},ze.parseInline=function(J,K){if(typeof J=="undefined"||J===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof J!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(J)+", string expected");K=O({},ze.defaults,K||{}),be(K);try{var j=Fi.lexInline(J,K);return K.walkTokens&&ze.walkTokens(j,K.walkTokens),vn.parseInline(j,K)}catch(A){if(A.message+=`
Please report this to https://github.com/markedjs/marked.`,K.silent)return"<p>An error occurred:</p><pre>"+p(A.message+"",!0)+"</pre>";throw A}},ze.Parser=vn,ze.parser=vn.parse,ze.Renderer=_t,ze.TextRenderer=Hi,ze.Lexer=Fi,ze.lexer=Fi.lex,ze.Tokenizer=Oe,ze.Slugger=js,ze.parse=ze;var Ks=ze.options,wr=ze.setOptions,Cr=ze.use,Gi=ze.walkTokens,_s=ze.parseInline,c0=ze,d0=vn.parse,Wk=Fi.lex;e.Lexer=Fi,e.Parser=vn,e.Renderer=_t,e.Slugger=js,e.TextRenderer=Hi,e.Tokenizer=Oe,e.getDefaults=a,e.lexer=Wk,e.marked=ze,e.options=Ks,e.parse=c0,e.parseInline=_s,e.parser=d0,e.setOptions=wr,e.use=Cr,e.walkTokens=Gi,Object.defineProperty(e,"__esModule",{value:!0})})})();ho.Lexer||exports.Lexer;ho.Parser||exports.Parser;ho.Renderer||exports.Renderer;ho.Slugger||exports.Slugger;ho.TextRenderer||exports.TextRenderer;ho.Tokenizer||exports.Tokenizer;ho.getDefaults||exports.getDefaults;ho.lexer||exports.lexer;var Na=ho.marked||exports.marked;ho.options||exports.options;ho.parse||exports.parse;ho.parseInline||exports.parseInline;ho.parser||exports.parser;ho.setOptions||exports.setOptions;ho.use||exports.use;ho.walkTokens||exports.walkTokens;function Tne(s){return JSON.stringify(s,Ene)}function hT(s){let e=JSON.parse(s);return e=gT(e),e}function Ene(s,e){return e instanceof RegExp?{$mid:2,source:e.source,flags:e.flags}:e}function gT(s,e=0){if(!s||e>200)return s;if(typeof s=="object"){switch(s.$mid){case 1:return De.revive(s);case 2:return new RegExp(s.source,s.flags);case 17:return new Date(s.source)}if(s instanceof US||s instanceof Uint8Array)return s;if(Array.isArray(s))for(let t=0;t<s.length;++t)s[t]=gT(s[t],e+1);else for(const t in s)Object.hasOwnProperty.call(s,t)&&(s[t]=gT(s[t],e+1))}return s}const YL=Object.freeze({image:(s,e,t)=>{let i=[],n=[];return s&&({href:s,dimensions:i}=wne(s),n.push(`src="${J0(s)}"`)),t&&n.push(`alt="${J0(t)}"`),e&&n.push(`title="${J0(e)}"`),i.length&&(n=n.concat(i)),"<img "+n.join(" ")+">"},paragraph:s=>`<p>${s}</p>`,link:(s,e,t)=>typeof s!="string"?"":(s===t&&(t=QL(t)),e=typeof e=="string"?J0(QL(e)):"",s=QL(s),s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${s}" title="${e||s}">${t}</a>`)});function by(s,e={},t={}){var i,n;const o=new Y;let r=!1;const a=VR(e),l=function(b){let v;try{v=hT(decodeURIComponent(b))}catch(w){}return v?(v=j5(v,w=>{if(s.uris&&s.uris[w])return De.revive(s.uris[w])}),encodeURIComponent(JSON.stringify(v))):b},c=function(b,v){const w=s.uris&&s.uris[b];let C=De.revive(w);return v?b.startsWith(qe.data+":")?b:(C||(C=De.parse(b)),UW.uriToBrowserUri(C).toString(!0)):!C||De.parse(b).toString()===C.toString()?b:(C.query&&(C=C.with({query:l(C.query)})),C.toString())},d=new Na.Renderer;d.image=YL.image,d.link=YL.link,d.paragraph=YL.paragraph;const u=[],h=[];if(e.codeBlockRendererSync?d.code=(b,v)=>{const w=uT.nextId(),C=e.codeBlockRendererSync(OF(v),b);return h.push([w,C]),`<div class="code" data-code="${w}">${IC(b)}</div>`}:e.codeBlockRenderer&&(d.code=(b,v)=>{const w=uT.nextId(),C=e.codeBlockRenderer(OF(v),b);return u.push(C.then(S=>[w,S])),`<div class="code" data-code="${w}">${IC(b)}</div>`}),e.actionHandler){const b=function(C){let S=C.target;if(!(S.tagName!=="A"&&(S=S.parentElement,!S||S.tagName!=="A")))try{let x=S.dataset.href;x&&(s.baseUri&&(x=XL(De.from(s.baseUri),x)),e.actionHandler.callback(x,C))}catch(x){He(x)}finally{C.preventDefault()}},v=e.actionHandler.disposables.add(new tt(a,"click")),w=e.actionHandler.disposables.add(new tt(a,"auxclick"));e.actionHandler.disposables.add(ce.any(v.event,w.event)(C=>{const S=new Ds(C);!S.leftButton&&!S.middleButton||b(S)})),e.actionHandler.disposables.add($(a,"keydown",C=>{const S=new Wt(C);!S.equals(10)&&!S.equals(3)||b(S)}))}s.supportHtml||(t.sanitizer=b=>(s.isTrusted?b.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?b:"",t.sanitize=!0,t.silent=!0),t.renderer=d;let g=(i=s.value)!==null&&i!==void 0?i:"";g.length>1e5&&(g=`${g.substr(0,1e5)}…`),s.supportThemeIcons&&(g=mne(g));let m;if(e.fillInIncompleteTokens){const b=Object.assign(Object.assign({},Na.defaults),t),v=Na.lexer(g,b),w=Bne(v);m=Na.parser(w,b)}else m=Na.parse(g,t);s.supportThemeIcons&&(m=dd(m).map(v=>typeof v=="string"?v:v.outerHTML).join(""));const _=new DOMParser().parseFromString(fT(s,m),"text/html");if(_.body.querySelectorAll("img").forEach(b=>{const v=b.getAttribute("src");if(v){let w=v;try{s.baseUri&&(w=XL(De.from(s.baseUri),w))}catch(C){}b.src=c(w,!0)}}),_.body.querySelectorAll("a").forEach(b=>{const v=b.getAttribute("href");if(b.setAttribute("href",""),!v||/^data:|javascript:/i.test(v)||/^command:/i.test(v)&&!s.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(v))b.replaceWith(...b.childNodes);else{let w=c(v,!1);s.baseUri&&(w=XL(De.from(s.baseUri),v)),b.dataset.href=w}}),a.innerHTML=fT(s,_.body.innerHTML),u.length>0)Promise.all(u).then(b=>{var v,w;if(r)return;const C=new Map(b),S=a.querySelectorAll("div[data-code]");for(const x of S){const L=C.get((v=x.dataset.code)!==null&&v!==void 0?v:"");L&&mn(x,L)}(w=e.asyncRenderCallback)===null||w===void 0||w.call(e)});else if(h.length>0){const b=new Map(h),v=a.querySelectorAll("div[data-code]");for(const w of v){const C=b.get((n=w.dataset.code)!==null&&n!==void 0?n:"");C&&mn(w,C)}}if(e.asyncRenderCallback)for(const b of a.getElementsByTagName("img")){const v=o.add($(b,"load",()=>{v.dispose(),e.asyncRenderCallback()}))}return{element:a,dispose:()=>{r=!0,o.dispose()}}}function OF(s){if(!s)return"";const e=s.split(/[\s+|:|,|\{|\?]/,1);return e.length?e[0]:s}function XL(s,e){return/^\w[\w\d+.-]*:/.test(e)?e:s.path.endsWith("/")?MO(s,e).toString():MO(ay(s),e).toString()}function fT(s,e){const{config:t,allowedSchemes:i}=Ane(s);VW("uponSanitizeAttribute",(o,r)=>{if(r.attrName==="style"||r.attrName==="class"){if(o.tagName==="SPAN"){if(r.attrName==="style"){r.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(r.attrValue);return}else if(r.attrName==="class"){r.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(r.attrValue);return}}r.keepAttr=!1;return}});const n=Nj(i);try{return WW(e,Object.assign(Object.assign({},t),{RETURN_TRUSTED_TYPE:!0}))}finally{HW("uponSanitizeAttribute"),n.dispose()}}const Nne=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function Ane(s){const e=[qe.http,qe.https,qe.mailto,qe.data,qe.file,qe.vscodeFileResource,qe.vscodeRemote,qe.vscodeRemoteResource];return s.isTrusted&&e.push(qe.command),{config:{ALLOWED_TAGS:[...Aj],ALLOWED_ATTR:Nne,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}function Rne(s){return typeof s=="string"?s:Mne(s)}function Mne(s){var e;let t=(e=s.value)!==null&&e!==void 0?e:"";t.length>1e5&&(t=`${t.substr(0,1e5)}…`);const i=Na.parse(t,{renderer:One.value}).replace(/&(#\d+|[a-zA-Z]+);/g,n=>{var o;return(o=Pne.get(n))!==null&&o!==void 0?o:n});return fT({isTrusted:!1},i).toString()}const Pne=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),One=new Qd(()=>{const s=new Na.Renderer;return s.code=e=>e,s.blockquote=e=>e,s.html=e=>"",s.heading=(e,t,i)=>e+`
`,s.hr=()=>"",s.list=(e,t)=>e,s.listitem=e=>e+`
`,s.paragraph=e=>e+`
`,s.table=(e,t)=>e+t+`
`,s.tablerow=e=>e,s.tablecell=(e,t)=>e+" ",s.strong=e=>e,s.em=e=>e,s.codespan=e=>e,s.br=()=>`
`,s.del=e=>e,s.image=(e,t,i)=>"",s.text=e=>e,s.link=(e,t,i)=>i,s});function zR(s){let e="";return s.forEach(t=>{e+=t.raw}),e}function Fne(s){for(const e of s.tokens)if(e.type==="text"){const t=e.raw.split(`
`),i=t[t.length-1];if(i.includes("`"))return Vne(s);if(i.includes("**"))return jne(s);if(i.match(/\*\w/))return Hne(s);if(i.match(/(^|\s)__\w/))return Kne(s);if(i.match(/(^|\s)_\w/))return zne(s);if(i.match(/(^|\s)\[.*\]\(\w*/))return Une(s);if(i.match(/(^|\s)\[\w/))return $ne(s)}}function Bne(s){let e,t;for(e=0;e<s.length;e++){const i=s[e];if(i.type==="paragraph"&&i.raw.match(/(\n|^)```/)){t=Wne(s.slice(e));break}if(i.type==="paragraph"&&i.raw.match(/(\n|^)\|/)){t=qne(s.slice(e));break}if(e===s.length-1&&i.type==="paragraph"){const n=Fne(i);if(n){t=[n];break}}}if(t){const i=[...s.slice(0,e),...t];return i.links=s.links,i}return s}function Wne(s){const e=zR(s);return Na.lexer(e+"\n```")}function Vne(s){return Yh(s,"`")}function Hne(s){return Yh(s,"*")}function zne(s){return Yh(s,"_")}function Une(s){return Yh(s,")")}function $ne(s){return Yh(s,"](about:blank)")}function jne(s){return Yh(s,"**")}function Kne(s){return Yh(s,"__")}function Yh(s,e){const t=zR(Array.isArray(s)?s:[s]);return Na.lexer(t+e)[0]}function qne(s){const e=zR(s),t=e.split(`
`);let i,n=!1;for(let o=0;o<t.length;o++){const r=t[o].trim();if(typeof i=="undefined"&&r.match(/^\s*\|/)){const a=r.match(/(\|[^\|]+)(?=\||$)/g);a&&(i=a.length)}else if(typeof i=="number")if(r.match(/^\s*\|/)){if(o!==t.length-1)return;n=!0}else return}if(typeof i=="number"&&i>0){const o=n?t.slice(0,-1).join(`
`):e,r=!!o.match(/\|\s*$/),a=o+(r?"":"|")+`
|${" --- |".repeat(i)}`;return Na.lexer(a)}}class Gne{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(n=>n.splice(e,t,i))}}class Cg extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function FF(s,e){const t=[];for(const i of e){if(s.start>=i.range.end)continue;if(s.end<i.range.start)break;const n=Nn.intersect(s,i.range);Nn.isEmpty(n)||t.push({range:n,size:i.size})}return t}function mT({start:s,end:e},t){return{start:s+t,end:e+t}}function Zne(s){const e=[];let t=null;for(const i of s){const n=i.range.start,o=i.range.end,r=i.size;if(t&&r===t.size){t.range.end=o;continue}t={range:{start:n,end:o},size:r},e.push(t)}return e}function Qne(...s){return Zne(s.reduce((e,t)=>e.concat(t),[]))}class BF{get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=e!=null?e:0,this._size=this._paddingTop}splice(e,t,i=[]){const n=i.length-t,o=FF({start:0,end:e},this.groups),r=FF({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:mT(l.range,n),size:l.size})),a=i.map((l,c)=>({range:{start:e+c,end:e+c+1},size:l.size}));this.groups=Qne(o,a,r),this._size=this._paddingTop+this.groups.reduce((l,c)=>l+c.size*(c.range.end-c.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,i=this._paddingTop;for(const n of this.groups){const o=n.range.end-n.range.start,r=i+o*n.size;if(e<r)return t+Math.floor((e-i)/n.size);t+=o,i=r}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(const n of this.groups){const o=n.range.end-n.range.start,r=i+o;if(e<r)return this._paddingTop+t+(e-i)*n.size;t+=o*n.size,i=r}return-1}}function Yne(s){var e;try{(e=s.parentElement)===null||e===void 0||e.removeChild(s)}catch(t){}}class Xne{constructor(e){this.renderers=e,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(e){let t=this.getTemplateCache(e).pop(),i=!1;if(t)i=this.transactionNodesPendingRemoval.has(t.domNode),i&&this.transactionNodesPendingRemoval.delete(t.domNode);else{const n=te(".monaco-list-row"),r=this.getRenderer(e).renderTemplate(n);t={domNode:n,templateId:e,templateData:r}}return{row:t,isReusingConnectedDomNode:i}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(const t of this.transactionNodesPendingRemoval)this.doRemoveNode(t);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t)),this.getTemplateCache(i).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),Yne(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var fc=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const fu={CurrentDragAndDropData:void 0},ga={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(s){return[s]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class Vv{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class Jne{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class eoe{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}function toe(s,e){return Array.isArray(s)&&Array.isArray(e)?bi(s,e):s===e}class ioe{constructor(e){e!=null&&e.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,n)=>n,e!=null&&e.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e!=null&&e.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e!=null&&e.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}}class Us{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:oL(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(e,t,i,n=ga){var o,r,a,l,c,d,u,h,g,m,p,_,b;if(this.virtualDelegate=t,this.domId=`list_id_${++Us.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new hr(50),this.splicing=!1,this.dragOverAnimationStopDisposable=H.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=H.None,this.onDragLeaveTimeout=H.None,this.disposables=new Y,this._onDidChangeContentHeight=new M,this._onDidChangeContentWidth=new M,this._horizontalScrolling=!1,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new BF((o=n.paddingTop)!==null&&o!==void 0?o:0);for(const w of i)this.renderers.set(w.templateId,w);this.cache=this.disposables.add(new Xne(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof n.mouseSupport=="boolean"?n.mouseSupport:!0),this._horizontalScrolling=(r=n.horizontalScrolling)!==null&&r!==void 0?r:ga.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof n.paddingBottom=="undefined"?0:n.paddingBottom,this.accessibilityProvider=new ioe(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((a=n.transformOptimization)!==null&&a!==void 0?a:ga.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(Nt.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new Nv({forceIntegerValues:!0,smoothScrollDuration:(l=n.smoothScrolling)!==null&&l!==void 0&&l?125:0,scheduleAtNextAnimationFrame:w=>Ps(w)})),this.scrollableElement=this.disposables.add(new oR(this.rowsContainer,{alwaysConsumeMouseWheel:(c=n.alwaysConsumeMouseWheel)!==null&&c!==void 0?c:ga.alwaysConsumeMouseWheel,horizontal:1,vertical:(d=n.verticalScrollMode)!==null&&d!==void 0?d:ga.verticalScrollMode,useShadows:(u=n.useShadows)!==null&&u!==void 0?u:ga.useShadows,mouseWheelScrollSensitivity:n.mouseWheelScrollSensitivity,fastScrollSensitivity:n.fastScrollSensitivity,scrollByPage:n.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add($(this.rowsContainer,At.Change,w=>this.onTouchChange(w))),this.disposables.add($(this.scrollableElement.getDomNode(),"scroll",w=>w.target.scrollTop=0)),this.disposables.add($(this.domNode,"dragover",w=>this.onDragOver(this.toDragEvent(w)))),this.disposables.add($(this.domNode,"drop",w=>this.onDrop(this.toDragEvent(w)))),this.disposables.add($(this.domNode,"dragleave",w=>this.onDragLeave(this.toDragEvent(w)))),this.disposables.add($(this.domNode,"dragend",w=>this.onDragEnd(w))),this.setRowLineHeight=(h=n.setRowLineHeight)!==null&&h!==void 0?h:ga.setRowLineHeight,this.setRowHeight=(g=n.setRowHeight)!==null&&g!==void 0?g:ga.setRowHeight,this.supportDynamicHeights=(m=n.supportDynamicHeights)!==null&&m!==void 0?m:ga.supportDynamicHeights,this.dnd=(p=n.dnd)!==null&&p!==void 0?p:this.disposables.add(ga.dnd),this.layout((_=n.initialSize)===null||_===void 0?void 0:_.height,(b=n.initialSize)===null||b===void 0?void 0:b.width)}updateOptions(e){e.paddingBottom!==void 0&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling);let t;if(e.scrollByPage!==void 0&&(t=Object.assign(Object.assign({},t!=null?t:{}),{scrollByPage:e.scrollByPage})),e.mouseWheelScrollSensitivity!==void 0&&(t=Object.assign(Object.assign({},t!=null?t:{}),{mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity})),e.fastScrollSensitivity!==void 0&&(t=Object.assign(Object.assign({},t!=null?t:{}),{fastScrollSensitivity:e.fastScrollSensitivity})),t&&this.scrollableElement.updateOptions(t),e.paddingTop!==void 0&&e.paddingTop!==this.rangeMap.paddingTop){const i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),n=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(i,Math.max(0,this.lastRenderTop+n),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},r=Nn.intersect(n,o),a=new Map;for(let x=r.end-1;x>=r.start;x--){const L=this.items[x];if(L.dragStartDisposable.dispose(),L.checkedDisposable.dispose(),L.row){let I=a.get(L.templateId);I||(I=[],a.set(L.templateId,I));const E=this.renderers.get(L.templateId);E&&E.disposeElement&&E.disposeElement(L.element,x,L.row.templateData,L.size),I.push(L.row)}L.row=null}const l={start:e+t,end:this.items.length},c=Nn.intersect(l,n),d=Nn.relativeComplement(l,n),u=i.map(x=>({id:String(this.itemId++),element:x,templateId:this.virtualDelegate.getTemplateId(x),size:this.virtualDelegate.getHeight(x),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(x),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:H.None,checkedDisposable:H.None}));let h;e===0&&t>=this.items.length?(this.rangeMap=new BF(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,u),h=this.items,this.items=u):(this.rangeMap.splice(e,t,u),h=this.items.splice(e,t,...u));const g=i.length-t,m=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),p=mT(c,g),_=Nn.intersect(m,p);for(let x=_.start;x<_.end;x++)this.updateItemInDOM(this.items[x],x);const b=Nn.relativeComplement(p,m);for(const x of b)for(let L=x.start;L<x.end;L++)this.removeItemFromDOM(L);const v=d.map(x=>mT(x,g)),C=[{start:e,end:e+i.length},...v].map(x=>Nn.intersect(m,x)),S=this.getNextToLastElement(C);for(const x of C)for(let L=x.start;L<x.end;L++){const I=this.items[L],E=a.get(I.templateId),W=E==null?void 0:E.pop();this.insertItemInDOM(L,S,W)}for(const x of a.values())for(const L of x)this.cache.release(L);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map(x=>x.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Ps(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)typeof t.width!="undefined"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const e=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),t=this.rangeMap.positionAt(e.start),i=this.rangeMap.positionAt(e.start+1);return i!==-1&&(i-t)/2+t<this.scrollTop?e.start+1:e.start}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){const i={height:typeof e=="number"?e:Sj(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t!="undefined"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:oL(this.domNode)})}render(e,t,i,n,o,r=!1){const a=this.getRenderRange(t,i),l=Nn.relativeComplement(a,e),c=Nn.relativeComplement(e,a),d=this.getNextToLastElement(l);if(r){const u=Nn.intersect(e,a);for(let h=u.start;h<u.end;h++)this.updateItemInDOM(this.items[h],h)}this.cache.transact(()=>{for(const u of c)for(let h=u.start;h<u.end;h++)this.removeItemFromDOM(h);for(const u of l)for(let h=u.start;h<u.end;h++)this.insertItemInDOM(h,d)}),n!==void 0&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&o!==void 0&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){const n=this.items[e];let o=!1;if(!n.row)if(i)n.row=i;else{const d=this.cache.alloc(n.templateId);n.row=d.row,o=d.isReusingConnectedDomNode}const r=this.accessibilityProvider.getRole(n.element)||"listitem";n.row.domNode.setAttribute("role",r);const a=this.accessibilityProvider.isChecked(n.element);if(typeof a=="boolean")n.row.domNode.setAttribute("aria-checked",String(!!a));else if(a){const d=u=>n.row.domNode.setAttribute("aria-checked",String(!!u));d(a.value),n.checkedDisposable=a.onDidChange(d)}(o||!n.row.domNode.parentElement)&&(t?this.rowsContainer.insertBefore(n.row.domNode,t):this.rowsContainer.appendChild(n.row.domNode)),this.updateItemInDOM(n,e);const l=this.renderers.get(n.templateId);if(!l)throw new Error(`No renderer found for template id ${n.templateId}`);l==null||l.renderElement(n.element,e,n.row.templateData,n.size);const c=this.dnd.getDragURI(n.element);n.dragStartDisposable.dispose(),n.row.domNode.draggable=!!c,c&&(n.dragStartDisposable=$(n.row.domNode,"dragstart",d=>this.onDragStart(n.element,c,d))),this.horizontalScrolling&&(this.measureItemWidth(n),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=oL(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return ce.map(this.disposables.add(new tt(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return ce.map(this.disposables.add(new tt(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return ce.filter(ce.map(this.disposables.add(new tt(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseDown(){return ce.map(this.disposables.add(new tt(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return ce.map(this.disposables.add(new tt(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOut(){return ce.map(this.disposables.add(new tt(this.domNode,"mouseout")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return ce.any(ce.map(this.disposables.add(new tt(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),ce.map(this.disposables.add(new tt(this.domNode,At.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return ce.map(this.disposables.add(new tt(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return ce.map(this.disposables.add(new tt(this.rowsContainer,At.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t=="undefined"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t=="undefined"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t=="undefined"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t=="undefined"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){var n,o;if(!i.dataTransfer)return;const r=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(T_.TEXT,t),i.dataTransfer.setDragImage){let a;this.dnd.getDragLabel&&(a=this.dnd.getDragLabel(r,i)),typeof a=="undefined"&&(a=String(r.length));const l=te(".monaco-drag-image");l.textContent=a;const d=(u=>{for(;u&&!u.classList.contains("monaco-workbench");)u=u.parentElement;return u||document.body})(this.domNode);d.appendChild(l),i.dataTransfer.setDragImage(l,-10,-10),setTimeout(()=>d.removeChild(l),0)}this.domNode.classList.add("dragging"),this.currentDragData=new Vv(r),fu.CurrentDragAndDropData=new Jne(r),(o=(n=this.dnd).onDragStart)===null||o===void 0||o.call(n,this.currentDragData,i)}onDragOver(e){var t;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),fu.CurrentDragAndDropData&&fu.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(fu.CurrentDragAndDropData)this.currentDragData=fu.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new eoe}const i=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop=typeof i=="boolean"?i:i.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof i!="boolean"&&i.effect===0?"copy":"move";let n;if(typeof i!="boolean"&&i.feedback?n=i.feedback:typeof e.index=="undefined"?n=[-1]:n=[e.index],n=wd(n).filter(o=>o>=-1&&o<this.length).sort((o,r)=>o-r),n=n[0]===-1?[-1]:n,toe(this.currentDragFeedback,n))return!0;if(this.currentDragFeedback=n,this.currentDragFeedbackDisposable.dispose(),n[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=Re(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const o of n){const r=this.items[o];r.dropTarget=!0,(t=r.row)===null||t===void 0||t.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=Re(()=>{var o;for(const r of n){const a=this.items[r];a.dropTarget=!1,(o=a.row)===null||o===void 0||o.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=xd(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((i=(t=this.dnd).onDragLeave)===null||i===void 0||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,fu.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){var t,i;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,fu.CurrentDragAndDropData=void 0,(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=H.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const t=jW(this.domNode).top;this.dragOverAnimationDisposable=Ej(this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=xd(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const n=i.getAttribute("data-index");if(n){const o=Number(n);if(!isNaN(o))return o}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const n=this.getRenderRange(e,t);let o,r;e===this.elementTop(n.start)?(o=n.start,r=0):n.end-n.start>1&&(o=n.start+1,r=this.elementTop(o)-e);let a=0;for(;;){const l=this.getRenderRange(e,t);let c=!1;for(let d=l.start;d<l.end;d++){const u=this.probeDynamicHeight(d);u!==0&&this.rangeMap.splice(d,1,[this.items[d]]),a+=u,c=c||u!==0}if(!c){a!==0&&this.eventuallyUpdateScrollDimensions();const d=Nn.relativeComplement(n,l);for(const h of d)for(let g=h.start;g<h.end;g++)this.items[g].row&&this.removeItemFromDOM(g);const u=Nn.relativeComplement(l,n);for(const h of u)for(let g=h.start;g<h.end;g++){const m=g+1,p=m<this.items.length?this.items[m].row:null,_=p?p.domNode:null;this.insertItemInDOM(g,_)}for(let h=l.start;h<l.end;h++)this.items[h].row&&this.updateItemInDOM(this.items[h],h);if(typeof o=="number"){const h=this.scrollable.getFutureScrollPosition().scrollTop-e,g=this.elementTop(o)-r+h;this.setScrollTop(g,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){var t,i,n;const o=this.items[e];if(this.virtualDelegate.getDynamicHeight){const c=this.virtualDelegate.getDynamicHeight(o.element);if(c!==null){const d=o.size;return o.size=c,o.lastDynamicHeightWidth=this.renderWidth,c-d}}if(!o.hasDynamicHeight||o.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(o.element))return 0;const r=o.size;if(o.row)return o.row.domNode.style.height="",o.size=o.row.domNode.offsetHeight,o.lastDynamicHeightWidth=this.renderWidth,o.size-r;const{row:a}=this.cache.alloc(o.templateId);a.domNode.style.height="",this.rowsContainer.appendChild(a.domNode);const l=this.renderers.get(o.templateId);if(!l)throw new Ti("Missing renderer for templateId: "+o.templateId);return l.renderElement(o.element,e,a.templateData,void 0),o.size=a.domNode.offsetHeight,(t=l.disposeElement)===null||t===void 0||t.call(l,o.element,e,a.templateData,void 0),(n=(i=this.virtualDelegate).setDynamicHeight)===null||n===void 0||n.call(i,o.element,o.size),o.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(a.domNode),this.cache.release(a),o.size-r}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const i=this.items[t.end];return!i||!i.row?null:i.row.domNode}getElementDomId(e){return`${this.domId}_${e}`}dispose(){var e,t;for(const i of this.items)if(i.dragStartDisposable.dispose(),i.checkedDisposable.dispose(),i.row){const n=this.renderers.get(i.row.templateId);n&&((e=n.disposeElement)===null||e===void 0||e.call(n,i.element,-1,i.row.templateData,void 0),n.disposeTemplate(i.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(t=this.dragOverAnimationDisposable)===null||t===void 0||t.dispose(),this.disposables.dispose()}}Us.InstanceCount=0;fc([ki],Us.prototype,"onMouseClick",null);fc([ki],Us.prototype,"onMouseDblClick",null);fc([ki],Us.prototype,"onMouseMiddleClick",null);fc([ki],Us.prototype,"onMouseDown",null);fc([ki],Us.prototype,"onMouseOver",null);fc([ki],Us.prototype,"onMouseOut",null);fc([ki],Us.prototype,"onContextMenu",null);fc([ki],Us.prototype,"onTouchStart",null);fc([ki],Us.prototype,"onTap",null);var Xh=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},WF=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class noe{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){const n=this.renderedElements.findIndex(o=>o.templateData===i);if(n>=0){const o=this.renderedElements[n];this.trait.unrender(i),o.index=t}else{const o={index:t,templateData:i};this.renderedElements.push(o)}this.trait.renderIndex(t,i)}splice(e,t,i){const n=[];for(const o of this.renderedElements)o.index<e?n.push(o):o.index>=e+t&&n.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=n}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}}let v1=class{get name(){return this._trait}get renderer(){return new noe(this)}constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new M,this.onChange=this._onChange.event}splice(e,t,i){var n;t=Math.max(0,Math.min(t,this.length-e));const o=i.length-t,r=e+t,a=[];let l=0;for(;l<this.sortedIndexes.length&&this.sortedIndexes[l]<e;)a.push(this.sortedIndexes[l++]);for(let d=0;d<i.length;d++)i[d]&&a.push(d+e);for(;l<this.sortedIndexes.length&&this.sortedIndexes[l]>=r;)a.push(this.sortedIndexes[l++]+o);const c=this.length+o;if(this.sortedIndexes.length>0&&a.length===0&&c>0){const d=(n=this.sortedIndexes.find(u=>u>=e))!==null&&n!==void 0?n:c-1;a.push(Math.min(d,c-1))}this.renderer.splice(e,t,i.length),this._set(a,a),this.length=c}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(HF),t)}_set(e,t,i){const n=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const r=pT(o,e);return this.renderer.renderIndexes(r),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return Wb(this.sortedIndexes,e,HF)>=0}dispose(){St(this._onChange)}};Xh([ki],v1.prototype,"renderer",null);class ooe extends v1{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class JL{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,new Array(i.length).fill(!1));const n=this.trait.get().map(a=>this.identityProvider.getId(this.view.element(a)).toString());if(n.length===0)return this.trait.splice(e,t,new Array(i.length).fill(!1));const o=new Set(n),r=i.map(a=>o.has(this.identityProvider.getId(a).toString()));this.trait.splice(e,t,r)}}function ud(s){return s.tagName==="INPUT"||s.tagName==="TEXTAREA"}function sf(s){return s.classList.contains("monaco-editor")?!0:s.classList.contains("monaco-list")||!s.parentElement?!1:sf(s.parentElement)}function C7(s){return s.tagName==="A"&&s.classList.contains("monaco-button")||s.tagName==="DIV"&&s.classList.contains("monaco-button-dropdown")?!0:s.classList.contains("monaco-list")||!s.parentElement?!1:C7(s.parentElement)}class S7{get onKeyDown(){return ce.chain(this.disposables.add(new tt(this.view.domNode,"keydown")).event,e=>e.filter(t=>!ud(t.target)).map(t=>new Wt(t)))}constructor(e,t,i){this.list=e,this.view=t,this.disposables=new Y,this.multipleSelectionDisposables=new Y,this.multipleSelectionSupport=i.multipleSelectionSupport,this.disposables.add(this.onKeyDown(n=>{switch(n.keyCode){case 3:return this.onEnter(n);case 16:return this.onUpArrow(n);case 18:return this.onDownArrow(n);case 11:return this.onPageUpArrow(n);case 12:return this.onPageDownArrow(n);case 9:return this.onEscape(n);case 31:this.multipleSelectionSupport&&(at?n.metaKey:n.ctrlKey)&&this.onCtrlA(n)}}))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Xn(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Xh([ki],S7.prototype,"onKeyDown",null);var Aa;(function(s){s[s.Automatic=0]="Automatic",s[s.Trigger=1]="Trigger"})(Aa||(Aa={}));var rf;(function(s){s[s.Idle=0]="Idle",s[s.Typing=1]="Typing"})(rf||(rf={}));const soe=new class{mightProducePrintableCharacter(s){return s.ctrlKey||s.metaKey||s.altKey?!1:s.keyCode>=31&&s.keyCode<=56||s.keyCode>=21&&s.keyCode<=30||s.keyCode>=98&&s.keyCode<=107||s.keyCode>=85&&s.keyCode<=95}};class roe{constructor(e,t,i,n,o){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.keyboardNavigationEventFilter=n,this.delegate=o,this.enabled=!1,this.state=rf.Idle,this.mode=Aa.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new Y,this.disposables=new Y,this.updateOptions(e.options)}updateOptions(e){var t,i;!((t=e.typeNavigationEnabled)!==null&&t!==void 0)||t?this.enable():this.disable(),this.mode=(i=e.typeNavigationMode)!==null&&i!==void 0?i:Aa.Automatic}enable(){if(this.enabled)return;let e=!1;const t=ce.chain(this.enabledDisposables.add(new tt(this.view.domNode,"keydown")).event,o=>o.filter(r=>!ud(r.target)).filter(()=>this.mode===Aa.Automatic||this.triggered).map(r=>new Wt(r)).filter(r=>e||this.keyboardNavigationEventFilter(r)).filter(r=>this.delegate.mightProducePrintableCharacter(r)).forEach(r=>je.stop(r,!0)).map(r=>r.browserEvent.key)),i=ce.debounce(t,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);ce.reduce(ce.any(t,i),(o,r)=>r===null?null:(o||"")+r,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),i(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=(e=this.list.options.accessibilityProvider)===null||e===void 0?void 0:e.getAriaLabel(this.list.element(t[0]));i&&Fn(i)}this.previouslyFocused=-1}onInput(e){if(!e){this.state=rf.Idle,this.triggered=!1;return}const t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===rf.Idle?1:0;this.state=rf.Typing;for(let o=0;o<this.list.length;o++){const r=(i+o+n)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(r)),l=a&&a.toString();if(this.list.options.typeNavigationEnabled){if(typeof l!="undefined"){if(E_(e,l)){this.previouslyFocused=i,this.list.setFocus([r]),this.list.reveal(r);return}const c=nne(e,l);if(c&&c[0].end-c[0].start>1&&c.length===1){this.previouslyFocused=i,this.list.setFocus([r]),this.list.reveal(r);return}}}else if(typeof l=="undefined"||E_(e,l)){this.previouslyFocused=i,this.list.setFocus([r]),this.list.reveal(r);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class aoe{constructor(e,t){this.list=e,this.view=t,this.disposables=new Y;const i=ce.chain(this.disposables.add(new tt(t.domNode,"keydown")).event,o=>o.filter(r=>!ud(r.target)).map(r=>new Wt(r)));ce.chain(i,o=>o.filter(r=>r.keyCode===2&&!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&!r.altKey))(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(t.length===0)return;const i=this.view.domElement(t[0]);if(!i)return;const n=i.querySelector("[tabIndex]");if(!n||!(n instanceof HTMLElement)||n.tabIndex===-1)return;const o=window.getComputedStyle(n);o.visibility==="hidden"||o.display==="none"||(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}}function y7(s){return at?s.browserEvent.metaKey:s.browserEvent.ctrlKey}function k7(s){return s.browserEvent.shiftKey}function loe(s){return s instanceof MouseEvent&&s.button===2}const VF={isSelectionSingleChangeEvent:y7,isSelectionRangeChangeEvent:k7};class L7{constructor(e){this.list=e,this.disposables=new Y,this._onPointer=new M,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||VF),this.mouseSupport=typeof e.options.mouseSupport=="undefined"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Nt.addTarget(e.getHTMLElement()))),ce.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||VF))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){sf(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(ud(e.browserEvent.target)||sf(e.browserEvent.target))return;const t=typeof e.index=="undefined"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||ud(e.browserEvent.target)||sf(e.browserEvent.target)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=e.index;if(typeof t=="undefined"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),loe(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(ud(e.browserEvent.target)||sf(e.browserEvent.target)||this.isSelectionChangeEvent(e)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(typeof i=="undefined"){const d=this.list.getFocus()[0];i=d!=null?d:t,this.list.setAnchor(i)}const n=Math.min(i,t),o=Math.max(i,t),r=Xn(n,o+1),a=this.list.getSelection(),l=uoe(pT(a,[i]),i);if(l.length===0)return;const c=pT(r,hoe(a,l));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const n=this.list.getSelection(),o=n.filter(r=>r!==t);this.list.setFocus([t]),this.list.setAnchor(t),n.length===o.length?this.list.setSelection([...o,t],e.browserEvent):this.list.setSelection(o,e.browserEvent)}}dispose(){this.disposables.dispose()}}class x7{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){var t,i;const n=this.selectorSuffix&&`.${this.selectorSuffix}`,o=[];e.listBackground&&o.push(`.monaco-list${n} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(o.push(`.monaco-list${n}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),o.push(`.monaco-list${n}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&o.push(`.monaco-list${n}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(o.push(`.monaco-list${n}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),o.push(`.monaco-list${n}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&o.push(`.monaco-list${n}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&o.push(`.monaco-list${n}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&o.push(`
				.monaco-drag-image,
				.monaco-list${n}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&o.push(`
				.monaco-drag-image,
				.monaco-list${n}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(o.push(`.monaco-list${n} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),o.push(`.monaco-list${n} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&o.push(`.monaco-list${n} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(o.push(`.monaco-list${n} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),o.push(`.monaco-list${n} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(o.push(`.monaco-list${n} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),o.push(`.monaco-list${n} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&o.push(`.monaco-list${n} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&o.push(`.monaco-list${n}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&o.push(`.monaco-list${n}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);const r=Ju(e.listFocusAndSelectionOutline,Ju(e.listSelectionOutline,(t=e.listFocusOutline)!==null&&t!==void 0?t:""));r&&o.push(`.monaco-list${n}:focus .monaco-list-row.focused.selected { outline: 1px solid ${r}; outline-offset: -1px;}`),e.listFocusOutline&&o.push(`
				.monaco-drag-image,
				.monaco-list${n}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${n}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`);const a=Ju(e.listSelectionOutline,(i=e.listInactiveFocusOutline)!==null&&i!==void 0?i:"");a&&o.push(`.monaco-list${n} .monaco-list-row.focused.selected { outline: 1px dotted ${a}; outline-offset: -1px; }`),e.listSelectionOutline&&o.push(`.monaco-list${n} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&o.push(`.monaco-list${n} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&o.push(`.monaco-list${n} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&o.push(`
				.monaco-list${n}.drop-target,
				.monaco-list${n} .monaco-list-rows.drop-target,
				.monaco-list${n} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }
			`),e.tableColumnsBorder&&o.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),e.tableOddRowsBackgroundColor&&o.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=o.join(`
`)}}const coe={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:V.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:V.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:V.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},doe={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function uoe(s,e){const t=s.indexOf(e);if(t===-1)return[];const i=[];let n=t-1;for(;n>=0&&s[n]===e-(t-n);)i.push(s[n--]);for(i.reverse(),n=t;n<s.length&&s[n]===e+(n-t);)i.push(s[n++]);return i}function pT(s,e){const t=[];let i=0,n=0;for(;i<s.length||n<e.length;)if(i>=s.length)t.push(e[n++]);else if(n>=e.length)t.push(s[i++]);else if(s[i]===e[n]){t.push(s[i]),i++,n++;continue}else s[i]<e[n]?t.push(s[i++]):t.push(e[n++]);return t}function hoe(s,e){const t=[];let i=0,n=0;for(;i<s.length||n<e.length;)if(i>=s.length)t.push(e[n++]);else if(n>=e.length)t.push(s[i++]);else if(s[i]===e[n]){i++,n++;continue}else s[i]<e[n]?t.push(s[i++]):n++;return t}const HF=(s,e)=>s-e;class goe{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,n){let o=0;for(const r of this.renderers)r.renderElement(e,t,i[o++],n)}disposeElement(e,t,i,n){var o;let r=0;for(const a of this.renderers)(o=a.disposeElement)===null||o===void 0||o.call(a,e,t,i[r],n),r+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class foe{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label");const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof o=="number"?i.setAttribute("aria-level",`${o}`):i.removeAttribute("aria-level")}disposeTemplate(e){}}class moe{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){var i,n;(n=(i=this.dnd).onDragStart)===null||n===void 0||n.call(i,e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragLeave(e,t,i,n){var o,r;(r=(o=this.dnd).onDragLeave)===null||r===void 0||r.call(o,e,t,i,n)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}dispose(){this.dnd.dispose()}}class br{get onDidChangeFocus(){return ce.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return ce.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=ce.chain(this.disposables.add(new tt(this.view.domNode,"keydown")).event,o=>o.map(r=>new Wt(r)).filter(r=>e=r.keyCode===58||r.shiftKey&&r.keyCode===68).map(r=>je.stop(r,!0)).filter(()=>!1)),i=ce.chain(this.disposables.add(new tt(this.view.domNode,"keyup")).event,o=>o.forEach(()=>e=!1).map(r=>new Wt(r)).filter(r=>r.keyCode===58||r.shiftKey&&r.keyCode===68).map(r=>je.stop(r,!0)).map(({browserEvent:r})=>{const a=this.getFocus(),l=a.length?a[0]:void 0,c=typeof l!="undefined"?this.view.element(l):void 0,d=typeof l!="undefined"?this.view.domElement(l):this.view.domNode;return{index:l,element:c,anchor:d,browserEvent:r}})),n=ce.chain(this.view.onContextMenu,o=>o.filter(r=>!e).map(({element:r,index:a,browserEvent:l})=>({element:r,index:a,anchor:new Ds(l),browserEvent:l})));return ce.any(t,i,n)}get onKeyDown(){return this.disposables.add(new tt(this.view.domNode,"keydown")).event}get onDidFocus(){return ce.signal(this.disposables.add(new tt(this.view.domNode,"focus",!0)).event)}constructor(e,t,i,n,o=doe){var r,a,l,c;this.user=e,this._options=o,this.focus=new v1("focused"),this.anchor=new v1("anchor"),this.eventBufferer=new mA,this._ariaLabel="",this.disposables=new Y,this._onDidDispose=new M,this.onDidDispose=this._onDidDispose.event;const d=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(r=this._options.accessibilityProvider)===null||r===void 0?void 0:r.getWidgetRole():"list";this.selection=new ooe(d!=="listbox");const u=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(u.push(new foe(this.accessibilityProvider)),(l=(a=this.accessibilityProvider).onDidChangeActiveDescendant)===null||l===void 0||l.call(a,this.onDidChangeActiveDescendant,this,this.disposables)),n=n.map(g=>new goe(g.templateId,[...u,g]));const h=Object.assign(Object.assign({},o),{dnd:o.dnd&&new moe(this,o.dnd)});if(this.view=this.createListView(t,i,n,h),this.view.domNode.setAttribute("role",d),o.styleController)this.styleController=o.styleController(this.view.domId);else{const g=Os(this.view.domNode);this.styleController=new x7(g,this.view.domId)}if(this.spliceable=new Gne([new JL(this.focus,this.view,o.identityProvider),new JL(this.selection,this.view,o.identityProvider),new JL(this.anchor,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new aoe(this,this.view)),(typeof o.keyboardSupport!="boolean"||o.keyboardSupport)&&(this.keyboardController=new S7(this,this.view,o),this.disposables.add(this.keyboardController)),o.keyboardNavigationLabelProvider){const g=o.keyboardNavigationDelegate||soe;this.typeNavigationController=new roe(this,this.view,o.keyboardNavigationLabelProvider,(c=o.keyboardNavigationEventFilter)!==null&&c!==void 0?c:()=>!0,g),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(e,t,i,n){return new Us(e,t,i,n)}createMouseController(e){return new L7(this)}updateOptions(e={}){var t,i;this._options=Object.assign(Object.assign({},this._options),e),(t=this.typeNavigationController)===null||t===void 0||t.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),(i=this.keyboardController)===null||i===void 0||i.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new Cg(this.user,`Invalid start index: ${e}`);if(t<0)throw new Cg(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new Cg(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e=="undefined"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Cg(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return V5(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return typeof e=="undefined"?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new Cg(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){if(this.length===0)return;const o=this.focus.get(),r=this.findNextIndex(o.length>0?o[0]+e:0,t,n);r>-1&&this.setFocus([r],i)}focusPrevious(e=1,t=!1,i,n){if(this.length===0)return;const o=this.focus.get(),r=this.findPreviousIndex(o.length>0?o[0]-e:0,t,n);r>-1&&this.setFocus([r],i)}focusNextPage(e,t){return WF(this,void 0,void 0,function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;const n=this.getFocus()[0];if(n!==i&&(n===void 0||i>n)){const o=this.findPreviousIndex(i,!1,t);o>-1&&n!==o?this.setFocus([o],e):this.setFocus([i],e)}else{const o=this.view.getScrollTop();let r=o+this.view.renderHeight;i>n&&(r-=this.view.elementHeight(i)),this.view.setScrollTop(r),this.view.getScrollTop()!==o&&(this.setFocus([]),yield Ld(0),yield this.focusNextPage(e,t))}})}focusPreviousPage(e,t){return WF(this,void 0,void 0,function*(){let i;const n=this.view.getScrollTop();n===0?i=this.view.indexAt(n):i=this.view.indexAfter(n-1);const o=this.getFocus()[0];if(o!==i&&(o===void 0||o>=i)){const r=this.findNextIndex(i,!1,t);r>-1&&o!==r?this.setFocus([r],e):this.setFocus([i],e)}else{const r=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==r&&(this.setFocus([]),yield Ld(0),yield this.focusPreviousPage(e,t))}})}focusLast(e,t){if(this.length===0)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;const n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t){if(e<0||e>=this.length)throw new Cg(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),n=this.view.elementTop(e),o=this.view.elementHeight(e);if(Cd(t)){const r=o-this.view.renderHeight;this.view.setScrollTop(r*Eo(t,0,1)+n)}else{const r=n+o,a=i+this.view.renderHeight;n<i&&r>=a||(n<i||r>=a&&o>=this.view.renderHeight?this.view.setScrollTop(n):r>=a&&this.view.setScrollTop(r-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(e){return this.view.getElementDomId(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;!((e=this.accessibilityProvider)===null||e===void 0)&&e.getActiveDescendantId&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Xh([ki],br.prototype,"onDidChangeFocus",null);Xh([ki],br.prototype,"onDidChangeSelection",null);Xh([ki],br.prototype,"onContextMenu",null);Xh([ki],br.prototype,"onKeyDown",null);Xh([ki],br.prototype,"onDidFocus",null);const Gu=te,D7="selectOption.entry.template";class poe{get templateId(){return D7}renderTemplate(e){const t=Object.create(null);return t.root=e,t.text=Q(e,Gu(".option-text")),t.detail=Q(e,Gu(".option-detail")),t.decoratorRight=Q(e,Gu(".option-decorator-right")),t}renderElement(e,t,i){const n=i,o=e.text,r=e.detail,a=e.decoratorRight,l=e.isDisabled;n.text.textContent=o,n.detail.textContent=r||"",n.decoratorRight.innerText=a||"",l?n.root.classList.add("option-disabled"):n.root.classList.remove("option-disabled")}disposeTemplate(e){}}class Ra extends H{constructor(e,t,i,n,o){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=n,this.selectBoxOptions=o||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=Ra.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new M,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(i),this.selected=t||0,e&&this.setOptions(e,t),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return D7}constructSelectDropDown(e){this.contextViewProvider=e,this.selectDropDownContainer=te(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=Q(this.selectDropDownContainer,Gu(".select-box-details-pane"));const t=Q(this.selectDropDownContainer,Gu(".select-box-dropdown-container-width-control")),i=Q(t,Gu(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",Q(i,this.widthControlElement),this._dropDownPosition=0,this.styleElement=Os(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register($(this.selectDropDownContainer,ae.DRAG_START,n=>{je.stop(n,!0)}))}registerListeners(){this._register(Si(this.selectElement,"change",t=>{this.selected=t.target.selectedIndex,this._onDidSelect.fire({index:t.target.selectedIndex,selected:t.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register($(this.selectElement,ae.CLICK,t=>{je.stop(t),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register($(this.selectElement,ae.MOUSE_DOWN,t=>{je.stop(t)}));let e;this._register($(this.selectElement,"touchstart",t=>{e=this._isVisible})),this._register($(this.selectElement,"touchend",t=>{je.stop(t),e?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register($(this.selectElement,ae.KEY_DOWN,t=>{const i=new Wt(t);let n=!1;at?(i.keyCode===18||i.keyCode===16||i.keyCode===10||i.keyCode===3)&&(n=!0):(i.keyCode===18&&i.altKey||i.keyCode===16&&i.altKey||i.keyCode===10||i.keyCode===3)&&(n=!0),n&&(this.showSelectDropDown(),je.stop(t,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){bi(this.options,e)||(this.options=e,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((i,n)=>{this.selectElement.add(this.createOption(i.text,n,i.isDisabled)),typeof i.description=="string"&&(this._hasDetails=!0)})),t!==void 0&&(this.select(t),this._currentSelection=this.selected)}setOptionsList(){var e;(e=this.selectList)===null||e===void 0||e.splice(0,this.selectList.length,this.options)}select(e){e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){this.container=e,e.classList.add("select-container"),e.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const e=[];this.styles.listFocusBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(e.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=e.join(`
`)}styleSelectElement(){var e,t,i;const n=(e=this.styles.selectBackground)!==null&&e!==void 0?e:"",o=(t=this.styles.selectForeground)!==null&&t!==void 0?t:"",r=(i=this.styles.selectBorder)!==null&&i!==void 0?i:"";this.selectElement.style.backgroundColor=n,this.selectElement.style.color=o,this.selectElement.style.borderColor=r}styleList(){var e,t;const i=(e=this.styles.selectBackground)!==null&&e!==void 0?e:"",n=Ju(this.styles.selectListBackground,i);this.selectDropDownListContainer.style.backgroundColor=n,this.selectionDetailsPane.style.backgroundColor=n;const o=(t=this.styles.focusBorder)!==null&&t!==void 0?t:"";this.selectDropDownContainer.style.outlineColor=o,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(e,t,i){const n=document.createElement("option");return n.value=e,n.text=e,n.disabled=!!i,n}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(e){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),e&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(e,t){return e.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(t),{dispose:()=>{try{e.removeChild(this.selectDropDownContainer)}catch(i){}}}}measureMaxDetailsHeight(){let e=0;return this.options.forEach((t,i)=>{this.updateDetail(i),this.selectionDetailsPane.offsetHeight>e&&(e=this.selectionDetailsPane.offsetHeight)}),e}layoutSelectDropDown(e){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const t=Pi(this.selectElement),i=getComputedStyle(this.selectElement),n=parseFloat(i.getPropertyValue("--dropdown-padding-top"))+parseFloat(i.getPropertyValue("--dropdown-padding-bottom")),o=window.innerHeight-t.top-t.height-(this.selectBoxOptions.minBottomMargin||0),r=t.top-Ra.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,a=this.selectElement.offsetWidth,l=this.setWidthControlElement(this.widthControlElement),c=Math.max(l,Math.round(a)).toString()+"px";this.selectDropDownContainer.style.width=c,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let d=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const u=this._hasDetails?this._cachedMaxDetailsHeight:0,h=d+n+u,g=Math.floor((o-n-u)/this.getHeight()),m=Math.floor((r-n-u)/this.getHeight());if(e)return t.top+t.height>window.innerHeight-22||t.top<Ra.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||g<1&&m<1?!1:(g<Ra.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&m>g&&this.options.length>g?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(t.top+t.height>window.innerHeight-22||t.top<Ra.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&g<1||this._dropDownPosition===1&&m<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&g+m<1)return this.hideSelectDropDown(!0),!1;h>o&&(d=g*this.getHeight())}else h>r&&(d=m*this.getHeight());return this.selectList.layout(d),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=d+n+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=d+n+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=c,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(e){let t=0;if(e){let i=0,n=0;this.options.forEach((o,r)=>{const a=o.detail?o.detail.length:0,l=o.decoratorRight?o.decoratorRight.length:0,c=o.text.length+a+l;c>n&&(i=r,n=c)}),e.textContent=this.options[i].text+(this.options[i].decoratorRight?this.options[i].decoratorRight+" ":""),t=bo(e)}return t}createSelectList(e){if(this.selectList)return;this.selectDropDownListContainer=Q(e,Gu(".select-box-dropdown-list-container")),this.listRenderer=new poe,this.selectList=new br("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:n=>{let o=n.text;return n.detail&&(o+=`. ${n.detail}`),n.decoratorRight&&(o+=`. ${n.decoratorRight}`),n.description&&(o+=`. ${n.description}`),o},getWidgetAriaLabel:()=>f("vs/base/browser/ui/selectBox/selectBoxCustom",{key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>at?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const t=this._register(new tt(this.selectDropDownListContainer,"keydown")),i=ce.chain(t.event,n=>n.filter(()=>this.selectList.length>0).map(o=>new Wt(o)));this._register(ce.chain(i,n=>n.filter(o=>o.keyCode===3))(this.onEnter,this)),this._register(ce.chain(i,n=>n.filter(o=>o.keyCode===2))(this.onEnter,this)),this._register(ce.chain(i,n=>n.filter(o=>o.keyCode===9))(this.onEscape,this)),this._register(ce.chain(i,n=>n.filter(o=>o.keyCode===16))(this.onUpArrow,this)),this._register(ce.chain(i,n=>n.filter(o=>o.keyCode===18))(this.onDownArrow,this)),this._register(ce.chain(i,n=>n.filter(o=>o.keyCode===12))(this.onPageDown,this)),this._register(ce.chain(i,n=>n.filter(o=>o.keyCode===11))(this.onPageUp,this)),this._register(ce.chain(i,n=>n.filter(o=>o.keyCode===14))(this.onHome,this)),this._register(ce.chain(i,n=>n.filter(o=>o.keyCode===13))(this.onEnd,this)),this._register(ce.chain(i,n=>n.filter(o=>o.keyCode>=21&&o.keyCode<=56||o.keyCode>=85&&o.keyCode<=113))(this.onCharacter,this)),this._register($(this.selectList.getHTMLElement(),ae.POINTER_UP,n=>this.onPointerUp(n))),this._register(this.selectList.onMouseOver(n=>typeof n.index!="undefined"&&this.selectList.setFocus([n.index]))),this._register(this.selectList.onDidChangeFocus(n=>this.onListFocus(n))),this._register($(this.selectDropDownContainer,ae.FOCUS_OUT,n=>{!this._isVisible||Dn(n.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(e){if(!this.selectList.length)return;je.stop(e);const t=e.target;if(!t||t.classList.contains("slider"))return;const i=t.closest(".monaco-list-row");if(!i)return;const n=Number(i.getAttribute("data-index")),o=i.classList.contains("option-disabled");n>=0&&n<this.options.length&&!o&&(this.selected=n,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(e,t){const i=o=>{for(let r=0;r<o.childNodes.length;r++){const a=o.childNodes.item(r);(a.tagName&&a.tagName.toLowerCase())==="img"?o.removeChild(a):i(a)}},n=by({value:e,supportThemeIcons:!0},{actionHandler:t});return n.element.classList.add("select-box-description-markdown"),i(n.element),n.element}onListFocus(e){!this._isVisible||!this._hasDetails||this.updateDetail(e.indexes[0])}updateDetail(e){var t,i;this.selectionDetailsPane.innerText="";const n=this.options[e],o=(t=n==null?void 0:n.description)!==null&&t!==void 0?t:"",r=(i=n==null?void 0:n.descriptionIsMarkdown)!==null&&i!==void 0?i:!1;if(o){if(r){const a=n.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(o,a))}else this.selectionDetailsPane.innerText=o;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(e){je.stop(e),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(e){je.stop(e),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(e){if(this.selected<this.options.length-1){je.stop(e,!0);const t=this.options[this.selected+1].isDisabled;if(t&&this.options.length>this.selected+2)this.selected+=2;else{if(t)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(e){this.selected>0&&(je.stop(e,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(e){je.stop(e),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(e){je.stop(e),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(e){je.stop(e),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(e){je.stop(e),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(e){const t=Ml.toString(e.keyCode);let i=-1;for(let n=0;n<this.options.length-1;n++)if(i=(n+this.selected+1)%this.options.length,this.options[i].text.charAt(0).toUpperCase()===t&&!this.options[i].isDisabled){this.select(i),this.selectList.setFocus([i]),this.selectList.reveal(this.selectList.getFocus()[0]),je.stop(e);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}Ra.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32;Ra.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2;Ra.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;class boe extends H{constructor(e,t,i,n){super(),this.selected=0,this.selectBoxOptions=n||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new M),this.styles=i,this.registerListeners(),this.setOptions(e,t)}registerListeners(){this._register(Nt.addTarget(this.selectElement)),[At.Tap].forEach(e=>{this._register($(this.selectElement,e,t=>{this.selectElement.focus()}))}),this._register(Si(this.selectElement,"click",e=>{je.stop(e,!0)})),this._register(Si(this.selectElement,"change",e=>{this.selectElement.title=e.target.value,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value})})),this._register(Si(this.selectElement,"keydown",e=>{let t=!1;at?(e.keyCode===18||e.keyCode===16||e.keyCode===10)&&(t=!0):(e.keyCode===18&&e.altKey||e.keyCode===10||e.keyCode===3)&&(t=!0),t&&e.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){(!this.options||!bi(this.options,e))&&(this.options=e,this.selectElement.options.length=0,this.options.forEach((i,n)=>{this.selectElement.add(this.createOption(i.text,n,i.isDisabled))})),t!==void 0&&this.select(t)}select(e){this.options.length===0?this.selected=0:e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){e.classList.add("select-container"),e.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var e,t,i;this.selectElement&&(this.selectElement.style.backgroundColor=(e=this.styles.selectBackground)!==null&&e!==void 0?e:"",this.selectElement.style.color=(t=this.styles.selectForeground)!==null&&t!==void 0?t:"",this.selectElement.style.borderColor=(i=this.styles.selectBorder)!==null&&i!==void 0?i:"")}createOption(e,t,i){const n=document.createElement("option");return n.value=e,n.text=e,n.disabled=!!i,n}}class _oe extends fr{constructor(e,t,i,n,o){super(),at&&!(o!=null&&o.useCustomDrawn)?this.selectBoxDelegate=new boe(e,t,n,o):this.selectBoxDelegate=new Ra(e,t,i,n,o),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(e,t){this.selectBoxDelegate.setOptions(e,t)}select(e){this.selectBoxDelegate.select(e)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(e){this.selectBoxDelegate.setFocusable(e)}render(e){this.selectBoxDelegate.render(e)}}class Fr extends H{get action(){return this._action}constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof lo&&this._register(t.onDidChange(n=>{this.element&&this.handleActionChangeEvent(n)}))}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Gf)),this._actionRunner}set actionRunner(e){this._actionRunner=e}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(Nt.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,Ms&&this._register($(e,ae.DRAG_START,n=>{var o;return(o=n.dataTransfer)===null||o===void 0?void 0:o.setData(T_.TEXT,this._action.label)}))),this._register($(t,At.Tap,n=>this.onClick(n,!0))),this._register($(t,ae.MOUSE_DOWN,n=>{i||je.stop(n,!0),this._action.enabled&&n.button===0&&t.classList.add("active")})),at&&this._register($(t,ae.CONTEXT_MENU,n=>{n.button===0&&n.ctrlKey===!0&&this.onClick(n)})),this._register($(t,ae.CLICK,n=>{je.stop(n,!0),this.options&&this.options.isMenu||this.onClick(n)})),this._register($(t,ae.DBLCLICK,n=>{je.stop(n,!0)})),[ae.MOUSE_UP,ae.MOUSE_OUT].forEach(n=>{this._register($(t,n,o=>{je.stop(o),t.classList.remove("active")}))})}onClick(e,t=!1){var i;je.stop(e,!0);const n=Xo(this._context)?!((i=this.options)===null||i===void 0)&&i.useEventAsContext?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var e;if(!this.element)return;const t=(e=this.getTooltip())!==null&&e!==void 0?e:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(t):(this.customHover=v7(this.options.hoverDelegate,this.element,t),this._store.add(this.customHover))):this.element.title=t}updateAriaLabel(){var e;if(this.element){const t=(e=this.getTooltip())!==null&&e!==void 0?e:"";this.element.setAttribute("aria-label",t)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class gm extends Fr{constructor(e,t,i){super(e,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=Q(this.element,te("a.action-label"))),this.label&&this.label.setAttribute("role",this.getDefaultAriaRole()),this.options.label&&this.options.keybinding&&this.element&&(Q(this.element,te("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===tn.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=f("vs/base/browser/ui/actionbar/actionViewItems",{key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e!=null?e:void 0}updateClass(){var e;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(e=this.label)===null||e===void 0||e.classList.remove("codicon")}updateEnabled(){var e,t;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(e=this.element)===null||e===void 0||e.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(t=this.element)===null||t===void 0||t.classList.add("disabled"))}updateAriaLabel(){var e;if(this.label){const t=(e=this.getTooltip())!==null&&e!==void 0?e:"";this.label.setAttribute("aria-label",t)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.setAttribute("aria-checked",""),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class voe extends Fr{constructor(e,t,i,n,o,r,a){super(e,t),this.selectBox=new _oe(i,n,o,r,a),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(e){this.selectBox.select(e)}registerListeners(){this._register(this.selectBox.onDidSelect(e=>this.runAction(e.selected,e.index)))}runAction(e,t){this.actionRunner.run(this._action,this.getActionContext(e,t))}getActionContext(e,t){return e}setFocusable(e){this.selectBox.setFocusable(e)}focus(){var e;(e=this.selectBox)===null||e===void 0||e.focus()}blur(){var e;(e=this.selectBox)===null||e===void 0||e.blur()}render(e){this.selectBox.render(e)}}class woe extends Gf{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new M),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=Q(e,te(".monaco-dropdown")),this._label=Q(this._element,te(".dropdown-label"));let i=t.labelRenderer;i||(i=o=>(o.textContent=t.label||"",null));for(const o of[ae.CLICK,ae.MOUSE_DOWN,At.Tap])this._register($(this.element,o,r=>je.stop(r,!0)));for(const o of[ae.MOUSE_DOWN,At.Tap])this._register($(this._label,o,r=>{r instanceof MouseEvent&&(r.detail>1||r.button!==0)||(this.visible?this.hide():this.show())}));this._register($(this._label,ae.KEY_UP,o=>{const r=new Wt(o);(r.equals(3)||r.equals(10))&&(je.stop(o,!0),this.visible?this.hide():this.show())}));const n=i(this._label);n&&this._register(n),this._register(Nt.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class Coe extends woe{constructor(e,t){super(e,t),this._options=t,this._actions=[],this.actions=t.actions||[]}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(e,t)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e,t):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class w1 extends Fr{constructor(e,t,i,n=Object.create(null)){super(null,e,n),this.actionItem=null,this._onDidChangeVisibility=this._register(new M),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=o=>{this.element=Q(o,te("a.action-label"));let r=[];return typeof this.options.classNames=="string"?r=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(r=this.options.classNames),r.find(a=>a==="icon")||r.push("codicon"),this.element.classList.add(...r),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},i=Array.isArray(this.menuActionsOrProvider),n={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:i?this.menuActionsOrProvider:void 0,actionProvider:i?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new Coe(e,n)),this._register(this.dropdownMenu.onDidChangeVisibility(o=>{var r;(r=this.element)===null||r===void 0||r.setAttribute("aria-expanded",`${o}`),this._onDidChangeVisibility.fire(o)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const o=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return o.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:this.action.label&&(e=this.action.label),e!=null?e:void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}show(){var e;(e=this.dropdownMenu)===null||e===void 0||e.show()}updateEnabled(){var e,t;const i=!this.action.enabled;(e=this.actionItem)===null||e===void 0||e.classList.toggle("disabled",i),(t=this.element)===null||t===void 0||t.classList.toggle("disabled",i)}}function Soe(s){return s?s.condition!==void 0:!1}var Xp=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},Mf;(function(s){s[s.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",s[s.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(Mf||(Mf={}));var af;(function(s){s[s.None=0]="None",s[s.Initialized=1]="Initialized",s[s.Closed=2]="Closed"})(af||(af={}));class Pf extends H{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new dh),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=af.None,this.cache=new Map,this.flushDelayer=this._register(new n3(Pf.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,i;this._onDidChangeStorage.pause();try{(t=e.changed)===null||t===void 0||t.forEach((n,o)=>this.acceptExternal(o,n)),(i=e.deleted)===null||i===void 0||i.forEach(n=>this.acceptExternal(n,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(e,t){if(this.state===af.Closed)return;let i=!1;Xo(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire({key:e,external:!0})}get(e,t){const i=this.cache.get(e);return Xo(i)?t:i}getBoolean(e,t){const i=this.get(e);return Xo(i)?t:i==="true"}getNumber(e,t){const i=this.get(e);return Xo(i)?t:parseInt(i,10)}set(e,t,i=!1){return Xp(this,void 0,void 0,function*(){if(this.state===af.Closed)return;if(Xo(t))return this.delete(e,i);const n=no(t)||Array.isArray(t)?Tne(t):String(t);if(this.cache.get(e)!==n)return this.cache.set(e,n),this.pendingInserts.set(e,n),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire({key:e,external:i}),this.doFlush()})}delete(e,t=!1){return Xp(this,void 0,void 0,function*(){if(!(this.state===af.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire({key:e,external:t}),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Xp(this,void 0,void 0,function*(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})})}doFlush(e){return Xp(this,void 0,void 0,function*(){return this.options.hint===Mf.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),e)})}}Pf.DEFAULT_FLUSH_DELAY=100;class ex{constructor(){this.onDidChangeItemsExternal=ce.None,this.items=new Map}updateItems(e){var t,i;return Xp(this,void 0,void 0,function*(){(t=e.insert)===null||t===void 0||t.forEach((n,o)=>this.items.set(o,n)),(i=e.delete)===null||i===void 0||i.forEach(n=>this.items.delete(n))})}}const iC="__$__targetStorageMarker",_r=et("storageService");var C1;(function(s){s[s.NONE=0]="NONE",s[s.SHUTDOWN=1]="SHUTDOWN"})(C1||(C1={}));function yoe(s){const e=s.get(iC);if(e)try{return JSON.parse(e)}catch(t){}return Object.create(null)}class _y extends H{constructor(e={flushInterval:_y.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new dh),this._onDidChangeTarget=this._register(new dh),this._onWillSaveState=this._register(new M),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(e,t,i){return ce.filter(this._onDidChangeValue.event,n=>n.scope===e&&(t===void 0||n.key===t),i)}emitDidChangeValue(e,t){const{key:i,external:n}=t;if(i===iC){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:i,target:this.getKeyTargets(e)[i],external:n})}get(e,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.get(e,i)}getBoolean(e,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.getBoolean(e,i)}getNumber(e,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.getNumber(e,i)}store(e,t,i,n,o=!1){if(Xo(t)){this.remove(e,i,o);return}this.withPausedEmitters(()=>{var r;this.updateKeyTarget(e,i,n),(r=this.getStorage(i))===null||r===void 0||r.set(e,t,o)})}remove(e,t,i=!1){this.withPausedEmitters(()=>{var n;this.updateKeyTarget(e,t,void 0),(n=this.getStorage(t))===null||n===void 0||n.delete(e,i)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i,n=!1){var o,r;const a=this.getKeyTargets(t);typeof i=="number"?a[e]!==i&&(a[e]=i,(o=this.getStorage(t))===null||o===void 0||o.set(iC,JSON.stringify(a),n)):typeof a[e]=="number"&&(delete a[e],(r=this.getStorage(t))===null||r===void 0||r.set(iC,JSON.stringify(a),n))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){const t=this.getStorage(e);return t?yoe(t):Object.create(null)}}_y.DEFAULT_FLUSH_INTERVAL=60*1e3;class koe extends _y{constructor(){super(),this.applicationStorage=this._register(new Pf(new ex,{hint:Mf.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new Pf(new ex,{hint:Mf.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new Pf(new ex,{hint:Mf.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.profileStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e))),this._register(this.applicationStorage.onDidChangeStorage(e=>this.emitDidChangeValue(-1,e)))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}function Loe(s,e){const t=Object.assign({},e);for(const i in s){const n=s[i];t[i]=n!==void 0?ue(n):void 0}return t}const xoe={keybindingLabelBackground:ue(aZ),keybindingLabelForeground:ue(lZ),keybindingLabelBorder:ue(cZ),keybindingLabelBottomBorder:ue(dZ),keybindingLabelShadow:ue(Fa)},Doe={buttonForeground:ue(Wp),buttonSeparator:ue(qG),buttonBackground:ue(Vp),buttonHoverBackground:ue(GG),buttonSecondaryForeground:ue(QG),buttonSecondaryBackground:ue(_I),buttonSecondaryHoverBackground:ue(YG),buttonBorder:ue(ZG)},Ioe={progressBarBackground:ue(eZ)},S1={inputActiveOptionBorder:ue(ZA),inputActiveOptionForeground:ue(QA),inputActiveOptionBackground:ue(Uu)};ue(UZ),ue(jZ),ue($Z);ue(li),ue(Va),ue(Fa),ue(nt),ue(aQ),ue(lQ),ue(cQ),ue(OG);const y1={inputBackground:ue(P3),inputForeground:ue(O3),inputBorder:ue(F3),inputValidationInfoBorder:ue(WG),inputValidationInfoBackground:ue(FG),inputValidationInfoForeground:ue(BG),inputValidationWarningBorder:ue(zG),inputValidationWarningBackground:ue(VG),inputValidationWarningForeground:ue(HG),inputValidationErrorBorder:ue(jG),inputValidationErrorBackground:ue(UG),inputValidationErrorForeground:ue($G)},Toe={listFilterWidgetBackground:ue(OZ),listFilterWidgetOutline:ue(FZ),listFilterWidgetNoMatchesOutline:ue(BZ),listFilterWidgetShadow:ue(WZ),inputBoxStyles:y1,toggleStyles:S1},I7={badgeBackground:ue(qw),badgeForeground:ue(XG),badgeBorder:ue(nt)};ue(eQ),ue(JZ),ue(iO),ue(iO),ue(tQ);const Jh={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:ue(xZ),listFocusForeground:ue(DZ),listFocusOutline:ue(IZ),listActiveSelectionBackground:ue(Kl),listActiveSelectionForeground:ue(Ua),listActiveSelectionIconForeground:ue($p),listFocusAndSelectionOutline:ue(TZ),listFocusAndSelectionBackground:ue(Kl),listFocusAndSelectionForeground:ue(Ua),listInactiveSelectionBackground:ue(EZ),listInactiveSelectionIconForeground:ue(AZ),listInactiveSelectionForeground:ue(NZ),listInactiveFocusBackground:ue(RZ),listInactiveFocusOutline:ue(MZ),listHoverBackground:ue(V3),listHoverForeground:ue(H3),listDropBackground:ue(PZ),listSelectionOutline:ue(Ut),listHoverOutline:ue(Ut),treeIndentGuidesStroke:ue(jp),treeInactiveIndentGuidesStroke:ue(VZ),tableColumnsBorder:ue(HZ),tableOddRowsBackgroundColor:ue(zZ)};function Um(s){return Loe(s,Jh)}const Eoe={selectBackground:ue(Ba),selectListBackground:ue(KG),selectForeground:ue(Ul),decoratorRightForeground:ue(B3),selectBorder:ue(qg),focusBorder:ue(os),listFocusBackground:ue(ju),listInactiveSelectionIconForeground:ue(Gg),listFocusForeground:ue($u),listFocusOutline:RG(Ut,V.transparent.toString()),listHoverBackground:ue(V3),listHoverForeground:ue(H3),listHoverOutline:ue(Ut),selectListBorder:ue(Ha),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},Noe={shadowColor:ue(Fa),borderColor:ue(KZ),foregroundColor:ue(qZ),backgroundColor:ue(GZ),selectionForegroundColor:ue(ZZ),selectionBackgroundColor:ue(QZ),selectionBorderColor:ue(YZ),separatorColor:ue(XZ),scrollbarShadow:ue(JG),scrollbarSliderBackground:ue(Hp),scrollbarSliderHoverBackground:ue(zp),scrollbarSliderActiveBackground:ue(Up)};var vy=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},wo=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},T7=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function Aoe(s,e,t,i){const n=s.getActions(e),o=Vl.getInstance(),r=o.keyStatus.altKey||(En||Qn)&&o.keyStatus.shiftKey;N7(n,t,r,i?a=>a===i:a=>a==="navigation")}function E7(s,e,t,i,n,o){const r=s.getActions(e);N7(r,t,!1,typeof i=="string"?l=>l===i:i,n,o)}function N7(s,e,t,i=r=>r==="navigation",n=()=>!1,o=!1){let r,a;Array.isArray(e)?(r=e,a=e):(r=e.primary,a=e.secondary);const l=new Set;for(const[c,d]of s){let u;i(c)?(u=r,u.length>0&&o&&u.push(new tn)):(u=a,u.length>0&&u.push(new tn));for(let h of d){t&&(h=h instanceof dr&&h.alt?h.alt:h);const g=u.push(h);h instanceof Zf&&l.add({group:c,action:h,index:g-1})}}for(const{group:c,action:d,index:u}of l){const h=i(c)?r:a,g=d.actions;n(d,c,h.length)&&h.splice(u,1,...g)}}let Ch=class extends gm{constructor(e,t,i,n,o,r,a,l){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t==null?void 0:t.draggable,keybinding:t==null?void 0:t.keybinding,hoverDelegate:t==null?void 0:t.hoverDelegate}),this._keybindingService=i,this._notificationService=n,this._contextKeyService=o,this._themeService=r,this._contextMenuService=a,this._accessibilityService=l,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new pn),this._altKey=Vl.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return T7(this,void 0,void 0,function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}})}render(e){if(super.render(e),e.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let t=!1;const i=()=>{var n;const o=!!(!((n=this._menuItemAction.alt)===null||n===void 0)&&n.enabled)&&(!this._accessibilityService.isMotionReduced()||t)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&t);o!==this._wantsAltCommand&&(this._wantsAltCommand=o,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(i)),this._register($(e,"mouseleave",n=>{t=!1,i()})),this._register($(e,"mouseenter",n=>{t=!0,i()})),i()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var e;const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),i=t&&t.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let o=i?f("vs/platform/actions/browser/menuEntryActionViewItem","titleAndKb","{0} ({1})",n,i):n;if(!this._wantsAltCommand&&(!((e=this._menuItemAction.alt)===null||e===void 0)&&e.enabled)){const r=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,a=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),l=a&&a.getLabel(),c=l?f("vs/platform/actions/browser/menuEntryActionViewItem","titleAndKb","{0} ({1})",r,l):r;o=f("vs/platform/actions/browser/menuEntryActionViewItem","titleAndKbAndAlt",`{0}
[{1}] {2}`,o,NR.modifierLabels[ns].altKey,c)}return o}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){this._itemClassDispose.value=void 0;const{element:t,label:i}=this;if(!t||!i)return;const n=this._commandAction.checked&&Soe(e.toggled)&&e.toggled.icon?e.toggled.icon:e.icon;if(n)if(Ie.isThemeIcon(n)){const o=Ie.asClassNameArray(n);i.classList.add(...o),this._itemClassDispose.value=Re(()=>{i.classList.remove(...o)})}else{const o=nm(this._themeService.getColorTheme().type)?kd(n.dark):kd(n.light),r=te("span");r.style.webkitMask=r.style.mask=`${o} no-repeat 50% 50%`,r.style.background="var(--vscode-icon-foreground)",r.style.display="inline-block",r.style.width="100%",r.style.height="100%",i.appendChild(r),i.classList.add("icon"),this._itemClassDispose.value=rr(Re(()=>{i.classList.remove("icon"),mn(i)}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}}};Ch=vy([wo(2,Et),wo(3,Li),wo(4,Me),wo(5,qi),wo(6,pr),wo(7,hc)],Ch);let bT=class extends w1{constructor(e,t,i,n,o){var r,a,l;const c=Object.assign(Object.assign({},t),{menuAsChild:(r=t==null?void 0:t.menuAsChild)!==null&&r!==void 0?r:!1,classNames:(a=t==null?void 0:t.classNames)!==null&&a!==void 0?a:Ie.isThemeIcon(e.item.icon)?Ie.asClassName(e.item.icon):void 0,keybindingProvider:(l=t==null?void 0:t.keybindingProvider)!==null&&l!==void 0?l:d=>i.lookupKeybinding(d.id)});super(e,{getActions:()=>e.actions},n,c),this._keybindingService=i,this._contextMenuService=n,this._themeService=o}render(e){super.render(e),Lt(this.element),e.classList.add("menu-entry");const t=this._action,{icon:i}=t.item;if(i&&!Ie.isThemeIcon(i)){this.element.classList.add("icon");const n=()=>{this.element&&(this.element.style.backgroundImage=nm(this._themeService.getColorTheme().type)?kd(i.dark):kd(i.light))};n(),this._register(this._themeService.onDidColorThemeChange(()=>{n()}))}}};bT=vy([wo(2,Et),wo(3,pr),wo(4,qi)],bT);let _T=class extends Fr{constructor(e,t,i,n,o,r,a,l){var c,d,u;super(null,e),this._keybindingService=i,this._notificationService=n,this._contextMenuService=o,this._menuService=r,this._instaService=a,this._storageService=l,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;let h;const g=t!=null&&t.persistLastActionId?l.get(this._storageKey,1):void 0;g&&(h=e.actions.find(p=>g===p.id)),h||(h=e.actions[0]),this._defaultAction=this._instaService.createInstance(Ch,h,{keybinding:this._getDefaultActionKeybindingLabel(h)});const m=Object.assign(Object.assign({keybindingProvider:p=>this._keybindingService.lookupKeybinding(p.id)},t),{menuAsChild:(c=t==null?void 0:t.menuAsChild)!==null&&c!==void 0?c:!0,classNames:(d=t==null?void 0:t.classNames)!==null&&d!==void 0?d:["codicon","codicon-chevron-down"],actionRunner:(u=t==null?void 0:t.actionRunner)!==null&&u!==void 0?u:new Gf});this._dropdown=new w1(e,e.actions,this._contextMenuService,m),this._dropdown.actionRunner.onDidRun(p=>{p.action instanceof dr&&this.update(p.action)})}update(e){var t;!((t=this._options)===null||t===void 0)&&t.persistLastActionId&&this._storageService.store(this._storageKey,e.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Ch,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends Gf{runAction(i,n){return T7(this,void 0,void 0,function*(){yield i.run(void 0)})}},this._container&&this._defaultAction.render(GW(this._container,te(".action-container")))}_getDefaultActionKeybindingLabel(e){var t;let i;if(!((t=this._options)===null||t===void 0)&&t.renderKeybindingWithDefaultActionLabel){const n=this._keybindingService.lookupKeybinding(e.id);n&&(i=`(${n.getLabel()})`)}return i}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=te(".action-container");this._defaultAction.render(Q(this._container,t)),this._register($(t,ae.KEY_DOWN,n=>{const o=new Wt(n);o.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),o.stopPropagation())}));const i=te(".dropdown-action-container");this._dropdown.render(Q(this._container,i)),this._register($(i,ae.KEY_DOWN,n=>{var o;const r=new Wt(n);r.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(o=this._defaultAction.element)===null||o===void 0||o.focus(),r.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};_T=vy([wo(2,Et),wo(3,Li),wo(4,pr),wo(5,dl),wo(6,Ae),wo(7,_r)],_T);let vT=class extends voe{constructor(e,t){super(null,e,e.actions.map(i=>({text:i.id===tn.ID?"─────────":i.label,isDisabled:!i.enabled})),0,t,Eoe,{ariaLabel:e.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,e.actions.findIndex(i=>i.checked)))}render(e){super.render(e),e.style.borderColor=ue(qg)}runAction(e,t){const i=this.action.actions[t];i&&this.actionRunner.run(i)}};vT=vy([wo(1,gc)],vT);function Roe(s,e,t){return e instanceof dr?s.createInstance(Ch,e,t):e instanceof Yb?e.item.isSelection?s.createInstance(vT,e):e.item.rememberDefaultAction?s.createInstance(_T,e,Object.assign(Object.assign({},t),{persistLastActionId:!0})):s.createInstance(bT,e,t):void 0}var Moe=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class Vs extends H{constructor(e,t={}){var i,n,o,r,a,l;super(),this._actionRunnerDisposables=this._register(new Y),this.viewItemDisposables=this._register(new gA),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new M),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new M({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new M),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new M),this.onWillRun=this._onWillRun.event,this.options=t,this._context=(i=t.context)!==null&&i!==void 0?i:null,this._orientation=(n=this.options.orientation)!==null&&n!==void 0?n:0,this._triggerKeys={keyDown:(r=(o=this.options.triggerKeys)===null||o===void 0?void 0:o.keyDown)!==null&&r!==void 0?r:!1,keys:(l=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&l!==void 0?l:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Gf,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(u=>this._onDidRun.fire(u))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(u=>this._onWillRun.fire(u))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",t.animated!==!1&&this.domNode.classList.add("animated");let c,d;switch(this._orientation){case 0:c=[15],d=[17];break;case 1:c=[16],d=[18],this.domNode.className+=" vertical";break}this._register($(this.domNode,ae.KEY_DOWN,u=>{const h=new Wt(u);let g=!0;const m=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;c&&(h.equals(c[0])||h.equals(c[1]))?g=this.focusPrevious():d&&(h.equals(d[0])||h.equals(d[1]))?g=this.focusNext():h.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():h.equals(14)?g=this.focusFirst():h.equals(13)?g=this.focusLast():h.equals(2)&&m instanceof Fr&&m.trapsArrowNavigation?g=this.focusNext():this.isTriggerKeyEvent(h)?this._triggerKeys.keyDown?this.doTrigger(h):this.triggerKeyDown=!0:g=!1,g&&(h.preventDefault(),h.stopPropagation())})),this._register($(this.domNode,ae.KEY_UP,u=>{const h=new Wt(u);this.isTriggerKeyEvent(h)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(h)),h.preventDefault(),h.stopPropagation()):(h.equals(2)||h.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(Ja(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(ar()===this.domNode||!Dn(ar(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(e){if(this.focusable=e,this.focusable){const t=this.viewItems.find(i=>i instanceof Fr&&i.isEnabled());t instanceof Fr&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof Fr&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(Dn(ar(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(t=>this._onDidRun.fire(t))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(t=>this._onWillRun.fire(t))),this.viewItems.forEach(t=>t.actionRunner=e)}getContainer(){return this.domNode}getAction(e){var t;if(typeof e=="number")return(t=this.viewItems[e])===null||t===void 0?void 0:t.action;if(e instanceof HTMLElement){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let i=0;i<this.actionsList.childNodes.length;i++)if(this.actionsList.childNodes[i]===e)return this.viewItems[i].action}}push(e,t={}){const i=Array.isArray(e)?e:[e];let n=Cd(t.index)?t.index:null;i.forEach(o=>{const r=document.createElement("li");r.className="action-item",r.setAttribute("role","presentation");let a;const l=Object.assign({hoverDelegate:this.options.hoverDelegate},t);this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(o,l)),a||(a=new gm(this.context,o,l)),this.options.allowContextMenu||this.viewItemDisposables.set(a,$(r,ae.CONTEXT_MENU,c=>{je.stop(c,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(r),this.focusable&&a instanceof Fr&&this.viewItems.length===0&&a.setFocusable(!0),n===null||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(r),this.viewItems.push(a)):(this.actionsList.insertBefore(r,this.actionsList.children[n]),this.viewItems.splice(n,0,a),n++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=St(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),fn(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem=="undefined"){const n=this.viewItems.findIndex(o=>o.isEnabled());this.focusedItem=n===-1?void 0:n,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===tn.ID));return this.updateFocus(),!0}focusPrevious(e){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===tn.ID));return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){var n;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((n=this.viewItems[this.previouslyFocusedItem])===null||n===void 0||n.blur());const o=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(o){let r=!0;zb(o.focus)||(r=!1),this.options.focusOnlyEnabledItems&&zb(o.isEnabled)&&!o.isEnabled()&&(r=!1),o.action.id===tn.ID&&(r=!1),r?(i||this.previouslyFocusedItem!==this.focusedItem)&&(o.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0)}}doTrigger(e){if(typeof this.focusedItem=="undefined")return;const t=this.viewItems[this.focusedItem];if(t instanceof Fr){const i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}run(e,t){return Moe(this,void 0,void 0,function*(){yield this._actionRunner.run(e,t)})}dispose(){this._context=void 0,this.viewItems=St(this.viewItems),this.getContainer().remove(),super.dispose()}}const wT=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,tx=/(&amp;)?(&amp;)([^\s&])/g;var k1;(function(s){s[s.Right=0]="Right",s[s.Left=1]="Left"})(k1||(k1={}));class Of extends Vs{constructor(e,t,i,n){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const o=document.createElement("div");o.classList.add("monaco-menu"),o.setAttribute("role","presentation"),super(o,{orientation:1,actionViewItemProvider:l=>this.doGetActionViewItem(l,i,r),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...at||Qn?[10]:[]],keyDown:!0}}),this.menuStyles=n,this.menuElement=o,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new Y),this.initializeOrUpdateStyleSheet(e,n),this._register(Nt.addTarget(o)),$(o,ae.KEY_DOWN,l=>{new Wt(l).equals(2)&&l.preventDefault()}),i.enableMnemonics&&this.menuDisposables.add($(o,ae.KEY_DOWN,l=>{const c=l.key.toLocaleLowerCase();if(this.mnemonics.has(c)){je.stop(l,!0);const d=this.mnemonics.get(c);if(d.length===1&&(d[0]instanceof zF&&d[0].container&&this.focusItemByElement(d[0].container),d[0].onClick(l)),d.length>1){const u=d.shift();u&&u.container&&(this.focusItemByElement(u.container),d.push(u)),this.mnemonics.set(c,d)}}})),Qn&&this._register($(o,ae.KEY_DOWN,l=>{const c=new Wt(l);c.equals(14)||c.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),je.stop(l,!0)):(c.equals(13)||c.equals(12))&&(this.focusedItem=0,this.focusPrevious(),je.stop(l,!0))})),this._register($(this.domNode,ae.MOUSE_OUT,l=>{const c=l.relatedTarget;Dn(c,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),l.stopPropagation())})),this._register($(this.actionsList,ae.MOUSE_OVER,l=>{let c=l.target;if(!(!c||!Dn(c,this.actionsList)||c===this.actionsList)){for(;c.parentElement!==this.actionsList&&c.parentElement!==null;)c=c.parentElement;if(c.classList.contains("action-item")){const d=this.focusedItem;this.setFocusedItem(c),d!==this.focusedItem&&this.updateFocus()}}})),this._register(Nt.addTarget(this.actionsList)),this._register($(this.actionsList,At.Tap,l=>{let c=l.initialTarget;if(!(!c||!Dn(c,this.actionsList)||c===this.actionsList)){for(;c.parentElement!==this.actionsList&&c.parentElement!==null;)c=c.parentElement;if(c.classList.contains("action-item")){const d=this.focusedItem;this.setFocusedItem(c),d!==this.focusedItem&&this.updateFocus()}}}));const r={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Av(o,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const a=this.scrollableElement.getDomNode();a.style.position="",this.styleScrollElement(a,n),this._register($(o,At.Change,l=>{je.stop(l,!0);const c=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:c-l.translationY})})),this._register($(a,ae.MOUSE_UP,l=>{l.preventDefault()})),o.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter(l=>{var c;return!((c=i.submenuIds)===null||c===void 0)&&c.has(l.id)?(console.warn(`Found submenu cycle: ${l.id}`),!1):!0}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(l=>!(l instanceof UF)).forEach((l,c,d)=>{l.updatePositionInSet(c+1,d.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(RC(e)?this.styleSheet=Os(e):(Of.globalStyleSheet||(Of.globalStyleSheet=Os()),this.styleSheet=Of.globalStyleSheet)),this.styleSheet.textContent=Ooe(t,RC(e))}styleScrollElement(e,t){var i,n;const o=(i=t.foregroundColor)!==null&&i!==void 0?i:"",r=(n=t.backgroundColor)!==null&&n!==void 0?n:"",a=t.borderColor?`1px solid ${t.borderColor}`:"",l="5px",c=t.shadowColor?`0 2px 8px ${t.shadowColor}`:"";e.style.outline=a,e.style.borderRadius=l,e.style.color=o,e.style.backgroundColor=r,e.style.boxShadow=c}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){const i=this.actionsList.children[t];if(e===i){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof tn)return new UF(t.context,e,{icon:!0},this.menuStyles);if(e instanceof Zf){const n=new zF(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}),this.menuStyles);if(t.enableMnemonics){const o=n.getMnemonic();if(o&&n.isEnabled()){let r=[];this.mnemonics.has(o)&&(r=this.mnemonics.get(o)),r.push(n),this.mnemonics.set(o,r)}}return n}else{const n={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const r=t.getKeyBinding(e);if(r){const a=r.getLabel();a&&(n.keybinding=a)}}const o=new A7(t.context,e,n,this.menuStyles);if(t.enableMnemonics){const r=o.getMnemonic();if(r&&o.isEnabled()){let a=[];this.mnemonics.has(r)&&(a=this.mnemonics.get(r)),a.push(o),this.mnemonics.set(r,a)}}return o}}}class A7 extends Fr{constructor(e,t,i,n){if(i.isMenu=!0,super(t,t,i),this.menuStyle=n,this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass="",this.options.label&&i.enableMnemonics){const o=this.action.label;if(o){const r=wT.exec(o);r&&(this.mnemonic=(r[1]?r[1]:r[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new xt(()=>{this.element&&(this._register($(this.element,ae.MOUSE_UP,o=>{if(je.stop(o,!0),Ms){if(new Ds(o).rightButton)return;this.onClick(o)}else setTimeout(()=>{this.onClick(o)},0)})),this._register($(this.element,ae.CONTEXT_MENU,o=>{je.stop(o,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=Q(this.element,te("a.action-menu-item")),this._action.id===tn.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=Q(this.item,te("span.menu-item-check"+Ie.asCSSSelector(se.menuSelection))),this.check.setAttribute("role","none"),this.label=Q(this.item,te("span.action-label")),this.options.label&&this.options.keybinding&&(Q(this.item,te("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var e;super.focus(),(e=this.item)===null||e===void 0||e.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){var e;if(this.label&&this.options.label){fn(this.label);let t=WR(this.action.label);if(t){const i=Poe(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const n=wT.exec(t);if(n){t=IC(t),tx.lastIndex=0;let o=tx.exec(t);for(;o&&o[1];)o=tx.exec(t);const r=a=>a.replace(/&amp;&amp;/g,"&amp;");o?this.label.append(wv(r(t.substr(0,o.index))," "),te("u",{"aria-hidden":"true"},o[3]),vW(r(t.substr(o.index+o[0].length))," ")):this.label.innerText=r(t).trim(),(e=this.item)===null||e===void 0||e.setAttribute("aria-keyshortcuts",(n[1]?n[1]:n[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.action.checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",o=e&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=t!=null?t:"",this.item.style.backgroundColor=i!=null?i:"",this.item.style.outline=n,this.item.style.outlineOffset=o),this.check&&(this.check.style.color=t!=null?t:"")}}class zF extends A7{constructor(e,t,i,n,o){super(e,e,n,o),this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new Y),this.mouseOver=!1,this.expandDirection=n&&n.expandDirection!==void 0?n.expandDirection:k1.Right,this.showScheduler=new xt(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new xt(()=>{this.element&&!Dn(ar(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Q(this.item,te("span.submenu-indicator"+Ie.asCSSSelector(se.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register($(this.element,ae.KEY_UP,t=>{const i=new Wt(t);(i.equals(17)||i.equals(3))&&(je.stop(t,!0),this.createSubmenu(!0))})),this._register($(this.element,ae.KEY_DOWN,t=>{const i=new Wt(t);ar()===this.item&&(i.equals(17)||i.equals(3))&&je.stop(t,!0)})),this._register($(this.element,ae.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register($(this.element,ae.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register($(this.element,ae.FOCUS_OUT,t=>{this.element&&!Dn(ar(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(e){je.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(t){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){const o={top:0,left:0};return o.left=of(e.width,t.width,{position:n===k1.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=of(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=Q(this.element,te("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Of(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new xS],this.submenuOptions,this.menuStyle);const n=this.element.getBoundingClientRect(),o={top:n.top-i,left:n.left,height:n.height+2*i,width:n.width},r=this.submenuContainer.getBoundingClientRect(),{top:a,left:l}=this.calculateSubmenuMenuLayout(new ft(window.innerWidth,window.innerHeight),ft.lift(r),o,this.expandDirection);this.submenuContainer.style.left=`${l-r.left}px`,this.submenuContainer.style.top=`${a-r.top}px`,this.submenuDisposables.add($(this.submenuContainer,ae.KEY_UP,c=>{new Wt(c).equals(15)&&(je.stop(c,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add($(this.submenuContainer,ae.KEY_DOWN,c=>{new Wt(c).equals(15)&&je.stop(c,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&((t=this.item)===null||t===void 0||t.setAttribute("aria-expanded",e))}applyStyle(){super.applyStyle();const t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t!=null?t:"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class UF extends gm{constructor(e,t,i,n){super(e,t,i),this.menuStyles=n}render(e){super.render(e),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function Poe(s){const e=wT,t=e.exec(s);if(!t)return s;const i=!t[1];return s.replace(e,i?"$2$3":"").trim()}function $F(s){const e=mW()[s.id];return`.codicon-${s.id}:before { content: '\\${e.toString(16)}'; }`}function Ooe(s,e){let t=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${$F(se.menuSelection)}
${$F(se.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(e){t+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const i=s.scrollbarShadow;i&&(t+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${i} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${i} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${i} 6px 6px 6px -6px inset;
				}
			`);const n=s.scrollbarSliderBackground;n&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${n};
				}
			`);const o=s.scrollbarSliderHoverBackground;o&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${o};
				}
			`);const r=s.scrollbarSliderActiveBackground;r&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${r};
				}
			`)}return t}class Foe{constructor(e,t,i,n){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;this.focusToReturn=document.activeElement;let i;const n=AA(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:o=>{var r;this.lastContainer=o;const a=e.getMenuClassName?e.getMenuClassName():"";a&&(o.className+=" "+a),this.options.blockMouse&&(this.block=o.appendChild(te(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(r=this.blockDisposable)===null||r===void 0||r.dispose(),this.blockDisposable=$(this.block,ae.MOUSE_DOWN,d=>d.stopPropagation()));const l=new Y,c=e.actionRunner||new Gf;return c.onWillRun(d=>this.onActionRun(d,!e.skipTelemetry),this,l),c.onDidRun(this.onDidActionRun,this,l),i=new Of(o,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:c,getKeyBinding:e.getKeyBinding?e.getKeyBinding:d=>this.keybindingService.lookupKeybinding(d.id)},Noe),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,l),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,l),l.add($(window,ae.BLUR,()=>this.contextViewService.hideContextView(!0))),l.add($(window,ae.MOUSE_DOWN,d=>{if(d.defaultPrevented)return;const u=new Ds(d);let h=u.target;if(!u.rightButton){for(;h;){if(h===o)return;h=h.parentElement}this.contextViewService.hideContextView(!0)}})),rr(l,i)},focus:()=>{i==null||i.focus(!!e.autoSelectFirstItem)},onHide:o=>{var r,a,l;(r=e.onHide)===null||r===void 0||r.call(e,!!o),this.block&&(this.block.remove(),this.block=null),(a=this.blockDisposable)===null||a===void 0||a.dispose(),this.blockDisposable=null,this.lastContainer&&(ar()===this.lastContainer||Dn(ar(),this.lastContainer))&&((l=this.focusToReturn)===null||l===void 0||l.focus()),this.lastContainer=null}},n,!!n)}onActionRun(e,t){t&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(e){e.error&&!ra(e.error)&&this.notificationService.error(e.error)}}var Boe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Sg=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let CT=class extends H{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new Foe(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(e,t,i,n,o,r){super(),this.telemetryService=e,this.notificationService=t,this.contextViewService=i,this.keybindingService=n,this.menuService=o,this.contextKeyService=r,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new M),this._onDidHideContextMenu=this._store.add(new M)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){e=ST.transform(e,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:t=>{var i;(i=e.onHide)===null||i===void 0||i.call(e,t),this._onDidHideContextMenu.fire()}})),Vl.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};CT=Boe([Sg(0,ms),Sg(1,Li),Sg(2,gc),Sg(3,Et),Sg(4,dl),Sg(5,Me)],CT);var ST;(function(s){function e(i){return i&&i.menuId instanceof D}function t(i,n,o){if(!e(i))return i;const{menuId:r,menuActionOptions:a,contextKeyService:l}=i;return Object.assign(Object.assign({},i),{getActions:()=>{const c=[];if(r){const d=n.createMenu(r,l!=null?l:o);Aoe(d,a,c),d.dispose()}return i.getActions?tn.join(i.getActions(),c):c}})}s.transform=t})(ST||(ST={}));var L1;(function(s){s[s.API=0]="API",s[s.USER=1]="USER"})(L1||(L1={}));var UR=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},x1=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Fu=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};let yT=class{constructor(e){this._commandService=e}open(e,t){return Fu(this,void 0,void 0,function*(){if(!IR(e,qe.command))return!1;if(!(t!=null&&t.allowCommands)||(typeof e=="string"&&(e=De.parse(e)),Array.isArray(t.allowCommands)&&!t.allowCommands.includes(e.path)))return!0;let i=[];try{i=hT(decodeURIComponent(e.query))}catch(n){try{i=hT(e.query)}catch(o){}}return Array.isArray(i)||(i=[i]),yield this._commandService.executeCommand(e.path,...i),!0})}};yT=UR([x1(0,ci)],yT);let kT=class{constructor(e){this._editorService=e}open(e,t){return Fu(this,void 0,void 0,function*(){typeof e=="string"&&(e=De.parse(e));const{selection:i,uri:n}=zte(e);return e=n,e.scheme===qe.file&&(e=kJ(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:i,source:t!=null&&t.fromUserGesture?L1.USER:L1.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};kT=UR([x1(0,bt)],kT);let LT=class{constructor(e,t){this._openers=new oo,this._validators=new oo,this._resolvers=new oo,this._resolvedUriTargets=new On(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new oo,this._defaultExternalOpener={openExternal:i=>Fu(this,void 0,void 0,function*(){return mF(i,qe.http,qe.https)?QW(i):window.location.href=i,!0})},this._openers.push({open:(i,n)=>Fu(this,void 0,void 0,function*(){return n!=null&&n.openExternal||mF(i,qe.mailto,qe.http,qe.https,qe.vsls)?(yield this._doOpenExternal(i,n),!0):!1})}),this._openers.push(new yT(t)),this._openers.push(new kT(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}open(e,t){var i;return Fu(this,void 0,void 0,function*(){const n=typeof e=="string"?De.parse(e):e,o=(i=this._resolvedUriTargets.get(n))!==null&&i!==void 0?i:e;for(const r of this._validators)if(!(yield r.shouldOpen(o,t)))return!1;for(const r of this._openers)if(yield r.open(e,t))return!0;return!1})}resolveExternalUri(e,t){return Fu(this,void 0,void 0,function*(){for(const i of this._resolvers)try{const n=yield i.resolveExternalUri(e,t);if(n)return this._resolvedUriTargets.has(n.resolved)||this._resolvedUriTargets.set(n.resolved,e),n}catch(n){}throw new Error("Could not resolve external URI: "+e.toString())})}_doOpenExternal(e,t){return Fu(this,void 0,void 0,function*(){const i=typeof e=="string"?De.parse(e):e;let n;try{n=(yield this.resolveExternalUri(i,t)).resolved}catch(r){n=i}let o;if(typeof e=="string"&&i.toString()===n.toString()?o=e:o=encodeURI(n.toString(!0)),t!=null&&t.allowContributedOpeners){const r=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const a of this._externalOpeners)if(yield a.openExternal(o,{sourceUri:i,preferredOpenerId:r},Xe.None))return!0}return this._defaultExternalOpener.openExternal(o,{sourceUri:i},Xe.None)})}dispose(){this._validators.clear()}};LT=UR([x1(0,bt),x1(1,ci)],LT);const vr=et("editorWorkerService");var ni;(function(s){s[s.Hint=1]="Hint",s[s.Info=2]="Info",s[s.Warning=4]="Warning",s[s.Error=8]="Error"})(ni||(ni={}));(function(s){function e(r,a){return a-r}s.compare=e;const t=Object.create(null);t[s.Error]=f("vs/platform/markers/common/markers","sev.error","Error"),t[s.Warning]=f("vs/platform/markers/common/markers","sev.warning","Warning"),t[s.Info]=f("vs/platform/markers/common/markers","sev.info","Info");function i(r){return t[r]||""}s.toString=i;function n(r){switch(r){case mi.Error:return s.Error;case mi.Warning:return s.Warning;case mi.Info:return s.Info;case mi.Ignore:return s.Hint}}s.fromSeverity=n;function o(r){switch(r){case s.Error:return mi.Error;case s.Warning:return mi.Warning;case s.Info:return mi.Info;case s.Hint:return mi.Ignore}}s.toSeverity=o})(ni||(ni={}));var D1;(function(s){const e="";function t(n){return i(n,!0)}s.makeKey=t;function i(n,o){const r=[e];return n.source?r.push(n.source.replace("¦","\\¦")):r.push(e),n.code?typeof n.code=="string"?r.push(n.code.replace("¦","\\¦")):r.push(n.code.value.replace("¦","\\¦")):r.push(e),n.severity!==void 0&&n.severity!==null?r.push(ni.toString(n.severity)):r.push(e),n.message&&o?r.push(n.message.replace("¦","\\¦")):r.push(e),n.startLineNumber!==void 0&&n.startLineNumber!==null?r.push(n.startLineNumber.toString()):r.push(e),n.startColumn!==void 0&&n.startColumn!==null?r.push(n.startColumn.toString()):r.push(e),n.endLineNumber!==void 0&&n.endLineNumber!==null?r.push(n.endLineNumber.toString()):r.push(e),n.endColumn!==void 0&&n.endColumn!==null?r.push(n.endColumn.toString()):r.push(e),r.push(e),r.join("¦")}s.makeKeyOptionalMessage=i})(D1||(D1={}));const gl=et("markerService");function Woe(s,e){const t=[],i=[];for(const n of s)e.has(n)||t.push(n);for(const n of e)s.has(n)||i.push(n);return{removed:t,added:i}}function Voe(s,e){const t=new Set;for(const i of e)s.has(i)&&t.add(i);return t}var Hoe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},jF=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let xT=class extends H{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new M),this._markerDecorations=new On,e.getModels().forEach(i=>this._onModelAdded(i)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{const i=this._markerDecorations.get(t);i&&this._updateDecorations(i)})}_onModelAdded(e){const t=new zoe(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){var t;const i=this._markerDecorations.get(e.uri);i&&(i.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===qe.inMemory||e.uri.scheme===qe.internal||e.uri.scheme===qe.vscode)&&((t=this._markerService)===null||t===void 0||t.read({resource:e.uri}).map(n=>n.owner).forEach(n=>this._markerService.remove(n,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});e.update(t)&&this._onDidChangeMarker.fire(e.model)}};xT=Hoe([jF(0,Qt),jF(1,gl)],xT);class zoe extends H{constructor(e){super(),this.model=e,this._map=new kq,this._register(Re(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(e){const{added:t,removed:i}=Woe(new Set(this._map.keys()),new Set(e));if(t.length===0&&i.length===0)return!1;const n=i.map(a=>this._map.get(a)),o=t.map(a=>({range:this._createDecorationRange(this.model,a),options:this._createDecorationOption(a)})),r=this.model.deltaDecorations(n,o);for(const a of i)this._map.delete(a);for(let a=0;a<r.length;a++)this._map.set(t[a],r[a]);return!0}getMarker(e){return this._map.getKey(e.id)}_createDecorationRange(e,t){let i=k.lift(t);if(t.severity===ni.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){const n=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(n===1||i.endColumn>=n)return i;const o=e.getWordAtPosition(i.getStartPosition());o&&(i=new k(i.startLineNumber,o.startColumn,i.endLineNumber,o.endColumn))}else if(t.endColumn===Number.MAX_VALUE&&t.startColumn===1&&i.startLineNumber===i.endLineNumber){const n=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);n<i.endColumn&&(i=new k(i.startLineNumber,n,i.endLineNumber,i.endColumn),t.startColumn=n)}return i}_createDecorationOption(e){let t,i,n,o,r;switch(e.severity){case ni.Hint:this._hasMarkerTag(e,2)?t=void 0:this._hasMarkerTag(e,1)?t="squiggly-unnecessary":t="squiggly-hint",n=0;break;case ni.Info:t="squiggly-info",i=ti(bY),n=10,r={color:ti(iQ),position:Bo.Inline};break;case ni.Warning:t="squiggly-warning",i=ti(pY),n=20,r={color:ti(nQ),position:Bo.Inline};break;case ni.Error:default:t="squiggly-error",i=ti(mY),n=30,r={color:ti(oQ),position:Bo.Inline};break}return e.tags&&(e.tags.indexOf(1)!==-1&&(o="squiggly-inline-unnecessary"),e.tags.indexOf(2)!==-1&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:ds.Right},minimap:r,zIndex:n,inlineClassName:o}}_hasMarkerTag(e,t){return e.tags?e.tags.indexOf(t)>=0:!1}}var Uoe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},vp=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Mg;function mu(s){return s.toString()}class $oe{constructor(e,t,i){this.model=e,this._modelEventListeners=new Y,this.model=e,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(n=>i(e,n)))}dispose(){this._modelEventListeners.dispose()}}const joe=Qn||at?1:2;class Koe{constructor(e,t,i,n,o,r,a,l){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=n,this.heapSize=o,this.sha1=r,this.versionId=a,this.alternativeVersionId=l}}let I1=Mg=class extends H{constructor(e,t,i,n,o){super(),this._configurationService=e,this._resourcePropertiesService=t,this._undoRedoService=i,this._languageService=n,this._languageConfigurationService=o,this._onModelAdded=this._register(new M),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new M),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new M),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(r=>this._updateModelOptions(r))),this._updateModelOptions(void 0)}static _readModelOptions(e,t){var i;let n=Pn.tabSize;if(e.editor&&typeof e.editor.tabSize!="undefined"){const g=parseInt(e.editor.tabSize,10);isNaN(g)||(n=g),n<1&&(n=1)}let o="tabSize";if(e.editor&&typeof e.editor.indentSize!="undefined"&&e.editor.indentSize!=="tabSize"){const g=parseInt(e.editor.indentSize,10);isNaN(g)||(o=Math.max(g,1))}let r=Pn.insertSpaces;e.editor&&typeof e.editor.insertSpaces!="undefined"&&(r=e.editor.insertSpaces==="false"?!1:!!e.editor.insertSpaces);let a=joe;const l=e.eol;l===`\r
`?a=2:l===`
`&&(a=1);let c=Pn.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace!="undefined"&&(c=e.editor.trimAutoWhitespace==="false"?!1:!!e.editor.trimAutoWhitespace);let d=Pn.detectIndentation;e.editor&&typeof e.editor.detectIndentation!="undefined"&&(d=e.editor.detectIndentation==="false"?!1:!!e.editor.detectIndentation);let u=Pn.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations!="undefined"&&(u=e.editor.largeFileOptimizations==="false"?!1:!!e.editor.largeFileOptimizations);let h=Pn.bracketPairColorizationOptions;return!((i=e.editor)===null||i===void 0)&&i.bracketPairColorization&&typeof e.editor.bracketPairColorization=="object"&&(h={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:n,indentSize:o,insertSpaces:r,detectIndentation:d,defaultEOL:a,trimAutoWhitespace:c,largeFileOptimizations:u,bracketPairColorizationOptions:h}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:ns===3||ns===2?`
`:`\r
`}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){const n=typeof e=="string"?e:e.languageId;let o=this._modelCreationOptionsByLanguageAndResource[n+t];if(!o){const r=this._configurationService.getValue("editor",{overrideIdentifier:n,resource:t}),a=this._getEOL(t,n);o=Mg._readModelOptions({editor:r,eol:a},i),this._modelCreationOptionsByLanguageAndResource[n+t]=o}return o}_updateModelOptions(e){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let n=0,o=i.length;n<o;n++){const r=i[n],a=this._models[r],l=a.model.getLanguageId(),c=a.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:l,resource:c})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:l,resource:c}))continue;const d=t[l+c],u=this.getCreationOptions(l,c,a.model.isForSimpleWidget);Mg._setModelOptionsForModel(a.model,u,d)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&as(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(mu(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(mu(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(mu(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,n)=>i.time-n.time);t.length>0&&this._disposedModelsHeapSize>e;){const i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,n){const o=this.getCreationOptions(t,i,n),r=new nl(e,t,o,i,this._undoRedoService,this._languageService,this._languageConfigurationService);if(i&&this._disposedModels.has(mu(i))){const c=this._removeDisposedModel(i),d=this._undoRedoService.getElements(i),u=this._getSHA1Computer(),h=u.canComputeSHA1(r)?u.computeSHA1(r)===c.sha1:!1;if(h||c.sharesUndoRedoStack){for(const g of d.past)Nl(g)&&g.matchesResource(i)&&g.setModel(r);for(const g of d.future)Nl(g)&&g.matchesResource(i)&&g.setModel(r);this._undoRedoService.setElementsValidFlag(i,!0,g=>Nl(g)&&g.matchesResource(i)),h&&(r._overwriteVersionId(c.versionId),r._overwriteAlternativeVersionId(c.alternativeVersionId),r._overwriteInitialUndoRedoSnapshot(c.initialUndoRedoSnapshot))}else c.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(c.initialUndoRedoSnapshot)}const a=mu(r.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");const l=new $oe(r,c=>this._onWillDispose(c),(c,d)=>this._onDidChangeLanguage(c,d));return this._models[a]=l,l}createModel(e,t,i,n=!1){let o;return t?o=this._createModelData(e,t,i,n):o=this._createModelData(e,ls,i,n),this._onModelAdded.fire(o.model),o.model}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){const o=t[i];e.push(this._models[o].model)}return e}getModel(e){const t=mu(e),i=this._models[t];return i?i.model:null}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===qe.file||e.scheme===qe.vscodeRemote||e.scheme===qe.vscodeUserData||e.scheme===qe.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){const t=mu(e.uri),i=this._models[t],n=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let o=!1,r=0;if(n||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const c=this._undoRedoService.getElements(e.uri);if(c.past.length>0||c.future.length>0){for(const d of c.past)Nl(d)&&d.matchesResource(e.uri)&&(o=!0,r+=d.heapSize(e.uri),d.setModel(e.uri));for(const d of c.future)Nl(d)&&d.matchesResource(e.uri)&&(o=!0,r+=d.heapSize(e.uri),d.setModel(e.uri))}}const a=Mg.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,l=this._getSHA1Computer();if(o)if(!n&&(r>a||!l.canComputeSHA1(e))){const c=i.model.getInitialUndoRedoSnapshot();c!==null&&this._undoRedoService.restoreSnapshot(c)}else this._ensureDisposedModelsHeapSize(a-r),this._undoRedoService.setElementsValidFlag(e.uri,!1,c=>Nl(c)&&c.matchesResource(e.uri)),this._insertDisposedModel(new Koe(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),n,r,l.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!n){const c=i.model.getInitialUndoRedoSnapshot();c!==null&&this._undoRedoService.restoreSnapshot(c)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const i=t.oldLanguage,n=e.getLanguageId(),o=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),r=this.getCreationOptions(n,e.uri,e.isForSimpleWidget);Mg._setModelOptionsForModel(e,r,o),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}_getSHA1Computer(){return new wy}};I1.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024;I1=Mg=Uoe([vp(0,ot),vp(1,x3),vp(2,ly),vp(3,qt),vp(4,Mt)],I1);class wy{canComputeSHA1(e){return e.getValueLength()<=wy.MAX_MODEL_SIZE}computeSHA1(e){const t=new GS,i=e.createSnapshot();let n;for(;n=i.read();)t.update(n);return t.digest()}}wy.MAX_MODEL_SIZE=10*1024*1024;class qoe{get templateId(){return this.renderer.templateId}constructor(e,t){this.renderer=e,this.modelProvider=t}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:H.None}}renderElement(e,t,i,n){var o;if((o=i.disposable)===null||o===void 0||o.dispose(),!i.data)return;const r=this.modelProvider();if(r.isResolved(e))return this.renderer.renderElement(r.get(e),e,i.data,n);const a=new yi,l=r.resolve(e,a.token);i.disposable={dispose:()=>a.cancel()},this.renderer.renderPlaceholder(e,i.data),l.then(c=>this.renderer.renderElement(c,e,i.data,n))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class Goe{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}function Zoe(s,e){return Object.assign(Object.assign({},e),{accessibilityProvider:e.accessibilityProvider&&new Goe(s,e.accessibilityProvider)})}class Qoe{constructor(e,t,i,n,o={}){const r=()=>this.model,a=n.map(l=>new qoe(l,r));this.list=new br(e,t,i,a,Zoe(r,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return ce.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return ce.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return ce.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(n=>this._model.get(n)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Xn(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}var $m=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const Yoe=!1;var T1;(function(s){s.North="north",s.South="south",s.East="east",s.West="west"})(T1||(T1={}));let Xoe=4;const Joe=new M;let ese=300;const tse=new M;class $R{constructor(){this.disposables=new Y}get onPointerMove(){return this.disposables.add(new tt(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new tt(window,"mouseup")).event}dispose(){this.disposables.dispose()}}$m([ki],$R.prototype,"onPointerMove",null);$m([ki],$R.prototype,"onPointerUp",null);class jR{get onPointerMove(){return this.disposables.add(new tt(this.el,At.Change)).event}get onPointerUp(){return this.disposables.add(new tt(this.el,At.End)).event}constructor(e){this.el=e,this.disposables=new Y}dispose(){this.disposables.dispose()}}$m([ki],jR.prototype,"onPointerMove",null);$m([ki],jR.prototype,"onPointerUp",null);class E1{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(e){this.factory=e}dispose(){}}$m([ki],E1.prototype,"onPointerMove",null);$m([ki],E1.prototype,"onPointerUp",null);const KF="pointer-events-disabled";class An extends H{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=Q(this.el,te(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(Re(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new tt(this._orthogonalStartDragHandle,"mouseenter")).event(()=>An.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new tt(this._orthogonalStartDragHandle,"mouseleave")).event(()=>An.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=Q(this.el,te(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(Re(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new tt(this._orthogonalEndDragHandle,"mouseenter")).event(()=>An.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new tt(this._orthogonalEndDragHandle,"mouseleave")).event(()=>An.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,i){super(),this.hoverDelay=ese,this.hoverDelayer=this._register(new hr(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new M),this._onDidStart=this._register(new M),this._onDidChange=this._register(new M),this._onDidReset=this._register(new M),this._onDidEnd=this._register(new M),this.orthogonalStartSashDisposables=this._register(new Y),this.orthogonalStartDragHandleDisposables=this._register(new Y),this.orthogonalEndSashDisposables=this._register(new Y),this.orthogonalEndDragHandleDisposables=this._register(new Y),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=Q(e,te(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),at&&this.el.classList.add("mac");const n=this._register(new tt(this.el,"mousedown")).event;this._register(n(u=>this.onPointerStart(u,new $R),this));const o=this._register(new tt(this.el,"dblclick")).event;this._register(o(this.onPointerDoublePress,this));const r=this._register(new tt(this.el,"mouseenter")).event;this._register(r(()=>An.onMouseEnter(this)));const a=this._register(new tt(this.el,"mouseleave")).event;this._register(a(()=>An.onMouseLeave(this))),this._register(Nt.addTarget(this.el));const l=this._register(new tt(this.el,At.Start)).event;this._register(l(u=>this.onPointerStart(u,new jR(this.el)),this));const c=this._register(new tt(this.el,At.Tap)).event;let d;this._register(c(u=>{if(d){clearTimeout(d),d=void 0,this.onPointerDoublePress(u);return}clearTimeout(d),d=setTimeout(()=>d=void 0,250)},this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=Xoe,this._register(Joe.event(u=>{this.size=u,this.layout()}))),this._register(tse.event(u=>this.hoverDelay=u)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",Yoe),this.layout()}onPointerStart(e,t){je.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const m=this.getOrthogonalSash(e);m&&(i=!0,e.__orthogonalSashEvent=!0,m.onPointerStart(e,new E1(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new E1(t))),!this.state)return;const n=document.getElementsByTagName("iframe");for(const m of n)m.classList.add(KF);const o=e.pageX,r=e.pageY,a=e.altKey,l={startX:o,currentX:o,startY:r,currentY:r,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const c=Os(this.el),d=()=>{let m="";i?m="all-scroll":this.orientation===1?this.state===1?m="s-resize":this.state===2?m="n-resize":m=at?"row-resize":"ns-resize":this.state===1?m="e-resize":this.state===2?m="w-resize":m=at?"col-resize":"ew-resize",c.textContent=`* { cursor: ${m} !important; }`},u=new Y;d(),i||this.onDidEnablementChange.event(d,null,u);const h=m=>{je.stop(m,!1);const p={startX:o,currentX:m.pageX,startY:r,currentY:m.pageY,altKey:a};this._onDidChange.fire(p)},g=m=>{je.stop(m,!1),this.el.removeChild(c),this.el.classList.remove("active"),this._onDidEnd.fire(),u.dispose();for(const p of n)p.classList.remove(KF)};t.onPointerMove(h,null,u),t.onPointerUp(g,null,u),u.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&An.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&An.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){An.onMouseLeave(this)}layout(){if(this.orientation===0){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){var t;const i=(t=e.initialTarget)!==null&&t!==void 0?t:e.target;if(!(!i||!(i instanceof HTMLElement))&&i.classList.contains("orthogonal-drag-handle"))return i.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}const ise={separatorBorder:V.transparent};class R7{set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(e,t){var i,n;e!==this.visible&&(e?(this.size=Eo(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e),(n=(i=this.view).setVisible)===null||n===void 0||n.call(i,e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var e;return(e=this.view.proportionalLayout)!==null&&e!==void 0?e:!0}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){this.disposable.dispose()}}class nse extends R7{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class ose extends R7{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var Dl;(function(s){s[s.Idle=0]="Idle",s[s.Busy=1]="Busy"})(Dl||(Dl={}));var N1;(function(s){s.Distribute={type:"distribute"};function e(n){return{type:"split",index:n}}s.Split=e;function t(n){return{type:"auto",index:n}}s.Auto=t;function i(n){return{type:"invisible",cachedVisibleSize:n}}s.Invisible=i})(N1||(N1={}));class M7 extends H{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t={}){var i,n,o,r,a;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=Dl.Idle,this._onDidSashChange=this._register(new M),this._onDidSashReset=this._register(new M),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(i=t.orientation)!==null&&i!==void 0?i:0,this.inverseAltBehavior=(n=t.inverseAltBehavior)!==null&&n!==void 0?n:!1,this.proportionalLayout=(o=t.proportionalLayout)!==null&&o!==void 0?o:!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=Q(this.el,te(".sash-container")),this.viewContainer=te(".split-view-container"),this.scrollable=this._register(new Nv({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:Ps})),this.scrollableElement=this._register(new oR(this.viewContainer,{vertical:this.orientation===0?(r=t.scrollbarVisibility)!==null&&r!==void 0?r:1:2,horizontal:this.orientation===1?(a=t.scrollbarVisibility)!==null&&a!==void 0?a:1:2},this.scrollable));const l=this._register(new tt(this.viewContainer,"scroll")).event;this._register(l(c=>{const d=this.scrollableElement.getScrollPosition(),u=Math.abs(this.viewContainer.scrollLeft-d.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,h=Math.abs(this.viewContainer.scrollTop-d.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(u!==void 0||h!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:u,scrollTop:h})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(c=>{c.scrollTopChanged&&(this.viewContainer.scrollTop=c.scrollTop),c.scrollLeftChanged&&(this.viewContainer.scrollLeft=c.scrollLeft)})),Q(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||ise),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((c,d)=>{const u=Mo(c.visible)||c.visible?c.size:{type:"invisible",cachedVisibleSize:c.size},h=c.view;this.doAddView(h,u,d,!0)}),this.contentSize=this.viewItems.reduce((c,d)=>c+d.size,0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,n){this.doAddView(e,t,i,n)}layout(e,t){const i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let n=0;for(let o=0;o<this.viewItems.length;o++){const r=this.viewItems[o],a=this.proportions[o];typeof a=="number"?n+=a:e-=r.size}for(let o=0;o<this.viewItems.length;o++){const r=this.viewItems[o],a=this.proportions[o];typeof a=="number"&&(r.size=Eo(Math.round(a*e/n),r.minimumSize,r.maximumSize))}}else{const n=Xn(this.viewItems.length),o=n.filter(a=>this.viewItems[a].priority===1),r=n.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,o,r)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.proportionalLayout?e.size/this.contentSize:void 0))}onSashStart({sash:e,start:t,alt:i}){for(const a of this.viewItems)a.enabled=!1;const n=this.sashItems.findIndex(a=>a.sash===e),o=rr($(document.body,"keydown",a=>r(this.sashDragState.current,a.altKey)),$(document.body,"keyup",()=>r(this.sashDragState.current,!1))),r=(a,l)=>{const c=this.viewItems.map(m=>m.size);let d=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(n===this.sashItems.length-1){const p=this.viewItems[n];d=(p.minimumSize-p.size)/2,u=(p.maximumSize-p.size)/2}else{const p=this.viewItems[n+1];d=(p.size-p.maximumSize)/2,u=(p.size-p.minimumSize)/2}let h,g;if(!l){const m=Xn(n,-1),p=Xn(n+1,this.viewItems.length),_=m.reduce((I,E)=>I+(this.viewItems[E].minimumSize-c[E]),0),b=m.reduce((I,E)=>I+(this.viewItems[E].viewMaximumSize-c[E]),0),v=p.length===0?Number.POSITIVE_INFINITY:p.reduce((I,E)=>I+(c[E]-this.viewItems[E].minimumSize),0),w=p.length===0?Number.NEGATIVE_INFINITY:p.reduce((I,E)=>I+(c[E]-this.viewItems[E].viewMaximumSize),0),C=Math.max(_,w),S=Math.min(v,b),x=this.findFirstSnapIndex(m),L=this.findFirstSnapIndex(p);if(typeof x=="number"){const I=this.viewItems[x],E=Math.floor(I.viewMinimumSize/2);h={index:x,limitDelta:I.visible?C-E:C+E,size:I.size}}if(typeof L=="number"){const I=this.viewItems[L],E=Math.floor(I.viewMinimumSize/2);g={index:L,limitDelta:I.visible?S+E:S-E,size:I.size}}}this.sashDragState={start:a,current:a,index:n,sizes:c,minDelta:d,maxDelta:u,alt:l,snapBefore:h,snapAfter:g,disposable:o}};r(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:n,alt:o,minDelta:r,maxDelta:a,snapBefore:l,snapAfter:c}=this.sashDragState;this.sashDragState.current=e;const d=e-i,u=this.resize(t,d,n,void 0,void 0,r,a,l,c);if(o){const h=t===this.sashItems.length-1,g=this.viewItems.map(w=>w.size),m=h?t:t+1,p=this.viewItems[m],_=p.size-p.maximumSize,b=p.size-p.minimumSize,v=h?t-1:t+1;this.resize(v,-u,g,void 0,void 0,_,b)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=Eo(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==Dl.Idle)throw new Error("Cant modify splitview");if(this.state=Dl.Busy,e<0||e>=this.viewItems.length)return;const i=Xn(this.viewItems.length).filter(a=>a!==e),n=[...i.filter(a=>this.viewItems[a].priority===1),e],o=i.filter(a=>this.viewItems[a].priority===2),r=this.viewItems[e];t=Math.round(t),t=Eo(t,r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=t,this.relayout(n,o),this.state=Dl.Idle}distributeViewSizes(){const e=[];let t=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);const i=Math.floor(t/e.length);for(const a of e)a.size=Eo(i,a.minimumSize,a.maximumSize);const n=Xn(this.viewItems.length),o=n.filter(a=>this.viewItems[a].priority===1),r=n.filter(a=>this.viewItems[a].priority===2);this.relayout(o,r)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,n){if(this.state!==Dl.Idle)throw new Error("Cant modify splitview");this.state=Dl.Busy;const o=te(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(i));const r=e.onDidChange(h=>this.onViewChange(d,h)),a=Re(()=>this.viewContainer.removeChild(o)),l=rr(r,a);let c;typeof t=="number"?c=t:(t.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index}),t.type==="split"?c=this.getViewSize(t.index)/2:t.type==="invisible"?c={cachedVisibleSize:t.cachedVisibleSize}:c=e.minimumSize);const d=this.orientation===0?new nse(o,e,c,l):new ose(o,e,c,l);if(this.viewItems.splice(i,0,d),this.viewItems.length>1){const h={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},g=this.orientation===0?new An(this.sashContainer,{getHorizontalSashTop:I=>this.getSashPosition(I),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},h),{orientation:1})):new An(this.sashContainer,{getVerticalSashLeft:I=>this.getSashPosition(I),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},h),{orientation:0})),m=this.orientation===0?I=>({sash:g,start:I.startY,current:I.currentY,alt:I.altKey}):I=>({sash:g,start:I.startX,current:I.currentX,alt:I.altKey}),_=ce.map(g.onDidStart,m)(this.onSashStart,this),v=ce.map(g.onDidChange,m)(this.onSashChange,this),C=ce.map(g.onDidEnd,()=>this.sashItems.findIndex(I=>I.sash===g))(this.onSashEnd,this),S=g.onDidReset(()=>{const I=this.sashItems.findIndex(O=>O.sash===g),E=Xn(I,-1),W=Xn(I+1,this.viewItems.length),U=this.findFirstSnapIndex(E),F=this.findFirstSnapIndex(W);typeof U=="number"&&!this.viewItems[U].visible||typeof F=="number"&&!this.viewItems[F].visible||this._onDidSashReset.fire(I)}),x=rr(_,v,C,S,g),L={sash:g,disposable:x};this.sashItems.splice(i-1,0,L)}o.appendChild(e.element);let u;typeof t!="number"&&t.type==="split"&&(u=[t.index]),n||this.relayout([i],u),this.state=Dl.Idle,!n&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}relayout(e,t){const i=this.viewItems.reduce((n,o)=>n+o.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(d=>d.size),n,o,r=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,c){if(e<0||e>=this.viewItems.length)return 0;const d=Xn(e,-1),u=Xn(e+1,this.viewItems.length);if(o)for(const L of o)$k(d,L),$k(u,L);if(n)for(const L of n)f0(d,L),f0(u,L);const h=d.map(L=>this.viewItems[L]),g=d.map(L=>i[L]),m=u.map(L=>this.viewItems[L]),p=u.map(L=>i[L]),_=d.reduce((L,I)=>L+(this.viewItems[I].minimumSize-i[I]),0),b=d.reduce((L,I)=>L+(this.viewItems[I].maximumSize-i[I]),0),v=u.length===0?Number.POSITIVE_INFINITY:u.reduce((L,I)=>L+(i[I]-this.viewItems[I].minimumSize),0),w=u.length===0?Number.NEGATIVE_INFINITY:u.reduce((L,I)=>L+(i[I]-this.viewItems[I].maximumSize),0),C=Math.max(_,w,r),S=Math.min(v,b,a);let x=!1;if(l){const L=this.viewItems[l.index],I=t>=l.limitDelta;x=I!==L.visible,L.setVisible(I,l.size)}if(!x&&c){const L=this.viewItems[c.index],I=t<c.limitDelta;x=I!==L.visible,L.setVisible(I,c.size)}if(x)return this.resize(e,t,i,n,o,r,a);t=Eo(t,C,S);for(let L=0,I=t;L<h.length;L++){const E=h[L],W=Eo(g[L]+I,E.minimumSize,E.maximumSize),U=W-g[L];I-=U,E.size=W}for(let L=0,I=t;L<m.length;L++){const E=m[L],W=Eo(p[L]-I,E.minimumSize,E.maximumSize),U=W-p[L];I+=U,E.size=W}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((a,l)=>a+l.size,0);let i=this.size-t;const n=Xn(this.viewItems.length-1,-1),o=n.filter(a=>this.viewItems[a].priority===1),r=n.filter(a=>this.viewItems[a].priority===2);for(const a of r)$k(n,a);for(const a of o)f0(n,a);typeof e=="number"&&f0(n,e);for(let a=0;i!==0&&a<n.length;a++){const l=this.viewItems[n[a]],c=Eo(l.size+i,l.minimumSize,l.maximumSize),d=c-l.size;i-=d,l.size=c}}layoutViews(){this.contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;const i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),n=[...this.viewItems].reverse();e=!1;const o=n.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;const r=n.map(l=>e=l.maximumSize-l.size>0||e).reverse();let a=0;for(let l=0;l<this.sashItems.length;l++){const{sash:c}=this.sashItems[l],d=this.viewItems[l];a+=d.size;const u=!(t[l]&&r[l+1]),h=!(i[l]&&o[l+1]);if(u&&h){const g=Xn(l,-1),m=Xn(l+1,this.viewItems.length),p=this.findFirstSnapIndex(g),_=this.findFirstSnapIndex(m),b=typeof p=="number"&&!this.viewItems[p].visible,v=typeof _=="number"&&!this.viewItems[_].visible;b&&o[l]&&(a>0||this.startSnappingEnabled)?c.state=1:v&&t[l]&&(a<this.contentSize||this.endSnappingEnabled)?c.state=2:c.state=0}else u&&!h?c.state=1:!u&&h?c.state=2:c.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const i=this.viewItems[t];if(i.visible&&i.snap)return t}for(const t of e){const i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}areViewsDistributed(){let e,t;for(const i of this.viewItems)if(e=e===void 0?i.size:Math.min(e,i.size),t=t===void 0?i.size:Math.max(t,i.size),t-e>2)return!1;return!0}dispose(){var e;(e=this.sashDragState)===null||e===void 0||e.disposable.dispose(),St(this.viewItems),this.viewItems=[],this.sashItems.forEach(t=>t.disposable.dispose()),this.sashItems=[],super.dispose()}}class Hv{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=Hv.TemplateId,this.renderedTemplates=new Set;const n=new Map(t.map(o=>[o.templateId,o]));this.renderers=[];for(const o of e){const r=n.get(o.templateId);if(!r)throw new Error(`Table cell renderer for template id ${o.templateId} not found.`);this.renderers.push(r)}}renderTemplate(e){const t=Q(e,te(".monaco-table-tr")),i=[],n=[];for(let r=0;r<this.columns.length;r++){const a=this.renderers[r],l=Q(t,te(".monaco-table-td",{"data-col-index":r}));l.style.width=`${this.getColumnSize(r)}px`,i.push(l),n.push(a.renderTemplate(l))}const o={container:e,cellContainers:i,cellTemplateData:n};return this.renderedTemplates.add(o),o}renderElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const a=this.columns[o].project(e);this.renderers[o].renderElement(a,t,i.cellTemplateData[o],n)}}disposeElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const r=this.renderers[o];if(r.disposeElement){const l=this.columns[o].project(e);r.disposeElement(l,t,i.cellTemplateData[o],n)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);fn(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}}Hv.TemplateId="row";function sse(s){return{getHeight(e){return s.getHeight(e)},getTemplateId(){return Hv.TemplateId}}}class rse{get minimumSize(){var e;return(e=this.column.minimumWidth)!==null&&e!==void 0?e:120}get maximumSize(){var e;return(e=this.column.maximumWidth)!==null&&e!==void 0?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return(e=this.column.onDidChangeWidthConstraints)!==null&&e!==void 0?e:ce.None}constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new M,this.onDidLayout=this._onDidLayout.event,this.element=te(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}layout(e){this._onDidLayout.fire([this.index,e])}}class Cy{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(e,t,i,n,o,r){this.virtualDelegate=i,this.domId=`table_id_${++Cy.InstanceCount}`,this.disposables=new Y,this.cachedWidth=0,this.cachedHeight=0,this.domNode=Q(t,te(`.monaco-table.${this.domId}`));const a=n.map((d,u)=>new rse(d,u)),l={size:a.reduce((d,u)=>d+u.column.weight,0),views:a.map(d=>({size:d.column.weight,view:d}))};this.splitview=this.disposables.add(new M7(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const c=new Hv(n,o,d=>this.splitview.getViewSize(d));this.list=this.disposables.add(new br(e,this.domNode,sse(i),[c],r)),ce.any(...a.map(d=>d.onDidLayout))(([d,u])=>c.layoutColumn(d,u),null,this.disposables),this.splitview.onDidSashReset(d=>{const u=n.reduce((g,m)=>g+m.weight,0),h=n[d].weight/u*this.cachedWidth;this.splitview.resizeView(d,h)},null,this.disposables),this.styleElement=Os(this.domNode),this.style(coe)}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}Cy.InstanceCount=0;class jm extends fr{constructor(e){super(),this._onChange=this._register(new M),this.onChange=this._onChange.event,this._onKeyDown=this._register(new M),this.onKeyDown=this._onKeyDown.event,this._opts=e,this._checked=this._opts.isChecked;const t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...Ie.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault(),i.stopPropagation();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const ase=f("vs/base/browser/ui/findinput/findInputToggles","caseDescription","Match Case"),lse=f("vs/base/browser/ui/findinput/findInputToggles","wordsDescription","Match Whole Word"),cse=f("vs/base/browser/ui/findinput/findInputToggles","regexDescription","Use Regular Expression");class P7 extends jm{constructor(e){super({icon:se.caseSensitive,title:ase+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class O7 extends jm{constructor(e){super({icon:se.wholeWord,title:lse+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class F7 extends jm{constructor(e){super({icon:se.regex,title:cse+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class dse{constructor(e,t=0,i=e.length,n=t-1){this.items=e,this.start=t,this.end=i,this.index=n}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class use{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new dse(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach(t=>e.push(t)),e}}const wp=te;let hse=class extends fr{constructor(e,t,i){var n;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new M),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new M),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(n=this.options.tooltip)!==null&&n!==void 0?n:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=Q(e,wp(".monaco-inputbox.idle"));const o=this.options.flexibleHeight?"textarea":"input",r=Q(this.element,wp(".ibwrapper"));if(this.input=Q(r,wp(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=Q(r,wp("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new Q3(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),Q(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(c=>this.input.scrollTop=c.scrollTop));const a=this._register(new tt(document,"selectionchange")),l=ce.filter(a.event,()=>{const c=document.getSelection();return(c==null?void 0:c.anchorNode)===r});this._register(l(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new Vs(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:zu(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){if(this.state==="open"&&as(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${Ju(i.border,"transparent")}`,this.message.content&&(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e==null?void 0:e.type}stylesForType(e){const t=this.options.inputBoxStyles;switch(e){case 1:return{border:t.inputValidationInfoBorder,background:t.inputValidationInfoBackground,foreground:t.inputValidationInfoForeground};case 2:return{border:t.inputValidationWarningBorder,background:t.inputValidationWarningBackground,foreground:t.inputValidationWarningForeground};default:return{border:t.inputValidationErrorBorder,background:t.inputValidationErrorBackground,foreground:t.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e;const t=()=>e.style.width=bo(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:n=>{var o,r;if(!this.message)return null;e=Q(n,wp(".monaco-inputbox-container")),t();const a={inline:!0,className:"monaco-inputbox-message"},l=this.message.formatContent?kne(this.message.content,a):yne(this.message.content,a);l.classList.add(this.classForType(this.message.type));const c=this.stylesForType(this.message.type);return l.style.backgroundColor=(o=c.background)!==null&&o!==void 0?o:"",l.style.color=(r=c.foreground)!==null&&r!==void 0?r:"",l.style.border=c.border?`1px solid ${c.border}`:"",Q(e,l),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=f("vs/base/browser/ui/inputbox/inputBox","alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=f("vs/base/browser/ui/inputbox/inputBox","alertWarningMessage","Warning: {0}",this.message.content):i=f("vs/base/browser/ui/inputbox/inputBox","alertInfoMessage","Info: {0}",this.message.content),Fn(i),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText=" ",this.layout()}applyStyles(){var e,t,i;const n=this.options.inputBoxStyles,o=(e=n.inputBackground)!==null&&e!==void 0?e:"",r=(t=n.inputForeground)!==null&&t!==void 0?t:"",a=(i=n.inputBorder)!==null&&i!==void 0?i:"";this.element.style.backgroundColor=o,this.element.style.color=r,this.input.style.backgroundColor="inherit",this.input.style.color=r,this.element.style.border=`1px solid ${Ju(a,"transparent")}`}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=zu(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,n=t.selectionEnd,o=t.value;i!==null&&n!==null&&(this.value=o.substr(0,i)+e+o.substr(n),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){var e;this._hideMessage(),this.message=null,(e=this.actionbar)===null||e===void 0||e.dispose(),super.dispose()}};class B7 extends hse{constructor(e,t,i){const n=f("vs/base/browser/ui/inputbox/inputBox",{key:"history.inputbox.hint",comment:["Text will be prefixed with ⇅ plus a single space, then used as a hint where input field keeps history"]},"for history"),o=` or ⇅ ${n}`,r=` (⇅ ${n})`;super(e,t,i),this._onDidFocus=this._register(new M),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new M),this.onDidBlur=this._onDidBlur.event,this.history=new use(i.history,100);const a=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(r)&&this.history.getHistory().length){const l=this.placeholder.endsWith(")")?o:r,c=this.placeholder+l;i.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=c:this.setPlaceHolder(c)}};this.observer=new MutationObserver((l,c)=>{l.forEach(d=>{d.target.textContent||a()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>a()),this.onblur(this.input,()=>{const l=c=>{if(this.placeholder.endsWith(c)){const d=this.placeholder.slice(0,this.placeholder.length-c.length);return i.showPlaceholderOnFocus?this.placeholder=d:this.setPlaceHolder(d),!0}else return!1};l(r)||l(o)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=e!=null?e:"",Td(this.value?this.value:f("vs/base/browser/ui/inputbox/inputBox","clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,Td(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}const gse=f("vs/base/browser/ui/findinput/findInput","defaultLabel","input");class W7 extends fr{constructor(e,t,i){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new pn),this.additionalToggles=[],this._onDidOptionChange=this._register(new M),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new M),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new M),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new M),this._onKeyUp=this._register(new M),this._onCaseSensitiveKeyDown=this._register(new M),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new M),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||gse,this.showCommonFindToggles=!!i.showCommonFindToggles;const n=i.appendCaseSensitiveLabel||"",o=i.appendWholeWordsLabel||"",r=i.appendRegexLabel||"",a=i.history||[],l=!!i.flexibleHeight,c=!!i.flexibleWidth,d=i.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new B7(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:i.showHistoryHint,flexibleHeight:l,flexibleWidth:c,flexibleMaxHeight:d,inputBoxStyles:i.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new F7(Object.assign({appendTitle:r,isChecked:!1},i.toggleStyles))),this._register(this.regex.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(h=>{this._onRegexKeyDown.fire(h)})),this.wholeWords=this._register(new O7(Object.assign({appendTitle:o,isChecked:!1},i.toggleStyles))),this._register(this.wholeWords.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new P7(Object.assign({appendTitle:n,isChecked:!1},i.toggleStyles))),this._register(this.caseSensitive.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(h=>{this._onCaseSensitiveKeyDown.fire(h)}));const u=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,h=>{if(h.equals(15)||h.equals(17)||h.equals(9)){const g=u.indexOf(document.activeElement);if(g>=0){let m=-1;h.equals(17)?m=(g+1)%u.length:h.equals(15)&&(g===0?m=u.length-1:m=g-1),h.equals(9)?(u[g].blur(),this.inputBox.focus()):m>=0&&u[m].focus(),je.stop(h,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(i==null?void 0:i.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),e==null||e.appendChild(this.domNode),this._register($(this.inputBox.inputElement,"compositionstart",u=>{this.imeSessionInProgress=!0})),this._register($(this.inputBox.inputElement,"compositionend",u=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,u=>this._onKeyDown.fire(u)),this.onkeyup(this.inputBox.inputElement,u=>this._onKeyUp.fire(u)),this.oninput(this.inputBox.inputElement,u=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,u=>this._onMouseDown.fire(u))}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){var e,t,i;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(e=this.regex)===null||e===void 0||e.enable(),(t=this.wholeWords)===null||t===void 0||t.enable(),(i=this.caseSensitive)===null||i===void 0||i.enable();for(const n of this.additionalToggles)n.enable()}disable(){var e,t,i;this.domNode.classList.add("disabled"),this.inputBox.disable(),(e=this.regex)===null||e===void 0||e.disable(),(t=this.wholeWords)===null||t===void 0||t.disable(),(i=this.caseSensitive)===null||i===void 0||i.disable();for(const n of this.additionalToggles)n.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new Y;for(const t of e!=null?e:[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(i=>{this._onDidOptionChange.fire(i),!i&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(e=!1){var t,i,n,o,r,a;e?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((i=(t=this.caseSensitive)===null||t===void 0?void 0:t.width())!==null&&i!==void 0?i:0)+((o=(n=this.wholeWords)===null||n===void 0?void 0:n.width())!==null&&o!==void 0?o:0)+((a=(r=this.regex)===null||r===void 0?void 0:r.width())!==null&&a!==void 0?a:0)+this.additionalToggles.reduce((l,c)=>l+c.width(),0)}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var e,t;return(t=(e=this.caseSensitive)===null||e===void 0?void 0:e.checked)!==null&&t!==void 0?t:!1}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){var e,t;return(t=(e=this.wholeWords)===null||e===void 0?void 0:e.checked)!==null&&t!==void 0?t:!1}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){var e,t;return(t=(e=this.regex)===null||e===void 0?void 0:e.checked)!==null&&t!==void 0?t:!1}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){var e;(e=this.caseSensitive)===null||e===void 0||e.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}}var wa;(function(s){s[s.Expanded=0]="Expanded",s[s.Collapsed=1]="Collapsed",s[s.PreserveOrExpanded=2]="PreserveOrExpanded",s[s.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(wa||(wa={}));var Zu;(function(s){s[s.Unknown=0]="Unknown",s[s.Twistie=1]="Twistie",s[s.Element=2]="Element",s[s.Filter=3]="Filter"})(Zu||(Zu={}));class es extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class KR{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function qR(s){return typeof s=="object"&&"visibility"in s&&"data"in s}function N_(s){switch(s){case!0:return 1;case!1:return 0;default:return s}}function ix(s){return typeof s.collapsible=="boolean"}class fse{constructor(e,t,i,n={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new mA,this._onDidChangeCollapseState=new M,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new M,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new M,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new hr(i3),this.collapseByDefault=typeof n.collapseByDefault=="undefined"?!1:n.collapseByDefault,this.filter=n.filter,this.autoExpandSingleChildren=typeof n.autoExpandSingleChildren=="undefined"?!1:n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=Ye.empty(),n={}){if(e.length===0)throw new es(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}spliceSmart(e,t,i,n,o,r){var a;n===void 0&&(n=Ye.empty()),r===void 0&&(r=(a=o.diffDepth)!==null&&a!==void 0?a:0);const{parentNode:l}=this.getParentNodeWithListIndex(t);if(!l.lastDiffIds)return this.spliceSimple(t,i,n,o);const c=[...n],d=t[t.length-1],u=new Da({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,d),...c,...l.children.slice(d+i)].map(_=>e.getId(_.element).toString())}).ComputeDiff(!1);if(u.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(t,i,c,o);const h=t.slice(0,-1),g=(_,b,v)=>{if(r>0)for(let w=0;w<v;w++)_--,b--,this.spliceSmart(e,[...h,_,0],Number.MAX_SAFE_INTEGER,c[b].children,o,r-1)};let m=Math.min(l.children.length,d+i),p=c.length;for(const _ of u.changes.sort((b,v)=>v.originalStart-b.originalStart))g(m,p,m-(_.originalStart+_.originalLength)),m=_.originalStart,p=_.modifiedStart-d,this.spliceSimple([...h,m],_.originalLength,Ye.slice(c,p,p+_.modifiedLength),o);g(m,p,m)}spliceSimple(e,t,i=Ye.empty(),{onDidCreateNode:n,onDidDeleteNode:o,diffIdentityProvider:r}){const{parentNode:a,listIndex:l,revealed:c,visible:d}=this.getParentNodeWithListIndex(e),u=[],h=Ye.map(i,L=>this.createTreeNode(L,a,a.visible?1:0,c,u,n)),g=e[e.length-1],m=a.children.length>0;let p=0;for(let L=g;L>=0&&L<a.children.length;L--){const I=a.children[L];if(I.visible){p=I.visibleChildIndex;break}}const _=[];let b=0,v=0;for(const L of h)_.push(L),v+=L.renderNodeCount,L.visible&&(L.visibleChildIndex=p+b++);const w=NP(a.children,g,t,_);r?a.lastDiffIds?NP(a.lastDiffIds,g,t,_.map(L=>r.getId(L.element).toString())):a.lastDiffIds=a.children.map(L=>r.getId(L.element).toString()):a.lastDiffIds=void 0;let C=0;for(const L of w)L.visible&&C++;if(C!==0)for(let L=g+_.length;L<a.children.length;L++){const I=a.children[L];I.visible&&(I.visibleChildIndex-=C)}if(a.visibleChildrenCount+=b-C,c&&d){const L=w.reduce((I,E)=>I+(E.visible?E.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,v-L),this.list.splice(l,L,u)}if(w.length>0&&o){const L=I=>{o(I),I.children.forEach(L)};w.forEach(L)}this._onDidSplice.fire({insertedNodes:_,deletedNodes:w});const S=a.children.length>0;m!==S&&this.setCollapsible(e.slice(0,-1),S);let x=a;for(;x;){if(x.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}x=x.parent}}rerender(e){if(e.length===0)throw new es(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:n}=this.getTreeNodeWithListIndex(e);t.visible&&n&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:n}=this.getTreeNodeWithListIndex(e);return i&&n?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);typeof t=="undefined"&&(t=!i.collapsible);const n={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,n))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const n=this.getTreeNode(e);typeof t=="undefined"&&(t=!n.collapsed);const o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}_setCollapseState(e,t){const{node:i,listIndex:n,revealed:o}=this.getTreeNodeWithListIndex(e),r=this._setListNodeCollapseState(i,n,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&r&&!ix(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return r}_setListNodeCollapseState(e,t,i,n){const o=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!o)return o;const r=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=r-(t===-1?0:1);return this.list.splice(t+1,l,a.slice(1)),o}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:(ix(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!ix(t)&&t.recursive)for(const o of e.children)n=this._setNodeCollapseState(o,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,n,o,r){const a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed!="undefined",collapsed:typeof e.collapsed=="undefined"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,n&&o.push(a);const c=e.children||Ye.empty(),d=n&&l!==0&&!a.collapsed;let u=0,h=1;for(const g of c){const m=this.createTreeNode(g,a,l,d,o,r);a.children.push(m),h+=m.renderNodeCount,m.visible&&(m.visibleChildIndex=u++)}return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=u,a.visible=l===2?u>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=h):(a.renderNodeCount=0,n&&o.pop()),r==null||r(a),a}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,n=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),o===0)return e.visible=!1,e.renderNodeCount=0,!1;n&&i.push(e)}const r=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||o!==0){let l=0;for(const c of e.children)a=this._updateNodeAfterFilterChange(c,o,i,n&&!e.collapsed)||a,c.visible&&(c.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=o===2?a:o===1,e.visibility=o),e.visible?e.collapsed||(e.renderNodeCount+=i.length-r):(e.renderNodeCount=0,n&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):qR(i)?(e.filterData=i.data,N_(i.visibility)):(e.filterData=void 0,N_(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;const[i,...n]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(n,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;const[i,...n]=e;if(i<0||i>t.children.length)throw new es(this.user,"Invalid tree location");return this.getTreeNode(n,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:n,visible:o}=this.getParentNodeWithListIndex(e),r=e[e.length-1];if(r<0||r>t.children.length)throw new es(this.user,"Invalid tree location");const a=t.children[r];return{node:a,listIndex:i,revealed:n,visible:o&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,n=!0,o=!0){const[r,...a]=e;if(r<0||r>t.children.length)throw new es(this.user,"Invalid tree location");for(let l=0;l<r;l++)i+=t.children[l].renderNodeCount;return n=n&&!t.collapsed,o=o&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:n,visible:o}:this.getParentNodeWithListIndex(a,t.children[r],i+1,n,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:$H(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}}globalThis&&globalThis.__awaiter;class mse extends Vv{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function nx(s){return s instanceof Vv?new mse(s):s}class pse{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=H.None,this.disposables=new Y}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,n;(n=(i=this.dnd).onDragStart)===null||n===void 0||n.call(i,nx(e),t)}onDragOver(e,t,i,n,o=!0){const r=this.dnd.onDragOver(nx(e),t&&t.element,i,n),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t=="undefined")return r;if(a&&typeof r!="boolean"&&r.autoExpand&&(this.autoExpandDisposable=xd(()=>{const h=this.modelProvider(),g=h.getNodeLocation(t);h.isCollapsed(g)&&h.setCollapsed(g,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof r=="boolean"||!r.accept||typeof r.bubble=="undefined"||r.feedback){if(!o){const h=typeof r=="boolean"?r:r.accept,g=typeof r=="boolean"?void 0:r.effect;return{accept:h,effect:g,feedback:[i]}}return r}if(r.bubble===1){const h=this.modelProvider(),g=h.getNodeLocation(t),m=h.getParentNodeLocation(g),p=h.getNode(m),_=m&&h.getListIndex(m);return this.onDragOver(e,p,_,n,!1)}const l=this.modelProvider(),c=l.getNodeLocation(t),d=l.getListIndex(c),u=l.getListRenderCount(c);return Object.assign(Object.assign({},r),{feedback:Xn(d,d+u)})}drop(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(nx(e),t&&t.element,i,n)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function bse(s,e){return e&&Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new pse(s,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getSetSize(t){const i=s(),n=i.getNodeLocation(t),o=i.getParentNodeLocation(n);return i.getNode(o).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}})})}class GR{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){var i,n;(n=(i=this.delegate).setDynamicHeight)===null||n===void 0||n.call(i,e.element,t)}}var A_;(function(s){s.None="none",s.OnHover="onHover",s.Always="always"})(A_||(A_={}));class _se{get elements(){return this._elements}constructor(e,t=[]){this._elements=t,this.disposables=new Y,this.onDidChange=ce.forEach(e,i=>this._elements=i,this.disposables)}dispose(){this.disposables.dispose()}}class R_{constructor(e,t,i,n,o,r={}){var a;this.renderer=e,this.modelProvider=t,this.activeNodes=n,this.renderedIndentGuides=o,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=R_.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=H.None,this.disposables=new Y,this.templateId=e.templateId,this.updateOptions(r),ce.map(i,l=>l.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(a=e.onDidChangeTwistieState)===null||a===void 0||a.call(e,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent!="undefined"){const t=Eo(e.indent,0,40);if(t!==this.indent){this.indent=t;for(const[i,n]of this.renderedNodes)this.renderTreeElement(i,n)}}if(typeof e.renderIndentGuides!="undefined"){const t=e.renderIndentGuides!==A_.None;if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(const[i,n]of this.renderedNodes)this._renderIndentGuides(i,n);if(this.indentGuidesDisposable.dispose(),t){const i=new Y;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof e.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=Q(e,te(".monaco-tl-row")),i=Q(t,te(".monaco-tl-indent")),n=Q(t,te(".monaco-tl-twistie")),o=Q(t,te(".monaco-tl-contents")),r=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:n,indentGuidesDisposable:H.None,templateData:r}}renderElement(e,t,i,n){this.renderedNodes.set(e,i),this.renderedElements.set(e.element,e),this.renderTreeElement(e,i),this.renderer.renderElement(e,t,i.templateData,n)}disposeElement(e,t,i,n){var o,r;i.indentGuidesDisposable.dispose(),(r=(o=this.renderer).disposeElement)===null||r===void 0||r.call(o,e,t,i.templateData,n),typeof n=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){const i=R_.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft=`${i}px`,t.indent.style.width=`${i+this.indent-16}px`,e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...Ie.asClassNameArray(se.treeItemExpanded));let n=!1;this.renderer.renderTwistie&&(n=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(n||t.twistie.classList.add(...Ie.asClassNameArray(se.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if(fn(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new Y,n=this.modelProvider();for(;;){const o=n.getNodeLocation(e),r=n.getParentNodeLocation(o);if(!r)break;const a=n.getNode(r),l=te(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(a)&&l.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(l):t.indent.insertBefore(l,t.indent.firstElementChild),this.renderedIndentGuides.add(a,l),i.add(Re(()=>this.renderedIndentGuides.delete(a,l))),e=a}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach(n=>{const o=i.getNodeLocation(n);try{const r=i.getParentNodeLocation(o);n.collapsible&&n.children.length>0&&!n.collapsed?t.add(n):r&&t.add(i.getNode(r))}catch(r){}}),this.activeIndentNodes.forEach(n=>{t.has(n)||this.renderedIndentGuides.forEach(n,o=>o.classList.remove("active"))}),t.forEach(n=>{this.activeIndentNodes.has(n)||this.renderedIndentGuides.forEach(n,o=>o.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),St(this.disposables)}}R_.DefaultIndent=8;class vse{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new Y,e.onWillRefilter(this.reset,this,this.disposables)}filter(e,t){let i=1;if(this._filter){const r=this._filter.filter(e,t);if(typeof r=="boolean"?i=r?1:0:qR(r)?i=N_(r.visibility):i=r,i===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:Yr.Default,visibility:i};const n=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),o=Array.isArray(n)?n:[n];for(const r of o){const a=r&&r.toString();if(typeof a=="undefined")return{data:Yr.Default,visibility:i};let l;if(this.tree.findMatchType===Sh.Contiguous){const c=a.toLowerCase().indexOf(this._lowercasePattern);if(c>-1){l=[Number.MAX_SAFE_INTEGER,0];for(let d=this._lowercasePattern.length;d>0;d--)l.push(c+d-1)}}else l=wh(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return this._matchCount++,o.length===1?{data:l,visibility:i}:{data:{label:a,score:l},visibility:i}}return this.tree.findMode===$a.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:Yr.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){St(this.disposables)}}var $a;(function(s){s[s.Highlight=0]="Highlight",s[s.Filter=1]="Filter"})($a||($a={}));var Sh;(function(s){s[s.Fuzzy=0]="Fuzzy",s[s.Contiguous=1]="Contiguous"})(Sh||(Sh={}));let wse=class{get pattern(){return this._pattern}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}constructor(e,t,i,n,o,r={}){var a,l;this.tree=e,this.view=i,this.filter=n,this.contextViewProvider=o,this.options=r,this._pattern="",this.width=0,this._onDidChangeMode=new M,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new M,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new M,this._onDidChangeOpenState=new M,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new Y,this.disposables=new Y,this._mode=(a=e.options.defaultFindMode)!==null&&a!==void 0?a:$a.Highlight,this._matchType=(l=e.options.defaultFindMatchType)!==null&&l!==void 0?l:Sh.Fuzzy,t.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(e={}){e.defaultFindMode!==void 0&&(this.mode=e.defaultFindMode),e.defaultFindMatchType!==void 0&&(this.matchType=e.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var e,t,i,n;const o=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&o?!((e=this.tree.options.showNotFoundMessage)!==null&&e!==void 0)||e?(t=this.widget)===null||t===void 0||t.showMessage({type:2,content:f("vs/base/browser/ui/tree/abstractTree","not found","No elements found.")}):(i=this.widget)===null||i===void 0||i.showMessage({type:2}):(n=this.widget)===null||n===void 0||n.clearMessage()}shouldAllowFocus(e){return!this.widget||!this.pattern||this._mode===$a.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!Yr.isDefault(e.filterData)}layout(e){var t;this.width=e,(t=this.widget)===null||t===void 0||t.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}};function qF(s){let e=Zu.Unknown;return sL(s.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=Zu.Twistie:sL(s.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=Zu.Element:sL(s.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=Zu.Filter),{browserEvent:s.browserEvent,element:s.element?s.element.element:null,target:e}}function nC(s,e){e(s),s.children.forEach(t=>nC(t,e))}class ox{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new M,this.onDidChange=this._onDidChange.event}set(e,t){!(t!=null&&t.__forceEvent)&&bi(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const n=this;this._onDidChange.fire({get elements(){return n.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const l=this.createNodeSet(),c=d=>l.delete(d);t.forEach(d=>nC(d,c)),this.set([...l.values()]);return}const i=new Set,n=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>nC(l,n));const o=new Map,r=l=>o.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>nC(l,r));const a=[];for(const l of this.nodes){const c=this.identityProvider.getId(l.element).toString();if(!i.has(c))a.push(l);else{const u=o.get(c);u&&u.visible&&a.push(u)}}if(this.nodes.length>0&&a.length===0){const l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class Cse extends L7{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(C7(e.browserEvent.target)||ud(e.browserEvent.target)||sf(e.browserEvent.target)||e.browserEvent.isHandledByList)return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,n=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let o=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?o=this.tree.expandOnlyOnTwistieClick(t.element):o=!!this.tree.expandOnlyOnTwistieClick,o&&!n&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e);if(t.collapsible){const r=this.tree.getNodeLocation(t),a=e.browserEvent.altKey;if(this.tree.setFocus([r]),this.tree.toggleCollapsed(r,a),o&&n){e.browserEvent.isHandledByList=!0;return}}super.onViewPointer(e)}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||e.browserEvent.isHandledByList||super.onDoubleClick(e)}}class Sse extends br{constructor(e,t,i,n,o,r,a,l){super(e,t,i,n,l),this.focusTrait=o,this.selectionTrait=r,this.anchorTrait=a}createMouseController(e){return new Cse(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),i.length===0)return;const n=[],o=[];let r;i.forEach((a,l)=>{this.focusTrait.has(a)&&n.push(e+l),this.selectionTrait.has(a)&&o.push(e+l),this.anchorTrait.has(a)&&(r=e+l)}),n.length>0&&super.setFocus(wd([...super.getFocus(),...n])),o.length>0&&super.setSelection(wd([...super.getSelection(),...o])),typeof r=="number"&&super.setAnchor(r)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(n=>this.element(n)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(n=>this.element(n)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class V7{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return ce.filter(ce.map(this.view.onMouseDblClick,qF),e=>e.target!==Zu.Filter)}get onPointer(){return ce.map(this.view.onPointer,qF)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return ce.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var e,t;return(t=(e=this.findController)===null||e===void 0?void 0:e.mode)!==null&&t!==void 0?t:$a.Highlight}set findMode(e){this.findController&&(this.findController.mode=e)}get findMatchType(){var e,t;return(t=(e=this.findController)===null||e===void 0?void 0:e.matchType)!==null&&t!==void 0?t:Sh.Fuzzy}set findMatchType(e){this.findController&&(this.findController.matchType=e)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(e,t,i,n,o={}){var r;this._user=e,this._options=o,this.eventBufferer=new mA,this.onDidChangeFindOpenState=ce.None,this.disposables=new Y,this._onWillRefilter=new M,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new M;const a=new GR(i),l=new BP,c=new BP,d=this.disposables.add(new _se(c.event)),u=new BA;this.renderers=n.map(_=>new R_(_,()=>this.model,l.event,d,u,o));for(const _ of this.renderers)this.disposables.add(_);let h;o.keyboardNavigationLabelProvider&&(h=new vse(this,o.keyboardNavigationLabelProvider,o.filter),o=Object.assign(Object.assign({},o),{filter:h}),this.disposables.add(h)),this.focus=new ox(()=>this.view.getFocusedElements()[0],o.identityProvider),this.selection=new ox(()=>this.view.getSelectedElements()[0],o.identityProvider),this.anchor=new ox(()=>this.view.getAnchorElement(),o.identityProvider),this.view=new Sse(e,t,a,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},bse(()=>this.model,o)),{tree:this})),this.model=this.createModel(e,this.view,o),l.input=this.model.onDidChangeCollapseState;const g=ce.forEach(this.model.onDidSplice,_=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(_),this.selection.onDidModelSplice(_)})},this.disposables);g(()=>null,null,this.disposables);const m=this.disposables.add(new M),p=this.disposables.add(new hr(0));if(this.disposables.add(ce.any(g,this.focus.onDidChange,this.selection.onDidChange)(()=>{p.trigger(()=>{const _=new Set;for(const b of this.focus.getNodes())_.add(b);for(const b of this.selection.getNodes())_.add(b);m.fire([..._.values()])})})),c.input=m.event,o.keyboardSupport!==!1){const _=ce.chain(this.view.onKeyDown,b=>b.filter(v=>!ud(v.target)).map(v=>new Wt(v)));ce.chain(_,b=>b.filter(v=>v.keyCode===15))(this.onLeftArrow,this,this.disposables),ce.chain(_,b=>b.filter(v=>v.keyCode===17))(this.onRightArrow,this,this.disposables),ce.chain(_,b=>b.filter(v=>v.keyCode===10))(this.onSpace,this,this.disposables)}if((!((r=o.findWidgetEnabled)!==null&&r!==void 0)||r)&&o.keyboardNavigationLabelProvider&&o.contextViewProvider){const _=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new wse(this,this.model,this.view,h,o.contextViewProvider,_),this.focusNavigationFilter=b=>this.findController.shouldAllowFocus(b),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=ce.None,this.onDidChangeFindMatchType=ce.None;this.styleElement=Os(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A_.Always)}updateOptions(e={}){var t;this._options=Object.assign(Object.assign({},this._options),e);for(const i of this.renderers)i.updateOptions(e);this.view.updateOptions(this._options),(t=this.findController)===null||t===void 0||t.updateOptions(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A_.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){this.view.domFocus()}layout(e,t){var i;this.view.layout(e,t),Cd(t)&&((i=this.findController)===null||i===void 0||i.layout(t))}style(e){const t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeInactiveIndentGuidesStroke}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=i.join(`
`),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e,t=!1){return this.model.setCollapsed(e,void 0,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const i=e.map(o=>this.model.getNode(o));this.selection.set(i,t);const n=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setSelection(n,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const i=e.map(o=>this.model.getNode(o));this.focus.set(i,t);const n=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setFocus(n,t,!0)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);i!==-1&&this.view.reveal(i,t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){const r=this.model.getParentNodeLocation(n);if(!r)return;const a=this.model.getListIndex(r);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some(l=>l.visible))return;const[r]=this.view.getFocus(),a=r+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}dispose(){St(this.disposables),this.view.dispose()}}class ZR{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new fse(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(n,o){return i.sorter.compare(n.element,o.element)}}),this.identityProvider=i.identityProvider}setChildren(e,t=Ye.empty(),i={}){const n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}_setChildren(e,t=Ye.empty(),i){const n=new Set,o=new Set,r=l=>{var c;if(l.element===null)return;const d=l;if(n.add(d.element),this.nodes.set(d.element,d),this.identityProvider){const u=this.identityProvider.getId(d.element).toString();o.add(u),this.nodesByIdentity.set(u,d)}(c=i.onDidCreateNode)===null||c===void 0||c.call(i,d)},a=l=>{var c;if(l.element===null)return;const d=l;if(n.has(d.element)||this.nodes.delete(d.element),this.identityProvider){const u=this.identityProvider.getId(d.element).toString();o.has(u)||this.nodesByIdentity.delete(u)}(c=i.onDidDeleteNode)===null||c===void 0||c.call(i,d)};this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:r,onDidDeleteNode:a}))}preserveCollapseState(e=Ye.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),Ye.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){const r=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(r)}if(!i){let r;return typeof t.collapsed=="undefined"?r=void 0:t.collapsed===wa.Collapsed||t.collapsed===wa.PreserveOrCollapsed?r=!0:t.collapsed===wa.Expanded||t.collapsed===wa.PreserveOrExpanded?r=!1:r=!!t.collapsed,Object.assign(Object.assign({},t),{children:this.preserveCollapseState(t.children),collapsed:r})}const n=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible;let o;return typeof t.collapsed=="undefined"||t.collapsed===wa.PreserveOrCollapsed||t.collapsed===wa.PreserveOrExpanded?o=i.collapsed:t.collapsed===wa.Collapsed?o=!0:t.collapsed===wa.Expanded?o=!1:o=!!t.collapsed,Object.assign(Object.assign({},t),{collapsible:n,collapsed:o,children:this.preserveCollapseState(t.children)})})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new es(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new es(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new es(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}getElementLocation(e){if(e===null)return[];const t=this.nodes.get(e);if(!t)throw new es(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function oC(s){const e=[s.element],t=s.incompressible||!1;return{element:{elements:e,incompressible:t},children:Ye.map(Ye.from(s.children),oC),collapsible:s.collapsible,collapsed:s.collapsed}}function sC(s){const e=[s.element],t=s.incompressible||!1;let i,n;for(;[n,i]=Ye.consume(Ye.from(s.children),2),!(n.length!==1||n[0].incompressible);)s=n[0],e.push(s.element);return{element:{elements:e,incompressible:t},children:Ye.map(Ye.concat(n,i),sC),collapsible:s.collapsible,collapsed:s.collapsed}}function DT(s,e=0){let t;return e<s.element.elements.length-1?t=[DT(s,e+1)]:t=Ye.map(Ye.from(s.children),i=>DT(i,0)),e===0&&s.element.incompressible?{element:s.element.elements[e],children:t,incompressible:!0,collapsible:s.collapsible,collapsed:s.collapsed}:{element:s.element.elements[e],children:t,collapsible:s.collapsible,collapsed:s.collapsed}}function GF(s){return DT(s,0)}function H7(s,e,t){return s.element===e?Object.assign(Object.assign({},s),{children:t}):Object.assign(Object.assign({},s),{children:Ye.map(Ye.from(s.children),i=>H7(i,e,t))})}const yse=s=>({getId(e){return e.elements.map(t=>s.getId(t).toString()).join("\0")}});class kse{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new ZR(e,t,i),this.enabled=typeof i.compressionEnabled=="undefined"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}setChildren(e,t=Ye.empty(),i){const n=i.diffIdentityProvider&&yse(i.diffIdentityProvider);if(e===null){const m=Ye.map(t,this.enabled?sC:oC);this._setChildren(null,m,{diffIdentityProvider:n,diffDepth:1/0});return}const o=this.nodes.get(e);if(!o)throw new es(this.user,"Unknown compressed tree node");const r=this.model.getNode(o),a=this.model.getParentNodeLocation(o),l=this.model.getNode(a),c=GF(r),d=H7(c,e,t),u=(this.enabled?sC:oC)(d),h=i.diffIdentityProvider?(m,p)=>i.diffIdentityProvider.getId(m)===i.diffIdentityProvider.getId(p):void 0;if(bi(u.element.elements,r.element.elements,h)){this._setChildren(o,u.children||Ye.empty(),{diffIdentityProvider:n,diffDepth:1});return}const g=l.children.map(m=>m===r?u:m);this._setChildren(l.element,g,{diffIdentityProvider:n,diffDepth:r.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const i=this.model.getNode().children,n=Ye.map(i,GF),o=Ye.map(n,e?sC:oC);this._setChildren(null,o,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const n=new Set,o=a=>{for(const l of a.element.elements)n.add(l),this.nodes.set(l,a.element)},r=a=>{for(const l of a.element.elements)n.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:o,onDidDeleteNode:r}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e=="undefined")return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;const t=this.nodes.get(e);if(!t)throw new es(this.user,`Tree element not found: ${e}`);return t}}const Lse=s=>s[s.length-1];class QR{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new QR(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e,t){this.unwrapper=e,this.node=t}}function xse(s,e){return{splice(t,i,n){e.splice(t,i,n.map(o=>s.map(o)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}function Dse(s,e){return Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(s(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(s(t),i)}}})}class Ise{get onDidSplice(){return ce.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return ce.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return ce.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||Lse;const n=o=>this.elementMapper(o.elements);this.nodeMapper=new KR(o=>new QR(n,o)),this.model=new kse(e,xse(this.nodeMapper,t),Dse(n,i))}setChildren(e,t=Ye.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return t===null||typeof t=="undefined"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var Tse=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class YR extends V7{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(e,t,i,n,o={}){super(e,t,i,n,o),this.user=e}setChildren(e,t=Ye.empty(),i){this.model.setChildren(e,t,i)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new ZR(e,t,i)}}class z7{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){const o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);o.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}disposeElement(e,t,i,n){var o,r,a,l;i.compressedTreeNode?(r=(o=this.renderer).disposeCompressedElements)===null||r===void 0||r.call(o,i.compressedTreeNode,t,i.data,n):(l=(a=this.renderer).disposeElement)===null||l===void 0||l.call(a,e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}}Tse([ki],z7.prototype,"compressedTreeNodeProvider",null);function Ese(s,e){return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=s().getCompressedTreeNode(t)}catch(n){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}})}class U7 extends YR{constructor(e,t,i,n,o={}){const r=()=>this,a=n.map(l=>new z7(r,l));super(e,t,i,a,Ese(r,o))}setChildren(e,t=Ye.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new Ise(e,t,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var yc=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function sx(s){return Object.assign(Object.assign({},s),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function IT(s,e){return e.parent?e.parent===s?!0:IT(s,e.parent):!1}function Nse(s,e){return s===e||IT(s,e)||IT(e,s)}class XR{get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new XR(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class Ase{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...Ie.asClassNameArray(se.treeItemLoading)),!0):(t.classList.remove(...Ie.asClassNameArray(se.treeItemLoading)),!1)}disposeElement(e,t,i,n){var o,r;(r=(o=this.renderer).disposeElement)===null||r===void 0||r.call(o,this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function ZF(s){return{browserEvent:s.browserEvent,elements:s.elements.map(e=>e.element)}}function QF(s){return{browserEvent:s.browserEvent,element:s.element&&s.element.element,target:s.target}}class Rse extends Vv{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function rx(s){return s instanceof Vv?new Rse(s):s}class Mse{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,n;(n=(i=this.dnd).onDragStart)===null||n===void 0||n.call(i,rx(e),t)}onDragOver(e,t,i,n,o=!0){return this.dnd.onDragOver(rx(e),t&&t.element,i,n)}drop(e,t,i,n){this.dnd.drop(rx(e),t&&t.element,i,n)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}dispose(){this.dnd.dispose()}}function $7(s){return s&&Object.assign(Object.assign({},s),{collapseByDefault:!0,identityProvider:s.identityProvider&&{getId(e){return s.identityProvider.getId(e.element)}},dnd:s.dnd&&new Mse(s.dnd),multipleSelectionController:s.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return s.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},isSelectionRangeChangeEvent(e){return s.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))}},accessibilityProvider:s.accessibilityProvider&&Object.assign(Object.assign({},s.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:s.accessibilityProvider.getRole?e=>s.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:s.accessibilityProvider.isChecked?e=>{var t;return!!(!((t=s.accessibilityProvider)===null||t===void 0)&&t.isChecked(e.element))}:void 0,getAriaLabel(e){return s.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return s.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:s.accessibilityProvider.getWidgetRole?()=>s.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:s.accessibilityProvider.getAriaLevel&&(e=>s.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:s.accessibilityProvider.getActiveDescendantId&&(e=>s.accessibilityProvider.getActiveDescendantId(e.element))}),filter:s.filter&&{filter(e,t){return s.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:s.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},s.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(e){return s.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof s.expandOnlyOnTwistieClick=="undefined"?void 0:typeof s.expandOnlyOnTwistieClick!="function"?s.expandOnlyOnTwistieClick:e=>s.expandOnlyOnTwistieClick(e.element),defaultFindVisibility:e=>e.hasChildren&&e.stale?1:typeof s.defaultFindVisibility=="number"?s.defaultFindVisibility:typeof s.defaultFindVisibility=="undefined"?2:s.defaultFindVisibility(e.element)})}function TT(s,e){e(s),s.children.forEach(t=>TT(t,e))}class j7{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return ce.map(this.tree.onDidChangeFocus,ZF)}get onDidChangeSelection(){return ce.map(this.tree.onDidChangeSelection,ZF)}get onMouseDblClick(){return ce.map(this.tree.onMouseDblClick,QF)}get onPointer(){return ce.map(this.tree.onPointer,QF)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(e,t,i,n,o,r={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new M,this._onDidChangeNodeSlowState=new M,this.nodeMapper=new KR(a=>new XR(a)),this.disposables=new Y,this.identityProvider=r.identityProvider,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren=="undefined"?!1:r.autoExpandSingleChildren,this.sorter=r.sorter,this.collapseByDefault=r.collapseByDefault,this.tree=this.createTree(e,t,i,n,r),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=sx({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(e,t,i,n,o){const r=new GR(i),a=n.map(c=>new Ase(c,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=$7(o)||{};return new YR(e,t,r,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return yc(this,void 0,void 0,function*(){this.refreshPromises.forEach(n=>n.cancel()),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)})}_updateChildren(e=this.root.element,t=!0,i=!1,n,o){return yc(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new es(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield ce.toPromise(this._onDidRender.event));const r=this.getDataNode(e);if(yield this.refreshAndRenderNode(r,t,n,o),i)try{this.tree.rerender(r)}catch(a){}})}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}const t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return yc(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new es(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield ce.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(yield this.root.refreshPromise,yield ce.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;const n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield ce.toPromise(this._onDidRender.event)),n})}setSelection(e,t){const i=e.map(n=>this.getDataNode(n));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){const i=e.map(n=>this.getDataNode(n));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new es(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i,n){return yc(this,void 0,void 0,function*(){yield this.refreshNode(e,t,i),this.render(e,i,n)})}refreshNode(e,t,i){return yc(this,void 0,void 0,function*(){let n;if(this.subTreeRefreshPromises.forEach((o,r)=>{!n&&Nse(r,e)&&(n=o.then(()=>this.refreshNode(e,t,i)))}),n)return n;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0;return}return this.doRefreshSubTree(e,t,i)})}doRefreshSubTree(e,t,i){return yc(this,void 0,void 0,function*(){let n;e.refreshPromise=new Promise(o=>n=o),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const o=yield this.doRefreshNode(e,t,i);e.stale=!1,yield iI.settled(o.map(r=>this.doRefreshSubTree(r,t,i)))}finally{n()}})}doRefreshNode(e,t,i){return yc(this,void 0,void 0,function*(){e.hasChildren=!!this.dataSource.hasChildren(e.element);let n;if(!e.hasChildren)n=Promise.resolve(Ye.empty());else{const o=this.doGetChildren(e);if(AP(o))n=Promise.resolve(o);else{const r=Ld(800);r.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),n=o.finally(()=>r.cancel())}}try{const o=yield n;return this.setChildren(e,o,t,i)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),ra(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}})}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;const i=this.dataSource.getChildren(e.element);return AP(i)?this.processChildren(i):(t=Vi(()=>yc(this,void 0,void 0,function*(){return this.processChildren(yield i)})),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(He))}setChildren(e,t,i,n){const o=[...t];if(e.children.length===0&&o.length===0)return[];const r=new Map,a=new Map;for(const d of e.children)if(r.set(d.element,d),this.identityProvider){const u=this.tree.isCollapsed(d);a.set(d.id,{node:d,collapsed:u})}const l=[],c=o.map(d=>{const u=!!this.dataSource.hasChildren(d);if(!this.identityProvider){const p=sx({element:d,parent:e,hasChildren:u});return u&&this.collapseByDefault&&!this.collapseByDefault(d)&&(p.collapsedByDefault=!1,l.push(p)),p}const h=this.identityProvider.getId(d).toString(),g=a.get(h);if(g){const p=g.node;return r.delete(p.element),this.nodes.delete(p.element),this.nodes.set(d,p),p.element=d,p.hasChildren=u,i?g.collapsed?(p.children.forEach(_=>TT(_,b=>this.nodes.delete(b.element))),p.children.splice(0,p.children.length),p.stale=!0):l.push(p):u&&this.collapseByDefault&&!this.collapseByDefault(d)&&(p.collapsedByDefault=!1,l.push(p)),p}const m=sx({element:d,parent:e,id:h,hasChildren:u});return n&&n.viewState.focus&&n.viewState.focus.indexOf(h)>-1&&n.focus.push(m),n&&n.viewState.selection&&n.viewState.selection.indexOf(h)>-1&&n.selection.push(m),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(h)>-1?l.push(m):u&&this.collapseByDefault&&!this.collapseByDefault(d)&&(m.collapsedByDefault=!1,l.push(m)),m});for(const d of r.values())TT(d,u=>this.nodes.delete(u.element));for(const d of c)this.nodes.set(d.element,d);return e.children.splice(0,e.children.length,...c),e!==this.root&&this.autoExpandSingleChildren&&c.length===1&&l.length===0&&(c[0].collapsedByDefault=!1,l.push(c[0])),l}render(e,t,i){const n=e.children.map(r=>this.asTreeElement(r,t)),o=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId(r){return i.diffIdentityProvider.getId(r.element)}}});this.tree.setChildren(e===this.root?null:e,n,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:i=e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?Ye.map(e.children,n=>this.asTreeElement(n,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose(),this.tree.dispose()}}class JR{get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new JR(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class Pse{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...Ie.asClassNameArray(se.treeItemLoading)),!0):(t.classList.remove(...Ie.asClassNameArray(se.treeItemLoading)),!1)}disposeElement(e,t,i,n){var o,r;(r=(o=this.renderer).disposeElement)===null||r===void 0||r.call(o,this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){var o,r;(r=(o=this.renderer).disposeCompressedElements)===null||r===void 0||r.call(o,this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=St(this.disposables)}}function Ose(s){const e=s&&$7(s);return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(t){return s.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}})})}class Fse extends j7{constructor(e,t,i,n,o,r,a={}){super(e,t,i,o,r,a),this.compressionDelegate=n,this.compressibleNodeMapper=new KR(l=>new JR(l)),this.filter=a.filter}createTree(e,t,i,n,o){const r=new GR(i),a=n.map(c=>new Pse(c,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=Ose(o)||{};return new U7(e,t,r,a,l)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=h=>this.identityProvider.getId(h).toString(),n=h=>{const g=new Set;for(const m of h){const p=this.tree.getCompressedTreeNode(m===this.root?null:m);if(p.element)for(const _ of p.element.elements)g.add(i(_.element))}return g},o=n(this.tree.getSelection()),r=n(this.tree.getFocus());super.render(e,t);const a=this.getSelection();let l=!1;const c=this.getFocus();let d=!1;const u=h=>{const g=h.element;if(g)for(let m=0;m<g.elements.length;m++){const p=i(g.elements[m].element),_=g.elements[g.elements.length-1].element;o.has(p)&&a.indexOf(_)===-1&&(a.push(_),l=!0),r.has(p)&&c.indexOf(_)===-1&&(c.push(_),d=!0)}h.children.forEach(u)};u(this.tree.getCompressedTreeNode(e===this.root?null:e)),l&&this.setSelection(a),d&&this.setFocus(c)}processChildren(e){return this.filter&&(e=Ye.filter(e,t=>{const i=this.filter.filter(t,1),n=Bse(i);if(n===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return n===1})),super.processChildren(e)}}function Bse(s){return typeof s=="boolean"?s?1:0:qR(s)?N_(s.visibility):N_(s)}class Wse extends V7{constructor(e,t,i,n,o,r={}){super(e,t,i,n,r),this.user=e,this.dataSource=o,this.identityProvider=r.identityProvider}createModel(e,t,i){return new ZR(e,t,i)}}new de("isMac",at,f("vs/platform/contextkey/common/contextkeys","isMac","Whether the operating system is macOS"));new de("isLinux",Qn,f("vs/platform/contextkey/common/contextkeys","isLinux","Whether the operating system is Linux"));const Sy=new de("isWindows",En,f("vs/platform/contextkey/common/contextkeys","isWindows","Whether the operating system is Windows")),K7=new de("isWeb",qd,f("vs/platform/contextkey/common/contextkeys","isWeb","Whether the platform is a web browser"));new de("isMacNative",at&&!qd,f("vs/platform/contextkey/common/contextkeys","isMacNative","Whether the operating system is macOS on a non-browser platform"));new de("isIOS",Xr,f("vs/platform/contextkey/common/contextkeys","isIOS","Whether the operating system is iOS"));new de("isMobile",cz,f("vs/platform/contextkey/common/contextkeys","isMobile","Whether the platform is a mobile web browser"));new de("isDevelopment",!1,!0);new de("productQualityType","",f("vs/platform/contextkey/common/contextkeys","productQualityType","Quality type of VS Code"));const q7="inputFocus";new de(q7,!1,f("vs/platform/contextkey/common/contextkeys","inputFocus","Whether keyboard focus is inside an input box"));var mc=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Vt=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};const $s=et("listService");class Vse{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new Y,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&((t=this._lastFocusedWidget)===null||t===void 0||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,(i=this._lastFocusedWidget)===null||i===void 0||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new x7(Os(),"").style(Jh)),this.lists.some(n=>n.widget===e))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&this.setLastFocusedList(e),rr(e.onDidFocus(()=>this.setLastFocusedList(e)),Re(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(n=>n!==i),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const M_=new de("listScrollAtBoundary","none");Z.or(M_.isEqualTo("top"),M_.isEqualTo("both"));Z.or(M_.isEqualTo("bottom"),M_.isEqualTo("both"));const G7=new de("listFocus",!0),yy=new de("listSupportsMultiselect",!0),Z7=Z.and(G7,Z.not(q7)),eM=new de("listHasSelectionOrFocus",!1),tM=new de("listDoubleSelection",!1),iM=new de("listMultiSelection",!1),ky=new de("listSelectionNavigation",!1),Hse=new de("listSupportsFind",!0),nM=new de("treeElementCanCollapse",!1),zse=new de("treeElementHasParent",!1),oM=new de("treeElementCanExpand",!1),Use=new de("treeElementHasChild",!1),$se=new de("treeFindOpen",!1),Q7="listTypeNavigationMode",Y7="listAutomaticKeyboardNavigation";function Ly(s,e){const t=s.createScoped(e.getHTMLElement());return G7.bindTo(t),t}function xy(s,e){const t=M_.bindTo(s),i=()=>{const n=e.scrollTop===0,o=e.scrollHeight-e.renderHeight-e.scrollTop<1;n&&o?t.set("both"):n?t.set("top"):o?t.set("bottom"):t.set("none")};return i(),e.onDidScroll(i)}const eg="workbench.list.multiSelectModifier",rC="workbench.list.openMode",Rs="workbench.list.horizontalScrolling",sM="workbench.list.defaultFindMode",rM="workbench.list.typeNavigationMode",A1="workbench.list.keyboardNavigation",ta="workbench.list.scrollByPage",aM="workbench.list.defaultFindMatchType",P_="workbench.tree.indent",R1="workbench.tree.renderIndentGuides",ia="workbench.list.smoothScrolling",ol="workbench.list.mouseWheelScrollSensitivity",sl="workbench.list.fastScrollSensitivity",M1="workbench.tree.expandMode";function rl(s){return s.getValue(eg)==="alt"}class jse extends H{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=rl(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(eg)&&(this.useAltAsMultipleSelectionModifier=rl(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:y7(e)}isSelectionRangeChangeEvent(e){return k7(e)}}function Dy(s,e){var t;const i=s.get(ot),n=s.get(Et),o=new Y;return[Object.assign(Object.assign({},e),{keyboardNavigationDelegate:{mightProducePrintableCharacter(a){return n.mightProducePrintableCharacter(a)}},smoothScrolling:!!i.getValue(ia),mouseWheelScrollSensitivity:i.getValue(ol),fastScrollSensitivity:i.getValue(sl),multipleSelectionController:(t=e.multipleSelectionController)!==null&&t!==void 0?t:o.add(new jse(i)),keyboardNavigationEventFilter:Gse(n),scrollByPage:!!i.getValue(ta)}),o]}let ET=class extends br{constructor(e,t,i,n,o,r,a,l,c){const d=typeof o.horizontalScrolling!="undefined"?o.horizontalScrolling:!!l.getValue(Rs),[u,h]=c.invokeFunction(Dy,o);super(e,t,i,n,Object.assign(Object.assign({keyboardSupport:!1},u),{horizontalScrolling:d})),this.disposables.add(h),this.contextKeyService=Ly(r,this),this.disposables.add(xy(this.contextKeyService,this)),this.listSupportsMultiSelect=yy.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),ky.bindTo(this.contextKeyService).set(!!o.selectionNavigation),this.listHasSelectionOrFocus=eM.bindTo(this.contextKeyService),this.listDoubleSelection=tM.bindTo(this.contextKeyService),this.listMultiSelection=iM.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=rl(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const m=this.getSelection(),p=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(m.length>0||p.length>0),this.listMultiSelection.set(m.length>1),this.listDoubleSelection.set(m.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const m=this.getSelection(),p=this.getFocus();this.listHasSelectionOrFocus.set(m.length>0||p.length>0)})),this.disposables.add(l.onDidChangeConfiguration(m=>{m.affectsConfiguration(eg)&&(this._useAltAsMultipleSelectionModifier=rl(l));let p={};if(m.affectsConfiguration(Rs)&&this.horizontalScrolling===void 0){const _=!!l.getValue(Rs);p=Object.assign(Object.assign({},p),{horizontalScrolling:_})}if(m.affectsConfiguration(ta)){const _=!!l.getValue(ta);p=Object.assign(Object.assign({},p),{scrollByPage:_})}if(m.affectsConfiguration(ia)){const _=!!l.getValue(ia);p=Object.assign(Object.assign({},p),{smoothScrolling:_})}if(m.affectsConfiguration(ol)){const _=l.getValue(ol);p=Object.assign(Object.assign({},p),{mouseWheelScrollSensitivity:_})}if(m.affectsConfiguration(sl)){const _=l.getValue(sl);p=Object.assign(Object.assign({},p),{fastScrollSensitivity:_})}Object.keys(p).length>0&&this.updateOptions(p)})),this.navigator=new X7(this,Object.assign({configurationService:l},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Um(e):Jh)}};ET=mc([Vt(5,Me),Vt(6,$s),Vt(7,ot),Vt(8,Ae)],ET);let YF=class extends Qoe{constructor(e,t,i,n,o,r,a,l,c){const d=typeof o.horizontalScrolling!="undefined"?o.horizontalScrolling:!!l.getValue(Rs),[u,h]=c.invokeFunction(Dy,o);super(e,t,i,n,Object.assign(Object.assign({keyboardSupport:!1},u),{horizontalScrolling:d})),this.disposables=new Y,this.disposables.add(h),this.contextKeyService=Ly(r,this),this.disposables.add(xy(this.contextKeyService,this.widget)),this.horizontalScrolling=o.horizontalScrolling,this.listSupportsMultiSelect=yy.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),ky.bindTo(this.contextKeyService).set(!!o.selectionNavigation),this._useAltAsMultipleSelectionModifier=rl(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(o.overrideStyles),this.disposables.add(l.onDidChangeConfiguration(m=>{m.affectsConfiguration(eg)&&(this._useAltAsMultipleSelectionModifier=rl(l));let p={};if(m.affectsConfiguration(Rs)&&this.horizontalScrolling===void 0){const _=!!l.getValue(Rs);p=Object.assign(Object.assign({},p),{horizontalScrolling:_})}if(m.affectsConfiguration(ta)){const _=!!l.getValue(ta);p=Object.assign(Object.assign({},p),{scrollByPage:_})}if(m.affectsConfiguration(ia)){const _=!!l.getValue(ia);p=Object.assign(Object.assign({},p),{smoothScrolling:_})}if(m.affectsConfiguration(ol)){const _=l.getValue(ol);p=Object.assign(Object.assign({},p),{mouseWheelScrollSensitivity:_})}if(m.affectsConfiguration(sl)){const _=l.getValue(sl);p=Object.assign(Object.assign({},p),{fastScrollSensitivity:_})}Object.keys(p).length>0&&this.updateOptions(p)})),this.navigator=new X7(this,Object.assign({configurationService:l},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Um(e):Jh)}dispose(){this.disposables.dispose(),super.dispose()}};YF=mc([Vt(5,Me),Vt(6,$s),Vt(7,ot),Vt(8,Ae)],YF);let XF=class extends Cy{constructor(e,t,i,n,o,r,a,l,c,d){const u=typeof r.horizontalScrolling!="undefined"?r.horizontalScrolling:!!c.getValue(Rs),[h,g]=d.invokeFunction(Dy,r);super(e,t,i,n,o,Object.assign(Object.assign({keyboardSupport:!1},h),{horizontalScrolling:u})),this.disposables.add(g),this.contextKeyService=Ly(a,this),this.disposables.add(xy(this.contextKeyService,this)),this.listSupportsMultiSelect=yy.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),ky.bindTo(this.contextKeyService).set(!!r.selectionNavigation),this.listHasSelectionOrFocus=eM.bindTo(this.contextKeyService),this.listDoubleSelection=tM.bindTo(this.contextKeyService),this.listMultiSelection=iM.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=rl(c),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const p=this.getSelection(),_=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(p.length>0||_.length>0),this.listMultiSelection.set(p.length>1),this.listDoubleSelection.set(p.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const p=this.getSelection(),_=this.getFocus();this.listHasSelectionOrFocus.set(p.length>0||_.length>0)})),this.disposables.add(c.onDidChangeConfiguration(p=>{p.affectsConfiguration(eg)&&(this._useAltAsMultipleSelectionModifier=rl(c));let _={};if(p.affectsConfiguration(Rs)&&this.horizontalScrolling===void 0){const b=!!c.getValue(Rs);_=Object.assign(Object.assign({},_),{horizontalScrolling:b})}if(p.affectsConfiguration(ta)){const b=!!c.getValue(ta);_=Object.assign(Object.assign({},_),{scrollByPage:b})}if(p.affectsConfiguration(ia)){const b=!!c.getValue(ia);_=Object.assign(Object.assign({},_),{smoothScrolling:b})}if(p.affectsConfiguration(ol)){const b=c.getValue(ol);_=Object.assign(Object.assign({},_),{mouseWheelScrollSensitivity:b})}if(p.affectsConfiguration(sl)){const b=c.getValue(sl);_=Object.assign(Object.assign({},_),{fastScrollSensitivity:b})}Object.keys(_).length>0&&this.updateOptions(_)})),this.navigator=new Kse(this,Object.assign({configurationService:c},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Um(e):Jh)}dispose(){this.disposables.dispose(),super.dispose()}};XF=mc([Vt(6,Me),Vt(7,$s),Vt(8,ot),Vt(9,Ae)],XF);class lM extends H{constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new M),this.onDidOpen=this._onDidOpen.event,this._register(ce.filter(this.widget.onDidChangeSelection,n=>n.browserEvent instanceof KeyboardEvent)(n=>this.onSelectionFromKeyboard(n))),this._register(this.widget.onPointer(n=>this.onPointer(n.element,n.browserEvent))),this._register(this.widget.onMouseDblClick(n=>this.onMouseDblClick(n.element,n.browserEvent))),typeof(t==null?void 0:t.openOnSingleClick)!="boolean"&&(t!=null&&t.configurationService)?(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(rC))!=="doubleClick",this._register(t==null?void 0:t.configurationService.onDidChangeConfiguration(n=>{n.affectsConfiguration(rC)&&(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(rC))!=="doubleClick")}))):this.openOnSingleClick=(i=t==null?void 0:t.openOnSingleClick)!==null&&i!==void 0?i:!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;const t=e.browserEvent,i=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,n=typeof t.pinned=="boolean"?t.pinned:!i,o=!1;this._open(this.getSelectedElement(),i,n,o,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;const n=t.button===1,o=!0,r=n,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,o,r,a,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const o=!1,r=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,o,r,a,t)}_open(e,t,i,n,o){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:o})}}class X7 extends lM{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Kse extends lM{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class qse extends lM{constructor(e,t){super(e,t)}getSelectedElement(){var e;return(e=this.widget.getSelection()[0])!==null&&e!==void 0?e:void 0}}function Gse(s){let e=!1;return t=>{if(t.toKeyCodeChord().isModifierKey())return!1;if(e)return e=!1,!1;const i=s.softDispatch(t,t.target);return i.kind===1?(e=!0,!1):(e=!1,i.kind===0)}}let JF=class extends YR{constructor(e,t,i,n,o,r,a,l,c){const{options:d,getTypeNavigationMode:u,disposable:h}=r.invokeFunction(zv,o);super(e,t,i,n,d),this.disposables.add(h),this.internals=new yh(this,o,u,o.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};JF=mc([Vt(5,Ae),Vt(6,Me),Vt(7,$s),Vt(8,ot)],JF);let e4=class extends U7{constructor(e,t,i,n,o,r,a,l,c){const{options:d,getTypeNavigationMode:u,disposable:h}=r.invokeFunction(zv,o);super(e,t,i,n,d),this.disposables.add(h),this.internals=new yh(this,o,u,o.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};e4=mc([Vt(5,Ae),Vt(6,Me),Vt(7,$s),Vt(8,ot)],e4);let t4=class extends Wse{constructor(e,t,i,n,o,r,a,l,c,d){const{options:u,getTypeNavigationMode:h,disposable:g}=a.invokeFunction(zv,r);super(e,t,i,n,o,u),this.disposables.add(g),this.internals=new yh(this,r,h,r.overrideStyles,l,c,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles!==void 0&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};t4=mc([Vt(6,Ae),Vt(7,Me),Vt(8,$s),Vt(9,ot)],t4);let NT=class extends j7{get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,n,o,r,a,l,c,d){const{options:u,getTypeNavigationMode:h,disposable:g}=a.invokeFunction(zv,r);super(e,t,i,n,o,u),this.disposables.add(g),this.internals=new yh(this,r,h,r.overrideStyles,l,c,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};NT=mc([Vt(6,Ae),Vt(7,Me),Vt(8,$s),Vt(9,ot)],NT);let i4=class extends Fse{constructor(e,t,i,n,o,r,a,l,c,d,u){const{options:h,getTypeNavigationMode:g,disposable:m}=l.invokeFunction(zv,a);super(e,t,i,n,o,r,h),this.disposables.add(m),this.internals=new yh(this,a,g,a.overrideStyles,c,d,u),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};i4=mc([Vt(7,Ae),Vt(8,Me),Vt(9,$s),Vt(10,ot)],i4);function J7(s){const e=s.getValue(sM);if(e==="highlight")return $a.Highlight;if(e==="filter")return $a.Filter;const t=s.getValue(A1);if(t==="simple"||t==="highlight")return $a.Highlight;if(t==="filter")return $a.Filter}function eV(s){const e=s.getValue(aM);if(e==="fuzzy")return Sh.Fuzzy;if(e==="contiguous")return Sh.Contiguous}function zv(s,e){var t;const i=s.get(ot),n=s.get(gc),o=s.get(Me),r=s.get(Ae),a=()=>{const g=o.getContextKeyValue(Q7);if(g==="automatic")return Aa.Automatic;if(g==="trigger"||o.getContextKeyValue(Y7)===!1)return Aa.Trigger;const p=i.getValue(rM);if(p==="automatic")return Aa.Automatic;if(p==="trigger")return Aa.Trigger},l=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!i.getValue(Rs),[c,d]=r.invokeFunction(Dy,e),u=e.paddingBottom,h=e.renderIndentGuides!==void 0?e.renderIndentGuides:i.getValue(R1);return{getTypeNavigationMode:a,disposable:d,options:Object.assign(Object.assign({keyboardSupport:!1},c),{indent:typeof i.getValue(P_)=="number"?i.getValue(P_):void 0,renderIndentGuides:h,smoothScrolling:!!i.getValue(ia),defaultFindMode:J7(i),defaultFindMatchType:eV(i),horizontalScrolling:l,scrollByPage:!!i.getValue(ta),paddingBottom:u,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(t=e.expandOnlyOnTwistieClick)!==null&&t!==void 0?t:i.getValue(M1)==="doubleClick",contextViewProvider:n,findWidgetStyles:Toe})}}let yh=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,n,o,r,a){var l;this.tree=e,this.disposables=[],this.contextKeyService=Ly(o,e),this.disposables.push(xy(this.contextKeyService,e)),this.listSupportsMultiSelect=yy.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),ky.bindTo(this.contextKeyService).set(!!t.selectionNavigation),this.listSupportFindWidget=Hse.bindTo(this.contextKeyService),this.listSupportFindWidget.set((l=t.findWidgetEnabled)!==null&&l!==void 0?l:!0),this.hasSelectionOrFocus=eM.bindTo(this.contextKeyService),this.hasDoubleSelection=tM.bindTo(this.contextKeyService),this.hasMultiSelection=iM.bindTo(this.contextKeyService),this.treeElementCanCollapse=nM.bindTo(this.contextKeyService),this.treeElementHasParent=zse.bindTo(this.contextKeyService),this.treeElementCanExpand=oM.bindTo(this.contextKeyService),this.treeElementHasChild=Use.bindTo(this.contextKeyService),this.treeFindOpen=$se.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=rl(a),this.updateStyleOverrides(n);const d=()=>{const h=e.getFocus()[0];if(!h)return;const g=e.getNode(h);this.treeElementCanCollapse.set(g.collapsible&&!g.collapsed),this.treeElementHasParent.set(!!e.getParentElement(h)),this.treeElementCanExpand.set(g.collapsible&&g.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(h))},u=new Set;u.add(Q7),u.add(Y7),this.disposables.push(this.contextKeyService,r.register(e),e.onDidChangeSelection(()=>{const h=e.getSelection(),g=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(h.length>0||g.length>0),this.hasMultiSelection.set(h.length>1),this.hasDoubleSelection.set(h.length===2)})}),e.onDidChangeFocus(()=>{const h=e.getSelection(),g=e.getFocus();this.hasSelectionOrFocus.set(h.length>0||g.length>0),d()}),e.onDidChangeCollapseState(d),e.onDidChangeModel(d),e.onDidChangeFindOpenState(h=>this.treeFindOpen.set(h)),a.onDidChangeConfiguration(h=>{let g={};if(h.affectsConfiguration(eg)&&(this._useAltAsMultipleSelectionModifier=rl(a)),h.affectsConfiguration(P_)){const m=a.getValue(P_);g=Object.assign(Object.assign({},g),{indent:m})}if(h.affectsConfiguration(R1)&&t.renderIndentGuides===void 0){const m=a.getValue(R1);g=Object.assign(Object.assign({},g),{renderIndentGuides:m})}if(h.affectsConfiguration(ia)){const m=!!a.getValue(ia);g=Object.assign(Object.assign({},g),{smoothScrolling:m})}if(h.affectsConfiguration(sM)||h.affectsConfiguration(A1)){const m=J7(a);g=Object.assign(Object.assign({},g),{defaultFindMode:m})}if(h.affectsConfiguration(rM)||h.affectsConfiguration(A1)){const m=i();g=Object.assign(Object.assign({},g),{typeNavigationMode:m})}if(h.affectsConfiguration(aM)){const m=eV(a);g=Object.assign(Object.assign({},g),{defaultFindMatchType:m})}if(h.affectsConfiguration(Rs)&&t.horizontalScrolling===void 0){const m=!!a.getValue(Rs);g=Object.assign(Object.assign({},g),{horizontalScrolling:m})}if(h.affectsConfiguration(ta)){const m=!!a.getValue(ta);g=Object.assign(Object.assign({},g),{scrollByPage:m})}if(h.affectsConfiguration(M1)&&t.expandOnlyOnTwistieClick===void 0&&(g=Object.assign(Object.assign({},g),{expandOnlyOnTwistieClick:a.getValue(M1)==="doubleClick"})),h.affectsConfiguration(ol)){const m=a.getValue(ol);g=Object.assign(Object.assign({},g),{mouseWheelScrollSensitivity:m})}if(h.affectsConfiguration(sl)){const m=a.getValue(sl);g=Object.assign(Object.assign({},g),{fastScrollSensitivity:m})}Object.keys(g).length>0&&e.updateOptions(g)}),this.contextKeyService.onDidChangeContext(h=>{h.affectsSome(u)&&e.updateOptions({typeNavigationMode:i()})})),this.navigator=new qse(e,Object.assign({configurationService:a},t)),this.disposables.push(this.navigator)}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){this.tree.style(e?Um(e):Jh)}dispose(){this.disposables=St(this.disposables)}};yh=mc([Vt(4,Me),Vt(5,$s),Vt(6,ot)],yh);const Zse=Jt.as(la.Configuration);Zse.registerConfiguration({id:"workbench",order:7,title:f("vs/platform/list/browser/listService","workbenchConfigurationTitle","Workbench"),type:"object",properties:{[eg]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[f("vs/platform/list/browser/listService","multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),f("vs/platform/list/browser/listService","multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:f("vs/platform/list/browser/listService",{key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[rC]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:f("vs/platform/list/browser/listService",{key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Rs]:{type:"boolean",default:!1,description:f("vs/platform/list/browser/listService","horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[ta]:{type:"boolean",default:!1,description:f("vs/platform/list/browser/listService","list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[P_]:{type:"number",default:8,minimum:4,maximum:40,description:f("vs/platform/list/browser/listService","tree indent setting","Controls tree indentation in pixels.")},[R1]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:f("vs/platform/list/browser/listService","render tree indent guides","Controls whether the tree should render indent guides.")},[ia]:{type:"boolean",default:!1,description:f("vs/platform/list/browser/listService","list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[ol]:{type:"number",default:1,markdownDescription:f("vs/platform/list/browser/listService","Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[sl]:{type:"number",default:5,markdownDescription:f("vs/platform/list/browser/listService","Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[sM]:{type:"string",enum:["highlight","filter"],enumDescriptions:[f("vs/platform/list/browser/listService","defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),f("vs/platform/list/browser/listService","defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:f("vs/platform/list/browser/listService","defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[A1]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[f("vs/platform/list/browser/listService","keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),f("vs/platform/list/browser/listService","keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),f("vs/platform/list/browser/listService","keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:f("vs/platform/list/browser/listService","keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:f("vs/platform/list/browser/listService","keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[aM]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[f("vs/platform/list/browser/listService","defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),f("vs/platform/list/browser/listService","defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:f("vs/platform/list/browser/listService","defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[M1]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:f("vs/platform/list/browser/listService","expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[rM]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:f("vs/platform/list/browser/listService","typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}});var AT;(function(s){s[s.PRESERVE=0]="PRESERVE",s[s.LAST=1]="LAST"})(AT||(AT={}));const tg={Quickaccess:"workbench.contributions.quickaccess"};class Qse{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),Re(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return Qa([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}}Jt.add(tg.Quickaccess,new Qse);const Yse={ctrlCmd:!1,alt:!1};var O_;(function(s){s[s.Blur=1]="Blur",s[s.Gesture=2]="Gesture",s[s.Other=3]="Other"})(O_||(O_={}));var Ar;(function(s){s[s.NONE=0]="NONE",s[s.FIRST=1]="FIRST",s[s.SECOND=2]="SECOND",s[s.LAST=3]="LAST"})(Ar||(Ar={}));const ca=et("quickInputService");var Xse=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},n4=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let RT=class extends H{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=Jt.as(tg.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var n;const[o,r]=this.getOrInstantiateProvider(e),a=this.visibleQuickAccess,l=a==null?void 0:a.descriptor;if(a&&r&&l===r){e!==r.prefix&&!(i!=null&&i.preserveValue)&&(a.picker.value=e),this.adjustValueSelection(a.picker,r,i);return}if(r&&!(i!=null&&i.preserveValue)){let g;if(a&&l&&l!==r){const m=a.value.substr(l.prefix.length);m&&(g=`${r.prefix}${m}`)}if(!g){const m=o==null?void 0:o.defaultFilterValue;m===AT.LAST?g=this.lastAcceptedPickerValues.get(r):typeof m=="string"&&(g=`${r.prefix}${m}`)}typeof g=="string"&&(e=g)}const c=new Y,d=c.add(this.quickInputService.createQuickPick());d.value=e,this.adjustValueSelection(d,r,i),d.placeholder=r==null?void 0:r.placeholder,d.quickNavigate=i==null?void 0:i.quickNavigateConfiguration,d.hideInput=!!d.quickNavigate&&!a,(typeof(i==null?void 0:i.itemActivation)=="number"||i!=null&&i.quickNavigateConfiguration)&&(d.itemActivation=(n=i==null?void 0:i.itemActivation)!==null&&n!==void 0?n:Ar.SECOND),d.contextKey=r==null?void 0:r.contextKey,d.filterValue=g=>g.substring(r?r.prefix.length:0);let u;t&&(u=new VS,c.add(ce.once(d.onWillAccept)(g=>{g.veto(),d.hide()}))),c.add(this.registerPickerListeners(d,o,r,e,i==null?void 0:i.providerOptions));const h=c.add(new yi);if(o&&c.add(o.provide(d,h.token,i==null?void 0:i.providerOptions)),ce.once(d.onDidHide)(()=>{d.selectedItems.length===0&&h.cancel(),c.dispose(),u==null||u.complete(d.selectedItems.slice(0))}),d.show(),t)return u==null?void 0:u.p}adjustValueSelection(e,t,i){var n;let o;i!=null&&i.preserveValue?o=[e.value.length,e.value.length]:o=[(n=t==null?void 0:t.prefix.length)!==null&&n!==void 0?n:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,i,n,o){const r=new Y,a=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return r.add(Re(()=>{a===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),r.add(e.onDidChangeValue(l=>{const[c]=this.getOrInstantiateProvider(l);c!==t?this.show(l,{preserveValue:!0,providerOptions:o}):a.value=l})),i&&r.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),r}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};RT=Xse([n4(0,ca),n4(1,Ae)],RT);V.white.toString(),V.white.toString();class MT extends H{get onDidClick(){return this._onDidClick.event}constructor(e,t){super(),this._label="",this._onDidClick=this._register(new M),this.options=t,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!t.secondary);const i=t.secondary?t.buttonSecondaryBackground:t.buttonBackground,n=t.secondary?t.buttonSecondaryForeground:t.buttonForeground;this._element.style.color=n||"",this._element.style.backgroundColor=i||"",t.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),e.appendChild(this._element),this._register(Nt.addTarget(this._element)),[ae.CLICK,At.Tap].forEach(o=>{this._register($(this._element,o,r=>{if(!this.enabled){je.stop(r);return}this._onDidClick.fire(r)}))}),this._register($(this._element,ae.KEY_DOWN,o=>{const r=new Wt(o);let a=!1;this.enabled&&(r.equals(3)||r.equals(10))?(this._onDidClick.fire(o),a=!0):r.equals(9)&&(this._element.blur(),a=!0),a&&je.stop(r,!0)})),this._register($(this._element,ae.MOUSE_OVER,o=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register($(this._element,ae.MOUSE_OUT,o=>{this.updateBackground(!1)})),this.focusTracker=this._register(Ja(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(e){const t=[];for(let i of dd(e))if(typeof i=="string"){if(i=i.trim(),i==="")continue;const n=document.createElement("span");n.textContent=i,t.push(n)}else t.push(i);return t}updateBackground(e){let t;this.options.secondary?t=e?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:t=e?this.options.buttonHoverBackground:this.options.buttonBackground,t&&(this._element.style.backgroundColor=t)}get element(){return this._element}set label(e){var t;if(this._label===e||cd(this._label)&&cd(e)&&_ne(this._label,e))return;this._element.classList.add("monaco-text-button");const i=this.options.supportShortLabel?this._labelElement:this._element;if(cd(e)){const n=by(e,{inline:!0});n.dispose();const o=(t=n.element.querySelector("p"))===null||t===void 0?void 0:t.innerHTML;if(o){const r=WW(o,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});i.innerHTML=r}else mn(i)}else this.options.supportIcons?mn(i,...this.getContentElements(e)):i.textContent=e;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=Rne(e)),this._label=e}get label(){return this._label}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}class PT{constructor(e,t,i){this.options=t,this.styles=i,this.count=0,this.element=Q(e,te(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){var e,t;this.element.textContent=uh(this.countFormat,this.count),this.element.title=uh(this.titleFormat,this.count),this.element.style.backgroundColor=(e=this.styles.badgeBackground)!==null&&e!==void 0?e:"",this.element.style.color=(t=this.styles.badgeForeground)!==null&&t!==void 0?t:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}const o4="done",s4="active",ax="infinite",lx="infinite-long-running",r4="discrete";class Iy extends H{constructor(e,t){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new xt(()=>Ro(this.element),0)),this.longRunningScheduler=this._register(new xt(()=>this.infiniteLongRunning(),Iy.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e,t)}create(e,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(t==null?void 0:t.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(s4,ax,lx,r4),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(o4),this.element.classList.contains(ax)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(r4,o4,lx),this.element.classList.add(s4,ax),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(lx)}getContainer(){return this.element}}Iy.LONG_RUNNING_INFINITE_THRESHOLD=1e4;const Jse=te;class ere extends H{constructor(e,t,i){super(),this.parent=e,this.onKeyDown=o=>$(this.findInput.inputBox.inputElement,ae.KEY_DOWN,r=>{o(new Wt(r))}),this.onMouseDown=o=>$(this.findInput.inputBox.inputElement,ae.MOUSE_DOWN,r=>{o(new Ds(r))}),this.onDidChange=o=>this.findInput.onDidChange(o),this.container=Q(this.parent,Jse(".quick-input-box")),this.findInput=this._register(new W7(this.container,void 0,{label:"",inputBoxStyles:t,toggleStyles:i}));const n=this.findInput.inputBox.inputElement;n.role="combobox",n.ariaHasPopup="menu",n.ariaAutoComplete="list",n.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(e){this.findInput.setValue(e)}select(e=null){this.findInput.inputBox.select(e)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.findInput.inputBox.setPlaceHolder(e)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(e){this.findInput.inputBox.inputElement.type=e?"password":"text"}set enabled(e){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!e)}set toggles(e){this.findInput.setAdditionalToggles(e)}setAttribute(e,t){this.findInput.inputBox.inputElement.setAttribute(e,t)}showDecoration(e){e===mi.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:e===mi.Info?1:e===mi.Warning?2:3,content:""})}stylesForType(e){return this.findInput.inputBox.stylesForType(e===mi.Info?1:e===mi.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}class hd{constructor(e,t){var i;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(i=t==null?void 0:t.supportIcons)!==null&&i!==void 0?i:!1,this.domNode=Q(e,te("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",n){e||(e=""),n&&(e=hd.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===i&&as(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){const r=this.text.substring(t,i.start);this.supportIcons?e.push(...dd(r)):e.push(r),t=i.start}const n=this.text.substring(t,i.end),o=te("span.highlight",void 0,...this.supportIcons?dd(n):[n]);i.extraClasses&&o.classList.add(...i.extraClasses),e.push(o),t=i.end}if(t<this.text.length){const i=this.text.substring(t);this.supportIcons?e.push(...dd(i)):e.push(i)}mn(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,n=0;return e.replace(/\r\n|\r|\n/g,(o,r)=>{n=o===`\r
`?-1:0,r+=i;for(const a of t)a.end<=r||(a.start>=r&&(a.start+=n),a.end>=r&&(a.end+=n));return i+=n,"⏎"})}}class cx{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class P1 extends H{constructor(e,t){super(),this.customHovers=new Map,this.creationOptions=t,this.domNode=this._register(new cx(Q(e,te(".monaco-icon-label")))),this.labelContainer=Q(this.domNode.element,te(".monaco-icon-label-container"));const i=Q(this.labelContainer,te("span.monaco-icon-name-container"));t!=null&&t.supportHighlights||t!=null&&t.supportIcons?this.nameNode=new nre(i,!!t.supportIcons):this.nameNode=new tre(i),this.hoverDelegate=t==null?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,i){const n=["monaco-icon-label"],o=["monaco-icon-label-container"];let r="";if(i&&(i.extraClasses&&n.push(...i.extraClasses),i.italic&&n.push("italic"),i.strikethrough&&n.push("strikethrough"),i.disabledCommand&&o.push("disabled"),i.title&&(r+=i.title)),this.domNode.className=n.join(" "),this.domNode.element.setAttribute("aria-label",r),this.labelContainer.className=o.join(" "),this.setupHover(i!=null&&i.descriptionTitle?this.labelContainer:this.element,i==null?void 0:i.title),this.nameNode.setLabel(e,i),t||this.descriptionNode){const a=this.getOrCreateDescriptionNode();a instanceof hd?(a.set(t||"",i?i.descriptionMatches:void 0,void 0,i==null?void 0:i.labelEscapeNewLines),this.setupHover(a.element,i==null?void 0:i.descriptionTitle)):(a.textContent=t&&(i!=null&&i.labelEscapeNewLines)?hd.escapeNewLines(t,[]):t||"",this.setupHover(a.element,(i==null?void 0:i.descriptionTitle)||""),a.empty=!t)}}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(!this.hoverDelegate)Cne(e,t);else{const n=v7(this.hoverDelegate,e,t);n&&this.customHovers.set(e,n)}}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}getOrCreateDescriptionNode(){var e;if(!this.descriptionNode){const t=this._register(new cx(Q(this.labelContainer,te("span.monaco-icon-description-container"))));!((e=this.creationOptions)===null||e===void 0)&&e.supportDescriptionHighlights?this.descriptionNode=new hd(Q(t.element,te("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new cx(Q(t.element,te("span.label-description"))))}return this.descriptionNode}}class tre{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&as(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=Q(this.container,te("a.label-name",{id:t==null?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const n=e[i],o=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${i}`;Q(this.container,te("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},n)),i<e.length-1&&Q(this.container,te("span.label-separator",void 0,(t==null?void 0:t.separator)||"/"))}}}}function ire(s,e,t){if(!t)return;let i=0;return s.map(n=>{const o={start:i,end:i+n.length},r=t.map(a=>Nn.intersect(o,a)).filter(a=>!Nn.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=o.end+e.length,r})}class nre{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&as(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new hd(Q(this.container,te("a.label-name",{id:t==null?void 0:t.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(e,t==null?void 0:t.matches,void 0,t==null?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(t==null?void 0:t.separator)||"/",n=ire(e,i,t==null?void 0:t.matches);for(let o=0;o<e.length;o++){const r=e[o],a=n?n[o]:void 0,l=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${o}`,c=te("a.label-name",{id:l,"data-icon-label-count":e.length,"data-icon-label-index":o,role:"treeitem"});new hd(Q(this.container,c),{supportIcons:this.supportIcons}).set(r,a,void 0,t==null?void 0:t.labelEscapeNewLines),o<e.length-1&&Q(c,te("span.label-separator",void 0,i))}}}}const ew=te,ore={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class Uv{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null);const n=this.options.keybindingLabelForeground;this.domNode=Q(e,ew(".monaco-keybinding")),n&&(this.domNode.style.color=n),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&Uv.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){var e;if(this.clear(),this.keybinding){const t=this.keybinding.getChords();t[0]&&this.renderChord(this.domNode,t[0],this.matches?this.matches.firstPart:null);for(let n=1;n<t.length;n++)Q(this.domNode,ew("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,t[n],this.matches?this.matches.chordPart:null);const i=(e=this.options.disableTitle)!==null&&e!==void 0&&e?void 0:this.keybinding.getAriaLabel()||void 0;i!==void 0?this.domNode.title=i:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){fn(this.domNode),this.keyElements.clear()}renderChord(e,t,i){const n=NR.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,!!(i!=null&&i.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,!!(i!=null&&i.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,!!(i!=null&&i.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,!!(i!=null&&i.metaKey),n.separator);const o=t.keyLabel;o&&this.renderKey(e,o,!!(i!=null&&i.keyCode),"")}renderKey(e,t,i,n){Q(e,this.createKeyElement(t,i?".highlight":"")),n&&Q(e,ew("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){Q(e,this.createKeyElement(f("vs/base/browser/ui/keybindingLabel/keybindingLabel","unbound","Unbound")))}createKeyElement(e,t=""){const i=ew("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),this.options.keybindingLabelBackground&&(i.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(i.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(i.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(i.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),i}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&as(e.firstPart,t.firstPart)&&as(e.chordPart,t.chordPart)}}const a4=new Qd(()=>{const s=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:s,collatorIsNumeric:s.resolvedOptions().numeric}});function sre(s,e,t=!1){const i=s||"",n=e||"",o=a4.value.collator.compare(i,n);return a4.value.collatorIsNumeric&&o===0&&i!==n?i<n?-1:1:o}function rre(s,e,t){const i=s.toLowerCase(),n=e.toLowerCase(),o=are(s,e,t);if(o)return o;const r=i.endsWith(t),a=n.endsWith(t);if(r!==a)return r?-1:1;const l=sre(i,n);return l!==0?l:i.localeCompare(n)}function are(s,e,t){const i=s.toLowerCase(),n=e.toLowerCase(),o=i.startsWith(t),r=n.startsWith(t);if(o!==r)return o?-1:1;if(o&&r){if(i.length<n.length)return-1;if(i.length>n.length)return 1}return 0}var lre=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class tV{constructor(e){this.nodes=e}toString(){return this.nodes.map(e=>typeof e=="string"?e:e.label).join("")}}lre([ki],tV.prototype,"toString",null);const cre=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function dre(s){const e=[];let t=0,i;for(;i=cre.exec(s);){i.index-t>0&&e.push(s.substring(t,i.index));const[,n,o,,r]=i;r?e.push({label:n,href:o,title:r}):e.push({label:n,href:o}),t=i.index+i[0].length}return t<s.length&&e.push(s.substring(t)),new tV(e)}const dx={},ure=new HR("quick-input-button-icon-");function OT(s){if(!s)return;let e;const t=s.dark.toString();return dx[t]?e=dx[t]:(e=ure.nextId(),eI(`.${e}, .hc-light .${e}`,`background-image: ${kd(s.light||s.dark)}`),eI(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${kd(s.dark)}`),dx[t]=e),e}function hre(s,e,t){mn(e);const i=dre(s);let n=0;for(const o of i.nodes)if(typeof o=="string")e.append(...dd(o));else{let r=o.title;!r&&o.href.startsWith("command:")?r=f("vs/platform/quickinput/browser/quickInputUtils","executeCommand","Click to execute command '{0}'",o.href.substring(8)):r||(r=o.href);const a=te("a",{href:o.href,title:r,tabIndex:n++},o.label);a.style.textDecoration="underline";const l=g=>{Lj(g)&&je.stop(g,!0),t.callback(o.href)},c=t.disposables.add(new tt(a,ae.CLICK)).event,d=t.disposables.add(new tt(a,ae.KEY_DOWN)).event,u=ce.chain(d,g=>g.filter(m=>{const p=new Wt(m);return p.equals(10)||p.equals(3)}));t.disposables.add(Nt.addTarget(a));const h=t.disposables.add(new tt(a,At.Tap)).event;ce.any(c,h,u)(l,null,t.disposables),e.appendChild(a)}}var iV=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},l4=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const Dr=te;class gre{constructor(e,t,i,n,o,r,a){var l,c,d;this._checked=!1,this._hidden=!1,this.hasCheckbox=n,this.index=i,this.fireButtonTriggered=o,this.fireSeparatorButtonTriggered=r,this._onChecked=a,this.onChecked=n?ce.map(ce.filter(this._onChecked.event,u=>u.listElement===this),u=>u.checked):ce.None,e.type==="separator"?this._separator=e:(this.item=e,t&&t.type==="separator"&&!t.buttons&&(this._separator=t),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(l=this.item.highlights)===null||l===void 0?void 0:l.label,this._descriptionHighlights=(c=this.item.highlights)===null||c===void 0?void 0:c.description,this._detailHighlights=(d=this.item.highlights)===null||d===void 0?void 0:d.detail,this.saneTooltip=this.item.tooltip),this._init=new Qd(()=>{var u;const h=(u=e.label)!==null&&u!==void 0?u:"",g=Yp(h).text.trim(),m=e.ariaLabel||[h,this.saneDescription,this.saneDetail].map(p=>bne(p)).filter(p=>!!p).join(", ");return{saneLabel:h,saneSortLabel:g,saneAriaLabel:m}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(e){this._element=e}get hidden(){return this._hidden}set hidden(e){this._hidden=e}get checked(){return this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire({listElement:this,checked:e}))}get separator(){return this._separator}set separator(e){this._separator=e}get labelHighlights(){return this._labelHighlights}set labelHighlights(e){this._labelHighlights=e}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(e){this._descriptionHighlights=e}get detailHighlights(){return this._detailHighlights}set detailHighlights(e){this._detailHighlights=e}}class $v{constructor(e){this.themeService=e}get templateId(){return $v.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=Q(e,Dr(".quick-input-list-entry"));const i=Q(t.entry,Dr("label.quick-input-list-label"));t.toDisposeTemplate.push(Si(i,ae.CLICK,c=>{t.checkbox.offsetParent||c.preventDefault()})),t.checkbox=Q(i,Dr("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(Si(t.checkbox,ae.CHANGE,c=>{t.element.checked=t.checkbox.checked}));const n=Q(i,Dr(".quick-input-list-rows")),o=Q(n,Dr(".quick-input-list-row")),r=Q(n,Dr(".quick-input-list-row"));t.label=new P1(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),t.toDisposeTemplate.push(t.label),t.icon=GW(t.label.element,Dr(".quick-input-list-icon"));const a=Q(o,Dr(".quick-input-list-entry-keybinding"));t.keybinding=new Uv(a,ns);const l=Q(r,Dr(".quick-input-list-label-meta"));return t.detail=new P1(l,{supportHighlights:!0,supportIcons:!0}),t.toDisposeTemplate.push(t.detail),t.separator=Q(t.entry,Dr(".quick-input-list-separator")),t.actionBar=new Vs(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){var n,o,r,a;i.element=e,e.element=(n=i.entry)!==null&&n!==void 0?n:void 0;const l=e.item?e.item:e.separator;i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked(m=>i.checkbox.checked=m));const{labelHighlights:c,descriptionHighlights:d,detailHighlights:u}=e;if(!((o=e.item)===null||o===void 0)&&o.iconPath){const m=nm(this.themeService.getColorTheme().type)?e.item.iconPath.dark:(r=e.item.iconPath.light)!==null&&r!==void 0?r:e.item.iconPath.dark,p=De.revive(m);i.icon.className="quick-input-list-icon",i.icon.style.backgroundImage=kd(p)}else i.icon.style.backgroundImage="",i.icon.className=!((a=e.item)===null||a===void 0)&&a.iconClass?`quick-input-list-icon ${e.item.iconClass}`:"";const h={matches:c||[],descriptionTitle:e.saneDescription,descriptionMatches:d||[],labelEscapeNewLines:!0};l.type!=="separator"?(h.extraClasses=l.iconClasses,h.italic=l.italic,h.strikethrough=l.strikethrough,i.entry.classList.remove("quick-input-list-separator-as-item")):i.entry.classList.add("quick-input-list-separator-as-item"),i.label.setLabel(e.saneLabel,e.saneDescription,h),i.keybinding.set(l.type==="separator"?void 0:l.keybinding),e.saneDetail?(i.detail.element.style.display="",i.detail.setLabel(e.saneDetail,void 0,{matches:u,title:e.saneDetail,labelEscapeNewLines:!0})):i.detail.element.style.display="none",e.item&&e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator);const g=l.buttons;g&&g.length?(i.actionBar.push(g.map((m,p)=>{let _=m.iconClass||(m.iconPath?OT(m.iconPath):void 0);return m.alwaysVisible&&(_=_?`${_} always-visible`:"always-visible"),{id:`id-${p}`,class:_,enabled:!0,label:"",tooltip:m.tooltip||"",run:()=>{l.type!=="separator"?e.fireButtonTriggered({button:m,item:l}):e.fireSeparatorButtonTriggered({button:m,separator:l})}}}),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=St(i.toDisposeElement),i.actionBar.clear()}disposeTemplate(e){e.toDisposeElement=St(e.toDisposeElement),e.toDisposeTemplate=St(e.toDisposeTemplate)}}$v.ID="listelement";class fre{getHeight(e){return e.item?e.saneDetail?44:22:24}getTemplateId(e){return $v.ID}}var Xi;(function(s){s[s.First=1]="First",s[s.Second=2]="Second",s[s.Last=3]="Last",s[s.Next=4]="Next",s[s.Previous=5]="Previous",s[s.NextPage=6]="NextPage",s[s.PreviousPage=7]="PreviousPage"})(Xi||(Xi={}));class cM{constructor(e,t,i,n){this.parent=e,this.options=i,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new M,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new M,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new M,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new M,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new M,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new M,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new M,this.onKeyDown=this._onKeyDown.event,this._onLeave=new M,this.onLeave=this._onLeave.event,this._listElementChecked=new M,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=Q(this.parent,Dr(".quick-input-list"));const o=new fre,r=new bre;if(this.list=i.createList("QuickInput",this.container,o,[new $v(n)],{identityProvider:{getId:a=>{var l,c,d,u,h,g,m,p;return(p=(g=(u=(c=(l=a.item)===null||l===void 0?void 0:l.id)!==null&&c!==void 0?c:(d=a.item)===null||d===void 0?void 0:d.label)!==null&&u!==void 0?u:(h=a.separator)===null||h===void 0?void 0:h.id)!==null&&g!==void 0?g:(m=a.separator)===null||m===void 0?void 0:m.label)!==null&&p!==void 0?p:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:r}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(a=>{const l=new Wt(a);switch(l.keyCode){case 10:this.toggleCheckbox();break;case 31:(at?a.metaKey:a.ctrlKey)&&this.list.setFocus(Xn(this.list.length));break;case 16:{const c=this.list.getFocus();c.length===1&&c[0]===0&&this._onLeave.fire();break}case 18:{const c=this.list.getFocus();c.length===1&&c[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(l)})),this.disposables.push(this.list.onMouseDown(a=>{a.browserEvent.button!==2&&a.browserEvent.preventDefault()})),this.disposables.push($(this.container,ae.CLICK,a=>{(a.x||a.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(a=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(a=>{typeof a.index=="number"&&(a.browserEvent.preventDefault(),this.list.setSelection([a.index]))})),i.hoverDelegate){const a=new n3(i.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(l=>l4(this,void 0,void 0,function*(){var c;if(l.browserEvent.target instanceof HTMLAnchorElement){a.cancel();return}if(!(!(l.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&Dn(l.browserEvent.relatedTarget,(c=l.element)===null||c===void 0?void 0:c.element)))try{yield a.trigger(()=>l4(this,void 0,void 0,function*(){l.element&&this.showHover(l.element)}))}catch(d){if(!ra(d))throw d}}))),this.disposables.push(this.list.onMouseOut(l=>{var c;Dn(l.browserEvent.relatedTarget,(c=l.element)===null||c===void 0?void 0:c.element)||a.cancel()})),this.disposables.push(a)}this.disposables.push(this._listElementChecked.event(a=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return ce.map(this.list.onDidChangeFocus,e=>e.elements.map(t=>t.item))}get onDidChangeSelection(){return ce.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(t=>t.item),event:e.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(e){this.list.getHTMLElement().ariaLabel=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,n=e.length;i<n;i++){const o=e[i];if(!o.hidden)if(o.checked)t=!0;else return!1}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=St(this.elementDisposables);const t=r=>this.fireButtonTriggered(r),i=r=>this.fireSeparatorButtonTriggered(r);this.inputElements=e;const n=new Map,o=this.parent.classList.contains("show-checkboxes");this.elements=e.reduce((r,a,l)=>{var c;const d=l>0?e[l-1]:void 0;if(a.type==="separator"&&!a.buttons)return r;const u=new gre(a,d,l,o,t,i,this._listElementChecked),h=r.length;return r.push(u),n.set((c=u.item)!==null&&c!==void 0?c:u.separator,h),r},[]),this.elementsToIndexes=n,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){if(this.list.setFocus(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t))),e.length>0){const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item).filter(e=>!!e)}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const i of this.elements)i.checked=t.has(i.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===Xi.Second&&this.list.length<2&&(e=Xi.First),e){case Xi.First:this.list.scrollTop=0,this.list.focusFirst(void 0,i=>!!i.item);break;case Xi.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,i=>!!i.item);break;case Xi.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,i=>!!i.item);break;case Xi.Next:{this.list.focusNext(void 0,!0,void 0,n=>!!n.item);const i=this.list.getFocus()[0];i!==0&&!this.elements[i-1].item&&this.list.firstVisibleIndex>i-1&&this.list.reveal(i-1);break}case Xi.Previous:{this.list.focusPrevious(void 0,!0,void 0,n=>!!n.item);const i=this.list.getFocus()[0];i!==0&&!this.elements[i-1].item&&this.list.firstVisibleIndex>i-1&&this.list.reveal(i-1);break}case Xi.NextPage:this.list.focusNextPage(void 0,i=>!!i.item);break;case Xi.PreviousPage:this.list.focusPreviousPage(void 0,i=>!!i.item);break}const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(e){var t,i,n;this.options.hoverDelegate!==void 0&&(this._lastHover&&!this._lastHover.isDisposed&&((i=(t=this.options.hoverDelegate).onDidHideHover)===null||i===void 0||i.call(t),(n=this._lastHover)===null||n===void 0||n.dispose()),!(!e.element||!e.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:e.saneTooltip,target:e.element,linkHandler:o=>{this.options.linkOpenerDelegate(o)},showPointer:!0,container:this.container,hoverPosition:1},!1)))}layout(e){this.list.getHTMLElement().style.maxHeight=e?`${Math.floor(e/44)*44+6}px`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const t=e;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(n=>{n.labelHighlights=void 0,n.descriptionHighlights=void 0,n.detailHighlights=void 0,n.hidden=!1;const o=n.index&&this.inputElements[n.index-1];n.item&&(n.separator=o&&o.type==="separator"&&!o.buttons?o:void 0)});else{let n;this.elements.forEach(o=>{var r,a,l,c;let d;this.matchOnLabelMode==="fuzzy"?d=this.matchOnLabel&&(r=ZL(e,Yp(o.saneLabel)))!==null&&r!==void 0?r:void 0:d=this.matchOnLabel&&(a=mre(t,Yp(o.saneLabel)))!==null&&a!==void 0?a:void 0;const u=this.matchOnDescription&&(l=ZL(e,Yp(o.saneDescription||"")))!==null&&l!==void 0?l:void 0,h=this.matchOnDetail&&(c=ZL(e,Yp(o.saneDetail||"")))!==null&&c!==void 0?c:void 0;if(d||u||h?(o.labelHighlights=d,o.descriptionHighlights=u,o.detailHighlights=h,o.hidden=!1):(o.labelHighlights=void 0,o.descriptionHighlights=void 0,o.detailHighlights=void 0,o.hidden=o.item?!o.item.alwaysShow:!0),o.item?o.separator=void 0:o.separator&&(o.hidden=!0),!this.sortByLabel){const g=o.index&&this.inputElements[o.index-1];n=g&&g.type==="separator"?g:n,n&&!o.hidden&&(o.separator=n,n=void 0)}})}const i=this.elements.filter(n=>!n.hidden);if(this.sortByLabel&&e){const n=e.toLowerCase();i.sort((o,r)=>pre(o,r,n))}return this.elementsToIndexes=i.reduce((n,o,r)=>{var a;return n.set((a=o.item)!==null&&a!==void 0?a:o.separator,r),n},new Map),this.list.splice(0,this.list.length,i),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(i.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=St(this.elementDisposables),this.disposables=St(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}fireSeparatorButtonTriggered(e){this._onSeparatorButtonTriggered.fire(e)}style(e){this.list.style(e)}toggleHover(){const e=this.list.getFocusedElements()[0];if(!(e!=null&&e.saneTooltip))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const t=this.list.getFocusedElements()[0];if(!t)return;this.showHover(t);const i=new Y;i.add(this.list.onDidChangeFocus(n=>{n.indexes.length&&this.showHover(n.elements[0])})),this._lastHover&&i.add(this._lastHover),this._toggleHover=i,this.elementDisposables.push(this._toggleHover)}}iV([ki],cM.prototype,"onDidChangeFocus",null);iV([ki],cM.prototype,"onDidChangeSelection",null);function mre(s,e){const{text:t,iconOffsets:i}=e;if(!i||i.length===0)return c4(s,t);const n=wv(t," "),o=t.length-n.length,r=c4(s,n);if(r)for(const a of r){const l=i[a.start+o]+o;a.start+=l,a.end+=l}return r}function c4(s,e){const t=e.toLowerCase().indexOf(s.toLowerCase());return t!==-1?[{start:t,end:t+s.length}]:null}function pre(s,e,t){const i=s.labelHighlights||[],n=e.labelHighlights||[];return i.length&&!n.length?-1:!i.length&&n.length?1:i.length===0&&n.length===0?0:rre(s.saneSortLabel,e.saneSortLabel,t)}class bre{getWidgetAriaLabel(){return f("vs/platform/quickinput/browser/quickInputList","quickInput","Quick Input")}getAriaLabel(e){var t;return!((t=e.separator)===null||t===void 0)&&t.label?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(e.hasCheckbox)return{value:e.checked,onDidChange:e.onChecked}}}var d4=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const FT={iconClass:Ie.asClassName(se.quickInputBack),tooltip:f("vs/platform/quickinput/browser/quickInput","quickInput.back","Back"),handle:-1};class jv extends H{constructor(e){super(),this.ui=e,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=jv.noPromptMessage,this._severity=mi.Ignore,this.onDidTriggerButtonEmitter=this._register(new M),this.onDidHideEmitter=this._register(new M),this.onDisposeEmitter=this._register(new M),this.visibleDisposables=this._register(new Y),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!Xr;this._ignoreFocusOut=e&&!Xr,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(e){this._toggles=e!=null?e:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=O_.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){var e,t;if(!this.visible)return;const i=this.getTitle();i&&this.ui.title.textContent!==i?this.ui.title.textContent=i:!i&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText=" ");const n=this.getDescription();if(this.ui.description1.textContent!==n&&(this.ui.description1.textContent=n),this.ui.description2.textContent!==n&&(this.ui.description2.textContent=n),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?mn(this.ui.widget,this._widget):mn(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new gr,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const r=this.buttons.filter(l=>l===FT);this.ui.leftActionBar.push(r.map((l,c)=>{const d=new lo(`id-${c}`,"",l.iconClass||OT(l.iconPath),!0,()=>d4(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(l)}));return d.tooltip=l.tooltip||"",d}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const a=this.buttons.filter(l=>l!==FT);this.ui.rightActionBar.push(a.map((l,c)=>{const d=new lo(`id-${c}`,"",l.iconClass||OT(l.iconPath),!0,()=>d4(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(l)}));return d.tooltip=l.tooltip||"",d}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const r=(t=(e=this.toggles)===null||e===void 0?void 0:e.filter(a=>a instanceof jm))!==null&&t!==void 0?t:[];this.ui.inputBox.toggles=r}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const o=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==o&&(this._lastValidationMessage=o,mn(this.ui.message),hre(o,this.ui.message,{callback:r=>{this.ui.linkOpenerDelegate(r)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?f("vs/platform/quickinput/browser/quickInput","quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==mi.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}jv.noPromptMessage=f("vs/platform/quickinput/browser/quickInput","inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class F_ extends jv{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new M),this.onWillAcceptEmitter=this._register(new M),this.onDidAcceptEmitter=this._register(new M),this.onDidCustomEmitter=this._register(new M),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=Ar.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new M),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new M),this.onDidTriggerItemButtonEmitter=this._register(new M),this.onDidTriggerSeparatorButtonEmitter=this._register(new M),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Yse:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Xi.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(e=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(Xi.Next),this.canSelectMany&&this.ui.list.domFocus(),je.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Xi.Previous):this.ui.list.focus(Xi.Last),this.canSelectMany&&this.ui.list.domFocus(),je.stop(e,!0);break;case 12:this.ui.list.focus(Xi.NextPage),this.canSelectMany&&this.ui.list.domFocus(),je.stop(e,!0);break;case 11:this.ui.list.focus(Xi.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),je.stop(e,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Xi.First),je.stop(e,!0));break;case 13:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Xi.Last),je.stop(e,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&bi(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&bi(e,this._selectedItems,(i,n)=>i===n)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&bi(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(e=>this.onDidTriggerSeparatorButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return $(this.ui.container,ae.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new Wt(e),i=t.keyCode;this._quickNavigate.keybindings.some(r=>{const a=r.getChords();return a.length>1?!1:a[0].shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a[0].altKey&&i===6||a[0].ctrlKey&&i===5||a[0].metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this.description,i={title:!!this.title||!!this.step||!!this.buttons.length,description:t,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||t,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let n=this.ariaLabel;if(!n&&i.inputBox&&(n=this.placeholder||F_.DEFAULT_ARIA_LABEL,this.title&&(n+=` - ${this.title}`)),this.ui.list.ariaLabel!==n&&(this.ui.list.ariaLabel=n!=null?n:null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Ar.NONE:this._itemActivation=Ar.FIRST;break;case Ar.SECOND:this.ui.list.focus(Xi.Second),this._itemActivation=Ar.FIRST;break;case Ar.LAST:this.ui.list.focus(Xi.Last),this._itemActivation=Ar.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Xi.First)),this.keepScrollPosition&&(this.scrollTop=e)}}F_.DEFAULT_ARIA_LABEL=f("vs/platform/quickinput/browser/quickInput","quickInputBox.ariaLabel","Type to narrow down results.");class _re extends jv{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new M),this.onDidAcceptEmitter=this._register(new M),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(e){this._value=e||"",this.update()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get password(){return this._password}set password(e){this._password=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{e!==this.value&&(this._value=e,this.onDidValueChangeEmitter.fire(e))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const e={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(e),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}const Io=te;class Ty extends H{constructor(e,t){super(),this.options=e,this.themeService=t,this.enabled=!0,this.onDidAcceptEmitter=this._register(new M),this.onDidCustomEmitter=this._register(new M),this.onDidTriggerButtonEmitter=this._register(new M),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new M),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new M),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=t=>{this.keyMods.ctrlCmd=t.ctrlKey||t.metaKey,this.keyMods.alt=t.altKey};this._register($(window,ae.KEY_DOWN,e,!0)),this._register($(window,ae.KEY_UP,e,!0)),this._register($(window,ae.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=Q(this.parentElement,Io(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const t=Os(e),i=Q(e,Io(".quick-input-titlebar")),n=this.options.hoverDelegate?{hoverDelegate:this.options.hoverDelegate}:void 0,o=this._register(new Vs(i,n));o.domNode.classList.add("quick-input-left-action-bar");const r=Q(i,Io(".quick-input-title")),a=this._register(new Vs(i,n));a.domNode.classList.add("quick-input-right-action-bar");const l=Q(e,Io(".quick-input-header")),c=Q(l,Io("input.quick-input-check-all"));c.type="checkbox",c.setAttribute("aria-label",f("quickInput.checkAll","Toggle all checkboxes")),this._register(Si(c,ae.CHANGE,O=>{const G=c.checked;U.setAllVisibleChecked(G)})),this._register($(c,ae.CLICK,O=>{(O.x||O.y)&&g.setFocus()}));const d=Q(l,Io(".quick-input-description")),u=Q(l,Io(".quick-input-and-message")),h=Q(u,Io(".quick-input-filter")),g=this._register(new ere(h,this.styles.inputBox,this.styles.toggle));g.setAttribute("aria-describedby",`${this.idPrefix}message`);const m=Q(h,Io(".quick-input-visible-count"));m.setAttribute("aria-live","polite"),m.setAttribute("aria-atomic","true");const p=new PT(m,{countFormat:f({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),_=Q(h,Io(".quick-input-count"));_.setAttribute("aria-live","polite");const b=new PT(_,{countFormat:f({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),v=Q(l,Io(".quick-input-action")),w=this._register(new MT(v,this.styles.button));w.label=f("ok","OK"),this._register(w.onDidClick(O=>{this.onDidAcceptEmitter.fire()}));const C=Q(l,Io(".quick-input-action")),S=this._register(new MT(C,this.styles.button));S.label=f("custom","Custom"),this._register(S.onDidClick(O=>{this.onDidCustomEmitter.fire()}));const x=Q(u,Io(`#${this.idPrefix}message.quick-input-message`)),L=this._register(new Iy(e,this.styles.progressBar));L.getContainer().classList.add("quick-input-progress");const I=Q(e,Io(".quick-input-html-widget"));I.tabIndex=-1;const E=Q(e,Io(".quick-input-description")),W=this.idPrefix+"list",U=this._register(new cM(e,W,this.options,this.themeService));g.setAttribute("aria-controls",W),this._register(U.onDidChangeFocus(()=>{var O;g.setAttribute("aria-activedescendant",(O=U.getActiveDescendant())!==null&&O!==void 0?O:"")})),this._register(U.onChangedAllVisibleChecked(O=>{c.checked=O})),this._register(U.onChangedVisibleCount(O=>{p.setCount(O)})),this._register(U.onChangedCheckedCount(O=>{b.setCount(O)})),this._register(U.onLeave(()=>{setTimeout(()=>{g.setFocus(),this.controller instanceof F_&&this.controller.canSelectMany&&U.clearFocus()},0)}));const F=Ja(e);return this._register(F),this._register($(e,ae.FOCUS,O=>{Dn(O.relatedTarget,e)||(this.previousFocusElement=O.relatedTarget instanceof HTMLElement?O.relatedTarget:void 0)},!0)),this._register(F.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(O_.Blur),this.previousFocusElement=void 0})),this._register($(e,ae.FOCUS,O=>{g.setFocus()})),this._register(Si(e,ae.KEY_DOWN,O=>{if(!Dn(O.target,I))switch(O.keyCode){case 3:je.stop(O,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:je.stop(O,!0),this.hide(O_.Gesture);break;case 2:if(!O.altKey&&!O.ctrlKey&&!O.metaKey){const G=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(e.classList.contains("show-checkboxes")?G.push("input"):G.push("input[type=text]"),this.getUI().list.isDisplayed()&&G.push(".monaco-list"),this.getUI().message&&G.push(".quick-input-message a"),this.getUI().widget){if(Dn(O.target,this.getUI().widget))break;G.push(".quick-input-html-widget")}const X=e.querySelectorAll(G.join(", "));O.shiftKey&&O.target===X[0]?(je.stop(O,!0),U.clearFocus()):!O.shiftKey&&Dn(O.target,X[X.length-1])&&(je.stop(O,!0),X[0].focus())}break;case 10:O.ctrlKey&&(je.stop(O,!0),this.getUI().list.toggleHover());break}})),this.ui={container:e,styleSheet:t,leftActionBar:o,titleBar:i,title:r,description1:E,description2:d,widget:I,rightActionBar:a,checkAll:c,inputContainer:u,filterContainer:h,inputBox:g,visibleCountContainer:m,visibleCount:p,countContainer:_,count:b,okContainer:v,ok:w,message:x,customButtonContainer:C,customButton:S,list:U,progressBar:L,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:O=>this.show(O),hide:()=>this.hide(),setVisibilities:O=>this.setVisibilities(O),setEnabled:O=>this.setEnabled(O),setContextKey:O=>this.options.setContextKey(O),linkOpenerDelegate:O=>this.options.linkOpenerDelegate(O)},this.updateStyles(),this.ui}pick(e,t={},i=Xe.None){return new Promise((n,o)=>{let r=d=>{var u;r=n,(u=t.onKeyMods)===null||u===void 0||u.call(t,a.keyMods),n(d)};if(i.isCancellationRequested){r(void 0);return}const a=this.createQuickPick();let l;const c=[a,a.onDidAccept(()=>{if(a.canSelectMany)r(a.selectedItems.slice()),a.hide();else{const d=a.activeItems[0];d&&(r(d),a.hide())}}),a.onDidChangeActive(d=>{const u=d[0];u&&t.onDidFocus&&t.onDidFocus(u)}),a.onDidChangeSelection(d=>{if(!a.canSelectMany){const u=d[0];u&&(r(u),a.hide())}}),a.onDidTriggerItemButton(d=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},d),{removeItem:()=>{const u=a.items.indexOf(d.item);if(u!==-1){const h=a.items.slice(),g=h.splice(u,1),m=a.activeItems.filter(_=>_!==g[0]),p=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=h,m&&(a.activeItems=m),a.keepScrollPosition=p}}}))),a.onDidTriggerSeparatorButton(d=>{var u;return(u=t.onDidTriggerSeparatorButton)===null||u===void 0?void 0:u.call(t,d)}),a.onDidChangeValue(d=>{l&&!d&&(a.activeItems.length!==1||a.activeItems[0]!==l)&&(a.activeItems=[l])}),i.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{St(c),r(void 0)})];a.title=t.title,a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.autoFocusOnList=t.autoFocusOnList===void 0||t.autoFocusOnList,a.quickNavigate=t.quickNavigate,a.hideInput=!!t.hideInput,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([d,u])=>{l=u,a.busy=!1,a.items=d,a.canSelectMany&&(a.selectedItems=d.filter(h=>h.type!=="separator"&&h.picked)),l&&(a.activeItems=[l])}),a.show(),Promise.resolve(e).then(void 0,d=>{o(d),a.hide()})})}createQuickPick(){const e=this.getUI();return new F_(e)}createInputBox(){const e=this.getUI();return new _re(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const i=this.controller;this.controller=e,i==null||i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",mn(t.widget),t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(mi.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),mn(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,t.inputBox.toggles=void 0;const n=this.options.backKeybindingLabel();FT.tooltip=n?f("quickInput.backWithKeybinding","Back ({0})",n):f("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.inputContainer.style.display=e.inputBox?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList.toggle("show-checkboxes",!!e.checkBox),t.container.classList.toggle("hidden-input",!e.inputBox&&!e.description),this.updateLayout()}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.action.enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.action.enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().inputBox.enabled=e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t,i,n;const o=this.controller;if(!o)return;const r=!Dn(document.activeElement,(i=(t=this.ui)===null||t===void 0?void 0:t.container)!==null&&i!==void 0?i:null);if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!r){let a=this.previousFocusElement;for(;a&&!a.offsetParent;)a=(n=a.parentElement)!==null&&n!==void 0?n:void 0;a!=null&&a.offsetParent?(a.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}o.didHide(e)}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(this.dimension.width*.62,Ty.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,widgetBorder:n,widgetShadow:o}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e!=null?e:"",this.ui.container.style.backgroundColor=t!=null?t:"",this.ui.container.style.color=i!=null?i:"",this.ui.container.style.border=n?`1px solid ${n}`:"",this.ui.container.style.boxShadow=o?`0 0 8px 2px ${o}`:"",this.ui.list.style(this.styles.list);const r=[];this.styles.pickerGroup.pickerGroupBorder&&r.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&r.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&r.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(r.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&r.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&r.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&r.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&r.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&r.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),r.push("}"));const a=r.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}isDisplayed(){return this.ui&&this.ui.container.style.display!=="none"}}Ty.MAX_WIDTH=600;var vre=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},tw=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let BT=class extends XQ{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(RT))),this._quickAccess}constructor(e,t,i,n){super(i),this.instantiationService=e,this.contextKeyService=t,this.layoutService=n,this._onShow=this._register(new M),this._onHide=this._register(new M),this.contexts=new Map}createController(e=this.layoutService,t){const i={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:o=>this.setContextKey(o),linkOpenerDelegate:o=>{this.instantiationService.invokeFunction(r=>{r.get($o).open(o,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>e.focus(),createList:(o,r,a,l,c)=>this.instantiationService.createInstance(ET,o,r,a,l,c),styles:this.computeStyles()},n=this._register(new Ty(Object.assign(Object.assign({},i),t),this.themeService));return n.layout(e.dimension,e.offset.quickPickTop),this._register(e.onDidLayout(o=>n.layout(o,e.offset.quickPickTop))),this._register(n.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(n.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),n}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new de(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t==null||t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},i=Xe.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:ue(eO),quickInputForeground:ue(oZ),quickInputTitleBackground:ue(sZ),widgetBorder:ue(GA),widgetShadow:ue(Fa)},inputBox:y1,toggle:S1,countBadge:I7,button:Doe,progressBar:Ioe,keybindingLabel:xoe,list:Um({listBackground:eO,listFocusBackground:ju,listFocusForeground:$u,listInactiveFocusForeground:$u,listInactiveSelectionIconForeground:Gg,listInactiveFocusBackground:ju,listFocusOutline:Ut,listInactiveFocusOutline:Ut}),pickerGroup:{pickerGroupBorder:ue(rZ),pickerGroupForeground:ue(B3)}}}};BT=vre([tw(0,Ae),tw(1,Me),tw(2,qi),tw(3,zm)],BT);var nV=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},lf=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let WT=class extends BT{constructor(e,t,i,n,o){super(t,i,n,new jI(e.getContainerDomNode(),o)),this.host=void 0;const r=fm.get(e);if(r){const a=r.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return a.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};WT=nV([lf(1,Ae),lf(2,Me),lf(3,qi),lf(4,bt)],WT);let VT=class{get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(WT,e);this.mapEditorToService.set(e,t),Sd(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}pick(e,t={},i=Xe.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};VT=nV([lf(0,Ae),lf(1,bt)],VT);class fm{static get(e){return e.getContribution(fm.ID)}constructor(e){this.editor=e,this.widget=new Ey(this.editor)}dispose(){this.widget.dispose()}}fm.ID="editor.controller.quickInput";class Ey{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Ey.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}Ey.ID="editor.contrib.quickInputWidget";gt(fm.ID,fm,4);class wre{constructor(e,t,i,n,o){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=o}}function Cre(s){if(!s||!Array.isArray(s))return[];const e=[];let t=0;for(let i=0,n=s.length;i<n;i++){const o=s[i];let r=-1;if(typeof o.fontStyle=="string"){r=0;const c=o.fontStyle.split(" ");for(let d=0,u=c.length;d<u;d++)switch(c[d]){case"italic":r=r|1;break;case"bold":r=r|2;break;case"underline":r=r|4;break;case"strikethrough":r=r|8;break}}let a=null;typeof o.foreground=="string"&&(a=o.foreground);let l=null;typeof o.background=="string"&&(l=o.background),e[t++]=new wre(o.token||"",i,r,a,l)}return e}function Sre(s,e){s.sort((d,u)=>{const h=Dre(d.token,u.token);return h!==0?h:d.index-u.index});let t=0,i="000000",n="ffffff";for(;s.length>=1&&s[0].token==="";){const d=s.shift();d.fontStyle!==-1&&(t=d.fontStyle),d.foreground!==null&&(i=d.foreground),d.background!==null&&(n=d.background)}const o=new kre;for(const d of e)o.getId(d);const r=o.getId(i),a=o.getId(n),l=new dM(t,r,a),c=new uM(l);for(let d=0,u=s.length;d<u;d++){const h=s[d];c.insert(h.token,h.fontStyle,o.getId(h.foreground),o.getId(h.background))}return new oV(o,c)}const yre=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class kre{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(e===null)return 0;const t=e.match(yre);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=V.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class oV{static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(Cre(e),t)}static createFromParsedTokenTheme(e,t){return Sre(e,t)}constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(typeof i=="undefined"){const n=this._match(t),o=xre(t);i=(n.metadata|o<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const Lre=/\b(comment|string|regex|regexp)\b/;function xre(s){const e=s.match(Lre);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function Dre(s,e){return s<e?-1:s>e?1:0}class dM{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new dM(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),i!==0&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class uM{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(e==="")return this._mainRule;const t=e.indexOf(".");let i,n;t===-1?(i=e,n=""):(i=e.substring(0,t),n=e.substring(t+1));const o=this._children.get(i);return typeof o!="undefined"?o.match(n):this._mainRule}insert(e,t,i,n){if(e===""){this._mainRule.acceptOverwrite(t,i,n);return}const o=e.indexOf(".");let r,a;o===-1?(r=e,a=""):(r=e.substring(0,o),a=e.substring(o+1));let l=this._children.get(r);typeof l=="undefined"&&(l=new uM(this._mainRule.clone()),this._children.set(r,l)),l.insert(a,t,i,n)}}function Ire(s){const e=[];for(let t=1,i=s.length;t<i;t++){const n=s[t];e[t]=`.mtk${t} { color: ${n}; }`}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.push(".mtks { text-decoration: line-through; }"),e.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),e.join(`
`)}const Tre={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Ki]:"#FFFFFE",[tr]:"#000000",[W3]:"#E5EBF1",[Rv]:"#D3D3D3",[Mv]:"#939393",[YA]:"#ADD6FF4D"}},Ere={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Ki]:"#1E1E1E",[tr]:"#D4D4D4",[W3]:"#3A3D41",[Rv]:"#404040",[Mv]:"#707070",[YA]:"#ADD6FF26"}},Nre={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Ki]:"#000000",[tr]:"#FFFFFF",[Rv]:"#FFFFFF",[Mv]:"#FFFFFF"}},Are={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Ki]:"#FFFFFF",[tr]:"#292929",[Rv]:"#292929",[Mv]:"#292929"}},Rre={IconContribution:"base.contributions.icons"};var u4;(function(s){function e(t,i){let n=t.defaults;for(;Ie.isThemeIcon(n);){const o=ig.getIcon(n.id);if(!o)return;n=o.defaults}return n}s.getDefinition=e})(u4||(u4={}));var h4;(function(s){function e(i){return{weight:i.weight,style:i.style,src:i.src.map(n=>({format:n.format,location:n.location.toString()}))}}s.toJSONObject=e;function t(i){const n=o=>ao(o)?o:void 0;if(i&&Array.isArray(i.src)&&i.src.every(o=>ao(o.format)&&ao(o.location)))return{weight:n(i.weight),style:n(i.style),src:i.src.map(o=>({format:o.format,location:De.parse(o.location)}))}}s.fromJSONObject=t})(h4||(h4={}));class Mre{constructor(){this._onDidChange=new M,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:f("vs/platform/theme/common/iconRegistry","iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:f("vs/platform/theme/common/iconRegistry","iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${Ie.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,n){const o=this.iconsById[e];if(o){if(i&&!o.description){o.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return o}const r={id:e,description:i,defaults:t,deprecationMessage:n};this.iconsById[e]=r;const a={$ref:"#/definitions/icons"};return n&&(a.deprecationMessage=n),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){const e=(o,r)=>o.id.localeCompare(r.id),t=o=>{for(;Ie.isThemeIcon(o.defaults);)o=this.iconsById[o.defaults.id];return`codicon codicon-${o?o.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const n=Object.keys(this.iconsById).map(o=>this.iconsById[o]);for(const o of n.filter(r=>!!r.description).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|${Ie.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const o of n.filter(r=>!Ie.isThemeIcon(r.defaults)).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|`);return i.join(`
`)}}const ig=new Mre;Jt.add(Rre.IconContribution,ig);function _i(s,e,t,i){return ig.registerIcon(s,e,t,i)}function sV(){return ig}function Pre(){const s=mW();for(const e in s){const t="\\"+s[e].toString(16);ig.registerIcon(e,{fontCharacter:t})}}Pre();const rV="vscode://schemas/icons",aV=Jt.as(KS.JSONContribution);aV.registerSchema(rV,ig.getIconSchema());const g4=new xt(()=>aV.notifySchemaChanged(rV),200);ig.onDidChange(()=>{g4.isScheduled()||g4.schedule()});const lV=_i("widget-close",se.close,f("vs/platform/theme/common/iconRegistry","widgetClose","Icon for the close action in widgets."));_i("goto-previous-location",se.arrowUp,f("vs/platform/theme/common/iconRegistry","previousChangeIcon","Icon for goto previous editor location."));_i("goto-next-location",se.arrowDown,f("vs/platform/theme/common/iconRegistry","nextChangeIcon","Icon for goto next editor location."));Ie.modify(se.sync,"spin");Ie.modify(se.loading,"spin");function Ore(s){const e=new Y,t=e.add(new M),i=sV();return e.add(i.onDidChange(()=>t.fire())),s&&e.add(s.onDidProductIconThemeChange(()=>t.fire())),{dispose:()=>e.dispose(),onDidChange:t.event,getCSS(){const n=s?s.getProductIconTheme():new cV,o={},r=l=>{const c=n.getIcon(l);if(!c)return;const d=c.font;return d?(o[d.id]=d.definition,`.codicon-${l.id}:before { content: '${c.fontCharacter}'; font-family: ${r2(d.id)}; }`):`.codicon-${l.id}:before { content: '${c.fontCharacter}'; }`},a=[];for(const l of i.getIcons()){const c=r(l);c&&a.push(c)}for(const l in o){const c=o[l],d=c.weight?`font-weight: ${c.weight};`:"",u=c.style?`font-style: ${c.style};`:"",h=c.src.map(g=>`${kd(g.location)} format('${g.format}')`).join(", ");a.push(`@font-face { src: ${h}; font-family: ${r2(l)};${d}${u} font-display: block; }`)}return a.join(`
`)}}}class cV{getIcon(e){const t=sV();let i=e.defaults;for(;Ie.isThemeIcon(i);){const n=t.getIcon(i.id);if(!n)return;i=n.defaults}return i}}const Wl="vs",Ff="vs-dark",oh="hc-black",sh="hc-light",dV=Jt.as(M3.ColorContribution),Fre=Jt.as(Y3.ThemingContribution);class uV{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;const i=t.base;e.length>0?(aC(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(const t in this.themeData.colors)e.set(t,V.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){const t=HT(this.themeData.base);for(const i in t.colors)e.has(i)||e.set(i,V.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);if(i)return i;if(t!==!1)return this.getDefault(e)}getDefault(e){let t=this.defaultColors[e];return t||(t=dV.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return this.getColors().has(e)}get type(){switch(this.base){case Wl:return Is.LIGHT;case oh:return Is.HIGH_CONTRAST_DARK;case sh:return Is.HIGH_CONTRAST_LIGHT;default:return Is.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){const o=HT(this.themeData.base);e=o.rules,o.encodedTokensColors&&(t=o.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],n=this.themeData.colors["editor.background"];if(i||n){const o={token:""};i&&(o.foreground=i),n&&(o.background=n),e.push(o)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=oV.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const o=this.tokenTheme._match([e].concat(t).join(".")).metadata,r=Ln.getForeground(o),a=Ln.getFontStyle(o);return{foreground:r,italic:!!(a&1),bold:!!(a&2),underline:!!(a&4),strikethrough:!!(a&8)}}}function aC(s){return s===Wl||s===Ff||s===oh||s===sh}function HT(s){switch(s){case Wl:return Tre;case Ff:return Ere;case oh:return Nre;case sh:return Are}}function iw(s){const e=HT(s);return new uV(s,e)}class Bre extends H{constructor(){super(),this._onColorThemeChange=this._register(new M),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new M),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new cV,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Wl,iw(Wl)),this._knownThemes.set(Ff,iw(Ff)),this._knownThemes.set(oh,iw(oh)),this._knownThemes.set(sh,iw(sh));const e=this._register(Ore(this));this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Wl),this._onOSSchemeChanged(),this._register(e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()})),xW("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(e){return RC(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=Os(void 0,e=>{e.className="monaco-colors",e.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),H.None}_registerShadowDomContainer(e){const t=Os(e,i=>{i.className="monaco-colors",i.textContent=this._allCSS});return this._styleElements.push(t),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===t){this._styleElements.splice(i,1);return}}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!aC(t.base)&&!aC(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new uV(e,t)),aC(e)&&this._knownThemes.forEach(i=>{i.base===e&&i.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;this._knownThemes.has(e)?t=this._knownThemes.get(e):t=this._knownThemes.get(Wl),this._updateActualTheme(t)}_updateActualTheme(e){!e||this._theme===e||(this._theme=e,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const e=window.matchMedia("(forced-colors: active)").matches;if(e!==Qr(this._theme.type)){let t;nm(this._theme.type)?t=e?oh:Ff:t=e?sh:Wl,this._updateActualTheme(this._knownThemes.get(t))}}}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const e=[],t={},i={addRule:r=>{t[r]||(e.push(r),t[r]=!0)}};Fre.getThemingParticipants().forEach(r=>r(this._theme,i,this._environment));const n=[];for(const r of dV.getColors()){const a=this._theme.getColor(r.id,!0);a&&n.push(`${qA(r.id)}: ${a.toString()};`)}i.addRule(`.monaco-editor, .monaco-diff-editor { ${n.join(`
`)} }`);const o=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(Ire(o)),this._themeCSS=e.join(`
`),this._updateCSS(),ei.setColorMap(o),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}const bs=et("themeService");var Wre=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ux=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let zT=class extends H{constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new M,this._onDidChangeReducedMotion=new M,this._accessibilityModeEnabledContext=Iv.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(r=>{r.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire()),r.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),n(),this._register(this.onDidChangeScreenReaderOptimized(()=>n()));const o=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=o.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(o)}initReducedMotionListeners(e){if(!this._layoutService.hasContainer)return;this._register($(e,"change",()=>{this._systemMotionReduced=e.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const t=()=>{const i=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",i),this._layoutService.container.classList.toggle("enable-motion",!i)};t(),this._register(this.onDidChangeReducedMotion(()=>t()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return e==="on"||e==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};zT=Wre([ux(0,Me),ux(1,zm),ux(2,ot)],zT);var Ny=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},kh=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Pg,Rc;let UT=class{constructor(e,t){this._commandService=e,this._hiddenStates=new O1(t)}createMenu(e,t,i){return new jT(e,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},i),this._commandService,t)}resetHiddenStates(e){this._hiddenStates.reset(e)}};UT=Ny([kh(0,ci),kh(1,_r)],UT);let O1=Pg=class{constructor(e){this._storageService=e,this._disposables=new Y,this._onDidChange=new M,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const t=e.get(Pg._key,0,"{}");this._data=JSON.parse(t)}catch(t){this._data=Object.create(null)}this._disposables.add(e.onDidChangeValue(0,Pg._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const t=e.get(Pg._key,0,"{}");this._data=JSON.parse(t)}catch(t){console.log("FAILED to read storage after UPDATE",t)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(e,t){var i;return(i=this._hiddenByDefaultCache.get(`${e.id}/${t}`))!==null&&i!==void 0?i:!1}setDefaultState(e,t,i){this._hiddenByDefaultCache.set(`${e.id}/${t}`,i)}isHidden(e,t){var i,n;const o=this._isHiddenByDefault(e,t),r=(n=(i=this._data[e.id])===null||i===void 0?void 0:i.includes(t))!==null&&n!==void 0?n:!1;return o?!r:r}updateHidden(e,t,i){this._isHiddenByDefault(e,t)&&(i=!i);const o=this._data[e.id];if(i)o?o.indexOf(t)<0&&o.push(t):this._data[e.id]=[t];else if(o){const r=o.indexOf(t);r>=0&&jH(o,r),o.length===0&&delete this._data[e.id]}this._persist()}reset(e){if(e===void 0)this._data=Object.create(null),this._persist();else{for(const{id:t}of e)this._data[t]&&delete this._data[t];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const e=JSON.stringify(this._data);this._storageService.store(Pg._key,e,0,0)}finally{this._ignoreChangeEvent=!1}}};O1._key="menu.hiddenCommands";O1=Pg=Ny([kh(0,_r)],O1);let $T=Rc=class{constructor(e,t,i,n,o){this._id=e,this._hiddenStates=t,this._collectContextKeysForSubmenus=i,this._commandService=n,this._contextKeyService=o,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const e=hn.getMenuItems(this._id);let t;e.sort(Rc._compareMenuItems);for(const i of e){const n=i.group||"";(!t||t[0]!==n)&&(t=[n,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeys(i)}}_collectContextKeys(e){if(Rc._fillInKbExprKeys(e.when,this._structureContextKeys),Ug(e)){if(e.command.precondition&&Rc._fillInKbExprKeys(e.command.precondition,this._preconditionContextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;Rc._fillInKbExprKeys(t,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&hn.getMenuItems(e.submenu).forEach(this._collectContextKeys,this)}createActionGroups(e){const t=[];for(const i of this._menuGroups){const[n,o]=i,r=[];for(const a of o)if(this._contextKeyService.contextMatchesRules(a.when)){const l=Ug(a);l&&this._hiddenStates.setDefaultState(this._id,a.command.id,!!a.isHiddenByDefault);const c=Vre(this._id,l?a.command:a,this._hiddenStates);if(l)r.push(new dr(a.command,a.alt,e,c,this._contextKeyService,this._commandService));else{const d=new Rc(a.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(e),u=tn.join(...d.map(h=>h[1]));u.length>0&&r.push(new Yb(a,c,u))}}r.length>0&&t.push([n,r])}return t}static _fillInKbExprKeys(e,t){if(e)for(const i of e.keys())t.add(i)}static _compareMenuItems(e,t){const i=e.group,n=t.group;if(i!==n){if(i){if(!n)return-1}else return 1;if(i==="navigation")return-1;if(n==="navigation")return 1;const a=i.localeCompare(n);if(a!==0)return a}const o=e.order||0,r=t.order||0;return o<r?-1:o>r?1:Rc._compareTitles(Ug(e)?e.command.title:e.title,Ug(t)?t.command.title:t.title)}static _compareTitles(e,t){const i=typeof e=="string"?e:e.original,n=typeof t=="string"?t:t.original;return i.localeCompare(n)}};$T=Rc=Ny([kh(3,ci),kh(4,Me)],$T);let jT=class{constructor(e,t,i,n,o){this._disposables=new Y,this._menuInfo=new $T(e,t,i.emitEventsForSubmenuChanges,n,o);const r=new xt(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},i.eventDebounceDelay);this._disposables.add(r),this._disposables.add(hn.onDidChangeMenu(d=>{d.has(e)&&r.schedule()}));const a=this._disposables.add(new Y),l=d=>{let u=!1,h=!1,g=!1;for(const m of d)if(u=u||m.isStructuralChange,h=h||m.isEnablementChange,g=g||m.isToggleChange,u&&h&&g)break;return{menu:this,isStructuralChange:u,isEnablementChange:h,isToggleChange:g}},c=()=>{a.add(o.onDidChangeContext(d=>{const u=d.affectsSome(this._menuInfo.structureContextKeys),h=d.affectsSome(this._menuInfo.preconditionContextKeys),g=d.affectsSome(this._menuInfo.toggledContextKeys);(u||h||g)&&this._onDidChange.fire({menu:this,isStructuralChange:u,isEnablementChange:h,isToggleChange:g})})),a.add(t.onDidChange(d=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new oW({onWillAddFirstListener:c,onDidRemoveLastListener:a.clear.bind(a),delay:i.eventDebounceDelay,merge:l}),this.onDidChange=this._onDidChange.event}getActions(e){return this._menuInfo.createActionGroups(e)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};jT=Ny([kh(3,ci),kh(4,Me)],jT);function Vre(s,e,t){const i=O$(e)?e.submenu.id:e.id,n=typeof e.title=="string"?e.title:e.title.value,o=bf({id:`hide/${s.id}/${i}`,label:f("vs/platform/actions/common/menuService","hide.label","Hide '{0}'",n),run(){t.updateHidden(s,i,!0)}}),r=bf({id:`toggle/${s.id}/${i}`,label:n,get checked(){return!t.isHidden(s,i)},run(){t.updateHidden(s,i,!!this.checked)}});return{hide:o,toggle:r,get isHidden(){return!r.checked}}}var Hre=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},f4=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},pu=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};let KT=class extends H{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],(ac||DW)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const e=()=>{const t=new VS;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(i=>pu(this,void 0,void 0,function*(){(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register($(this.layoutService.container,"click",e)),this._register($(this.layoutService.container,"keydown",e)))}writeText(e,t){return pu(this,void 0,void 0,function*(){if(t){this.mapTextToType.set(t,e);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return yield navigator.clipboard.writeText(e)}catch(o){console.error(o)}const i=document.activeElement,n=document.body.appendChild(te("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)})}readText(e){return pu(this,void 0,void 0,function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}})}readFindText(){return pu(this,void 0,void 0,function*(){return this.findText})}writeFindText(e){return pu(this,void 0,void 0,function*(){this.findText=e})}writeResources(e){return pu(this,void 0,void 0,function*(){this.resources=e})}readResources(){return pu(this,void 0,void 0,function*(){return this.resources})}};KT=Hre([f4(0,zm),f4(1,ps)],KT);const pc=et("clipboardService");var zre=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ure=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};const xb="data-keybinding-context";let hM=class{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return Object.assign({},this._value)}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){const t=this._value[e];return typeof t=="undefined"&&this._parent?this._parent.getValue(e):t}};class mm extends hM{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}mm.INSTANCE=new mm;class B_ extends hM{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=Rf.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(n=>{if(n.source===7){const o=Array.from(this._values,([r])=>r);this._values.clear(),i.fire(new p4(o))}else{const o=[];for(const r of n.affectedKeys){const a=`config.${r}`,l=this._values.findSuperstr(a);l!==void 0&&(o.push(...Ye.map(l,([c])=>c)),this._values.deleteSuperstr(a)),this._values.has(a)&&(o.push(a),this._values.delete(a))}i.fire(new p4(o))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(B_._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(B_._keyPrefix.length),i=this._configurationService.getValue(t);let n;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:Array.isArray(i)?n=JSON.stringify(i):n=i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}B_._keyPrefix="config.";class $re{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class m4{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class p4{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every(t=>e.has(t))}}class jre{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every(t=>t.allKeysContainedIn(e))}}function Kre(s,e){return s.allKeysContainedIn(new Set(Object.keys(e)))}class hV extends H{constructor(e){super(),this._onDidChangeContext=this._register(new dh({merge:t=>new jre(t)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new $re(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new qre(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return e?e.evaluate(t):!0}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new m4(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new m4(e))}getContext(e){return this._isDisposed?mm.INSTANCE:this.getContextValuesContainer(Gre(e))}dispose(){super.dispose(),this._isDisposed=!0}}let qT=class extends hV{constructor(e){super(0),this._contexts=new Map,this._lastContextId=0;const t=this._register(new B_(this._myContextId,e,this._onDidChangeContext));this._contexts.set(this._myContextId,t)}getContextValuesContainer(e){return this._isDisposed?mm.INSTANCE:this._contexts.get(e)||mm.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new hM(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};qT=zre([Ure(0,ot)],qT);class qre extends hV{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=this._register(new pn),this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(xb)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${i?": "+i:""}`)}this._domNode.setAttribute(xb,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(e=>{const i=this._parent.getContextValuesContainer(this._myContextId).value;Kre(e,i)||this._onDidChangeContext.fire(e)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(xb),super.dispose())}getContextValuesContainer(e){return this._isDisposed?mm.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}function Gre(s){for(;s;){if(s.hasAttribute(xb)){const e=s.getAttribute(xb);return e?parseInt(e,10):NaN}s=s.parentElement}return 0}function Zre(s,e,t){s.get(Me).createKey(String(e),Qre(t))}function Qre(s){return j5(s,e=>{if(typeof e=="object"&&e.$mid===1)return De.revive(e).toString();if(e instanceof De)return e.toString()})}lt.registerCommand("_setContext",Zre);lt.registerCommand({id:"getContextKeyInfo",handler(){return[...de.all()].sort((s,e)=>s.key.localeCompare(e.key))},description:{description:f("vs/platform/contextkey/browser/contextKeyService","getContextKeyInfo","A command that returns information about context keys"),args:[]}});lt.registerCommand("_generateContextKeyInfo",function(){const s=[],e=new Set;for(const t of de.all())e.has(t.key)||(e.add(t.key),s.push(t));s.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(s,void 0,2))});let Yre=class{constructor(e,t){this.key=e,this.data=t,this.incoming=new Map,this.outgoing=new Map}};class b4{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(n.key,n),n.incoming.set(i.key,i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new Yre(t,e),this._nodes.set(t,i)),i}isEmpty(){return this._nodes.size===0}toString(){const e=[];for(const[t,i]of this._nodes)e.push(`${t}
	(-> incoming)[${[...i.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...i.outgoing.keys()].join(",")}]
`);return e.join(`
`)}findCycleSlow(){for(const[e,t]of this._nodes){const i=new Set([e]),n=this._findCycle(t,i);if(n)return n}}_findCycle(e,t){for(const[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const o=this._findCycle(n,t);if(o)return o;t.delete(i)}}}const Xre=!1;class _4 extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=(t=e.findCycleSlow())!==null&&t!==void 0?t:`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}}class F1{constructor(e=new cy,t=!1,i,n=Xre){var o;this._services=e,this._strict=t,this._parent=i,this._enableTracing=n,this._activeInstantiations=new Set,this._services.set(Ae,this),this._globalGraph=n?(o=i==null?void 0:i._globalGraph)!==null&&o!==void 0?o:new b4(r=>r):void 0}createChild(e){return new F1(e,this._strict,this,this._enableTracing)}invokeFunction(e,...t){const i=_o.traceInvocation(this._enableTracing,e);let n=!1;try{return e({get:r=>{if(n)throw uA("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(r,i);if(!a)throw new Error(`[invokeFunction] unknown service '${r}'`);return a}},...t)}finally{n=!0,i.stop()}}createInstance(e,...t){let i,n;return e instanceof ya?(i=_o.traceCreation(this._enableTracing,e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=_o.traceCreation(this._enableTracing,e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){const n=Ur.getServiceDependencies(e).sort((a,l)=>a.index-l.index),o=[];for(const a of n){const l=this._getOrCreateServiceInstance(a.id,i);l||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`,!1),o.push(l)}const r=n.length>0?n[0].index:t.length;if(t.length!==r){console.trace(`[createInstance] First service dependency of ${e.name} at position ${r+1} conflicts with ${t.length} static arguments`);const a=r-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,r)}return Reflect.construct(e,t.concat(o))}_setServiceInstance(e,t){if(this._services.get(e)instanceof ya)this._services.set(e,t);else if(this._parent)this._parent._setServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(e));const i=this._getServiceInstanceOrDescriptor(e);return i instanceof ya?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){var n;const o=new b4(l=>l.id.toString());let r=0;const a=[{id:e,desc:t,_trace:i}];for(;a.length;){const l=a.pop();if(o.lookupOrInsertNode(l),r++>1e3)throw new _4(o);for(const c of Ur.getServiceDependencies(l.desc.ctor)){const d=this._getServiceInstanceOrDescriptor(c.id);if(d||this._throwIfStrict(`[createInstance] ${e} depends on ${c.id} which is NOT registered.`,!0),(n=this._globalGraph)===null||n===void 0||n.insertEdge(String(l.id),String(c.id)),d instanceof ya){const u={id:c.id,desc:d,_trace:l._trace.branch(c.id,!0)};o.insertEdge(l,u),a.push(u)}}}for(;;){const l=o.roots();if(l.length===0){if(!o.isEmpty())throw new _4(o);break}for(const{data:c}of l){if(this._getServiceInstanceOrDescriptor(c.id)instanceof ya){const u=this._createServiceInstanceWithOwner(c.id,c.desc.ctor,c.desc.staticArguments,c.desc.supportsDelayedInstantiation,c._trace);this._setServiceInstance(c.id,u)}o.removeNode(c)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,o){if(this._services.get(e)instanceof ya)return this._createServiceInstance(e,t,i,n,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,o);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t,i=[],n,o){if(n){const r=new F1(void 0,this._strict,this,this._enableTracing);r._globalGraphImplicitDependency=String(e);const a=new Map,l=new Hw(()=>{const c=r._createInstance(t,i,o);for(const[d,u]of a){const h=c[d];if(typeof h=="function")for(const g of u)h.apply(c,g)}return a.clear(),c});return new Proxy(Object.create(null),{get(c,d){if(!l.isInitialized&&typeof d=="string"&&(d.startsWith("onDid")||d.startsWith("onWill"))){let g=a.get(d);return g||(g=new oo,a.set(d,g)),(p,_,b)=>{const v=g.push([p,_,b]);return Re(v)}}if(d in c)return c[d];const u=l.value;let h=u[d];return typeof h!="function"||(h=h.bind(u),c[d]=h),h},set(c,d,u){return l.value[d]=u,!0},getPrototypeOf(c){return t.prototype}})}else return this._createInstance(t,i,o)}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}class _o{static traceInvocation(e,t){return e?new _o(2,t.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):_o._None}static traceCreation(e,t){return e?new _o(1,t.name):_o._None}constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}branch(e,t){const i=new _o(3,e.toString());return this._dep.push([e,t,i]),i}stop(){const e=Date.now()-this._start;_o._totals+=e;let t=!1;function i(o,r){const a=[],l=new Array(o+1).join("	");for(const[c,d,u]of r._dep)if(d&&u){t=!0,a.push(`${l}CREATES -> ${c}`);const h=i(o+1,u);h&&a.push(h)}else a.push(`${l}uses -> ${c}`);return a.join(`
`)}const n=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${_o._totals.toFixed(2)}ms)`];(e>2||t)&&_o.all.add(n.join(`
`))}}_o.all=new Set;_o._None=new class extends _o{constructor(){super(0,null)}stop(){}branch(){return this}};_o._totals=0;const Jre=new Set([qe.inMemory,qe.vscodeSourceControl,qe.walkThrough,qe.walkThroughSnippet]);class eae{constructor(){this._byResource=new On,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let o=this._byOwner.get(t);o||(o=new On,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){const i=this._byResource.get(e);return i==null?void 0:i.get(t)}delete(e,t){let i=!1,n=!1;const o=this._byResource.get(e);o&&(i=o.delete(t));const r=this._byOwner.get(t);if(r&&(n=r.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i,n,o;return typeof e=="string"?(i=(t=this._byOwner.get(e))===null||t===void 0?void 0:t.values())!==null&&i!==void 0?i:Ye.empty():De.isUri(e)?(o=(n=this._byResource.get(e))===null||n===void 0?void 0:n.values())!==null&&o!==void 0?o:Ye.empty():Ye.map(Ye.concat(...this._byOwner.values()),r=>r[1])}}class tae{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new On,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const i=this._data.get(t);i&&this._substract(i);const n=this._resourceStats(t);this._add(n),this._data.set(t,n)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(Jre.has(e.scheme))return t;for(const{severity:i}of this._service.read({resource:e}))i===ni.Error?t.errors+=1:i===ni.Warning?t.warnings+=1:i===ni.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class Pc{constructor(){this._onMarkerChanged=new oW({delay:0,merge:Pc._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new eae,this._stats=new tae(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(W5(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const n=[];for(const o of i){const r=Pc._toMarker(e,t,o);r&&n.push(r)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:n,severity:o,message:r,source:a,startLineNumber:l,startColumn:c,endLineNumber:d,endColumn:u,relatedInformation:h,tags:g}=i;if(r)return l=l>0?l:1,c=c>0?c:1,d=d>=l?d:l,u=u>0?u:c,{resource:t,owner:e,code:n,severity:o,message:r,source:a,startLineNumber:l,startColumn:c,endLineNumber:d,endColumn:u,relatedInformation:h,tags:g}}changeAll(e,t){const i=[],n=this._data.values(e);if(n)for(const o of n){const r=Ye.first(o);r&&(i.push(r.resource),this._data.delete(r.resource,e))}if(Bn(t)){const o=new On;for(const{resource:r,marker:a}of t){const l=Pc._toMarker(e,r,a);if(!l)continue;const c=o.get(r);c?c.push(l):(o.set(r,[l]),i.push(r))}for(const[r,a]of o)this._data.set(r,e,a)}i.length>0&&this._onMarkerChanged.fire(i)}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){const r=this._data.get(i,t);if(r){const a=[];for(const l of r)if(Pc._accept(l,n)){const c=a.push(l);if(o>0&&c===o)break}return a}else return[]}else if(!t&&!i){const r=[];for(const a of this._data.values())for(const l of a)if(Pc._accept(l,n)){const c=r.push(l);if(o>0&&c===o)return r}return r}else{const r=this._data.values(i!=null?i:t),a=[];for(const l of r)for(const c of l)if(Pc._accept(c,n)){const d=a.push(c);if(o>0&&d===o)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){const t=new On;for(const i of e)for(const n of i)t.set(n,!0);return Array.from(t.keys())}}class iae extends H{constructor(){super(...arguments),this._configurationModel=new Rn}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new Rn;const e=Jt.as(la.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(e),e)}updateConfigurationModel(e,t){const i=this.getConfigurationDefaultOverrides();for(const n of e){const o=i[n],r=t[n];o!==void 0?this._configurationModel.addValue(n,o):r?this._configurationModel.addValue(n,r.default):this._configurationModel.removeValue(n)}}}const Kv=et("audioCue");class Ge{static register(e){return new Ge(e.fileName)}constructor(e){this.fileName=e}}Ge.error=Ge.register({fileName:"error.mp3"});Ge.warning=Ge.register({fileName:"warning.mp3"});Ge.foldedArea=Ge.register({fileName:"foldedAreas.mp3"});Ge.break=Ge.register({fileName:"break.mp3"});Ge.quickFixes=Ge.register({fileName:"quickFixes.mp3"});Ge.taskCompleted=Ge.register({fileName:"taskCompleted.mp3"});Ge.taskFailed=Ge.register({fileName:"taskFailed.mp3"});Ge.terminalBell=Ge.register({fileName:"terminalBell.mp3"});Ge.diffLineInserted=Ge.register({fileName:"diffLineInserted.mp3"});Ge.diffLineDeleted=Ge.register({fileName:"diffLineDeleted.mp3"});Ge.diffLineModified=Ge.register({fileName:"diffLineModified.mp3"});Ge.chatRequestSent=Ge.register({fileName:"chatRequestSent.mp3"});Ge.chatResponsePending=Ge.register({fileName:"chatResponsePending.mp3"});Ge.chatResponseReceived1=Ge.register({fileName:"chatResponseReceived1.mp3"});Ge.chatResponseReceived2=Ge.register({fileName:"chatResponseReceived2.mp3"});Ge.chatResponseReceived3=Ge.register({fileName:"chatResponseReceived3.mp3"});Ge.chatResponseReceived4=Ge.register({fileName:"chatResponseReceived4.mp3"});class nae{constructor(e){this.randomOneOf=e}}class ht{static register(e){const t=new nae("randomOneOf"in e.sound?e.sound.randomOneOf:[e.sound]),i=new ht(t,e.name,e.settingsKey);return ht._audioCues.add(i),i}constructor(e,t,i){this.sound=e,this.name=t,this.settingsKey=i}}ht._audioCues=new Set;ht.error=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.lineHasError.name","Error on Line"),sound:Ge.error,settingsKey:"audioCues.lineHasError"});ht.warning=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.lineHasWarning.name","Warning on Line"),sound:Ge.warning,settingsKey:"audioCues.lineHasWarning"});ht.foldedArea=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:Ge.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"});ht.break=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:Ge.break,settingsKey:"audioCues.lineHasBreakpoint"});ht.inlineSuggestion=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:Ge.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"});ht.terminalQuickFix=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:Ge.quickFixes,settingsKey:"audioCues.terminalQuickFix"});ht.onDebugBreak=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:Ge.break,settingsKey:"audioCues.onDebugBreak"});ht.noInlayHints=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.noInlayHints","No Inlay Hints on Line"),sound:Ge.error,settingsKey:"audioCues.noInlayHints"});ht.taskCompleted=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.taskCompleted","Task Completed"),sound:Ge.taskCompleted,settingsKey:"audioCues.taskCompleted"});ht.taskFailed=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.taskFailed","Task Failed"),sound:Ge.taskFailed,settingsKey:"audioCues.taskFailed"});ht.terminalCommandFailed=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.terminalCommandFailed","Terminal Command Failed"),sound:Ge.error,settingsKey:"audioCues.terminalCommandFailed"});ht.terminalBell=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.terminalBell","Terminal Bell"),sound:Ge.terminalBell,settingsKey:"audioCues.terminalBell"});ht.notebookCellCompleted=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:Ge.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"});ht.notebookCellFailed=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.notebookCellFailed","Notebook Cell Failed"),sound:Ge.taskFailed,settingsKey:"audioCues.notebookCellFailed"});ht.diffLineInserted=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.diffLineInserted","Diff Line Inserted"),sound:Ge.diffLineInserted,settingsKey:"audioCues.diffLineInserted"});ht.diffLineDeleted=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.diffLineDeleted","Diff Line Deleted"),sound:Ge.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"});ht.diffLineModified=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.diffLineModified","Diff Line Modified"),sound:Ge.diffLineModified,settingsKey:"audioCues.diffLineModified"});ht.chatRequestSent=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.chatRequestSent","Chat Request Sent"),sound:Ge.chatRequestSent,settingsKey:"audioCues.chatRequestSent"});ht.chatResponseReceived=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.chatResponseReceived","Chat Response Received"),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[Ge.chatResponseReceived1,Ge.chatResponseReceived2,Ge.chatResponseReceived3,Ge.chatResponseReceived4]}});ht.chatResponsePending=ht.register({name:f("vs/platform/audioCues/browser/audioCueService","audioCues.chatResponsePending","Chat Response Pending"),sound:Ge.chatResponsePending,settingsKey:"audioCues.chatResponsePending"});class oae extends H{constructor(e,t=[]){super(),this.logger=new B$([e,...t]),this._register(e.onDidChangeLogLevel(i=>this.setLevel(i)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(e){this.logger.setLevel(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}warn(e,...t){this.logger.warn(e,...t)}error(e,...t){this.logger.error(e,...t)}}const gV=[];function Ay(s){gV.push(s)}function sae(){return gV.slice(0)}var tu=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},un=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Bf=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class rae{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new M}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let GT=class{constructor(e){this.modelService=e}createModelReference(e){const t=this.modelService.getModel(e);return t?Promise.resolve(new cU(new rae(t))):Promise.reject(new Error("Model not found"))}};GT=tu([un(0,Qt)],GT);class Ry{show(){return Ry.NULL_PROGRESS_RUNNER}showWhile(e,t){return Bf(this,void 0,void 0,function*(){yield e})}}Ry.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class aae{withProgress(e,t,i){return t({report:()=>{}})}}class lae{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class cae{confirm(e){return Bf(this,void 0,void 0,function*(){return{confirmed:this.doConfirm(e.message,e.detail),checkboxChecked:!1}})}doConfirm(e,t){let i=e;return t&&(i=i+`

`+t),window.confirm(i)}prompt(e){var t,i;return Bf(this,void 0,void 0,function*(){let n;if(this.doConfirm(e.message,e.detail)){const r=[...(t=e.buttons)!==null&&t!==void 0?t:[]];e.cancelButton&&typeof e.cancelButton!="string"&&typeof e.cancelButton!="boolean"&&r.push(e.cancelButton),n=yield(i=r[0])===null||i===void 0?void 0:i.run({checkboxChecked:!1})}return{result:n}})}error(e,t){return Bf(this,void 0,void 0,function*(){yield this.prompt({type:mi.Error,message:e,detail:t})})}}class W_{info(e){return this.notify({severity:mi.Info,message:e})}warn(e){return this.notify({severity:mi.Warning,message:e})}error(e){return this.notify({severity:mi.Error,message:e})}notify(e){switch(e.severity){case mi.Error:console.error(e.message);break;case mi.Warning:console.warn(e.message);break;default:console.log(e.message);break}return W_.NO_OP}prompt(e,t,i,n){return W_.NO_OP}status(e,t){return H.None}}W_.NO_OP=new gte;let ZT=class{constructor(e){this._onWillExecuteCommand=new M,this._onDidExecuteCommand=new M,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=lt.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(n)}catch(n){return Promise.reject(n)}}};ZT=tu([un(0,Ae)],ZT);let pm=class extends Cie{constructor(e,t,i,n,o,r){super(e,t,i,n,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const a=g=>{const m=new Y;m.add($(g,ae.KEY_DOWN,p=>{const _=new Wt(p);this._dispatch(_,_.target)&&(_.preventDefault(),_.stopPropagation())})),m.add($(g,ae.KEY_UP,p=>{const _=new Wt(p);this._singleModifierDispatch(_,_.target)&&_.preventDefault()})),this._domNodeListeners.push(new dae(g,m))},l=g=>{for(let m=0;m<this._domNodeListeners.length;m++){const p=this._domNodeListeners[m];p.domNode===g&&(this._domNodeListeners.splice(m,1),p.dispose())}},c=g=>{g.getOption(61)||a(g.getContainerDomNode())},d=g=>{g.getOption(61)||l(g.getContainerDomNode())};this._register(r.onCodeEditorAdd(c)),this._register(r.onCodeEditorRemove(d)),r.listCodeEditors().forEach(c);const u=g=>{a(g.getContainerDomNode())},h=g=>{l(g.getContainerDomNode())};this._register(r.onDiffEditorAdd(u)),this._register(r.onDiffEditorRemove(h)),r.listDiffEditors().forEach(u)}addDynamicKeybinding(e,t,i,n){return rr(lt.registerCommand(e,i),this.addDynamicKeybindings([{keybinding:t,command:e,when:n}]))}addDynamicKeybindings(e){const t=e.map(i=>{var n;return{keybinding:YD(i.keybinding,ns),command:(n=i.command)!==null&&n!==void 0?n:null,commandArgs:i.commandArgs,when:i.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(t),this.updateResolver(),Re(()=>{for(let i=0;i<this._dynamicKeybindings.length;i++)if(this._dynamicKeybindings[i]===t[0]){this._dynamicKeybindings.splice(i,t.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(yo.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Lb(e,t,i=>this._log(i))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){const i=[];let n=0;for(const o of e){const r=o.when||void 0,a=o.keybinding;if(!a)i[n++]=new TF(void 0,o.command,o.commandArgs,r,t,null,!1);else{const l=L_.resolveKeybinding(a,ns);for(const c of l)i[n++]=new TF(c,o.command,o.commandArgs,r,t,null,!1)}}return i}resolveKeyboardEvent(e){const t=new lc(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new L_([t],ns)}};pm=tu([un(0,Me),un(1,ci),un(2,ms),un(3,Li),un(4,ps),un(5,bt)],pm);class dae extends H{constructor(e,t){super(),this.domNode=e,this._register(t)}}function v4(s){return s&&typeof s=="object"&&(!s.overrideIdentifier||typeof s.overrideIdentifier=="string")&&(!s.resource||s.resource instanceof De)}class fV{constructor(){this._onDidChangeConfiguration=new M,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const e=new iae;this._configuration=new gy(e.reload(),new Rn,new Rn,new Rn),e.dispose()}getValue(e,t){const i=typeof e=="string"?e:void 0,n=v4(e)?e:v4(t)?t:{};return this._configuration.getValue(i,n,void 0)}updateValues(e){const t={data:this._configuration.toData()},i=[];for(const n of e){const[o,r]=n;this.getValue(o)!==r&&(this._configuration.updateValue(o,r),i.push(o))}if(i.length>0){const n=new bie({keys:i,overrides:[]},t,this._configuration);n.source=8,n.sourceConfig=null,this._onDidChangeConfiguration.fire(n)}return Promise.resolve()}updateValue(e,t,i,n){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}}let QT=class{constructor(e,t,i){this.configurationService=e,this.modelService=t,this.languageService=i,this._onDidChangeConfiguration=new M,this.configurationService.onDidChangeConfiguration(n=>{this._onDidChangeConfiguration.fire({affectedKeys:n.affectedKeys,affectsConfiguration:(o,r)=>n.affectsConfiguration(r)})})}getValue(e,t,i){const n=P.isIPosition(t)?t:null,o=n?typeof i=="string"?i:void 0:typeof t=="string"?t:void 0,r=e?this.getLanguage(e,n):void 0;return typeof o=="undefined"?this.configurationService.getValue({resource:e,overrideIdentifier:r}):this.configurationService.getValue(o,{resource:e,overrideIdentifier:r})}getLanguage(e,t){const i=this.modelService.getModel(e);return i?t?i.getLanguageIdAtPosition(t.lineNumber,t.column):i.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(e)}};QT=tu([un(0,ot),un(1,Qt),un(2,qt)],QT);let YT=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&typeof i=="string"&&i!=="auto"?i:Qn||at?`
`:`\r
`}};YT=tu([un(0,ot)],YT);class uae{publicLog2(){}}class V_{constructor(){const e=De.from({scheme:V_.SCHEME,authority:"model",path:"/"});this.workspace={id:s7,folders:[new Oie({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(e){return e&&e.scheme===V_.SCHEME?this.workspace.folders[0]:null}}V_.SCHEME="inmemory";function B1(s,e,t){if(!e||!(s instanceof fV))return;const i=[];Object.keys(e).forEach(n=>{hie(n)&&i.push([`editor.${n}`,e[n]]),t&&gie(n)&&i.push([`diffEditor.${n}`,e[n]])}),i.length>0&&s.updateValues(i)}let XT=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return Bf(this,void 0,void 0,function*(){const i=Array.isArray(e)?e:ER.convert(e),n=new Map;for(const a of i){if(!(a instanceof Jl))throw new Error("bad edit - only text edits are supported");const l=this._modelService.getModel(a.resource);if(!l)throw new Error("bad edit - model not found");if(typeof a.versionId=="number"&&l.getVersionId()!==a.versionId)throw new Error("bad state - model changed in the meantime");let c=n.get(l);c||(c=[],n.set(l,c)),c.push(Zt.replaceMove(k.lift(a.textEdit.range),a.textEdit.text))}let o=0,r=0;for(const[a,l]of n)a.pushStackElement(),a.pushEditOperations([],l,()=>[]),a.pushStackElement(),r+=1,o+=l.length;return{ariaSummary:uh(iT.bulkEditServiceSummary,o,r),isApplied:o>0}})}};XT=tu([un(0,Qt)],XT);class hae{getUriLabel(e,t){return e.scheme==="file"?e.fsPath:e.path}getUriBasenameLabel(e){return Ws(e)}}let JT=class extends nT{constructor(e,t){super(e),this._codeEditorService=t}showContextView(e,t,i){if(!t){const n=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();n&&(t=n.getContainerDomNode())}return super.showContextView(e,t,i)}};JT=tu([un(0,zm),un(1,bt)],JT);class gae{constructor(){this._neverEmitter=new M,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class fae extends I_{constructor(){super()}}class mae extends oae{constructor(){super(new F$)}}let eE=class extends CT{constructor(e,t,i,n,o,r){super(e,t,i,n,o,r),this.configure({blockMouse:!1})}};eE=tu([un(0,ms),un(1,Li),un(2,gc),un(3,Et),un(4,dl),un(5,Me)],eE);class pae{playAudioCue(e,t){return Bf(this,void 0,void 0,function*(){})}}ct(ot,fV,0);ct(VA,QT,0);ct(x3,YT,0);ct(vh,V_,0);ct(cm,hae,0);ct(ms,uae,0);ct(Fv,cae,0);ct(DR,lae,0);ct(Li,W_,0);ct(gl,Pc,0);ct(qt,fae,0);ct(bs,Bre,0);ct(ps,mae,0);ct(Qt,I1,0);ct(KA,xT,0);ct(Me,qT,0);ct(o7,aae,0);ct(eu,Ry,0);ct(_r,koe,0);ct(vr,hI,0);ct(Bv,XT,0);ct(r7,gae,0);ct(xo,GT,0);ct(hc,zT,0);ct($s,Vse,0);ct(ci,ZT,0);ct(Et,pm,0);ct(ca,VT,0);ct(gc,JT,0);ct($o,LT,0);ct(pc,KT,0);ct(pr,eE,0);ct(dl,UT,0);ct(Kv,pae,0);var Ne;(function(s){const e=new cy;for(const[l,c]of m2())e.set(l,c);const t=new F1(e,!0);e.set(Ae,t);function i(l){n||r({});const c=e.get(l);if(!c)throw new Error("Missing service "+l);return c instanceof ya?t.invokeFunction(d=>d.get(l)):c}s.get=i;let n=!1;const o=new M;function r(l){if(n)return t;n=!0;for(const[d,u]of m2())e.get(d)||e.set(d,u);for(const d in l)if(l.hasOwnProperty(d)){const u=et(d);e.get(u)instanceof ya&&e.set(u,l[d])}const c=sae();for(const d of c)try{t.createInstance(d)}catch(u){He(u)}return o.fire(),t}s.initialize=r;function a(l){if(n)return l();const c=new Y,d=c.add(o.event(()=>{d.dispose(),c.add(l())}));return c}s.withServices=a})(Ne||(Ne={}));let bae;function tc(){return bae}let mV;function _ae(s){mV=s}class pV{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){const i=t===void 0?void 0:e,n=t===void 0?e:t;return mV({owner:i,debugName:()=>{const o=ng(n);if(o!==void 0)return o;const a=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(n.toString());if(a)return`${this.debugName}.${a[2]}`;if(!i)return`${this.debugName} (mapped)`}},o=>n(this.read(o),o))}}class qv extends pV{constructor(){super(...arguments),this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function Gt(s,e){const t=new bV(s,e);try{s(t)}finally{t.finish()}}function tE(s,e,t){s?e(s):Gt(e,t)}class bV{constructor(e,t){var i;this._fn=e,this._getDebugName=t,this.updatingObservers=[],(i=tc())===null||i===void 0||i.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():ng(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){var e;const t=this.updatingObservers;this.updatingObservers=null;for(const{observer:i,observable:n}of t)i.endUpdate(n);(e=tc())===null||e===void 0||e.handleEndTransaction()}}function gM(s,e,t,i){let n;if(s!==void 0)if(typeof s=="function"){if(n=s(),n!==void 0)return n}else return s;if(e!==void 0&&(n=ng(e),n!==void 0))return n;if(t!==void 0){for(const o in t)if(t[o]===i)return o}}function ng(s){const e=s.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e),n=i?i[1]:void 0;return n==null?void 0:n.trim()}function Bt(s,e){return typeof s=="string"?new iE(void 0,s,e):new iE(s,void 0,e)}class iE extends qv{get debugName(){var e;return(e=gM(this._debugName,void 0,this._owner,this))!==null&&e!==void 0?e:"ObservableValue"}constructor(e,t,i){super(),this._owner=e,this._debugName=t,this._value=i}get(){return this._value}set(e,t,i){var n;if(this._value===e)return;let o;t||(t=o=new bV(()=>{},()=>`Setting ${this.debugName}`));try{const r=this._value;this._setValue(e),(n=tc())===null||n===void 0||n.handleObservableChanged(this,{oldValue:r,newValue:e,change:i,didChange:!0,hadValue:!0});for(const a of this.observers)t.updateObserver(a,this),a.handleChange(this,i)}finally{o&&o.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function W1(s,e){return typeof s=="string"?new w4(void 0,s,e):new w4(s,void 0,e)}class w4 extends iE{_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){var e;(e=this._value)===null||e===void 0||e.dispose()}}const H_=(s,e)=>s===e;function st(s,e){return e!==void 0?new U_(s,void 0,e,void 0,void 0,void 0,H_):new U_(void 0,void 0,s,void 0,void 0,void 0,H_)}function C4(s,e){var t;return new U_(s.owner,s.debugName,e,void 0,void 0,void 0,(t=s.equalityComparer)!==null&&t!==void 0?t:H_)}function vae(s,e){var t;return new U_(s.owner,s.debugName,e,s.createEmptyChangeSummary,s.handleChange,void 0,(t=s.equalityComparer)!==null&&t!==void 0?t:H_)}function z_(s,e){let t,i;e===void 0?(t=s,i=void 0):(i=s,t=e);const n=new Y;return new U_(i,()=>{var o;return(o=ng(t))!==null&&o!==void 0?o:"(anonymous)"},o=>(n.clear(),t(o,n)),void 0,void 0,()=>n.dispose(),H_)}_ae(st);class U_ extends qv{get debugName(){var e;return(e=gM(this._debugName,this._computeFn,this._owner,this))!==null&&e!==void 0?e:"(anonymous)"}constructor(e,t,i,n,o,r=void 0,a){var l,c;super(),this._owner=e,this._debugName=t,this._computeFn=i,this.createChangeSummary=n,this._handleChange=o,this._handleLastObserverRemoved=r,this._equalityComparator=a,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(l=this.createChangeSummary)===null||l===void 0?void 0:l.call(this),(c=tc())===null||c===void 0||c.handleDerivedCreated(this)}onLastObserverRemoved(){var e;this.state=0,this.value=void 0;for(const t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),(e=this._handleLastObserverRemoved)===null||e===void 0||e.call(this)}get(){var e;if(this.observers.size===0){const t=this._computeFn(this,(e=this.createChangeSummary)===null||e===void 0?void 0:e.call(this));return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(const t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var e,t;if(this.state===3)return;const i=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=i;const n=this.state!==0,o=this.value;this.state=3;const r=this.changeSummary;this.changeSummary=(e=this.createChangeSummary)===null||e===void 0?void 0:e.call(this);try{this.value=this._computeFn(this,r)}finally{for(const l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}const a=n&&!this._equalityComparator(o,this.value);if((t=tc())===null||t===void 0||t.handleDerivedRecomputed(this,{oldValue:o,newValue:this.value,change:void 0,didChange:a,hadValue:n}),a)for(const l of this.observers)l.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;const t=this.updateCount===1;if(this.state===3&&(this.state=1,!t))for(const i of this.observers)i.handlePossibleChange(this);if(t)for(const i of this.observers)i.beginUpdate(this)}endUpdate(e){if(this.updateCount--,this.updateCount===0){const t=[...this.observers];for(const i of t)i.endUpdate(this)}if(this.updateCount<0)throw new Ti}handlePossibleChange(e){if(this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const t of this.observers)t.handlePossibleChange(this)}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const i=this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:o=>o===e},this.changeSummary):!0,n=this.state===3;if(i&&(this.state===1||n)&&(this.state=2,n))for(const o of this.observers)o.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}addObserver(e){const t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),t&&e.endUpdate(this)}}function fM(s,e){return new Py(s.debugName,e,void 0,void 0)}function Rt(s){return new Py(void 0,s,void 0,void 0)}function My(s,e){return new Py(s.debugName,e,s.createEmptyChangeSummary,s.handleChange)}function Ao(s){const e=new Y,t=fM({debugName:()=>ng(s)||"(anonymous)"},i=>{e.clear(),s(i,e)});return Re(()=>{t.dispose(),e.dispose()})}class Py{get debugName(){if(typeof this._debugName=="string")return this._debugName;if(typeof this._debugName=="function"){const t=this._debugName();if(t!==void 0)return t}const e=ng(this._runFn);return e!==void 0?e:"(anonymous)"}constructor(e,t,i,n){var o,r;this._debugName=e,this._runFn=t,this.createChangeSummary=i,this._handleChange=n,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(o=this.createChangeSummary)===null||o===void 0?void 0:o.call(this),(r=tc())===null||r===void 0||r.handleAutorunCreated(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var e,t,i;if(this.state===3)return;const n=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=n,this.state=3;try{if(!this.disposed){(e=tc())===null||e===void 0||e.handleAutorunTriggered(this);const o=this.changeSummary;this.changeSummary=(t=this.createChangeSummary)===null||t===void 0?void 0:t.call(this),this._runFn(this,o)}}finally{(i=tc())===null||i===void 0||i.handleAutorunFinished(this);for(const o of this.dependenciesToBeRemoved)o.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,Qb(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:n=>n===e},this.changeSummary))&&(this.state=2)}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}(function(s){s.Observer=Py})(Rt||(Rt={}));function V1(s){return new wae(s)}class wae extends pV{constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function Cae(s,e){return new Promise(t=>{let i=!1,n=!1;const o=Rt(r=>{const a=s.read(r);e(a)&&(i?o.dispose():n=!0,t(a))});i=!0,n&&o.dispose()})}function gn(s,e){return new _V(s,e)}class _V extends qv{constructor(e,t){super(),this.event=e,this._getValue=t,this.hasValue=!1,this.handleEvent=i=>{var n;const o=this._getValue(i),r=!this.hasValue||this.value!==o;(n=tc())===null||n===void 0||n.handleFromEventObservableTriggered(this,{oldValue:this.value,newValue:o,change:void 0,didChange:r,hadValue:this.hasValue}),r&&(this.value=o,this.hasValue&&Gt(a=>{for(const l of this.observers)a.updateObserver(l,this),l.handleChange(this,void 0)},()=>{const a=this.getDebugName();return"Event fired"+(a?`: ${a}`:"")}),this.hasValue=!0)}}getDebugName(){return ng(this._getValue)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(function(s){s.Observer=_V})(gn||(gn={}));function ts(s,e){return new Sae(s,e)}class Sae extends qv{constructor(e,t){super(),this.debugName=e,this.event=t,this.handleEvent=()=>{Gt(i=>{for(const n of this.observers)i.updateObserver(n,this),n.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function vV(s){return typeof s=="string"?new S4(s):new S4(void 0,s)}class S4 extends qv{get debugName(){var e;return(e=gM(this._debugName,void 0,this._owner,this))!==null&&e!==void 0?e:"Observable Signal"}constructor(e,t){super(),this._debugName=e,this._owner=t}trigger(e,t){if(!e){Gt(i=>{this.trigger(i,t)},()=>`Trigger signal ${this.debugName}`);return}for(const i of this.observers)e.updateObserver(i,this),i.handleChange(this,t)}get(){}}function $_(s){const e=new yae(!0);return s.addObserver(e),s.reportChanges(),Re(()=>{s.removeObserver(e)})}class yae{constructor(e){this.forceRecompute=e,this.counter=0}beginUpdate(e){this.counter++}endUpdate(e){this.counter--,this.counter===0&&this.forceRecompute&&e.reportChanges()}handlePossibleChange(e){}handleChange(e,t){}}function wV(){return!!aW.VSCODE_DEV}function kae(s){if(wV()){const e=Lae();return e.add(s),{dispose(){e.delete(s)}}}else return{dispose(){}}}function Lae(){nw||(nw=new Set);const s=globalThis;return s.$hotReload_applyNewExports||(s.$hotReload_applyNewExports=e=>{for(const t of nw){const i=t(e);if(i)return i}}),nw}let nw;function xae(s,e,t,i){if(s.length===0)return e;if(e.length===0)return s;const n=[];let o=0,r=0;for(;o<s.length&&r<e.length;){const a=s[o],l=e[r],c=t(a),d=t(l);c<d?(n.push(a),o++):c>d?(n.push(l),r++):(n.push(i(a,l)),o++,r++)}for(;o<s.length;)n.push(s[o]),o++;for(;r<e.length;)n.push(e[r]),r++;return n}function H1(s,e){const t=new Y,i=s.createDecorationsCollection();return t.add(fM({debugName:()=>`Apply decorations from ${e.debugName}`},n=>{const o=e.read(n);i.set(o)})),t.add({dispose:()=>{i.clear()}}),t}function ow(s,e){return s.appendChild(e),Re(()=>{s.removeChild(e)})}class Dae extends H{get width(){return this._width}get height(){return this._height}constructor(e,t){super(),this.elementSizeObserver=this._register(new R3(e,t)),this._width=Bt(this,this.elementSizeObserver.getWidth()),this._height=Bt(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(i=>Gt(n=>{this._width.set(this.elementSizeObserver.getWidth(),n),this._height.set(this.elementSizeObserver.getHeight(),n)})))}observe(e){this.elementSizeObserver.observe(e)}setAutomaticLayout(e){e?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function y4(s,e){let t=s.get(),i=t,n=t;const o=Bt("animatedValue",t);let r=-1;const a=300;let l;e.add(My({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(d,u)=>(d.didChange(s)&&(u.animate=u.animate||d.change),!0)},(d,u)=>{l!==void 0&&(cancelAnimationFrame(l),l=void 0),i=n,t=s.read(d),r=Date.now()-(u.animate?0:a),c()}));function c(){const d=Date.now()-r;n=Math.floor(Iae(d,i,t-i,a)),d<a?l=requestAnimationFrame(c):n=t,o.set(n,void 0)}return o}function Iae(s,e,t,i){return s===i?e+t:t*(-Math.pow(2,-10*s/i)+1)+e}class CV extends H{constructor(e,t,i){super(),this._register(new Oy(e,i)),this._register(gd(i,{height:t.actualHeight,top:t.actualTop}))}}class z1{get afterLineNumber(){return this._afterLineNumber.get()}constructor(e,t){this._afterLineNumber=e,this.heightInPx=t,this.domNode=document.createElement("div"),this._actualTop=Bt(this,void 0),this._actualHeight=Bt(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=i=>{this._actualTop.set(i,void 0)},this.onComputedHeight=i=>{this._actualHeight.set(i,void 0)}}}class Oy{constructor(e,t){this._editor=e,this._domElement=t,this._overlayWidgetId=`managedOverlayWidget-${Oy._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}Oy._counter=0;function gd(s,e){return Rt(t=>{for(let[i,n]of Object.entries(e))n&&typeof n=="object"&&"read"in n&&(n=n.read(t)),typeof n=="number"&&(n=`${n}px`),i=i.replace(/[A-Z]/g,o=>"-"+o.toLowerCase()),s.style[i]=n})}function Oc(s,e){return Tae([s],e),s}function Tae(s,e){wV()&&ts("reload",i=>kae(n=>{if([...Object.values(n)].some(o=>s.includes(o)))return o=>(i(void 0),!0)})).read(e)}function U1(s,e,t){const i=new Y,n=[];return i.add(Rt(o=>{const r=e.read(o),a=new Map,l=new Map;t&&t(!0),s.changeViewZones(c=>{for(const d of n)c.removeZone(d);n.length=0;for(const d of r){const u=c.addZone(d);n.push(u),a.set(d,u)}}),t&&t(!1),i.add(My({createEmptyChangeSummary(){return[]},handleChange(c,d){const u=l.get(c.changedObservable);return u!==void 0&&d.push(u),!0}},(c,d)=>{for(const u of r)u.onChange&&(l.set(u.onChange,a.get(u)),u.onChange.read(c));t&&t(!0),s.changeViewZones(u=>{for(const h of d)u.layoutZone(h)}),t&&t(!1)}))})),i.add({dispose(){t&&t(!0),s.changeViewZones(o=>{for(const r of n)o.removeZone(r)}),t&&t(!1)}}),i}class Eae extends yi{dispose(){super.dispose(!0)}}var mM=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},pM=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Nae=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const Aae=_i("diff-review-insert",se.add,f("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),Rae=_i("diff-review-remove",se.remove,f("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),Mae=_i("diff-review-close",se.close,f("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));let Xc=class extends H{constructor(e,t,i,n,o,r,a,l,c){super(),this._parentNode=e,this._visible=t,this._setVisible=i,this._canClose=n,this._width=o,this._height=r,this._diffs=a,this._editors=l,this._instantiationService=c,this.model=z_(this,(d,u)=>{const h=this._visible.read(d);if(this._parentNode.style.visibility=h?"visible":"hidden",!h)return null;const g=u.add(this._instantiationService.createInstance(nE,this._diffs,this._editors,this._setVisible,this._canClose)),m=u.add(this._instantiationService.createInstance(oE,this._parentNode,g,this._width,this._height,this._editors));return{model:g,view:m}}),this._register($_(this.model))}next(){Gt(e=>{const t=this._visible.get();this._setVisible(!0,e),t&&this.model.get().model.nextGroup(e)})}prev(){Gt(e=>{this._setVisible(!0,e),this.model.get().model.previousGroup(e)})}close(){Gt(e=>{this._setVisible(!1,e)})}};Xc._ttPolicy=uc("diffReview",{createHTML:s=>s});Xc=mM([pM(8,Ae)],Xc);let nE=class extends H{constructor(e,t,i,n,o){super(),this._diffs=e,this._editors=t,this._setVisible=i,this.canClose=n,this._audioCueService=o,this._groups=Bt(this,[]),this._currentGroupIdx=Bt(this,0),this._currentElementIdx=Bt(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((r,a)=>this._groups.read(a)[r]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((r,a)=>{var l;return(l=this.currentGroup.read(a))===null||l===void 0?void 0:l.lines[r]}),this._register(Rt(r=>{const a=this._diffs.read(r);if(!a){this._groups.set([],void 0);return}const l=Pae(a,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());Gt(c=>{const d=this._editors.modified.getPosition();if(d){const u=l.findIndex(h=>(d==null?void 0:d.lineNumber)<h.range.modified.endLineNumberExclusive);u!==-1&&this._currentGroupIdx.set(u,c)}this._groups.set(l,c)})})),this._register(Rt(r=>{const a=this.currentElement.read(r);(a==null?void 0:a.type)===to.Deleted?this._audioCueService.playAudioCue(ht.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):(a==null?void 0:a.type)===to.Added&&this._audioCueService.playAudioCue(ht.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register(Rt(r=>{var a;const l=this.currentElement.read(r);if(l&&l.type!==to.Header){const c=(a=l.modifiedLineNumber)!==null&&a!==void 0?a:l.diff.modified.startLineNumber;this._editors.modified.setSelection(k.fromPositions(new P(c,1)))}}))}_goToGroupDelta(e,t){const i=this.groups.get();!i||i.length<=1||tE(t,n=>{this._currentGroupIdx.set(Je.ofLength(i.length).clipCyclic(this._currentGroupIdx.get()+e),n),this._currentElementIdx.set(0,n)})}nextGroup(e){this._goToGroupDelta(1,e)}previousGroup(e){this._goToGroupDelta(-1,e)}_goToLineDelta(e){const t=this.currentGroup.get();!t||t.lines.length<=1||Gt(i=>{this._currentElementIdx.set(Je.ofLength(t.lines.length).clip(this._currentElementIdx.get()+e),i)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(e){const t=this.currentGroup.get();if(!t)return;const i=t.lines.indexOf(e);i!==-1&&Gt(n=>{this._currentElementIdx.set(i,n)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const e=this.currentElement.get();e&&(e.type===to.Deleted?(this._editors.original.setSelection(k.fromPositions(new P(e.originalLineNumber,1))),this._editors.original.revealLine(e.originalLineNumber),this._editors.original.focus()):(e.type!==to.Header&&(this._editors.modified.setSelection(k.fromPositions(new P(e.modifiedLineNumber,1))),this._editors.modified.revealLine(e.modifiedLineNumber)),this._editors.modified.focus()))}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};nE=mM([pM(4,Kv)],nE);const Cp=3;function Pae(s,e,t){const i=[];for(const n of F5(s,(o,r)=>r.modified.startLineNumber-o.modified.endLineNumberExclusive<2*Cp)){const o=[];o.push(new Fae);const r=new it(Math.max(1,n[0].original.startLineNumber-Cp),Math.min(n[n.length-1].original.endLineNumberExclusive+Cp,e+1)),a=new it(Math.max(1,n[0].modified.startLineNumber-Cp),Math.min(n[n.length-1].modified.endLineNumberExclusive+Cp,t+1));B5(n,(d,u)=>{const h=new it(d?d.original.endLineNumberExclusive:r.startLineNumber,u?u.original.startLineNumber:r.endLineNumberExclusive),g=new it(d?d.modified.endLineNumberExclusive:a.startLineNumber,u?u.modified.startLineNumber:a.endLineNumberExclusive);h.forEach(m=>{o.push(new Vae(m,g.startLineNumber+(m-h.startLineNumber)))}),u&&(u.original.forEach(m=>{o.push(new Bae(u,m))}),u.modified.forEach(m=>{o.push(new Wae(u,m))}))});const l=n[0].modified.join(n[n.length-1].modified),c=n[0].original.join(n[n.length-1].original);i.push(new Oae(new el(l,c),o))}return i}var to;(function(s){s[s.Header=0]="Header",s[s.Unchanged=1]="Unchanged",s[s.Deleted=2]="Deleted",s[s.Added=3]="Added"})(to||(to={}));class Oae{constructor(e,t){this.range=e,this.lines=t}}class Fae{constructor(){this.type=to.Header}}class Bae{constructor(e,t){this.diff=e,this.originalLineNumber=t,this.type=to.Deleted,this.modifiedLineNumber=void 0}}class Wae{constructor(e,t){this.diff=e,this.modifiedLineNumber=t,this.type=to.Added,this.originalLineNumber=void 0}}class Vae{constructor(e,t){this.originalLineNumber=e,this.modifiedLineNumber=t,this.type=to.Unchanged}}let oE=class extends H{constructor(e,t,i,n,o,r){super(),this._element=e,this._model=t,this._width=i,this._height=n,this._editors=o,this._languageService=r,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const a=document.createElement("div");a.className="diff-review-actions",this._actionBar=this._register(new Vs(a)),this._register(Rt(l=>{this._actionBar.clear(),this._model.canClose.read(l)&&this._actionBar.push(new lo("diffreview.close",f("label.close","Close"),"close-diff-review "+Ie.asClassName(Mae),!0,()=>Nae(this,void 0,void 0,function*(){return t.close()})),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new Av(this._content,{})),mn(this.domNode,this._scrollbar.getDomNode(),a),this._register(Re(()=>{mn(this.domNode)})),this._register(gd(this.domNode,{width:this._width,height:this._height})),this._register(gd(this._content,{width:this._width,height:this._height})),this._register(Ao((l,c)=>{this._model.currentGroup.read(l),this._render(c)})),this._register(Si(this.domNode,"keydown",l=>{(l.equals(18)||l.equals(2066)||l.equals(530))&&(l.preventDefault(),this._model.goToNextLine()),(l.equals(16)||l.equals(2064)||l.equals(528))&&(l.preventDefault(),this._model.goToPreviousLine()),(l.equals(9)||l.equals(2057)||l.equals(521)||l.equals(1033))&&(l.preventDefault(),this._model.close()),(l.equals(10)||l.equals(3))&&(l.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(e){const t=this._editors.original.getOptions(),i=this._editors.modified.getOptions(),n=document.createElement("div");n.className="diff-review-table",n.setAttribute("role","list"),n.setAttribute("aria-label",f("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),In(n,i.get(50)),mn(this._content,n);const o=this._editors.original.getModel(),r=this._editors.modified.getModel();if(!o||!r)return;const a=o.getOptions(),l=r.getOptions(),c=i.get(66),d=this._model.currentGroup.get();for(const u of(d==null?void 0:d.lines)||[]){if(!d)break;let h;if(u.type===to.Header){const m=document.createElement("div");m.className="diff-review-row",m.setAttribute("role","listitem");const p=d.range,_=this._model.currentGroupIndex.get(),b=this._model.groups.get().length,v=x=>x===0?f("no_lines_changed","no lines changed"):x===1?f("one_line_changed","1 line changed"):f("more_lines_changed","{0} lines changed",x),w=v(p.original.length),C=v(p.modified.length);m.setAttribute("aria-label",f({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",_+1,b,p.original.startLineNumber,w,p.modified.startLineNumber,C));const S=document.createElement("div");S.className="diff-review-cell diff-review-summary",S.appendChild(document.createTextNode(`${_+1}/${b}: @@ -${p.original.startLineNumber},${p.original.length} +${p.modified.startLineNumber},${p.modified.length} @@`)),m.appendChild(S),h=m}else h=this._createRow(u,c,this._width.get(),t,o,a,i,r,l);n.appendChild(h);const g=st(m=>this._model.currentElement.read(m)===u);e.add(Rt(m=>{const p=g.read(m);h.tabIndex=p?0:-1,p&&h.focus()})),e.add($(h,"focus",()=>{this._model.goToLine(u)}))}this._scrollbar.scanDomNode()}_createRow(e,t,i,n,o,r,a,l,c){const d=n.get(143),u=d.glyphMarginWidth+d.lineNumbersWidth,h=a.get(143),g=10+h.glyphMarginWidth+h.lineNumbersWidth;let m="diff-review-row",p="";const _="diff-review-spacer";let b=null;switch(e.type){case to.Added:m="diff-review-row line-insert",p=" char-insert",b=Aae;break;case to.Deleted:m="diff-review-row line-delete",p=" char-delete",b=Rae;break}const v=document.createElement("div");v.style.minWidth=i+"px",v.className=m,v.setAttribute("role","listitem"),v.ariaLevel="";const w=document.createElement("div");w.className="diff-review-cell",w.style.height=`${t}px`,v.appendChild(w);const C=document.createElement("span");C.style.width=u+"px",C.style.minWidth=u+"px",C.className="diff-review-line-number"+p,e.originalLineNumber!==void 0?C.appendChild(document.createTextNode(String(e.originalLineNumber))):C.innerText=" ",w.appendChild(C);const S=document.createElement("span");S.style.width=g+"px",S.style.minWidth=g+"px",S.style.paddingRight="10px",S.className="diff-review-line-number"+p,e.modifiedLineNumber!==void 0?S.appendChild(document.createTextNode(String(e.modifiedLineNumber))):S.innerText=" ",w.appendChild(S);const x=document.createElement("span");if(x.className=_,b){const E=document.createElement("span");E.className=Ie.asClassName(b),E.innerText="  ",x.appendChild(E)}else x.innerText="  ";w.appendChild(x);let L;if(e.modifiedLineNumber!==void 0){let E=this._getLineHtml(l,a,c.tabSize,e.modifiedLineNumber,this._languageService.languageIdCodec);Xc._ttPolicy&&(E=Xc._ttPolicy.createHTML(E)),w.insertAdjacentHTML("beforeend",E),L=l.getLineContent(e.modifiedLineNumber)}else{let E=this._getLineHtml(o,n,r.tabSize,e.originalLineNumber,this._languageService.languageIdCodec);Xc._ttPolicy&&(E=Xc._ttPolicy.createHTML(E)),w.insertAdjacentHTML("beforeend",E),L=o.getLineContent(e.originalLineNumber)}L.length===0&&(L=f("blankLine","blank"));let I="";switch(e.type){case to.Unchanged:e.originalLineNumber===e.modifiedLineNumber?I=f({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",L,e.originalLineNumber):I=f("equalLine","{0} original line {1} modified line {2}",L,e.originalLineNumber,e.modifiedLineNumber);break;case to.Added:I=f("insertLine","+ {0} modified line {1}",L,e.modifiedLineNumber);break;case to.Deleted:I=f("deleteLine","- {0} original line {1}",L,e.originalLineNumber);break}return v.setAttribute("aria-label",I),v}_getLineHtml(e,t,i,n,o){const r=e.getLineContent(n),a=t.get(50),l=ji.createEmpty(r,o),c=us.isBasicASCII(r,e.mightContainNonBasicASCII()),d=us.containsRTL(r,c,e.mightContainRTL());return QS(new Xd(a.isMonospace&&!t.get(33),a.canUseHalfwidthRightwardsArrow,r,!1,c,d,0,l,[],i,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,t.get(116),t.get(98),t.get(93),t.get(51)!==Jo.OFF,null)).html}};oE=mM([pM(5,qt)],oE);const Hae=_i("diff-insert",se.add,f("diffInsertIcon","Line decoration for inserts in the diff editor.")),SV=_i("diff-remove",se.remove,f("diffRemoveIcon","Line decoration for removals in the diff editor.")),k4=Ve.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+Ie.asClassName(Hae),marginClassName:"gutter-insert"}),L4=Ve.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+Ie.asClassName(SV),marginClassName:"gutter-delete"}),x4=Ve.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),D4=Ve.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),I4=Ve.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),zae=Ve.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),Uae=Ve.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),sE=Ve.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),$ae=Ve.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),jae=Ve.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"}),Kae=Ve.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new xn(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(f("revertChangeHoverMessage","Click to revert change")),glyphMarginClassName:"arrow-revert-change "+Ie.asClassName(se.arrowRight),zIndex:10001});class fd extends H{constructor(e,t,i,n,o){super(),this._rootElement=e,this._diffModel=t,this._originalEditorLayoutInfo=i,this._modifiedEditorLayoutInfo=n,this._editors=o,this._originalScrollTop=gn(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=gn(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=ts("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=Bt(this,0),this._modifiedViewZonesChangedSignal=ts("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=ts("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=z_((h,g)=>{var m;this._element.replaceChildren();const p=this._diffModel.read(h),_=(m=p==null?void 0:p.diff.read(h))===null||m===void 0?void 0:m.movedTexts;if(!_||_.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(h);const b=this._originalEditorLayoutInfo.read(h),v=this._modifiedEditorLayoutInfo.read(h);if(!b||!v){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(h),this._originalViewZonesChangedSignal.read(h);const w=_.map(W=>{function U(Fe,Oe){const ke=Oe.getTopForLineNumber(Fe.startLineNumber,!0),le=Oe.getTopForLineNumber(Fe.endLineNumberExclusive,!0);return(ke+le)/2}const F=U(W.lineRangeMapping.original,this._editors.original),O=this._originalScrollTop.read(h),G=U(W.lineRangeMapping.modified,this._editors.modified),X=this._modifiedScrollTop.read(h),fe=F-O,be=G-X,Le=Math.min(F,G),pe=Math.max(F,G);return{range:new Je(Le,pe),from:fe,to:be,fromWithoutScroll:F,toWithoutScroll:G,move:W}});w.sort(ZH(Es(W=>W.fromWithoutScroll>W.toWithoutScroll,QH),Es(W=>W.fromWithoutScroll>W.toWithoutScroll?W.fromWithoutScroll:-W.toWithoutScroll,Ql)));const C=bM.compute(w.map(W=>W.range)),S=10,x=b.verticalScrollbarWidth,L=(C.getTrackCount()-1)*10+S*2,I=x+L+(v.contentLeft-fd.movedCodeBlockPadding);let E=0;for(const W of w){const U=C.getTrack(E),F=x+S+U*10,O=15,G=15,X=I,fe=v.glyphMarginWidth+v.lineNumbersWidth,be=18,Le=document.createElementNS("http://www.w3.org/2000/svg","rect");Le.classList.add("arrow-rectangle"),Le.setAttribute("x",`${X-fe}`),Le.setAttribute("y",`${W.to-be/2}`),Le.setAttribute("width",`${fe}`),Le.setAttribute("height",`${be}`),this._element.appendChild(Le);const pe=document.createElementNS("http://www.w3.org/2000/svg","g"),Fe=document.createElementNS("http://www.w3.org/2000/svg","path");Fe.setAttribute("d",`M 0 ${W.from} L ${F} ${W.from} L ${F} ${W.to} L ${X-G} ${W.to}`),Fe.setAttribute("fill","none"),pe.appendChild(Fe);const Oe=document.createElementNS("http://www.w3.org/2000/svg","polygon");Oe.classList.add("arrow"),g.add(Rt(ke=>{Fe.classList.toggle("currentMove",W.move===p.activeMovedText.read(ke)),Oe.classList.toggle("currentMove",W.move===p.activeMovedText.read(ke))})),Oe.setAttribute("points",`${X-G},${W.to-O/2} ${X},${W.to} ${X-G},${W.to+O/2}`),pe.appendChild(Oe),this._element.appendChild(pe),E++}this.width.set(L,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register(Re(()=>this._element.remove())),this._register(Rt(h=>{const g=this._originalEditorLayoutInfo.read(h),m=this._modifiedEditorLayoutInfo.read(h);!g||!m||(this._element.style.left=`${g.width-g.verticalScrollbarWidth}px`,this._element.style.height=`${g.height}px`,this._element.style.width=`${g.verticalScrollbarWidth+g.contentLeft-fd.movedCodeBlockPadding+this.width.read(h)}px`)})),this._register($_(this._state));const r=st(h=>{const g=this._diffModel.read(h),m=g==null?void 0:g.diff.read(h);return m?m.movedTexts.map(p=>({move:p,original:new z1(V1(p.lineRangeMapping.original.startLineNumber-1),18),modified:new z1(V1(p.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register(U1(this._editors.original,r.map(h=>h.map(g=>g.original)))),this._register(U1(this._editors.modified,r.map(h=>h.map(g=>g.modified)))),this._register(Ao((h,g)=>{const m=r.read(h);for(const p of m)g.add(new T4(this._editors.original,p.original,p.move,"original",this._diffModel.get())),g.add(new T4(this._editors.modified,p.modified,p.move,"modified",this._diffModel.get()))}));const a=gn(this._editors.original.onDidChangeCursorPosition,()=>this._editors.original.getPosition()),l=gn(this._editors.modified.onDidChangeCursorPosition,()=>this._editors.modified.getPosition()),c=ts("original.onDidFocusEditorWidget",h=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>h(void 0),0))),d=ts("modified.onDidFocusEditorWidget",h=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>h(void 0),0)));let u="modified";this._register(My({createEmptyChangeSummary:()=>{},handleChange:(h,g)=>(h.didChange(c)&&(u="original"),h.didChange(d)&&(u="modified"),!0)},h=>{c.read(h),d.read(h);const g=this._diffModel.read(h);if(!g)return;const m=g.diff.read(h);let p;if(m&&u==="original"){const _=a.read(h);_&&(p=m.movedTexts.find(b=>b.lineRangeMapping.original.contains(_.lineNumber)))}if(m&&u==="modified"){const _=l.read(h);_&&(p=m.movedTexts.find(b=>b.lineRangeMapping.modified.contains(_.lineNumber)))}p!==g.movedTextToCompare.get()&&g.movedTextToCompare.set(void 0,void 0),g.setActiveMovedText(p)}))}}fd.movedCodeBlockPadding=4;class bM{static compute(e){const t=[],i=[];for(const n of e){let o=t.findIndex(r=>!r.intersectsStrict(n));o===-1&&(t.length>=6?o=dq(t,Es(a=>a.intersectWithRangeLength(n),Ql)):(o=t.length,t.push(new FA))),t[o].addRange(n),i.push(o)}return new bM(t.length,i)}constructor(e,t){this._trackCount=e,this.trackPerLineIdx=t}getTrack(e){return this.trackPerLineIdx[e]}getTrackCount(){return this._trackCount}}class T4 extends CV{constructor(e,t,i,n,o){const r=an("div.diff-hidden-lines-widget");super(e,t,r.root),this._editor=e,this._move=i,this._kind=n,this._diffModel=o,this._nodes=an("div.diff-moved-code-block",{style:{marginRight:"4px"}},[an("div.text-content@textContent"),an("div.action-bar@actionBar")]),r.root.appendChild(this._nodes.root);const a=gn(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register(gd(this._nodes.root,{paddingRight:a.map(h=>h.verticalScrollbarWidth)}));let l;i.changes.length>0?l=this._kind==="original"?f("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):f("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):l=this._kind==="original"?f("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):f("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const c=this._register(new Vs(this._nodes.actionBar,{highlightToggledItems:!0})),d=new lo("",l,"",!1);c.push(d,{icon:!1,label:!0});const u=new lo("","Compare",Ie.asClassName(se.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===i?void 0:this._move,void 0)});this._register(Rt(h=>{const g=this._diffModel.movedTextToCompare.read(h)===i;u.checked=g})),c.push(u,{icon:!1,label:!0})}}class qae extends H{constructor(e,t,i){super(),this._editors=e,this._diffModel=t,this._options=i,this._decorations=st(this,n=>{var o;const r=(o=this._diffModel.read(n))===null||o===void 0?void 0:o.diff.read(n);if(!r)return null;const a=this._diffModel.read(n).movedTextToCompare.read(n),l=this._options.renderIndicators.read(n),c=this._options.showEmptyDecorations.read(n),d=[],u=[];if(!a)for(const g of r.mappings){if(g.lineRangeMapping.original.isEmpty||d.push({range:g.lineRangeMapping.original.toInclusiveRange(),options:l?L4:D4}),g.lineRangeMapping.modified.isEmpty||u.push({range:g.lineRangeMapping.modified.toInclusiveRange(),options:l?k4:x4}),g.lineRangeMapping.modified.isEmpty||g.lineRangeMapping.original.isEmpty)g.lineRangeMapping.original.isEmpty||d.push({range:g.lineRangeMapping.original.toInclusiveRange(),options:$ae}),g.lineRangeMapping.modified.isEmpty||u.push({range:g.lineRangeMapping.modified.toInclusiveRange(),options:zae});else for(const m of g.lineRangeMapping.innerChanges||[])g.lineRangeMapping.original.contains(m.originalRange.startLineNumber)&&d.push({range:m.originalRange,options:m.originalRange.isEmpty()&&c?jae:sE}),g.lineRangeMapping.modified.contains(m.modifiedRange.startLineNumber)&&u.push({range:m.modifiedRange,options:m.modifiedRange.isEmpty()&&c?Uae:I4});!g.lineRangeMapping.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(n)&&!a&&u.push({range:k.fromPositions(new P(g.lineRangeMapping.modified.startLineNumber,1)),options:Kae})}if(a)for(const g of a.changes){const m=g.original.toInclusiveRange();m&&d.push({range:m,options:l?L4:D4});const p=g.modified.toInclusiveRange();p&&u.push({range:p,options:l?k4:x4});for(const _ of g.innerChanges||[])d.push({range:_.originalRange,options:sE}),u.push({range:_.modifiedRange,options:I4})}const h=this._diffModel.read(n).activeMovedText.read(n);for(const g of r.movedTexts)d.push({range:g.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(g===h?" currentMove":""),blockPadding:[fd.movedCodeBlockPadding,0,fd.movedCodeBlockPadding,fd.movedCodeBlockPadding]}}),u.push({range:g.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(g===h?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:d,modifiedDecorations:u}}),this._register(H1(this._editors.original,this._decorations.map(n=>(n==null?void 0:n.originalDecorations)||[]))),this._register(H1(this._editors.modified,this._decorations.map(n=>(n==null?void 0:n.modifiedDecorations)||[])))}}class Gae extends H{constructor(e,t,i){super(),this._options=e,this._domNode=t,this._dimensions=i,this._sashRatio=Bt(this,void 0),this.sashLeft=st(this,n=>{var o;const r=(o=this._sashRatio.read(n))!==null&&o!==void 0?o:this._options.splitViewDefaultRatio.read(n);return this._computeSashLeft(r,n)}),this._sash=this._register(new An(this._domNode,{getVerticalSashTop:n=>0,getVerticalSashLeft:n=>this.sashLeft.get(),getVerticalSashHeight:n=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(n=>{const o=this._dimensions.width.get(),r=this._computeSashLeft((this._startSashPosition+(n.currentX-n.startX))/o,void 0);this._sashRatio.set(r/o,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register(Rt(n=>{const o=this._options.enableSplitViewResizing.read(n);this._sash.state=o?3:0,this.sashLeft.read(n),this._dimensions.height.read(n),this._sash.layout()}))}setBoundarySashes(e){this._sash.orthogonalEndSash=e.bottom}_computeSashLeft(e,t){const i=this._dimensions.width.read(t),n=Math.floor(this._options.splitViewDefaultRatio.read(t)*i),o=this._options.enableSplitViewResizing.read(t)?Math.floor(e*i):n,r=100;return i<=r*2?n:o<r?r:o>i-r?i-r:o}}let cf=class{remove(){var e;(e=this.parent)===null||e===void 0||e.children.delete(this.id)}static findId(e,t){let i;typeof e=="string"?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,t.children.get(i)!==void 0&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let n=i;for(let o=0;t.children.get(n)!==void 0;o++)n=`${i}_${o}`;return n}static empty(e){return e.children.size===0}},E4=class extends cf{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}},Zae=class extends cf{constructor(e,t,i,n){super(),this.id=e,this.parent=t,this.label=i,this.order=n,this.children=new Map}},Qae=class Lu extends cf{static create(e,t,i){const n=new yi(i),o=new Lu(t.uri),r=e.ordered(t),a=r.map((c,d)=>{var u;const h=cf.findId(`provider_${d}`,o),g=new Zae(h,o,(u=c.displayName)!==null&&u!==void 0?u:"Unknown Outline Provider",d);return Promise.resolve(c.provideDocumentSymbols(t,n.token)).then(m=>{for(const p of m||[])Lu._makeOutlineElement(p,g);return g},m=>(Ni(m),g)).then(m=>{cf.empty(m)?m.remove():o._groups.set(h,m)})}),l=e.onDidChange(()=>{const c=e.ordered(t);bi(c,r)||n.cancel()});return Promise.all(a).then(()=>n.token.isCancellationRequested&&!i.isCancellationRequested?Lu.create(e,t,i):o._compact()).finally(()=>{n.dispose(),l.dispose()})}static _makeOutlineElement(e,t){const i=cf.findId(e,t),n=new E4(i,t,e);if(e.children)for(const o of e.children)Lu._makeOutlineElement(o,n);t.children.set(n.id,n)}constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let e=0;for(const[t,i]of this._groups)i.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{const t=Ye.first(this._groups.values());for(const[,i]of t.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof E4?e.push(t.symbol):e.push(...Ye.map(t.children.values(),i=>i.symbol));return e.sort((t,i)=>k.compareRangesUsingStarts(t.range,i.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return Lu._flattenDocumentSymbols(t,e,""),t.sort((i,n)=>P.compare(k.getStartPosition(i.range),k.getStartPosition(n.range))||P.compare(k.getEndPosition(n.range),k.getEndPosition(i.range)))}static _flattenDocumentSymbols(e,t,i){for(const n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&Lu._flattenDocumentSymbols(e,n.children,n.name)}};var yV=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},kV=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Yae=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};let rE=class extends H{get isUpdatingViewZones(){return this._isUpdatingViewZones}constructor(e,t,i,n){super(),this._editors=e,this._diffModel=t,this._options=i,this._languageFeaturesService=n,this._isUpdatingViewZones=!1,this._modifiedOutlineSource=z_(this,(c,d)=>{const u=this._editors.modifiedModel.read(c);if(u)return d.add(new aE(this._languageFeaturesService,u))}),this._register(this._editors.original.onDidChangeCursorPosition(c=>{if(c.reason===3){const d=this._diffModel.get();Gt(u=>{for(const h of this._editors.original.getSelections()||[])d==null||d.ensureOriginalLineIsVisible(h.getStartPosition().lineNumber,u),d==null||d.ensureOriginalLineIsVisible(h.getEndPosition().lineNumber,u)})}})),this._register(this._editors.modified.onDidChangeCursorPosition(c=>{if(c.reason===3){const d=this._diffModel.get();Gt(u=>{for(const h of this._editors.modified.getSelections()||[])d==null||d.ensureModifiedLineIsVisible(h.getStartPosition().lineNumber,u),d==null||d.ensureModifiedLineIsVisible(h.getEndPosition().lineNumber,u)})}}));const o=this._diffModel.map((c,d)=>{var u,h;return((u=c==null?void 0:c.diff.read(d))===null||u===void 0?void 0:u.mappings.length)===0?[]:(h=c==null?void 0:c.unchangedRegions.read(d))!==null&&h!==void 0?h:[]}),r=z_(this,(c,d)=>{const u=this._modifiedOutlineSource.read(c);if(!u)return{origViewZones:[],modViewZones:[]};const h=[],g=[],m=this._options.renderSideBySide.read(c),p=o.read(c);for(const _ of p)if(!_.shouldHideControls(c)){{const b=st(w=>_.getHiddenOriginalRange(w).startLineNumber-1),v=new z1(b,24);h.push(v),d.add(new N4(this._editors.original,v,_,_.originalUnchangedRange,!m,u,w=>this._diffModel.get().ensureModifiedLineIsVisible(w,void 0),this._options))}{const b=st(w=>_.getHiddenModifiedRange(w).startLineNumber-1),v=new z1(b,24);g.push(v),d.add(new N4(this._editors.modified,v,_,_.modifiedUnchangedRange,!1,u,w=>this._diffModel.get().ensureModifiedLineIsVisible(w,void 0),this._options))}}return{origViewZones:h,modViewZones:g}}),a={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},l={description:"Fold Unchanged",glyphMarginHoverMessage:new xn(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(f("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+Ie.asClassName(se.fold),zIndex:10001};this._register(H1(this._editors.original,st(c=>{const d=o.read(c),u=d.map(h=>({range:h.originalUnchangedRange.toInclusiveRange(),options:a}));for(const h of d)h.shouldHideControls(c)&&u.push({range:k.fromPositions(new P(h.originalLineNumber,1)),options:l});return u}))),this._register(H1(this._editors.modified,st(c=>{const d=o.read(c),u=d.map(h=>({range:h.modifiedUnchangedRange.toInclusiveRange(),options:a}));for(const h of d)h.shouldHideControls(c)&&u.push({range:it.ofLength(h.modifiedLineNumber,1).toInclusiveRange(),options:l});return u}))),this._register(U1(this._editors.original,r.map(c=>c.origViewZones),c=>this._isUpdatingViewZones=c)),this._register(U1(this._editors.modified,r.map(c=>c.modViewZones),c=>this._isUpdatingViewZones=c)),this._register(Rt(c=>{const d=o.read(c);this._editors.original.setHiddenAreas(d.map(u=>u.getHiddenOriginalRange(c).toInclusiveRange()).filter(Hb)),this._editors.modified.setHiddenAreas(d.map(u=>u.getHiddenModifiedRange(c).toInclusiveRange()).filter(Hb))})),this._register(this._editors.modified.onMouseUp(c=>{var d;if(!c.event.rightButton&&c.target.position&&(!((d=c.target.element)===null||d===void 0)&&d.className.includes("fold-unchanged"))){const u=c.target.position.lineNumber,h=this._diffModel.get();if(!h)return;const g=h.unchangedRegions.get().find(m=>m.modifiedUnchangedRange.includes(u));if(!g)return;g.collapseAll(void 0),c.event.stopPropagation(),c.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(c=>{var d;if(!c.event.rightButton&&c.target.position&&(!((d=c.target.element)===null||d===void 0)&&d.className.includes("fold-unchanged"))){const u=c.target.position.lineNumber,h=this._diffModel.get();if(!h)return;const g=h.unchangedRegions.get().find(m=>m.originalUnchangedRange.includes(u));if(!g)return;g.collapseAll(void 0),c.event.stopPropagation(),c.event.preventDefault()}}))}};rE=yV([kV(3,me)],rE);let aE=class extends H{constructor(e,t){super(),this._languageFeaturesService=e,this._textModel=t,this._currentModel=Bt(this,void 0);const i=ts("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),n=ts("_textModel.onDidChangeContent",ce.debounce(o=>this._textModel.onDidChangeContent(o),()=>{},100));this._register(Ao((o,r)=>Yae(this,void 0,void 0,function*(){i.read(o),n.read(o);const a=r.add(new Eae),l=yield Qae.create(this._languageFeaturesService.documentSymbolProvider,this._textModel,a.token);r.isDisposed||this._currentModel.set(l,void 0)})))}getBreadcrumbItems(e,t){const i=this._currentModel.read(t);if(!i)return[];const n=i.asListOfDocumentSymbols().filter(o=>e.contains(o.range.startLineNumber)&&!e.contains(o.range.endLineNumber));return n.sort(z5(Es(o=>o.range.endLineNumber-o.range.startLineNumber,Ql))),n.map(o=>({name:o.name,kind:o.kind,startLineNumber:o.range.startLineNumber}))}};aE=yV([kV(0,me)],aE);class N4 extends CV{constructor(e,t,i,n,o,r,a,l){const c=an("div.diff-hidden-lines-widget");super(e,t,c.root),this._editor=e,this._unchangedRegion=i,this._unchangedRegionRange=n,this.hide=o,this._modifiedOutlineSource=r,this._revealModifiedHiddenLine=a,this._options=l,this._nodes=an("div.diff-hidden-lines",[an("div.top@top",{title:f("diff.hiddenLines.top","Click or drag to show more above")}),an("div.center@content",{style:{display:"flex"}},[an("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[te("a",{title:f("showAll","Show all"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...dd("$(unfold)"))]),an("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),an("div.bottom@bottom",{title:f("diff.bottom","Click or drag to show more below"),role:"button"})]),c.root.appendChild(this._nodes.root);const d=gn(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this.hide?mn(this._nodes.first):this._register(gd(this._nodes.first,{width:d.map(h=>h.contentLeft)}));const u=this._editor;this._register($(this._nodes.top,"mousedown",h=>{if(h.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),h.preventDefault();const g=h.clientY;let m=!1;const p=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set(!0,void 0);const _=$(window,"mousemove",v=>{const C=v.clientY-g;m=m||Math.abs(C)>2;const S=Math.round(C/u.getOption(66)),x=Math.max(0,Math.min(p+S,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(x,void 0)}),b=$(window,"mouseup",v=>{m||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(!1,void 0),_.dispose(),b.dispose()})})),this._register($(this._nodes.bottom,"mousedown",h=>{if(h.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),h.preventDefault();const g=h.clientY;let m=!1;const p=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set(!0,void 0);const _=$(window,"mousemove",v=>{const C=v.clientY-g;m=m||Math.abs(C)>2;const S=Math.round(C/u.getOption(66)),x=Math.max(0,Math.min(p-S,this._unchangedRegion.getMaxVisibleLineCountBottom())),L=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(x,void 0);const I=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);u.setScrollTop(u.getScrollTop()+(I-L))}),b=$(window,"mouseup",v=>{if(this._unchangedRegion.isDragged.set(!1,void 0),!m){const w=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const C=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);u.setScrollTop(u.getScrollTop()+(C-w))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),_.dispose(),b.dispose()})})),this._register(Rt(h=>{const g=[];if(!this.hide){const m=i.getHiddenModifiedRange(h).length,p=f("hiddenLines","{0} hidden lines",m),_=te("span",{title:f("diff.hiddenLines.expandAll","Double click to unfold")},p);_.addEventListener("dblclick",w=>{w.button===0&&(w.preventDefault(),this._unchangedRegion.showAll(void 0))}),g.push(_);const b=this._unchangedRegion.getHiddenModifiedRange(h),v=this._modifiedOutlineSource.getBreadcrumbItems(b,h);if(v.length>0){g.push(te("span",void 0,"  |  "));for(let w=0;w<v.length;w++){const C=v[w],S=xC.toIcon(C.kind),x=an("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[dT(S)," ",C.name,...w===v.length-1?[]:[dT(se.chevronRight)]]).root;g.push(x),x.onclick=()=>{this._revealModifiedHiddenLine(C.startLineNumber)}}}}mn(this._nodes.others,...g)}))}}class na{static capture(e){if(e.getScrollTop()===0||e.hasPendingScrollAnimation())return new na(e.getScrollTop(),e.getContentHeight(),null,0,null);let t=null,i=0;const n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}return new na(e.getScrollTop(),e.getContentHeight(),t,i,e.getPosition())}constructor(e,t,i,n,o){this._initialScrollTop=e,this._initialContentHeight=t,this._visiblePosition=i,this._visiblePositionScrollDelta=n,this._cursorPosition=o}restore(e){if(!(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())&&this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){if(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())return;const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}var Xae=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},A4=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Jae=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},xu;let $1=xu=class{constructor(e,t,i){this.editorWorkerService=t,this.telemetryService=i,this.onDidChangeEventEmitter=new M,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(e)}dispose(){var e;(e=this.diffAlgorithmOnDidChangeSubscription)===null||e===void 0||e.dispose()}computeDiff(e,t,i,n){var o,r;return Jae(this,void 0,void 0,function*(){if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(e,t,i,n);if(e.getLineCount()===1&&e.getLineMaxColumn(1)===1)return t.getLineCount()===1&&t.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new Bs(new it(1,2),new it(1,t.getLineCount()+1),[new Id(e.getFullModelRange(),t.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const a=JSON.stringify([e.uri.toString(),t.uri.toString()]),l=JSON.stringify([e.id,t.id,e.getAlternativeVersionId(),t.getAlternativeVersionId(),JSON.stringify(i)]),c=xu.diffCache.get(a);if(c&&c.context===l)return c.result;const d=Wn.create(),u=yield this.editorWorkerService.computeDiff(e.uri,t.uri,i,this.diffAlgorithm),h=d.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:h,timedOut:(o=u==null?void 0:u.quitEarly)!==null&&o!==void 0?o:!0,detectedMoves:i.computeMoves?(r=u==null?void 0:u.moves.length)!==null&&r!==void 0?r:0:-1}),n.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!u)throw new Error("no diff result available");return xu.diffCache.size>10&&xu.diffCache.delete(xu.diffCache.keys().next().value),xu.diffCache.set(a,{result:u,context:l}),u})}setOptions(e){var t;let i=!1;e.diffAlgorithm&&this.diffAlgorithm!==e.diffAlgorithm&&((t=this.diffAlgorithmOnDidChangeSubscription)===null||t===void 0||t.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=e.diffAlgorithm,typeof e.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=e.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),i=!0),i&&this.onDidChangeEventEmitter.fire()}};$1.diffCache=new Map;$1=xu=Xae([A4(1,vr),A4(2,ms)],$1);var ele=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},tle=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};const LV=et("diffProviderFactoryService");let lE=class{constructor(e){this.instantiationService=e}createDiffProvider(e,t){return this.instantiationService.createInstance($1,t)}};lE=ele([tle(0,Ae)],lE);ct(LV,lE,1);var ile=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},nle=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},R4=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};let cE=class extends H{setActiveMovedText(e){this._activeMovedText.set(e,void 0)}constructor(e,t,i,n){super(),this.model=e,this._options=t,this._editor=i,this._diffProviderFactoryService=n,this._isDiffUpToDate=Bt(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=Bt(this,void 0),this.diff=this._diff,this._unchangedRegions=Bt(this,{regions:[],originalDecorationIds:[],modifiedDecorationIds:[]}),this.unchangedRegions=st(this,l=>this._options.hideUnchangedRegions.read(l)?this._unchangedRegions.read(l).regions:(Gt(c=>{for(const d of this._unchangedRegions.get().regions)d.collapseAll(c)}),[])),this.movedTextToCompare=Bt(this,void 0),this._activeMovedText=Bt(this,void 0),this._hoveredMovedText=Bt(this,void 0),this.activeMovedText=st(this,l=>{var c,d;return(d=(c=this.movedTextToCompare.read(l))!==null&&c!==void 0?c:this._hoveredMovedText.read(l))!==null&&d!==void 0?d:this._activeMovedText.read(l)}),this._cancellationTokenSource=new yi,this._diffProvider=st(this,l=>{const c=this._diffProviderFactoryService.createDiffProvider(this._editor,{diffAlgorithm:this._options.diffAlgorithm.read(l)}),d=ts("onDidChange",c.onDidChange);return{diffProvider:c,onChangeSignal:d}}),this._register(Re(()=>this._cancellationTokenSource.cancel()));const o=vV("contentChangedSignal"),r=this._register(new xt(()=>o.trigger(void 0),200)),a=(l,c,d)=>{const u=j1.fromDiffs(l.changes,e.original.getLineCount(),e.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(d),this._options.hideUnchangedRegionsContextLineCount.read(d)),h=this._unchangedRegions.get(),g=h.originalDecorationIds.map(b=>e.original.getDecorationRange(b)).filter(b=>!!b).map(b=>it.fromRange(b)),m=h.modifiedDecorationIds.map(b=>e.modified.getDecorationRange(b)).filter(b=>!!b).map(b=>it.fromRange(b)),p=e.original.deltaDecorations(h.originalDecorationIds,u.map(b=>({range:b.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),_=e.modified.deltaDecorations(h.modifiedDecorationIds,u.map(b=>({range:b.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));for(const b of u)for(let v=0;v<h.regions.length;v++)if(b.originalUnchangedRange.intersectsStrict(g[v])&&b.modifiedUnchangedRange.intersectsStrict(m[v])){b.setHiddenModifiedRange(h.regions[v].getHiddenModifiedRange(void 0),c);break}this._unchangedRegions.set({regions:u,originalDecorationIds:p,modifiedDecorationIds:_},c)};this._register(e.modified.onDidChangeContent(l=>{if(this._diff.get()){const d=Gl.fromModelContentChanges(l.changes);this._lastDiff,e.original,e.modified}r.schedule()})),this._register(e.original.onDidChangeContent(l=>{if(this._diff.get()){const d=Gl.fromModelContentChanges(l.changes);this._lastDiff,e.original,e.modified}r.schedule()})),this._register(Ao((l,c)=>R4(this,void 0,void 0,function*(){var d,u;this._options.hideUnchangedRegionsMinimumLineCount.read(l),this._options.hideUnchangedRegionsContextLineCount.read(l),r.cancel(),o.read(l);const h=this._diffProvider.read(l);h.onChangeSignal.read(l),Oc(k3,l),Oc(uI,l),this._isDiffUpToDate.set(!1,void 0);let g=[];c.add(e.original.onDidChangeContent(_=>{const b=Gl.fromModelContentChanges(_.changes);g=n1(g,b)}));let m=[];c.add(e.modified.onDidChangeContent(_=>{const b=Gl.fromModelContentChanges(_.changes);m=n1(m,b)}));let p=yield h.diffProvider.computeDiff(e.original,e.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(l),maxComputationTimeMs:this._options.maxComputationTimeMs.read(l),computeMoves:this._options.showMoves.read(l)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(p=ole(p,e.original,e.modified),p=(d=(e.original,e.modified,void 0))!==null&&d!==void 0?d:p,p=(u=(e.original,e.modified,void 0))!==null&&u!==void 0?u:p,Gt(_=>{a(p,_),this._lastDiff=p;const b=_M.fromDiffResult(p);this._diff.set(b,_),this._isDiffUpToDate.set(!0,_);const v=this.movedTextToCompare.get();this.movedTextToCompare.set(v?this._lastDiff.moves.find(w=>w.lineRangeMapping.modified.intersect(v.lineRangeMapping.modified)):void 0,_)}))})))}ensureModifiedLineIsVisible(e,t){var i;if(((i=this.diff.get())===null||i===void 0?void 0:i.mappings.length)===0)return;const n=this._unchangedRegions.get().regions;for(const o of n)if(o.getHiddenModifiedRange(void 0).contains(e)){o.showModifiedLine(e,t);return}}ensureOriginalLineIsVisible(e,t){var i;if(((i=this.diff.get())===null||i===void 0?void 0:i.mappings.length)===0)return;const n=this._unchangedRegions.get().regions;for(const o of n)if(o.getHiddenOriginalRange(void 0).contains(e)){o.showOriginalLine(e,t);return}}waitForDiff(){return R4(this,void 0,void 0,function*(){yield Cae(this.isDiffUpToDate,e=>e)})}serializeState(){return{collapsedRegions:this._unchangedRegions.get().regions.map(t=>({range:t.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(e){const t=e.collapsedRegions.map(n=>it.deserialize(n.range)),i=this._unchangedRegions.get();Gt(n=>{for(const o of i.regions)for(const r of t)if(o.modifiedUnchangedRange.intersect(r)){o.setHiddenModifiedRange(r,n);break}})}};cE=ile([nle(3,LV)],cE);function ole(s,e,t){return{changes:s.changes.map(i=>new Bs(i.original,i.modified,i.innerChanges?i.innerChanges.map(n=>sle(n,e,t)):void 0)),moves:s.moves,identical:s.identical,quitEarly:s.quitEarly}}function sle(s,e,t){let i=s.originalRange,n=s.modifiedRange;return(i.endColumn!==1||n.endColumn!==1)&&i.endColumn===e.getLineMaxColumn(i.endLineNumber)&&n.endColumn===t.getLineMaxColumn(n.endLineNumber)&&i.endLineNumber<e.getLineCount()&&n.endLineNumber<t.getLineCount()&&(i=i.setEndPosition(i.endLineNumber+1,1),n=n.setEndPosition(n.endLineNumber+1,1)),new Id(i,n)}class _M{static fromDiffResult(e){return new _M(e.changes.map(t=>new xV(t)),e.moves||[],e.identical,e.quitEarly)}constructor(e,t,i,n){this.mappings=e,this.movedTexts=t,this.identical=i,this.quitEarly=n}}class xV{constructor(e){this.lineRangeMapping=e}}class j1{static fromDiffs(e,t,i,n,o){const r=Bs.inverse(e,t,i),a=[];for(const l of r){let c=l.original.startLineNumber,d=l.modified.startLineNumber,u=l.original.length;const h=c===1&&d===1,g=c+u===t+1&&d+u===i+1;(h||g)&&u>=o+n?(h&&!g&&(u-=o),g&&!h&&(c+=o,d+=o,u-=o),a.push(new j1(c,d,u,0,0))):u>=o*2+n&&(c+=o,d+=o,u-=o*2,a.push(new j1(c,d,u,0,0)))}return a}get originalUnchangedRange(){return it.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return it.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(e,t,i,n,o){this.originalLineNumber=e,this.modifiedLineNumber=t,this.lineCount=i,this._visibleLineCountTop=Bt(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=Bt(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=st(this,r=>this.visibleLineCountTop.read(r)+this.visibleLineCountBottom.read(r)===this.lineCount&&!this.isDragged.read(r)),this.isDragged=Bt(this,!1),this._visibleLineCountTop.set(n,void 0),this._visibleLineCountBottom.set(o,void 0)}shouldHideControls(e){return this._shouldHideControls.read(e)}getHiddenOriginalRange(e){return it.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}getHiddenModifiedRange(e){return it.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}setHiddenModifiedRange(e,t){const i=e.startLineNumber-this.modifiedLineNumber,n=this.modifiedLineNumber+this.lineCount-e.endLineNumberExclusive;this.setState(i,n,t)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(e=10,t){const i=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+e,i),t)}showMoreBelow(e=10,t){const i=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+e,i),t)}showAll(e){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),e)}showModifiedLine(e,t){const i=e+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),n=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-e;i<n?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+i,t):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+n,t)}showOriginalLine(e,t){const i=e-this.originalLineNumber,n=this.originalLineNumber+this.lineCount-e;i<n?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+n-i,this.getMaxVisibleLineCountTop()),t):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+i-n,this.getMaxVisibleLineCountBottom()),t)}collapseAll(e){this._visibleLineCountTop.set(0,e),this._visibleLineCountBottom.set(0,e)}setState(e,t,i){e=Math.max(Math.min(e,this.lineCount),0),t=Math.max(Math.min(t,this.lineCount-e),0),this._visibleLineCountTop.set(e,i),this._visibleLineCountBottom.set(t,i)}}var hx=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class rle extends H{get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}constructor(e,t,i,n,o,r,a,l,c){super(),this._getViewZoneId=e,this._marginDomNode=t,this._modifiedEditor=i,this._diff=n,this._editor=o,this._viewLineCounts=r,this._originalTextModel=a,this._contextMenuService=l,this._clipboardService=c,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=Ie.asClassName(se.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const d=this._modifiedEditor.getOption(66);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${d}px`,this._diffActions.style.lineHeight=`${d}px`,this._marginDomNode.appendChild(this._diffActions);let u=0;const h=i.getOption(126)&&!Xr,g=(m,p)=>{var _;this._contextMenuService.showContextMenu({domForShadowRoot:h&&(_=i.getDomNode())!==null&&_!==void 0?_:void 0,getAnchor:()=>({x:m,y:p}),getActions:()=>{const b=[],v=n.modified.isEmpty;return b.push(new lo("diff.clipboard.copyDeletedContent",v?n.original.length>1?f("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):f("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):n.original.length>1?f("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):f("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>hx(this,void 0,void 0,function*(){const C=this._originalTextModel.getValueInRange(n.original.toExclusiveRange());yield this._clipboardService.writeText(C)}))),n.original.length>1&&b.push(new lo("diff.clipboard.copyDeletedLineContent",v?f("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.original.startLineNumber+u):f("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.original.startLineNumber+u),void 0,!0,()=>hx(this,void 0,void 0,function*(){let C=this._originalTextModel.getLineContent(n.original.startLineNumber+u);C===""&&(C=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),yield this._clipboardService.writeText(C)}))),i.getOption(90)||b.push(new lo("diff.inline.revertChange",f("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>hx(this,void 0,void 0,function*(){this._editor.revert(this._diff)}))),b},autoSelectFirstItem:!0})};this._register(Si(this._diffActions,"mousedown",m=>{const{top:p,height:_}=Pi(this._diffActions),b=Math.floor(d/3);m.preventDefault(),g(m.posx,p+_+b)})),this._register(i.onMouseMove(m=>{(m.target.type===8||m.target.type===5)&&m.target.detail.viewZoneId===this._getViewZoneId()?(u=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,d),this.visibility=!0):this.visibility=!1})),this._register(i.onMouseDown(m=>{m.event.rightButton&&(m.target.type===8||m.target.type===5)&&m.target.detail.viewZoneId===this._getViewZoneId()&&(m.event.preventDefault(),u=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,d),g(m.event.posx,m.event.posy+d))}))}_updateLightBulbPosition(e,t,i){const{top:n}=Pi(e),o=t-n,r=Math.floor(o/i),a=r*i;if(this._diffActions.style.top=`${a}px`,this._viewLineCounts){let l=0;for(let c=0;c<this._viewLineCounts.length;c++)if(l+=this._viewLineCounts[c],r<l)return c}return r}}const M4=uc("diffEditorWidget",{createHTML:s=>s});function ale(s,e,t,i){In(i,e.fontInfo);const n=t.length>0,o=new Bm(1e4);let r=0,a=0;const l=[];for(let h=0;h<s.lineTokens.length;h++){const g=h+1,m=s.lineTokens[h],p=s.lineBreakData[h],_=Oo.filter(t,g,1,Number.MAX_SAFE_INTEGER);if(p){let b=0;for(const v of p.breakOffsets){const w=m.sliceAndInflate(b,v,0);r=Math.max(r,P4(a,w,Oo.extractWrapped(_,b,v),n,s.mightContainNonBasicASCII,s.mightContainRTL,e,o)),a++,b=v}l.push(p.breakOffsets.length)}else l.push(1),r=Math.max(r,P4(a,m,_,n,s.mightContainNonBasicASCII,s.mightContainRTL,e,o)),a++}r+=e.scrollBeyondLastColumn;const c=o.build(),d=M4?M4.createHTML(c):c;i.innerHTML=d;const u=r*e.typicalHalfwidthCharacterWidth;return{heightInLines:a,minWidthInPx:u,viewLineCounts:l}}class lle{constructor(e,t,i,n){this.lineTokens=e,this.lineBreakData=t,this.mightContainNonBasicASCII=i,this.mightContainRTL=n}}class vM{static fromEditor(e){var t;const i=e.getOptions(),n=i.get(50),o=i.get(143);return new vM(((t=e.getModel())===null||t===void 0?void 0:t.getOptions().tabSize)||0,n,i.get(33),n.typicalHalfwidthCharacterWidth,i.get(103),i.get(66),o.decorationsWidth,i.get(116),i.get(98),i.get(93),i.get(51))}constructor(e,t,i,n,o,r,a,l,c,d,u){this.tabSize=e,this.fontInfo=t,this.disableMonospaceOptimizations=i,this.typicalHalfwidthCharacterWidth=n,this.scrollBeyondLastColumn=o,this.lineHeight=r,this.lineDecorationsWidth=a,this.stopRenderingLineAfter=l,this.renderWhitespace=c,this.renderControlCharacters=d,this.fontLigatures=u}}function P4(s,e,t,i,n,o,r,a){a.appendString('<div class="view-line'),i||a.appendString(" char-delete"),a.appendString('" style="top:'),a.appendString(String(s*r.lineHeight)),a.appendString('px;width:1000000px;">');const l=e.getLineContent(),c=us.isBasicASCII(l,n),d=us.containsRTL(l,c,o),u=Dv(new Xd(r.fontInfo.isMonospace&&!r.disableMonospaceOptimizations,r.fontInfo.canUseHalfwidthRightwardsArrow,l,!1,c,d,0,e,t,r.tabSize,0,r.fontInfo.spaceWidth,r.fontInfo.middotWidth,r.fontInfo.wsmiddotWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures!==Jo.OFF,null),a);return a.appendString("</div>"),u.characterMapping.getHorizontalOffset(u.characterMapping.length)}var cle=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},O4=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let dE=class extends H{constructor(e,t,i,n,o,r,a){super(),this._editors=e,this._diffModel=t,this._options=i,this._diffEditorWidget=n,this._canIgnoreViewZoneUpdateEvent=o,this._clipboardService=r,this._contextMenuService=a,this._originalTopPadding=Bt(this,0),this._originalScrollOffset=Bt(this,0),this._originalScrollOffsetAnimated=y4(this._originalScrollOffset,this._store),this._modifiedTopPadding=Bt(this,0),this._modifiedScrollOffset=Bt(this,0),this._modifiedScrollOffsetAnimated=y4(this._modifiedScrollOffset,this._store);let l=!1;const c=Bt("state",0),d=this._register(new xt(()=>{c.set(c.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(C=>{!l&&!this._canIgnoreViewZoneUpdateEvent()&&d.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(C=>{!l&&!this._canIgnoreViewZoneUpdateEvent()&&d.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(C=>{(C.hasChanged(144)||C.hasChanged(66))&&d.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(C=>{(C.hasChanged(144)||C.hasChanged(66))&&d.schedule()}));const u=this._diffModel.map(C=>C?gn(C.model.original.onDidChangeTokens,()=>C.model.original.tokenization.backgroundTokenizationState===2):void 0).map((C,S)=>C==null?void 0:C.read(S)),h=new Set,g=new Set,m=st(C=>{const S=this._diffModel.read(C),x=S==null?void 0:S.diff.read(C);if(!S||!x)return null;c.read(C);const I=this._options.renderSideBySide.read(C);return F4(this._editors.original,this._editors.modified,x.mappings,h,g,I)}),p=st(C=>{var S;const x=(S=this._diffModel.read(C))===null||S===void 0?void 0:S.movedTextToCompare.read(C);if(!x)return null;c.read(C);const L=x.changes.map(I=>new xV(I));return F4(this._editors.original,this._editors.modified,L,h,g,!0)});function _(){const C=document.createElement("div");return C.className="diagonal-fill",C}const b=this._register(new Y),v=st(C=>{var S,x,L,I,E,W,U,F;b.clear();const O=m.read(C)||[],G=[],X=[],fe=this._modifiedTopPadding.read(C);fe>0&&X.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:fe,showInHiddenAreas:!0,suppressMouseDown:!0});const be=this._originalTopPadding.read(C);be>0&&G.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:be,showInHiddenAreas:!0,suppressMouseDown:!0});const Le=this._options.renderSideBySide.read(C),pe=Le||(S=this._editors.modified._getViewModel())===null||S===void 0?void 0:S.createLineBreaksComputer();if(pe){for(const _t of O)if(_t.diff)for(let Hi=_t.originalRange.startLineNumber;Hi<_t.originalRange.endLineNumberExclusive;Hi++)pe==null||pe.addRequest(this._editors.original.getModel().getLineContent(Hi),null,null)}const Fe=(x=pe==null?void 0:pe.finalize())!==null&&x!==void 0?x:[];let Oe=0;const ke=this._editors.modified.getOption(66),le=(L=this._diffModel.read(C))===null||L===void 0?void 0:L.movedTextToCompare.read(C),xi=(E=(I=this._editors.original.getModel())===null||I===void 0?void 0:I.mightContainNonBasicASCII())!==null&&E!==void 0?E:!1,_n=(U=(W=this._editors.original.getModel())===null||W===void 0?void 0:W.mightContainRTL())!==null&&U!==void 0?U:!1,Fi=vM.fromEditor(this._editors.modified);for(const _t of O)if(_t.diff&&!Le){if(!_t.originalRange.isEmpty){u.read(C);const js=document.createElement("div");js.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const vn=new lle(_t.originalRange.mapToLineArray(Gi=>this._editors.original.getModel().tokenization.getLineTokens(Gi)),_t.originalRange.mapToLineArray(Gi=>Fe[Oe++]),xi,_n),ze=[];for(const Gi of _t.diff.innerChanges||[])ze.push(new cb(Gi.originalRange.delta(-(_t.diff.original.startLineNumber-1)),sE.className,0));const Ks=ale(vn,Fi,ze,js),wr=document.createElement("div");if(wr.className="inline-deleted-margin-view-zone",In(wr,Fi.fontInfo),this._options.renderIndicators.read(C))for(let Gi=0;Gi<Ks.heightInLines;Gi++){const _s=document.createElement("div");_s.className=`delete-sign ${Ie.asClassName(SV)}`,_s.setAttribute("style",`position:absolute;top:${Gi*ke}px;width:${Fi.lineDecorationsWidth}px;height:${ke}px;right:0;`),wr.appendChild(_s)}let Cr;b.add(new rle(()=>Vu(Cr),wr,this._editors.modified,_t.diff,this._diffEditorWidget,Ks.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let Gi=0;Gi<Ks.viewLineCounts.length;Gi++){const _s=Ks.viewLineCounts[Gi];_s>1&&G.push({afterLineNumber:_t.originalRange.startLineNumber+Gi,domNode:_(),heightInPx:(_s-1)*ke,showInHiddenAreas:!0,suppressMouseDown:!0})}X.push({afterLineNumber:_t.modifiedRange.startLineNumber-1,domNode:js,heightInPx:Ks.heightInLines*ke,minWidthInPx:Ks.minWidthInPx,marginDomNode:wr,setZoneId(Gi){Cr=Gi},showInHiddenAreas:!0,suppressMouseDown:!0})}const Hi=document.createElement("div");Hi.className="gutter-delete",G.push({afterLineNumber:_t.originalRange.endLineNumberExclusive-1,domNode:_(),heightInPx:_t.modifiedHeightInPx,marginDomNode:Hi,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const Hi=_t.modifiedHeightInPx-_t.originalHeightInPx;if(Hi>0){if(le!=null&&le.lineRangeMapping.original.delta(-1).deltaLength(2).contains(_t.originalRange.endLineNumberExclusive-1))continue;G.push({afterLineNumber:_t.originalRange.endLineNumberExclusive-1,domNode:_(),heightInPx:Hi,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let js=function(){const ze=document.createElement("div");return ze.className="arrow-revert-change "+Ie.asClassName(se.arrowRight),te("div",{},ze)};if(le!=null&&le.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(_t.modifiedRange.endLineNumberExclusive-1))continue;let vn;_t.diff&&_t.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(C)&&(vn=js()),X.push({afterLineNumber:_t.modifiedRange.endLineNumberExclusive-1,domNode:_(),heightInPx:-Hi,marginDomNode:vn,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const _t of(F=p.read(C))!==null&&F!==void 0?F:[]){if(!(le!=null&&le.lineRangeMapping.original.intersect(_t.originalRange))||!(le!=null&&le.lineRangeMapping.modified.intersect(_t.modifiedRange)))continue;const Hi=_t.modifiedHeightInPx-_t.originalHeightInPx;Hi>0?G.push({afterLineNumber:_t.originalRange.endLineNumberExclusive-1,domNode:_(),heightInPx:Hi,showInHiddenAreas:!0,suppressMouseDown:!0}):X.push({afterLineNumber:_t.modifiedRange.endLineNumberExclusive-1,domNode:_(),heightInPx:-Hi,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:G,mod:X}});this._register(Ao(C=>{const S=na.capture(this._editors.modified),x=v.read(C);l=!0,this._editors.original.changeViewZones(L=>{for(const I of h)L.removeZone(I);h.clear();for(const I of x.orig){const E=L.addZone(I);I.setZoneId&&I.setZoneId(E),h.add(E)}}),this._editors.modified.changeViewZones(L=>{for(const I of g)L.removeZone(I);g.clear();for(const I of x.mod){const E=L.addZone(I);I.setZoneId&&I.setZoneId(E),g.add(E)}}),l=!1,S.restore(this._editors.modified)})),this._register(Re(()=>{this._editors.original.changeViewZones(C=>{for(const S of h)C.removeZone(S);h.clear()}),this._editors.modified.changeViewZones(C=>{for(const S of g)C.removeZone(S);g.clear()})}));let w=!1;this._register(this._editors.original.onDidScrollChange(C=>{C.scrollLeftChanged&&!w&&(w=!0,this._editors.modified.setScrollLeft(C.scrollLeft),w=!1)})),this._register(this._editors.modified.onDidScrollChange(C=>{C.scrollLeftChanged&&!w&&(w=!0,this._editors.original.setScrollLeft(C.scrollLeft),w=!1)})),this._originalScrollTop=gn(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=gn(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register(Rt(C=>{const S=this._originalScrollTop.read(C)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(C))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(C));S!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(S,1)})),this._register(Rt(C=>{const S=this._modifiedScrollTop.read(C)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(C))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(C));S!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(S,1)})),this._register(Rt(C=>{var S;const x=(S=this._diffModel.read(C))===null||S===void 0?void 0:S.movedTextToCompare.read(C);let L=0;if(x){const I=this._editors.original.getTopForLineNumber(x.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();L=this._editors.modified.getTopForLineNumber(x.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-I}L>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(L,void 0)):L<0?(this._modifiedTopPadding.set(-L,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-L,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+L,void 0,!0)}))}};dE=cle([O4(5,pc),O4(6,pr)],dE);function F4(s,e,t,i,n,o){const r=new rc(B4(s,i)),a=new rc(B4(e,n)),l=s.getOption(66),c=e.getOption(66),d=[];let u=0,h=0;function g(m,p){for(;;){let _=r.peek(),b=a.peek();if(_&&_.lineNumber>=m&&(_=void 0),b&&b.lineNumber>=p&&(b=void 0),!_&&!b)break;const v=_?_.lineNumber-u:Number.MAX_VALUE,w=b?b.lineNumber-h:Number.MAX_VALUE;v<w?(r.dequeue(),b={lineNumber:_.lineNumber-u+h,heightInPx:0}):v>w?(a.dequeue(),_={lineNumber:b.lineNumber-h+u,heightInPx:0}):(r.dequeue(),a.dequeue()),d.push({originalRange:it.ofLength(_.lineNumber,1),modifiedRange:it.ofLength(b.lineNumber,1),originalHeightInPx:l+_.heightInPx,modifiedHeightInPx:c+b.heightInPx,diff:void 0})}}for(const m of t){let w=function(C,S){var x,L,I,E;if(C<v||S<b)return;if(_)_=!1;else if(C===v||S===b)return;const W=new it(v,C),U=new it(b,S);if(W.isEmpty&&U.isEmpty)return;const F=(L=(x=r.takeWhile(G=>G.lineNumber<C))===null||x===void 0?void 0:x.reduce((G,X)=>G+X.heightInPx,0))!==null&&L!==void 0?L:0,O=(E=(I=a.takeWhile(G=>G.lineNumber<S))===null||I===void 0?void 0:I.reduce((G,X)=>G+X.heightInPx,0))!==null&&E!==void 0?E:0;d.push({originalRange:W,modifiedRange:U,originalHeightInPx:W.length*l+F,modifiedHeightInPx:U.length*c+O,diff:m.lineRangeMapping}),v=C,b=S};const p=m.lineRangeMapping;g(p.original.startLineNumber,p.modified.startLineNumber);let _=!0,b=p.modified.startLineNumber,v=p.original.startLineNumber;if(o)for(const C of p.innerChanges||[])C.originalRange.startColumn>1&&C.modifiedRange.startColumn>1&&w(C.originalRange.startLineNumber,C.modifiedRange.startLineNumber),C.originalRange.endColumn<s.getModel().getLineMaxColumn(C.originalRange.endLineNumber)&&w(C.originalRange.endLineNumber,C.modifiedRange.endLineNumber);w(p.original.endLineNumberExclusive,p.modified.endLineNumberExclusive),u=p.original.endLineNumberExclusive,h=p.modified.endLineNumberExclusive}return g(Number.MAX_VALUE,Number.MAX_VALUE),d}function B4(s,e){const t=[],i=[],n=s.getOption(144).wrappingColumn!==-1,o=s._getViewModel().coordinatesConverter,r=s.getOption(66);if(n)for(let l=1;l<=s.getModel().getLineCount();l++){const c=o.getModelLineViewLineCount(l);c>1&&i.push({lineNumber:l,heightInPx:r*(c-1)})}for(const l of s.getWhitespaces()){if(e.has(l.id))continue;const c=l.afterLineNumber===0?0:o.convertViewPositionToModelPosition(new P(l.afterLineNumber,1)).lineNumber;t.push({lineNumber:c,heightInPx:l.height})}return xae(t,i,l=>l.lineNumber,(l,c)=>({lineNumber:l.lineNumber,heightInPx:l.heightInPx+c.heightInPx}))}var dle=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ule=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Tr;let ic=Tr=class extends H{constructor(e,t,i,n,o,r,a,l){super(),this._editors=e,this._rootElement=t,this._diffModel=i,this._rootWidth=n,this._rootHeight=o,this._modifiedEditorLayoutInfo=r,this._options=a,this._themeService=l;const c=gn(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),d=st(g=>{const m=c.read(g),p=m.getColor(kZ)||(m.getColor(SZ)||vI).transparent(2),_=m.getColor(LZ)||(m.getColor(yZ)||wI).transparent(2);return{insertColor:p,removeColor:_}}),u=gn(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),h=gn(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollHeight());this._register(Ao((g,m)=>{if(!this._options.renderOverviewRuler.read(g))return;const p=vt(document.createElement("div"));p.setClassName("diffViewport"),p.setPosition("absolute");const _=an("div.diffOverview",{style:{position:"absolute",top:"0px",width:Tr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;m.add(ow(_,p.domNode)),m.add(Si(_,ae.POINTER_DOWN,b=>{this._editors.modified.delegateVerticalScrollbarPointerDown(b)})),m.add($(_,ae.MOUSE_WHEEL,b=>{this._editors.modified.delegateScrollFromMouseWheelEvent(b)},{passive:!1})),m.add(ow(this._rootElement,_)),m.add(Ao((b,v)=>{const w=this._diffModel.read(b),C=this._editors.original.createOverviewRuler("original diffOverviewRuler");C&&(v.add(C),v.add(ow(_,C.getDomNode())));const S=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(S&&(v.add(S),v.add(ow(_,S.getDomNode()))),!C||!S)return;const x=ts("viewZoneChanged",this._editors.original.onDidChangeViewZones),L=ts("viewZoneChanged",this._editors.modified.onDidChangeViewZones),I=ts("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),E=ts("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);v.add(Rt(W=>{var U;x.read(W),L.read(W),I.read(W),E.read(W);const F=d.read(W),O=(U=w==null?void 0:w.diff.read(W))===null||U===void 0?void 0:U.mappings;function G(be,Le,pe){const Fe=pe._getViewModel();return Fe?be.filter(Oe=>Oe.length>0).map(Oe=>{const ke=Fe.coordinatesConverter.convertModelPositionToViewPosition(new P(Oe.startLineNumber,1)),le=Fe.coordinatesConverter.convertModelPositionToViewPosition(new P(Oe.endLineNumberExclusive,1)),xi=le.lineNumber-ke.lineNumber;return new _9(ke.lineNumber,le.lineNumber,xi,Le.toString())}):[]}const X=G((O||[]).map(be=>be.lineRangeMapping.original),F.removeColor,this._editors.original),fe=G((O||[]).map(be=>be.lineRangeMapping.modified),F.insertColor,this._editors.modified);C==null||C.setZones(X),S==null||S.setZones(fe)})),v.add(Rt(W=>{const U=this._rootHeight.read(W),F=this._rootWidth.read(W),O=this._modifiedEditorLayoutInfo.read(W);if(O){const G=Tr.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Tr.ONE_OVERVIEW_WIDTH;C.setLayout({top:0,height:U,right:G+Tr.ONE_OVERVIEW_WIDTH,width:Tr.ONE_OVERVIEW_WIDTH}),S.setLayout({top:0,height:U,right:0,width:Tr.ONE_OVERVIEW_WIDTH});const X=u.read(W),fe=h.read(W),be=this._editors.modified.getOption(102),Le=new rm(be.verticalHasArrows?be.arrowSize:0,be.verticalScrollbarSize,0,O.height,fe,X);p.setTop(Le.getSliderPosition()),p.setHeight(Le.getSliderSize())}else p.setTop(0),p.setHeight(0);_.style.height=U+"px",_.style.left=F-Tr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",p.setWidth(Tr.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}))}};ic.ONE_OVERVIEW_WIDTH=15;ic.ENTIRE_DIFF_OVERVIEW_WIDTH=Tr.ONE_OVERVIEW_WIDTH*2;ic=Tr=dle([ule(7,qi)],ic);N("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},f("diffEditor.move.border","The border color for text that got moved in the diff editor."));N("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},f("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor."));class Fy extends H{constructor(){super(...arguments),this._id=++Fy.idCounter,this._onDidDispose=this._register(new M),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(e){return this._targetEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._targetEditor.getPosition()}setPosition(e,t="api"){this._targetEditor.setPosition(e,t)}revealLine(e,t=0){this._targetEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._targetEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._targetEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._targetEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._targetEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._targetEditor.revealPositionNearTop(e,t)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(e,t="api"){this._targetEditor.setSelection(e,t)}setSelections(e,t="api"){this._targetEditor.setSelections(e,t)}revealLines(e,t,i=0){this._targetEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._targetEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._targetEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,n=!0){this._targetEditor.revealRange(e,t,i,n)}revealRangeInCenter(e,t=0){this._targetEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._targetEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._targetEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(e,t,i){this._targetEditor.trigger(e,t,i)}createDecorationsCollection(e){return this._targetEditor.createDecorationsCollection(e)}changeDecorations(e){return this._targetEditor.changeDecorations(e)}}Fy.idCounter=0;var hle=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},W4=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let uE=class extends H{constructor(e,t,i,n,o,r,a){super(),this.originalEditorElement=e,this.modifiedEditorElement=t,this._options=i,this._createInnerEditor=o,this._instantiationService=r,this._keybindingService=a,this._onDidContentSizeChange=this._register(new M),this.original=this._register(this._createLeftHandSideEditor(i.editorOptions.get(),n.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(i.editorOptions.get(),n.modifiedEditor||{})),this.modifiedModel=gn(this.modified.onDidChangeModel,()=>this.modified.getModel()),this._register(My({createEmptyChangeSummary:()=>({}),handleChange:(l,c)=>(l.didChange(i.editorOptions)&&Object.assign(c,l.change.changedOptions),!0)},(l,c)=>{i.editorOptions.read(l),this._options.renderSideBySide.read(l),this.modified.updateOptions(this._adjustOptionsForRightHandSide(l,c)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(l,c))}))}_createLeftHandSideEditor(e,t){const i=this._adjustOptionsForLeftHandSide(void 0,e),n=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,i,t);return n.setContextValue("isInDiffLeftEditor",!0),n}_createRightHandSideEditor(e,t){const i=this._adjustOptionsForRightHandSide(void 0,e),n=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,i,t);return n.setContextValue("isInDiffRightEditor",!0),n}_constructInnerEditor(e,t,i,n){const o=this._createInnerEditor(e,t,i,n);return this._register(o.onDidContentSizeChange(r=>{const a=this.original.getContentWidth()+this.modified.getContentWidth()+ic.ENTIRE_DIFF_OVERVIEW_WIDTH,l=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:l,contentWidth:a,contentHeightChanged:r.contentHeightChanged,contentWidthChanged:r.contentWidthChanged})})),o}_adjustOptionsForLeftHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide.get()?(i.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},i.wordWrapOverride1=this._options.diffWordWrap.get()):(i.wordWrapOverride1="off",i.wordWrapOverride2="off",i.stickyScroll={enabled:!1},i.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),t.originalAriaLabel&&(i.ariaLabel=t.originalAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.readOnly=!this._options.originalEditable.get(),i.dropIntoEditor={enabled:!i.readOnly},i.extraEditorClassName="original-in-monaco-diff-editor",i}_adjustOptionsForRightHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.wordWrapOverride1=this._options.diffWordWrap.get(),i.revealHorizontalRightPadding=sa.revealHorizontalRightPadding.defaultValue+ic.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",i}_adjustOptionsForSubEditor(e){const t=Object.assign(Object.assign({},e),{dimension:{height:0,width:0}});return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens.get(),t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?t.stickyScroll={enabled:!1}:t.stickyScroll=this._options.editorOptions.get().stickyScroll,t}_updateAriaLabel(e){var t;e||(e="");const i=f("diff-aria-navigation-tip"," use {0} to open the accessibility help.",(t=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||t===void 0?void 0:t.getAriaLabel());return this._options.accessibilityVerbose.get()?e+i:e?e.replaceAll(i,""):""}};uE=hle([W4(5,Ae),W4(6,Et)],uE);class gle{get editorOptions(){return this._options}constructor(e,t){this.diffEditorWidth=t,this.couldShowInlineViewBecauseOfSize=st(this,n=>this._options.read(n).renderSideBySide&&this.diffEditorWidth.read(n)<=this._options.read(n).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=st(this,n=>this._options.read(n).renderOverviewRuler),this.renderSideBySide=st(this,n=>this._options.read(n).renderSideBySide&&!(this._options.read(n).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(n))),this.readOnly=st(this,n=>this._options.read(n).readOnly),this.shouldRenderRevertArrows=st(this,n=>!(!this._options.read(n).renderMarginRevertIcon||!this.renderSideBySide.read(n)||this.readOnly.read(n))),this.renderIndicators=st(this,n=>this._options.read(n).renderIndicators),this.enableSplitViewResizing=st(this,n=>this._options.read(n).enableSplitViewResizing),this.splitViewDefaultRatio=st(this,n=>this._options.read(n).splitViewDefaultRatio),this.ignoreTrimWhitespace=st(this,n=>this._options.read(n).ignoreTrimWhitespace),this.maxComputationTimeMs=st(this,n=>this._options.read(n).maxComputationTime),this.showMoves=st(this,n=>this._options.read(n).experimental.showMoves&&this.renderSideBySide.read(n)),this.isInEmbeddedEditor=st(this,n=>this._options.read(n).isInEmbeddedEditor),this.diffWordWrap=st(this,n=>this._options.read(n).diffWordWrap),this.originalEditable=st(this,n=>this._options.read(n).originalEditable),this.diffCodeLens=st(this,n=>this._options.read(n).diffCodeLens),this.accessibilityVerbose=st(this,n=>this._options.read(n).accessibilityVerbose),this.diffAlgorithm=st(this,n=>this._options.read(n).diffAlgorithm),this.showEmptyDecorations=st(this,n=>this._options.read(n).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=st(this,n=>this._options.read(n).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=st(this,n=>this._options.read(n).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=st(this,n=>this._options.read(n).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=st(this,n=>this._options.read(n).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=st(this,n=>this._options.read(n).hideUnchangedRegions.minimumLineCount);const i=Object.assign(Object.assign({},e),V4(e,$n));this._options=Bt(this,i)}updateOptions(e){const t=V4(e,this._options.get()),i=Object.assign(Object.assign(Object.assign({},this._options.get()),e),t);this._options.set(i,void 0,{changedOptions:e})}}function V4(s,e){var t,i,n,o,r,a,l,c;return{enableSplitViewResizing:Se(s.enableSplitViewResizing,e.enableSplitViewResizing),splitViewDefaultRatio:bz(s.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:Se(s.renderSideBySide,e.renderSideBySide),renderMarginRevertIcon:Se(s.renderMarginRevertIcon,e.renderMarginRevertIcon),maxComputationTime:wu(s.maxComputationTime,e.maxComputationTime,0,1073741824),maxFileSize:wu(s.maxFileSize,e.maxFileSize,0,1073741824),ignoreTrimWhitespace:Se(s.ignoreTrimWhitespace,e.ignoreTrimWhitespace),renderIndicators:Se(s.renderIndicators,e.renderIndicators),originalEditable:Se(s.originalEditable,e.originalEditable),diffCodeLens:Se(s.diffCodeLens,e.diffCodeLens),renderOverviewRuler:Se(s.renderOverviewRuler,e.renderOverviewRuler),diffWordWrap:Ci(s.diffWordWrap,e.diffWordWrap,["off","on","inherit"]),diffAlgorithm:Ci(s.diffAlgorithm,e.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:Se(s.accessibilityVerbose,e.accessibilityVerbose),experimental:{showMoves:Se((t=s.experimental)===null||t===void 0?void 0:t.showMoves,e.experimental.showMoves),showEmptyDecorations:Se((i=s.experimental)===null||i===void 0?void 0:i.showEmptyDecorations,e.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:Se((o=(n=s.hideUnchangedRegions)===null||n===void 0?void 0:n.enabled)!==null&&o!==void 0?o:(r=s.experimental)===null||r===void 0?void 0:r.collapseUnchangedRegions,e.hideUnchangedRegions.enabled),contextLineCount:wu((a=s.hideUnchangedRegions)===null||a===void 0?void 0:a.contextLineCount,e.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:wu((l=s.hideUnchangedRegions)===null||l===void 0?void 0:l.minimumLineCount,e.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:wu((c=s.hideUnchangedRegions)===null||c===void 0?void 0:c.revealLineCount,e.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:Se(s.isInEmbeddedEditor,e.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:Se(s.onlyShowAccessibleDiffViewer,e.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:wu(s.renderSideBySideInlineBreakpoint,e.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:Se(s.useInlineViewWhenSpaceIsLimited,e.useInlineViewWhenSpaceIsLimited)}}var fle=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Sp=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let Lh=class extends Fy{constructor(e,t,i,n,o,r,a,l){var c;super(),this._domElement=e,this._parentContextKeyService=n,this._parentInstantiationService=o,this._audioCueService=a,this._editorProgressService=l,this.elements=an("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[an("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[te("span",{},"No Changes")]),an("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),an("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),an("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=this._register(W1("diffModel",void 0)),this.onDidChangeModel=ce.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new cy([Me,this._contextKeyService])),this._boundarySashes=Bt(this,void 0),this._accessibleDiffViewerShouldBeVisible=Bt(this,!1),this._accessibleDiffViewerVisible=st(this,p=>this._options.onlyShowAccessibleDiffViewer.read(p)?!0:this._accessibleDiffViewerShouldBeVisible.read(p)),this.movedBlocksLinesPart=Bt(this,void 0),this._layoutInfo=st(this,p=>{var _,b,v;const w=this._rootSizeObserver.width.read(p),C=this._rootSizeObserver.height.read(p),S=(_=this._sash.read(p))===null||_===void 0?void 0:_.sashLeft.read(p),x=S!=null?S:Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),L=w-x-(this._options.renderOverviewRuler.read(p)?ic.ENTIRE_DIFF_OVERVIEW_WIDTH:0),I=(v=(b=this.movedBlocksLinesPart.read(p))===null||b===void 0?void 0:b.width.read(p))!==null&&v!==void 0?v:0,E=x-I;return this.elements.original.style.width=E+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=L+"px",this.elements.modified.style.left=x+"px",this._editors.original.layout({width:E,height:C}),this._editors.modified.layout({width:L,height:C}),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((p,_)=>p==null?void 0:p.diff.read(_)),this.onDidUpdateDiff=ce.fromObservableLight(this._diffValue),r.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register(Re(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new Dae(this.elements.root,t.dimension)),this._rootSizeObserver.setAutomaticLayout((c=t.automaticLayout)!==null&&c!==void 0?c:!1),this._options=new gle(t,this._rootSizeObserver.width),this._contextKeyService.createKey(T.isEmbeddedDiffEditor.key,!1);const d=T.isEmbeddedDiffEditor.bindTo(this._contextKeyService);this._register(Rt(p=>{d.set(this._options.isInEmbeddedEditor.read(p))}));const u=T.comparingMovedCode.bindTo(this._contextKeyService);this._register(Rt(p=>{var _;u.set(!!(!((_=this._diffModel.read(p))===null||_===void 0)&&_.movedTextToCompare.read(p)))}));const h=T.diffEditorRenderSideBySideInlineBreakpointReached.bindTo(this._contextKeyService);this._register(Rt(p=>{h.set(this._options.couldShowInlineViewBecauseOfSize.read(p))})),this._editors=this._register(this._instantiationService.createInstance(uE,this.elements.original,this.elements.modified,this._options,i,(p,_,b,v)=>this._createInnerEditor(p,_,b,v))),this._sash=z_(this,(p,_)=>{const b=this._options.renderSideBySide.read(p);if(this.elements.root.classList.toggle("side-by-side",b),!b)return;const v=_.add(new Gae(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((w,C)=>w-(this._options.renderOverviewRuler.read(C)?ic.ENTIRE_DIFF_OVERVIEW_WIDTH:0))}));return _.add(Rt(w=>{const C=this._boundarySashes.read(w);C&&v.setBoundarySashes(C)})),v}),this._register($_(this._sash)),this._register(Ao((p,_)=>{this.unchangedRangesFeature=_.add(this._instantiationService.createInstance(Oc(rE,p),this._editors,this._diffModel,this._options))})),this._register(Ao((p,_)=>{_.add(new(Oc(qae,p))(this._editors,this._diffModel,this._options))})),this._register(Ao((p,_)=>{_.add(this._instantiationService.createInstance(Oc(dE,p),this._editors,this._diffModel,this._options,this,()=>this.unchangedRangesFeature.isUpdatingViewZones))})),this._register(Ao((p,_)=>{_.add(this._instantiationService.createInstance(Oc(ic,p),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(b=>b.modifiedEditor),this._options))})),this._register(Ao((p,_)=>{this._accessibleDiffViewer=_.add(this._register(this._instantiationService.createInstance(Oc(Xc,p),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(b,v)=>this._accessibleDiffViewerShouldBeVisible.set(b,v),this._options.onlyShowAccessibleDiffViewer.map(b=>!b),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((b,v)=>{var w;return(w=b==null?void 0:b.diff.read(v))===null||w===void 0?void 0:w.mappings.map(C=>C.lineRangeMapping)}),this._editors)))}));const g=this._accessibleDiffViewerVisible.map(p=>p?"hidden":"visible");this._register(gd(this.elements.modified,{visibility:g})),this._register(gd(this.elements.original,{visibility:g})),this._createDiffEditorContributions(),r.addDiffEditor(this),this._register($_(this._layoutInfo)),this._register(Ao((p,_)=>{this.movedBlocksLinesPart.set(_.add(new(Oc(fd,p))(this.elements.root,this._diffModel,this._layoutInfo.map(b=>b.originalEditor),this._layoutInfo.map(b=>b.modifiedEditor),this._editors)),void 0)})),this._register(gd(this.elements.overlay,{width:this._layoutInfo.map((p,_)=>p.originalEditor.width+(this._options.renderSideBySide.read(_)?0:p.modifiedEditor.width)),visibility:st(p=>{var _,b;return this._options.hideUnchangedRegions.read(p)&&((b=(_=this._diffModel.read(p))===null||_===void 0?void 0:_.diff.read(p))===null||b===void 0?void 0:b.mappings.length)===0?"visible":"hidden"})})),this._register(this._editors.modified.onMouseDown(p=>{var _,b;if(!p.event.rightButton&&p.target.position&&(!((_=p.target.element)===null||_===void 0)&&_.className.includes("arrow-revert-change"))){const v=p.target.position.lineNumber,w=p.target,C=this._diffModel.get();if(!C)return;const S=(b=C.diff.get())===null||b===void 0?void 0:b.mappings;if(!S)return;const x=S.find(L=>(w==null?void 0:w.detail.afterLineNumber)===L.lineRangeMapping.modified.startLineNumber-1||L.lineRangeMapping.modified.startLineNumber===v);if(!x)return;this.revert(x.lineRangeMapping),p.event.stopPropagation()}})),this._register(ce.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,p=>{var _,b;if((p==null?void 0:p.reason)===3){const v=(b=(_=this._diffModel.get())===null||_===void 0?void 0:_.diff.get())===null||b===void 0?void 0:b.mappings.find(w=>w.lineRangeMapping.modified.contains(p.position.lineNumber));v!=null&&v.lineRangeMapping.modified.isEmpty?this._audioCueService.playAudioCue(ht.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):v!=null&&v.lineRangeMapping.original.isEmpty?this._audioCueService.playAudioCue(ht.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):v&&this._audioCueService.playAudioCue(ht.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));const m=this._diffModel.map((p,_)=>p==null?void 0:p.isDiffUpToDate.read(_));this._register(Ao((p,_)=>{if(m.read(p)===!1){const b=this._editorProgressService.show(!0,1e3);_.add(Re(()=>b.done()))}}))}_createInnerEditor(e,t,i,n){return e.createInstance(lm,t,i,n)}_createDiffEditorContributions(){const e=_f.getDiffEditorContributions();for(const t of e)try{this._register(this._instantiationService.createInstance(t.ctor,this))}catch(i){He(i)}}get _targetEditor(){return this._editors.modified}getEditorType(){return xv.IDiffEditor}layout(e){this._rootSizeObserver.observe(e)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var e;const t=this._editors.original.saveViewState(),i=this._editors.modified.saveViewState();return{original:t,modified:i,modelState:(e=this._diffModel.get())===null||e===void 0?void 0:e.serializeState()}}restoreViewState(e){var t;if(e&&e.original&&e.modified){const i=e;this._editors.original.restoreViewState(i.original),this._editors.modified.restoreViewState(i.modified),i.modelState&&((t=this._diffModel.get())===null||t===void 0||t.restoreSerializedState(i.modelState))}}createViewModel(e){return this._instantiationService.createInstance(cE,e,this._options,this)}getModel(){var e,t;return(t=(e=this._diffModel.get())===null||e===void 0?void 0:e.model)!==null&&t!==void 0?t:null}setModel(e){!e&&this._diffModel.get()&&this._accessibleDiffViewer.close();const t=e?"model"in e?e:this.createViewModel(e):void 0;this._editors.original.setModel(t?t.model.original:null),this._editors.modified.setModel(t?t.model.modified:null),Gt(i=>{this._diffModel.set(t,i)})}updateOptions(e){this._options.updateOptions(e)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var e;const t=(e=this._diffModel.get())===null||e===void 0?void 0:e.diff.get();return t?ble(t):null}revert(e){var t;const i=(t=this._diffModel.get())===null||t===void 0?void 0:t.model;if(!i)return;const n=e.innerChanges?e.innerChanges.map(o=>({range:o.modifiedRange,text:i.original.getValueInRange(o.originalRange)})):[{range:e.modified.toExclusiveRange(),text:i.original.getValueInRange(e.original.toExclusiveRange())}];this._editors.modified.executeEdits("diffEditor",n)}accessibleDiffViewerNext(){this._accessibleDiffViewer.next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.prev()}mapToOtherSide(){var e,t;const i=this._editors.modified.hasWidgetFocus(),n=i?this._editors.modified:this._editors.original,o=i?this._editors.original:this._editors.modified;let r;const a=n.getSelection();if(a){const l=(t=(e=this._diffModel.get())===null||e===void 0?void 0:e.diff.get())===null||t===void 0?void 0:t.mappings.map(c=>i?c.lineRangeMapping.flip():c.lineRangeMapping);if(l){const c=H4(a.getStartPosition(),l),d=H4(a.getEndPosition(),l);r=k.plusRange(c,d)}}return{destination:o,destinationSelection:r}}switchSide(){const{destination:e,destinationSelection:t}=this.mapToOtherSide();e.focus(),t&&e.setSelection(t)}exitCompareMove(){const e=this._diffModel.get();e&&e.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var e;const t=(e=this._diffModel.get())===null||e===void 0?void 0:e.unchangedRegions.get();t&&Gt(i=>{for(const n of t)n.collapseAll(i)})}showAllUnchangedRegions(){var e;const t=(e=this._diffModel.get())===null||e===void 0?void 0:e.unchangedRegions.get();t&&Gt(i=>{for(const n of t)n.showAll(i)})}};Lh=fle([Sp(3,Me),Sp(4,Ae),Sp(5,bt),Sp(6,Kv),Sp(7,eu)],Lh);function H4(s,e){const t=VC(e,n=>n.original.startLineNumber<=s.lineNumber);if(!t)return k.fromPositions(s);if(t.original.endLineNumberExclusive<=s.lineNumber){const n=s.lineNumber-t.original.endLineNumberExclusive+t.modified.endLineNumberExclusive;return k.fromPositions(new P(n,s.column))}if(!t.innerChanges)return k.fromPositions(new P(t.modified.startLineNumber,1));const i=VC(t.innerChanges,n=>n.originalRange.getStartPosition().isBeforeOrEqual(s));if(!i){const n=s.lineNumber-t.original.startLineNumber+t.modified.startLineNumber;return k.fromPositions(new P(n,s.column))}if(i.originalRange.containsPosition(s))return i.modifiedRange;{const n=mle(i.originalRange.getEndPosition(),s);return k.fromPositions(ple(i.modifiedRange.getEndPosition(),n))}}function mle(s,e){return s.lineNumber===e.lineNumber?new v_(0,e.column-s.column):new v_(e.lineNumber-s.lineNumber,e.column-1)}function ple(s,e){return e.lineCount===0?new P(s.lineNumber,s.column+e.columnCount):new P(s.lineNumber+e.lineCount,e.columnCount+1)}function ble(s){return s.mappings.map(e=>{const t=e.lineRangeMapping;let i,n,o,r,a=t.innerChanges;return t.original.isEmpty?(i=t.original.startLineNumber-1,n=0,a=void 0):(i=t.original.startLineNumber,n=t.original.endLineNumberExclusive-1),t.modified.isEmpty?(o=t.modified.startLineNumber-1,r=0,a=void 0):(o=t.modified.startLineNumber,r=t.modified.endLineNumberExclusive-1),{originalStartLineNumber:i,originalEndLineNumber:n,modifiedStartLineNumber:o,modifiedEndLineNumber:r,charChanges:a==null?void 0:a.map(l=>({originalStartLineNumber:l.originalRange.startLineNumber,originalStartColumn:l.originalRange.startColumn,originalEndLineNumber:l.originalRange.endLineNumber,originalEndColumn:l.originalRange.endColumn,modifiedStartLineNumber:l.modifiedRange.startLineNumber,modifiedStartColumn:l.modifiedRange.startColumn,modifiedEndLineNumber:l.modifiedRange.endLineNumber,modifiedEndColumn:l.modifiedRange.endColumn}))}})}var wM=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Kt=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let _le=0,z4=!1;function vle(s){if(!s){if(z4)return;z4=!0}wG(s||document.body)}let K1=class extends lm{constructor(e,t,i,n,o,r,a,l,c,d,u,h){const g=Object.assign({},t);g.ariaLabel=g.ariaLabel||b1.editorViewAccessibleLabel,g.ariaLabel=g.ariaLabel+";"+b1.accessibilityHelpMessage,super(e,g,{},i,n,o,r,l,c,d,u,h),a instanceof pm?this._standaloneKeybindingService=a:this._standaloneKeybindingService=null,vle(g.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const n="DYNAMIC_"+ ++_le,o=Z.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,o),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if(typeof e.id!="string"||typeof e.label!="string"||typeof e.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),H.None;const t=e.id,i=e.label,n=Z.and(Z.equals("editorId",this.getId()),Z.deserialize(e.precondition)),o=e.keybindings,r=Z.and(n,Z.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,c=(g,...m)=>Promise.resolve(e.run(this,...m)),d=new Y,u=this.getId()+":"+t;if(d.add(lt.registerCommand(u,c)),a){const g={command:{id:u,title:i},when:n,group:a,order:l};d.add(hn.appendMenuItem(D.EditorContext,g))}if(Array.isArray(o))for(const g of o)d.add(this._standaloneKeybindingService.addDynamicKeybinding(u,g,c,r));const h=new v9(u,i,i,n,(...g)=>Promise.resolve(e.run(this,...g)),this._contextKeyService);return this._actions.set(t,h),d.add(Re(()=>{this._actions.delete(t)})),d}_triggerCommand(e,t){if(this._codeEditorService instanceof c1)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};K1=wM([Kt(2,Ae),Kt(3,bt),Kt(4,ci),Kt(5,Me),Kt(6,Et),Kt(7,qi),Kt(8,Li),Kt(9,hc),Kt(10,Mt),Kt(11,me)],K1);let hE=class extends K1{constructor(e,t,i,n,o,r,a,l,c,d,u,h,g,m,p){const _=Object.assign({},t);B1(d,_,!1);const b=l.registerEditorContainer(e);typeof _.theme=="string"&&l.setTheme(_.theme),typeof _.autoDetectHighContrast!="undefined"&&l.setAutoDetectHighContrast(!!_.autoDetectHighContrast);const v=_.model;delete _.model,super(e,_,i,n,o,r,a,l,c,u,m,p),this._configurationService=d,this._standaloneThemeService=l,this._register(b);let w;if(typeof v=="undefined"){const C=g.getLanguageIdByMimeType(_.language)||_.language||ls;w=DV(h,g,_.value||"",C,void 0),this._ownsModel=!0}else w=v,this._ownsModel=!1;if(this._attachModel(w),w){const C={oldModelUrl:null,newModelUrl:w.uri};this._onDidChangeModel.fire(C)}}dispose(){super.dispose()}updateOptions(e){B1(this._configurationService,e,!1),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};hE=wM([Kt(2,Ae),Kt(3,bt),Kt(4,ci),Kt(5,Me),Kt(6,Et),Kt(7,bs),Kt(8,Li),Kt(9,ot),Kt(10,hc),Kt(11,Qt),Kt(12,qt),Kt(13,Mt),Kt(14,me)],hE);let gE=class extends Lh{constructor(e,t,i,n,o,r,a,l,c,d,u,h){const g=Object.assign({},t);B1(l,g,!0);const m=r.registerEditorContainer(e);typeof g.theme=="string"&&r.setTheme(g.theme),typeof g.autoDetectHighContrast!="undefined"&&r.setAutoDetectHighContrast(!!g.autoDetectHighContrast),super(e,g,{},n,i,o,h,d),this._configurationService=l,this._standaloneThemeService=r,this._register(m)}dispose(){super.dispose()}updateOptions(e){B1(this._configurationService,e,!0),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(K1,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};gE=wM([Kt(2,Ae),Kt(3,Me),Kt(4,bt),Kt(5,bs),Kt(6,Li),Kt(7,ot),Kt(8,pr),Kt(9,eu),Kt(10,pc),Kt(11,Kv)],gE);function DV(s,e,t,i,n){if(t=t||"",!i){const o=t.indexOf(`
`);let r=t;return o!==-1&&(r=t.substring(0,o)),U4(s,t,e.createByFilepathOrFirstLine(n||null,r),n)}return U4(s,t,e.createById(i),n)}function U4(s,e,t,i){return s.createModel(e,t,i)}var IV=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function wle(s,e,t){return Ne.initialize(t||{}).createInstance(hE,s,e)}function Cle(s){return Ne.get(bt).onCodeEditorAdd(t=>{s(t)})}function Sle(s){return Ne.get(bt).onDiffEditorAdd(t=>{s(t)})}function yle(){return Ne.get(bt).listCodeEditors()}function kle(){return Ne.get(bt).listDiffEditors()}function Lle(s,e,t){return Ne.initialize(t||{}).createInstance(gE,s,e)}function xle(s){if(typeof s.id!="string"||typeof s.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return lt.registerCommand(s.id,s.run)}function Dle(s){if(typeof s.id!="string"||typeof s.label!="string"||typeof s.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const e=Z.deserialize(s.precondition),t=(n,...o)=>nn.runEditorCommand(n,o,e,(r,a,l)=>Promise.resolve(s.run(a,...l))),i=new Y;if(i.add(lt.registerCommand(s.id,t)),s.contextMenuGroupId){const n={command:{id:s.id,title:s.label},when:e,group:s.contextMenuGroupId,order:s.contextMenuOrder||0};i.add(hn.appendMenuItem(D.EditorContext,n))}if(Array.isArray(s.keybindings)){const n=Ne.get(Et);if(!(n instanceof pm))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const o=Z.and(e,Z.deserialize(s.keybindingContext));i.add(n.addDynamicKeybindings(s.keybindings.map(r=>({keybinding:r,command:s.id,when:o}))))}}return i}function Ile(s){return TV([s])}function TV(s){const e=Ne.get(Et);return e instanceof pm?e.addDynamicKeybindings(s.map(t=>({keybinding:t.keybinding,command:t.command,commandArgs:t.commandArgs,when:Z.deserialize(t.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),H.None)}function Tle(s,e,t){const i=Ne.get(qt),n=i.getLanguageIdByMimeType(e)||e;return DV(Ne.get(Qt),i,s,n,t)}function Ele(s,e){const t=Ne.get(qt),i=t.getLanguageIdByMimeType(e)||e||ls;s.setLanguage(t.createById(i))}function Nle(s,e,t){s&&Ne.get(gl).changeOne(e,s.uri,t)}function Ale(s){Ne.get(gl).changeAll(s,[])}function Rle(s){return Ne.get(gl).read(s)}function Mle(s){return Ne.get(gl).onMarkerChanged(s)}function Ple(s){return Ne.get(Qt).getModel(s)}function Ole(){return Ne.get(Qt).getModels()}function Fle(s){return Ne.get(Qt).onModelAdded(s)}function Ble(s){return Ne.get(Qt).onModelRemoved(s)}function Wle(s){return Ne.get(Qt).onModelLanguageChanged(t=>{s({model:t.model,oldLanguage:t.oldLanguageId})})}function Vle(s){return qq(Ne.get(Qt),Ne.get(Mt),s)}function Hle(s,e){const t=Ne.get(qt),i=Ne.get(bs);return jA.colorizeElement(i,t,s,e).then(()=>{i.registerEditorContainer(s)})}function zle(s,e,t){const i=Ne.get(qt);return Ne.get(bs).registerEditorContainer(document.body),jA.colorize(i,s,e,t)}function Ule(s,e,t=4){return Ne.get(bs).registerEditorContainer(document.body),jA.colorizeModelLine(s,e,t)}function $le(s){const e=ei.get(s);return e||{getInitialState:()=>Jf,tokenize:(t,i,n)=>zA(s,n)}}function jle(s,e){ei.getOrCreate(e);const t=$le(e),i=Xa(s),n=[];let o=t.getInitialState();for(let r=0,a=i.length;r<a;r++){const l=i[r],c=t.tokenize(l,!0,o);n[r]=c.tokens,o=c.endState}return n}function Kle(s,e){Ne.get(bs).defineTheme(s,e)}function qle(s){Ne.get(bs).setTheme(s)}function Gle(){qD.clearAllFontInfos()}function Zle(s,e){return lt.registerCommand({id:s,handler:e})}function Qle(s){return Ne.get($o).registerOpener({open(t){return IV(this,void 0,void 0,function*(){return typeof t=="string"&&(t=De.parse(t)),s.open(t)})}})}function Yle(s){return Ne.get(bt).registerCodeEditorOpenHandler((t,i,n)=>IV(this,void 0,void 0,function*(){var o;if(!i)return null;const r=(o=t.options)===null||o===void 0?void 0:o.selection;let a;return r&&typeof r.endLineNumber=="number"&&typeof r.endColumn=="number"?a=r:r&&(a={lineNumber:r.startLineNumber,column:r.startColumn}),(yield s.openCodeEditor(i,t.resource,a))?i:null}))}function Xle(){return{create:wle,getEditors:yle,getDiffEditors:kle,onDidCreateEditor:Cle,onDidCreateDiffEditor:Sle,createDiffEditor:Lle,addCommand:xle,addEditorAction:Dle,addKeybindingRule:Ile,addKeybindingRules:TV,createModel:Tle,setModelLanguage:Ele,setModelMarkers:Nle,getModelMarkers:Rle,removeAllMarkers:Ale,onDidChangeMarkers:Mle,getModels:Ole,getModel:Ple,onDidCreateModel:Fle,onWillDisposeModel:Ble,onDidChangeModelLanguage:Wle,createWebWorker:Vle,colorizeElement:Hle,colorize:zle,colorizeModelLine:Ule,tokenize:jle,defineTheme:Kle,setTheme:qle,remeasureFonts:Gle,registerCommand:Zle,registerLinkOpener:Qle,registerEditorOpener:Yle,AccessibilitySupport:sD,ContentWidgetPositionPreference:uD,CursorChangeReason:hD,DefaultEndOfLine:gD,EditorAutoIndentStrategy:mD,EditorOption:pD,EndOfLinePreference:bD,EndOfLineSequence:_D,MinimapPosition:DD,MouseTargetType:ID,OverlayWidgetPositionPreference:TD,OverviewRulerLane:ED,GlyphMarginLane:vD,RenderLineNumbersType:AD,RenderMinimap:RD,ScrollbarVisibility:PD,ScrollType:MD,TextEditorCursorBlinkingStyle:VD,TextEditorCursorStyle:HD,TrackedRangeStickiness:zD,WrappingIndent:UD,InjectedTextCursorStops:CD,PositionAffinity:ND,ConfigurationChangedEvent:eW,BareFontInfo:Xu,FontInfo:KD,TextModelResolvedOptions:Uw,FindMatch:e_,ApplyUpdateResult:rb,EditorZoom:ks,EditorType:xv,EditorOptions:sa}}function Jle(s,e){if(!e||!Array.isArray(e))return!1;for(const t of e)if(!s(t))return!1;return!0}function sw(s,e){return typeof s=="boolean"?s:e}function $4(s,e){return typeof s=="string"?s:e}function ece(s){const e={};for(const t of s)e[t]=!0;return e}function j4(s,e=!1){e&&(s=s.map(function(i){return i.toLowerCase()}));const t=ece(s);return e?function(i){return t[i.toLowerCase()]!==void 0&&t.hasOwnProperty(i.toLowerCase())}:function(i){return t[i]!==void 0&&t.hasOwnProperty(i)}}function fE(s,e){e=e.replace(/@@/g,"");let t=0,i;do i=!1,e=e.replace(/@(\w+)/g,function(o,r){i=!0;let a="";if(typeof s[r]=="string")a=s[r];else if(s[r]&&s[r]instanceof RegExp)a=s[r].source;else throw s[r]===void 0?zt(s,"language definition does not contain attribute '"+r+"', used at: "+e):zt(s,"attribute reference '"+r+"' must be a string, used at: "+e);return Rg(a)?"":"(?:"+a+")"}),t++;while(i&&t<5);e=e.replace(/\x01/g,"@");const n=(s.ignoreCase?"i":"")+(s.unicode?"u":"");return new RegExp(e,n)}function tce(s,e,t,i){if(i<0)return s;if(i<e.length)return e[i];if(i>=100){i=i-100;const n=t.split(".");if(n.unshift(t),i<n.length)return n[i]}return null}function ice(s,e,t,i){let n=-1,o=t,r=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);r&&(r[3]&&(n=parseInt(r[3]),r[2]&&(n=n+100)),o=r[4]);let a="~",l=o;!o||o.length===0?(a="!=",l=""):/^\w*$/.test(l)?a="==":(r=o.match(/^(@|!@|~|!~|==|!=)(.*)$/),r&&(a=r[1],l=r[2]));let c;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(l)){const d=j4(l.split("|"),s.ignoreCase);c=function(u){return a==="~"?d(u):!d(u)}}else if(a==="@"||a==="!@"){const d=s[l];if(!d)throw zt(s,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!Jle(function(h){return typeof h=="string"},d))throw zt(s,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);const u=j4(d,s.ignoreCase);c=function(h){return a==="@"?u(h):!u(h)}}else if(a==="~"||a==="!~")if(l.indexOf("$")<0){const d=fE(s,"^"+l+"$");c=function(u){return a==="~"?d.test(u):!d.test(u)}}else c=function(d,u,h,g){return fE(s,"^"+Bc(s,l,u,h,g)+"$").test(d)};else if(l.indexOf("$")<0){const d=ad(s,l);c=function(u){return a==="=="?u===d:u!==d}}else{const d=ad(s,l);c=function(u,h,g,m,p){const _=Bc(s,d,h,g,m);return a==="=="?u===_:u!==_}}return n===-1?{name:t,value:i,test:function(d,u,h,g){return c(d,d,u,h,g)}}:{name:t,value:i,test:function(d,u,h,g){const m=tce(d,u,h,n);return c(m||"",d,u,h,g)}}}function mE(s,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw zt(s,"a 'token' attribute must be of type string, in rule: "+e);{const i={token:t.token};if(t.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")i.bracket=1;else if(t.bracket==="@close")i.bracket=-1;else throw zt(s,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw zt(s,"the next state must be a string value in rule: "+e);{let n=t.next;if(!/^(@pop|@push|@popall)$/.test(n)&&(n[0]==="@"&&(n=n.substr(1)),n.indexOf("$")<0&&!hG(s,Bc(s,n,"",[],""))))throw zt(s,"the next state '"+t.next+"' is not defined in rule: "+e);i.next=n}}return typeof t.goBack=="number"&&(i.goBack=t.goBack),typeof t.switchTo=="string"&&(i.switchTo=t.switchTo),typeof t.log=="string"&&(i.log=t.log),typeof t.nextEmbedded=="string"&&(i.nextEmbedded=t.nextEmbedded,s.usesEmbedded=!0),i}}else if(Array.isArray(t)){const i=[];for(let n=0,o=t.length;n<o;n++)i[n]=mE(s,e,t[n]);return{group:i}}else if(t.cases){const i=[];for(const o in t.cases)if(t.cases.hasOwnProperty(o)){const r=mE(s,e,t.cases[o]);o==="@default"||o==="@"||o===""?i.push({test:void 0,value:r,name:o}):o==="@eos"?i.push({test:function(a,l,c,d){return d},value:r,name:o}):i.push(ice(s,e,o,r))}const n=s.defaultToken;return{test:function(o,r,a,l){for(const c of i)if(!c.test||c.test(o,r,a,l))return c.value;return n}}}else throw zt(s,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}class nce{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if(typeof t=="string")i=t;else if(t instanceof RegExp)i=t.source;else throw zt(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=fE(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=mE(e,this.name,t)}}function EV(s,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");const t={};t.languageId=s,t.includeLF=sw(e.includeLF,!1),t.noThrow=!1,t.maxStack=100,t.start=typeof e.start=="string"?e.start:null,t.ignoreCase=sw(e.ignoreCase,!1),t.unicode=sw(e.unicode,!1),t.tokenPostfix=$4(e.tokenPostfix,"."+t.languageId),t.defaultToken=$4(e.defaultToken,"source"),t.usesEmbedded=!1;const i=e;i.languageId=s,i.includeLF=t.includeLF,i.ignoreCase=t.ignoreCase,i.unicode=t.unicode,i.noThrow=t.noThrow,i.usesEmbedded=t.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=t.defaultToken;function n(r,a,l){for(const c of l){let d=c.include;if(d){if(typeof d!="string")throw zt(t,"an 'include' attribute must be a string at: "+r);if(d[0]==="@"&&(d=d.substr(1)),!e.tokenizer[d])throw zt(t,"include target '"+d+"' is not defined at: "+r);n(r+"."+d,a,e.tokenizer[d])}else{const u=new nce(r);if(Array.isArray(c)&&c.length>=1&&c.length<=3)if(u.setRegex(i,c[0]),c.length>=3)if(typeof c[1]=="string")u.setAction(i,{token:c[1],next:c[2]});else if(typeof c[1]=="object"){const h=c[1];h.next=c[2],u.setAction(i,h)}else throw zt(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+r);else u.setAction(i,c[1]);else{if(!c.regex)throw zt(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+r);c.name&&typeof c.name=="string"&&(u.name=c.name),c.matchOnlyAtStart&&(u.matchOnlyAtLineStart=sw(c.matchOnlyAtLineStart,!1)),u.setRegex(i,c.regex),u.setAction(i,c.action)}a.push(u)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw zt(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(const r in e.tokenizer)if(e.tokenizer.hasOwnProperty(r)){t.start||(t.start=r);const a=e.tokenizer[r];t.tokenizer[r]=new Array,n("tokenizer."+r,t.tokenizer[r],a)}if(t.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw zt(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const o=[];for(const r of e.brackets){let a=r;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw zt(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")o.push({token:a.token+t.tokenPostfix,open:ad(t,a.open),close:ad(t,a.close)});else throw zt(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=o,t.noThrow=!0,t}var oce=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function sce(s){Yf.registerLanguage(s)}function rce(){let s=[];return s=s.concat(Yf.getLanguages()),s}function ace(s){return Ne.get(qt).languageIdCodec.encodeLanguageId(s)}function lce(s,e){return Ne.withServices(()=>{const i=Ne.get(qt).onDidRequestRichLanguageFeatures(n=>{n===s&&(i.dispose(),e())});return i})}function cce(s,e){return Ne.withServices(()=>{const i=Ne.get(qt).onDidRequestBasicLanguageFeatures(n=>{n===s&&(i.dispose(),e())});return i})}function dce(s,e){if(!Ne.get(qt).isRegisteredLanguageId(s))throw new Error(`Cannot set configuration for unknown language ${s}`);return Ne.get(Mt).register(s,e,100)}class uce{constructor(e,t){this._languageId=e,this._actual=t}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if(typeof this._actual.tokenize=="function")return j_.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){const n=this._actual.tokenizeEncoded(e,i);return new LS(n.tokens,n.endState)}}class j_{constructor(e,t,i,n){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=n}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){const i=[];let n=0;for(let o=0,r=e.length;o<r;o++){const a=e[o];let l=a.startIndex;o===0?l=0:l<n&&(l=n),i[o]=new $b(l,a.scopes,t),n=l}return i}static adaptTokenize(e,t,i,n){const o=t.tokenize(i,n),r=j_._toClassicTokens(o.tokens,e);let a;return o.endState.equals(n)?a=n:a=o.endState,new _A(r,a)}tokenize(e,t,i){return j_.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){const i=e.encodeLanguageId(this._languageId),n=this._standaloneThemeService.getColorTheme().tokenTheme,o=[];let r=0,a=0;for(let c=0,d=t.length;c<d;c++){const u=t[c],h=n.match(i,u.scopes)|1024;if(r>0&&o[r-1]===h)continue;let g=u.startIndex;c===0?g=0:g<a&&(g=a),o[r++]=g,o[r++]=h,a=g}const l=new Uint32Array(r);for(let c=0;c<r;c++)l[c]=o[c];return l}tokenizeEncoded(e,t,i){const n=this._actual.tokenize(e,i),o=this._toBinaryTokens(this._languageService.languageIdCodec,n.tokens);let r;return n.endState.equals(i)?r=i:r=n.endState,new LS(o,r)}}function hce(s){return typeof s.getInitialState=="function"}function gce(s){return"tokenizeEncoded"in s}function NV(s){return s&&typeof s.then=="function"}function fce(s){const e=Ne.get(bs);if(s){const t=[null];for(let i=1,n=s.length;i<n;i++)t[i]=V.fromHex(s[i]);e.setColorMapOverride(t)}else e.setColorMapOverride(null)}function AV(s,e){return gce(e)?new uce(s,e):new j_(s,e,Ne.get(qt),Ne.get(bs))}function CM(s,e){const t=new UU(()=>oce(this,void 0,void 0,function*(){const i=yield Promise.resolve(e.create());return i?hce(i)?AV(s,i):new a_(Ne.get(qt),Ne.get(bs),s,EV(s,i),Ne.get(ot)):null}));return ei.registerFactory(s,t)}function mce(s,e){if(!Ne.get(qt).isRegisteredLanguageId(s))throw new Error(`Cannot set tokens provider for unknown language ${s}`);return NV(e)?CM(s,{create:()=>e}):ei.register(s,AV(s,e))}function pce(s,e){const t=i=>new a_(Ne.get(qt),Ne.get(bs),s,EV(s,i),Ne.get(ot));return NV(e)?CM(s,{create:()=>e}):ei.register(s,t(e))}function bce(s,e){return Ne.get(me).referenceProvider.register(s,e)}function _ce(s,e){return Ne.get(me).renameProvider.register(s,e)}function vce(s,e){return Ne.get(me).signatureHelpProvider.register(s,e)}function wce(s,e){return Ne.get(me).hoverProvider.register(s,{provideHover:(i,n,o)=>{const r=i.getWordAtPosition(n);return Promise.resolve(e.provideHover(i,n,o)).then(a=>{if(a)return!a.range&&r&&(a.range=new k(n.lineNumber,r.startColumn,n.lineNumber,r.endColumn)),a.range||(a.range=new k(n.lineNumber,n.column,n.lineNumber,n.column)),a})}})}function Cce(s,e){return Ne.get(me).documentSymbolProvider.register(s,e)}function Sce(s,e){return Ne.get(me).documentHighlightProvider.register(s,e)}function yce(s,e){return Ne.get(me).linkedEditingRangeProvider.register(s,e)}function kce(s,e){return Ne.get(me).definitionProvider.register(s,e)}function Lce(s,e){return Ne.get(me).implementationProvider.register(s,e)}function xce(s,e){return Ne.get(me).typeDefinitionProvider.register(s,e)}function Dce(s,e){return Ne.get(me).codeLensProvider.register(s,e)}function Ice(s,e,t){return Ne.get(me).codeActionProvider.register(s,{providedCodeActionKinds:t==null?void 0:t.providedCodeActionKinds,documentation:t==null?void 0:t.documentation,provideCodeActions:(n,o,r,a)=>{const c=Ne.get(gl).read({resource:n.uri}).filter(d=>k.areIntersectingOrTouching(d,o));return e.provideCodeActions(n,o,{markers:c,only:r.only,trigger:r.trigger},a)},resolveCodeAction:e.resolveCodeAction})}function Tce(s,e){return Ne.get(me).documentFormattingEditProvider.register(s,e)}function Ece(s,e){return Ne.get(me).documentRangeFormattingEditProvider.register(s,e)}function Nce(s,e){return Ne.get(me).onTypeFormattingEditProvider.register(s,e)}function Ace(s,e){return Ne.get(me).linkProvider.register(s,e)}function Rce(s,e){return Ne.get(me).completionProvider.register(s,e)}function Mce(s,e){return Ne.get(me).colorProvider.register(s,e)}function Pce(s,e){return Ne.get(me).foldingRangeProvider.register(s,e)}function Oce(s,e){return Ne.get(me).declarationProvider.register(s,e)}function Fce(s,e){return Ne.get(me).selectionRangeProvider.register(s,e)}function Bce(s,e){return Ne.get(me).documentSemanticTokensProvider.register(s,e)}function Wce(s,e){return Ne.get(me).documentRangeSemanticTokensProvider.register(s,e)}function Vce(s,e){return Ne.get(me).inlineCompletionsProvider.register(s,e)}function Hce(s,e){return Ne.get(me).inlayHintsProvider.register(s,e)}function zce(){return{register:sce,getLanguages:rce,onLanguage:lce,onLanguageEncountered:cce,getEncodedLanguageId:ace,setLanguageConfiguration:dce,setColorMap:fce,registerTokensProviderFactory:CM,setTokensProvider:mce,setMonarchTokensProvider:pce,registerReferenceProvider:bce,registerRenameProvider:_ce,registerCompletionItemProvider:Rce,registerSignatureHelpProvider:vce,registerHoverProvider:wce,registerDocumentSymbolProvider:Cce,registerDocumentHighlightProvider:Sce,registerLinkedEditingRangeProvider:yce,registerDefinitionProvider:kce,registerImplementationProvider:Lce,registerTypeDefinitionProvider:xce,registerCodeLensProvider:Dce,registerCodeActionProvider:Ice,registerDocumentFormattingEditProvider:Tce,registerDocumentRangeFormattingEditProvider:Ece,registerOnTypeFormattingEditProvider:Nce,registerLinkProvider:Ace,registerColorProvider:Mce,registerFoldingRangeProvider:Pce,registerDeclarationProvider:Oce,registerSelectionRangeProvider:Fce,registerDocumentSemanticTokensProvider:Bce,registerDocumentRangeSemanticTokensProvider:Wce,registerInlineCompletionsProvider:Vce,registerInlayHintsProvider:Hce,DocumentHighlightKind:fD,CompletionItemKind:lD,CompletionItemTag:cD,CompletionItemInsertTextRule:aD,SymbolKind:BD,SymbolTag:WD,IndentAction:wD,CompletionTriggerKind:dD,SignatureHelpTriggerKind:FD,InlayHintKind:SD,InlineCompletionTriggerKind:yD,CodeActionTriggerType:rD,FoldingRangeKind:so,SelectedSuggestionInfo:pW}}const SM=et("IEditorCancelService"),RV=new de("cancellableOperation",!1,f("vs/editor/contrib/editorState/browser/keybindingCancellation","cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));ct(SM,class{constructor(){this._tokens=new WeakMap}add(s,e){let t=this._tokens.get(s);t||(t=s.invokeWithinContext(n=>{const o=RV.bindTo(n.get(Me)),r=new oo;return{key:o,tokens:r}}),this._tokens.set(s,t));let i;return t.key.set(!0),i=t.tokens.push(e),()=>{i&&(i(),t.key.set(!t.tokens.isEmpty()),i=void 0)}}cancel(s){const e=this._tokens.get(s);if(!e)return;const t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},1);class Uce extends yi{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext(i=>i.get(SM).add(e,this))}dispose(){this._unregister(),super.dispose()}}re(new class extends nn{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:RV})}runEditorCommand(s,e){s.get(SM).cancel(e)}});let MV=class pE{constructor(e,t){if(this.flags=t,this.flags&1){const i=e.getModel();this.modelVersionId=i?uh("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=e.getPosition():this.position=null,this.flags&2?this.selection=e.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof pE))return!1;const t=e;return!(this.modelVersionId!==t.modelVersionId||this.scrollLeft!==t.scrollLeft||this.scrollTop!==t.scrollTop||!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position)||!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))}validate(e){return this._equals(new pE(e,this.flags))}};class Pd extends Uce{constructor(e,t,i,n){super(e,n),this._listener=new Y,t&4&&this._listener.add(e.onDidChangeCursorPosition(o=>{(!i||!k.containsPosition(i,o.position))&&this.cancel()})),t&2&&this._listener.add(e.onDidChangeCursorSelection(o=>{(!i||!k.containsRange(i,o.selection))&&this.cancel()})),t&8&&this._listener.add(e.onDidScrollChange(o=>this.cancel())),t&1&&(this._listener.add(e.onDidChangeModel(o=>this.cancel())),this._listener.add(e.onDidChangeModelContent(o=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class yM extends yi{constructor(e,t){super(t),this._listener=e.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}function al(s){return s&&typeof s.getEditorType=="function"?s.getEditorType()===xv.ICodeEditor:!1}function PV(s){return s&&typeof s.getEditorType=="function"?s.getEditorType()===xv.IDiffEditor:!1}function $ce(s){return!!s&&typeof s=="object"&&typeof s.onDidChangeActiveEditor=="function"}function OV(s){return al(s)?s:PV(s)?s.getModifiedEditor():$ce(s)&&al(s.activeCodeEditor)?s.activeCodeEditor:null}class bm{static _handleEolEdits(e,t){let i;const n=[];for(const o of t)typeof o.eol=="number"&&(i=o.eol),o.range&&typeof o.text=="string"&&n.push(o);return typeof i=="number"&&e.hasModel()&&e.getModel().pushEOL(i),n}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const i=e.getModel(),n=i.validateRange(t.range);return i.getFullModelRange().equalsRange(n)}static execute(e,t,i){i&&e.pushUndoStop();const n=na.capture(e),o=bm._handleEolEdits(e,t);o.length===1&&bm._isFullModelReplaceEdit(e,o[0])?e.executeEdits("formatEditsCommand",o.map(r=>Zt.replace(k.lift(r.range),r.text))):e.executeEdits("formatEditsCommand",o.map(r=>Zt.replaceMove(k.lift(r.range),r.text))),i&&e.pushUndoStop(),n.restoreRelativeVerticalPositionOfCursor(e)}}class K4{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}class jce{constructor(e){if(this._set=new Set,e)for(const t of e)this.add(t)}add(e){this._set.add(K4.toKey(e))}has(e){return this._set.has(K4.toKey(e))}}var oa=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function kM(s){if(s=s.filter(n=>n.range),!s.length)return;let{range:e}=s[0];for(let n=1;n<s.length;n++)e=k.plusRange(e,s[n].range);const{startLineNumber:t,endLineNumber:i}=e;t===i?s.length===1?Fn(f("vs/editor/contrib/format/browser/format","hint11","Made 1 formatting edit on line {0}",t)):Fn(f("vs/editor/contrib/format/browser/format","hintn1","Made {0} formatting edits on line {1}",s.length,t)):s.length===1?Fn(f("vs/editor/contrib/format/browser/format","hint1n","Made 1 formatting edit between lines {0} and {1}",t,i)):Fn(f("vs/editor/contrib/format/browser/format","hintnn","Made {0} formatting edits between lines {1} and {2}",s.length,t,i))}function FV(s,e,t){const i=[],n=new jce,o=s.ordered(t);for(const a of o)i.push(a),a.extensionId&&n.add(a.extensionId);const r=e.ordered(t);for(const a of r){if(a.extensionId){if(n.has(a.extensionId))continue;n.add(a.extensionId)}i.push({displayName:a.displayName,extensionId:a.extensionId,provideDocumentFormattingEdits(l,c,d){return a.provideDocumentRangeFormattingEdits(l,l.getFullModelRange(),c,d)}})}return i}class xh{static setFormatterSelector(e){return{dispose:xh._selectors.unshift(e)}}static select(e,t,i){return oa(this,void 0,void 0,function*(){if(e.length===0)return;const n=Ye.first(xh._selectors);if(n)return yield n(e,t,i)})}}xh._selectors=new oo;function BV(s,e,t,i,n,o){return oa(this,void 0,void 0,function*(){const r=s.get(Ae),{documentRangeFormattingEditProvider:a}=s.get(me),l=al(e)?e.getModel():e,c=a.ordered(l),d=yield xh.select(c,l,i);d&&(n.report(d),yield r.invokeFunction(Kce,d,e,t,o))})}function Kce(s,e,t,i,n){var o,r;return oa(this,void 0,void 0,function*(){const a=s.get(vr),l=s.get(ps);let c,d;al(t)?(c=t.getModel(),d=new Pd(t,5,void 0,n)):(c=t,d=new yM(t,n));const u=[];let h=0;for(const b of rA(i).sort(k.compareRangesUsingStarts))h>0&&k.areIntersectingOrTouching(u[h-1],b)?u[h-1]=k.fromPositions(u[h-1].getStartPosition(),b.getEndPosition()):h=u.push(b);const g=b=>oa(this,void 0,void 0,function*(){var v,w;l.trace("[format][provideDocumentRangeFormattingEdits] (request)",(v=e.extensionId)===null||v===void 0?void 0:v.value,b);const C=(yield e.provideDocumentRangeFormattingEdits(c,b,c.getFormattingOptions(),d.token))||[];return l.trace("[format][provideDocumentRangeFormattingEdits] (response)",(w=e.extensionId)===null||w===void 0?void 0:w.value,C),C}),m=(b,v)=>{if(!b.length||!v.length)return!1;const w=b.reduce((C,S)=>k.plusRange(C,S.range),b[0].range);if(!v.some(C=>k.intersectRanges(w,C.range)))return!1;for(const C of b)for(const S of v)if(k.intersectRanges(C.range,S.range))return!0;return!1},p=[],_=[];try{if(typeof e.provideDocumentRangesFormattingEdits=="function"){l.trace("[format][provideDocumentRangeFormattingEdits] (request)",(o=e.extensionId)===null||o===void 0?void 0:o.value,u);const b=(yield e.provideDocumentRangesFormattingEdits(c,u,c.getFormattingOptions(),d.token))||[];l.trace("[format][provideDocumentRangeFormattingEdits] (response)",(r=e.extensionId)===null||r===void 0?void 0:r.value,b),_.push(b)}else{for(const b of u){if(d.token.isCancellationRequested)return!0;_.push(yield g(b))}for(let b=0;b<u.length;++b)for(let v=b+1;v<u.length;++v){if(d.token.isCancellationRequested)return!0;if(m(_[b],_[v])){const w=k.plusRange(u[b],u[v]),C=yield g(w);u.splice(v,1),u.splice(b,1),u.push(w),_.splice(v,1),_.splice(b,1),_.push(C),b=0,v=0}}}for(const b of _){if(d.token.isCancellationRequested)return!0;const v=yield a.computeMoreMinimalEdits(c.uri,b);v&&p.push(...v)}}finally{d.dispose()}if(p.length===0)return!1;if(al(t))bm.execute(t,p,!0),kM(p),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1);else{const[{range:b}]=p,v=new _e(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn);c.pushEditOperations([v],p.map(w=>({text:w.text,range:k.lift(w.range),forceMoveMarkers:!0})),w=>{for(const{range:C}of w)if(k.areIntersectingOrTouching(C,v))return[new _e(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn)];return null})}return!0})}function qce(s,e,t,i,n){return oa(this,void 0,void 0,function*(){const o=s.get(Ae),r=s.get(me),a=al(e)?e.getModel():e,l=FV(r.documentFormattingEditProvider,r.documentRangeFormattingEditProvider,a),c=yield xh.select(l,a,t);c&&(i.report(c),yield o.invokeFunction(Gce,c,e,t,n))})}function Gce(s,e,t,i,n){return oa(this,void 0,void 0,function*(){const o=s.get(vr);let r,a;al(t)?(r=t.getModel(),a=new Pd(t,5,void 0,n)):(r=t,a=new yM(t,n));let l;try{const c=yield e.provideDocumentFormattingEdits(r,r.getFormattingOptions(),a.token);if(l=yield o.computeMoreMinimalEdits(r.uri,c),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!l||l.length===0)return!1;if(al(t))bm.execute(t,l,i!==2),i!==2&&(kM(l),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1));else{const[{range:c}]=l,d=new _e(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn);r.pushEditOperations([d],l.map(u=>({text:u.text,range:k.lift(u.range),forceMoveMarkers:!0})),u=>{for(const{range:h}of u)if(k.areIntersectingOrTouching(h,d))return[new _e(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn)];return null})}return!0})}function Zce(s,e,t,i,n,o){return oa(this,void 0,void 0,function*(){const r=e.documentRangeFormattingEditProvider.ordered(t);for(const a of r){const l=yield Promise.resolve(a.provideDocumentRangeFormattingEdits(t,i,n,o)).catch(Ni);if(Bn(l))return yield s.computeMoreMinimalEdits(t.uri,l)}})}function Qce(s,e,t,i,n){return oa(this,void 0,void 0,function*(){const o=FV(e.documentFormattingEditProvider,e.documentRangeFormattingEditProvider,t);for(const r of o){const a=yield Promise.resolve(r.provideDocumentFormattingEdits(t,i,n)).catch(Ni);if(Bn(a))return yield s.computeMoreMinimalEdits(t.uri,a)}})}function WV(s,e,t,i,n,o,r){const a=e.onTypeFormattingEditProvider.ordered(t);return a.length===0||a[0].autoFormatTriggerCharacters.indexOf(n)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(t,i,n,o,r)).catch(Ni).then(l=>s.computeMoreMinimalEdits(t.uri,l))}lt.registerCommand("_executeFormatRangeProvider",function(s,...e){return oa(this,void 0,void 0,function*(){const[t,i,n]=e;Lt(De.isUri(t)),Lt(k.isIRange(i));const o=s.get(xo),r=s.get(vr),a=s.get(me),l=yield o.createModelReference(t);try{return Zce(r,a,l.object.textEditorModel,k.lift(i),n,Xe.None)}finally{l.dispose()}})});lt.registerCommand("_executeFormatDocumentProvider",function(s,...e){return oa(this,void 0,void 0,function*(){const[t,i]=e;Lt(De.isUri(t));const n=s.get(xo),o=s.get(vr),r=s.get(me),a=yield n.createModelReference(t);try{return Qce(o,r,a.object.textEditorModel,i,Xe.None)}finally{a.dispose()}})});lt.registerCommand("_executeFormatOnTypeProvider",function(s,...e){return oa(this,void 0,void 0,function*(){const[t,i,n,o]=e;Lt(De.isUri(t)),Lt(P.isIPosition(i)),Lt(typeof n=="string");const r=s.get(xo),a=s.get(vr),l=s.get(me),c=yield r.createModelReference(t);try{return WV(a,l,c.object.textEditorModel,P.lift(i),n,o,Xe.None)}finally{c.dispose()}})});sa.wrappingIndent.defaultValue=0;sa.glyphMargin.defaultValue=!1;sa.autoIndent.defaultValue=3;sa.overviewRulerLanes.defaultValue=2;xh.setFormatterSelector((s,e,t)=>Promise.resolve(s[0]));const go=bW();go.editor=Xle();go.languages=zce();const Yce=go.CancellationTokenSource,Xce=go.Emitter,Jce=go.KeyCode,ede=go.KeyMod,tde=go.Position,ide=go.Range,nde=go.Selection,ode=go.SelectionDirection,sde=go.MarkerSeverity,rde=go.MarkerTag,ade=go.Uri,lde=go.Token,cde=go.editor,dde=go.languages,gx=globalThis.MonacoEnvironment;(gx!=null&&gx.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=go);typeof globalThis.require!="undefined"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});const Gv=Object.freeze(Object.defineProperty({__proto__:null,CancellationTokenSource:Yce,Emitter:Xce,KeyCode:Jce,KeyMod:ede,MarkerSeverity:sde,MarkerTag:rde,Position:tde,Range:ide,Selection:nde,SelectionDirection:ode,Token:lde,Uri:ade,editor:cde,languages:dde},Symbol.toStringTag,{value:"Module"}));/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var ude=Object.defineProperty,hde=Object.getOwnPropertyDescriptor,gde=Object.getOwnPropertyNames,fde=Object.prototype.hasOwnProperty,q4=(s,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of gde(e))!fde.call(s,n)&&n!==t&&ude(s,n,{get:()=>e[n],enumerable:!(i=hde(e,n))||i.enumerable});return s},mde=(s,e,t)=>(q4(s,e,"default"),t&&q4(t,e,"default")),Jp={};mde(Jp,Gv);var VV={},fx={},HV=class{constructor(s){oi(this,"_languageId");oi(this,"_loadingTriggered");oi(this,"_lazyLoadPromise");oi(this,"_lazyLoadPromiseResolve");oi(this,"_lazyLoadPromiseReject");this._languageId=s,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,t)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=t})}static getOrCreate(s){return fx[s]||(fx[s]=new HV(s)),fx[s]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,VV[this._languageId].loader().then(s=>this._lazyLoadPromiseResolve(s),s=>this._lazyLoadPromiseReject(s))),this._lazyLoadPromise}};function ye(s){const e=s.id;VV[e]=s,Jp.languages.register(s);const t=HV.getOrCreate(e);Jp.languages.registerTokensProviderFactory(e,{create:()=>g0(this,null,function*(){return(yield t.load()).language})}),Jp.languages.onLanguageEncountered(e,()=>g0(this,null,function*(){const i=yield t.load();Jp.languages.setLanguageConfiguration(e,i.conf)}))}ye({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>ve(()=>import("./abap-e5f08dc1.js"),[],import.meta.url)});ye({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>ve(()=>import("./apex-fc8a734c.js"),[],import.meta.url)});ye({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>ve(()=>import("./azcli-c4358445.js"),[],import.meta.url)});ye({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>ve(()=>import("./bat-eaac827b.js"),[],import.meta.url)});ye({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>ve(()=>import("./bicep-9f8671bb.js"),[],import.meta.url)});ye({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>ve(()=>import("./cameligo-ff939f45.js"),[],import.meta.url)});ye({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>ve(()=>import("./clojure-4a1da11c.js"),[],import.meta.url)});ye({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>ve(()=>import("./coffee-97023918.js"),[],import.meta.url)});ye({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>ve(()=>import("./cpp-a410d69a.js"),[],import.meta.url)});ye({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>ve(()=>import("./cpp-a410d69a.js"),[],import.meta.url)});ye({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>ve(()=>import("./csharp-0765aa28.js"),[],import.meta.url)});ye({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>ve(()=>import("./csp-dba4fa86.js"),[],import.meta.url)});ye({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>ve(()=>import("./css-f18eed00.js"),[],import.meta.url)});ye({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>ve(()=>import("./cypher-4b1a5b20.js"),[],import.meta.url)});ye({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>ve(()=>import("./dart-c70c4314.js"),[],import.meta.url)});ye({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>ve(()=>import("./dockerfile-ff7f0401.js"),[],import.meta.url)});ye({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>ve(()=>import("./ecl-3129e183.js"),[],import.meta.url)});ye({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>ve(()=>import("./elixir-ac388b4d.js"),[],import.meta.url)});ye({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>ve(()=>import("./flow9-049a8a6c.js"),[],import.meta.url)});ye({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>ve(()=>import("./fsharp-535d9fe2.js"),[],import.meta.url)});ye({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>ve(()=>import("./freemarker2-a918bcb4.js"),[],import.meta.url).then(s=>s.TagAutoInterpolationDollar)});ye({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>ve(()=>import("./freemarker2-a918bcb4.js"),[],import.meta.url).then(s=>s.TagAngleInterpolationDollar)});ye({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>ve(()=>import("./freemarker2-a918bcb4.js"),[],import.meta.url).then(s=>s.TagBracketInterpolationDollar)});ye({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>ve(()=>import("./freemarker2-a918bcb4.js"),[],import.meta.url).then(s=>s.TagAngleInterpolationBracket)});ye({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>ve(()=>import("./freemarker2-a918bcb4.js"),[],import.meta.url).then(s=>s.TagBracketInterpolationBracket)});ye({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>ve(()=>import("./freemarker2-a918bcb4.js"),[],import.meta.url).then(s=>s.TagAutoInterpolationDollar)});ye({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>ve(()=>import("./freemarker2-a918bcb4.js"),[],import.meta.url).then(s=>s.TagAutoInterpolationBracket)});ye({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>ve(()=>import("./go-d4bfa116.js"),[],import.meta.url)});ye({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>ve(()=>import("./graphql-e5a73eb7.js"),[],import.meta.url)});ye({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>ve(()=>import("./handlebars-5371d6cf.js"),[],import.meta.url)});ye({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>ve(()=>import("./hcl-8b69c899.js"),[],import.meta.url)});ye({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>ve(()=>import("./html-1eb630e7.js"),[],import.meta.url)});ye({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>ve(()=>import("./ini-83ae2a3a.js"),[],import.meta.url)});ye({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>ve(()=>import("./java-4806d9f5.js"),[],import.meta.url)});ye({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>ve(()=>import("./javascript-8eec60d1.js"),["./javascript-8eec60d1.js","./typescript-449eeb59.js"],import.meta.url)});ye({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>ve(()=>import("./julia-334b5fb9.js"),[],import.meta.url)});ye({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>ve(()=>import("./kotlin-ed14cfc6.js"),[],import.meta.url)});ye({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>ve(()=>import("./less-58d9b66b.js"),[],import.meta.url)});ye({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>ve(()=>import("./lexon-8bf535e2.js"),[],import.meta.url)});ye({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>ve(()=>import("./lua-96829d0e.js"),[],import.meta.url)});ye({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>ve(()=>import("./liquid-2bb1a8c9.js"),[],import.meta.url)});ye({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>ve(()=>import("./m3-815f612a.js"),[],import.meta.url)});ye({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>ve(()=>import("./markdown-1cddbf33.js"),[],import.meta.url)});ye({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>ve(()=>import("./mdx-95e11c3a.js"),[],import.meta.url)});ye({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>ve(()=>import("./mips-361940ec.js"),[],import.meta.url)});ye({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>ve(()=>import("./msdax-b98f6248.js"),[],import.meta.url)});ye({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>ve(()=>import("./mysql-b4d05809.js"),[],import.meta.url)});ye({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>ve(()=>import("./objective-c-64e6f89b.js"),[],import.meta.url)});ye({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>ve(()=>import("./pascal-e1cbffd7.js"),[],import.meta.url)});ye({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>ve(()=>import("./pascaligo-013c6c0b.js"),[],import.meta.url)});ye({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>ve(()=>import("./perl-d9423546.js"),[],import.meta.url)});ye({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>ve(()=>import("./pgsql-423e077d.js"),[],import.meta.url)});ye({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>ve(()=>import("./php-fb65b6b4.js"),[],import.meta.url)});ye({id:"pla",extensions:[".pla"],loader:()=>ve(()=>import("./pla-09e93e1b.js"),[],import.meta.url)});ye({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>ve(()=>import("./postiats-429bd8e8.js"),[],import.meta.url)});ye({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>ve(()=>import("./powerquery-0470a494.js"),[],import.meta.url)});ye({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>ve(()=>import("./powershell-b433b622.js"),[],import.meta.url)});ye({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>ve(()=>import("./protobuf-3e557056.js"),[],import.meta.url)});ye({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>ve(()=>import("./pug-b7980504.js"),[],import.meta.url)});ye({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>ve(()=>import("./python-a52ac3bc.js"),[],import.meta.url)});ye({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>ve(()=>import("./qsharp-eed62033.js"),[],import.meta.url)});ye({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>ve(()=>import("./r-8ce27f67.js"),[],import.meta.url)});ye({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>ve(()=>import("./razor-700c53d7.js"),[],import.meta.url)});ye({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>ve(()=>import("./redis-aec7cdf4.js"),[],import.meta.url)});ye({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>ve(()=>import("./redshift-7d933e7a.js"),[],import.meta.url)});ye({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>ve(()=>import("./restructuredtext-a9e4c4cc.js"),[],import.meta.url)});ye({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>ve(()=>import("./ruby-c9974e35.js"),[],import.meta.url)});ye({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>ve(()=>import("./rust-9669a673.js"),[],import.meta.url)});ye({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>ve(()=>import("./sb-b221a0fc.js"),[],import.meta.url)});ye({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>ve(()=>import("./scala-9222416a.js"),[],import.meta.url)});ye({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>ve(()=>import("./scheme-86110af1.js"),[],import.meta.url)});ye({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>ve(()=>import("./scss-7da24d39.js"),[],import.meta.url)});ye({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>ve(()=>import("./shell-0ca4f4ad.js"),[],import.meta.url)});ye({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>ve(()=>import("./solidity-0072896b.js"),[],import.meta.url)});ye({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>ve(()=>import("./sophia-bc45fa87.js"),[],import.meta.url)});ye({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>ve(()=>import("./sparql-28fc150c.js"),[],import.meta.url)});ye({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>ve(()=>import("./sql-96f7b353.js"),[],import.meta.url)});ye({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>ve(()=>import("./st-c45997f6.js"),[],import.meta.url)});ye({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>ve(()=>import("./swift-3b85cc8e.js"),[],import.meta.url)});ye({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>ve(()=>import("./systemverilog-2ec460af.js"),[],import.meta.url)});ye({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>ve(()=>import("./systemverilog-2ec460af.js"),[],import.meta.url)});ye({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>ve(()=>import("./tcl-37e129b8.js"),[],import.meta.url)});ye({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>ve(()=>import("./twig-1734ec31.js"),[],import.meta.url)});ye({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>ve(()=>import("./typescript-449eeb59.js"),[],import.meta.url)});ye({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>ve(()=>import("./vb-77962f32.js"),[],import.meta.url)});ye({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>ve(()=>import("./wgsl-3890095b.js"),[],import.meta.url)});ye({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>ve(()=>import("./xml-216bfec7.js"),[],import.meta.url)});ye({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>ve(()=>import("./yaml-b4b87e05.js"),[],import.meta.url)});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var pde=Object.defineProperty,bde=Object.getOwnPropertyDescriptor,_de=Object.getOwnPropertyNames,vde=Object.prototype.hasOwnProperty,G4=(s,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of _de(e))!vde.call(s,n)&&n!==t&&pde(s,n,{get:()=>e[n],enumerable:!(i=bde(e,n))||i.enumerable});return s},wde=(s,e,t)=>(G4(s,e,"default"),t&&G4(t,e,"default")),Km={};wde(Km,Gv);var LM=class{constructor(e,t,i){oi(this,"_onDidChange",new Km.Emitter);oi(this,"_options");oi(this,"_modeConfiguration");oi(this,"_languageId");this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(e){this.setOptions(e)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},xM={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},DM={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},zV=new LM("css",xM,DM),UV=new LM("scss",xM,DM),$V=new LM("less",xM,DM);Km.languages.css={cssDefaults:zV,lessDefaults:$V,scssDefaults:UV};function IM(){return ve(()=>import("./cssMode-fc8f2a85.js"),[],import.meta.url)}Km.languages.onLanguage("less",()=>{IM().then(s=>s.setupMode($V))});Km.languages.onLanguage("scss",()=>{IM().then(s=>s.setupMode(UV))});Km.languages.onLanguage("css",()=>{IM().then(s=>s.setupMode(zV))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var Cde=Object.defineProperty,Sde=Object.getOwnPropertyDescriptor,yde=Object.getOwnPropertyNames,kde=Object.prototype.hasOwnProperty,Z4=(s,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of yde(e))!kde.call(s,n)&&n!==t&&Cde(s,n,{get:()=>e[n],enumerable:!(i=Sde(e,n))||i.enumerable});return s},Lde=(s,e,t)=>(Z4(s,e,"default"),t&&Z4(t,e,"default")),By={};Lde(By,Gv);var xde=class{constructor(e,t,i){oi(this,"_onDidChange",new By.Emitter);oi(this,"_options");oi(this,"_modeConfiguration");oi(this,"_languageId");this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},Dde={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},Wy={format:Dde,suggest:{},data:{useDefaultDataProvider:!0}};function Vy(s){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:s===Db,documentFormattingEdits:s===Db,documentRangeFormattingEdits:s===Db}}var Db="html",Q4="handlebars",Y4="razor",jV=Hy(Db,Wy,Vy(Db)),Ide=jV.defaults,KV=Hy(Q4,Wy,Vy(Q4)),Tde=KV.defaults,qV=Hy(Y4,Wy,Vy(Y4)),Ede=qV.defaults;By.languages.html={htmlDefaults:Ide,razorDefaults:Ede,handlebarDefaults:Tde,htmlLanguageService:jV,handlebarLanguageService:KV,razorLanguageService:qV,registerHTMLLanguageService:Hy};function Nde(){return ve(()=>import("./htmlMode-79c0ea09.js"),[],import.meta.url)}function Hy(s,e=Wy,t=Vy(s)){const i=new xde(s,e,t);let n;const o=By.languages.onLanguage(s,()=>g0(this,null,function*(){n=(yield Nde()).setupMode(i)}));return{defaults:i,dispose(){o.dispose(),n==null||n.dispose(),n=void 0}}}/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var Ade=Object.defineProperty,Rde=Object.getOwnPropertyDescriptor,Mde=Object.getOwnPropertyNames,Pde=Object.prototype.hasOwnProperty,X4=(s,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Mde(e))!Pde.call(s,n)&&n!==t&&Ade(s,n,{get:()=>e[n],enumerable:!(i=Rde(e,n))||i.enumerable});return s},Ode=(s,e,t)=>(X4(s,e,"default"),t&&X4(t,e,"default")),Zv={};Ode(Zv,Gv);var Fde=class{constructor(e,t,i){oi(this,"_onDidChange",new Zv.Emitter);oi(this,"_diagnosticsOptions");oi(this,"_modeConfiguration");oi(this,"_languageId");this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},Bde={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},Wde={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},GV=new Fde("json",Bde,Wde);Zv.languages.json={jsonDefaults:GV};function Vde(){return ve(()=>import("./jsonMode-2fed4868.js"),[],import.meta.url)}Zv.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});Zv.languages.onLanguage("json",()=>{Vde().then(s=>s.setupMode(GV))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var Hde=Object.defineProperty,zde=Object.getOwnPropertyDescriptor,Ude=Object.getOwnPropertyNames,$de=Object.prototype.hasOwnProperty,J4=(s,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Ude(e))!$de.call(s,n)&&n!==t&&Hde(s,n,{get:()=>e[n],enumerable:!(i=zde(e,n))||i.enumerable});return s},jde=(s,e,t)=>(J4(s,e,"default"),t&&J4(t,e,"default")),Kde="5.0.2",_m={};jde(_m,Gv);var ZV=(s=>(s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext",s))(ZV||{}),QV=(s=>(s[s.None=0]="None",s[s.Preserve=1]="Preserve",s[s.React=2]="React",s[s.ReactNative=3]="ReactNative",s[s.ReactJSX=4]="ReactJSX",s[s.ReactJSXDev=5]="ReactJSXDev",s))(QV||{}),YV=(s=>(s[s.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",s[s.LineFeed=1]="LineFeed",s))(YV||{}),XV=(s=>(s[s.ES3=0]="ES3",s[s.ES5=1]="ES5",s[s.ES2015=2]="ES2015",s[s.ES2016=3]="ES2016",s[s.ES2017=4]="ES2017",s[s.ES2018=5]="ES2018",s[s.ES2019=6]="ES2019",s[s.ES2020=7]="ES2020",s[s.ESNext=99]="ESNext",s[s.JSON=100]="JSON",s[s.Latest=99]="Latest",s))(XV||{}),JV=(s=>(s[s.Classic=1]="Classic",s[s.NodeJs=2]="NodeJs",s))(JV||{}),e8=class{constructor(s,e,t,i,n){oi(this,"_onDidChange",new _m.Emitter);oi(this,"_onDidExtraLibsChange",new _m.Emitter);oi(this,"_extraLibs");oi(this,"_removedExtraLibs");oi(this,"_eagerModelSync");oi(this,"_compilerOptions");oi(this,"_diagnosticsOptions");oi(this,"_workerOptions");oi(this,"_onDidExtraLibsChangeTimeout");oi(this,"_inlayHintsOptions");oi(this,"_modeConfiguration");this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(s),this.setDiagnosticsOptions(e),this.setWorkerOptions(t),this.setInlayHintsOptions(i),this.setModeConfiguration(n),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(s,e){let t;if(typeof e=="undefined"?t=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:t=e,this._extraLibs[t]&&this._extraLibs[t].content===s)return{dispose:()=>{}};let i=1;return this._removedExtraLibs[t]&&(i=this._removedExtraLibs[t]+1),this._extraLibs[t]&&(i=this._extraLibs[t].version+1),this._extraLibs[t]={content:s,version:i},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let n=this._extraLibs[t];n&&n.version===i&&(delete this._extraLibs[t],this._removedExtraLibs[t]=i,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(s){for(const e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),s&&s.length>0)for(const e of s){const t=e.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,i=e.content;let n=1;this._removedExtraLibs[t]&&(n=this._removedExtraLibs[t]+1),this._extraLibs[t]={content:i,version:n}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(s){this._compilerOptions=s||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(s){this._diagnosticsOptions=s||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(s){this._workerOptions=s||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(s){this._inlayHintsOptions=s||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(s){}setEagerModelSync(s){this._eagerModelSync=s}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(s){this._modeConfiguration=s||Object.create(null),this._onDidChange.fire(void 0)}},qde=Kde,t8={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},i8=new e8({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},t8),n8=new e8({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},t8),Gde=()=>zy().then(s=>s.getTypeScriptWorker()),Zde=()=>zy().then(s=>s.getJavaScriptWorker());_m.languages.typescript={ModuleKind:ZV,JsxEmit:QV,NewLineKind:YV,ScriptTarget:XV,ModuleResolutionKind:JV,typescriptVersion:qde,typescriptDefaults:i8,javascriptDefaults:n8,getTypeScriptWorker:Gde,getJavaScriptWorker:Zde};function zy(){return ve(()=>import("./tsMode-d908c161.js"),[],import.meta.url)}_m.languages.onLanguage("typescript",()=>zy().then(s=>s.setupTypeScript(i8)));_m.languages.onLanguage("javascript",()=>zy().then(s=>s.setupJavaScript(n8)));class Qde extends fs{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:{value:f("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),original:"Toggle Collapse Unchanged Regions"},icon:se.map,toggled:Z.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:Z.has("isInDiffEditor"),menu:{when:Z.has("isInDiffEditor"),id:D.EditorTitle,order:22,group:"navigation"}})}run(e,...t){const i=e.get(ot),n=!i.getValue("diffEditor.hideUnchangedRegions.enabled");i.updateValue("diffEditor.hideUnchangedRegions.enabled",n)}}jt(Qde);class o8 extends fs{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:{value:f("toggleShowMovedCodeBlocks","Toggle Show Moved Code Blocks"),original:"Toggle Show Moved Code Blocks"},precondition:Z.has("isInDiffEditor")})}run(e,...t){const i=e.get(ot),n=!i.getValue("diffEditor.experimental.showMoves");i.updateValue("diffEditor.experimental.showMoves",n)}}jt(o8);class s8 extends fs{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:{value:f("toggleUseInlineViewWhenSpaceIsLimited","Toggle Use Inline View When Space Is Limited"),original:"Toggle Use Inline View When Space Is Limited"},precondition:Z.has("isInDiffEditor")})}run(e,...t){const i=e.get(ot),n=!i.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");i.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",n)}}jt(s8);hn.appendMenuItem(D.EditorTitle,{command:{id:new s8().desc.id,title:f("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:Z.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:Z.has("isInDiffEditor")},order:11,group:"1_diff",when:Z.and(T.diffEditorRenderSideBySideInlineBreakpointReached,Z.has("isInDiffEditor"))});hn.appendMenuItem(D.EditorTitle,{command:{id:new o8().desc.id,title:f("showMoves","Show Moved Code Blocks"),icon:se.move,toggled:Pm.create("config.diffEditor.experimental.showMoves",!0),precondition:Z.has("isInDiffEditor")},order:10,group:"1_diff",when:Z.has("isInDiffEditor")});const Uy={value:f("diffEditor","Diff Editor"),original:"Diff Editor"};class Yde extends aa{constructor(){super({id:"diffEditor.switchSide",title:{value:f("switchSide","Switch Side"),original:"Switch Side"},icon:se.arrowSwap,precondition:Z.has("isInDiffEditor"),f1:!0,category:Uy})}runEditorCommand(e,t,i){const n=Gm(e);if(n instanceof Lh){if(i&&i.dryRun)return{destinationSelection:n.mapToOtherSide().destinationSelection};n.switchSide()}}}jt(Yde);class Xde extends aa{constructor(){super({id:"diffEditor.exitCompareMove",title:{value:f("exitCompareMove","Exit Compare Move"),original:"Exit Compare Move"},icon:se.close,precondition:T.comparingMovedCode,f1:!1,category:Uy,keybinding:{weight:1e4,primary:9}})}runEditorCommand(e,t,...i){const n=Gm(e);n instanceof Lh&&n.exitCompareMove()}}jt(Xde);class Jde extends aa{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:{value:f("collapseAllUnchangedRegions","Collapse All Unchanged Regions"),original:"Collapse All Unchanged Regions"},icon:se.fold,precondition:Z.has("isInDiffEditor"),f1:!0,category:Uy})}runEditorCommand(e,t,...i){const n=Gm(e);n instanceof Lh&&n.collapseAllUnchangedRegions()}}jt(Jde);class eue extends aa{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:{value:f("showAllUnchangedRegions","Show All Unchanged Regions"),original:"Show All Unchanged Regions"},icon:se.unfold,precondition:Z.has("isInDiffEditor"),f1:!0,category:Uy})}runEditorCommand(e,t,...i){const n=Gm(e);n instanceof Lh&&n.showAllUnchangedRegions()}}jt(eue);const r8={value:f("accessibleDiffViewer","Accessible Diff Viewer"),original:"Accessible Diff Viewer"};class qm extends fs{constructor(){super({id:qm.id,title:{value:f("editor.action.accessibleDiffViewer.next","Go to Next Difference"),original:"Go to Next Difference"},category:r8,precondition:Z.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(e){const t=Gm(e);t==null||t.accessibleDiffViewerNext()}}qm.id="editor.action.accessibleDiffViewer.next";hn.appendMenuItem(D.EditorTitle,{command:{id:qm.id,title:f("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:Z.has("isInDiffEditor")},order:10,group:"2_diff",when:Z.and(T.accessibleDiffViewerVisible.negate(),Z.has("isInDiffEditor"))});class Qv extends fs{constructor(){super({id:Qv.id,title:{value:f("editor.action.accessibleDiffViewer.prev","Go to Previous Difference"),original:"Go to Previous Difference"},category:r8,precondition:Z.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(e){const t=Gm(e);t==null||t.accessibleDiffViewerPrev()}}Qv.id="editor.action.accessibleDiffViewer.prev";function Gm(s){var e;const t=s.get(bt),i=t.listDiffEditors(),n=(e=t.getFocusedCodeEditor())!==null&&e!==void 0?e:t.getActiveCodeEditor();if(!n)return null;for(let r=0,a=i.length;r<a;r++){const l=i[r];if(l.getModifiedEditor().getId()===n.getId()||l.getOriginalEditor().getId()===n.getId())return l}const o=ar();if(o)for(const r of i){const a=r.getContainerDomNode();if(tue(a,o))return r}return null}function tue(s,e){let t=e;for(;t;){if(t===s)return!0;t=t.parentElement}return!1}lt.registerCommandAlias("editor.action.diffReview.next",qm.id);jt(qm);lt.registerCommandAlias("editor.action.diffReview.prev",Qv.id);jt(Qv);var iue=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},nue=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},$y=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},bE;const jy=new de("selectionAnchorSet",!1);let cc=bE=class{static get(e){return e.getContribution(bE.ID)}constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=jy.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition();this.editor.changeDecorations(t=>{this.decorationId&&t.removeDecoration(this.decorationId),this.decorationId=t.addDecoration(_e.fromPositions(e,e),{description:"selection-anchor",stickiness:1,hoverMessage:new xn().appendText(f("vs/editor/contrib/anchorSelect/browser/anchorSelect","selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),Fn(f("vs/editor/contrib/anchorSelect/browser/anchorSelect","anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(_e.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const e=this.decorationId;this.editor.changeDecorations(t=>{t.removeDecoration(e),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};cc.ID="editor.contrib.selectionAnchorController";cc=bE=iue([nue(1,Me)],cc);class oue extends ge{constructor(){super({id:"editor.action.setSelectionAnchor",label:f("vs/editor/contrib/anchorSelect/browser/anchorSelect","setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2080),weight:100}})}run(e,t){var i;return $y(this,void 0,void 0,function*(){(i=cc.get(t))===null||i===void 0||i.setSelectionAnchor()})}}class sue extends ge{constructor(){super({id:"editor.action.goToSelectionAnchor",label:f("vs/editor/contrib/anchorSelect/browser/anchorSelect","goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:jy})}run(e,t){var i;return $y(this,void 0,void 0,function*(){(i=cc.get(t))===null||i===void 0||i.goToSelectionAnchor()})}}class rue extends ge{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:f("vs/editor/contrib/anchorSelect/browser/anchorSelect","selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:jy,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2089),weight:100}})}run(e,t){var i;return $y(this,void 0,void 0,function*(){(i=cc.get(t))===null||i===void 0||i.selectFromAnchorToCursor()})}}class aue extends ge{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:f("vs/editor/contrib/anchorSelect/browser/anchorSelect","cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:jy,kbOpts:{kbExpr:T.editorTextFocus,primary:9,weight:100}})}run(e,t){var i;return $y(this,void 0,void 0,function*(){(i=cc.get(t))===null||i===void 0||i.cancelSelectionAnchor()})}}gt(cc.ID,cc,4);ne(oue);ne(sue);ne(rue);ne(aue);const lue=N("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},f("vs/editor/contrib/bracketMatching/browser/bracketMatching","overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class cue extends ge{constructor(){super({id:"editor.action.jumpToBracket",label:f("vs/editor/contrib/bracketMatching/browser/bracketMatching","smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:3165,weight:100}})}run(e,t){var i;(i=lr.get(t))===null||i===void 0||i.jumpToBracket()}}class due extends ge{constructor(){super({id:"editor.action.selectToBracket",label:f("vs/editor/contrib/bracketMatching/browser/bracketMatching","smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){var n;let o=!0;i&&i.selectBrackets===!1&&(o=!1),(n=lr.get(t))===null||n===void 0||n.selectToBracket(o)}}class uue extends ge{constructor(){super({id:"editor.action.removeBrackets",label:f("vs/editor/contrib/bracketMatching/browser/bracketMatching","smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:2561,weight:100}})}run(e,t){var i;(i=lr.get(t))===null||i===void 0||i.removeBrackets(this.id)}}class hue{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class lr extends H{static get(e){return e.getContribution(lr.ID)}constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new xt(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(71),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(71)&&(this._matchBrackets=this._editor.getOption(71),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(i=>{const n=i.getStartPosition(),o=e.bracketPairs.matchBracket(n);let r=null;if(o)o[0].containsPosition(n)&&!o[1].containsPosition(n)?r=o[1].getStartPosition():o[1].containsPosition(n)&&(r=o[0].getStartPosition());else{const a=e.bracketPairs.findEnclosingBrackets(n);if(a)r=a[1].getStartPosition();else{const l=e.bracketPairs.findNextBracket(n);l&&l.range&&(r=l.range.getStartPosition())}}return r?new _e(r.lineNumber,r.column,r.lineNumber,r.column):new _e(n.lineNumber,n.column,n.lineNumber,n.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(n=>{const o=n.getStartPosition();let r=t.bracketPairs.matchBracket(o);if(!r&&(r=t.bracketPairs.findEnclosingBrackets(o),!r)){const c=t.bracketPairs.findNextBracket(o);c&&c.range&&(r=t.bracketPairs.matchBracket(c.range.getStartPosition()))}let a=null,l=null;if(r){r.sort(k.compareRangesUsingStarts);const[c,d]=r;if(a=e?c.getStartPosition():c.getEndPosition(),l=e?d.getEndPosition():d.getStartPosition(),d.containsPosition(o)){const u=a;a=l,l=u}}a&&l&&i.push(new _e(a.lineNumber,a.column,l.lineNumber,l.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}removeBrackets(e){if(!this._editor.hasModel())return;const t=this._editor.getModel();this._editor.getSelections().forEach(i=>{const n=i.getPosition();let o=t.bracketPairs.matchBracket(n);o||(o=t.bracketPairs.findEnclosingBrackets(n)),o&&(this._editor.pushUndoStop(),this._editor.executeEdits(e,[{range:o[0],text:""},{range:o[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const e=[];let t=0;for(const i of this._lastBracketsData){const n=i.brackets;n&&(e[t++]={range:n[0],options:i.options},e[t++]={range:n[1],options:i.options})}this._decorations.set(e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const t=this._editor.getModel(),i=t.getVersionId();let n=[];this._lastVersionId===i&&(n=this._lastBracketsData);const o=[];let r=0;for(let u=0,h=e.length;u<h;u++){const g=e[u];g.isEmpty()&&(o[r++]=g.getStartPosition())}o.length>1&&o.sort(P.compare);const a=[];let l=0,c=0;const d=n.length;for(let u=0,h=o.length;u<h;u++){const g=o[u];for(;c<d&&n[c].position.isBefore(g);)c++;if(c<d&&n[c].position.equals(g))a[l++]=n[c];else{let m=t.bracketPairs.matchBracket(g,20),p=lr._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!m&&this._matchBrackets==="always"&&(m=t.bracketPairs.findEnclosingBrackets(g,20),p=lr._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[l++]=new hue(g,m,p)}}this._lastBracketsData=a,this._lastVersionId=i}}lr.ID="editor.contrib.bracketMatchingController";lr._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Ve.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:ti(lue),position:ds.Center}});lr._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Ve.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"});gt(lr.ID,lr,1);ne(due);ne(cue);ne(uue);hn.appendMenuItem(D.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:f("vs/editor/contrib/bracketMatching/browser/bracketMatching",{key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class gue{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const i=this._selection.startLineNumber,n=this._selection.startColumn,o=this._selection.endColumn;if(!(this._isMovingLeft&&n===1)&&!(!this._isMovingLeft&&o===e.getLineMaxColumn(i)))if(this._isMovingLeft){const r=new k(i,n-1,i,n),a=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new k(i,o,i,o),a)}else{const r=new k(i,o,i,o+1),a=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new k(i,n,i,n),a)}}computeCursorState(e,t){return this._isMovingLeft?new _e(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new _e(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class a8 extends ge{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;const i=[],n=t.getSelections();for(const o of n)i.push(new gue(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class fue extends a8{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:f("vs/editor/contrib/caretOperations/browser/caretOperations","caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:T.writable})}}class mue extends a8{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:f("vs/editor/contrib/caretOperations/browser/caretOperations","caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:T.writable})}}ne(fue);ne(mue);class pue extends ge{constructor(){super({id:"editor.action.transposeLetters",label:f("vs/editor/contrib/caretOperations/browser/transpose","transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;const i=t.getModel(),n=[],o=t.getSelections();for(const r of o){if(!r.isEmpty())continue;const a=r.startLineNumber,l=r.startColumn,c=i.getLineMaxColumn(a);if(a===1&&(l===1||l===2&&c===2))continue;const d=l===c?r.getPosition():wt.rightPosition(i,r.getPosition().lineNumber,r.getPosition().column),u=wt.leftPosition(i,d),h=wt.leftPosition(i,u),g=i.getValueInRange(k.fromPositions(h,u)),m=i.getValueInRange(k.fromPositions(u,d)),p=k.fromPositions(h,d);n.push(new Sn(p,m+g))}n.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop())}}ne(pue);var bue=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const Dh="9_cutcopypaste",_ue=Kr||document.queryCommandSupported("cut"),l8=Kr||document.queryCommandSupported("copy"),vue=typeof navigator.clipboard=="undefined"||Ms?document.queryCommandSupported("paste"):!0;function TM(s){return s.register(),s}const wue=_ue?TM(new Fm({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Kr?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:D.MenubarEditMenu,group:"2_ccp",title:f("vs/editor/contrib/clipboard/browser/clipboard",{key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:D.EditorContext,group:Dh,title:f("vs/editor/contrib/clipboard/browser/clipboard","actions.clipboard.cutLabel","Cut"),when:T.writable,order:1},{menuId:D.CommandPalette,group:"",title:f("vs/editor/contrib/clipboard/browser/clipboard","actions.clipboard.cutLabel","Cut"),order:1},{menuId:D.SimpleEditorContext,group:Dh,title:f("vs/editor/contrib/clipboard/browser/clipboard","actions.clipboard.cutLabel","Cut"),when:T.writable,order:1}]})):void 0,Cue=l8?TM(new Fm({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Kr?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:D.MenubarEditMenu,group:"2_ccp",title:f("vs/editor/contrib/clipboard/browser/clipboard",{key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:D.EditorContext,group:Dh,title:f("vs/editor/contrib/clipboard/browser/clipboard","actions.clipboard.copyLabel","Copy"),order:2},{menuId:D.CommandPalette,group:"",title:f("vs/editor/contrib/clipboard/browser/clipboard","actions.clipboard.copyLabel","Copy"),order:1},{menuId:D.SimpleEditorContext,group:Dh,title:f("vs/editor/contrib/clipboard/browser/clipboard","actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;hn.appendMenuItem(D.MenubarEditMenu,{submenu:D.MenubarCopy,title:{value:f("vs/editor/contrib/clipboard/browser/clipboard","copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3});hn.appendMenuItem(D.EditorContext,{submenu:D.EditorContextCopy,title:{value:f("vs/editor/contrib/clipboard/browser/clipboard","copy as","Copy As"),original:"Copy As"},group:Dh,order:3});hn.appendMenuItem(D.EditorContext,{submenu:D.EditorContextShare,title:{value:f("vs/editor/contrib/clipboard/browser/clipboard","share","Share"),original:"Share"},group:"11_share",order:-1,when:Z.and(Z.notEquals("resourceScheme","output"),T.editorTextFocus)});hn.appendMenuItem(D.EditorTitleContext,{submenu:D.EditorTitleContextShare,title:{value:f("vs/editor/contrib/clipboard/browser/clipboard","share","Share"),original:"Share"},group:"11_share",order:-1});hn.appendMenuItem(D.ExplorerContext,{submenu:D.ExplorerContextShare,title:{value:f("vs/editor/contrib/clipboard/browser/clipboard","share","Share"),original:"Share"},group:"11_share",order:-1});const mx=vue?TM(new Fm({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Kr?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:D.MenubarEditMenu,group:"2_ccp",title:f("vs/editor/contrib/clipboard/browser/clipboard",{key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:D.EditorContext,group:Dh,title:f("vs/editor/contrib/clipboard/browser/clipboard","actions.clipboard.pasteLabel","Paste"),when:T.writable,order:4},{menuId:D.CommandPalette,group:"",title:f("vs/editor/contrib/clipboard/browser/clipboard","actions.clipboard.pasteLabel","Paste"),order:1},{menuId:D.SimpleEditorContext,group:Dh,title:f("vs/editor/contrib/clipboard/browser/clipboard","actions.clipboard.pasteLabel","Paste"),when:T.writable,order:4}]})):void 0;class Sue extends ge{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:f("vs/editor/contrib/clipboard/browser/clipboard","actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(37)&&t.getSelection().isEmpty()||(SI.forceCopyWithSyntaxHighlighting=!0,t.focus(),t.getContainerDomNode().ownerDocument.execCommand("copy"),SI.forceCopyWithSyntaxHighlighting=!1)}}function c8(s,e){s&&(s.addImplementation(1e4,"code-editor",(t,i)=>{const n=t.get(bt).getFocusedCodeEditor();if(n&&n.hasTextFocus()){const o=n.getOption(37),r=n.getSelection();return r&&r.isEmpty()&&!o||n.getContainerDomNode().ownerDocument.execCommand(e),!0}return!1}),s.addImplementation(0,"generic-dom",(t,i)=>(FS().execCommand(e),!0)))}c8(wue,"cut");c8(Cue,"copy");mx&&(mx.addImplementation(1e4,"code-editor",(s,e)=>{const t=s.get(bt),i=s.get(pc),n=t.getFocusedCodeEditor();return n&&n.hasTextFocus()?!n.getContainerDomNode().ownerDocument.execCommand("paste")&&qd?(()=>bue(void 0,void 0,void 0,function*(){const r=yield i.readText();if(r!==""){const a=f_.INSTANCE.get(r);let l=!1,c=null,d=null;a&&(l=n.getOption(37)&&!!a.isFromEmptySelection,c=typeof a.multicursorText!="undefined"?a.multicursorText:null,d=a.mode),n.trigger("keyboard","paste",{text:r,pasteOnNewLine:l,multicursorText:c,mode:d})}}))():!0:!1}),mx.addImplementation(0,"generic-dom",(s,e)=>(FS().execCommand("paste"),!0)));l8&&ne(Sue);var yue=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class Ee{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+Ee.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new Ee(this.value+Ee.sep+e)}}Ee.sep=".";Ee.None=new Ee("@@none@@");Ee.Empty=new Ee("");Ee.QuickFix=new Ee("quickfix");Ee.Refactor=new Ee("refactor");Ee.RefactorExtract=Ee.Refactor.append("extract");Ee.RefactorInline=Ee.Refactor.append("inline");Ee.RefactorMove=Ee.Refactor.append("move");Ee.RefactorRewrite=Ee.Refactor.append("rewrite");Ee.Notebook=new Ee("notebook");Ee.Source=new Ee("source");Ee.SourceOrganizeImports=Ee.Source.append("organizeImports");Ee.SourceFixAll=Ee.Source.append("fixAll");Ee.SurroundWith=Ee.Refactor.append("surround");var zo;(function(s){s.Refactor="refactor",s.RefactorPreview="refactor preview",s.Lightbulb="lightbulb",s.Default="other (default)",s.SourceAction="source action",s.QuickFix="quick fix action",s.FixAll="fix all",s.OrganizeImports="organize imports",s.AutoFix="auto fix",s.QuickFixHover="quick fix hover window",s.OnSave="save participants",s.ProblemsView="problems view"})(zo||(zo={}));function kue(s,e){return!(s.include&&!s.include.intersects(e)||s.excludes&&s.excludes.some(t=>d8(e,t,s.include))||!s.includeSourceActions&&Ee.Source.contains(e))}function Lue(s,e){const t=e.kind?new Ee(e.kind):void 0;return!(s.include&&(!t||!s.include.contains(t))||s.excludes&&t&&s.excludes.some(i=>d8(t,i,s.include))||!s.includeSourceActions&&t&&Ee.Source.contains(t)||s.onlyIncludePreferredActions&&!e.isPreferred)}function d8(s,e,t){return!(!e.contains(s)||t&&e.contains(t))}class Ma{static fromUser(e,t){return!e||typeof e!="object"?new Ma(t.kind,t.apply,!1):new Ma(Ma.getKindFromUser(e,t.kind),Ma.getApplyFromUser(e,t.apply),Ma.getPreferredUser(e))}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new Ee(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"?e.preferred:!1}constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}}class xue{constructor(e,t,i){this.action=e,this.provider=t,this.highlightRange=i}resolve(e){var t;return yue(this,void 0,void 0,function*(){if(!((t=this.provider)===null||t===void 0)&&t.resolveCodeAction&&!this.action.edit){let i;try{i=yield this.provider.resolveCodeAction(this.action,e)}catch(n){Ni(n)}i&&(this.action.edit=i.edit)}return this})}}var q1=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const u8="editor.action.codeAction",EM="editor.action.quickFix",h8="editor.action.autoFix",g8="editor.action.refactor",f8="editor.action.sourceAction",NM="editor.action.organizeImports",AM="editor.action.fixAll";class Ib extends H{static codeActionsPreferredComparator(e,t){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:0}static codeActionsComparator({action:e},{action:t}){return Bn(e.diagnostics)?Bn(t.diagnostics)?Ib.codeActionsPreferredComparator(e,t):-1:Bn(t.diagnostics)?1:Ib.codeActionsPreferredComparator(e,t)}constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=[...e].sort(Ib.codeActionsComparator),this.validActions=this.allActions.filter(({action:n})=>!n.disabled)}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&Ee.QuickFix.contains(new Ee(e.kind))&&!!e.isPreferred)}}const eB={actions:[],documentation:void 0};function Tb(s,e,t,i,n,o){var r;return q1(this,void 0,void 0,function*(){const a=i.filter||{},l=Object.assign(Object.assign({},a),{excludes:[...a.excludes||[],Ee.Notebook]}),c={only:(r=a.include)===null||r===void 0?void 0:r.value,trigger:i.type},d=new yM(e,o),u=i.type===2,h=Due(s,e,u?l:a),g=new Y,m=h.map(_=>q1(this,void 0,void 0,function*(){try{n.report(_);const b=yield _.provideCodeActions(e,t,c,d.token);if(b&&g.add(b),d.token.isCancellationRequested)return eB;const v=((b==null?void 0:b.actions)||[]).filter(C=>C&&Lue(a,C)),w=Tue(_,v,a.include);return{actions:v.map(C=>new xue(C,_)),documentation:w}}catch(b){if(ra(b))throw b;return Ni(b),eB}})),p=s.onDidChange(()=>{const _=s.all(e);bi(_,h)||d.cancel()});try{const _=yield Promise.all(m),b=_.map(w=>w.actions).flat(),v=[...Qa(_.map(w=>w.documentation)),...Iue(s,e,i,b)];return new Ib(b,v,g)}finally{p.dispose(),d.dispose()}})}function Due(s,e,t){return s.all(e).filter(i=>i.providedCodeActionKinds?i.providedCodeActionKinds.some(n=>kue(t,new Ee(n))):!0)}function*Iue(s,e,t,i){var n,o,r;if(e&&i.length)for(const a of s.all(e))a._getAdditionalMenuItems&&(yield*Uk((n=a._getAdditionalMenuItems)===null||n===void 0?void 0:n.call(a,{trigger:t.type,only:(r=(o=t.filter)===null||o===void 0?void 0:o.include)===null||r===void 0?void 0:r.value},i.map(l=>l.action))))}function Tue(s,e,t){if(!s.documentation)return;const i=s.documentation.map(n=>({kind:new Ee(n.kind),command:n.command}));if(t){let n;for(const o of i)o.kind.contains(t)&&(n?n.kind.contains(o.kind)&&(n=o):n=o);if(n)return n==null?void 0:n.command}for(const n of e)if(n.kind){for(const o of i)if(o.kind.contains(new Ee(n.kind)))return o.command}}var G1;(function(s){s.OnSave="onSave",s.FromProblemsView="fromProblemsView",s.FromCodeActions="fromCodeActions"})(G1||(G1={}));function Eue(s,e,t,i,n=Xe.None){var o;return q1(this,void 0,void 0,function*(){const r=s.get(Bv),a=s.get(ci),l=s.get(ms),c=s.get(Li);if(l.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred,reason:t}),yield e.resolve(n),!n.isCancellationRequested&&!(!((o=e.action.edit)===null||o===void 0)&&o.edits.length&&!(yield r.apply(e.action.edit,{editor:i==null?void 0:i.editor,label:e.action.title,quotableLabel:e.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:t!==G1.OnSave,showPreview:i==null?void 0:i.preview})).isApplied)&&e.action.command)try{yield a.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(d){const u=Nue(d);c.error(typeof u=="string"?u:f("vs/editor/contrib/codeAction/browser/codeAction","applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Nue(s){return typeof s=="string"?s:s instanceof Error&&typeof s.message=="string"?s.message:void 0}lt.registerCommand("_executeCodeActionProvider",function(s,e,t,i,n){return q1(this,void 0,void 0,function*(){if(!(e instanceof De))throw Ns();const{codeActionProvider:o}=s.get(me),r=s.get(Qt).getModel(e);if(!r)throw Ns();const a=_e.isISelection(t)?_e.liftSelection(t):k.isIRange(t)?r.validateRange(t):void 0;if(!a)throw Ns();const l=typeof i=="string"?new Ee(i):void 0,c=yield Tb(o,r,a,{type:1,triggerAction:zo.Default,filter:{includeSourceActions:!0,include:l}},ec.None,Xe.None),d=[],u=Math.min(c.validActions.length,typeof n=="number"?n:0);for(let h=0;h<u;h++)d.push(c.validActions[h].resolve(Xe.None));try{return yield Promise.all(d),c.validActions.map(h=>h.action)}finally{setTimeout(()=>c.dispose(),100)}})});var Aue=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Rue=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},_E;let Z1=_E=class{constructor(e){this.keybindingService=e}getResolver(){const e=new Qd(()=>this.keybindingService.getKeybindings().filter(t=>_E.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let i=t.commandArgs;return t.command===NM?i={kind:Ee.SourceOrganizeImports.value}:t.command===AM&&(i={kind:Ee.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},Ma.fromUser(i,{kind:Ee.None,apply:"never"}))}));return t=>{if(t.kind){const i=this.bestKeybindingForCodeAction(t,e.value);return i==null?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const i=new Ee(e.kind);return t.filter(n=>n.kind.contains(i)).filter(n=>n.preferred?e.isPreferred:!0).reduceRight((n,o)=>n?n.kind.contains(o.kind)?o:n:o,void 0)}};Z1.codeActionCommands=[g8,u8,f8,NM,AM];Z1=_E=Aue([Rue(0,Et)],Z1);N("symbolIcon.arrayForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.booleanForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.colorForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.constantForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.fileForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.folderForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.keyForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.keywordForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.moduleForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.namespaceForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.nullForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.numberForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.objectForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.operatorForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.packageForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.propertyForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.referenceForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.snippetForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.stringForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.structForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.textForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.typeParameterForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.unitForeground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));N("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},f("vs/editor/contrib/symbolIcons/browser/symbolIcons","symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));const m8=Object.freeze({kind:Ee.Empty,title:f("vs/editor/contrib/codeAction/browser/codeActionMenu","codeAction.widget.id.more","More Actions...")}),Mue=Object.freeze([{kind:Ee.QuickFix,title:f("vs/editor/contrib/codeAction/browser/codeActionMenu","codeAction.widget.id.quickfix","Quick Fix")},{kind:Ee.RefactorExtract,title:f("vs/editor/contrib/codeAction/browser/codeActionMenu","codeAction.widget.id.extract","Extract"),icon:se.wrench},{kind:Ee.RefactorInline,title:f("vs/editor/contrib/codeAction/browser/codeActionMenu","codeAction.widget.id.inline","Inline"),icon:se.wrench},{kind:Ee.RefactorRewrite,title:f("vs/editor/contrib/codeAction/browser/codeActionMenu","codeAction.widget.id.convert","Rewrite"),icon:se.wrench},{kind:Ee.RefactorMove,title:f("vs/editor/contrib/codeAction/browser/codeActionMenu","codeAction.widget.id.move","Move"),icon:se.wrench},{kind:Ee.SurroundWith,title:f("vs/editor/contrib/codeAction/browser/codeActionMenu","codeAction.widget.id.surround","Surround With"),icon:se.symbolSnippet},{kind:Ee.Source,title:f("vs/editor/contrib/codeAction/browser/codeActionMenu","codeAction.widget.id.source","Source Action"),icon:se.symbolFile},m8]);function Pue(s,e,t){if(!e)return s.map(o=>{var r;return{kind:"action",item:o,group:m8,disabled:!!o.action.disabled,label:o.action.disabled||o.action.title,canPreview:!!(!((r=o.action.edit)===null||r===void 0)&&r.edits.length)}});const i=Mue.map(o=>({group:o,actions:[]}));for(const o of s){const r=o.action.kind?new Ee(o.action.kind):Ee.None;for(const a of i)if(a.group.kind.contains(r)){a.actions.push(o);break}}const n=[];for(const o of i)if(o.actions.length){n.push({kind:"header",group:o.group});for(const r of o.actions)n.push({kind:"action",item:r,group:o.group,label:r.action.title,disabled:!!r.action.disabled,keybinding:t(r.action)})}return n}var Oue=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Fue=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},vE,df;(function(s){s.Hidden={type:0};class e{constructor(i,n,o,r){this.actions=i,this.trigger=n,this.editorPosition=o,this.widgetPosition=r,this.type=1}}s.Showing=e})(df||(df={}));let Ih=vE=class extends H{constructor(e,t){super(),this._editor=e,this._onClick=this._register(new M),this.onClick=this._onClick.event,this._state=df.Hidden,this._domNode=te("div.lightBulbWidget"),this._register(Nt.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(i=>{const n=this._editor.getModel();(this.state.type!==1||!n||this.state.editorPosition.lineNumber>=n.getLineCount())&&this.hide()})),this._register(_j(this._domNode,i=>{if(this.state.type!==1)return;this._editor.focus(),i.preventDefault();const{top:n,height:o}=Pi(this._domNode),r=this._editor.getOption(66);let a=Math.floor(r/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(a+=r),this._onClick.fire({x:i.posx,y:n+o+a,actions:this.state.actions,trigger:this.state.trigger})})),this._register($(this._domNode,"mouseenter",i=>{(i.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(64)&&!this._editor.getOption(64).enabled&&this.hide()})),this._register(ce.runAndSubscribe(t.onDidUpdateKeybindings,()=>{var i,n,o,r;this._preferredKbLabel=(n=(i=t.lookupKeybinding(h8))===null||i===void 0?void 0:i.getLabel())!==null&&n!==void 0?n:void 0,this._quickFixKbLabel=(r=(o=t.lookupKeybinding(EM))===null||o===void 0?void 0:o.getLabel())!==null&&r!==void 0?r:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,i){if(e.validActions.length<=0)return this.hide();const n=this._editor.getOptions();if(!n.get(64).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:r,column:a}=o.validatePosition(i),l=o.getOptions().tabSize,c=n.get(50),d=o.getLineContent(r),u=sy(d,l),h=c.spaceWidth*u>22,g=p=>p>2&&this._editor.getTopForLineNumber(p)===this._editor.getTopForLineNumber(p-1);let m=r;if(!h){if(r>1&&!g(r-1))m-=1;else if(!g(r+1))m+=1;else if(a*c.spaceWidth<22)return this.hide()}this.state=new df.Showing(e,t,i,{position:{lineNumber:m,column:1},preference:vE._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==df.Hidden&&(this.state=df.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix&&(this._domNode.classList.remove(...Ie.asClassNameArray(se.lightBulb)),this._domNode.classList.add(...Ie.asClassNameArray(se.lightbulbAutofix)),this._preferredKbLabel)){this.title=f("vs/editor/contrib/codeAction/browser/lightBulbWidget","preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel);return}this._domNode.classList.remove(...Ie.asClassNameArray(se.lightbulbAutofix)),this._domNode.classList.add(...Ie.asClassNameArray(se.lightBulb)),this._quickFixKbLabel?this.title=f("vs/editor/contrib/codeAction/browser/lightBulbWidget","codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):this.title=f("vs/editor/contrib/codeAction/browser/lightBulbWidget","codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};Ih.ID="editor.contrib.lightbulbWidget";Ih._posPref=[0];Ih=vE=Oue([Fue(1,Et)],Ih);var Bue=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},tB=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},p8=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},wE;let dc=wE=class{constructor(e,t,i){this._options=e,this._languageService=t,this._openerService=i,this._onDidRenderAsync=new M,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const n=new Y,o=n.add(by(e,Object.assign(Object.assign({},this._getRenderOptions(e,n)),t),i));return o.element.classList.add("rendered-markdown"),{element:o.element,dispose:()=>n.dispose()}}_getRenderOptions(e,t){return{codeBlockRenderer:(i,n)=>p8(this,void 0,void 0,function*(){var o,r,a;let l;i?l=this._languageService.getLanguageIdByLanguageName(i):this._options.editor&&(l=(o=this._options.editor.getModel())===null||o===void 0?void 0:o.getLanguageId()),l||(l=ls);const c=yield Gee(this._languageService,n,l),d=document.createElement("span");if(d.innerHTML=(a=(r=wE._ttpTokenizer)===null||r===void 0?void 0:r.createHTML(c))!==null&&a!==void 0?a:c,this._options.editor){const u=this._options.editor.getOption(50);In(d,u)}else this._options.codeBlockFontFamily&&(d.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(d.style.fontSize=this._options.codeBlockFontSize),d}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:i=>b8(this._openerService,i,e.isTrusted),disposables:t}}}};dc._ttpTokenizer=uc("tokenizeToString",{createHTML(s){return s}});dc=wE=Bue([tB(1,qt),tB(2,$o)],dc);function b8(s,e,t){return p8(this,void 0,void 0,function*(){try{return yield s.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:Wue(t)})}catch(i){return He(i),!1}})}function Wue(s){return s===!0?!0:s&&Array.isArray(s.enabledCommands)?s.enabledCommands:!1}var Vue=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},iB=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},lC;let Wo=lC=class{static get(e){return e.getContribution(lC.ID)}constructor(e,t,i){this._openerService=i,this._messageWidget=new pn,this._messageListeners=new Y,this._mouseOverMessage=!1,this._editor=e,this._visible=lC.MESSAGE_VISIBLE.bindTo(t)}dispose(){var e;(e=this._message)===null||e===void 0||e.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){Fn(cd(e)?e.value:e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=cd(e)?by(e,{actionHandler:{callback:n=>b8(this._openerService,n,cd(e)?e.isTrusted:void 0),disposables:this._messageListeners}}):void 0,this._messageWidget.value=new nB(this._editor,t,typeof e=="string"?e:this._message.element),this._messageListeners.add(ce.debounce(this._editor.onDidBlurEditorText,(n,o)=>o,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&Dn(ar(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add($(this._messageWidget.value.getDomNode(),ae.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add($(this._messageWidget.value.getDomNode(),ae.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let i;this._messageListeners.add(this._editor.onMouseMove(n=>{n.target.position&&(i?i.containsPosition(n.target.position)||this.closeMessage():i=new k(t.lineNumber-3,1,n.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(nB.fadeOut(this._messageWidget.value))}};Wo.ID="editor.contrib.messageController";Wo.MESSAGE_VISIBLE=new de("messageVisible",!1,f("vs/editor/contrib/message/browser/messageController","messageVisible","Whether the editor is currently showing an inline message"));Wo=lC=Vue([iB(1,Me),iB(2,$o)],Wo);const Hue=nn.bindToContribution(Wo.get);re(new Hue({id:"leaveEditorMessage",precondition:Wo.MESSAGE_VISIBLE,handler:s=>s.closeMessage(),kbOpts:{weight:100+30,primary:9}}));let nB=class{static fadeOut(e){const t=()=>{e.dispose(),clearTimeout(i),e.getDomNode().removeEventListener("animationend",t)},i=setTimeout(t,110);return e.getDomNode().addEventListener("animationend",t),e.getDomNode().classList.add("fadeOut"),{dispose:t}}constructor(e,{lineNumber:t,column:i},n){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const r=document.createElement("div");typeof n=="string"?(r.classList.add("message"),r.textContent=n):(n.classList.add("message"),r.appendChild(n)),this._domNode.appendChild(r);const a=document.createElement("div");a.classList.add("anchor","below"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(e){this._domNode.classList.toggle("below",e===2)}};gt(Wo.ID,Wo,4);var _8=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},CE=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},zue=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const v8="acceptSelectedCodeAction",w8="previewSelectedCodeAction";class Uue{get templateId(){return"header"}renderTemplate(e){e.classList.add("group-header");const t=document.createElement("span");return e.append(t),{container:e,text:t}}renderElement(e,t,i){var n,o;i.text.textContent=(o=(n=e.group)===null||n===void 0?void 0:n.title)!==null&&o!==void 0?o:""}disposeTemplate(e){}}let SE=class{get templateId(){return"action"}constructor(e,t){this._supportsPreview=e,this._keybindingService=t}renderTemplate(e){e.classList.add(this.templateId);const t=document.createElement("div");t.className="icon",e.append(t);const i=document.createElement("span");i.className="title",e.append(i);const n=new Uv(e,ns);return{container:e,icon:t,text:i,keybinding:n}}renderElement(e,t,i){var n,o,r;if(!((n=e.group)===null||n===void 0)&&n.icon?(i.icon.className=Ie.asClassName(e.group.icon),e.group.icon.color&&(i.icon.style.color=ue(e.group.icon.color.id))):(i.icon.className=Ie.asClassName(se.lightBulb),i.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!e.item||!e.label)return;i.text.textContent=C8(e.label),i.keybinding.set(e.keybinding),Tj(!!e.keybinding,i.keybinding.element);const a=(o=this._keybindingService.lookupKeybinding(v8))===null||o===void 0?void 0:o.getLabel(),l=(r=this._keybindingService.lookupKeybinding(w8))===null||r===void 0?void 0:r.getLabel();i.container.classList.toggle("option-disabled",e.disabled),e.disabled?i.container.title=e.label:a&&l?this._supportsPreview&&e.canPreview?i.container.title=f("vs/platform/actionWidget/browser/actionList",{key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",a,l):i.container.title=f("vs/platform/actionWidget/browser/actionList",{key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",a):i.container.title=""}disposeTemplate(e){}};SE=_8([CE(1,Et)],SE);class $ue extends UIEvent{constructor(){super("acceptSelectedAction")}}class oB extends UIEvent{constructor(){super("previewSelectedAction")}}function jue(s){if(s.kind==="action")return s.label}let yE=class extends H{constructor(e,t,i,n,o,r){super(),this._delegate=n,this._contextViewService=o,this._keybindingService=r,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new yi),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const a={getHeight:l=>l.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:l=>l.kind};this._list=this._register(new br(e,this.domNode,a,[new SE(t,this._keybindingService),new Uue],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:jue},accessibilityProvider:{getAriaLabel:l=>{if(l.kind==="action"){let c=l.label?C8(l==null?void 0:l.label):"";return l.disabled&&(c=f("vs/platform/actionWidget/browser/actionList",{key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",c,l.disabled)),c}return null},getWidgetAriaLabel:()=>f("vs/platform/actionWidget/browser/actionList",{key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:l=>l.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(Jh),this._register(this._list.onMouseClick(l=>this.onListClick(l))),this._register(this._list.onMouseOver(l=>this.onListHover(l))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(l=>this.onListSelection(l))),this._allMenuItems=i,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(e){return!e.disabled&&e.kind==="action"}hide(e){this._delegate.onHide(e),this.cts.cancel(),this._contextViewService.hideContextView()}layout(e){const t=this._allMenuItems.filter(c=>c.kind==="header").length,n=this._allMenuItems.length*this._actionLineHeight+t*this._headerLineHeight-t*this._actionLineHeight;this._list.layout(n);const o=this._allMenuItems.map((c,d)=>{const u=document.getElementById(this._list.getElementID(d));if(u){u.style.width="auto";const h=u.getBoundingClientRect().width;return u.style.width="",h}return 0}),r=Math.max(...o,e),a=.7,l=Math.min(n,document.body.clientHeight*a);return this._list.layout(l,r),this.domNode.style.height=`${l}px`,this._list.domFocus(),r}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(e){const t=this._list.getFocus();if(t.length===0)return;const i=t[0],n=this._list.element(i);if(!this.focusCondition(n))return;const o=e?new oB:new $ue;this._list.setSelection([i],o)}onListSelection(e){if(!e.elements.length)return;const t=e.elements[0];t.item&&this.focusCondition(t)?this._delegate.onSelect(t.item,e.browserEvent instanceof oB):this._list.setSelection([])}onFocus(){var e,t;this._list.domFocus();const i=this._list.getFocus();if(i.length===0)return;const n=i[0],o=this._list.element(n);(t=(e=this._delegate).onFocus)===null||t===void 0||t.call(e,o.item)}onListHover(e){return zue(this,void 0,void 0,function*(){const t=e.element;if(t&&t.item&&this.focusCondition(t)){if(this._delegate.onHover&&!t.disabled&&t.kind==="action"){const i=yield this._delegate.onHover(t.item,this.cts.token);t.canPreview=i?i.canPreview:void 0}e.index&&this._list.splice(e.index,1,[t])}this._list.setFocus(typeof e.index=="number"?[e.index]:[])})}onListClick(e){e.element&&this.focusCondition(e.element)&&this._list.setFocus([])}};yE=_8([CE(4,gc),CE(5,Et)],yE);function C8(s){return s.replace(/\r\n|\r|\n/g," ")}var Kue=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},px=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};N("actionBar.toggledBackground",{dark:Uu,light:Uu,hcDark:Uu,hcLight:Uu},f("vs/platform/actionWidget/browser/actionWidget","actionBar.toggledBackground","Background color for toggled action items in action bar."));const Th={Visible:new de("codeActionMenuVisible",!1,f("vs/platform/actionWidget/browser/actionWidget","codeActionMenuVisible","Whether the action widget list is visible"))},og=et("actionWidgetService");let Eh=class extends H{get isVisible(){return Th.Visible.getValue(this._contextKeyService)||!1}constructor(e,t,i){super(),this._contextViewService=e,this._contextKeyService=t,this._instantiationService=i,this._list=this._register(new pn)}show(e,t,i,n,o,r,a){const l=Th.Visible.bindTo(this._contextKeyService),c=this._instantiationService.createInstance(yE,e,t,i,n);this._contextViewService.showContextView({getAnchor:()=>o,render:d=>(l.set(!0),this._renderWidget(d,c,a!=null?a:[])),onHide:d=>{l.reset(),this._onWidgetClosed(d)}},r,!1)}acceptSelected(e){var t;(t=this._list.value)===null||t===void 0||t.acceptSelected(e)}focusPrevious(){var e,t;(t=(e=this._list)===null||e===void 0?void 0:e.value)===null||t===void 0||t.focusPrevious()}focusNext(){var e,t;(t=(e=this._list)===null||e===void 0?void 0:e.value)===null||t===void 0||t.focusNext()}hide(){var e;(e=this._list.value)===null||e===void 0||e.hide(),this._list.clear()}_renderWidget(e,t,i){var n;const o=document.createElement("div");if(o.classList.add("action-widget"),e.appendChild(o),this._list.value=t,this._list.value)o.appendChild(this._list.value.domNode);else throw new Error("List has no value");const r=new Y,a=document.createElement("div"),l=e.appendChild(a);l.classList.add("context-view-block"),r.add($(l,ae.MOUSE_DOWN,m=>m.stopPropagation()));const c=document.createElement("div"),d=e.appendChild(c);d.classList.add("context-view-pointerBlock"),r.add($(d,ae.POINTER_MOVE,()=>d.remove())),r.add($(d,ae.MOUSE_DOWN,()=>d.remove()));let u=0;if(i.length){const m=this._createActionBar(".action-widget-action-bar",i);m&&(o.appendChild(m.getContainer().parentElement),r.add(m),u=m.getContainer().offsetWidth)}const h=(n=this._list.value)===null||n===void 0?void 0:n.layout(u);o.style.width=`${h}px`;const g=r.add(Ja(e));return r.add(g.onDidBlur(()=>this.hide())),r}_createActionBar(e,t){if(!t.length)return;const i=te(e),n=new Vs(i);return n.push(t,{icon:!1,label:!0}),n}_onWidgetClosed(e){var t;(t=this._list.value)===null||t===void 0||t.hide(e)}};Eh=Kue([px(0,gc),px(1,Me),px(2,Ae)],Eh);ct(og,Eh,1);const Yv=100+1e3;jt(class extends fs{constructor(){super({id:"hideCodeActionWidget",title:{value:f("vs/platform/actionWidget/browser/actionWidget","hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:Th.Visible,keybinding:{weight:Yv,primary:9,secondary:[1033]}})}run(s){s.get(og).hide()}});jt(class extends fs{constructor(){super({id:"selectPrevCodeAction",title:{value:f("vs/platform/actionWidget/browser/actionWidget","selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:Th.Visible,keybinding:{weight:Yv,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(s){const e=s.get(og);e instanceof Eh&&e.focusPrevious()}});jt(class extends fs{constructor(){super({id:"selectNextCodeAction",title:{value:f("vs/platform/actionWidget/browser/actionWidget","selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:Th.Visible,keybinding:{weight:Yv,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(s){const e=s.get(og);e instanceof Eh&&e.focusNext()}});jt(class extends fs{constructor(){super({id:v8,title:{value:f("vs/platform/actionWidget/browser/actionWidget","acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:Th.Visible,keybinding:{weight:Yv,primary:3,secondary:[2137]}})}run(s){const e=s.get(og);e instanceof Eh&&e.acceptSelected()}});jt(class extends fs{constructor(){super({id:w8,title:{value:f("vs/platform/actionWidget/browser/actionWidget","previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:Th.Visible,keybinding:{weight:Yv,primary:2051}})}run(s){const e=s.get(og);e instanceof Eh&&e.acceptSelected(!0)}});var que=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const S8=new de("supportedCodeAction","");class Gue extends H{constructor(e,t,i,n=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=n,this._autoTriggerTimer=this._register(new gr),this._register(this._markerService.onMarkerChanged(o=>this._onMarkerChanges(o))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);this._signalChange(t?{trigger:e,selection:t}:void 0)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some(i=>hR(i,t.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:zo.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&e.type===2){const{lineNumber:n,column:o}=i.getPosition(),r=t.getLineContent(n);if(r.length===0)return;if(o===1){if(/\s/.test(r[0]))return}else if(o===t.getLineMaxColumn(n)){if(/\s/.test(r[r.length-1]))return}else if(/\s/.test(r[o-2])&&/\s/.test(r[o-1]))return}return i}}var Bu;(function(s){s.Empty={type:0};class e{constructor(i,n,o){this.trigger=i,this.position=n,this._cancellablePromise=o,this.type=1,this.actions=o.catch(r=>{if(ra(r))return y8;throw r})}cancel(){this._cancellablePromise.cancel()}}s.Triggered=e})(Bu||(Bu={}));const y8=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1});class Zue extends H{constructor(e,t,i,n,o,r){super(),this._editor=e,this._registry=t,this._markerService=i,this._progressService=o,this._configurationService=r,this._codeActionOracle=this._register(new pn),this._state=Bu.Empty,this._onDidChangeState=this._register(new M),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=S8.bindTo(n),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(Bu.Empty,!0))}_settingEnabledNearbyQuickfixes(){var e;const t=(e=this._editor)===null||e===void 0?void 0:e.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickfixes",{resource:t==null?void 0:t.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(Bu.Empty);const e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(90)){const t=this._registry.all(e).flatMap(i=>{var n;return(n=i.providedCodeActionKinds)!==null&&n!==void 0?n:[]});this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new Gue(this._editor,this._markerService,i=>{var n;if(!i){this.setState(Bu.Empty);return}const o=i.selection.getStartPosition(),r=Vi(a=>que(this,void 0,void 0,function*(){var l,c,d,u,h,g;if(this._settingEnabledNearbyQuickfixes()&&i.trigger.type===1&&(i.trigger.triggerAction===zo.QuickFix||!((c=(l=i.trigger.filter)===null||l===void 0?void 0:l.include)===null||c===void 0)&&c.contains(Ee.QuickFix))){const m=yield Tb(this._registry,e,i.selection,i.trigger,ec.None,a);if(a.isCancellationRequested)return y8;if(!((d=m.validActions)===null||d===void 0?void 0:d.some(_=>_.action.kind?Ee.QuickFix.contains(new Ee(_.action.kind)):!1))){const _=this._markerService.read({resource:e.uri});if(_.length>0){const b=i.selection.getPosition();let v=b,w=Number.MAX_VALUE,C=!1;for(const S of _){const x=S.endColumn,L=S.endLineNumber,I=S.startLineNumber;(L===b.lineNumber||I===b.lineNumber)&&Math.abs(b.column-x)<w&&(w=Math.abs(b.column-x),C=!0,v=new P(L,x))}if(C){const S={type:i.trigger.type,triggerAction:i.trigger.triggerAction,filter:{include:!((u=i.trigger.filter)===null||u===void 0)&&u.include?(h=i.trigger.filter)===null||h===void 0?void 0:h.include:Ee.QuickFix},autoApply:i.trigger.autoApply,context:{notAvailableMessage:((g=i.trigger.context)===null||g===void 0?void 0:g.notAvailableMessage)||"",position:v}},x=new _e(v.lineNumber,v.column,v.lineNumber,v.column),L=yield Tb(this._registry,e,x,S,ec.None,a),I=[...m.validActions];return L.validActions.length!==0&&(L.validActions.forEach(E=>{E.highlightRange=E.action.isPreferred}),I.push(...L.validActions)),{validActions:I,allActions:m.allActions,documentation:m.documentation,hasAutoFix:m.hasAutoFix,dispose:()=>{m.dispose()}}}}}}return Tb(this._registry,e,i.selection,i.trigger,ec.None,a)}));i.trigger.type===1&&((n=this._progressService)===null||n===void 0||n.showWhile(r,250)),this.setState(new Bu.Triggered(i.trigger,o,r))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:zo.Default})}else this._supportedCodeActions.reset()}trigger(e){var t;(t=this._codeActionOracle.value)===null||t===void 0||t.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,!t&&!this._disposed&&this._onDidChangeState.fire(e))}}var Que=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},vl=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},yp=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},cC;const Yue="quickfix-edit-highlight";let Od=cC=class extends H{static get(e){return e.getContribution(cC.ID)}constructor(e,t,i,n,o,r,a,l,c,d){super(),this._commandService=a,this._configurationService=l,this._actionWidgetService=c,this._instantiationService=d,this._activeCodeActions=this._register(new pn),this._showDisabled=!1,this._disposed=!1,this._editor=e,this._model=this._register(new Zue(this._editor,o.codeActionProvider,t,i,r,l)),this._register(this._model.onDidChangeState(u=>this.update(u))),this._lightBulbWidget=new Qd(()=>{const u=this._editor.getContribution(Ih.ID);return u&&this._register(u.onClick(h=>this.showCodeActionList(h.actions,h,{includeDisabledActions:!1,fromLightbulb:!0}))),u}),this._resolver=n.createInstance(Z1),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}showCodeActions(e,t,i){return this.showCodeActionList(t,i,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(e,t,i,n){var o;if(!this._editor.hasModel())return;(o=Wo.get(this._editor))===null||o===void 0||o.closeMessage();const r=this._editor.getPosition();this._trigger({type:1,triggerAction:t,filter:i,autoApply:n,context:{notAvailableMessage:e,position:r}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e,t,i){return yp(this,void 0,void 0,function*(){try{yield this._instantiationService.invokeFunction(Eue,e,G1.FromCodeActions,{preview:i,editor:this._editor})}finally{t&&this._trigger({type:2,triggerAction:zo.QuickFix,filter:{}})}})}update(e){var t,i,n,o,r,a,l;return yp(this,void 0,void 0,function*(){if(e.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let c;try{c=yield e.actions}catch(d){He(d);return}if(!this._disposed)if((i=this._lightBulbWidget.value)===null||i===void 0||i.update(c,e.trigger,e.position),e.trigger.type===1){if(!((n=e.trigger.filter)===null||n===void 0)&&n.include){const u=this.tryGetValidActionToApply(e.trigger,c);if(u){try{(o=this._lightBulbWidget.value)===null||o===void 0||o.hide(),yield this._applyCodeAction(u,!1,!1)}finally{c.dispose()}return}if(e.trigger.context){const h=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,c);if(h&&h.action.disabled){(r=Wo.get(this._editor))===null||r===void 0||r.showMessage(h.action.disabled,e.trigger.context.position),c.dispose();return}}}const d=!!(!((a=e.trigger.filter)===null||a===void 0)&&a.include);if(e.trigger.context&&(!c.allActions.length||!d&&!c.validActions.length)){(l=Wo.get(this._editor))===null||l===void 0||l.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=c,c.dispose();return}this._activeCodeActions.value=c,this.showCodeActionList(c,this.toCoords(e.position),{includeDisabledActions:d,fromLightbulb:!1})}else this._actionWidgetService.isVisible?c.dispose():this._activeCodeActions.value=c})}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length&&(e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:i})=>i.disabled)}tryGetValidActionToApply(e,t){if(t.validActions.length&&(e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(e,t,i){return yp(this,void 0,void 0,function*(){const n=this._editor.createDecorationsCollection(),o=this._editor.getDomNode();if(!o)return;const r=i.includeDisabledActions&&(this._showDisabled||e.validActions.length===0)?e.allActions:e.validActions;if(!r.length)return;const a=P.isIPosition(t)?this.toCoords(t):t,l={onSelect:(c,d)=>yp(this,void 0,void 0,function*(){this._applyCodeAction(c,!0,!!d),this._actionWidgetService.hide(),n.clear()}),onHide:()=>{var c;(c=this._editor)===null||c===void 0||c.focus(),n.clear()},onHover:(c,d)=>yp(this,void 0,void 0,function*(){var u;if(yield c.resolve(d),!d.isCancellationRequested)return{canPreview:!!(!((u=c.action.edit)===null||u===void 0)&&u.edits.length)}}),onFocus:c=>{var d,u;if(c&&c.highlightRange&&c.action.diagnostics){const h=[{range:c.action.diagnostics[0],options:cC.DECORATION}];n.set(h);const g=c.action.diagnostics[0],m=(u=(d=this._editor.getModel())===null||d===void 0?void 0:d.getWordAtPosition({lineNumber:g.startLineNumber,column:g.startColumn}))===null||u===void 0?void 0:u.word;Td(f("vs/editor/contrib/codeAction/browser/codeActionController","editingNewSelection","Context: {0} at line {1} and column {2}.",m,g.startLineNumber,g.startColumn))}else n.clear()}};this._actionWidgetService.show("codeActionWidget",!0,Pue(r,this._shouldShowHeaders(),this._resolver.getResolver()),l,a,o,this._getActionBarActions(e,t,i))})}toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),i=Pi(this._editor.getDomNode()),n=i.left+t.left,o=i.top+t.top+t.height;return{x:n,y:o}}_shouldShowHeaders(){var e;const t=(e=this._editor)===null||e===void 0?void 0:e.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:t==null?void 0:t.uri})}_getActionBarActions(e,t,i){if(i.fromLightbulb)return[];const n=e.documentation.map(o=>{var r;return{id:o.id,label:o.title,tooltip:(r=o.tooltip)!==null&&r!==void 0?r:"",class:void 0,enabled:!0,run:()=>{var a;return this._commandService.executeCommand(o.id,...(a=o.arguments)!==null&&a!==void 0?a:[])}}});return i.includeDisabledActions&&e.validActions.length>0&&e.allActions.length!==e.validActions.length&&n.push(this._showDisabled?{id:"hideMoreActions",label:f("vs/editor/contrib/codeAction/browser/codeActionController","hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(e,t,i))}:{id:"showMoreActions",label:f("vs/editor/contrib/codeAction/browser/codeActionController","showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(e,t,i))}),n}};Od.ID="editor.contrib.codeActionController";Od.DECORATION=Ve.register({description:"quickfix-highlight",className:Yue});Od=cC=Que([vl(1,gl),vl(2,Me),vl(3,Ae),vl(4,me),vl(5,eu),vl(6,ci),vl(7,ot),vl(8,og),vl(9,Ae)],Od);mr((s,e)=>{((n,o)=>{o&&e.addRule(`.monaco-editor ${n} { background-color: ${o}; }`)})(".quickfix-edit-highlight",s.getColor(za));const i=s.getColor(qc);i&&e.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${Qr(s.type)?"dotted":"solid"} ${i}; box-sizing: border-box; }`)});function Xv(s){return Z.regex(S8.keys()[0],new RegExp("(\\s|^)"+cs(s.value)+"\\b"))}const RM={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:f("vs/editor/contrib/codeAction/browser/codeActionCommands","args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:f("vs/editor/contrib/codeAction/browser/codeActionCommands","args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[f("vs/editor/contrib/codeAction/browser/codeActionCommands","args.schema.apply.first","Always apply the first returned code action."),f("vs/editor/contrib/codeAction/browser/codeActionCommands","args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),f("vs/editor/contrib/codeAction/browser/codeActionCommands","args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:f("vs/editor/contrib/codeAction/browser/codeActionCommands","args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function sg(s,e,t,i,n=zo.Default){if(s.hasModel()){const o=Od.get(s);o==null||o.manualTriggerAtCurrentPosition(e,n,t,i)}}class Xue extends ge{constructor(){super({id:EM,label:f("vs/editor/contrib/codeAction/browser/codeActionCommands","quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Z.and(T.writable,T.hasCodeActionsProvider),kbOpts:{kbExpr:T.textInputFocus,primary:2137,weight:100}})}run(e,t){return sg(t,f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,zo.QuickFix)}}class Jue extends nn{constructor(){super({id:u8,precondition:Z.and(T.writable,T.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:RM}]}})}runEditorCommand(e,t,i){const n=Ma.fromUser(i,{kind:Ee.Empty,apply:"ifSingle"});return sg(t,typeof(i==null?void 0:i.kind)=="string"?n.preferred?f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):n.preferred?f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.codeAction.noneMessage","No code actions available"),{include:n.kind,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}}class ehe extends ge{constructor(){super({id:g8,label:f("vs/editor/contrib/codeAction/browser/codeActionCommands","refactor.label","Refactor..."),alias:"Refactor...",precondition:Z.and(T.writable,T.hasCodeActionsProvider),kbOpts:{kbExpr:T.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Z.and(T.writable,Xv(Ee.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:RM}]}})}run(e,t,i){const n=Ma.fromUser(i,{kind:Ee.Refactor,apply:"never"});return sg(t,typeof(i==null?void 0:i.kind)=="string"?n.preferred?f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):n.preferred?f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.refactor.noneMessage","No refactorings available"),{include:Ee.Refactor.contains(n.kind)?n.kind:Ee.None,onlyIncludePreferredActions:n.preferred},n.apply,zo.Refactor)}}class the extends ge{constructor(){super({id:f8,label:f("vs/editor/contrib/codeAction/browser/codeActionCommands","source.label","Source Action..."),alias:"Source Action...",precondition:Z.and(T.writable,T.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Z.and(T.writable,Xv(Ee.Source))},description:{description:"Source Action...",args:[{name:"args",schema:RM}]}})}run(e,t,i){const n=Ma.fromUser(i,{kind:Ee.Source,apply:"never"});return sg(t,typeof(i==null?void 0:i.kind)=="string"?n.preferred?f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):n.preferred?f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.source.noneMessage.preferred","No preferred source actions available"):f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.source.noneMessage","No source actions available"),{include:Ee.Source.contains(n.kind)?n.kind:Ee.None,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply,zo.SourceAction)}}class ihe extends ge{constructor(){super({id:NM,label:f("vs/editor/contrib/codeAction/browser/codeActionCommands","organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Z.and(T.writable,Xv(Ee.SourceOrganizeImports)),kbOpts:{kbExpr:T.textInputFocus,primary:1581,weight:100}})}run(e,t){return sg(t,f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.organize.noneMessage","No organize imports action available"),{include:Ee.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",zo.OrganizeImports)}}class nhe extends ge{constructor(){super({id:AM,label:f("vs/editor/contrib/codeAction/browser/codeActionCommands","fixAll.label","Fix All"),alias:"Fix All",precondition:Z.and(T.writable,Xv(Ee.SourceFixAll))})}run(e,t){return sg(t,f("vs/editor/contrib/codeAction/browser/codeActionCommands","fixAll.noneMessage","No fix all action available"),{include:Ee.SourceFixAll,includeSourceActions:!0},"ifSingle",zo.FixAll)}}class ohe extends ge{constructor(){super({id:h8,label:f("vs/editor/contrib/codeAction/browser/codeActionCommands","autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Z.and(T.writable,Xv(Ee.QuickFix)),kbOpts:{kbExpr:T.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(e,t){return sg(t,f("vs/editor/contrib/codeAction/browser/codeActionCommands","editor.action.autoFix.noneMessage","No auto fixes available"),{include:Ee.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",zo.AutoFix)}}gt(Od.ID,Od,3);gt(Ih.ID,Ih,4);ne(Xue);ne(ehe);ne(the);ne(ihe);ne(ohe);ne(nhe);re(new Jue);Jt.as(la.Configuration).registerConfiguration(Object.assign(Object.assign({},hy),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:f("vs/editor/contrib/codeAction/browser/codeActionContributions","showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}}));Jt.as(la.Configuration).registerConfiguration(Object.assign(Object.assign({},hy),{properties:{"editor.codeActionWidget.includeNearbyQuickfixes":{type:"boolean",scope:5,description:f("vs/editor/contrib/codeAction/browser/codeActionContributions","includeNearbyQuickfixes","Enable/disable showing nearest quickfix within a line when not currently on a diagnostic."),default:!1}}}));var sB=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class kE{constructor(){this.lenses=[],this._disposables=new Y}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(const i of e.lenses)this.lenses.push({symbol:i,provider:t})}}function k8(s,e,t){return sB(this,void 0,void 0,function*(){const i=s.ordered(e),n=new Map,o=new kE,r=i.map((a,l)=>sB(this,void 0,void 0,function*(){n.set(a,l);try{const c=yield Promise.resolve(a.provideCodeLenses(e,t));c&&o.add(c,a)}catch(c){Ni(c)}}));return yield Promise.all(r),o.lenses=o.lenses.sort((a,l)=>a.symbol.range.startLineNumber<l.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>l.symbol.range.startLineNumber?1:n.get(a.provider)<n.get(l.provider)?-1:n.get(a.provider)>n.get(l.provider)?1:a.symbol.range.startColumn<l.symbol.range.startColumn?-1:a.symbol.range.startColumn>l.symbol.range.startColumn?1:0),o})}lt.registerCommand("_executeCodeLensProvider",function(s,...e){let[t,i]=e;Lt(De.isUri(t)),Lt(typeof i=="number"||!i);const{codeLensProvider:n}=s.get(me),o=s.get(Qt).getModel(t);if(!o)throw Ns();const r=[],a=new Y;return k8(n,o,Xe.None).then(l=>{a.add(l);const c=[];for(const d of l.lenses)i==null||d.symbol.command?r.push(d.symbol):i-- >0&&d.provider.resolveCodeLens&&c.push(Promise.resolve(d.provider.resolveCodeLens(o,d.symbol,Xe.None)).then(u=>r.push(u||d.symbol)));return Promise.all(c)}).then(()=>r).finally(()=>{setTimeout(()=>a.dispose(),100)})});var she=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},rhe=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};const L8=et("ICodeLensCache");class rB{constructor(e,t){this.lineCount=e,this.data=t}}let LE=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new Yd(20,.75);const t="codelens/cache";Hl(()=>e.remove(t,1));const i="codelens/cache2",n=e.get(i,1,"{}");this._deserialize(n),ce.once(e.onWillSaveState)(o=>{o.reason===C1.SHUTDOWN&&e.store(i,this._serialize(),1,1)})}put(e,t){const i=t.lenses.map(r=>{var a;return{range:r.symbol.range,command:r.symbol.command&&{id:"",title:(a=r.symbol.command)===null||a===void 0?void 0:a.title}}}),n=new kE;n.add({lenses:i,dispose:()=>{}},this._fakeProvider);const o=new rB(e.getLineCount(),n);this._cache.set(e.uri.toString(),o)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,i]of this._cache){const n=new Set;for(const o of i.data.lenses)n.add(o.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...n.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const i in t){const n=t[i],o=[];for(const a of n.lines)o.push({range:new k(a,1,a,11)});const r=new kE;r.add({lenses:o,dispose(){}},this._fakeProvider),this._cache.set(i,new rB(n.lineCount,r))}}catch(t){}}};LE=she([rhe(0,_r)],LE);ct(L8,LE,1);class ahe{constructor(e,t,i){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class Ky{constructor(e,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${Ky._idPool++}`,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(e,t){this._commands.clear();const i=[];let n=!1;for(let o=0;o<e.length;o++){const r=e[o];if(r&&(n=!0,r.command)){const a=dd(r.command.title.trim());r.command.id?(i.push(te("a",{id:String(o),title:r.command.tooltip,role:"button"},...a)),this._commands.set(String(o),r.command)):i.push(te("span",{title:r.command.tooltip},...a)),o+1<e.length&&i.push(te("span",void 0," | "))}}n?(mn(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):mn(this._domNode,te("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}Ky._idPool=0;class bx{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){const t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,n=t.length;i<n;i++)this._addDecorationsCallbacks[i](t[i])}}const aB=Ve.register({collapseOnReplaceEdit:!0,description:"codelens"});class lB{constructor(e,t,i,n,o,r){this._isDisposed=!1,this._editor=t,this._data=e,this._decorationIds=[];let a;const l=[];this._data.forEach((c,d)=>{c.symbol.command&&l.push(c.symbol),i.addDecoration({range:c.symbol.range,options:aB},u=>this._decorationIds[d]=u),a?a=k.plusRange(a,c.symbol.range):a=k.lift(c.symbol.range)}),this._viewZone=new ahe(a.startLineNumber-1,o,r),this._viewZoneId=n.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new Ky(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t==null||t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const i=this._editor.getModel().getDecorationRange(e),n=this._data[t].symbol;return!!(i&&k.isEmpty(n.range)===i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((i,n)=>{t.addDecoration({range:i.symbol.range,options:aB},o=>this._decorationIds[n]=o)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const i=e[t];if(i){const{symbol:n}=this._data[t];n.command=i.command||n.command}}}getCommand(e){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var lhe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},kp=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},x8=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};let vm=class{constructor(e,t,i,n,o,r){this._editor=e,this._languageFeaturesService=t,this._commandService=n,this._notificationService=o,this._codeLensCache=r,this._disposables=new Y,this._localToDispose=new Y,this._lenses=[],this._oldCodeLensModels=new Y,this._provideCodeLensDebounce=i.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new xt(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{(a.hasChanged(50)||a.hasChanged(19)||a.hasChanged(18))&&this._updateLensStyle(),a.hasChanged(17)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose()}_getLayoutInfo(){const e=Math.max(1.3,this._editor.getOption(66)/this._editor.getOption(52));let t=this._editor.getOption(19);return(!t||t<5)&&(t=this._editor.getOption(52)*.9|0),{fontSize:t,codeLensHeight:t*e|0}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(18),n=this._editor.getOption(50),{style:o}=this._editor.getContainerDomNode();o.setProperty("--vscode-editorCodeLens-lineHeight",`${e}px`),o.setProperty("--vscode-editorCodeLens-fontSize",`${t}px`),o.setProperty("--vscode-editorCodeLens-fontFeatureSettings",n.fontFeatureSettings),i&&(o.setProperty("--vscode-editorCodeLens-fontFamily",i),o.setProperty("--vscode-editorCodeLens-fontFamilyDefault",Fo.fontFamily)),this._editor.changeViewZones(r=>{for(const a of this._lenses)a.updateHeight(e,r)})}_localDispose(){var e,t,i;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(t=this._resolveCodeLensesPromise)===null||t===void 0||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(i=this._currentCodeLensModel)===null||i===void 0||i.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e||!this._editor.getOption(17)||e.isTooLargeForTokenization())return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e)){t&&this._localToDispose.add(xd(()=>{const n=this._codeLensCache.get(e);t===n&&(this._codeLensCache.delete(e),this._onModelChange())},30*1e3));return}for(const n of this._languageFeaturesService.codeLensProvider.all(e))if(typeof n.onDidChange=="function"){const o=n.onDidChange(()=>i.schedule());this._localToDispose.add(o)}const i=new xt(()=>{var n;const o=Date.now();(n=this._getCodeLensModelPromise)===null||n===void 0||n.cancel(),this._getCodeLensModelPromise=Vi(r=>k8(this._languageFeaturesService.codeLensProvider,e,r)),this._getCodeLensModelPromise.then(r=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=r,this._codeLensCache.put(e,r);const a=this._provideCodeLensDebounce.update(e,Date.now()-o);i.delay=a,this._renderCodeLensSymbols(r),this._resolveCodeLensesInViewportSoon()},He)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(i),this._localToDispose.add(Re(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var n;this._editor.changeDecorations(o=>{this._editor.changeViewZones(r=>{const a=[];let l=-1;this._lenses.forEach(d=>{!d.isValid()||l===d.getLineNumber()?a.push(d):(d.update(r),l=d.getLineNumber())});const c=new bx;a.forEach(d=>{d.dispose(c,r),this._lenses.splice(this._lenses.indexOf(d),1)}),c.commit(o)})}),i.schedule(),this._resolveCodeLensesScheduler.cancel(),(n=this._resolveCodeLensesPromise)===null||n===void 0||n.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{i.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(n=>{n.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(Re(()=>{if(this._editor.getModel()){const n=na.capture(this._editor);this._editor.changeDecorations(o=>{this._editor.changeViewZones(r=>{this._disposeAllLenses(o,r)})}),n.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(n=>{if(n.target.type!==9)return;let o=n.target.element;if((o==null?void 0:o.tagName)==="SPAN"&&(o=o.parentElement),(o==null?void 0:o.tagName)==="A")for(const r of this._lenses){const a=r.getCommand(o);if(a){this._commandService.executeCommand(a.id,...a.arguments||[]).catch(l=>this._notificationService.error(l));break}}})),i.schedule()}_disposeAllLenses(e,t){const i=new bx;for(const n of this._lenses)n.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;const t=this._editor.getModel().getLineCount(),i=[];let n;for(const a of e.lenses){const l=a.symbol.range.startLineNumber;l<1||l>t||(n&&n[n.length-1].symbol.range.startLineNumber===l?n.push(a):(n=[a],i.push(n)))}if(!i.length&&!this._lenses.length)return;const o=na.capture(this._editor),r=this._getLayoutInfo();this._editor.changeDecorations(a=>{this._editor.changeViewZones(l=>{const c=new bx;let d=0,u=0;for(;u<i.length&&d<this._lenses.length;){const h=i[u][0].symbol.range.startLineNumber,g=this._lenses[d].getLineNumber();g<h?(this._lenses[d].dispose(c,l),this._lenses.splice(d,1)):g===h?(this._lenses[d].updateCodeLensSymbols(i[u],c),u++,d++):(this._lenses.splice(d,0,new lB(i[u],this._editor,c,l,r.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),d++,u++)}for(;d<this._lenses.length;)this._lenses[d].dispose(c,l),this._lenses.splice(d,1);for(;u<i.length;)this._lenses.push(new lB(i[u],this._editor,c,l,r.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),u++;c.commit(a)})}),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;(e=this._resolveCodeLensesPromise)===null||e===void 0||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const i=[],n=[];if(this._lenses.forEach(a=>{const l=a.computeIfNecessary(t);l&&(i.push(l),n.push(a))}),i.length===0)return;const o=Date.now(),r=Vi(a=>{const l=i.map((c,d)=>{const u=new Array(c.length),h=c.map((g,m)=>!g.symbol.command&&typeof g.provider.resolveCodeLens=="function"?Promise.resolve(g.provider.resolveCodeLens(t,g.symbol,a)).then(p=>{u[m]=p},Ni):(u[m]=g.symbol,Promise.resolve(void 0)));return Promise.all(h).then(()=>{!a.isCancellationRequested&&!n[d].isDisposed()&&n[d].updateCommands(u)})});return Promise.all(l)});this._resolveCodeLensesPromise=r,this._resolveCodeLensesPromise.then(()=>{const a=this._resolveCodeLensesDebounce.update(t,Date.now()-o);this._resolveCodeLensesScheduler.delay=a,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},a=>{He(a),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){var e;return x8(this,void 0,void 0,function*(){return yield this._getCodeLensModelPromise,yield this._resolveCodeLensesPromise,!((e=this._currentCodeLensModel)===null||e===void 0)&&e.isDisposed?void 0:this._currentCodeLensModel})}};vm.ID="css.editor.codeLens";vm=lhe([kp(1,me),kp(2,zs),kp(3,ci),kp(4,Li),kp(5,L8)],vm);gt(vm.ID,vm,1);ne(class extends ge{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:T.hasCodeLensProvider,label:f("vs/editor/contrib/codelens/browser/codelensController","showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return x8(this,void 0,void 0,function*(){if(!t.hasModel())return;const i=e.get(ca),n=e.get(ci),o=e.get(Li),r=t.getSelection().positionLineNumber,a=t.getContribution(vm.ID);if(!a)return;const l=yield a.getModel();if(!l)return;const c=[];for(const h of l.lenses)h.symbol.command&&h.symbol.range.startLineNumber===r&&c.push({label:h.symbol.command.title,command:h.symbol.command});if(c.length===0)return;const d=yield i.pick(c,{canPickMany:!1,placeHolder:f("vs/editor/contrib/codelens/browser/codelensController","placeHolder","Select a command")});if(!d)return;let u=d.command;if(l.isDisposed){const h=yield a.getModel(),g=h==null?void 0:h.lenses.find(m=>{var p;return m.symbol.range.startLineNumber===r&&((p=m.symbol.command)===null||p===void 0?void 0:p.title)===u.title});if(!g||!g.symbol.command)return;u=g.symbol.command}try{yield n.executeCommand(u.id,...u.arguments||[])}catch(h){o.error(h)}})}});var che=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},_x=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},dhe=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class MM{constructor(e,t){this._editorWorkerClient=new HA(e,!1,"editorWorkerService",t)}provideDocumentColors(e,t){return dhe(this,void 0,void 0,function*(){return this._editorWorkerClient.computeDefaultDocumentColors(e.uri)})}provideColorPresentations(e,t,i){const n=t.range,o=t.color,r=o.alpha,a=new V(new rt(Math.round(255*o.red),Math.round(255*o.green),Math.round(255*o.blue),r)),l=r?V.Format.CSS.formatRGB(a):V.Format.CSS.formatRGBA(a),c=r?V.Format.CSS.formatHSL(a):V.Format.CSS.formatHSLA(a),d=r?V.Format.CSS.formatHex(a):V.Format.CSS.formatHexA(a),u=[];return u.push({label:l,textEdit:{range:n,text:l}}),u.push({label:c,textEdit:{range:n,text:c}}),u.push({label:d,textEdit:{range:n,text:d}}),u}}let xE=class extends H{constructor(e,t,i){super(),this._register(i.colorProvider.register("*",new MM(e,t)))}};xE=che([_x(0,Qt),_x(1,Mt),_x(2,me)],xE);Ay(xE);var Jv=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function D8(s,e,t,i=!0){return Jv(this,void 0,void 0,function*(){return PM(new uhe,s,e,t,i)})}function I8(s,e,t,i){return Promise.resolve(t.provideColorPresentations(s,e,i))}class uhe{constructor(){}compute(e,t,i,n){return Jv(this,void 0,void 0,function*(){const o=yield e.provideDocumentColors(t,i);if(Array.isArray(o))for(const r of o)n.push({colorInfo:r,provider:e});return Array.isArray(o)})}}class hhe{constructor(){}compute(e,t,i,n){return Jv(this,void 0,void 0,function*(){const o=yield e.provideDocumentColors(t,i);if(Array.isArray(o))for(const r of o)n.push({range:r.range,color:[r.color.red,r.color.green,r.color.blue,r.color.alpha]});return Array.isArray(o)})}}class ghe{constructor(e){this.colorInfo=e}compute(e,t,i,n){return Jv(this,void 0,void 0,function*(){const o=yield e.provideColorPresentations(t,this.colorInfo,Xe.None);return Array.isArray(o)&&n.push(...o),Array.isArray(o)})}}function PM(s,e,t,i,n){return Jv(this,void 0,void 0,function*(){let o=!1,r;const a=[],l=e.ordered(t);for(let c=l.length-1;c>=0;c--){const d=l[c];if(d instanceof MM)r=d;else try{(yield s.compute(d,t,i,a))&&(o=!0)}catch(u){Ni(u)}}return o?a:r&&n?(yield s.compute(r,t,i,a),a):[]})}function T8(s,e){const{colorProvider:t}=s.get(me),i=s.get(Qt).getModel(e);if(!i)throw Ns();const n=s.get(ot).getValue("editor.defaultColorDecorators",{resource:e});return{model:i,colorProviderRegistry:t,isDefaultColorDecoratorsEnabled:n}}lt.registerCommand("_executeDocumentColorProvider",function(s,...e){const[t]=e;if(!(t instanceof De))throw Ns();const{model:i,colorProviderRegistry:n,isDefaultColorDecoratorsEnabled:o}=T8(s,t);return PM(new hhe,n,i,Xe.None,o)});lt.registerCommand("_executeColorPresentationProvider",function(s,...e){const[t,i]=e,{uri:n,range:o}=i;if(!(n instanceof De)||!Array.isArray(t)||t.length!==4||!k.isIRange(o))throw Ns();const{model:r,colorProviderRegistry:a,isDefaultColorDecoratorsEnabled:l}=T8(s,n),[c,d,u,h]=t;return PM(new ghe({range:o,color:{red:c,green:d,blue:u,alpha:h}}),a,r,Xe.None,l)});var fhe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},vx=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},cB=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},DE;const E8=Object.create({});let Fd=DE=class extends H{constructor(e,t,i,n){super(),this._editor=e,this._configurationService=t,this._languageFeaturesService=i,this._localToDispose=this._register(new Y),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new Tv(this._editor),this._decoratorLimitReporter=new mhe,this._colorDecorationClassRefs=this._register(new Y),this._debounceInformation=n.for(i.colorProvider,"Document Colors",{min:DE.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(e.onDidChangeModelLanguage(()=>this.updateColors())),this._register(i.colorProvider.onDidChange(()=>this.updateColors())),this._register(e.onDidChangeConfiguration(o=>{const r=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(145);const a=r!==this._isColorDecoratorsEnabled||o.hasChanged(21),l=o.hasChanged(145);(a||l)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(145),this.updateColors()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),i=this._configurationService.getValue(t);if(i&&typeof i=="object"){const n=i.colorDecorators;if(n&&n.enable!==void 0&&!n.enable)return n.enable}return this._editor.getOption(20)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const e=this._editor.getModel();!e||!this._languageFeaturesService.colorProvider.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new gr,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}beginCompute(){return cB(this,void 0,void 0,function*(){this._computePromise=Vi(e=>cB(this,void 0,void 0,function*(){const t=this._editor.getModel();if(!t)return[];const i=new Wn(!1),n=yield D8(this._languageFeaturesService.colorProvider,t,e,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(t,i.elapsed()),n}));try{const e=yield this._computePromise;this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}catch(e){He(e)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(i=>({range:{startLineNumber:i.colorInfo.range.startLineNumber,startColumn:i.colorInfo.range.startColumn,endLineNumber:i.colorInfo.range.endLineNumber,endColumn:i.colorInfo.range.endColumn},options:Ve.EMPTY}));this._editor.changeDecorations(i=>{this._decorationsIds=i.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((n,o)=>this._colorDatas.set(n,e[o]))})}updateColorDecorators(e){this._colorDecorationClassRefs.clear();const t=[],i=this._editor.getOption(21);for(let o=0;o<e.length&&t.length<i;o++){const{red:r,green:a,blue:l,alpha:c}=e[o].colorInfo.color,d=new rt(Math.round(r*255),Math.round(a*255),Math.round(l*255),c),u=`rgba(${d.r}, ${d.g}, ${d.b}, ${d.a})`,h=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:u}));t.push({range:{startLineNumber:e[o].colorInfo.range.startLineNumber,startColumn:e[o].colorInfo.range.startColumn,endLineNumber:e[o].colorInfo.range.endLineNumber,endColumn:e[o].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:LW,inlineClassName:`${h.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:E8}}})}const n=i<e.length?i:!1;this._decoratorLimitReporter.update(e.length,n),this._colorDecoratorIds.set(t)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const i=t.getDecorationsInRange(k.fromPositions(e,e)).filter(n=>this._colorDatas.has(n.id));return i.length===0?null:this._colorDatas.get(i[0].id)}isColorDecoration(e){return this._colorDecoratorIds.has(e)}};Fd.ID="editor.contrib.colorDetector";Fd.RECOMPUTE_TIME=1e3;Fd=DE=fhe([vx(1,ot),vx(2,me),vx(3,zs)],Fd);class mhe{constructor(){this._onDidChange=new M,this._computed=0,this._limited=!1}update(e,t){(e!==this._computed||t!==this._limited)&&(this._computed=e,this._limited=t,this._onDidChange.fire())}}gt(Fd.ID,Fd,1);class phe{get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new M,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new M,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new M,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){let i=-1;for(let n=0;n<this.colorPresentations.length;n++)if(t.toLowerCase()===this.colorPresentations[n].label){i=n;break}if(i===-1){const n=t.split("(")[0].toLowerCase();for(let o=0;o<this.colorPresentations.length;o++)if(this.colorPresentations[o].label.toLowerCase().startsWith(n)){i=o;break}}i!==-1&&i!==this.presentationIndex&&(this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}const is=te;class bhe extends H{constructor(e,t,i,n=!1){super(),this.model=t,this.showingStandaloneColorPicker=n,this._closeButton=null,this._domNode=is(".colorpicker-header"),Q(e,this._domNode),this._pickedColorNode=Q(this._domNode,is(".picked-color")),Q(this._pickedColorNode,is("span.codicon.codicon-color-mode")),this._pickedColorPresentation=Q(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const o=f("vs/editor/contrib/colorPicker/browser/colorPickerWidget","clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",o),this._originalColorNode=Q(this._domNode,is(".original-color")),this._originalColorNode.style.backgroundColor=V.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(KC)||V.white,this._register(i.onDidColorThemeChange(r=>{this.backgroundColor=r.getColor(KC)||V.white})),this._register($(this._pickedColorNode,ae.CLICK,()=>this.model.selectNextColorPresentation())),this._register($(this._originalColorNode,ae.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=V.Format.CSS.format(t.color)||"",this._pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new _he(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(e){this._pickedColorNode.style.backgroundColor=V.Format.CSS.format(e)||"",this._pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}class _he extends H{constructor(e){super(),this._onClicked=this._register(new M),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),Q(e,this._button);const t=document.createElement("div");t.classList.add("close-button-inner-div"),Q(this._button,t),Q(t,is(".button"+Ie.asCSSSelector(_i("color-picker-close",se.close,f("vs/editor/contrib/colorPicker/browser/colorPickerWidget","closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._button.onclick=()=>{this._onClicked.fire()}}}class vhe extends H{constructor(e,t,i,n=!1){super(),this.model=t,this.pixelRatio=i,this._insertButton=null,this._domNode=is(".colorpicker-body"),Q(e,this._domNode),this._saturationBox=new whe(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new Che(this._domNode,this.model,n),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new She(this._domNode,this.model,n),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),n&&(this._insertButton=this._register(new yhe(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const i=this.model.color.hsva;this.model.color=new V(new Oa(i.h,e,t,i.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new V(new Oa(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,i=(1-e)*360;this.model.color=new V(new Oa(i===360?0:i,t.s,t.v,t.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}class whe extends H{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this._onDidChange=new M,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new M,this.onColorFlushed=this._onColorFlushed.event,this._domNode=is(".saturation-wrap"),Q(e,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",Q(this._domNode,this._canvas),this.selection=is(".saturation-selection"),Q(this._domNode,this.selection),this.layout(),this._register($(this._domNode,ae.POINTER_DOWN,n=>this.onPointerDown(n))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;this.monitor=this._register(new Vm);const t=Pi(this._domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.pointerId,e.buttons,n=>this.onDidChangePosition(n.pageX-t.left,n.pageY-t.top),()=>null);const i=$(e.target.ownerDocument,ae.POINTER_UP,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const i=Math.max(0,Math.min(1,e/this.width)),n=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,n),this._onDidChange.fire({s:i,v:n})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new V(new Oa(e.h,1,1,1)),i=this._canvas.getContext("2d"),n=i.createLinearGradient(0,0,this._canvas.width,0);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),n.addColorStop(1,"rgba(255, 255, 255, 0)");const o=i.createLinearGradient(0,0,0,this._canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this._canvas.width,this._canvas.height),i.fillStyle=V.Format.CSS.format(t),i.fill(),i.fillStyle=n,i.fill(),i.fillStyle=o,i.fill()}paintSelection(e,t){this.selection.style.left=`${e*this.width}px`,this.selection.style.top=`${this.height-t*this.height}px`}onDidChangeColor(e){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const t=e.hsva;this.paintSelection(t.s,t.v)}}class N8 extends H{constructor(e,t,i=!1){super(),this.model=t,this._onDidChange=new M,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new M,this.onColorFlushed=this._onColorFlushed.event,i?(this.domNode=Q(e,is(".standalone-strip")),this.overlay=Q(this.domNode,is(".standalone-overlay"))):(this.domNode=Q(e,is(".strip")),this.overlay=Q(this.domNode,is(".overlay"))),this.slider=Q(this.domNode,is(".slider")),this.slider.style.top="0px",this._register($(this.domNode,ae.POINTER_DOWN,n=>this.onPointerDown(n))),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onDidChangeColor(e){const t=this.getValue(e);this.updateSliderPosition(t)}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._register(new Vm),i=Pi(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.pointerId,e.buttons,o=>this.onDidChangeTop(o.pageY-i.top),()=>null);const n=$(e.target.ownerDocument,ae.POINTER_UP,()=>{this._onColorFlushed.fire(),n.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=`${(1-e)*this.height}px`}}class Che extends N8{constructor(e,t,i=!1){super(e,t,i),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){super.onDidChangeColor(e);const{r:t,g:i,b:n}=e.rgba,o=new V(new rt(t,i,n,1)),r=new V(new rt(t,i,n,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${r} 100%)`}getValue(e){return e.hsva.a}}class She extends N8{constructor(e,t,i=!1){super(e,t,i),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class yhe extends H{constructor(e){super(),this._onClicked=this._register(new M),this.onClicked=this._onClicked.event,this._button=Q(e,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._button.onclick=t=>{this._onClicked.fire()}}get button(){return this._button}}class khe extends fr{constructor(e,t,i,n,o=!1){super(),this.model=t,this.pixelRatio=i,this._register(Gb.onDidChange(()=>this.layout()));const r=is(".colorpicker-widget");e.appendChild(r),this.header=this._register(new bhe(r,this.model,n,o)),this.body=this._register(new vhe(r,this.model,this.pixelRatio,o))}layout(){this.body.layout()}}var A8=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},R8=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},wm=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class Lhe{constructor(e,t,i,n){this.owner=e,this.range=t,this.model=i,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let Q1=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=2}computeSync(e,t){return[]}computeAsync(e,t,i){return Ii.fromPromise(this._computeAsync(e,t,i))}_computeAsync(e,t,i){return wm(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const n=Fd.get(this._editor);if(!n)return[];for(const o of t){if(!n.isColorDecoration(o))continue;const r=n.getColorData(o.range.getStartPosition());if(r)return[yield M8(this,this._editor.getModel(),r.colorInfo,r.provider)]}return[]})}renderHoverParts(e,t){return P8(this,this._editor,this._themeService,t,e)}};Q1=A8([R8(1,qi)],Q1);class xhe{constructor(e,t,i,n){this.owner=e,this.range=t,this.model=i,this.provider=n}}let K_=class{constructor(e,t){this._editor=e,this._themeService=t,this._color=null}createColorHover(e,t,i){return wm(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!Fd.get(this._editor))return null;const o=yield D8(i,this._editor.getModel(),Xe.None);let r=null,a=null;for(const u of o){const h=u.colorInfo;k.containsRange(h.range,e.range)&&(r=h,a=u.provider)}const l=r!=null?r:e,c=a!=null?a:t,d=!!r;return{colorHover:yield M8(this,this._editor.getModel(),l,c),foundInEditor:d}})}updateEditorModel(e){return wm(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const t=e.model;let i=new k(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn);this._color&&(yield dC(this._editor.getModel(),t,this._color,i,e),i=O8(this._editor,i,t))})}renderHoverParts(e,t){return P8(this,this._editor,this._themeService,t,e)}set color(e){this._color=e}get color(){return this._color}};K_=A8([R8(1,qi)],K_);function M8(s,e,t,i){return wm(this,void 0,void 0,function*(){const n=e.getValueInRange(t.range),{red:o,green:r,blue:a,alpha:l}=t.color,c=new rt(Math.round(o*255),Math.round(r*255),Math.round(a*255),l),d=new V(c),u=yield I8(e,t,i,Xe.None),h=new phe(d,[],0);return h.colorPresentations=u||[],h.guessColorPresentation(d,n),s instanceof Q1?new Lhe(s,k.lift(t.range),h,i):new xhe(s,k.lift(t.range),h,i)})}function P8(s,e,t,i,n){if(i.length===0||!e.hasModel())return H.None;if(n.setMinimumDimensions){const h=e.getOption(66)+8;n.setMinimumDimensions(new ft(302,h))}const o=new Y,r=i[0],a=e.getModel(),l=r.model,c=o.add(new khe(n.fragment,l,e.getOption(141),t,s instanceof K_));n.setColorPicker(c);let d=!1,u=new k(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn);if(s instanceof K_){const h=i[0].model.color;s.color=h,dC(a,l,h,u,r),o.add(l.onColorFlushed(g=>{s.color=g}))}else o.add(l.onColorFlushed(h=>wm(this,void 0,void 0,function*(){yield dC(a,l,h,u,r),d=!0,u=O8(e,u,l,n)})));return o.add(l.onDidChangeColor(h=>{dC(a,l,h,u,r)})),o.add(e.onDidChangeModelContent(h=>{d?d=!1:(n.hide(),e.focus())})),o}function O8(s,e,t,i){let n,o;if(t.presentation.textEdit){n=[t.presentation.textEdit],o=new k(t.presentation.textEdit.range.startLineNumber,t.presentation.textEdit.range.startColumn,t.presentation.textEdit.range.endLineNumber,t.presentation.textEdit.range.endColumn);const r=s.getModel()._setTrackedRange(null,o,3);s.pushUndoStop(),s.executeEdits("colorpicker",n),o=s.getModel()._getTrackedRange(r)||o}else n=[{range:e,text:t.presentation.label,forceMoveMarkers:!1}],o=e.setEndPosition(e.endLineNumber,e.startColumn+t.presentation.label.length),s.pushUndoStop(),s.executeEdits("colorpicker",n);return t.presentation.additionalTextEdits&&(n=[...t.presentation.additionalTextEdits],s.executeEdits("colorpicker",n),i&&i.hide()),s.pushUndoStop(),o}function dC(s,e,t,i,n){return wm(this,void 0,void 0,function*(){const o=yield I8(s,{range:i,color:{red:t.rgba.r/255,green:t.rgba.g/255,blue:t.rgba.b/255,alpha:t.rgba.a}},n.provider,Xe.None);e.colorPresentations=o||[]})}function IE(s,e){return!!s[e]}class wx{constructor(e,t){this.target=e.target,this.isLeftClick=e.event.leftButton,this.isMiddleClick=e.event.middleButton,this.isRightClick=e.event.rightButton,this.hasTriggerModifier=IE(e.event,t.triggerModifier),this.hasSideBySideModifier=IE(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class dB{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=IE(e,t.triggerModifier)}}class rw{constructor(e,t,i,n){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=n}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function uB(s){return s==="altKey"?at?new rw(57,"metaKey",6,"altKey"):new rw(5,"ctrlKey",6,"altKey"):at?new rw(6,"altKey",57,"metaKey"):new rw(6,"altKey",5,"ctrlKey")}class qy extends H{constructor(e,t){var i;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new M),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new M),this.onExecute=this._onExecute.event,this._onCancel=this._register(new M),this.onCancel=this._onCancel.event,this._editor=e,this._extractLineNumberFromMouseEvent=(i=t==null?void 0:t.extractLineNumberFromMouseEvent)!==null&&i!==void 0?i:n=>n.target.position?n.target.position.lineNumber:0,this._opts=uB(this._editor.getOption(77)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(n=>{if(n.hasChanged(77)){const o=uB(this._editor.getOption(77));if(this._opts.equals(o))return;this._opts=o,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(n=>this._onEditorMouseMove(new wx(n,this._opts)))),this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(new wx(n,this._opts)))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(new wx(n,this._opts)))),this._register(this._editor.onKeyDown(n=>this._onEditorKeyDown(new dB(n,this._opts)))),this._register(this._editor.onKeyUp(n=>this._onEditorKeyUp(new dB(n,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(n=>this._onDidChangeCursorSelection(n))),this._register(this._editor.onDidChangeModel(n=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(n=>{(n.scrollTopChanged||n.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(e)}_onEditorMouseUp(e){const t=this._extractLineNumberFromMouseEvent(e);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var Dhe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},wl=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let Bd=class extends lm{constructor(e,t,i,n,o,r,a,l,c,d,u,h,g){super(e,Object.assign(Object.assign({},n.getRawOptions()),{overflowWidgetsDomNode:n.getOverflowWidgetsDomNode()}),i,o,r,a,l,c,d,u,h,g),this._parentEditor=n,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(n.onDidChangeConfiguration(m=>this._onParentConfigurationChanged(m)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){yS(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};Bd=Dhe([wl(4,Ae),wl(5,bt),wl(6,ci),wl(7,Me),wl(8,qi),wl(9,Li),wl(10,hc),wl(11,Mt),wl(12,me)],Bd);const hB=new V(new rt(0,122,204)),Ihe={showArrow:!0,showFrame:!0,className:"",frameColor:hB,arrowColor:hB,keepEditorSelection:!1},The="vs.editor.contrib.zoneWidget";class Ehe{constructor(e,t,i,n,o,r,a,l){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=n,this.showInHiddenAreas=a,this.ordinal=l,this._onDomNodeTop=o,this._onComputedHeight=r}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class Nhe{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class Gy{constructor(e){this._editor=e,this._ruleName=Gy._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),o2(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){o2(this._ruleName),eI(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:k.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}Gy._IdGenerator=new HR(".arrow-decoration-");class Ahe{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new Y,this.container=null,this._isShowing=!1,this.editor=e,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=Tl(t),yS(this.options,Ihe,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(i=>{const n=this._getWidth(i);this.domNode.style.width=n+"px",this.domNode.style.left=this._getLeft(i)+"px",this._onWidth(n)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new Gy(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){const e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){var t;if(this.domNode.style.height=`${e}px`,this.container){const i=e-this._decoratingElementsHeight();this.container.style.height=`${i}px`;const n=this.editor.getLayoutInfo();this._doLayout(i,this._getWidth(n))}(t=this._resizeSash)===null||t===void 0||t.layout()}get position(){const e=this._positionMarkerId.getRange(0);if(e)return e.getStartPosition()}show(e,t){const i=k.isIRange(e)?k.lift(e):k.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId.set([{range:i,options:Ve.EMPTY}])}hide(){var e;this._viewZone&&(this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(e=this._arrow)===null||e===void 0||e.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const e=this.editor.getOption(66);let t=0;if(this.options.showArrow){const i=Math.round(e/3);t+=2*i}if(this.options.showFrame){const i=Math.round(e/9);t+=2*i}return t}_showImpl(e,t){const i=e.getStartPosition(),n=this.editor.getLayoutInfo(),o=this._getWidth(n);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(n)+"px";const r=document.createElement("div");r.style.overflow="hidden";const a=this.editor.getOption(66);if(!this.options.allowUnlimitedHeight){const h=Math.max(12,this.editor.getLayoutInfo().height/a*.8);t=Math.min(t,h)}let l=0,c=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(a/3),this._arrow.height=l,this._arrow.show(i)),this.options.showFrame&&(c=Math.round(a/9)),this.editor.changeViewZones(h=>{this._viewZone&&h.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new Ehe(r,i.lineNumber,i.column,t,g=>this._onViewZoneTop(g),g=>this._onViewZoneHeight(g),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=h.addZone(this._viewZone),this._overlayWidget=new Nhe(The+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const h=this.options.frameWidth?this.options.frameWidth:c;this.container.style.borderTopWidth=h+"px",this.container.style.borderBottomWidth=h+"px"}const d=t*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden"),this._doLayout(d,o),this.options.keepEditorSelection||this.editor.setSelection(e);const u=this.editor.getModel();if(u){const h=u.validateRange(new k(e.startLineNumber,1,e.endLineNumber+1,1));this.revealRange(h,h.startLineNumber===u.getLineCount())}}revealRange(e,t){t?this.editor.revealLineNearTop(e.endLineNumber,0):this.editor.revealRange(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new An(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let e;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){const i=(t.currentY-e.startY)/this.editor.getOption(66),n=i<0?Math.ceil(i):Math.floor(i),o=e.heightInLines+n;o>5&&o<35&&this._relayout(o)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}var F8=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},B8=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};const W8=et("IPeekViewService");ct(W8,class{constructor(){this._widgets=new Map}addExclusiveWidget(s,e){const t=this._widgets.get(s);t&&(t.listener.dispose(),t.widget.dispose());const i=()=>{const n=this._widgets.get(s);n&&n.widget===e&&(n.listener.dispose(),this._widgets.delete(s))};this._widgets.set(s,{widget:e,listener:e.onDidClose(i)})}},1);var ko;(function(s){s.inPeekEditor=new de("inReferenceSearchEditor",!0,f("vs/editor/contrib/peekView/browser/peekView","inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),s.notInPeekEditor=s.inPeekEditor.toNegated()})(ko||(ko={}));let q_=class{constructor(e,t){e instanceof Bd&&ko.inPeekEditor.bindTo(t)}dispose(){}};q_.ID="editor.contrib.referenceController";q_=F8([B8(1,Me)],q_);gt(q_.ID,q_,0);function Rhe(s){const e=s.get(bt).getFocusedCodeEditor();return e instanceof Bd?e.getParentEditor():e}const Mhe={headerBackgroundColor:V.white,primaryHeadingColor:V.fromHex("#333333"),secondaryHeadingColor:V.fromHex("#6c6c6cb3")};let Y1=class extends Ahe{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new M,this.onDidClose=this._onDidClose.event,yS(this.options,Mhe,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){const t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();const e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=te(".head"),this._bodyElement=te(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){this._titleElement=te(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),Si(this._titleElement,"click",o=>this._onTitleClick(o))),Q(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=te("span.filename"),this._secondaryHeading=te("span.dirname"),this._metaHeading=te("span.meta"),Q(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const i=te(".peekview-actions");Q(this._headElement,i);const n=this._getActionBarOptions();this._actionbarWidget=new Vs(i,n),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new lo("peekview.close",f("vs/editor/contrib/peekView/browser/peekView","label.close","Close"),Ie.asClassName(se.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:Roe.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:fn(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,Ro(this._metaHeading)):eo(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0){this.dispose();return}const i=Math.ceil(this.editor.getOption(66)*1.2),n=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(n,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};Y1=F8([B8(2,Ae)],Y1);const Phe=N("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:V.black,hcLight:V.white},f("vs/editor/contrib/peekView/browser/peekView","peekViewTitleBackground","Background color of the peek view title area.")),V8=N("peekViewTitleLabel.foreground",{dark:V.white,light:V.black,hcDark:V.white,hcLight:tr},f("vs/editor/contrib/peekView/browser/peekView","peekViewTitleForeground","Color of the peek view title.")),H8=N("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},f("vs/editor/contrib/peekView/browser/peekView","peekViewTitleInfoForeground","Color of the peek view title info.")),Ohe=N("peekView.border",{dark:Co,light:Co,hcDark:nt,hcLight:nt},f("vs/editor/contrib/peekView/browser/peekView","peekViewBorder","Color of the peek view borders and arrow.")),Fhe=N("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:V.black,hcLight:V.white},f("vs/editor/contrib/peekView/browser/peekView","peekViewResultsBackground","Background color of the peek view result list."));N("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:V.white,hcLight:tr},f("vs/editor/contrib/peekView/browser/peekView","peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list."));N("peekViewResult.fileForeground",{dark:V.white,light:"#1E1E1E",hcDark:V.white,hcLight:tr},f("vs/editor/contrib/peekView/browser/peekView","peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list."));N("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},f("vs/editor/contrib/peekView/browser/peekView","peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list."));N("peekViewResult.selectionForeground",{dark:V.white,light:"#6C6C6C",hcDark:V.white,hcLight:tr},f("vs/editor/contrib/peekView/browser/peekView","peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list."));const Jc=N("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:V.black,hcLight:V.white},f("vs/editor/contrib/peekView/browser/peekView","peekViewEditorBackground","Background color of the peek view editor."));N("peekViewEditorGutter.background",{dark:Jc,light:Jc,hcDark:Jc,hcLight:Jc},f("vs/editor/contrib/peekView/browser/peekView","peekViewEditorGutterBackground","Background color of the gutter in the peek view editor."));N("peekViewEditorStickyScroll.background",{dark:Jc,light:Jc,hcDark:Jc,hcLight:Jc},f("vs/editor/contrib/peekView/browser/peekView","peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor."));N("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},f("vs/editor/contrib/peekView/browser/peekView","peekViewResultsMatchHighlight","Match highlight color in the peek view result list."));N("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},f("vs/editor/contrib/peekView/browser/peekView","peekViewEditorMatchHighlight","Match highlight color in the peek view editor."));N("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Ut,hcLight:Ut},f("vs/editor/contrib/peekView/browser/peekView","peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var Bhe=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class Wd{constructor(e,t,i,n){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=n,this.id=uT.nextId()}get uri(){return this.link.uri}get range(){var e,t;return(t=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&t!==void 0?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return t?f("vs/editor/contrib/gotoSymbol/browser/referencesModel",{key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",t.value,Ws(this.uri),this.range.startLineNumber,this.range.startColumn):f("vs/editor/contrib/gotoSymbol/browser/referencesModel","aria.oneReference","in {0} on line {1} at column {2}",Ws(this.uri),this.range.startLineNumber,this.range.startColumn)}}class Whe{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const i=this._modelReference.object.textEditorModel;if(!i)return;const{startLineNumber:n,startColumn:o,endLineNumber:r,endColumn:a}=e,l=i.getWordUntilPosition({lineNumber:n,column:o-t}),c=new k(n,l.startColumn,n,o),d=new k(r,a,r,1073741824),u=i.getValueInRange(c).replace(/^\s+/,""),h=i.getValueInRange(e),g=i.getValueInRange(d).replace(/\s+$/,"");return{value:u+h+g,highlight:{start:u.length,end:u.length+h.length}}}}class G_{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new On}dispose(){St(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return e===1?f("vs/editor/contrib/gotoSymbol/browser/referencesModel","aria.fileReferences.1","1 symbol in {0}, full path {1}",Ws(this.uri),this.uri.fsPath):f("vs/editor/contrib/gotoSymbol/browser/referencesModel","aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Ws(this.uri),this.uri.fsPath)}resolve(e){return Bhe(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const t of this.children)if(!this._previews.has(t.uri))try{const i=yield e.createModelReference(t.uri);this._previews.set(t.uri,new Whe(i))}catch(i){He(i)}return this})}}class Vo{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new M,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[i]=e;e.sort(Vo._compareReferences);let n;for(const o of e)if((!n||!$t.isEqual(n.uri,o.uri,!0))&&(n=new G_(this,o.uri),this.groups.push(n)),n.children.length===0||Vo._compareReferences(o,n.children[n.children.length-1])!==0){const r=new Wd(i===o,n,o,a=>this._onDidChangeReferenceRange.fire(a));this.references.push(r),n.children.push(r)}}dispose(){St(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new Vo(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?f("vs/editor/contrib/gotoSymbol/browser/referencesModel","aria.result.0","No results found"):this.references.length===1?f("vs/editor/contrib/gotoSymbol/browser/referencesModel","aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?f("vs/editor/contrib/gotoSymbol/browser/referencesModel","aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):f("vs/editor/contrib/gotoSymbol/browser/referencesModel","aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){const{parent:i}=e;let n=i.children.indexOf(e);const o=i.children.length,r=i.parent.groups.length;return r===1||t&&n+1<o||!t&&n>0?(t?n=(n+1)%o:n=(n+o-1)%o,i.children[n]):(n=i.parent.groups.indexOf(i),t?(n=(n+1)%r,i.parent.groups[n].children[0]):(n=(n+r-1)%r,i.parent.groups[n].children[i.parent.groups[n].children.length-1]))}nearestReference(e,t){const i=this.references.map((n,o)=>({idx:o,prefixLen:hh(n.uri.toString(),e.toString()),offsetDist:Math.abs(n.range.startLineNumber-t.lineNumber)*100+Math.abs(n.range.startColumn-t.column)})).sort((n,o)=>n.prefixLen>o.prefixLen?-1:n.prefixLen<o.prefixLen?1:n.offsetDist<o.offsetDist?-1:n.offsetDist>o.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(const i of this.references)if(i.uri.toString()===e.toString()&&k.containsPosition(i.range,t))return i}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return $t.compare(e.uri,t.uri)||k.compareRangesUsingStarts(e.range,t.range)}}var Zy=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Qy=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},TE;let EE=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof Vo||e instanceof G_}getChildren(e){if(e instanceof Vo)return e.groups;if(e instanceof G_)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};EE=Zy([Qy(0,xo)],EE);class Vhe{getHeight(){return 23}getTemplateId(e){return e instanceof G_?Z_.id:e0.id}}let NE=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof Wd){const i=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(i)return i.value}return Ws(e.uri)}};NE=Zy([Qy(0,Et)],NE);class Hhe{getId(e){return e instanceof Wd?e.id:e.uri}}let AE=class extends H{constructor(e,t){super(),this._labelService=t;const i=document.createElement("div");i.classList.add("reference-file"),this.file=this._register(new P1(i,{supportHighlights:!0})),this.badge=new PT(Q(i,te(".count")),{},I7),e.appendChild(i)}set(e,t){const i=ay(e.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(e.uri),this._labelService.getUriLabel(i,{relative:!0}),{title:this._labelService.getUriLabel(e.uri),matches:t});const n=e.children.length;this.badge.setCount(n),n>1?this.badge.setTitleFormat(f("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","referencesCount","{0} references",n)):this.badge.setTitleFormat(f("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","referenceCount","{0} reference",n))}};AE=Zy([Qy(1,cm)],AE);let Z_=TE=class{constructor(e){this._instantiationService=e,this.templateId=TE.id}renderTemplate(e){return this._instantiationService.createInstance(AE,e)}renderElement(e,t,i){i.set(e.element,Wv(e.filterData))}disposeTemplate(e){e.dispose()}};Z_.id="FileReferencesRenderer";Z_=TE=Zy([Qy(0,Ae)],Z_);class zhe{constructor(e){this.label=new hd(e)}set(e,t){var i;const n=(i=e.parent.getPreview(e))===null||i===void 0?void 0:i.preview(e.range);if(!n||!n.value)this.label.set(`${Ws(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`);else{const{value:o,highlight:r}=n;t&&!Yr.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(o,Wv(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(o,[r]))}}}class e0{constructor(){this.templateId=e0.id}renderTemplate(e){return new zhe(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}}e0.id="OneReferenceRenderer";class Uhe{getWidgetAriaLabel(){return f("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var $he=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Cl=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},gB=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class Yy{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Y,this._callOnModelChange=new Y,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e){for(const t of this._model.references)if(t.uri.toString()===e.uri.toString()){this._addDecorations(t.parent);return}}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],i=[];for(let n=0,o=e.children.length;n<o;n++){const r=e.children[n];this._decorationIgnoreSet.has(r.id)||r.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:r.range,options:Yy.DecorationOptions}),i.push(n))}this._editor.changeDecorations(n=>{const o=n.deltaDecorations([],t);for(let r=0;r<o.length;r++)this._decorations.set(o[r],e.children[i[r]])})}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(const[i,n]of this._decorations){const o=t.getDecorationRange(i);if(!o)continue;let r=!1;if(!k.equalsRange(o,n.range)){if(k.spansMultipleLines(o))r=!0;else{const a=n.range.endColumn-n.range.startColumn,l=o.endColumn-o.startColumn;a!==l&&(r=!0)}r?(this._decorationIgnoreSet.add(n.id),e.push(i)):n.range=o}}for(let i=0,n=e.length;i<n;i++)this._decorations.delete(e[i]);this._editor.removeDecorations(e)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}Yy.DecorationOptions=Ve.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class jhe{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{const n=JSON.parse(e);t=n.ratio,i=n.heightInLines}catch(n){}return{ratio:t||.7,heightInLines:i||18}}}class Khe extends NT{}let RE=class extends Y1{constructor(e,t,i,n,o,r,a,l,c,d,u,h){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},r),this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=o,this._instantiationService=r,this._peekViewService=a,this._uriLabel=l,this._undoRedoService=c,this._keybindingService=d,this._languageService=u,this._languageConfigurationService=h,this._disposeOnNewModel=new Y,this._callOnDispose=new Y,this._onDidSelectReference=new M,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new ft(0,0),this._applyTheme(n.getColorTheme()),this._callOnDispose.add(n.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),St(this._preview),St(this._previewNotAvailableMessage),St(this._tree),St(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(Ohe)||V.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(Phe)||V.transparent,primaryHeadingColor:e.getColor(V8),secondaryHeadingColor:e.getColor(H8)})}show(e){super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=Q(e,te("div.messages")),eo(this._messageContainer),this._splitView=new M7(e,{orientation:1}),this._previewContainer=Q(e,te("div.preview.inline"));const t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(Bd,this._previewContainer,t,{},this.editor),eo(this._previewContainer),this._previewNotAvailableMessage=new nl(f("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","missingPreviewMessage","no preview available"),ls,nl.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=Q(e,te("div.ref-tree.inline"));const i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Uhe,keyboardNavigationLabelProvider:this._instantiationService.createInstance(NE),identityProvider:new Hhe,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:Fhe}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(Si(this._treeContainer,"keydown",o=>{o.equals(9)&&(this._keybindingService.dispatchEvent(o,o.target),o.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Khe,"ReferencesWidget",this._treeContainer,new Vhe,[this._instantiationService.createInstance(Z_),this._instantiationService.createInstance(e0)],this._instantiationService.createInstance(EE),i),this._splitView.addView({onDidChange:ce.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:o=>{this._preview.layout({height:this._dim.height,width:o})}},N1.Distribute),this._splitView.addView({onDidChange:ce.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:o=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${o}px`,this._tree.layout(this._dim.height,o)}},N1.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const n=(o,r)=>{o instanceof Wd&&(r==="show"&&this._revealReference(o,!1),this._onDidSelectReference.fire({element:o,kind:r,source:"tree"}))};this._tree.onDidOpen(o=>{o.sideBySide?n(o.element,"side"):o.editorOptions.pinned?n(o.element,"goto"):n(o.element,"show")}),eo(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new ft(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=f("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","noResults","No results"),Ro(this._messageContainer),Promise.resolve(void 0)):(eo(this._messageContainer),this._decorationsManager=new Yy(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:t,target:i}=e;if(t.detail!==2)return;const n=this._getFocusedReference();n&&this._onDidSelectReference.fire({element:{uri:n.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),Ro(this._treeContainer),Ro(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();if(e instanceof Wd)return e;if(e instanceof G_&&e.children.length>0)return e.children[0]}revealReference(e){return gB(this,void 0,void 0,function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})})}_revealReference(e,t){return gB(this,void 0,void 0,function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==qe.inMemory?this.setTitle(CJ(e.uri),this._uriLabel.getUriLabel(ay(e.uri))):this.setTitle(f("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","peekView.alternateTitle","References"));const i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent?this._tree.reveal(e):(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent),this._tree.reveal(e));const n=yield i;if(!this._model){n.dispose();return}St(this._previewModelReference);const o=n.object;if(o){const r=this._preview.getModel()===o.textEditorModel?0:1,a=k.lift(e.range).collapseToStart();this._previewModelReference=n,this._preview.setModel(o.textEditorModel),this._preview.setSelection(a),this._preview.revealRangeInCenter(a,r)}else this._preview.setModel(this._previewNotAvailableMessage),n.dispose()})}};RE=$he([Cl(3,qi),Cl(4,xo),Cl(5,Ae),Cl(6,W8),Cl(7,cm),Cl(8,ly),Cl(9,Et),Cl(10,qt),Cl(11,Mt)],RE);var qhe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},yg=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},fB=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},uC;const rg=new de("referenceSearchVisible",!1,f("vs/editor/contrib/gotoSymbol/browser/peek/referencesController","referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let Vd=uC=class{static get(e){return e.getContribution(uC.ID)}constructor(e,t,i,n,o,r,a,l){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=n,this._notificationService=o,this._instantiationService=r,this._storageService=a,this._configurationService=l,this._disposables=new Y,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=rg.bindTo(i)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let n;if(this._widget&&(n=this._widget.position),this.closeWidget(),n&&e.containsPosition(n))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const o="peekViewLayout",r=jhe.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(RE,this._editor,this._defaultTreeKeyboardSupport,r),this._widget.setTitle(f("vs/editor/contrib/gotoSymbol/browser/peek/referencesController","labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(o,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(l=>{const{element:c,kind:d}=l;if(c)switch(d){case"open":(l.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(c,!1,!1);break;case"side":this.openReference(c,!0,!1);break;case"goto":i?this._gotoReference(c,!0):this.openReference(c,!1,!0);break}}));const a=++this._requestIdPool;t.then(l=>{var c;if(a!==this._requestIdPool||!this._widget){l.dispose();return}return(c=this._model)===null||c===void 0||c.dispose(),this._model=l,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(f("vs/editor/contrib/gotoSymbol/browser/peek/referencesController","metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const d=this._editor.getModel().uri,u=new P(e.startLineNumber,e.startColumn),h=this._model.nearestReference(d,u);if(h)return this._widget.setSelection(h).then(()=>{this._widget&&this._editor.getOption(86)==="editor"&&this._widget.focusOnPreviewEditor()})}})},l=>{this._notificationService.error(l)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return fB(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;const n=this._model.nextOrPreviousReference(i,e),o=this._editor.hasTextFocus(),r=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(n),yield this._gotoReference(n,!1),o?this._editor.focus():this._widget&&r&&this._widget.focusOnPreviewEditor()})}revealReference(e){return fB(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){var t,i;(t=this._widget)===null||t===void 0||t.dispose(),(i=this._model)===null||i===void 0||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e,t){var i;(i=this._widget)===null||i===void 0||i.hide(),this._ignoreModelChangeEvent=!0;const n=k.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:n,selectionSource:"code.jump",pinned:t}},this._editor).then(o=>{var r;if(this._ignoreModelChangeEvent=!1,!o||!this._widget){this.closeWidget();return}if(this._editor===o)this._widget.show(n),this._widget.focusOnReferenceTree();else{const a=uC.get(o),l=this._model.clone();this.closeWidget(),o.focus(),a==null||a.toggleWidget(n,Vi(c=>Promise.resolve(l)),(r=this._peekMode)!==null&&r!==void 0?r:!1)}},o=>{this._ignoreModelChangeEvent=!1,He(o)})}openReference(e,t,i){t||this.closeWidget();const{uri:n,range:o}=e;this._editorService.openCodeEditor({resource:n,options:{selection:o,selectionSource:"code.jump",pinned:i}},this._editor,t)}};Vd.ID="editor.contrib.referencesController";Vd=uC=qhe([yg(2,Me),yg(3,bt),yg(4,Li),yg(5,Ae),yg(6,_r),yg(7,ot)],Vd);function ag(s,e){const t=Rhe(s);if(!t)return;const i=Vd.get(t);i&&e(i)}yo.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Oi(2089,60),when:Z.or(rg,ko.inPeekEditor),handler(s){ag(s,e=>{e.changeFocusBetweenPreviewAndReferences()})}});yo.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:Z.or(rg,ko.inPeekEditor),handler(s){ag(s,e=>{e.goToNextOrPreviousReference(!0)})}});yo.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:Z.or(rg,ko.inPeekEditor),handler(s){ag(s,e=>{e.goToNextOrPreviousReference(!1)})}});lt.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");lt.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");lt.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");lt.registerCommand("closeReferenceSearch",s=>ag(s,e=>e.closeWidget()));yo.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:Z.and(ko.inPeekEditor,Z.not("config.editor.stablePeek"))});yo.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:Z.and(rg,Z.not("config.editor.stablePeek"))});yo.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Z.and(rg,Z7,nM.negate(),oM.negate()),handler(s){var e;const i=(e=s.get($s).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof Wd&&ag(s,n=>n.revealReference(i[0]))}});yo.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Z.and(rg,Z7,nM.negate(),oM.negate()),handler(s){var e;const i=(e=s.get($s).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof Wd&&ag(s,n=>n.openReference(i[0],!0,!0))}});lt.registerCommand("openReference",s=>{var e;const i=(e=s.get($s).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof Wd&&ag(s,n=>n.openReference(i[0],!1,!0))});var z8=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},eb=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};const OM=new de("hasSymbols",!1,f("vs/editor/contrib/gotoSymbol/browser/symbolNavigation","hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),Xy=et("ISymbolNavigationService");let ME=class{constructor(e,t,i,n){this._editorService=t,this._notificationService=i,this._keybindingService=n,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=OM.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const i=new PE(this._editorService),n=i.onDidChange(o=>{if(this._ignoreEditorChange)return;const r=this._editorService.getActiveCodeEditor();if(!r)return;const a=r.getModel(),l=r.getPosition();if(!a||!l)return;let c=!1,d=!1;for(const u of t.references)if(hR(u.uri,a.uri))c=!0,d=d||k.containsPosition(u.range,l);else if(c)break;(!c||!d)&&this.reset()});this._currentState=rr(i,n)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:k.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),i=t?f("vs/editor/contrib/gotoSymbol/browser/symbolNavigation","location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):f("vs/editor/contrib/gotoSymbol/browser/symbolNavigation","location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(i)}};ME=z8([eb(0,Me),eb(1,bt),eb(2,Li),eb(3,Et)],ME);ct(Xy,ME,1);re(new class extends nn{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:OM,kbOpts:{weight:100,primary:70}})}runEditorCommand(s,e){return s.get(Xy).revealNext(e)}});yo.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:OM,primary:9,handler(s){s.get(Xy).reset()}});let PE=class{constructor(e){this._listener=new Map,this._disposables=new Y,this._onDidChange=new M,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),St(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,rr(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;(t=this._listener.get(e))===null||t===void 0||t.dispose(),this._listener.delete(e)}};PE=z8([eb(0,bt)],PE);var FM=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function t0(s,e,t,i){return FM(this,void 0,void 0,function*(){const o=t.ordered(s).map(a=>Promise.resolve(i(a,s,e)).then(void 0,l=>{Ni(l)})),r=yield Promise.all(o);return Qa(r.flat())})}function Jy(s,e,t,i){return t0(e,t,s,(n,o,r)=>n.provideDefinition(o,r,i))}function U8(s,e,t,i){return t0(e,t,s,(n,o,r)=>n.provideDeclaration(o,r,i))}function $8(s,e,t,i){return t0(e,t,s,(n,o,r)=>n.provideImplementation(o,r,i))}function j8(s,e,t,i){return t0(e,t,s,(n,o,r)=>n.provideTypeDefinition(o,r,i))}function ek(s,e,t,i,n){return t0(e,t,s,(o,r,a)=>FM(this,void 0,void 0,function*(){const l=yield o.provideReferences(r,a,{includeDeclaration:!0},n);if(!i||!l||l.length!==2)return l;const c=yield o.provideReferences(r,a,{includeDeclaration:!1},n);return c&&c.length===1?c:l}))}function i0(s){return FM(this,void 0,void 0,function*(){const e=yield s(),t=new Vo(e,""),i=t.references.map(n=>n.link);return t.dispose(),i})}hl("_executeDefinitionProvider",(s,e,t)=>{const i=s.get(me),n=Jy(i.definitionProvider,e,t,Xe.None);return i0(()=>n)});hl("_executeTypeDefinitionProvider",(s,e,t)=>{const i=s.get(me),n=j8(i.typeDefinitionProvider,e,t,Xe.None);return i0(()=>n)});hl("_executeDeclarationProvider",(s,e,t)=>{const i=s.get(me),n=U8(i.declarationProvider,e,t,Xe.None);return i0(()=>n)});hl("_executeReferenceProvider",(s,e,t)=>{const i=s.get(me),n=ek(i.referenceProvider,e,t,!1,Xe.None);return i0(()=>n)});hl("_executeImplementationProvider",(s,e,t)=>{const i=s.get(me),n=$8(i.implementationProvider,e,t,Xe.None);return i0(()=>n)});var cr=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},Lp,xp,Dp,aw,lw,cw,dw,uw;hn.appendMenuItem(D.EditorContext,{submenu:D.EditorContextPeek,title:f("vs/editor/contrib/gotoSymbol/browser/goToCommands","peek.submenu","Peek"),group:"navigation",order:100});class Cm{static is(e){return!e||typeof e!="object"?!1:!!(e instanceof Cm||P.isIPosition(e.position)&&e.model)}constructor(e,t){this.model=e,this.position=t}}class Gn extends aa{static all(){return Gn._allSymbolNavigationCommands.values()}static _patchConfig(e){const t=Object.assign(Object.assign({},e),{f1:!0});if(t.menu)for(const i of Ye.wrap(t.menu))(i.id===D.EditorContext||i.id===D.EditorContextPeek)&&(i.when=Z.and(e.precondition,i.when));return t}constructor(e,t){super(Gn._patchConfig(t)),this.configuration=e,Gn._allSymbolNavigationCommands.set(t.id,this)}runEditorCommand(e,t,i,n){if(!t.hasModel())return Promise.resolve(void 0);const o=e.get(Li),r=e.get(bt),a=e.get(eu),l=e.get(Xy),c=e.get(me),d=e.get(Ae),u=t.getModel(),h=t.getPosition(),g=Cm.is(i)?i:new Cm(u,h),m=new Pd(t,5),p=WS(this._getLocationModel(c,g.model,g.position,m.token),m.token).then(_=>cr(this,void 0,void 0,function*(){var b;if(!_||m.token.isCancellationRequested)return;Fn(_.ariaMessage);let v;if(_.referenceAt(u.uri,h)){const C=this._getAlternativeCommand(t);!Gn._activeAlternativeCommands.has(C)&&Gn._allSymbolNavigationCommands.has(C)&&(v=Gn._allSymbolNavigationCommands.get(C))}const w=_.references.length;if(w===0){if(!this.configuration.muteMessage){const C=u.getWordAtPosition(h);(b=Wo.get(t))===null||b===void 0||b.showMessage(this._getNoResultFoundMessage(C),h)}}else if(w===1&&v)Gn._activeAlternativeCommands.add(this.desc.id),d.invokeFunction(C=>v.runEditorCommand(C,t,i,n).finally(()=>{Gn._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(r,l,t,_,n)}),_=>{o.error(_)}).finally(()=>{m.dispose()});return a.showWhile(p,250),p}_onResult(e,t,i,n,o){return cr(this,void 0,void 0,function*(){const r=this._getGoToPreference(i);if(!(i instanceof Bd)&&(this.configuration.openInPeek||r==="peek"&&n.references.length>1))this._openInPeek(i,n,o);else{const a=n.firstReference(),l=n.references.length>1&&r==="gotoAndPeek",c=yield this._openReference(i,e,a,this.configuration.openToSide,!l);l&&c?this._openInPeek(c,n,o):n.dispose(),r==="goto"&&t.put(a)}})}_openReference(e,t,i,n,o){return cr(this,void 0,void 0,function*(){let r;if(VU(i)&&(r=i.targetSelectionRange),r||(r=i.range),!r)return;const a=yield t.openCodeEditor({resource:i.uri,options:{selection:k.collapseToStart(r),selectionRevealType:3,selectionSource:"code.jump"}},e,n);if(a){if(o){const l=a.getModel(),c=a.createDecorationsCollection([{range:r,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{a.getModel()===l&&c.clear()},350)}return a}})}_openInPeek(e,t,i){const n=Vd.get(e);n&&e.hasModel()?n.toggleWidget(i!=null?i:e.getSelection(),Vi(o=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}}Gn._allSymbolNavigationCommands=new Map;Gn._activeAlternativeCommands=new Set;class n0 extends Gn{_getLocationModel(e,t,i,n){return cr(this,void 0,void 0,function*(){return new Vo(yield Jy(e.definitionProvider,t,i,n),f("vs/editor/contrib/gotoSymbol/browser/goToCommands","def.title","Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?f("vs/editor/contrib/gotoSymbol/browser/goToCommands","noResultWord","No definition found for '{0}'",e.word):f("vs/editor/contrib/gotoSymbol/browser/goToCommands","generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(58).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(58).multipleDefinitions}}jt((Lp=class extends n0{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Lp.id,title:{value:f("vs/editor/contrib/gotoSymbol/browser/goToCommands","actions.goToDecl.label","Go to Definition"),original:"Go to Definition",mnemonicTitle:f("vs/editor/contrib/gotoSymbol/browser/goToCommands",{key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:Z.and(T.hasDefinitionProvider,T.isInWalkThroughSnippet.toNegated()),keybinding:[{when:T.editorTextFocus,primary:70,weight:100},{when:Z.and(T.editorTextFocus,K7),primary:2118,weight:100}],menu:[{id:D.EditorContext,group:"navigation",order:1.1},{id:D.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),lt.registerCommandAlias("editor.action.goToDeclaration",Lp.id)}},Lp.id="editor.action.revealDefinition",Lp));jt((xp=class extends n0{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:xp.id,title:{value:f("vs/editor/contrib/gotoSymbol/browser/goToCommands","actions.goToDeclToSide.label","Open Definition to the Side"),original:"Open Definition to the Side"},precondition:Z.and(T.hasDefinitionProvider,T.isInWalkThroughSnippet.toNegated()),keybinding:[{when:T.editorTextFocus,primary:Oi(2089,70),weight:100},{when:Z.and(T.editorTextFocus,K7),primary:Oi(2089,2118),weight:100}]}),lt.registerCommandAlias("editor.action.openDeclarationToTheSide",xp.id)}},xp.id="editor.action.revealDefinitionAside",xp));jt((Dp=class extends n0{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Dp.id,title:{value:f("vs/editor/contrib/gotoSymbol/browser/goToCommands","actions.previewDecl.label","Peek Definition"),original:"Peek Definition"},precondition:Z.and(T.hasDefinitionProvider,ko.notInPeekEditor,T.isInWalkThroughSnippet.toNegated()),keybinding:{when:T.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:D.EditorContextPeek,group:"peek",order:2}}),lt.registerCommandAlias("editor.action.previewDeclaration",Dp.id)}},Dp.id="editor.action.peekDefinition",Dp));class K8 extends Gn{_getLocationModel(e,t,i,n){return cr(this,void 0,void 0,function*(){return new Vo(yield U8(e.declarationProvider,t,i,n),f("vs/editor/contrib/gotoSymbol/browser/goToCommands","decl.title","Declarations"))})}_getNoResultFoundMessage(e){return e&&e.word?f("vs/editor/contrib/gotoSymbol/browser/goToCommands","decl.noResultWord","No declaration found for '{0}'",e.word):f("vs/editor/contrib/gotoSymbol/browser/goToCommands","decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(58).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(58).multipleDeclarations}}jt((aw=class extends K8{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:aw.id,title:{value:f("vs/editor/contrib/gotoSymbol/browser/goToCommands","actions.goToDeclaration.label","Go to Declaration"),original:"Go to Declaration",mnemonicTitle:f("vs/editor/contrib/gotoSymbol/browser/goToCommands",{key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:Z.and(T.hasDeclarationProvider,T.isInWalkThroughSnippet.toNegated()),menu:[{id:D.EditorContext,group:"navigation",order:1.3},{id:D.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(e){return e&&e.word?f("vs/editor/contrib/gotoSymbol/browser/goToCommands","decl.noResultWord","No declaration found for '{0}'",e.word):f("vs/editor/contrib/gotoSymbol/browser/goToCommands","decl.generic.noResults","No declaration found")}},aw.id="editor.action.revealDeclaration",aw));jt(class extends K8{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:f("vs/editor/contrib/gotoSymbol/browser/goToCommands","actions.peekDecl.label","Peek Declaration"),original:"Peek Declaration"},precondition:Z.and(T.hasDeclarationProvider,ko.notInPeekEditor,T.isInWalkThroughSnippet.toNegated()),menu:{id:D.EditorContextPeek,group:"peek",order:3}})}});class q8 extends Gn{_getLocationModel(e,t,i,n){return cr(this,void 0,void 0,function*(){return new Vo(yield j8(e.typeDefinitionProvider,t,i,n),f("vs/editor/contrib/gotoSymbol/browser/goToCommands","typedef.title","Type Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?f("vs/editor/contrib/gotoSymbol/browser/goToCommands","goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):f("vs/editor/contrib/gotoSymbol/browser/goToCommands","goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(58).multipleTypeDefinitions}}jt((lw=class extends q8{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:lw.ID,title:{value:f("vs/editor/contrib/gotoSymbol/browser/goToCommands","actions.goToTypeDefinition.label","Go to Type Definition"),original:"Go to Type Definition",mnemonicTitle:f("vs/editor/contrib/gotoSymbol/browser/goToCommands",{key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:Z.and(T.hasTypeDefinitionProvider,T.isInWalkThroughSnippet.toNegated()),keybinding:{when:T.editorTextFocus,primary:0,weight:100},menu:[{id:D.EditorContext,group:"navigation",order:1.4},{id:D.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},lw.ID="editor.action.goToTypeDefinition",lw));jt((cw=class extends q8{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:cw.ID,title:{value:f("vs/editor/contrib/gotoSymbol/browser/goToCommands","actions.peekTypeDefinition.label","Peek Type Definition"),original:"Peek Type Definition"},precondition:Z.and(T.hasTypeDefinitionProvider,ko.notInPeekEditor,T.isInWalkThroughSnippet.toNegated()),menu:{id:D.EditorContextPeek,group:"peek",order:4}})}},cw.ID="editor.action.peekTypeDefinition",cw));class G8 extends Gn{_getLocationModel(e,t,i,n){return cr(this,void 0,void 0,function*(){return new Vo(yield $8(e.implementationProvider,t,i,n),f("vs/editor/contrib/gotoSymbol/browser/goToCommands","impl.title","Implementations"))})}_getNoResultFoundMessage(e){return e&&e.word?f("vs/editor/contrib/gotoSymbol/browser/goToCommands","goToImplementation.noResultWord","No implementation found for '{0}'",e.word):f("vs/editor/contrib/gotoSymbol/browser/goToCommands","goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(58).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(58).multipleImplementations}}jt((dw=class extends G8{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:dw.ID,title:{value:f("vs/editor/contrib/gotoSymbol/browser/goToCommands","actions.goToImplementation.label","Go to Implementations"),original:"Go to Implementations",mnemonicTitle:f("vs/editor/contrib/gotoSymbol/browser/goToCommands",{key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:Z.and(T.hasImplementationProvider,T.isInWalkThroughSnippet.toNegated()),keybinding:{when:T.editorTextFocus,primary:2118,weight:100},menu:[{id:D.EditorContext,group:"navigation",order:1.45},{id:D.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},dw.ID="editor.action.goToImplementation",dw));jt((uw=class extends G8{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:uw.ID,title:{value:f("vs/editor/contrib/gotoSymbol/browser/goToCommands","actions.peekImplementation.label","Peek Implementations"),original:"Peek Implementations"},precondition:Z.and(T.hasImplementationProvider,ko.notInPeekEditor,T.isInWalkThroughSnippet.toNegated()),keybinding:{when:T.editorTextFocus,primary:3142,weight:100},menu:{id:D.EditorContextPeek,group:"peek",order:5}})}},uw.ID="editor.action.peekImplementation",uw));class Z8 extends Gn{_getNoResultFoundMessage(e){return e?f("vs/editor/contrib/gotoSymbol/browser/goToCommands","references.no","No references found for '{0}'",e.word):f("vs/editor/contrib/gotoSymbol/browser/goToCommands","references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(58).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(58).multipleReferences}}jt(class extends Z8{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:f("vs/editor/contrib/gotoSymbol/browser/goToCommands","goToReferences.label","Go to References"),original:"Go to References",mnemonicTitle:f("vs/editor/contrib/gotoSymbol/browser/goToCommands",{key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:Z.and(T.hasReferenceProvider,ko.notInPeekEditor,T.isInWalkThroughSnippet.toNegated()),keybinding:{when:T.editorTextFocus,primary:1094,weight:100},menu:[{id:D.EditorContext,group:"navigation",order:1.45},{id:D.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(e,t,i,n){return cr(this,void 0,void 0,function*(){return new Vo(yield ek(e.referenceProvider,t,i,!0,n),f("vs/editor/contrib/gotoSymbol/browser/goToCommands","ref.title","References"))})}});jt(class extends Z8{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:f("vs/editor/contrib/gotoSymbol/browser/goToCommands","references.action.label","Peek References"),original:"Peek References"},precondition:Z.and(T.hasReferenceProvider,ko.notInPeekEditor,T.isInWalkThroughSnippet.toNegated()),menu:{id:D.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,i,n){return cr(this,void 0,void 0,function*(){return new Vo(yield ek(e.referenceProvider,t,i,!1,n),f("vs/editor/contrib/gotoSymbol/browser/goToCommands","ref.title","References"))})}});class Ghe extends Gn{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",title:{value:f("vs/editor/contrib/gotoSymbol/browser/goToCommands","label.generic","Go to Any Symbol"),original:"Go to Any Symbol"},precondition:Z.and(ko.notInPeekEditor,T.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=i}_getLocationModel(e,t,i,n){return cr(this,void 0,void 0,function*(){return new Vo(this._references,f("vs/editor/contrib/gotoSymbol/browser/goToCommands","generic.title","Locations"))})}_getNoResultFoundMessage(e){return e&&f("vs/editor/contrib/gotoSymbol/browser/goToCommands","generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return(t=this._gotoMultipleBehaviour)!==null&&t!==void 0?t:e.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}lt.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:De},{name:"position",description:"The position at which to start",constraint:P.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(s,e,t,i,n,o,r)=>cr(void 0,void 0,void 0,function*(){Lt(De.isUri(e)),Lt(P.isIPosition(t)),Lt(Array.isArray(i)),Lt(typeof n=="undefined"||typeof n=="string"),Lt(typeof r=="undefined"||typeof r=="boolean");const a=s.get(bt),l=yield a.openCodeEditor({resource:e},a.getFocusedCodeEditor());if(al(l))return l.setPosition(t),l.revealPositionInCenterIfOutsideViewport(t,0),l.invokeWithinContext(c=>{const d=new class extends Ghe{_getNoResultFoundMessage(u){return o||super._getNoResultFoundMessage(u)}}({muteMessage:!o,openInPeek:!!r,openToSide:!1},i,n);c.get(Ae).invokeFunction(d.run.bind(d),l)})})});lt.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:De},{name:"position",description:"The position at which to start",constraint:P.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(s,e,t,i,n)=>cr(void 0,void 0,void 0,function*(){s.get(ci).executeCommand("editor.action.goToLocations",e,t,i,n,void 0,!0)})});lt.registerCommand({id:"editor.action.findReferences",handler:(s,e,t)=>{Lt(De.isUri(e)),Lt(P.isIPosition(t));const i=s.get(me),n=s.get(bt);return n.openCodeEditor({resource:e},n.getFocusedCodeEditor()).then(o=>{if(!al(o)||!o.hasModel())return;const r=Vd.get(o);if(!r)return;const a=Vi(c=>ek(i.referenceProvider,o.getModel(),P.lift(t),!1,c).then(d=>new Vo(d,f("vs/editor/contrib/gotoSymbol/browser/goToCommands","ref.title","References")))),l=new k(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(r.toggleWidget(l,a,!1))})}});lt.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");var Zhe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Cx=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},mB=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},tb;let Nh=tb=class{constructor(e,t,i,n){this.textModelResolverService=t,this.languageService=i,this.languageFeaturesService=n,this.toUnhook=new Y,this.toUnhookForKeyboard=new Y,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();const o=new qy(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown(([r,a])=>{this.startFindDefinitionFromMouse(r,a!=null?a:void 0)})),this.toUnhook.add(o.onExecute(r=>{this.isEnabled(r)&&this.gotoDefinition(r.target.position,r.hasSideBySideModifier).catch(a=>{He(a)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(o.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(tb.ID)}startFindDefinitionFromCursor(e){return mB(this,void 0,void 0,function*(){yield this.startFindDefinition(e),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const i=e.target.position;this.startFindDefinition(i)}startFindDefinition(e){var t;return mB(this,void 0,void 0,function*(){this.toUnhookForKeyboard.clear();const i=e?(t=this.editor.getModel())===null||t===void 0?void 0:t.getWordAtPosition(e):null;if(!i){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return;this.currentWordAtPosition=i;const n=new MV(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Vi(a=>this.findDefinition(e,a));let o;try{o=yield this.previousPromise}catch(a){He(a);return}if(!o||!o.length||!n.validate(this.editor)){this.removeLinkDecorations();return}const r=o[0].originSelectionRange?k.lift(o[0].originSelectionRange):new k(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);if(o.length>1){let a=r;for(const{originSelectionRange:l}of o)l&&(a=k.plusRange(a,l));this.addDecoration(a,new xn().appendText(f("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","multipleResults","Click to show {0} definitions.",o.length)))}else{const a=o[0];if(!a.uri)return;this.textModelResolverService.createModelReference(a.uri).then(l=>{if(!l.object||!l.object.textEditorModel){l.dispose();return}const{object:{textEditorModel:c}}=l,{startLineNumber:d}=a.range;if(d<1||d>c.getLineCount()){l.dispose();return}const u=this.getPreviewValue(c,d,a),h=this.languageService.guessLanguageIdByFilepathOrFirstLine(c.uri);this.addDecoration(r,u?new xn().appendCodeblock(h||"",u):void 0),l.dispose()})}})}getPreviewValue(e,t,i){let n=i.range;return n.endLineNumber-n.startLineNumber>=tb.MAX_SOURCE_PREVIEW_LINES&&(n=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,n)}stripIndentationFromPreviewRange(e,t,i){let o=e.getLineFirstNonWhitespaceColumn(t);for(let a=t+1;a<i.endLineNumber;a++){const l=e.getLineFirstNonWhitespaceColumn(a);o=Math.min(o,l)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${o-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){const i=e.getLineFirstNonWhitespaceColumn(t),n=Math.min(e.getLineCount(),t+tb.MAX_SOURCE_PREVIEW_LINES);let o=t+1;for(;o<n;o++){const r=e.getLineFirstNonWhitespaceColumn(o);if(i===r)break}return new k(t,1,o+1,1)}addDecoration(e,t){const i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations.set([i])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){var i;return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&e.target.type===6&&!(((i=e.target.detail.injectedText)===null||i===void 0?void 0:i.options)instanceof Md)&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){const i=this.editor.getModel();return i?Jy(this.languageFeaturesService.definitionProvider,i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(i=>{const n=!t&&this.editor.getOption(87)&&!this.isInPeekEditor(i);return new n0({openToSide:t,openInPeek:n,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(i)})}isInPeekEditor(e){const t=e.get(Me);return ko.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};Nh.ID="editor.contrib.gotodefinitionatposition";Nh.MAX_SOURCE_PREVIEW_LINES=8;Nh=tb=Zhe([Cx(1,xo),Cx(2,qt),Cx(3,me)],Nh);gt(Nh.ID,Nh,2);const hw=te;class Q8 extends H{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new Av(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class BM extends H{static render(e,t,i){return new BM(e,t,i)}constructor(e,t,i){super(),this.actionContainer=Q(e,hw("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=Q(this.actionContainer,hw("a.action")),this.action.setAttribute("role","button"),t.iconClass&&Q(this.action,hw(`span.icon.${t.iconClass}`));const n=Q(this.action,hw("span"));n.textContent=i?`${t.label} (${i})`:t.label,this._register($(this.actionContainer,ae.CLICK,o=>{o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer)})),this._register($(this.actionContainer,ae.KEY_DOWN,o=>{const r=new Wt(o);(r.equals(3)||r.equals(10))&&(o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function Qhe(s,e){return s&&e?f("acessibleViewHint","Inspect this in the accessible view with {0}.",e):s?f("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}var Yhe=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},Xhe=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],t;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=s[o]&&function(r){return new Promise(function(a,l){r=s[o](r),n(a,l,r.done,r.value)})}}function n(o,r,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},r)}};let Jhe=class{constructor(e,t,i){this.value=e,this.isComplete=t,this.hasLoadingMessage=i}};class Y8 extends H{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new M),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new xt(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new xt(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new xt(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=zj(e=>this._computer.computeAsync(e)),Yhe(this,void 0,void 0,function*(){var e,t,i,n;try{try{for(var o=!0,r=Xhe(this._asyncIterable),a;a=yield r.next(),e=a.done,!e;o=!0){n=a.value,o=!1;const l=n;l&&(this._result.push(l),this._fireResult())}}catch(l){t={error:l}}finally{try{!o&&!e&&(i=r.return)&&(yield i.call(r))}finally{if(t)throw t.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(l){He(l)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const e=this._state===0,t=this._state===4;this._onResult.fire(new Jhe(this._result.slice(0),e,t))}start(e){if(e===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class Sx{constructor(e,t,i,n){this.priority=e,this.range=t,this.initialMousePosX=i,this.initialMousePosY=n,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}}class hC{constructor(e,t,i,n,o,r){this.priority=e,this.owner=t,this.range=i,this.initialMousePosX=n,this.initialMousePosY=o,this.supportsMarkerHover=r,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}}const lg=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}};class WM{constructor(){this._onDidWillResize=new M,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new M,this.onDidResize=this._onDidResize.event,this._sashListener=new Y,this._size=new ft(0,0),this._minSize=new ft(0,0),this._maxSize=new ft(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new An(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new An(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new An(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:T1.North}),this._southSash=new An(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:T1.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,i=0;this._sashListener.add(ce.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(ce.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(n=>{e&&(i=n.currentX-n.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(n=>{e&&(i=-(n.currentX-n.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(n=>{e&&(t=-(n.currentY-n.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(n=>{e&&(t=n.currentY-n.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(ce.any(this._eastSash.onDidReset,this._westSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(ce.any(this._northSash.onDidReset,this._southSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,n){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=n?3:0}layout(e=this.size.height,t=this.size.width){const{height:i,width:n}=this._minSize,{height:o,width:r}=this._maxSize;e=Math.max(i,Math.min(o,e)),t=Math.max(n,Math.min(r,t));const a=new ft(t,e);ft.equals(a,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}const ege=30,tge=24;class ige extends H{constructor(e,t=new ft(10,10)){super(),this._editor=e,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new WM),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=ft.lift(t),this._resizableNode.layout(t.height,t.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(i=>{this._resize(new ft(i.dimension.width,i.dimension.height)),i.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var e;return!((e=this._contentPosition)===null||e===void 0)&&e.position?P.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(e){const t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);return!t||!i?void 0:Pi(t).top+i.top-ege}_availableVerticalSpaceBelow(e){const t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);if(!t||!i)return;const n=Pi(t),o=Om(t.ownerDocument.body),r=n.top+i.top+i.height;return o.height-r-tge}_findPositionPreference(e,t){var i,n;const o=Math.min((i=this._availableVerticalSpaceBelow(t))!==null&&i!==void 0?i:1/0,e),r=Math.min((n=this._availableVerticalSpaceAbove(t))!==null&&n!==void 0?n:1/0,e),a=Math.min(Math.max(r,o),e),l=Math.min(e,a);let c;return this._editor.getOption(60).above?c=l<=r?1:2:c=l<=o?2:1,c===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),c}_resize(e){this._resizableNode.layout(e.height,e.width)}}var VM=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Qu=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},gC,_a;const pB=te;let X1=gC=class extends H{constructor(e,t,i){super(),this._editor=e,this._instantiationService=t,this._keybindingService=i,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(md,this._editor)),this._participants=[];for(const n of lg.getAll())this._participants.push(this._instantiationService.createInstance(n,this._editor));this._participants.sort((n,o)=>n.hoverOrdinal-o.hoverOrdinal),this._computer=new eS(this._editor,this._participants),this._hoverOperation=this._register(new Y8(this._editor,this._computer)),this._register(this._hoverOperation.onResult(n=>{if(!this._computer.anchor)return;const o=n.hasLoadingMessage?this._addLoadingMessage(n.value):n.value;this._withResult(new X8(this._computer.anchor,o,n.isComplete))})),this._register(Si(this._widget.getDomNode(),"keydown",n=>{n.equals(9)&&this.hide()})),this._register(ei.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}get widget(){return this._widget}maybeShowAt(e){if(this._widget.isResizing)return!0;const t=[];for(const n of this._participants)if(n.suggestHoverAnchor){const o=n.suggestHoverAnchor(e);o&&t.push(o)}const i=e.target;if(i.type===6&&t.push(new Sx(0,i.range,e.event.posx,e.event.posy)),i.type===7){const n=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!i.detail.isAfterLines&&typeof i.detail.horizontalDistanceToText=="number"&&i.detail.horizontalDistanceToText<n&&t.push(new Sx(0,i.range,e.event.posx,e.event.posy))}return t.length===0?this._startShowingOrUpdateHover(null,0,0,!1,e):(t.sort((n,o)=>o.priority-n.priority),this._startShowingOrUpdateHover(t[0],0,0,!1,e))}startShowingAtRange(e,t,i,n){this._startShowingOrUpdateHover(new Sx(0,e,void 0,void 0),t,i,n,null)}_startShowingOrUpdateHover(e,t,i,n,o){return!this._widget.position||!this._currentResult?e?(this._startHoverOperationIfNecessary(e,t,i,n,!1),!0):!1:this._editor.getOption(60).sticky&&o&&this._widget.isMouseGettingCloser(o.event.posx,o.event.posy)?(e&&this._startHoverOperationIfNecessary(e,t,i,n,!0),!0):e?e&&this._currentResult.anchor.equals(e)?!0:e.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(e)),this._startHoverOperationIfNecessary(e,t,i,n,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(e,t,i,n,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(e,t,i,n,o){this._computer.anchor&&this._computer.anchor.equals(e)||(this._hoverOperation.cancel(),this._computer.anchor=e,this._computer.shouldFocus=n,this._computer.source=i,this._computer.insistOnKeepingHoverVisible=o,this._hoverOperation.start(t))}_setCurrentResult(e){this._currentResult!==e&&(e&&e.messages.length===0&&(e=null),this._currentResult=e,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}containsNode(e){return e?this._widget.getDomNode().contains(e):!1}_addLoadingMessage(e){if(this._computer.anchor){for(const t of this._participants)if(t.createLoadingMessage){const i=t.createLoadingMessage(this._computer.anchor);if(i)return e.slice(0).concat([i])}}return e}_withResult(e){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!e.isComplete||this._computer.insistOnKeepingHoverVisible&&e.messages.length===0)||this._setCurrentResult(e)}_renderMessages(e,t){const{showAtPosition:i,showAtSecondaryPosition:n,highlightRange:o}=gC.computeHoverRanges(this._editor,e.range,t),r=new Y,a=r.add(new J1(this._keybindingService)),l=document.createDocumentFragment();let c=null;const d={fragment:l,statusBar:a,setColorPicker:h=>c=h,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:h=>this._widget.setMinimumDimensions(h),hide:()=>this.hide()};for(const h of this._participants){const g=t.filter(m=>m.owner===h);g.length>0&&r.add(h.renderHoverParts(d,g))}const u=t.some(h=>h.isBeforeContent);if(a.hasContent&&l.appendChild(a.hoverElement),l.hasChildNodes()){if(o){const h=this._editor.createDecorationsCollection();h.set([{range:o,options:gC._DECORATION_OPTIONS}]),r.add(Re(()=>{h.clear()}))}this._widget.showAt(l,new oge(c,i,n,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,u,e.initialMousePosX,e.initialMousePosY,r))}else r.dispose()}static computeHoverRanges(e,t,i){let n=1;if(e.hasModel()){const c=e._getViewModel(),d=c.coordinatesConverter,u=d.convertModelRangeToViewRange(t),h=new P(u.startLineNumber,c.getLineMinColumn(u.startLineNumber));n=d.convertViewPositionToModelPosition(h).column}const o=t.startLineNumber;let r=t.startColumn,a=i[0].range,l=null;for(const c of i)a=k.plusRange(a,c.range),c.range.startLineNumber===o&&c.range.endLineNumber===o&&(r=Math.max(Math.min(r,c.range.startColumn),n)),c.forceShowAtRange&&(l=c.range);return{showAtPosition:l?l.getStartPosition():new P(o,t.startColumn),showAtSecondaryPosition:l?l.getStartPosition():new P(o,r),highlightRange:a}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}};X1._DECORATION_OPTIONS=Ve.register({description:"content-hover-highlight",className:"hoverHighlight"});X1=gC=VM([Qu(1,Ae),Qu(2,Et)],X1);class X8{constructor(e,t,i){this.anchor=e,this.messages=t,this.isComplete=i}filter(e){const t=this.messages.filter(i=>i.isValidForHoverAnchor(e));return t.length===this.messages.length?this:new nge(this,this.anchor,t,this.isComplete)}}class nge extends X8{constructor(e,t,i,n){super(t,i,n),this.original=e}filter(e){return this.original.filter(e)}}class oge{constructor(e,t,i,n,o,r,a,l,c,d){this.colorPicker=e,this.showAtPosition=t,this.showAtSecondaryPosition=i,this.preferAbove=n,this.stoleFocus=o,this.source=r,this.isBeforeContent=a,this.initialMousePosX=l,this.initialMousePosY=c,this.disposables=d,this.closestMouseDistance=void 0}}const bB=30,yx=10,sge=6;let md=_a=class extends ige{get isColorPickerVisible(){var e;return!!(!((e=this._visibleData)===null||e===void 0)&&e.colorPicker)}get isVisibleFromKeyboard(){var e;return((e=this._visibleData)===null||e===void 0?void 0:e.source)===1}get isVisible(){var e;return(e=this._hoverVisibleKey.get())!==null&&e!==void 0?e:!1}get isFocused(){var e;return(e=this._hoverFocusedKey.get())!==null&&e!==void 0?e:!1}constructor(e,t,i,n,o){const r=e.getOption(66)+8,a=150,l=new ft(a,r);super(e,l),this._configurationService=i,this._accessibilityService=n,this._keybindingService=o,this._hover=this._register(new Q8),this._minimumSize=l,this._hoverVisibleKey=T.hoverVisible.bindTo(t),this._hoverFocusedKey=T.hoverFocused.bindTo(t),Q(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(50)&&this._updateFont()}));const c=this._register(Ja(this._resizableNode.domNode));this._register(c.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(c.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._layout(),this._editor.addContentWidget(this)}dispose(){var e;super.dispose(),(e=this._visibleData)===null||e===void 0||e.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return _a.ID}static _applyDimensions(e,t,i){const n=typeof t=="number"?`${t}px`:t,o=typeof i=="number"?`${i}px`:i;e.style.width=n,e.style.height=o}_setContentsDomNodeDimensions(e,t){const i=this._hover.contentsDomNode;return _a._applyDimensions(i,e,t)}_setContainerDomNodeDimensions(e,t){const i=this._hover.containerDomNode;return _a._applyDimensions(i,e,t)}_setHoverWidgetDimensions(e,t){this._setContentsDomNodeDimensions(e,t),this._setContainerDomNodeDimensions(e,t),this._layoutContentWidget()}static _applyMaxDimensions(e,t,i){const n=typeof t=="number"?`${t}px`:t,o=typeof i=="number"?`${i}px`:i;e.style.maxWidth=n,e.style.maxHeight=o}_setHoverWidgetMaxDimensions(e,t){_a._applyMaxDimensions(this._hover.contentsDomNode,e,t),_a._applyMaxDimensions(this._hover.containerDomNode,e,t),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof e=="number"?`${e}px`:e),this._layoutContentWidget()}_hasHorizontalScrollbar(){const e=this._hover.scrollbar.getScrollDimensions();return e.scrollWidth>e.width}_adjustContentsBottomPadding(){const e=this._hover.contentsDomNode,t=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;e.style.paddingBottom!==t&&(e.style.paddingBottom=t)}_setAdjustedHoverWidgetDimensions(e){this._setHoverWidgetMaxDimensions("none","none");const t=e.width,i=e.height;this._setHoverWidgetDimensions(t,i),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(t,i-yx))}_updateResizableNodeMaxDimensions(){var e,t;const i=(e=this._findMaximumRenderingWidth())!==null&&e!==void 0?e:1/0,n=(t=this._findMaximumRenderingHeight())!==null&&t!==void 0?t:1/0;this._resizableNode.maxSize=new ft(i,n),this._setHoverWidgetMaxDimensions(i,n)}_resize(e){var t,i;_a._lastDimensions=new ft(e.width,e.height),this._setAdjustedHoverWidgetDimensions(e),this._resizableNode.layout(e.height,e.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(i=(t=this._visibleData)===null||t===void 0?void 0:t.colorPicker)===null||i===void 0||i.layout()}_findAvailableSpaceVertically(){var e;const t=(e=this._visibleData)===null||e===void 0?void 0:e.showAtPosition;if(t)return this._positionPreference===1?this._availableVerticalSpaceAbove(t):this._availableVerticalSpaceBelow(t)}_findMaximumRenderingHeight(){const e=this._findAvailableSpaceVertically();if(!e)return;let t=sge;return Array.from(this._hover.contentsDomNode.children).forEach(i=>{t+=i.clientHeight}),this._hasHorizontalScrollbar()&&(t+=yx),Math.min(e,t)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const e=Array.from(this._hover.contentsDomNode.children).some(t=>t.scrollWidth>t.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),e}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const e=this._isHoverTextOverflowing(),t=typeof this._contentWidth=="undefined"?0:this._contentWidth-2;return e||this._hover.containerDomNode.clientWidth<t?Om(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(e,t){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX=="undefined"||typeof this._visibleData.initialMousePosY=="undefined")return this._visibleData.initialMousePosX=e,this._visibleData.initialMousePosY=t,!1;const i=Pi(this.getDomNode());typeof this._visibleData.closestMouseDistance=="undefined"&&(this._visibleData.closestMouseDistance=_B(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,i.left,i.top,i.width,i.height));const n=_B(e,t,i.left,i.top,i.width,i.height);return n>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,n),!0)}_setHoverData(e){var t;(t=this._visibleData)===null||t===void 0||t.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!e),this._hover.containerDomNode.classList.toggle("hidden",!e)}_layout(){const{fontSize:e,lineHeight:t}=this._editor.getOption(50),i=this._hover.contentsDomNode;i.style.fontSize=`${e}px`,i.style.lineHeight=`${t/e}`,this._updateMaxDimensions()}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_updateContent(e){const t=this._hover.contentsDomNode;t.style.paddingBottom="",t.textContent="",t.appendChild(e)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const e=Math.max(this._editor.getLayoutInfo().height/4,250,_a._lastDimensions.height),t=Math.max(this._editor.getLayoutInfo().width*.66,500,_a._lastDimensions.width);this._setHoverWidgetMaxDimensions(t,e)}_render(e,t){this._setHoverData(t),this._updateFont(),this._updateContent(e),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var e;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(e=this._positionPreference)!==null&&e!==void 0?e:1]}:null}showAt(e,t){var i,n,o,r;if(!this._editor||!this._editor.hasModel())return;this._render(e,t);const a=zu(this._hover.containerDomNode),l=t.showAtPosition;this._positionPreference=(i=this._findPositionPreference(a,l))!==null&&i!==void 0?i:1,this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),(n=t.colorPicker)===null||n===void 0||n.layout();const c=Qhe(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(r=(o=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||o===void 0?void 0:o.getAriaLabel())!==null&&r!==void 0?r:"");c&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+c)}hide(){if(!this._visibleData)return;const e=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new ft(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),e&&this._editor.focus()}_removeConstraintsRenderNormally(){const e=this._editor.getLayoutInfo();this._resizableNode.layout(e.height,e.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(e){var t;const i=this._hover.containerDomNode,n=this._hover.contentsDomNode,o=(t=this._findMaximumRenderingHeight())!==null&&t!==void 0?t:1/0;this._setContainerDomNodeDimensions(bo(i),Math.min(o,e)),this._setContentsDomNodeDimensions(bo(n),Math.min(o,e-yx))}setMinimumDimensions(e){this._minimumSize=new ft(Math.max(this._minimumSize.width,e.width),Math.max(this._minimumSize.height,e.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const e=typeof this._contentWidth=="undefined"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new ft(e,this._minimumSize.height)}onContentsChanged(){var e;this._removeConstraintsRenderNormally();const t=this._hover.containerDomNode;let i=zu(t),n=bo(t);if(this._resizableNode.layout(i,n),this._setHoverWidgetDimensions(n,i),i=zu(t),n=bo(t),this._contentWidth=n,this._updateMinimumWidth(),this._resizableNode.layout(i,n),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(i)),!((e=this._visibleData)===null||e===void 0)&&e.showAtPosition){const o=zu(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(o,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e-t.lineHeight})}scrollDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e+t.lineHeight})}scrollLeft(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e-bB})}scrollRight(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e+bB})}pageUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e-t})}pageDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e+t})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};md.ID="editor.contrib.resizableContentHoverWidget";md._lastDimensions=new ft(0,0);md=_a=VM([Qu(1,Me),Qu(2,ot),Qu(3,hc),Qu(4,Et)],md);let J1=class extends H{get hasContent(){return this._hasContent}constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=pB("div.hover-row.status-bar"),this.actionsElement=Q(this.hoverElement,pB("div.actions"))}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(BM.render(this.actionsElement,e,i))}append(e){const t=Q(this.actionsElement,e);return this._hasContent=!0,t}};J1=VM([Qu(0,Et)],J1);class eS{get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}get source(){return this._source}set source(e){this._source=e}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(e){this._insistOnKeepingHoverVisible=e}constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(e,t){if(t.type!==1&&!t.supportsMarkerHover)return[];const i=e.getModel(),n=t.range.startLineNumber;if(n>i.getLineCount())return[];const o=i.getLineMaxColumn(n);return e.getLineDecorations(n).filter(r=>{if(r.options.isWholeLine)return!0;const a=r.range.startLineNumber===n?r.range.startColumn:1,l=r.range.endLineNumber===n?r.range.endColumn:o;if(r.options.showIfCollapsed){if(a>t.range.startColumn+1||t.range.endColumn-1>l)return!1}else if(a>t.range.startColumn||t.range.endColumn>l)return!1;return!0})}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return Ii.EMPTY;const i=eS._getLineDecorations(this._editor,t);return Ii.merge(this._participants.map(n=>n.computeAsync?n.computeAsync(t,i,e):Ii.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=eS._getLineDecorations(this._editor,this._anchor);let t=[];for(const i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return Qa(t)}}function _B(s,e,t,i,n,o){const r=t+n/2,a=i+o/2,l=Math.max(Math.abs(s-r)-n/2,0),c=Math.max(Math.abs(e-a)-o/2,0);return Math.sqrt(l*l+c*c)}const vB=te;class Wf extends H{constructor(e,t,i){super(),this._renderDisposeables=this._register(new Y),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new Q8),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new dc({editor:this._editor},t,i)),this._computer=new rge(this._editor),this._hoverOperation=this._register(new Y8(this._editor,this._computer)),this._register(this._hoverOperation.onResult(n=>{this._withResult(n.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Wf.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const n of t){const o=vB("div.hover-row.markdown-hover"),r=Q(o,vB("div.hover-contents")),a=this._renderDisposeables.add(this._markdownRenderer.render(n.value));r.appendChild(a.element),i.appendChild(o)}this._updateContents(i),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),n=this._editor.getScrollTop(),o=this._editor.getOption(66),r=this._hover.containerDomNode.clientHeight,a=i-n-(r-o)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(a),0)}px`}}Wf.ID="editor.contrib.modesGlyphHoverWidget";class rge{get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}constructor(e){this._editor=e,this._lineNumber=-1}computeSync(){const e=n=>({value:n}),t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;for(const n of t){if(!n.options.glyphMarginClassName)continue;const o=n.options.glyphMarginHoverMessage;!o||hm(o)||i.push(...rA(o).map(e))}return i}}var age=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class lge{constructor(e,t,i){this.provider=e,this.hover=t,this.ordinal=i}}function cge(s,e,t,i,n){return age(this,void 0,void 0,function*(){try{const o=yield Promise.resolve(s.provideHover(t,i,n));if(o&&uge(o))return new lge(s,o,e)}catch(o){Ni(o)}})}function HM(s,e,t,i){const o=s.ordered(e).map((r,a)=>cge(r,a,e,t,i));return Ii.fromPromises(o).coalesce()}function dge(s,e,t,i){return HM(s,e,t,i).map(n=>n.hover).toPromise()}hl("_executeHoverProvider",(s,e,t)=>{const i=s.get(me);return dge(i.hoverProvider,e,t,Xe.None)});function uge(s){const e=typeof s.range!="undefined",t=typeof s.contents!="undefined"&&s.contents&&s.contents.length>0;return e&&t}var hge=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},gw=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};const wB=te;class Hr{constructor(e,t,i,n,o){this.owner=e,this.range=t,this.contents=i,this.isBeforeContent=n,this.ordinal=o}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let tS=class{constructor(e,t,i,n,o){this._editor=e,this._languageService=t,this._openerService=i,this._configurationService=n,this._languageFeaturesService=o,this.hoverOrdinal=3}createLoadingMessage(e){return new Hr(this,e.range,[new xn().appendText(f("vs/editor/contrib/hover/browser/markdownHoverParticipant","modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),n=e.range.startLineNumber,o=i.getLineMaxColumn(n),r=[];let a=1e3;const l=i.getLineLength(n),c=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._editor.getOption(116),u=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:c});let h=!1;d>=0&&l>d&&e.range.startColumn>=d&&(h=!0,r.push(new Hr(this,e.range,[{value:f("vs/editor/contrib/hover/browser/markdownHoverParticipant","stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,a++))),!h&&typeof u=="number"&&l>=u&&r.push(new Hr(this,e.range,[{value:f("vs/editor/contrib/hover/browser/markdownHoverParticipant","too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,a++));let g=!1;for(const m of t){const p=m.range.startLineNumber===n?m.range.startColumn:1,_=m.range.endLineNumber===n?m.range.endColumn:o,b=m.options.hoverMessage;if(!b||hm(b))continue;m.options.beforeContentClassName&&(g=!0);const v=new k(e.range.startLineNumber,p,e.range.startLineNumber,_);r.push(new Hr(this,v,rA(b),g,a++))}return r}computeAsync(e,t,i){if(!this._editor.hasModel()||e.type!==1)return Ii.EMPTY;const n=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(n))return Ii.EMPTY;const o=new P(e.range.startLineNumber,e.range.startColumn);return HM(this._languageFeaturesService.hoverProvider,n,o,i).filter(r=>!hm(r.hover.contents)).map(r=>{const a=r.hover.range?k.lift(r.hover.range):e.range;return new Hr(this,a,r.hover.contents,!1,r.ordinal)})}renderHoverParts(e,t){return J8(e,t,this._editor,this._languageService,this._openerService)}};tS=hge([gw(1,qt),gw(2,$o),gw(3,ot),gw(4,me)],tS);function J8(s,e,t,i,n){e.sort((r,a)=>r.ordinal-a.ordinal);const o=new Y;for(const r of e)for(const a of r.contents){if(hm(a))continue;const l=wB("div.hover-row.markdown-hover"),c=Q(l,wB("div.hover-contents")),d=o.add(new dc({editor:t},i,n));o.add(d.onDidRenderAsync(()=>{c.className="hover-contents code-hover-contents",s.onContentsChanged()}));const u=o.add(d.render(a));c.appendChild(u.element),s.fragment.appendChild(l)}return o}var e6=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},iS=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};class CB{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let OE=class{constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new M,this.onDidChange=this._onDidChange.event,this._dispoables=new Y,this._markers=[],this._nextIdx=-1,De.isUri(e)?this._resourceFilter=a=>a.toString()===e.toString():e&&(this._resourceFilter=e);const n=this._configService.getValue("problems.sortOrder"),o=(a,l)=>{let c=qb(a.resource.toString(),l.resource.toString());return c===0&&(n==="position"?c=k.compareRangesUsingStarts(a,l)||ni.compare(a.severity,l.severity):c=ni.compare(a.severity,l.severity)||k.compareRangesUsingStarts(a,l)),c},r=()=>{this._markers=this._markerService.read({resource:De.isUri(e)?e:void 0,severities:ni.Error|ni.Warning|ni.Info}),typeof e=="function"&&(this._markers=this._markers.filter(a=>this._resourceFilter(a.resource))),this._markers.sort(o)};r(),this._dispoables.add(t.onMarkerChanged(a=>{(!this._resourceFilter||a.some(l=>this._resourceFilter(l)))&&(r(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new CB(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let n=!1,o=this._markers.findIndex(r=>r.resource.toString()===e.uri.toString());o<0&&(o=Wb(this._markers,{resource:e.uri},(r,a)=>qb(r.resource.toString(),a.resource.toString())),o<0&&(o=~o));for(let r=o;r<this._markers.length;r++){let a=k.lift(this._markers[r]);if(a.isEmpty()){const l=e.getWordAtPosition(a.getStartPosition());l&&(a=new k(a.startLineNumber,l.startColumn,a.startLineNumber,l.endColumn))}if(t&&(a.containsPosition(t)||t.isBeforeOrEqual(a.getStartPosition()))){this._nextIdx=r,n=!0;break}if(this._markers[r].resource.toString()!==e.uri.toString())break}n||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(this._markers.length===0)return!1;const n=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),n!==this._nextIdx}find(e,t){let i=this._markers.findIndex(n=>n.resource.toString()===e.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(k.containsPosition(this._markers[i],t))return new CB(this._markers[i],i+1,this._markers.length)}}};OE=e6([iS(1,gl),iS(2,ot)],OE);const t6=et("IMarkerNavigationService");let FE=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new oo}getMarkerList(e){for(const t of this._provider){const i=t.getMarkerList(e);if(i)return i}return new OE(e,this._markerService,this._configService)}};FE=e6([iS(0,gl),iS(1,ot)],FE);ct(t6,FE,1);var BE;(function(s){function e(t){switch(t){case mi.Ignore:return"severity-ignore "+Ie.asClassName(se.info);case mi.Info:return Ie.asClassName(se.info);case mi.Warning:return Ie.asClassName(se.warning);case mi.Error:return Ie.asClassName(se.error);default:return""}}s.className=e})(BE||(BE={}));var gge=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},kg=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},WE;class fge{constructor(e,t,i,n,o){this._openerService=n,this._labelService=o,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Y,this._editor=t;const r=document.createElement("div");r.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),r.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),r.appendChild(this._relatedBlock),this._disposables.add(Si(this._relatedBlock,"click",a=>{a.preventDefault();const l=this._relatedDiagnostics.get(a.target);l&&i(l)})),this._scrollable=new Q3(r,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(a=>{r.style.left=`-${a.scrollLeft}px`,r.style.top=`-${a.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){St(this._disposables)}update(e){const{source:t,message:i,relatedInformation:n,code:o}=e;let r=((t==null?void 0:t.length)||0)+2;o&&(typeof o=="string"?r+=o.length:r+=o.value.length);const a=Xa(i);this._lines=a.length,this._longestLineLength=0;for(const h of a)this._longestLineLength=Math.max(h.length+r,this._longestLineLength);fn(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let l=this._messageBlock;for(const h of a)l=document.createElement("div"),l.innerText=h,h===""&&(l.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(l);if(t||o){const h=document.createElement("span");if(h.classList.add("details"),l.appendChild(h),t){const g=document.createElement("span");g.innerText=t,g.classList.add("source"),h.appendChild(g)}if(o)if(typeof o=="string"){const g=document.createElement("span");g.innerText=`(${o})`,g.classList.add("code"),h.appendChild(g)}else{this._codeLink=te("a.code-link"),this._codeLink.setAttribute("href",`${o.target.toString()}`),this._codeLink.onclick=m=>{this._openerService.open(o.target,{allowCommands:!0}),m.preventDefault(),m.stopPropagation()};const g=Q(this._codeLink,te("span"));g.innerText=o.value,h.appendChild(this._codeLink)}}if(fn(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Bn(n)){const h=this._relatedBlock.appendChild(document.createElement("div"));h.style.paddingTop=`${Math.floor(this._editor.getOption(66)*.66)}px`,this._lines+=1;for(const g of n){const m=document.createElement("div"),p=document.createElement("a");p.classList.add("filename"),p.innerText=`${this._labelService.getUriBasenameLabel(g.resource)}(${g.startLineNumber}, ${g.startColumn}): `,p.title=this._labelService.getUriLabel(g.resource),this._relatedDiagnostics.set(p,g);const _=document.createElement("span");_.innerText=g.message,m.appendChild(p),m.appendChild(_),this._lines+=1,h.appendChild(m)}}const c=this._editor.getOption(50),d=Math.ceil(c.typicalFullwidthCharacterWidth*this._longestLineLength*.75),u=c.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:u})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case ni.Error:t=f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","Error","Error");break;case ni.Warning:t=f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","Warning","Warning");break;case ni.Info:t=f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","Info","Info");break;case ni.Hint:t=f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","Hint","Hint");break}let i=f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const n=this._editor.getModel();return n&&e.startLineNumber<=n.getLineCount()&&e.startLineNumber>=1&&(i=`${n.getLineContent(e.startLineNumber)}, ${i}`),i}}let Sm=WE=class extends Y1{constructor(e,t,i,n,o,r,a){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},o),this._themeService=t,this._openerService=i,this._menuService=n,this._contextKeyService=r,this._labelService=a,this._callOnDispose=new Y,this._onDidSelectRelatedInformation=new M,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=ni.Warning,this._backgroundColor=V.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(_ge);let t=VE,i=mge;this._severity===ni.Warning?(t=fC,i=pge):this._severity===ni.Info&&(t=HE,i=bge);const n=e.getColor(t),o=e.getColor(i);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:o,primaryHeadingColor:e.getColor(V8),secondaryHeadingColor:e.getColor(H8)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(n=>this.editor.focus()));const t=[],i=this._menuService.createMenu(WE.TitleMenu,this._contextKeyService);E7(i,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),i.dispose()}_fillTitleIcon(e){this._icon=Q(e,te(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new fge(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());const n=k.lift(e),o=this.editor.getPosition(),r=o&&n.containsPosition(o)?o:n.getStartPosition();super.show(r,this.computeRequiredHeight());const a=this.editor.getModel();if(a){const l=i>1?f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","problems","{0} of {1} problems",t,i):f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","change","{0} of {1} problem",t,i);this.setTitle(Ws(a.uri),l)}this._icon.className=`codicon ${BE.className(ni.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(r,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Sm.TitleMenu=new D("gotoErrorTitleMenu");Sm=WE=gge([kg(1,qi),kg(2,$o),kg(3,dl),kg(4,Ae),kg(5,Me),kg(6,cm)],Sm);const SB=u_(Wa,tZ),yB=u_(ss,c_),kB=u_(Co,d_),VE=N("editorMarkerNavigationError.background",{dark:SB,light:SB,hcDark:nt,hcLight:nt},f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","editorMarkerNavigationError","Editor marker navigation widget error color.")),mge=N("editorMarkerNavigationError.headerBackground",{dark:Ce(VE,.1),light:Ce(VE,.1),hcDark:null,hcLight:null},f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),fC=N("editorMarkerNavigationWarning.background",{dark:yB,light:yB,hcDark:nt,hcLight:nt},f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),pge=N("editorMarkerNavigationWarning.headerBackground",{dark:Ce(fC,.1),light:Ce(fC,.1),hcDark:"#0C141F",hcLight:Ce(fC,.2)},f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),HE=N("editorMarkerNavigationInfo.background",{dark:kB,light:kB,hcDark:nt,hcLight:nt},f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","editorMarkerNavigationInfo","Editor marker navigation widget info color.")),bge=N("editorMarkerNavigationInfo.headerBackground",{dark:Ce(HE,.1),light:Ce(HE,.1),hcDark:null,hcLight:null},f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),_ge=N("editorMarkerNavigation.background",{dark:Ki,light:Ki,hcDark:Ki,hcLight:Ki},f("vs/editor/contrib/gotoError/browser/gotoErrorWidget","editorMarkerNavigationBackground","Editor marker navigation widget background."));var vge=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},fw=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},i6=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},ib;let Hd=ib=class{static get(e){return e.getContribution(ib.ID)}constructor(e,t,i,n,o){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=n,this._instantiationService=o,this._sessionDispoables=new Y,this._editor=e,this._widgetVisible=n6.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Sm,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(i=>{var n,o,r;(!(!((n=this._model)===null||n===void 0)&&n.selected)||!k.containsPosition((o=this._model)===null||o===void 0?void 0:o.selected.marker,i.position))&&((r=this._model)===null||r===void 0||r.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const i=this._model.find(this._editor.getModel().uri,this._widget.position);i?this._widget.updateMarker(i.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(i=>{this._editorService.openCodeEditor({resource:i.resource,options:{pinned:!0,revealIfOpened:!0,selection:k.lift(i).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new P(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(e,t){var i,n;return i6(this,void 0,void 0,function*(){if(this._editor.hasModel()){const o=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(o.move(e,this._editor.getModel(),this._editor.getPosition()),!o.selected)return;if(o.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const r=yield this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor);r&&((i=ib.get(r))===null||i===void 0||i.close(),(n=ib.get(r))===null||n===void 0||n.nagivate(e,t))}else this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total)}})}};Hd.ID="editor.contrib.markerController";Hd=ib=vge([fw(1,t6),fw(2,Me),fw(3,bt),fw(4,Ae)],Hd);class tk extends ge{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}run(e,t){var i;return i6(this,void 0,void 0,function*(){t.hasModel()&&((i=Hd.get(t))===null||i===void 0||i.nagivate(this._next,this._multiFile))})}}class pd extends tk{constructor(){super(!0,!1,{id:pd.ID,label:pd.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:578,weight:100},menuOpts:{menuId:Sm.TitleMenu,title:pd.LABEL,icon:_i("marker-navigation-next",se.arrowDown,f("vs/editor/contrib/gotoError/browser/gotoError","nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}pd.ID="editor.action.marker.next";pd.LABEL=f("vs/editor/contrib/gotoError/browser/gotoError","markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class rh extends tk{constructor(){super(!1,!1,{id:rh.ID,label:rh.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:1602,weight:100},menuOpts:{menuId:Sm.TitleMenu,title:rh.LABEL,icon:_i("marker-navigation-previous",se.arrowUp,f("vs/editor/contrib/gotoError/browser/gotoError","previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}rh.ID="editor.action.marker.prev";rh.LABEL=f("vs/editor/contrib/gotoError/browser/gotoError","markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class wge extends tk{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:f("vs/editor/contrib/gotoError/browser/gotoError","markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:66,weight:100},menuOpts:{menuId:D.MenubarGoMenu,title:f("vs/editor/contrib/gotoError/browser/gotoError",{key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class Cge extends tk{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:f("vs/editor/contrib/gotoError/browser/gotoError","markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:1090,weight:100},menuOpts:{menuId:D.MenubarGoMenu,title:f("vs/editor/contrib/gotoError/browser/gotoError",{key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}gt(Hd.ID,Hd,4);ne(pd);ne(rh);ne(wge);ne(Cge);const n6=new de("markersNavigationVisible",!1),Sge=nn.bindToContribution(Hd.get);re(new Sge({id:"closeMarkersNavigation",precondition:n6,handler:s=>s.close(),kbOpts:{weight:100+50,kbExpr:T.focus,primary:9,secondary:[1033]}}));var yge=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},kx=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};const Zs=te;class kge{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const LB={type:1,filter:{include:Ee.QuickFix},triggerAction:zo.QuickFixHover};let zE=class{constructor(e,t,i,n){this._editor=e,this._markerDecorationsService=t,this._openerService=i,this._languageFeaturesService=n,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1&&!e.supportsMarkerHover)return[];const i=this._editor.getModel(),n=e.range.startLineNumber,o=i.getLineMaxColumn(n),r=[];for(const a of t){const l=a.range.startLineNumber===n?a.range.startColumn:1,c=a.range.endLineNumber===n?a.range.endColumn:o,d=this._markerDecorationsService.getMarker(i.uri,a);if(!d)continue;const u=new k(e.range.startLineNumber,l,e.range.startLineNumber,c);r.push(new kge(this,u,d))}return r}renderHoverParts(e,t){if(!t.length)return H.None;const i=new Y;t.forEach(o=>e.fragment.appendChild(this.renderMarkerHover(o,i)));const n=t.length===1?t[0]:t.sort((o,r)=>ni.compare(o.marker.severity,r.marker.severity))[0];return this.renderMarkerStatusbar(e,n,i),i}renderMarkerHover(e,t){const i=Zs("div.hover-row"),n=Q(i,Zs("div.marker.hover-contents")),{source:o,message:r,code:a,relatedInformation:l}=e.marker;this._editor.applyFontInfo(n);const c=Q(n,Zs("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=r,o||a)if(a&&typeof a!="string"){const d=Zs("span");if(o){const m=Q(d,Zs("span"));m.innerText=o}const u=Q(d,Zs("a.code-link"));u.setAttribute("href",a.target.toString()),t.add($(u,"click",m=>{this._openerService.open(a.target,{allowCommands:!0}),m.preventDefault(),m.stopPropagation()}));const h=Q(u,Zs("span"));h.innerText=a.value;const g=Q(n,d);g.style.opacity="0.6",g.style.paddingLeft="6px"}else{const d=Q(n,Zs("span"));d.style.opacity="0.6",d.style.paddingLeft="6px",d.innerText=o&&a?`${o}(${a})`:o||`(${a})`}if(Bn(l))for(const{message:d,resource:u,startLineNumber:h,startColumn:g}of l){const m=Q(n,Zs("div"));m.style.marginTop="8px";const p=Q(m,Zs("a"));p.innerText=`${Ws(u)}(${h}, ${g}): `,p.style.cursor="pointer",t.add($(p,"click",b=>{b.stopPropagation(),b.preventDefault(),this._openerService&&this._openerService.open(u,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:h,startColumn:g}}}).catch(He)}));const _=Q(m,Zs("span"));_.innerText=d,this._editor.applyFontInfo(_)}return i}renderMarkerStatusbar(e,t,i){if((t.marker.severity===ni.Error||t.marker.severity===ni.Warning||t.marker.severity===ni.Info)&&e.statusBar.addAction({label:f("vs/editor/contrib/hover/browser/markerHoverParticipant","view problem","View Problem"),commandId:pd.ID,run:()=>{var n;e.hide(),(n=Hd.get(this._editor))===null||n===void 0||n.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(90)){const n=e.statusBar.append(Zs("div"));this.recentMarkerCodeActionsInfo&&(D1.makeKey(this.recentMarkerCodeActionsInfo.marker)===D1.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(n.textContent=f("vs/editor/contrib/hover/browser/markerHoverParticipant","noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const o=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?H.None:i.add(xd(()=>n.textContent=f("vs/editor/contrib/hover/browser/markerHoverParticipant","checkingForQuickFixes","Checking for quick fixes..."),200));n.textContent||(n.textContent=String.fromCharCode(160));const r=this.getCodeActions(t.marker);i.add(Re(()=>r.cancel())),r.then(a=>{if(o.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:a.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){a.dispose(),n.textContent=f("vs/editor/contrib/hover/browser/markerHoverParticipant","noQuickFixes","No quick fixes available");return}n.style.display="none";let l=!1;i.add(Re(()=>{l||a.dispose()})),e.statusBar.addAction({label:f("vs/editor/contrib/hover/browser/markerHoverParticipant","quick fixes","Quick Fix..."),commandId:EM,run:c=>{l=!0;const d=Od.get(this._editor),u=Pi(c);e.hide(),d==null||d.showCodeActions(LB,a,{x:u.left,y:u.top,width:u.width,height:u.height})}})},He)}}getCodeActions(e){return Vi(t=>Tb(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new k(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),LB,ec.None,t))}};zE=yge([kx(1,KA),kx(2,$o),kx(3,me)],zE);const o6="editor.action.inlineSuggest.commit",s6="editor.action.inlineSuggest.showPrevious",r6="editor.action.inlineSuggest.showNext";var Lge=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class xge extends H{constructor(e,t,i={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new pU),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new Y),this.options=i,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new Q_(()=>{var n;return(n=this.toggleMenuActionViewItem)===null||n===void 0?void 0:n.show()},i.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",e.appendChild(this.element),this.actionBar=this._register(new Vs(this.element,{orientation:i.orientation,ariaLabel:i.ariaLabel,actionRunner:i.actionRunner,allowContextMenu:i.allowContextMenu,highlightToggledItems:i.highlightToggledItems,actionViewItemProvider:(n,o)=>{var r;if(n.id===Q_.ID)return this.toggleMenuActionViewItem=new w1(n,n.menuActions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:Ie.asClassNameArray((r=i.moreIcon)!==null&&r!==void 0?r:se.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(i.actionViewItemProvider){const a=i.actionViewItemProvider(n,o);if(a)return a}if(n instanceof Zf){const a=new w1(n,n.actions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:n.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return a.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(a),this.disposables.add(this._onDidChangeDropdownVisibility.add(a.onDidChangeVisibility)),a}}}))}set actionRunner(e){this.actionBar.actionRunner=e}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(e){return this.actionBar.getAction(e)}setActions(e,t){this.clear();const i=e?e.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),i.push(this.toggleMenuAction)),i.forEach(n=>{this.actionBar.push(n,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(n)})})}getKeybindingLabel(e){var t,i,n;const o=this.lookupKeybindings?(i=(t=this.options).getKeyBinding)===null||i===void 0?void 0:i.call(t,e):void 0;return(n=o==null?void 0:o.getLabel())!==null&&n!==void 0?n:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}class Q_ extends lo{constructor(e,t){t=t||f("vs/base/browser/ui/toolbar/toolbar","moreActions","More Actions..."),super(Q_.ID,t,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=e}run(){return Lge(this,void 0,void 0,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions(e){this._menuActions=e}}Q_.ID="toolbar.toggle.more";var Dge=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ip=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let UE=class extends xge{constructor(e,t,i,n,o,r,a){super(e,o,Object.assign(Object.assign({getKeyBinding:c=>{var d;return(d=r.lookupKeybinding(c.id))!==null&&d!==void 0?d:void 0}},t),{allowContextMenu:!0,skipTelemetry:typeof(t==null?void 0:t.telemetrySource)=="string"})),this._options=t,this._menuService=i,this._contextKeyService=n,this._contextMenuService=o,this._sessionDisposables=this._store.add(new Y);const l=t==null?void 0:t.telemetrySource;l&&this._store.add(this.actionBar.onDidRun(c=>a.publicLog2("workbenchActionExecuted",{id:c.action.id,from:l})))}setActions(e,t=[],i){var n,o,r;this._sessionDisposables.clear();const a=e.slice(),l=t.slice(),c=[];let d=0;const u=[];let h=!1;if(((n=this._options)===null||n===void 0?void 0:n.hiddenItemStrategy)!==-1)for(let g=0;g<a.length;g++){const m=a[g];!(m instanceof dr)&&!(m instanceof Yb)||m.hideActions&&(c.push(m.hideActions.toggle),m.hideActions.toggle.checked&&d++,m.hideActions.isHidden&&(h=!0,a[g]=void 0,((o=this._options)===null||o===void 0?void 0:o.hiddenItemStrategy)!==0&&(u[g]=m)))}if(((r=this._options)===null||r===void 0?void 0:r.overflowBehavior)!==void 0){const g=Voe(new Set(this._options.overflowBehavior.exempted),Ye.map(a,_=>_==null?void 0:_.id)),m=this._options.overflowBehavior.maxItems-g.size;let p=0;for(let _=0;_<a.length;_++){const b=a[_];b&&(p++,!g.has(b.id)&&p>=m&&(a[_]=void 0,u[_]=b))}}EP(a),EP(u),super.setActions(a,tn.join(u,l)),c.length>0&&this._sessionDisposables.add($(this.getElement(),"contextmenu",g=>{var m,p,_,b,v;const w=new Ds(g),C=this.getItemAction(w.target);if(!C)return;w.preventDefault(),w.stopPropagation();let S=!1;if(d===1&&((m=this._options)===null||m===void 0?void 0:m.hiddenItemStrategy)===0){S=!0;for(let I=0;I<c.length;I++)if(c[I].checked){c[I]=bf({id:C.id,label:C.label,checked:!0,enabled:!1,run(){}});break}}let x;if(!S&&(C instanceof dr||C instanceof Yb)){if(!C.hideActions)return;x=C.hideActions.hide}else x=bf({id:"label",label:f("vs/platform/actions/browser/toolbar","hide","Hide"),enabled:!1,run(){}});const L=tn.join([x],c);!((p=this._options)===null||p===void 0)&&p.resetMenu&&!i&&(i=[this._options.resetMenu]),h&&i&&(L.push(new tn),L.push(bf({id:"resetThisMenu",label:f("vs/platform/actions/browser/toolbar","resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(i)}))),this._contextMenuService.showContextMenu({getAnchor:()=>w,getActions:()=>L,menuId:(_=this._options)===null||_===void 0?void 0:_.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},(b=this._options)===null||b===void 0?void 0:b.menuOptions),skipTelemetry:typeof((v=this._options)===null||v===void 0?void 0:v.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};UE=Dge([Ip(2,dl),Ip(3,Me),Ip(4,pr),Ip(5,Et),Ip(6,ms)],UE);var zM=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},zr=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},mC;let $E=class extends H{constructor(e,t,i){super(),this.editor=e,this.model=t,this.instantiationService=i,this.alwaysShowToolbar=gn(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=st(this,n=>{var o,r,a;const l=(o=this.model.read(n))===null||o===void 0?void 0:o.ghostText.read(n);if(!this.alwaysShowToolbar.read(n)||!l||l.parts.length===0)return this.sessionPosition=void 0,null;const c=l.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==l.lineNumber&&(this.sessionPosition=void 0);const d=new P(l.lineNumber,Math.min(c,(a=(r=this.sessionPosition)===null||r===void 0?void 0:r.column)!==null&&a!==void 0?a:Number.MAX_SAFE_INTEGER));return this.sessionPosition=d,d}),this._register(Ao((n,o)=>{const r=this.model.read(n);if(!r||!this.alwaysShowToolbar.read(n))return;const a=o.add(this.instantiationService.createInstance(zd,this.editor,!0,this.position,r.selectedInlineCompletionIndex,r.inlineCompletionsCount,r.selectedInlineCompletion.map(l=>{var c;return(c=l==null?void 0:l.inlineCompletion.source.inlineCompletions.commands)!==null&&c!==void 0?c:[]})));e.addContentWidget(a),o.add(Re(()=>e.removeContentWidget(a))),o.add(Rt(l=>{this.position.read(l)&&r.lastTriggerKind.read(l)!==Yl.Explicit&&r.triggerExplicitly()}))}))}};$E=zM([zr(2,Ae)],$E);const Ige=_i("inline-suggestion-hints-next",se.chevronRight,f("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","parameterHintsNextIcon","Icon for show next parameter hint.")),Tge=_i("inline-suggestion-hints-previous",se.chevronLeft,f("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","parameterHintsPreviousIcon","Icon for show previous parameter hint."));let zd=mC=class extends H{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(e,t,i){const n=new lo(e,t,i,!0,()=>this._commandService.executeCommand(e)),o=this.keybindingService.lookupKeybinding(e,this._contextKeyService);let r=t;return o&&(r=f("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget",{key:"content",comment:["A label","A keybinding"]},"{0} ({1})",t,o.getLabel())),n.tooltip=r,n}constructor(e,t,i,n,o,r,a,l,c,d,u){super(),this.editor=e,this.withBorder=t,this._position=i,this._currentSuggestionIdx=n,this._suggestionCount=o,this._extraCommands=r,this._commandService=a,this.keybindingService=c,this._contextKeyService=d,this._menuService=u,this.id=`InlineSuggestionHintsContentWidget${mC.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=an("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[an("div@toolBar")]),this.previousAction=this.createCommandAction(s6,f("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","previous","Previous"),Ie.asClassName(Tge)),this.availableSuggestionCountAction=new lo("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(r6,f("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","next","Next"),Ie.asClassName(Ige)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(D.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new xt(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new xt(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[],this.toolBar=this._register(l.createInstance(jE,this.nodes.toolBar,D.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:h=>h.startsWith("primary")},actionViewItemProvider:(h,g)=>{if(h instanceof dr)return l.createInstance(Nge,h,void 0);if(h===this.availableSuggestionCountAction){const m=new Ege(void 0,h,{label:!0,icon:!1});return m.setClass("availableSuggestionCount"),m}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(h=>{mC._dropDownVisible=h})),this._register(Rt(h=>{this._position.read(h),this.editor.layoutContentWidget(this)})),this._register(Rt(h=>{const g=this._suggestionCount.read(h),m=this._currentSuggestionIdx.read(h);g!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${m+1}/${g}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),g!==void 0&&g>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register(Rt(h=>{const g=this._extraCommands.read(h);if(bi(this.lastCommands,g))return;this.lastCommands=g;const m=g.map(p=>({class:void 0,id:p.id,enabled:!0,tooltip:p.tooltip||"",label:p.title,run:_=>this._commandService.executeCommand(p.id)}));for(const[p,_]of this.inlineCompletionsActionsMenus.getActions())for(const b of _)b instanceof dr&&m.push(b);m.length>0&&m.unshift(new tn),this.toolBar.setAdditionalSecondaryActions(m)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};zd._dropDownVisible=!1;zd.id=0;zd=mC=zM([zr(6,ci),zr(7,Ae),zr(8,Et),zr(9,Me),zr(10,dl)],zd);class Ege extends gm{constructor(){super(...arguments),this._className=void 0}setClass(e){this._className=e}render(e){super.render(e),this._className&&e.classList.add(this._className)}}let Nge=class extends Ch{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();if(this.label){const t=an("div.keybinding").root;new Uv(t,ns,Object.assign({disableTitle:!0},ore)).set(e),this.label.textContent=this._action.label,this.label.appendChild(t),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}},jE=class extends UE{constructor(e,t,i,n,o,r,a,l){super(e,Object.assign({resetMenu:t},i),n,o,r,a,l),this.menuId=t,this.options2=i,this.menuService=n,this.contextKeyService=o,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var e,t,i,n,o,r,a;const l=[],c=[];E7(this.menu,(e=this.options2)===null||e===void 0?void 0:e.menuOptions,{primary:l,secondary:c},(i=(t=this.options2)===null||t===void 0?void 0:t.toolbarOptions)===null||i===void 0?void 0:i.primaryGroup,(o=(n=this.options2)===null||n===void 0?void 0:n.toolbarOptions)===null||o===void 0?void 0:o.shouldInlineSubmenu,(a=(r=this.options2)===null||r===void 0?void 0:r.toolbarOptions)===null||a===void 0?void 0:a.useSeparatorsInPrimaryActions),c.push(...this.additionalActions),l.unshift(...this.prependedPrimaryActions),this.setActions(l,c)}setPrependedPrimaryActions(e){bi(this.prependedPrimaryActions,e,(t,i)=>t===i)||(this.prependedPrimaryActions=e,this.updateToolbar())}setAdditionalSecondaryActions(e){bi(this.additionalActions,e,(t,i)=>t===i)||(this.additionalActions=e,this.updateToolbar())}};jE=zM([zr(3,dl),zr(4,Me),zr(5,pr),zr(6,Et),zr(7,ms)],jE);var Age=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},mw=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},KE;const Rge=!1;let Lo=KE=class extends H{static get(e){return e.getContribution(KE.ID)}constructor(e,t,i,n,o){super(),this._editor=e,this._instantiationService=t,this._openerService=i,this._languageService=n,this._keybindingService=o,this._toUnhook=new Y,this._hoverActivatedByColorDecoratorClick=!1,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._reactToEditorMouseMoveRunner=this._register(new xt(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookEvents(),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(60)&&(this._unhookEvents(),this._hookEvents())})),this._register(this._editor.onMouseLeave(()=>{this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}))}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(60);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._hidingDelay=t.hidingDelay,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(i=>this._onEditorMouseDown(i))),this._toUnhook.add(this._editor.onMouseUp(i=>this._onEditorMouseUp(i))),this._toUnhook.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._toUnhook.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))):(this._toUnhook.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._toUnhook.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))),this._toUnhook.add(this._editor.onMouseLeave(i=>this._onEditorMouseLeave(i))),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange(i=>this._onEditorScrollChanged(i)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){var t;this._isMouseDown=!0;const i=e.target;if(i.type===9&&i.detail===md.ID){this._hoverClicked=!0;return}i.type===12&&i.detail===Wf.ID||(i.type!==12&&(this._hoverClicked=!1),!((t=this._contentWidget)===null||t===void 0)&&t.widget.isResizing||this._hideWidgets())}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseLeave(e){var t,i;const n=e.event.browserEvent.relatedTarget;!((t=this._contentWidget)===null||t===void 0)&&t.widget.isResizing||!((i=this._contentWidget)===null||i===void 0)&&i.containsNode(n)||this._hideWidgets()}_isMouseOverWidget(e){var t,i,n,o,r;const a=e.target;return!!(this._isHoverSticky&&a.type===9&&a.detail===md.ID||this._isHoverSticky&&(!((t=this._contentWidget)===null||t===void 0)&&t.containsNode((i=e.event.browserEvent.view)===null||i===void 0?void 0:i.document.activeElement))&&!(!((o=(n=e.event.browserEvent.view)===null||n===void 0?void 0:n.getSelection())===null||o===void 0)&&o.isCollapsed)||!this._isHoverSticky&&a.type===9&&a.detail===md.ID&&(!((r=this._contentWidget)===null||r===void 0)&&r.isColorPickerVisible)||this._isHoverSticky&&a.type===12&&a.detail===Wf.ID)}_onEditorMouseMove(e){var t,i,n,o;if(this._mouseMoveEvent=e,!((t=this._contentWidget)===null||t===void 0)&&t.isFocused||!((i=this._contentWidget)===null||i===void 0)&&i.isResizing||this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&(!((n=this._contentWidget)===null||n===void 0)&&n.isVisibleFromKeyboard))return;if(this._isMouseOverWidget(e)){this._reactToEditorMouseMoveRunner.cancel();return}if(!((o=this._contentWidget)===null||o===void 0)&&o.isVisible&&this._isHoverSticky&&this._hidingDelay>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(this._hidingDelay);return}this._reactToEditorMouseMove(e)}_reactToEditorMouseMove(e){var t,i,n;if(!e)return;const o=e.target,r=(t=o.element)===null||t===void 0?void 0:t.classList.contains("colorpicker-color-decoration"),a=this._editor.getOption(146);if(r&&(a==="click"&&!this._hoverActivatedByColorDecoratorClick||a==="hover"&&!this._isHoverEnabled&&!Rge||a==="clickAndHover"&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick)||!r&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(e)){(i=this._glyphWidget)===null||i===void 0||i.hide();return}if(o.type===2&&o.position){(n=this._contentWidget)===null||n===void 0||n.hide(),this._glyphWidget||(this._glyphWidget=new Wf(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(o.position.lineNumber);return}this._hideWidgets()}_onKeyDown(e){var t;if(!this._editor.hasModel())return;const i=this._keybindingService.softDispatch(e,this._editor.getDomNode()),n=i.kind===1||i.kind===2&&i.commandId==="editor.action.showHover"&&((t=this._contentWidget)===null||t===void 0?void 0:t.isVisible);e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&!n&&this._hideWidgets()}_hideWidgets(){var e,t,i;this._isMouseDown&&this._hoverClicked&&(!((e=this._contentWidget)===null||e===void 0)&&e.isColorPickerVisible)||zd.dropDownVisible||(this._hoverActivatedByColorDecoratorClick=!1,this._hoverClicked=!1,(t=this._glyphWidget)===null||t===void 0||t.hide(),(i=this._contentWidget)===null||i===void 0||i.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(X1,this._editor)),this._contentWidget}showContentHover(e,t,i,n,o=!1){this._hoverActivatedByColorDecoratorClick=o,this._getOrCreateContentWidget().startShowingAtRange(e,t,i,n)}focus(){var e;(e=this._contentWidget)===null||e===void 0||e.focus()}scrollUp(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollUp()}scrollDown(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollDown()}scrollLeft(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollLeft()}scrollRight(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollRight()}pageUp(){var e;(e=this._contentWidget)===null||e===void 0||e.pageUp()}pageDown(){var e;(e=this._contentWidget)===null||e===void 0||e.pageDown()}goToTop(){var e;(e=this._contentWidget)===null||e===void 0||e.goToTop()}goToBottom(){var e;(e=this._contentWidget)===null||e===void 0||e.goToBottom()}get isColorPickerVisible(){var e;return(e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible}get isHoverVisible(){var e;return(e=this._contentWidget)===null||e===void 0?void 0:e.isVisible}dispose(){var e,t;super.dispose(),this._unhookEvents(),this._toUnhook.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(t=this._contentWidget)===null||t===void 0||t.dispose()}};Lo.ID="editor.contrib.hover";Lo=KE=Age([mw(1,Ae),mw(2,$o),mw(3,qt),mw(4,Et)],Lo);class Mge extends ge{constructor(){super({id:"editor.action.showHover",label:f("vs/editor/contrib/hover/browser/hover",{key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse.","If the hover is already visible, it will take focus."]},"Show or Focus Hover"),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2087),weight:100}})}run(e,t,i){if(!t.hasModel())return;const n=Lo.get(t);if(!n)return;const o=t.getPosition(),r=new k(o.lineNumber,o.column,o.lineNumber,o.column),a=t.getOption(2)===2||!!(i!=null&&i.focus);n.isHoverVisible?n.focus():n.showContentHover(r,1,1,a)}}class Pge extends ge{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:f("vs/editor/contrib/hover/browser/hover",{key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){const i=Lo.get(t);if(!i)return;const n=t.getPosition();if(!n)return;const o=new k(n.lineNumber,n.column,n.lineNumber,n.column),r=Nh.get(t);if(!r)return;r.startFindDefinitionFromCursor(n).then(()=>{i.showContentHover(o,1,1,!0)})}}class Oge extends ge{constructor(){super({id:"editor.action.scrollUpHover",label:f("vs/editor/contrib/hover/browser/hover",{key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:16,weight:100}})}run(e,t){const i=Lo.get(t);i&&i.scrollUp()}}class Fge extends ge{constructor(){super({id:"editor.action.scrollDownHover",label:f("vs/editor/contrib/hover/browser/hover",{key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:18,weight:100}})}run(e,t){const i=Lo.get(t);i&&i.scrollDown()}}class Bge extends ge{constructor(){super({id:"editor.action.scrollLeftHover",label:f("vs/editor/contrib/hover/browser/hover",{key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:15,weight:100}})}run(e,t){const i=Lo.get(t);i&&i.scrollLeft()}}class Wge extends ge{constructor(){super({id:"editor.action.scrollRightHover",label:f("vs/editor/contrib/hover/browser/hover",{key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:17,weight:100}})}run(e,t){const i=Lo.get(t);i&&i.scrollRight()}}class Vge extends ge{constructor(){super({id:"editor.action.pageUpHover",label:f("vs/editor/contrib/hover/browser/hover",{key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:11,secondary:[528],weight:100}})}run(e,t){const i=Lo.get(t);i&&i.pageUp()}}class Hge extends ge{constructor(){super({id:"editor.action.pageDownHover",label:f("vs/editor/contrib/hover/browser/hover",{key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:12,secondary:[530],weight:100}})}run(e,t){const i=Lo.get(t);i&&i.pageDown()}}class zge extends ge{constructor(){super({id:"editor.action.goToTopHover",label:f("vs/editor/contrib/hover/browser/hover",{key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(e,t){const i=Lo.get(t);i&&i.goToTop()}}class Uge extends ge{constructor(){super({id:"editor.action.goToBottomHover",label:f("vs/editor/contrib/hover/browser/hover",{key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(e,t){const i=Lo.get(t);i&&i.goToBottom()}}gt(Lo.ID,Lo,2);ne(Mge);ne(Pge);ne(Oge);ne(Fge);ne(Bge);ne(Wge);ne(Vge);ne(Hge);ne(zge);ne(Uge);lg.register(tS);lg.register(zE);mr((s,e)=>{const t=s.getColor(pZ);t&&(e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${t.transparent(.5)}; }`))});class qE extends H{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){const t=this._editor.getOption(146);if(t!=="click"&&t!=="clickAndHover")return;const i=e.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==E8||!i.range)return;const n=this._editor.getContribution(Lo.ID);if(n&&!n.isColorPickerVisible){const o=new k(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);n.showContentHover(o,1,0,!1,!0)}}}qE.ID="editor.contrib.colorContribution";gt(qE.ID,qE,2);lg.register(Q1);var a6=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Br=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},xB=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},GE,ZE;let Ud=GE=class extends H{constructor(e,t,i,n,o,r,a){super(),this._editor=e,this._modelService=i,this._keybindingService=n,this._instantiationService=o,this._languageFeatureService=r,this._languageConfigurationService=a,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=T.standaloneColorPickerVisible.bindTo(t),this._standaloneColorPickerFocused=T.standaloneColorPickerFocused.bindTo(t)}showOrFocus(){var e;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(e=this._standaloneColorPickerWidget)===null||e===void 0||e.focus():this._standaloneColorPickerWidget=new nS(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var e;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(e=this._standaloneColorPickerWidget)===null||e===void 0||e.hide(),this._editor.focus()}insertColor(){var e;(e=this._standaloneColorPickerWidget)===null||e===void 0||e.updateEditor(),this.hide()}static get(e){return e.getContribution(GE.ID)}};Ud.ID="editor.contrib.standaloneColorPickerController";Ud=GE=a6([Br(1,Me),Br(2,Qt),Br(3,Et),Br(4,Ae),Br(5,me),Br(6,Mt)],Ud);gt(Ud.ID,Ud,1);const DB=8,$ge=22;let nS=ZE=class extends H{constructor(e,t,i,n,o,r,a,l){var c;super(),this._editor=e,this._standaloneColorPickerVisible=t,this._standaloneColorPickerFocused=i,this._modelService=o,this._keybindingService=r,this._languageFeaturesService=a,this._languageConfigurationService=l,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new M),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=n.createInstance(K_,this._editor),this._position=(c=this._editor._getViewModel())===null||c===void 0?void 0:c.getPrimaryCursorState().modelState.position;const d=this._editor.getSelection(),u=d?{startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},h=this._register(Ja(this._body));this._register(h.onDidBlur(g=>{this.hide()})),this._register(h.onDidFocus(g=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(g=>{var m;const p=(m=g.target.element)===null||m===void 0?void 0:m.classList;p&&p.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(g=>{this._render(g.value,g.foundInEditor)})),this._start(u),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return ZE.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const e=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:e?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}_start(e){return xB(this,void 0,void 0,function*(){const t=yield this._computeAsync(e);t&&this._onResult.fire(new jge(t.result,t.foundInEditor))})}_computeAsync(e){return xB(this,void 0,void 0,function*(){if(!this._editor.hasModel())return null;const t={range:e,color:{red:0,green:0,blue:0,alpha:1}},i=yield this._standaloneColorPickerParticipant.createColorHover(t,new MM(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return i?{result:i.colorHover,foundInEditor:i.foundInEditor}:null})}_render(e,t){const i=document.createDocumentFragment(),n=this._register(new J1(this._keybindingService));let o;const r={fragment:i,statusBar:n,setColorPicker:p=>o=p,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=e,this._register(this._standaloneColorPickerParticipant.renderHoverParts(r,[e])),o===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(i),o.layout();const a=o.body,l=a.saturationBox.domNode.clientWidth,c=a.domNode.clientWidth-l-$ge-DB,d=o.body.enterButton;d==null||d.onClicked(()=>{this.updateEditor(),this.hide()});const u=o.header,h=u.pickedColorNode;h.style.width=l+DB+"px";const g=u.originalColorNode;g.style.width=c+"px";const m=o.header.closeButton;m==null||m.onClicked(()=>{this.hide()}),t&&(d&&(d.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(e.range)),this._editor.layoutContentWidget(this)}};nS.ID="editor.contrib.standaloneColorPickerWidget";nS=ZE=a6([Br(3,Ae),Br(4,Qt),Br(5,Et),Br(6,me),Br(7,Mt)],nS);class jge{constructor(e,t){this.value=e,this.foundInEditor=t}}class Kge extends aa{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:f("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker"),mnemonicTitle:f("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions",{key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker"),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:D.CommandPalette}]})}runEditorCommand(e,t){var i;(i=Ud.get(t))===null||i===void 0||i.showOrFocus()}}class qge extends ge{constructor(){super({id:"editor.action.hideColorPicker",label:f("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions",{key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:T.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(e,t){var i;(i=Ud.get(t))===null||i===void 0||i.hide()}}class Gge extends ge{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:f("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions",{key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:T.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(e,t){var i;(i=Ud.get(t))===null||i===void 0||i.insertColor()}}ne(qge);ne(Gge);jt(Kge);class ed{constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;const n=t.length,o=e.length;if(i+n>o)return!1;for(let r=0;r<n;r++){const a=e.charCodeAt(i+r),l=t.charCodeAt(r);if(a!==l&&!(a>=65&&a<=90&&a+32===l)&&!(l>=65&&l<=90&&l+32===a))return!1}return!0}_createOperationsForBlockComment(e,t,i,n,o,r){const a=e.startLineNumber,l=e.startColumn,c=e.endLineNumber,d=e.endColumn,u=o.getLineContent(a),h=o.getLineContent(c);let g=u.lastIndexOf(t,l-1+t.length),m=h.indexOf(i,d-1-i.length);if(g!==-1&&m!==-1)if(a===c)u.substring(g+t.length,m).indexOf(i)>=0&&(g=-1,m=-1);else{const _=u.substring(g+t.length),b=h.substring(0,m);(_.indexOf(i)>=0||b.indexOf(i)>=0)&&(g=-1,m=-1)}let p;g!==-1&&m!==-1?(n&&g+t.length<u.length&&u.charCodeAt(g+t.length)===32&&(t=t+" "),n&&m>0&&h.charCodeAt(m-1)===32&&(i=" "+i,m-=1),p=ed._createRemoveBlockCommentOperations(new k(a,g+t.length+1,c,m+1),t,i)):(p=ed._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=p.length===1?i:null);for(const _ of p)r.addTrackedEditOperation(_.range,_.text)}static _createRemoveBlockCommentOperations(e,t,i){const n=[];return k.isEmpty(e)?n.push(Zt.delete(new k(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(n.push(Zt.delete(new k(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),n.push(Zt.delete(new k(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),n}static _createAddBlockCommentOperations(e,t,i,n){const o=[];return k.isEmpty(e)?o.push(Zt.replace(new k(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(o.push(Zt.insert(new P(e.startLineNumber,e.startColumn),t+(n?" ":""))),o.push(Zt.insert(new P(e.endLineNumber,e.endColumn),(n?" ":"")+i))),o}getEditOperations(e,t){const i=this._selection.startLineNumber,n=this._selection.startColumn;e.tokenization.tokenizeIfCheap(i);const o=e.getLanguageIdAtPosition(i,n),r=this.languageConfigurationService.getLanguageConfiguration(o).comments;!r||!r.blockCommentStartToken||!r.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,r.blockCommentStartToken,r.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(i.length===2){const n=i[0],o=i[1];return new _e(n.range.endLineNumber,n.range.endColumn,o.range.startLineNumber,o.range.startColumn)}else{const n=i[0].range,o=this._usedEndToken?-this._usedEndToken.length-1:0;return new _e(n.endLineNumber,n.endColumn+o,n.endLineNumber,n.endColumn+o)}}}class Il{constructor(e,t,i,n,o,r,a){this.languageConfigurationService=e,this._selection=t,this._tabSize=i,this._type=n,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=r,this._ignoreFirstLine=a||!1}static _gatherPreflightCommentStrings(e,t,i,n){e.tokenization.tokenizeIfCheap(t);const o=e.getLanguageIdAtPosition(t,1),r=n.getLanguageConfiguration(o).comments,a=r?r.lineCommentToken:null;if(!a)return null;const l=[];for(let c=0,d=i-t+1;c<d;c++)l[c]={ignore:!1,commentStr:a,commentStrOffset:0,commentStrLength:a.length};return l}static _analyzeLines(e,t,i,n,o,r,a,l){let c=!0,d;e===0?d=!0:e===1?d=!1:d=!0;for(let u=0,h=n.length;u<h;u++){const g=n[u],m=o+u;if(m===o&&a){g.ignore=!0;continue}const p=i.getLineContent(m),_=Zn(p);if(_===-1){g.ignore=r,g.commentStrOffset=p.length;continue}if(c=!1,g.ignore=!1,g.commentStrOffset=_,d&&!ed._haystackHasNeedleAtOffset(p,g.commentStr,_)&&(e===0?d=!1:e===1||(g.ignore=!0)),d&&t){const b=_+g.commentStrLength;b<p.length&&p.charCodeAt(b)===32&&(g.commentStrLength+=1)}}if(e===0&&c){d=!1;for(let u=0,h=n.length;u<h;u++)n[u].ignore=!1}return{supported:!0,shouldRemoveComments:d,lines:n}}static _gatherPreflightData(e,t,i,n,o,r,a,l){const c=Il._gatherPreflightCommentStrings(i,n,o,l);return c===null?{supported:!1}:Il._analyzeLines(e,t,i,c,n,r,a,l)}_executeLineComments(e,t,i,n){let o;i.shouldRemoveComments?o=Il._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(Il._normalizeInsertionPoint(e,i.lines,n.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,n.startLineNumber));const r=new P(n.positionLineNumber,n.positionColumn);for(let a=0,l=o.length;a<l;a++)t.addEditOperation(o[a].range,o[a].text),k.isEmpty(o[a].range)&&k.getStartPosition(o[a].range).equals(r)&&e.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(o[a].text||"").length);this._selectionId=t.trackSelection(n)}_attemptRemoveBlockComment(e,t,i,n){let o=t.startLineNumber,r=t.endLineNumber;const a=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn);let l=e.getLineContent(o).lastIndexOf(i,a-1),c=e.getLineContent(r).indexOf(n,t.endColumn-1-i.length);return l!==-1&&c===-1&&(c=e.getLineContent(o).indexOf(n,l+i.length),r=o),l===-1&&c!==-1&&(l=e.getLineContent(r).lastIndexOf(i,c),o=r),t.isEmpty()&&(l===-1||c===-1)&&(l=e.getLineContent(o).indexOf(i),l!==-1&&(c=e.getLineContent(o).indexOf(n,l+i.length))),l!==-1&&e.getLineContent(o).charCodeAt(l+i.length)===32&&(i+=" "),c!==-1&&e.getLineContent(r).charCodeAt(c-1)===32&&(n=" "+n,c-=1),l!==-1&&c!==-1?ed._createRemoveBlockCommentOperations(new k(o,l+i.length+1,r,c+1),i,n):null}_executeBlockComment(e,t,i){e.tokenization.tokenizeIfCheap(i.startLineNumber);const n=e.getLanguageIdAtPosition(i.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(n).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const r=o.blockCommentStartToken,a=o.blockCommentEndToken;let l=this._attemptRemoveBlockComment(e,i,r,a);if(!l){if(i.isEmpty()){const c=e.getLineContent(i.startLineNumber);let d=Zn(c);d===-1&&(d=c.length),l=ed._createAddBlockCommentOperations(new k(i.startLineNumber,d+1,i.startLineNumber,c.length+1),r,a,this._insertSpace)}else l=ed._createAddBlockCommentOperations(new k(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),r,a,this._insertSpace);l.length===1&&(this._deltaColumn=r.length+1)}this._selectionId=t.trackSelection(i);for(const c of l)t.addEditOperation(c.range,c.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new k(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const n=Il._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return n.supported?this._executeLineComments(e,t,n,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new _e(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){const i=[];for(let n=0,o=e.length;n<o;n++){const r=e[n];r.ignore||i.push(Zt.delete(new k(t+n,r.commentStrOffset+1,t+n,r.commentStrOffset+r.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){const i=[],n=this._insertSpace?" ":"";for(let o=0,r=e.length;o<r;o++){const a=e[o];a.ignore||i.push(Zt.insert(new P(t+o,a.commentStrOffset+1),a.commentStr+n))}return i}static nextVisibleColumn(e,t,i,n){return i?e+(t-e%t):e+n}static _normalizeInsertionPoint(e,t,i,n){let o=1073741824,r,a;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;const d=e.getLineContent(i+l);let u=0;for(let h=0,g=t[l].commentStrOffset;u<o&&h<g;h++)u=Il.nextVisibleColumn(u,n,d.charCodeAt(h)===9,1);u<o&&(o=u)}o=Math.floor(o/n)*n;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;const d=e.getLineContent(i+l);let u=0;for(r=0,a=t[l].commentStrOffset;u<o&&r<a;r++)u=Il.nextVisibleColumn(u,n,d.charCodeAt(r)===9,1);u>o?t[l].commentStrOffset=r-1:t[l].commentStrOffset=r}}}class UM extends ge{constructor(e,t){super(t),this._type=e}run(e,t){const i=e.get(Mt);if(!t.hasModel())return;const n=t.getModel(),o=[],r=n.getOptions(),a=t.getOption(23),l=t.getSelections().map((d,u)=>({selection:d,index:u,ignoreFirstLine:!1}));l.sort((d,u)=>k.compareRangesUsingStarts(d.selection,u.selection));let c=l[0];for(let d=1;d<l.length;d++){const u=l[d];c.selection.endLineNumber===u.selection.startLineNumber&&(c.index<u.index?u.ignoreFirstLine=!0:(c.ignoreFirstLine=!0,c=u))}for(const d of l)o.push(new Il(i,d.selection,r.tabSize,this._type,a.insertSpace,a.ignoreEmptyLines,d.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class Zge extends UM{constructor(){super(0,{id:"editor.action.commentLine",label:f("vs/editor/contrib/comment/browser/comment","comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:D.MenubarEditMenu,group:"5_insert",title:f("vs/editor/contrib/comment/browser/comment",{key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class Qge extends UM{constructor(){super(1,{id:"editor.action.addCommentLine",label:f("vs/editor/contrib/comment/browser/comment","comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2081),weight:100}})}}class Yge extends UM{constructor(){super(2,{id:"editor.action.removeCommentLine",label:f("vs/editor/contrib/comment/browser/comment","comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2099),weight:100}})}}class Xge extends ge{constructor(){super({id:"editor.action.blockComment",label:f("vs/editor/contrib/comment/browser/comment","comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:D.MenubarEditMenu,group:"5_insert",title:f("vs/editor/contrib/comment/browser/comment",{key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const i=e.get(Mt);if(!t.hasModel())return;const n=t.getOption(23),o=[],r=t.getSelections();for(const a of r)o.push(new ed(a,n.insertSpace,i));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}ne(Zge);ne(Qge);ne(Yge);ne(Xge);var Jge=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},bu=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},QE;let ym=QE=class{static get(e){return e.getContribution(QE.ID)}constructor(e,t,i,n,o,r,a,l){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=n,this._keybindingService=o,this._menuService=r,this._configurationService=a,this._workspaceContextService=l,this._toDispose=new Y,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(c=>this._onContextMenu(c))),this._toDispose.add(this._editor.onMouseWheel(c=>{if(this._contextMenuIsBeingShownCount>0){const d=this._contextViewService.getContextViewElement(),u=c.srcElement;u.shadowRoot&&ph(d)===u.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(c=>{this._editor.getOption(24)&&c.keyCode===58&&(c.preventDefault(),c.stopPropagation(),this.showContextMenu())}))}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||e.target.type===6&&e.target.detail.injectedText)return;if(e.event.preventDefault(),e.event.stopPropagation(),e.target.type===11)return this._showScrollbarContextMenu(e.event);if(e.target.type!==6&&e.target.type!==7&&e.target.type!==1)return;if(this._editor.focus(),e.target.position){let i=!1;for(const n of this._editor.getSelections())if(n.containsPosition(e.target.position)){i=!0;break}i||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t=e.event),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?D.SimpleEditorContext:D.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const i=[],n=this._menuService.createMenu(t,this._contextKeyService),o=n.getActions({arg:e.uri});n.dispose();for(const r of o){const[,a]=r;let l=0;for(const c of a)if(c instanceof Yb){const d=this._getMenuActions(e,c.item.submenu);d.length>0&&(i.push(new Zf(c.id,c.label,d)),l++)}else i.push(c),l++;l&&i.push(new tn)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const i=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let n=t;if(!n){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const r=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),a=Pi(this._editor.getDomNode()),l=a.left+r.left,c=a.top+r.top+r.height;n={x:l,y:c}}const o=this._editor.getOption(126)&&!Xr;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:o?this._editor.getDomNode():void 0,getAnchor:()=>n,getActions:()=>e,getActionViewItem:r=>{const a=this._keybindingFor(r);if(a)return new gm(r,r,{label:!0,keybinding:a.getLabel(),isMenu:!0});const l=r;return typeof l.getActionViewItem=="function"?l.getActionViewItem():new gm(r,r,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:r=>this._keybindingFor(r),onHide:r=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:i})}})}_showScrollbarContextMenu(e){if(!this._editor.hasModel()||Fie(this._workspaceContextService.getWorkspace()))return;const t=this._editor.getOption(72);let i=0;const n=c=>({id:`menu-action-${++i}`,label:c.label,tooltip:"",class:void 0,enabled:typeof c.enabled=="undefined"?!0:c.enabled,checked:c.checked,run:c.run}),o=(c,d)=>new Zf(`menu-action-${++i}`,c,d,void 0),r=(c,d,u,h,g)=>{if(!d)return n({label:c,enabled:d,run:()=>{}});const m=_=>()=>{this._configurationService.updateValue(u,_)},p=[];for(const _ of g)p.push(n({label:_.label,checked:h===_.value,run:m(_.value)}));return o(c,p)},a=[];a.push(n({label:f("vs/editor/contrib/contextmenu/browser/contextmenu","context.minimap.minimap","Minimap"),checked:t.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!t.enabled)}})),a.push(new tn),a.push(n({label:f("vs/editor/contrib/contextmenu/browser/contextmenu","context.minimap.renderCharacters","Render Characters"),enabled:t.enabled,checked:t.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!t.renderCharacters)}})),a.push(r(f("vs/editor/contrib/contextmenu/browser/contextmenu","context.minimap.size","Vertical size"),t.enabled,"editor.minimap.size",t.size,[{label:f("vs/editor/contrib/contextmenu/browser/contextmenu","context.minimap.size.proportional","Proportional"),value:"proportional"},{label:f("vs/editor/contrib/contextmenu/browser/contextmenu","context.minimap.size.fill","Fill"),value:"fill"},{label:f("vs/editor/contrib/contextmenu/browser/contextmenu","context.minimap.size.fit","Fit"),value:"fit"}])),a.push(r(f("vs/editor/contrib/contextmenu/browser/contextmenu","context.minimap.slider","Slider"),t.enabled,"editor.minimap.showSlider",t.showSlider,[{label:f("vs/editor/contrib/contextmenu/browser/contextmenu","context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:f("vs/editor/contrib/contextmenu/browser/contextmenu","context.minimap.slider.always","Always"),value:"always"}]));const l=this._editor.getOption(126)&&!Xr;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>a,onHide:c=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};ym.ID="editor.contrib.contextmenu";ym=QE=Jge([bu(1,pr),bu(2,gc),bu(3,Me),bu(4,Et),bu(5,dl),bu(6,ot),bu(7,vh)],ym);class efe extends ge{constructor(){super({id:"editor.action.showContextMenu",label:f("vs/editor/contrib/contextmenu/browser/contextmenu","action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:1092,weight:100}})}run(e,t){var i;(i=ym.get(t))===null||i===void 0||i.showContextMenu()}}gt(ym.ID,ym,2);ne(efe);class Lx{constructor(e){this.selections=e}equals(e){const t=this.selections.length,i=e.selections.length;if(t!==i)return!1;for(let n=0;n<t;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0}}class xx{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class Ah extends H{static get(e){return e.getContribution(Ah.ID)}constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const i=new Lx(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new xx(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new xx(new Lx(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new xx(new Lx(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}Ah.ID="editor.contrib.cursorUndoRedoController";class tfe extends ge{constructor(){super({id:"cursorUndo",label:f("vs/editor/contrib/cursorUndo/browser/cursorUndo","cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:2099,weight:100}})}run(e,t,i){var n;(n=Ah.get(t))===null||n===void 0||n.cursorUndo()}}class ife extends ge{constructor(){super({id:"cursorRedo",label:f("vs/editor/contrib/cursorUndo/browser/cursorUndo","cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){var n;(n=Ah.get(t))===null||n===void 0||n.cursorRedo()}}gt(Ah.ID,Ah,0);ne(tfe);ne(ife);class nfe{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){const i=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new k(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new _e(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new _e(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new _e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new _e(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new _e(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}}function Lg(s){return at?s.altKey:s.ctrlKey}class nc extends H{constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(35)||this._editor.getOption(22)||(Lg(e)&&(this._modifierPressed=!0),this._mouseDown&&Lg(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(35)||this._editor.getOption(22)||(Lg(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===nc.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){const t=e.target;if(this._dragSelection===null){const n=(this._editor.getSelections()||[]).filter(o=>t.position&&o.containsPosition(t.position));if(n.length===1)this._dragSelection=n[0];else return}Lg(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){const t=new P(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let i=null;if(e.event.shiftKey){const n=this._editor.getSelection();if(n){const{selectionStartLineNumber:o,selectionStartColumn:r}=n;i=[new _e(o,r,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map(n=>n.containsPosition(t)?new _e(t.lineNumber,t.column,t.lineNumber,t.column):n);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(Lg(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(nc.ID,new nfe(this._dragSelection,t,Lg(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){this._dndDecorationIds.set([{range:new k(e.lineNumber,e.column,e.lineNumber,e.column),options:nc._DECORATION_OPTIONS}]),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}nc.ID="editor.contrib.dragAndDrop";nc.TRIGGER_KEY_VALUE=at?6:5;nc._DECORATION_OPTIONS=Ve.register({description:"dnd-target",className:"dnd-target"});gt(nc.ID,nc,2);const ik=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let s;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?s=crypto.getRandomValues.bind(crypto):s=function(i){for(let n=0;n<i.length;n++)i[n]=Math.floor(Math.random()*256);return i};const e=new Uint8Array(16),t=[];for(let i=0;i<256;i++)t.push(i.toString(16).padStart(2,"0"));return function(){s(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let n=0,o="";return o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+="-",o+=t[e[n++]],o+=t[e[n++]],o+="-",o+=t[e[n++]],o+=t[e[n++]],o+="-",o+=t[e[n++]],o+=t[e[n++]],o+="-",o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o}}();var l6=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function $M(s){return{asString:()=>l6(this,void 0,void 0,function*(){return s}),asFile:()=>{},value:typeof s=="string"?s:void 0}}function ofe(s,e,t){const i={id:ik(),name:s,uri:e,data:t};return{asString:()=>l6(this,void 0,void 0,function*(){return""}),asFile:()=>i,value:void 0}}class c6{constructor(){this._entries=new Map}get size(){let e=0;for(const t of this._entries)e++;return e}has(e){return this._entries.has(this.toKey(e))}matches(e){const t=[...this._entries.keys()];return Ye.some(this,([i,n])=>n.asFile())&&t.push("files"),u6(oS(e),t)}get(e){var t;return(t=this._entries.get(this.toKey(e)))===null||t===void 0?void 0:t[0]}append(e,t){const i=this._entries.get(e);i?i.push(t):this._entries.set(this.toKey(e),[t])}replace(e,t){this._entries.set(this.toKey(e),[t])}delete(e){this._entries.delete(this.toKey(e))}*[Symbol.iterator](){for(const[e,t]of this._entries)for(const i of t)yield[e,i]}toKey(e){return oS(e)}}function oS(s){return s.toLowerCase()}function d6(s,e){return u6(oS(s),e.map(oS))}function u6(s,e){if(s==="*/*")return e.length>0;if(e.includes(s))return!0;const t=s.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!t)return!1;const[i,n,o]=t;return o==="*"?e.some(r=>r.startsWith(n+"/")):!1}const nk=Object.freeze({create:s=>wd(s.map(e=>e.toString())).join(`\r
`),split:s=>s.split(`\r
`),parse:s=>nk.split(s).filter(e=>!e.startsWith("#"))}),IB={EDITORS:"CodeEditors",FILES:"CodeFiles"};class sfe{}const rfe={DragAndDropContribution:"workbench.contributions.dragAndDrop"};Jt.add(rfe.DragAndDropContribution,new sfe);class Y_{constructor(){}static getInstance(){return Y_.INSTANCE}hasData(e){return e&&e===this.proto}getData(e){if(this.hasData(e))return this.data}}Y_.INSTANCE=new Y_;var afe=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function h6(s){const e=new c6;for(const t of s.items){const i=t.type;if(t.kind==="string"){const n=new Promise(o=>t.getAsString(o));e.append(i,$M(n))}else if(t.kind==="file"){const n=t.getAsFile();n&&e.append(i,lfe(n))}}return e}function lfe(s){const e=s.path?De.parse(s.path):void 0;return ofe(s.name,e,()=>afe(this,void 0,void 0,function*(){return new Uint8Array(yield s.arrayBuffer())}))}const cfe=Object.freeze([IB.EDITORS,IB.FILES,T_.RESOURCES,T_.INTERNAL_URI_LIST]);function g6(s,e=!1){const t=h6(s),i=t.get(T_.INTERNAL_URI_LIST);if(i)t.replace(pi.uriList,i);else if(e||!t.has(pi.uriList)){const n=[];for(const o of s.items){const r=o.getAsFile();if(r){const a=r.path;try{a?n.push(De.file(a).toString()):n.push(De.parse(r.name,!0).toString())}catch(l){}}}n.length&&t.replace(pi.uriList,$M(nk.create(n)))}for(const n of cfe)t.delete(n);return t}function dfe(s,e,t){var i,n;return{edits:[...e.map(o=>new Jl(s,typeof t.insertText=="string"?{range:o,text:t.insertText,insertAsSnippet:!1}:{range:o,text:t.insertText.snippet,insertAsSnippet:!0})),...(n=(i=t.additionalEdit)===null||i===void 0?void 0:i.edits)!==null&&n!==void 0?n:[]]}}function f6(s){var e;function t(a,l){return"providerId"in a&&a.providerId===l.providerId||"mimeType"in a&&a.mimeType===l.handledMimeType}const i=new Map;for(const a of s)for(const l of(e=a.yieldTo)!==null&&e!==void 0?e:[])for(const c of s)if(c!==a&&t(l,c)){let d=i.get(a);d||(d=[],i.set(a,d)),d.push(c)}if(!i.size)return Array.from(s);const n=new Set,o=[];function r(a){if(!a.length)return[];const l=a[0];if(o.includes(l))return console.warn(`Yield to cycle detected for ${l.providerId}`),a;if(n.has(l))return r(a.slice(1));let c=[];const d=i.get(l);return d&&(o.push(l),c=r(d),o.pop()),n.add(l),[...c,l,...r(a.slice(1))]}return r(Array.from(s))}var ufe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},hfe=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},gfe=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const ffe=Ve.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:LW,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class ok extends H{constructor(e,t,i,n,o){super(),this.typeId=e,this.editor=t,this.range=i,this.delegate=o,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(n),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(e){this.domNode=te(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=e;const t=te("span.icon");this.domNode.append(t),t.classList.add(...Ie.asClassNameArray(se.loading),"codicon-modifier-spin");const i=()=>{const n=this.editor.getOption(66);this.domNode.style.height=`${n}px`,this.domNode.style.width=`${Math.ceil(.8*n)}px`};i(),this._register(this.editor.onDidChangeConfiguration(n=>{(n.hasChanged(52)||n.hasChanged(66))&&i()})),this._register($(this.domNode,ae.CLICK,n=>{this.delegate.cancel()}))}getId(){return ok.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}ok.baseId="editor.widget.inlineProgressWidget";let sS=class extends H{constructor(e,t,i){super(),this.id=e,this._editor=t,this._instantiationService=i,this._showDelay=500,this._showPromise=this._register(new pn),this._currentWidget=new pn,this._operationIdPool=0,this._currentDecorations=t.createDecorationsCollection()}showWhile(e,t,i){return gfe(this,void 0,void 0,function*(){const n=this._operationIdPool++;this._currentOperation=n,this.clear(),this._showPromise.value=xd(()=>{const o=k.fromPositions(e);this._currentDecorations.set([{range:o,options:ffe}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(ok,this.id,this._editor,o,t,i))},this._showDelay);try{return yield i}finally{this._currentOperation===n&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};sS=ufe([hfe(2,Ae)],sS);var m6=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Eb=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},TB=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},YE;let rS=YE=class extends H{constructor(e,t,i,n,o,r,a,l,c,d){super(),this.typeId=e,this.editor=t,this.showCommand=n,this.range=o,this.edits=r,this.onSelectNewEdit=a,this._contextMenuService=l,this._keybindingService=d,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=i.bindTo(c),this.visibleContext.set(!0),this._register(Re(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register(Re(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(u=>{o.containsPosition(u.position)||this.dispose()})),this._register(ce.runAndSubscribe(d.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var e;const t=(e=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||e===void 0?void 0:e.getLabel();this.button.element.title=this.showCommand.label+(t?` (${t})`:"")}create(){this.domNode=te(".post-edit-widget"),this.button=this._register(new MT(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register($(this.domNode,ae.CLICK,()=>this.showSelector()))}getId(){return YE.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const e=Pi(this.button.element);return{x:e.left+e.width,y:e.top+e.height}},getActions:()=>this.edits.allEdits.map((e,t)=>bf({id:"",label:e.label,checked:t===this.edits.activeEditIndex,run:()=>{if(t!==this.edits.activeEditIndex)return this.onSelectNewEdit(t)}}))})}};rS.baseId="editor.widget.postEditWidget";rS=YE=m6([Eb(7,pr),Eb(8,Me),Eb(9,Et)],rS);let aS=class extends H{constructor(e,t,i,n,o,r){super(),this._id=e,this._editor=t,this._visibleContext=i,this._showCommand=n,this._instantiationService=o,this._bulkEditService=r,this._currentWidget=this._register(new pn),this._register(ce.any(t.onDidChangeModel,t.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(e,t,i,n){var o,r;return TB(this,void 0,void 0,function*(){const a=this._editor.getModel();if(!a||!e.length)return;const l=t.allEdits[t.activeEditIndex];if(!l)return;let c=[];(typeof l.insertText=="string"?l.insertText==="":l.insertText.snippet==="")?c=[]:c=e.map(_=>new Jl(a.uri,typeof l.insertText=="string"?{range:_,text:l.insertText,insertAsSnippet:!1}:{range:_,text:l.insertText.snippet,insertAsSnippet:!0}));const u={edits:[...c,...(r=(o=l.additionalEdit)===null||o===void 0?void 0:o.edits)!==null&&r!==void 0?r:[]]},h=e[0],g=a.deltaDecorations([],[{range:h,options:{description:"paste-line-suffix",stickiness:0}}]);let m,p;try{m=yield this._bulkEditService.apply(u,{editor:this._editor,token:n}),p=a.getDecorationRange(g[0])}finally{a.deltaDecorations(g,[])}i&&m.isApplied&&t.allEdits.length>1&&this.show(p!=null?p:h,t,_=>TB(this,void 0,void 0,function*(){const b=this._editor.getModel();b&&(yield b.undo(),this.applyEditAndShowIfNeeded(e,{activeEditIndex:_,allEdits:t.allEdits},i,n))}))})}show(e,t,i){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(rS,this._id,this._editor,this._visibleContext,this._showCommand,e,t,i))}clear(){this._currentWidget.clear()}tryShowSelector(){var e;(e=this._currentWidget.value)===null||e===void 0||e.showSelector()}};aS=m6([Eb(4,Ae),Eb(5,Bv)],aS);var mfe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},xg=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Sl=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},XE;const p6="editor.changePasteType",b6=new de("pasteWidgetVisible",!1,f("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","pasteWidgetVisible","Whether the paste widget is showing")),Dx="application/vnd.code.copyMetadata";let Rh=XE=class extends H{static get(e){return e.getContribution(XE.ID)}constructor(e,t,i,n,o,r,a){super(),this._bulkEditService=i,this._clipboardService=n,this._languageFeaturesService=o,this._quickInputService=r,this._progressService=a,this._editor=e;const l=e.getContainerDomNode();this._register($(l,"copy",c=>this.handleCopy(c))),this._register($(l,"cut",c=>this.handleCopy(c))),this._register($(l,"paste",c=>this.handlePaste(c),!0)),this._pasteProgressManager=this._register(new sS("pasteIntoEditor",e,t)),this._postPasteWidgetManager=this._register(t.createInstance(aS,"pasteIntoEditor",e,b6,{id:p6,label:f("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(e){this._editor.focus();try{this._pasteAsActionContext={preferredId:e},FS().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(84).enabled&&!this._editor.getOption(90)}handleCopy(e){var t,i;if(!this._editor.hasTextFocus()||(qd&&this._clipboardService.writeResources([]),!e.clipboardData||!this.isPasteAsEnabled()))return;const n=this._editor.getModel(),o=this._editor.getSelections();if(!n||!(o!=null&&o.length))return;const r=this._editor.getOption(37);let a=o;const l=o.length===1&&o[0].isEmpty();if(l){if(!r)return;a=[new k(a[0].startLineNumber,1,a[0].startLineNumber,1+n.getLineLength(a[0].startLineNumber))]}const c=(t=this._editor._getViewModel())===null||t===void 0?void 0:t.getPlainTextToCopy(o,r,En),u={multicursorText:Array.isArray(c)?c:null,pasteOnNewLine:l,mode:null},h=this._languageFeaturesService.documentPasteEditProvider.ordered(n).filter(b=>!!b.prepareDocumentPaste);if(!h.length){this.setCopyMetadata(e.clipboardData,{defaultPastePayload:u});return}const g=h6(e.clipboardData),m=h.flatMap(b=>{var v;return(v=b.copyMimeTypes)!==null&&v!==void 0?v:[]}),p=ik();this.setCopyMetadata(e.clipboardData,{id:p,providerCopyMimeTypes:m,defaultPastePayload:u});const _=Vi(b=>Sl(this,void 0,void 0,function*(){const v=Qa(yield Promise.all(h.map(w=>Sl(this,void 0,void 0,function*(){try{return yield w.prepareDocumentPaste(n,a,g,b)}catch(C){console.error(C);return}}))));v.reverse();for(const w of v)for(const[C,S]of w)g.replace(C,S);return g}));(i=this._currentCopyOperation)===null||i===void 0||i.dataTransferPromise.cancel(),this._currentCopyOperation={handle:p,dataTransferPromise:_}}handlePaste(e){var t,i;return Sl(this,void 0,void 0,function*(){if(!e.clipboardData||!this._editor.hasTextFocus())return;(t=this._currentPasteOperation)===null||t===void 0||t.cancel(),this._currentPasteOperation=void 0;const n=this._editor.getModel(),o=this._editor.getSelections();if(!(o!=null&&o.length)||!n||!this.isPasteAsEnabled())return;const r=this.fetchCopyMetadata(e),a=g6(e.clipboardData);a.delete(Dx);const l=[...e.clipboardData.types,...(i=r==null?void 0:r.providerCopyMimeTypes)!==null&&i!==void 0?i:[],pi.uriList],c=this._languageFeaturesService.documentPasteEditProvider.ordered(n).filter(d=>{var u;return(u=d.pasteMimeTypes)===null||u===void 0?void 0:u.some(h=>d6(h,l))});c.length&&(e.preventDefault(),e.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,c,o,a,r):this.doPasteInline(c,o,a,r))})}doPasteInline(e,t,i,n){const o=Vi(r=>Sl(this,void 0,void 0,function*(){const a=this._editor;if(!a.hasModel())return;const l=a.getModel(),c=new Pd(a,3,void 0,r);try{if(yield this.mergeInDataFromCopy(i,n,c.token),c.token.isCancellationRequested)return;const d=e.filter(h=>EB(h,i));if(!d.length||d.length===1&&d[0].id==="text"){yield this.applyDefaultPasteHandler(i,n,c.token);return}const u=yield this.getPasteEdits(d,i,l,t,c.token);if(c.token.isCancellationRequested)return;if(u.length===1&&u[0].providerId==="text"){yield this.applyDefaultPasteHandler(i,n,c.token);return}if(u.length){const h=a.getOption(84).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(t,{activeEditIndex:0,allEdits:u},h,c.token)}yield this.applyDefaultPasteHandler(i,n,c.token)}finally{c.dispose(),this._currentPasteOperation===o&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(t[0].getEndPosition(),f("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","pasteIntoEditorProgress","Running paste handlers. Click to cancel"),o),this._currentPasteOperation=o}showPasteAsPick(e,t,i,n,o){const r=Vi(a=>Sl(this,void 0,void 0,function*(){const l=this._editor;if(!l.hasModel())return;const c=l.getModel(),d=new Pd(l,3,void 0,a);try{if(yield this.mergeInDataFromCopy(n,o,d.token),d.token.isCancellationRequested)return;let u=t.filter(p=>EB(p,n));e&&(u=u.filter(p=>p.id===e));const h=yield this.getPasteEdits(u,n,c,i,d.token);if(d.token.isCancellationRequested||!h.length)return;let g;if(e)g=h.at(0);else{const p=yield this._quickInputService.pick(h.map(_=>({label:_.label,description:_.providerId,detail:_.detail,edit:_})),{placeHolder:f("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","pasteAsPickerPlaceholder","Select Paste Action")});g=p==null?void 0:p.edit}if(!g)return;const m=dfe(c.uri,i,g);yield this._bulkEditService.apply(m,{editor:this._editor})}finally{d.dispose(),this._currentPasteOperation===r&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:f("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","pasteAsProgress","Running paste handlers")},()=>r)}setCopyMetadata(e,t){e.setData(Dx,JSON.stringify(t))}fetchCopyMetadata(e){var t;if(!e.clipboardData)return;const i=e.clipboardData.getData(Dx);if(i)try{return JSON.parse(i)}catch(r){return}const[n,o]=yI.getTextData(e.clipboardData);if(o)return{defaultPastePayload:{mode:o.mode,multicursorText:(t=o.multicursorText)!==null&&t!==void 0?t:null,pasteOnNewLine:!!o.isFromEmptySelection}}}mergeInDataFromCopy(e,t,i){var n;return Sl(this,void 0,void 0,function*(){if(t!=null&&t.id&&((n=this._currentCopyOperation)===null||n===void 0?void 0:n.handle)===t.id){const o=yield this._currentCopyOperation.dataTransferPromise;if(i.isCancellationRequested)return;for(const[r,a]of o)e.replace(r,a)}if(!e.has(pi.uriList)){const o=yield this._clipboardService.readResources();if(i.isCancellationRequested)return;o.length&&e.append(pi.uriList,$M(nk.create(o)))}})}getPasteEdits(e,t,i,n,o){return Sl(this,void 0,void 0,function*(){const r=yield WS(Promise.all(e.map(l=>Sl(this,void 0,void 0,function*(){var c;try{const d=yield(c=l.provideDocumentPasteEdits)===null||c===void 0?void 0:c.call(l,i,n,t,o);if(d)return Object.assign(Object.assign({},d),{providerId:l.id})}catch(d){console.error(d)}}))),o),a=Qa(r!=null?r:[]);return f6(a)})}applyDefaultPasteHandler(e,t,i){var n,o,r;return Sl(this,void 0,void 0,function*(){const a=(n=e.get(pi.text))!==null&&n!==void 0?n:e.get("text");if(!a)return;const l=yield a.asString();if(i.isCancellationRequested)return;const c={text:l,pasteOnNewLine:(o=t==null?void 0:t.defaultPastePayload.pasteOnNewLine)!==null&&o!==void 0?o:!1,multicursorText:(r=t==null?void 0:t.defaultPastePayload.multicursorText)!==null&&r!==void 0?r:null,mode:null};this._editor.trigger("keyboard","paste",c)})}};Rh.ID="editor.contrib.copyPasteActionController";Rh=XE=mfe([xg(1,Ae),xg(2,Bv),xg(3,pc),xg(4,me),xg(5,ca),xg(6,o7)],Rh);function EB(s,e){var t;return!!(!((t=s.pasteMimeTypes)===null||t===void 0)&&t.some(i=>e.matches(i)))}var jM=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},X_=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},km=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const KM=f("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","builtIn","Built-in");class qM{provideDocumentPasteEdits(e,t,i,n){return km(this,void 0,void 0,function*(){const o=yield this.getEdit(i,n);return o?{insertText:o.insertText,label:o.label,detail:o.detail,handledMimeType:o.handledMimeType,yieldTo:o.yieldTo}:void 0})}provideDocumentOnDropEdits(e,t,i,n){return km(this,void 0,void 0,function*(){const o=yield this.getEdit(i,n);return o?{insertText:o.insertText,label:o.label,handledMimeType:o.handledMimeType,yieldTo:o.yieldTo}:void 0})}}class _6 extends qM{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[pi.text],this.pasteMimeTypes=[pi.text]}getEdit(e,t){return km(this,void 0,void 0,function*(){const i=e.get(pi.text);if(!i||e.has(pi.uriList))return;const n=yield i.asString();return{handledMimeType:pi.text,label:f("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","text.label","Insert Plain Text"),detail:KM,insertText:n}})}}class v6 extends qM{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[pi.uriList],this.pasteMimeTypes=[pi.uriList]}getEdit(e,t){return km(this,void 0,void 0,function*(){const i=yield w6(e);if(!i.length||t.isCancellationRequested)return;let n=0;const o=i.map(({uri:a,originalText:l})=>a.scheme===qe.file?a.fsPath:(n++,l)).join(" ");let r;return n>0?r=i.length>1?f("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","defaultDropProvider.uriList.uris","Insert Uris"):f("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","defaultDropProvider.uriList.uri","Insert Uri"):r=i.length>1?f("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","defaultDropProvider.uriList.paths","Insert Paths"):f("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:pi.uriList,insertText:o,label:r,detail:KM}})}}let lS=class extends qM{constructor(e){super(),this._workspaceContextService=e,this.id="relativePath",this.dropMimeTypes=[pi.uriList],this.pasteMimeTypes=[pi.uriList]}getEdit(e,t){return km(this,void 0,void 0,function*(){const i=yield w6(e);if(!i.length||t.isCancellationRequested)return;const n=Qa(i.map(({uri:o})=>{const r=this._workspaceContextService.getWorkspaceFolder(o);return r?LJ(r.uri,o):void 0}));if(n.length)return{handledMimeType:pi.uriList,insertText:n.join(" "),label:i.length>1?f("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):f("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","defaultDropProvider.uriList.relativePath","Insert Relative Path"),detail:KM}})}};lS=jM([X_(0,vh)],lS);function w6(s){return km(this,void 0,void 0,function*(){const e=s.get(pi.uriList);if(!e)return[];const t=yield e.asString(),i=[];for(const n of nk.parse(t))try{i.push({uri:De.parse(n),originalText:n})}catch(o){}return i})}let JE=class extends H{constructor(e,t){super(),this._register(e.documentOnDropEditProvider.register("*",new _6)),this._register(e.documentOnDropEditProvider.register("*",new v6)),this._register(e.documentOnDropEditProvider.register("*",new lS(t)))}};JE=jM([X_(0,me),X_(1,vh)],JE);let eN=class extends H{constructor(e,t){super(),this._register(e.documentPasteEditProvider.register("*",new _6)),this._register(e.documentPasteEditProvider.register("*",new v6)),this._register(e.documentPasteEditProvider.register("*",new lS(t)))}};eN=jM([X_(0,me),X_(1,vh)],eN);gt(Rh.ID,Rh,0);Ay(eN);re(new class extends nn{constructor(){super({id:p6,precondition:b6,kbOpts:{weight:100,primary:2137}})}runEditorCommand(s,e,t){var i;return(i=Rh.get(e))===null||i===void 0?void 0:i.changePasteType()}});ne(class extends ge{constructor(){super({id:"editor.action.pasteAs",label:f("vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","pasteAs","Paste As..."),alias:"Paste As...",precondition:void 0,description:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:f("vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","pasteAs.id","The id of the paste edit to try applying. If not provided, the editor will show a picker.")}}}}]}})}run(s,e,t){var i;const n=typeof(t==null?void 0:t.id)=="string"?t.id:void 0;return(i=Rh.get(e))===null||i===void 0?void 0:i.pasteAs(n)}});class pfe{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(e){if(e&&this._dragOperations.has(e)){const t=this._dragOperations.get(e);return this._dragOperations.delete(e),t}}}class NB{constructor(e){this.identifier=e}}const C6=et("treeViewsDndService");ct(C6,pfe,1);var bfe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},pw=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Tp=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},tN;const S6="editor.experimental.dropIntoEditor.defaultProvider",y6="editor.changeDropType",k6=new de("dropWidgetVisible",!1,f("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","dropWidgetVisible","Whether the drop widget is showing"));let Lm=tN=class extends H{static get(e){return e.getContribution(tN.ID)}constructor(e,t,i,n,o){super(),this._configService=i,this._languageFeaturesService=n,this._treeViewsDragAndDropService=o,this.treeItemsTransfer=Y_.getInstance(),this._dropProgressManager=this._register(t.createInstance(sS,"dropIntoEditor",e)),this._postDropWidgetManager=this._register(t.createInstance(aS,"dropIntoEditor",e,k6,{id:y6,label:f("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","postDropWidgetTitle","Show drop options...")})),this._register(e.onDropIntoEditor(r=>this.onDropIntoEditor(e,r.position,r.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(e,t,i){var n;return Tp(this,void 0,void 0,function*(){if(!i.dataTransfer||!e.hasModel())return;(n=this._currentOperation)===null||n===void 0||n.cancel(),e.focus(),e.setPosition(t);const o=Vi(r=>Tp(this,void 0,void 0,function*(){const a=new Pd(e,1,void 0,r);try{const l=yield this.extractDataTransferData(i);if(l.size===0||a.token.isCancellationRequested)return;const c=e.getModel();if(!c)return;const d=this._languageFeaturesService.documentOnDropEditProvider.ordered(c).filter(h=>h.dropMimeTypes?h.dropMimeTypes.some(g=>l.matches(g)):!0),u=yield this.getDropEdits(d,c,t,l,a);if(a.token.isCancellationRequested)return;if(u.length){const h=this.getInitialActiveEditIndex(c,u),g=e.getOption(36).showDropSelector==="afterDrop";yield this._postDropWidgetManager.applyEditAndShowIfNeeded([k.fromPositions(t)],{activeEditIndex:h,allEdits:u},g,r)}}finally{a.dispose(),this._currentOperation===o&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(t,f("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","dropIntoEditorProgress","Running drop handlers. Click to cancel"),o),this._currentOperation=o})}getDropEdits(e,t,i,n,o){return Tp(this,void 0,void 0,function*(){const r=yield WS(Promise.all(e.map(l=>Tp(this,void 0,void 0,function*(){try{const c=yield l.provideDocumentOnDropEdits(t,i,n,o.token);if(c)return Object.assign(Object.assign({},c),{providerId:l.id})}catch(c){console.error(c)}}))),o.token),a=Qa(r!=null?r:[]);return f6(a)})}getInitialActiveEditIndex(e,t){const i=this._configService.getValue(S6,{resource:e.uri});for(const[n,o]of Object.entries(i)){const r=t.findIndex(a=>o===a.providerId&&a.handledMimeType&&d6(n,[a.handledMimeType]));if(r>=0)return r}return 0}extractDataTransferData(e){return Tp(this,void 0,void 0,function*(){if(!e.dataTransfer)return new c6;const t=g6(e.dataTransfer);if(this.treeItemsTransfer.hasData(NB.prototype)){const i=this.treeItemsTransfer.getData(NB.prototype);if(Array.isArray(i))for(const n of i){const o=yield this._treeViewsDragAndDropService.removeDragOperationTransfer(n.identifier);if(o)for(const[r,a]of o)t.replace(r,a)}}return t})}};Lm.ID="editor.contrib.dropIntoEditorController";Lm=tN=bfe([pw(1,Ae),pw(2,ot),pw(3,me),pw(4,C6)],Lm);gt(Lm.ID,Lm,2);re(new class extends nn{constructor(){super({id:y6,precondition:k6,kbOpts:{weight:100,primary:2137}})}runEditorCommand(s,e,t){var i;(i=Lm.get(e))===null||i===void 0||i.changeDropType()}});Ay(JE);Jt.as(la.Configuration).registerConfiguration(Object.assign(Object.assign({},hy),{properties:{[S6]:{type:"object",scope:5,description:f("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}}));class Kn{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getDecorationRangeAt(e){const t=e<this._decorations.length?this._decorations[e]:null;return t?this._editor.getModel().getDecorationRange(t):null}getCurrentMatchesPosition(e){const t=this._editor.getModel().getDecorationsInRange(e);for(const i of t){const n=i.options;if(n===Kn._FIND_MATCH_DECORATION||n===Kn._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let n=0,o=this._decorations.length;n<o;n++){const r=this._editor.getModel().getDecorationRange(this._decorations[n]);if(e.equalsRange(r)){t=this._decorations[n],i=n+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(n=>{if(this._highlightedDecorationId!==null&&(n.changeDecorationOptions(this._highlightedDecorationId,Kn._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,n.changeDecorationOptions(this._highlightedDecorationId,Kn._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let o=this._editor.getModel().getDecorationRange(t);if(o.startLineNumber!==o.endLineNumber&&o.endColumn===1){const r=o.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(r);o=new k(o.startLineNumber,o.startColumn,r,a)}this._rangeHighlightDecorationId=n.addDecoration(o,Kn._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let n=Kn._FIND_MATCH_DECORATION;const o=[];if(e.length>1e3){n=Kn._FIND_MATCH_NO_OVERVIEW_DECORATION;const a=this._editor.getModel().getLineCount(),c=this._editor.getLayoutInfo().height/a,d=Math.max(2,Math.ceil(3/c));let u=e[0].range.startLineNumber,h=e[0].range.endLineNumber;for(let g=1,m=e.length;g<m;g++){const p=e[g].range;h+d>=p.startLineNumber?p.endLineNumber>h&&(h=p.endLineNumber):(o.push({range:new k(u,1,h,1),options:Kn._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),u=p.startLineNumber,h=p.endLineNumber)}o.push({range:new k(u,1,h,1),options:Kn._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const r=new Array(e.length);for(let a=0,l=e.length;a<l;a++)r[a]={range:e[a].range,options:n};this._decorations=i.deltaDecorations(this._decorations,r),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>i.removeDecoration(a)),this._findScopeDecorationIds=[]),t!=null&&t.length&&(this._findScopeDecorationIds=t.map(a=>i.addDecoration(a,Kn._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){const i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(!(!n||n.endLineNumber>e.lineNumber)){if(n.endLineNumber<e.lineNumber)return n;if(!(n.endColumn>e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,i=this._decorations.length;t<i;t++){const n=this._decorations[t],o=this._editor.getModel().getDecorationRange(n);if(!(!o||o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}Kn._CURRENT_FIND_MATCH_DECORATION=Ve.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:ti(XA),position:ds.Center},minimap:{color:ti(Xg),position:Bo.Inline}});Kn._FIND_MATCH_DECORATION=Ve.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:ti(XA),position:ds.Center},minimap:{color:ti(Xg),position:Bo.Inline}});Kn._FIND_MATCH_NO_OVERVIEW_DECORATION=Ve.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0});Kn._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Ve.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:ti(XA),position:ds.Center}});Kn._RANGE_HIGHLIGHT_DECORATION=Ve.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0});Kn._FIND_SCOPE_DECORATION=Ve.register({description:"find-scope",className:"findScope",isWholeLine:!0});class _fe{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){const i=[];for(let r=0;r<this._ranges.length;r++)i.push({range:this._ranges[r],text:this._replaceStrings[r]});i.sort((r,a)=>k.compareRangesUsingStarts(r.range,a.range));const n=[];let o=i[0];for(let r=1;r<i.length;r++)o.range.endLineNumber===i[r].range.startLineNumber&&o.range.endColumn===i[r].range.startColumn?(o.range=o.range.plusRange(i[r].range),o.text=o.text+i[r].text):(n.push(o),o=i[r]);n.push(o);for(const r of n)t.addEditOperation(r.range,r.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function L6(s,e){if(s&&s[0]!==""){const t=AB(s,e,"-"),i=AB(s,e,"_");return t&&!i?RB(s,e,"-"):!t&&i?RB(s,e,"_"):s[0].toUpperCase()===s[0]?e.toUpperCase():s[0].toLowerCase()===s[0]?e.toLowerCase():t$(s[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):s[0][0].toUpperCase()!==s[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function AB(s,e,t){return s[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&s[0].split(t).length===e.split(t).length}function RB(s,e,t){const i=e.split(t),n=s[0].split(t);let o="";return i.forEach((r,a)=>{o+=L6([n[a]],r)+t}),o.slice(0,-1)}class MB{constructor(e){this.staticValue=e,this.kind=0}}class vfe{constructor(e){this.pieces=e,this.kind=1}}class xm{static fromStaticValue(e){return new xm([ah.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(e){!e||e.length===0?this._state=new MB(""):e.length===1&&e[0].staticValue!==null?this._state=new MB(e[0].staticValue):this._state=new vfe(e)}buildReplaceString(e,t){if(this._state.kind===0)return t?L6(e,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,o=this._state.pieces.length;n<o;n++){const r=this._state.pieces[n];if(r.staticValue!==null){i+=r.staticValue;continue}let a=xm._substitute(r.matchIndex,e);if(r.caseOps!==null&&r.caseOps.length>0){const l=[],c=r.caseOps.length;let d=0;for(let u=0,h=a.length;u<h;u++){if(d>=c){l.push(a.slice(u));break}switch(r.caseOps[d]){case"U":l.push(a[u].toUpperCase());break;case"u":l.push(a[u].toUpperCase()),d++;break;case"L":l.push(a[u].toLowerCase());break;case"l":l.push(a[u].toLowerCase()),d++;break;default:l.push(a[u])}}a=l.join("")}i+=a}return i}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class ah{static staticValue(e){return new ah(e,-1,null)}static caseOps(e,t){return new ah(null,e,t)}constructor(e,t,i){this.staticValue=e,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}}class wfe{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=ah.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=ah.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=ah.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new xm(this._result)}}function Cfe(s){if(!s||s.length===0)return new xm(null);const e=[],t=new wfe(s);for(let i=0,n=s.length;i<n;i++){const o=s.charCodeAt(i);if(o===92){if(i++,i>=n)break;const r=s.charCodeAt(i);switch(r){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),e.push(String.fromCharCode(r));break}continue}if(o===36){if(i++,i>=n)break;const r=s.charCodeAt(i);if(r===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(r===48||r===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,e),e.length=0;continue}if(49<=r&&r<=57){let a=r-48;if(i+1<n){const l=s.charCodeAt(i+1);if(48<=l&&l<=57){i++,a=a*10+(l-48),t.emitUnchanged(i-2),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}}return t.finalize()}const bc=new de("findWidgetVisible",!1);bc.toNegated();const sk=new de("findInputFocussed",!1),GM=new de("replaceInputFocussed",!1),bw={primary:545,mac:{primary:2593}},_w={primary:565,mac:{primary:2613}},vw={primary:560,mac:{primary:2608}},ww={primary:554,mac:{primary:2602}},Cw={primary:558,mac:{primary:2606}},Ot={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},td=19999,Sfe=240;class Nb{constructor(e,t){this._toDispose=new Y,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new gr,this._decorations=new Kn(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new xt(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,St(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},Sfe)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;typeof t!="undefined"?t!==null&&(Array.isArray(t)?i=t:i=[t]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(a=>{if(a.startLineNumber!==a.endLineNumber){let l=a.endLineNumber;return a.endColumn===1&&(l=l-1),new k(a.startLineNumber,1,l,this._editor.getModel().getLineMaxColumn(l))}return a}));const n=this._findMatches(i,!1,td);this._decorations.set(n,i);const o=this._editor.getSelection();let r=this._decorations.getCurrentMatchesPosition(o);if(r===0&&n.length>0){const a=n_(n.map(l=>l.range),l=>k.compareRangesUsingStarts(l,o)>=0);r=a>0?a-1+1:r}this._state.changeMatchInfo(r,this._decorations.getCount(),void 0),e&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){const t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:n}=e;const o=this._editor.getModel();return t||n===1?(i===1?i=o.getLineCount():i--,n=o.getLineMaxColumn(i)):n--,new P(i,n)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const d=this._decorations.matchAfterPosition(e);d&&this._setCurrentFindMatch(d);return}if(this._decorations.getCount()<td){let d=this._decorations.matchBeforePosition(e);d&&d.isEmpty()&&d.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),d=this._decorations.matchBeforePosition(e)),d&&this._setCurrentFindMatch(d);return}if(this._cannotFind())return;const i=this._decorations.getFindScope(),n=Nb._getSearchRange(this._editor.getModel(),i);n.getEndPosition().isBefore(e)&&(e=n.getEndPosition()),e.isBefore(n.getStartPosition())&&(e=n.getEndPosition());const{lineNumber:o,column:r}=e,a=this._editor.getModel();let l=new P(o,r),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,!1)),!!c){if(!t&&!n.containsRange(c.range))return this._moveToPrevMatch(c.range.getStartPosition(),!0);this._setCurrentFindMatch(c.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:n}=e;const o=this._editor.getModel();return t||n===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,n=1):n++,new P(i,n)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const i=this._decorations.matchBeforePosition(e);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<td){let i=this._decorations.matchAfterPosition(e);i&&i.isEmpty()&&i.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),i=this._decorations.matchAfterPosition(e)),i&&this._setCurrentFindMatch(i);return}const t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,n=!1){if(this._cannotFind())return null;const o=this._decorations.getFindScope(),r=Nb._getSearchRange(this._editor.getModel(),o);r.getEndPosition().isBefore(e)&&(e=r.getStartPosition()),e.isBefore(r.getStartPosition())&&(e=r.getStartPosition());const{lineNumber:a,column:l}=e,c=this._editor.getModel();let d=new P(a,l),u=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,t);return i&&u&&u.range.isEmpty()&&u.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),u=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,t)),u?!n&&!r.containsRange(u.range)?this._getNextMatch(u.range.getEndPosition(),t,i,!0):u:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(e){const t=this._decorations.getDecorationRangeAt(e);t&&this._setCurrentFindMatch(t)}moveToMatch(e){this._moveToMatch(e)}_getReplacePattern(){return this._state.isRegex?Cfe(this._state.replaceString):xm.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){const n=e.buildReplaceString(i.matches,this._state.preserveCase),o=new Sn(t,n);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new P(t.startLineNumber,t.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const n=(e||[null]).map(o=>Nb._getSearchRange(this._editor.getModel(),o));return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=td?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const t=new Su(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null).parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let u="mu";i.ignoreCase&&(u+="i"),i.global&&(u+="g"),i=new RegExp(i.source,u)}const n=this._editor.getModel(),o=n.getValue(1),r=n.getFullModelRange(),a=this._getReplacePattern();let l;const c=this._state.preserveCase;a.hasReplacementPatterns||c?l=o.replace(i,function(){return a.buildReplaceString(arguments,c)}):l=o.replace(i,a.buildReplaceString(null,c));const d=new rR(r,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",d)}_regularReplaceAll(e){const t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[];for(let r=0,a=i.length;r<a;r++)n[r]=t.buildReplaceString(i[r].matches,this._state.preserveCase);const o=new _fe(this._editor.getSelection(),i.map(r=>r.range),n);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();let i=this._findMatches(e,!1,1073741824).map(o=>new _e(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn));const n=this._editor.getSelection();for(let o=0,r=i.length;o<r;o++)if(i[o].equalsRange(n)){i=[n].concat(i.slice(0,o)).concat(i.slice(o+1));break}this._editor.setSelections(i)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}class rk extends fr{constructor(e,t,i){super(),this._hideSoon=this._register(new xt(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const n={inputActiveOptionBorder:ue(ZA),inputActiveOptionForeground:ue(QA),inputActiveOptionBackground:ue(Uu)};this.caseSensitive=this._register(new P7(Object.assign({appendTitle:this._keybindingLabelFor(Ot.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase},n))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new O7(Object.assign({appendTitle:this._keybindingLabelFor(Ot.ToggleWholeWordCommand),isChecked:this._state.wholeWord},n))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new F7(Object.assign({appendTitle:this._keybindingLabelFor(Ot.ToggleRegexCommand),isChecked:this._state.isRegex},n))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(o=>{let r=!1;o.isRegex&&(this.regex.checked=this._state.isRegex,r=!0),o.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,r=!0),o.matchCase&&(this.caseSensitive.checked=this._state.matchCase,r=!0),!this._state.isRevealed&&r&&this._revealTemporarily()})),this._register($(this._domNode,ae.MOUSE_LEAVE,o=>this._onMouseLeave())),this._register($(this._domNode,"mouseover",o=>this._onMouseOver()))}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return rk.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}rk.ID="editor.contrib.findOptionsWidget";function Sw(s,e){return s===1?!0:s===2?!1:e}class yfe extends H{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Sw(this._isRegexOverride,this._isRegex)}get wholeWord(){return Sw(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Sw(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Sw(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new M),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(e,t,i){const n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,n.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,n.matchesCount=!0,o=!0),typeof i!="undefined"&&(k.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(n)}change(e,t,i=!0){var n;const o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let r=!1;const a=this.isRegex,l=this.wholeWord,c=this.matchCase,d=this.preserveCase;typeof e.searchString!="undefined"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,r=!0),typeof e.replaceString!="undefined"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,r=!0),typeof e.isRevealed!="undefined"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,r=!0),typeof e.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,r=!0),typeof e.isRegex!="undefined"&&(this._isRegex=e.isRegex),typeof e.wholeWord!="undefined"&&(this._wholeWord=e.wholeWord),typeof e.matchCase!="undefined"&&(this._matchCase=e.matchCase),typeof e.preserveCase!="undefined"&&(this._preserveCase=e.preserveCase),typeof e.searchScope!="undefined"&&(!((n=e.searchScope)===null||n===void 0)&&n.every(u=>{var h;return(h=this._searchScope)===null||h===void 0?void 0:h.some(g=>!k.equalsRange(g,u))})||(this._searchScope=e.searchScope,o.searchScope=!0,r=!0)),typeof e.loop!="undefined"&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,r=!0),typeof e.isSearching!="undefined"&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,o.isSearching=!0,r=!0),typeof e.filters!="undefined"&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,o.filters=!0,r=!0),this._isRegexOverride=typeof e.isRegexOverride!="undefined"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride!="undefined"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride!="undefined"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride!="undefined"?e.preserveCaseOverride:0,a!==this.isRegex&&(r=!0,o.isRegex=!0),l!==this.wholeWord&&(r=!0,o.wholeWord=!0),c!==this.matchCase&&(r=!0,o.matchCase=!0),d!==this.preserveCase&&(r=!0,o.preserveCase=!0),r&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=td}}const kfe=f("vs/base/browser/ui/findinput/replaceInput","defaultLabel","input"),Lfe=f("vs/base/browser/ui/findinput/replaceInput","label.preserveCaseToggle","Preserve Case");class xfe extends jm{constructor(e){super({icon:se.preserveCase,title:Lfe+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Dfe extends fr{constructor(e,t,i,n){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new M),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new M),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new M),this._onInput=this._register(new M),this._onKeyUp=this._register(new M),this._onPreserveCaseKeyDown=this._register(new M),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||kfe;const o=n.appendPreserveCaseLabel||"",r=n.history||[],a=!!n.flexibleHeight,l=!!n.flexibleWidth,c=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new B7(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:r,showHistoryHint:n.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:c,inputBoxStyles:n.inputBoxStyles})),this.preserveCase=this._register(new xfe(Object.assign({appendTitle:o,isChecked:!1},n.toggleStyles))),this._register(this.preserveCase.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(h=>{this._onPreserveCaseKeyDown.fire(h)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const d=[this.preserveCase.domNode];this.onkeydown(this.domNode,h=>{if(h.equals(15)||h.equals(17)||h.equals(9)){const g=d.indexOf(document.activeElement);if(g>=0){let m=-1;h.equals(17)?m=(g+1)%d.length:h.equals(15)&&(g===0?m=d.length-1:m=g-1),h.equals(9)?(d[g].blur(),this.inputBox.focus()):m>=0&&d[m].focus(),je.stop(h,!0)}}});const u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.preserveCase.domNode),this.domNode.appendChild(u),e==null||e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,h=>this._onKeyDown.fire(h)),this.onkeyup(this.inputBox.inputElement,h=>this._onKeyUp.fire(h)),this.oninput(this.inputBox.inputElement,h=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,h=>this._onMouseDown.fire(h))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){var e;(e=this.inputBox)===null||e===void 0||e.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var x6=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},D6=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};const ZM=new de("suggestWidgetVisible",!1,f("vs/platform/history/browser/contextScopedHistoryWidget","suggestWidgetVisible","Whether suggestion are visible")),QM="historyNavigationWidgetFocus",I6="historyNavigationForwardsEnabled",T6="historyNavigationBackwardsEnabled";let oc;const yw=[];function E6(s,e){if(yw.includes(e))throw new Error("Cannot register the same widget multiple times");yw.push(e);const t=new Y,i=new de(QM,!1).bindTo(s),n=new de(I6,!0).bindTo(s),o=new de(T6,!0).bindTo(s),r=()=>{i.set(!0),oc=e},a=()=>{i.set(!1),oc===e&&(oc=void 0)};return e.element===document.activeElement&&r(),t.add(e.onDidFocus(()=>r())),t.add(e.onDidBlur(()=>a())),t.add(Re(()=>{yw.splice(yw.indexOf(e),1),a()})),{historyNavigationForwardsEnablement:n,historyNavigationBackwardsEnablement:o,dispose(){t.dispose()}}}let iN=class extends W7{constructor(e,t,i,n){super(e,t,i);const o=this._register(n.createScoped(this.inputBox.element));this._register(E6(o,this.inputBox))}};iN=x6([D6(3,Me)],iN);let nN=class extends Dfe{constructor(e,t,i,n,o=!1){super(e,t,o,i);const r=this._register(n.createScoped(this.inputBox.element));this._register(E6(r,this.inputBox))}};nN=x6([D6(3,Me)],nN);yo.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Z.and(Z.has(QM),Z.equals(T6,!0),Z.not("isComposing"),ZM.isEqualTo(!1)),primary:16,secondary:[528],handler:s=>{oc==null||oc.showPreviousValue()}});yo.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Z.and(Z.has(QM),Z.equals(I6,!0),Z.not("isComposing"),ZM.isEqualTo(!1)),primary:18,secondary:[530],handler:s=>{oc==null||oc.showNextValue()}});function PB(s){var e,t;return((e=s.lookupKeybinding("history.showPrevious"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Up"&&((t=s.lookupKeybinding("history.showNext"))===null||t===void 0?void 0:t.getElectronAccelerator())==="Down"}var Ife=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const Tfe=_i("find-selection",se.selection,f("vs/editor/contrib/find/browser/findWidget","findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),OB=_i("find-collapsed",se.chevronRight,f("vs/editor/contrib/find/browser/findWidget","findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),FB=_i("find-expanded",se.chevronDown,f("vs/editor/contrib/find/browser/findWidget","findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),Efe=_i("find-replace",se.replace,f("vs/editor/contrib/find/browser/findWidget","findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Nfe=_i("find-replace-all",se.replaceAll,f("vs/editor/contrib/find/browser/findWidget","findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Afe=_i("find-previous-match",se.arrowUp,f("vs/editor/contrib/find/browser/findWidget","findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Rfe=_i("find-next-match",se.arrowDown,f("vs/editor/contrib/find/browser/findWidget","findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Mfe=f("vs/editor/contrib/find/browser/findWidget","label.findDialog","Find / Replace"),Pfe=f("vs/editor/contrib/find/browser/findWidget","label.find","Find"),Ofe=f("vs/editor/contrib/find/browser/findWidget","placeholder.find","Find"),Ffe=f("vs/editor/contrib/find/browser/findWidget","label.previousMatchButton","Previous Match"),Bfe=f("vs/editor/contrib/find/browser/findWidget","label.nextMatchButton","Next Match"),Wfe=f("vs/editor/contrib/find/browser/findWidget","label.toggleSelectionFind","Find in Selection"),Vfe=f("vs/editor/contrib/find/browser/findWidget","label.closeButton","Close"),Hfe=f("vs/editor/contrib/find/browser/findWidget","label.replace","Replace"),zfe=f("vs/editor/contrib/find/browser/findWidget","placeholder.replace","Replace"),Ufe=f("vs/editor/contrib/find/browser/findWidget","label.replaceButton","Replace"),$fe=f("vs/editor/contrib/find/browser/findWidget","label.replaceAllButton","Replace All"),jfe=f("vs/editor/contrib/find/browser/findWidget","label.toggleReplaceButton","Toggle Replace"),Kfe=f("vs/editor/contrib/find/browser/findWidget","title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",td),qfe=f("vs/editor/contrib/find/browser/findWidget","label.matchesLocation","{0} of {1}"),BB=f("vs/editor/contrib/find/browser/findWidget","label.noResults","No results"),fa=419,Gfe=275,Zfe=Gfe-54;let Ep=69;const Qfe=33,WB="ctrlEnterReplaceAll.windows.donotask",VB=at?256:2048;class Ix{constructor(e){this.afterLineNumber=e,this.heightInPx=Qfe,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function HB(s,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionStart>0){s.stopPropagation();return}}function zB(s,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionEnd<t.value.length){s.stopPropagation();return}}class ak extends fr{constructor(e,t,i,n,o,r,a,l,c){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=n,this._keybindingService=o,this._contextKeyService=r,this._storageService=l,this._notificationService=c,this._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean(WB,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new hr(500),this._register(Re(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(d=>this._onStateChanged(d))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(d=>{if(d.hasChanged(90)&&(this._codeEditor.getOption(90)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),d.hasChanged(143)&&this._tryUpdateWidgetWidth(),d.hasChanged(2)&&this.updateAccessibilitySupport(),d.hasChanged(41)){const u=this._codeEditor.getOption(41).loop;this._state.change({loop:u},!1);const h=this._codeEditor.getOption(41).addExtraSpaceOnTop;h&&!this._viewZone&&(this._viewZone=new Ix(0),this._showViewZone()),!h&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Ife(this,void 0,void 0,function*(){if(this._isVisible){const d=yield this._controller.getGlobalBufferTerm();d&&d!==this._state.searchString&&(this._state.change({searchString:d},!1),this._findInput.select())}}))),this._findInputFocused=sk.bindTo(r),this._findFocusTracker=this._register(Ja(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=GM.bindTo(r),this._replaceFocusTracker=this._register(Ja(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new Ix(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(d=>{if(d.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ak.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(90)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=bo(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){const t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,He)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=Ep+"px",this._state.matchesCount>=td?this._matchesCount.title=Kfe:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let e;if(this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=td&&(t+="+");let i=String(this._state.matchesPosition);i==="0"&&(i="?"),e=uh(qfe,i,t)}else e=BB;this._matchesCount.appendChild(document.createTextNode(e)),Fn(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),Ep=Math.max(Ep,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===BB)return i===""?f("vs/editor/contrib/find/browser/findWidget","ariaSearchNoResultEmpty","{0} found",e):f("vs/editor/contrib/find/browser/findWidget","ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){const n=f("vs/editor/contrib/find/browser/findWidget","ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1?`${o.getLineContent(t.startLineNumber)}, ${n}`:n}return f("vs/editor/contrib/find/browser/findWidget","ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){const e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const i=!this._codeEditor.getOption(90);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const i=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=i;break}}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const n=Pi(i),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),r=n.left+(o?o.left:0),a=o?o.top:0;if(this._viewZone&&a<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const l=jW(this._domNode).left;r>l&&(t=!1);const c=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());n.left+(c?c.left:0)>l&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const i=this._viewZone;this._viewZoneId!==void 0||!i||this._codeEditor.changeViewZones(n=>{i.heightInPx=this._getHeight(),this._viewZoneId=n.addZone(i),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+i.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Ix(0));const i=this._viewZone;this._codeEditor.changeViewZones(n=>{if(this._viewZoneId!==void 0){const o=this._getHeight();if(o===i.heightInPx)return;const r=o-i.heightInPx;i.heightInPx=o,n.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+r);return}else{let o=this._getHeight();if(o-=this._codeEditor.getOption(83).top,o<=0)return;i.heightInPx=o,this._viewZoneId=n.addZone(i),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!NA(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const i=e.width,n=e.minimap.minimapWidth;let o=!1,r=!1,a=!1;if(this._resized&&bo(this._domNode)>fa){this._domNode.style.maxWidth=`${i-28-n-15}px`,this._replaceInput.width=bo(this._findInput.domNode);return}if(fa+28+n>=i&&(r=!0),fa+28+n-Ep>=i&&(a=!0),fa+28+n-Ep>=i+50&&(o=!0),this._domNode.classList.toggle("collapsed-find-widget",o),this._domNode.classList.toggle("narrow-find-widget",a),this._domNode.classList.toggle("reduced-find-widget",r),!a&&!o&&(this._domNode.style.maxWidth=`${i-28-n-15}px`),this._findInput.layout({collapsedFindWidget:o,narrowFindWidget:a,reducedFindWidget:r}),this._resized){const l=this._findInput.inputBox.element.clientWidth;l>0&&(this._replaceInput.width=l)}else this._isReplaceVisible&&(this._replaceInput.width=bo(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));const i=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!k.equalsRange(t,i)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(VB|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return HB(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return zB(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(VB|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{En&&Kr&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(f("vs/editor/contrib/find/browser/findWidget","ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(WB,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return HB(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return zB(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new iN(null,this._contextViewProvider,{width:Zfe,label:Pfe,placeholder:Ofe,appendCaseSensitiveLabel:this._keybindingLabelFor(Ot.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Ot.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Ot.ToggleRegexCommand),validation:l=>{if(l.length===0||!this._findInput.getRegex())return null;try{return new RegExp(l,"gu"),null}catch(c){return{content:c.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>PB(this._keybindingService),inputBoxStyles:y1,toggleStyles:S1},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(l=>this._onFindInputKeyDown(l))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(l=>{l.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),l.preventDefault())})),this._register(this._findInput.onRegexKeyDown(l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),l.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(l=>{this._tryUpdateHeight()&&this._showViewZone()})),Qn&&this._register(this._findInput.onMouseDown(l=>this._onFindInputMouseDown(l))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Dg({label:Ffe+this._keybindingLabelFor(Ot.PreviousMatchFindAction),icon:Afe,onTrigger:()=>{Vu(this._codeEditor.getAction(Ot.PreviousMatchFindAction)).run().then(void 0,He)}})),this._nextBtn=this._register(new Dg({label:Bfe+this._keybindingLabelFor(Ot.NextMatchFindAction),icon:Rfe,onTrigger:()=>{Vu(this._codeEditor.getAction(Ot.NextMatchFindAction)).run().then(void 0,He)}}));const i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);const n=document.createElement("div");n.className="find-actions",i.appendChild(n),n.appendChild(this._matchesCount),n.appendChild(this._prevBtn.domNode),n.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new jm({icon:Tfe,title:Wfe+this._keybindingLabelFor(Ot.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:ue(Uu),inputActiveOptionBorder:ue(ZA),inputActiveOptionForeground:ue(QA)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const l=this._codeEditor.getSelections();l.map(c=>(c.endColumn===1&&c.endLineNumber>c.startLineNumber&&(c=c.setEndPosition(c.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(c.endLineNumber-1))),c.isEmpty()?null:c)).filter(c=>!!c),l.length&&this._state.change({searchScope:l},!0)}}else this._state.change({searchScope:null},!0)})),n.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Dg({label:Vfe+this._keybindingLabelFor(Ot.CloseFindWidgetCommand),icon:lV,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),l.preventDefault())}})),this._replaceInput=this._register(new nN(null,void 0,{label:Hfe,placeholder:zfe,appendPreserveCaseLabel:this._keybindingLabelFor(Ot.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>PB(this._keybindingService),inputBoxStyles:y1,toggleStyles:S1},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(l=>this._onReplaceInputKeyDown(l))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(l=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(l=>{l.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),l.preventDefault())})),this._replaceBtn=this._register(new Dg({label:Ufe+this._keybindingLabelFor(Ot.ReplaceOneAction),icon:Efe,onTrigger:()=>{this._controller.replace()},onKeyDown:l=>{l.equals(1026)&&(this._closeBtn.focus(),l.preventDefault())}})),this._replaceAllBtn=this._register(new Dg({label:$fe+this._keybindingLabelFor(Ot.ReplaceAllAction),icon:Nfe,onTrigger:()=>{this._controller.replaceAll()}}));const o=document.createElement("div");o.className="replace-part",o.appendChild(this._replaceInput.domNode);const r=document.createElement("div");r.className="replace-actions",o.appendChild(r),r.appendChild(this._replaceBtn.domNode),r.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Dg({label:jfe,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=bo(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=Mfe,this._domNode.role="dialog",this._domNode.style.width=`${fa}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(o),this._resizeSash=new An(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let a=fa;this._register(this._resizeSash.onDidStart(()=>{a=bo(this._domNode)})),this._register(this._resizeSash.onDidChange(l=>{this._resized=!0;const c=a+l.startX-l.currentX;if(c<fa)return;const d=parseFloat(OS(this._domNode).maxWidth)||0;c>d||(this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=bo(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const l=bo(this._domNode);if(l<fa)return;let c=fa;if(!this._resized||l===fa){const d=this._codeEditor.getLayoutInfo();c=d.width-28-d.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=bo(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}}ak.ID="editor.contrib.findWidget";class Dg extends fr{constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+Ie.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,i=>{this._opts.onTrigger(),i.preventDefault()}),this.onkeydown(this._domNode,i=>{var n,o;if(i.equals(10)||i.equals(3)){this._opts.onTrigger(),i.preventDefault();return}(o=(n=this._opts).onKeyDown)===null||o===void 0||o.call(n,i)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...Ie.asClassNameArray(OB)),this._domNode.classList.add(...Ie.asClassNameArray(FB))):(this._domNode.classList.remove(...Ie.asClassNameArray(FB)),this._domNode.classList.add(...Ie.asClassNameArray(OB)))}}mr((s,e)=>{const t=(p,_)=>{_&&e.addRule(`.monaco-editor ${p} { background-color: ${_}; }`)};t(".findMatch",s.getColor(za)),t(".currentFindMatch",s.getColor(hZ)),t(".findScope",s.getColor(gZ));const i=s.getColor(li);t(".find-widget",i);const n=s.getColor(Fa);n&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${n}; }`);const o=s.getColor(GA);o&&e.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${o}; border-right: 1px solid ${o}; border-bottom: 1px solid ${o}; }`);const r=s.getColor(qc);r&&e.addRule(`.monaco-editor .findMatch { border: 1px ${Qr(s.type)?"dotted":"solid"} ${r}; box-sizing: border-box; }`);const a=s.getColor(fZ);a&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${a}; padding: 1px; box-sizing: border-box; }`);const l=s.getColor(mZ);l&&e.addRule(`.monaco-editor .findScope { border: 1px ${Qr(s.type)?"dashed":"solid"} ${l}; }`);const c=s.getColor(nt);c&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${c}; }`);const d=s.getColor(Va);d&&e.addRule(`.monaco-editor .find-widget { color: ${d}; }`);const u=s.getColor(PG);u&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${u}; }`);const h=s.getColor(nZ);if(h)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${h}; }`);else{const p=s.getColor(Ha);p&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${p}; }`)}const g=s.getColor(CI);g&&e.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${g} !important;
		}
	`);const m=s.getColor(os);m&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${m}; }`)});var N6=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Rr=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Mh=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},oN;const Yfe=524288;function sN(s,e="single",t=!1){if(!s.hasModel())return null;const i=s.getSelection();if(e==="single"&&i.startLineNumber===i.endLineNumber||e==="multiple"){if(i.isEmpty()){const n=s.getConfiguredWordAtPosition(i.getStartPosition());if(n&&t===!1)return n.word}else if(s.getModel().getValueLengthInRange(i)<Yfe)return s.getModel().getValueInRange(i)}return null}let uo=oN=class extends H{get editor(){return this._editor}static get(e){return e.getContribution(oN.ID)}constructor(e,t,i,n,o){super(),this._editor=e,this._findWidgetVisible=bc.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=n,this._notificationService=o,this._updateHistoryDelayer=new hr(500),this._state=this._register(new yfe),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(r=>this._onStateChanged(r))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const r=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),r&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!sk.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const e=this._editor.getSelections();e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=cs(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return Mh(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const i=Object.assign(Object.assign({},t),{isRevealed:!0});if(e.seedSearchStringFromSelection==="single"){const n=sN(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);n&&(this._state.isRegex?i.searchString=cs(n):i.searchString=n)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){const n=sN(this._editor,e.seedSearchStringFromSelection);n&&(i.searchString=n)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){const n=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;n&&(i.searchString=n)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){const n=this._editor.getSelections();n.some(o=>!o.isEmpty())&&(i.searchScope=n)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new Nb(this._editor,this._state))})}start(e,t){return this._start(e,t)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(e){return this._model?(this._model.moveToMatch(e),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var e;return this._model?!((e=this._editor.getModel())===null||e===void 0)&&e.isTooLargeForHeapOperation()?(this._notificationService.warn(f("vs/editor/contrib/find/browser/findController","too.large.for.replaceall","The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Mh(this,void 0,void 0,function*(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};uo.ID="editor.contrib.findController";uo=oN=N6([Rr(1,Me),Rr(2,_r),Rr(3,pc),Rr(4,Li)],uo);let rN=class extends uo{constructor(e,t,i,n,o,r,a,l){super(e,i,a,l,r),this._contextViewService=t,this._keybindingService=n,this._themeService=o,this._widget=null,this._findOptionsWidget=null}_start(e,t){const i=Object.create(null,{_start:{get:()=>super._start}});return Mh(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const n=this._editor.getSelection();let o=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":{o=!!n&&n.startLineNumber!==n.endLineNumber;break}}e.updateSearchScope=e.updateSearchScope||o,yield i._start.call(this,e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new ak(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new rk(this._editor,this._state,this._keybindingService))}};rN=N6([Rr(1,gc),Rr(2,Me),Rr(3,Et),Rr(4,qi),Rr(5,Li),Rr(6,_r),Rr(7,pc)],rN);const Xfe=JW(new XW({id:Ot.StartFindAction,label:f("vs/editor/contrib/find/browser/findController","startFindAction","Find"),alias:"Find",precondition:Z.or(T.focus,Z.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:D.MenubarEditMenu,group:"3_find",title:f("vs/editor/contrib/find/browser/findController",{key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Xfe.addImplementation(0,(s,e,t)=>{const i=uo.get(e);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop}):!1});const Jfe={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:f("vs/editor/contrib/find/browser/findController","actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:f("vs/editor/contrib/find/browser/findController","actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:f("vs/editor/contrib/find/browser/findController","actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:f("vs/editor/contrib/find/browser/findController","actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class eme extends ge{constructor(){super({id:Ot.StartFindWithArgs,label:f("vs/editor/contrib/find/browser/findController","startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:Jfe})}run(e,t,i){return Mh(this,void 0,void 0,function*(){const n=uo.get(t);if(n){const o=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:i.replaceString!==void 0,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:n.getState().searchString.length===0&&t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(i==null?void 0:i.findInSelection)||!1,loop:t.getOption(41).loop},o),n.setGlobalBufferTerm(n.getState().searchString)}})}}class tme extends ge{constructor(){super({id:Ot.StartFindWithSelection,label:f("vs/editor/contrib/find/browser/findController","startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return Mh(this,void 0,void 0,function*(){const i=uo.get(t);i&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),i.setGlobalBufferTerm(i.getState().searchString))})}}class A6 extends ge{run(e,t){return Mh(this,void 0,void 0,function*(){const i=uo.get(t);i&&!this._run(i)&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),this._run(i))})}}class ime extends A6{constructor(){super({id:Ot.NextMatchFindAction,label:f("vs/editor/contrib/find/browser/findController","findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:T.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:Z.and(T.focus,sk),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}}class nme extends A6{constructor(){super({id:Ot.PreviousMatchFindAction,label:f("vs/editor/contrib/find/browser/findController","findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:T.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:Z.and(T.focus,sk),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class ome extends ge{constructor(){super({id:Ot.GoToMatchFindAction,label:f("vs/editor/contrib/find/browser/findController","findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:bc}),this._highlightDecorations=[]}run(e,t,i){const n=uo.get(t);if(!n)return;const o=n.getState().matchesCount;if(o<1){e.get(Li).notify({severity:dy.Warning,message:f("vs/editor/contrib/find/browser/findController","findMatchAction.noResults","No matches. Try searching for something else.")});return}const a=e.get(ca).createInputBox();a.placeholder=f("vs/editor/contrib/find/browser/findController","findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",o);const l=d=>{const u=parseInt(d);if(isNaN(u))return;const h=n.getState().matchesCount;if(u>0&&u<=h)return u-1;if(u<0&&u>=-h)return h+u},c=d=>{const u=l(d);if(typeof u=="number"){a.validationMessage=void 0,n.goToMatch(u);const h=n.getState().currentMatch;h&&this.addDecorations(t,h)}else a.validationMessage=f("vs/editor/contrib/find/browser/findController","findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",n.getState().matchesCount),this.clearDecorations(t)};a.onDidChangeValue(d=>{c(d)}),a.onDidAccept(()=>{const d=l(a.value);typeof d=="number"?(n.goToMatch(d),a.hide()):a.validationMessage=f("vs/editor/contrib/find/browser/findController","findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",n.getState().matchesCount)}),a.onDidHide(()=>{this.clearDecorations(t),a.dispose()}),a.show()}clearDecorations(e){e.changeDecorations(t=>{this._highlightDecorations=t.deltaDecorations(this._highlightDecorations,[])})}addDecorations(e,t){e.changeDecorations(i=>{this._highlightDecorations=i.deltaDecorations(this._highlightDecorations,[{range:t,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:ti(t9),position:ds.Full}}}])})}}class R6 extends ge{run(e,t){return Mh(this,void 0,void 0,function*(){const i=uo.get(t);if(!i)return;const n=sN(t,"single",!1);n&&i.setSearchString(n),this._run(i)||(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),this._run(i))})}}class sme extends R6{constructor(){super({id:Ot.NextSelectionMatchFindAction,label:f("vs/editor/contrib/find/browser/findController","nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class rme extends R6{constructor(){super({id:Ot.PreviousSelectionMatchFindAction,label:f("vs/editor/contrib/find/browser/findController","previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}const ame=JW(new XW({id:Ot.StartFindReplaceAction,label:f("vs/editor/contrib/find/browser/findController","startReplace","Replace"),alias:"Replace",precondition:Z.or(T.focus,Z.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:D.MenubarEditMenu,group:"3_find",title:f("vs/editor/contrib/find/browser/findController",{key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));ame.addImplementation(0,(s,e,t)=>{if(!e.hasModel()||e.getOption(90))return!1;const i=uo.get(e);if(!i)return!1;const n=e.getSelection(),o=i.isFindInputFocused(),r=!n.isEmpty()&&n.startLineNumber===n.endLineNumber&&e.getOption(41).seedSearchStringFromSelection!=="never"&&!o,a=o||r?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:r?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop})});gt(uo.ID,rN,0);ne(eme);ne(tme);ne(ime);ne(nme);ne(ome);ne(sme);ne(rme);const da=nn.bindToContribution(uo.get);re(new da({id:Ot.CloseFindWidgetCommand,precondition:bc,handler:s=>s.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:Z.and(T.focus,Z.not("isComposing")),primary:9,secondary:[1033]}}));re(new da({id:Ot.ToggleCaseSensitiveCommand,precondition:void 0,handler:s=>s.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:T.focus,primary:bw.primary,mac:bw.mac,win:bw.win,linux:bw.linux}}));re(new da({id:Ot.ToggleWholeWordCommand,precondition:void 0,handler:s=>s.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:T.focus,primary:_w.primary,mac:_w.mac,win:_w.win,linux:_w.linux}}));re(new da({id:Ot.ToggleRegexCommand,precondition:void 0,handler:s=>s.toggleRegex(),kbOpts:{weight:100+5,kbExpr:T.focus,primary:vw.primary,mac:vw.mac,win:vw.win,linux:vw.linux}}));re(new da({id:Ot.ToggleSearchScopeCommand,precondition:void 0,handler:s=>s.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:T.focus,primary:ww.primary,mac:ww.mac,win:ww.win,linux:ww.linux}}));re(new da({id:Ot.TogglePreserveCaseCommand,precondition:void 0,handler:s=>s.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:T.focus,primary:Cw.primary,mac:Cw.mac,win:Cw.win,linux:Cw.linux}}));re(new da({id:Ot.ReplaceOneAction,precondition:bc,handler:s=>s.replace(),kbOpts:{weight:100+5,kbExpr:T.focus,primary:3094}}));re(new da({id:Ot.ReplaceOneAction,precondition:bc,handler:s=>s.replace(),kbOpts:{weight:100+5,kbExpr:Z.and(T.focus,GM),primary:3}}));re(new da({id:Ot.ReplaceAllAction,precondition:bc,handler:s=>s.replaceAll(),kbOpts:{weight:100+5,kbExpr:T.focus,primary:2563}}));re(new da({id:Ot.ReplaceAllAction,precondition:bc,handler:s=>s.replaceAll(),kbOpts:{weight:100+5,kbExpr:Z.and(T.focus,GM),primary:void 0,mac:{primary:2051}}}));re(new da({id:Ot.SelectAllMatchesAction,precondition:bc,handler:s=>s.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:T.focus,primary:515}}));const lme={0:" ",1:"u",2:"r"},UB=65535,Mr=16777215,$B=4278190080;class Tx{constructor(e){const t=Math.ceil(e/32);this._states=new Uint32Array(t)}get(e){const t=e/32|0,i=e%32;return(this._states[t]&1<<i)!==0}set(e,t){const i=e/32|0,n=e%32,o=this._states[i];t?this._states[i]=o|1<<n:this._states[i]=o&~(1<<n)}}class Yo{constructor(e,t,i){if(e.length!==t.length||e.length>UB)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Tx(e.length),this._userDefinedStates=new Tx(e.length),this._recoveredStates=new Tx(e.length),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const e=[],t=(i,n)=>{const o=e[e.length-1];return this.getStartLineNumber(o)<=i&&this.getEndLineNumber(o)>=n};for(let i=0,n=this._startIndexes.length;i<n;i++){const o=this._startIndexes[i],r=this._endIndexes[i];if(o>Mr||r>Mr)throw new Error("startLineNumber or endLineNumber must not exceed "+Mr);for(;e.length>0&&!t(o,r);)e.pop();const a=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=o+((a&255)<<24),this._endIndexes[i]=r+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&Mr}getEndLineNumber(e){return this._endIndexes[e]&Mr}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}setSource(e,t){t===1?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):t===2?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let n=0;n<this._types.length;n++)this._types[n]===e&&(this.setCollapsed(n,t),i=!0);return i}toRegion(e){return new cme(this,e)}getParentIndex(e){this.ensureParentIndices();const t=((this._startIndexes[e]&$B)>>>24)+((this._endIndexes[e]&$B)>>>16);return t===UB?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(i===0)return-1;for(;t<i;){const n=Math.floor((t+i)/2);e<this.getStartLineNumber(n)?i=n:t=n+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){const e=[];for(let t=0;t<this.length;t++)e[t]=`[${lme[this.getSource(t)]}${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}toFoldRange(e){return{startLineNumber:this._startIndexes[e]&Mr,endLineNumber:this._endIndexes[e]&Mr,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){const t=e.length,i=new Uint32Array(t),n=new Uint32Array(t);let o=[],r=!1;for(let l=0;l<t;l++){const c=e[l];i[l]=c.startLineNumber,n[l]=c.endLineNumber,o.push(c.type),c.type&&(r=!0)}r||(o=void 0);const a=new Yo(i,n,o);for(let l=0;l<t;l++)e[l].isCollapsed&&a.setCollapsed(l,!0),a.setSource(l,e[l].source);return a}static sanitizeAndMerge(e,t,i){i=i!=null?i:Number.MAX_VALUE;const n=(p,_)=>Array.isArray(p)?b=>b<_?p[b]:void 0:b=>b<_?p.toFoldRange(b):void 0,o=n(e,e.length),r=n(t,t.length);let a=0,l=0,c=o(0),d=r(0);const u=[];let h,g=0;const m=[];for(;c||d;){let p;if(d&&(!c||c.startLineNumber>=d.startLineNumber))c&&c.startLineNumber===d.startLineNumber?(d.source===1?p=d:(p=c,p.isCollapsed=d.isCollapsed&&c.endLineNumber===d.endLineNumber,p.source=0),c=o(++a)):(p=d,d.isCollapsed&&d.source===0&&(p.source=2)),d=r(++l);else{let _=l,b=d;for(;;){if(!b||b.startLineNumber>c.endLineNumber){p=c;break}if(b.source===1&&b.endLineNumber>c.endLineNumber)break;b=r(++_)}c=o(++a)}if(p){for(;h&&h.endLineNumber<p.startLineNumber;)h=u.pop();p.endLineNumber>p.startLineNumber&&p.startLineNumber>g&&p.endLineNumber<=i&&(!h||h.endLineNumber>=p.endLineNumber)&&(m.push(p),g=p.startLineNumber,h&&u.push(h),h=p)}}return m}}class cme{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class dme{get regions(){return this._regions}get textModel(){return this._textModel}constructor(e,t){this._updateEventEmitter=new M,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new Yo(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(e){if(!e.length)return;e=e.sort((i,n)=>i.regionIndex-n.regionIndex);const t={};this._decorationProvider.changeDecorations(i=>{let n=0,o=-1,r=-1;const a=l=>{for(;n<l;){const c=this._regions.getEndLineNumber(n),d=this._regions.isCollapsed(n);if(c<=o){const u=this.regions.getSource(n)!==0;i.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(d,c<=r,u))}d&&c>r&&(r=c),n++}};for(const l of e){const c=l.regionIndex,d=this._editorDecorationIds[c];if(d&&!t[d]){t[d]=!0,a(c);const u=!this._regions.isCollapsed(c);this._regions.setCollapsed(c,u),o=Math.max(o,this._regions.getEndLineNumber(c))}}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}removeManualRanges(e){const t=new Array,i=n=>{for(const o of e)if(!(o.startLineNumber>n.endLineNumber||n.startLineNumber>o.endLineNumber))return!0;return!1};for(let n=0;n<this._regions.length;n++){const o=this._regions.toFoldRange(n);(o.source===0||!i(o))&&t.push(o)}this.updatePost(Yo.fromFoldRanges(t))}update(e,t=[]){const i=this._currentFoldedOrManualRanges(t),n=Yo.sanitizeAndMerge(e,i,this._textModel.getLineCount());this.updatePost(Yo.fromFoldRanges(n))}updatePost(e){const t=[];let i=-1;for(let n=0,o=e.length;n<o;n++){const r=e.getStartLineNumber(n),a=e.getEndLineNumber(n),l=e.isCollapsed(n),c=e.getSource(n)!==0,d={startLineNumber:r,startColumn:this._textModel.getLineMaxColumn(r),endLineNumber:a,endColumn:this._textModel.getLineMaxColumn(a)+1};t.push({range:d,options:this._decorationProvider.getDecorationOption(l,a<=i,c)}),l&&a>i&&(i=a)}this._decorationProvider.changeDecorations(n=>this._editorDecorationIds=n.deltaDecorations(this._editorDecorationIds,t)),this._regions=e,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(e=[]){const t=(n,o)=>{for(const r of e)if(n<r&&r<=o)return!0;return!1},i=[];for(let n=0,o=this._regions.length;n<o;n++){let r=this.regions.isCollapsed(n);const a=this.regions.getSource(n);if(r||a!==0){const l=this._regions.toFoldRange(n),c=this._textModel.getDecorationRange(this._editorDecorationIds[n]);c&&(r&&t(c.startLineNumber,c.endLineNumber)&&(r=!1),i.push({startLineNumber:c.startLineNumber,endLineNumber:c.endLineNumber,type:l.type,isCollapsed:r,source:a}))}}return i}getMemento(){const e=this._currentFoldedOrManualRanges(),t=[],i=this._textModel.getLineCount();for(let n=0,o=e.length;n<o;n++){const r=e[n];if(r.startLineNumber>=r.endLineNumber||r.startLineNumber<1||r.endLineNumber>i)continue;const a=this._getLinesChecksum(r.startLineNumber+1,r.endLineNumber);t.push({startLineNumber:r.startLineNumber,endLineNumber:r.endLineNumber,isCollapsed:r.isCollapsed,source:r.source,checksum:a})}return t.length>0?t:void 0}applyMemento(e){var t,i;if(!Array.isArray(e))return;const n=[],o=this._textModel.getLineCount();for(const a of e){if(a.startLineNumber>=a.endLineNumber||a.startLineNumber<1||a.endLineNumber>o)continue;const l=this._getLinesChecksum(a.startLineNumber+1,a.endLineNumber);(!a.checksum||l===a.checksum)&&n.push({startLineNumber:a.startLineNumber,endLineNumber:a.endLineNumber,type:void 0,isCollapsed:(t=a.isCollapsed)!==null&&t!==void 0?t:!0,source:(i=a.source)!==null&&i!==void 0?i:0})}const r=Yo.sanitizeAndMerge(this._regions,n,o);this.updatePost(Yo.fromFoldRanges(r))}_getLinesChecksum(e,t){return _3(this._textModel.getLineContent(e)+this._textModel.getLineContent(t))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(e,t){const i=[];if(this._regions){let n=this._regions.findRange(e),o=1;for(;n>=0;){const r=this._regions.toRegion(n);(!t||t(r,o))&&i.push(r),o++,n=r.parentIndex}}return i}getRegionAtLine(e){if(this._regions){const t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){const i=[],n=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){const r=[];for(let a=n,l=this._regions.length;a<l;a++){const c=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<o){for(;r.length>0&&!c.containedBy(r[r.length-1]);)r.pop();r.push(c),t(c,r.length)&&i.push(c)}else break}}else for(let r=n,a=this._regions.length;r<a;r++){const l=this._regions.toRegion(r);if(this._regions.getStartLineNumber(r)<o)(!t||t(l))&&i.push(l);else break}return i}}function M6(s,e,t){const i=[];for(const n of t){const o=s.getRegionAtLine(n);if(o){const r=!o.isCollapsed;if(i.push(o),e>1){const a=s.getRegionsInside(o,(l,c)=>l.isCollapsed!==r&&c<e);i.push(...a)}}}s.toggleCollapseState(i)}function Zm(s,e,t=Number.MAX_VALUE,i){const n=[];if(i&&i.length>0)for(const o of i){const r=s.getRegionAtLine(o);if(r&&(r.isCollapsed!==e&&n.push(r),t>1)){const a=s.getRegionsInside(r,(l,c)=>l.isCollapsed!==e&&c<t);n.push(...a)}}else{const o=s.getRegionsInside(null,(r,a)=>r.isCollapsed!==e&&a<t);n.push(...o)}s.toggleCollapseState(n)}function P6(s,e,t,i){const n=[];for(const o of i){const r=s.getAllRegionsAtLine(o,(a,l)=>a.isCollapsed!==e&&l<=t);n.push(...r)}s.toggleCollapseState(n)}function ume(s,e,t){const i=[];for(const n of t){const o=s.getAllRegionsAtLine(n,r=>r.isCollapsed!==e);o.length>0&&i.push(o[0])}s.toggleCollapseState(i)}function hme(s,e,t,i){const n=(r,a)=>a===e&&r.isCollapsed!==t&&!i.some(l=>r.containsLine(l)),o=s.getRegionsInside(null,n);s.toggleCollapseState(o)}function O6(s,e,t){const i=[];for(const r of t){const a=s.getAllRegionsAtLine(r,void 0);a.length>0&&i.push(a[0])}const n=r=>i.every(a=>!a.containedBy(r)&&!r.containedBy(a))&&r.isCollapsed!==e,o=s.getRegionsInside(null,n);s.toggleCollapseState(o)}function YM(s,e,t){const i=s.textModel,n=s.regions,o=[];for(let r=n.length-1;r>=0;r--)if(t!==n.isCollapsed(r)){const a=n.getStartLineNumber(r);e.test(i.getLineContent(a))&&o.push(n.toRegion(r))}s.toggleCollapseState(o)}function XM(s,e,t){const i=s.regions,n=[];for(let o=i.length-1;o>=0;o--)t!==i.isCollapsed(o)&&e===i.getType(o)&&n.push(i.toRegion(o));s.toggleCollapseState(n)}function gme(s,e){let t=null;const i=e.getRegionAtLine(s);if(i!==null&&(t=i.startLineNumber,s===t)){const n=i.parentIndex;n!==-1?t=e.regions.getStartLineNumber(n):t=null}return t}function fme(s,e){let t=e.getRegionAtLine(s);if(t!==null&&t.startLineNumber===s){if(s!==t.startLineNumber)return t.startLineNumber;{const i=t.parentIndex;let n=0;for(i!==-1&&(n=e.regions.getStartLineNumber(t.parentIndex));t!==null;)if(t.regionIndex>0){if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=n)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);t!==null;){if(t.startLineNumber<s)return t.startLineNumber;t.regionIndex>0?t=e.regions.toRegion(t.regionIndex-1):t=null}return null}function mme(s,e){let t=e.getRegionAtLine(s);if(t!==null&&t.startLineNumber===s){const i=t.parentIndex;let n=0;if(i!==-1)n=e.regions.getEndLineNumber(t.parentIndex);else{if(e.regions.length===0)return null;n=e.regions.getEndLineNumber(e.regions.length-1)}for(;t!==null;)if(t.regionIndex<e.regions.length){if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=n)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}else if(e.regions.length>0)for(t=e.regions.toRegion(0);t!==null;){if(t.startLineNumber>s)return t.startLineNumber;t.regionIndex<e.regions.length?t=e.regions.toRegion(t.regionIndex+1):t=null}return null}class pme{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(e){this._updateEventEmitter=new M,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||Nd(t.text)[0]!==0))}updateHiddenRanges(){let e=!1;const t=[];let i=0,n=0,o=Number.MAX_VALUE,r=-1;const a=this._foldingModel.regions;for(;i<a.length;i++){if(!a.isCollapsed(i))continue;const l=a.getStartLineNumber(i)+1,c=a.getEndLineNumber(i);o<=l&&c<=r||(!e&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===l&&this._hiddenRanges[n].endLineNumber===c?(t.push(this._hiddenRanges[n]),n++):(e=!0,t.push(new k(l,1,c,1))),o=l,r=c)}(this._hasLineChanges||e||n<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return jB(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1;const i=this._foldingModel.textModel;let n=null;const o=r=>((!n||!bme(r,n))&&(n=jB(this._hiddenRanges,r)),n?n.startLineNumber-1:null);for(let r=0,a=e.length;r<a;r++){let l=e[r];const c=o(l.startLineNumber);c&&(l=l.setStartPosition(c,i.getLineMaxColumn(c)),t=!0);const d=o(l.endLineNumber);d&&(l=l.setEndPosition(d,i.getLineMaxColumn(d)),t=!0),e[r]=l}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function bme(s,e){return s>=e.startLineNumber&&s<=e.endLineNumber}function jB(s,e){const t=n_(s,i=>e<i.startLineNumber)-1;return t>=0&&s[t].endLineNumber>=e?s[t]:null}const _me=5e3,vme="indent";class JM{constructor(e,t,i){this.editorModel=e,this.languageConfigurationService=t,this.foldingRangesLimit=i,this.id=vme}dispose(){}compute(e){const t=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=t&&!!t.offSide,n=t&&t.markers;return Promise.resolve(Sme(this.editorModel,i,n,this.foldingRangesLimit))}}let wme=class{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>Mr||t>Mr)return;const n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){const t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let o=this._length-1,r=0;o>=0;o--,r++)i[r]=this._startIndexes[o],n[r]=this._endIndexes[o];return new Yo(i,n)}else{this._foldingRangesLimit.update(this._length,t);let i=0,n=this._indentOccurrences.length;for(let l=0;l<this._indentOccurrences.length;l++){const c=this._indentOccurrences[l];if(c){if(c+i>t){n=l;break}i+=c}}const o=e.getOptions().tabSize,r=new Uint32Array(t),a=new Uint32Array(t);for(let l=this._length-1,c=0;l>=0;l--){const d=this._startIndexes[l],u=e.getLineContent(d),h=sy(u,o);(h<n||h===n&&i++<t)&&(r[c]=d,a[c]=this._endIndexes[l],c++)}return new Yo(r,a)}}};const Cme={limit:_me,update:()=>{}};function Sme(s,e,t,i=Cme){const n=s.getOptions().tabSize,o=new wme(i);let r;t&&(r=new RegExp(`(${t.start.source})|(?:${t.end.source})`));const a=[],l=s.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(let c=s.getLineCount();c>0;c--){const d=s.getLineContent(c),u=sy(d,n);let h=a[a.length-1];if(u===-1){e&&(h.endAbove=c);continue}let g;if(r&&(g=d.match(r)))if(g[1]){let m=a.length-1;for(;m>0&&a[m].indent!==-2;)m--;if(m>0){a.length=m+1,h=a[m],o.insertFirst(c,h.line,u),h.line=c,h.indent=u,h.endAbove=c;continue}}else{a.push({indent:-2,endAbove:c,line:c});continue}if(h.indent>u){do a.pop(),h=a[a.length-1];while(h.indent>u);const m=h.endAbove-1;m-c>=1&&o.insertFirst(c,m,u)}h.indent===u?h.endAbove=c:a.push({indent:u,endAbove:c,line:c})}return o.toIndentRanges(s)}const yme=N("editor.foldBackground",{light:Ce(Kc,.3),dark:Ce(Kc,.3),hcDark:null,hcLight:null},f("vs/editor/contrib/folding/browser/foldingDecorations","foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);N("editorGutter.foldingControlForeground",{dark:jc,light:jc,hcDark:jc,hcLight:jc},f("vs/editor/contrib/folding/browser/foldingDecorations","editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const lk=_i("folding-expanded",se.chevronDown,f("vs/editor/contrib/folding/browser/foldingDecorations","foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),ck=_i("folding-collapsed",se.chevronRight,f("vs/editor/contrib/folding/browser/foldingDecorations","foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),F6=_i("folding-manual-collapsed",ck,f("vs/editor/contrib/folding/browser/foldingDecorations","foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),B6=_i("folding-manual-expanded",lk,f("vs/editor/contrib/folding/browser/foldingDecorations","foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),eP={color:ti(yme),position:Bo.Inline};class Di{constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(e,t,i){return t?Di.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?e?this.showFoldingHighlights?Di.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:Di.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:Di.NO_CONTROLS_EXPANDED_RANGE_DECORATION:e?i?this.showFoldingHighlights?Di.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Di.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?Di.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Di.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?i?Di.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Di.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?Di.MANUALLY_EXPANDED_VISUAL_DECORATION:Di.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}}Di.COLLAPSED_VISUAL_DECORATION=Ve.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Ie.asClassName(ck)});Di.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ve.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:eP,isWholeLine:!0,firstLineDecorationClassName:Ie.asClassName(ck)});Di.MANUALLY_COLLAPSED_VISUAL_DECORATION=Ve.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Ie.asClassName(F6)});Di.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ve.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:eP,isWholeLine:!0,firstLineDecorationClassName:Ie.asClassName(F6)});Di.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=Ve.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0});Di.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=Ve.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:eP,isWholeLine:!0});Di.EXPANDED_VISUAL_DECORATION=Ve.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Ie.asClassName(lk)});Di.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ve.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Ie.asClassName(lk)});Di.MANUALLY_EXPANDED_VISUAL_DECORATION=Ve.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Ie.asClassName(B6)});Di.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ve.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:Ie.asClassName(B6)});Di.NO_CONTROLS_EXPANDED_RANGE_DECORATION=Ve.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0});Di.HIDDEN_RANGE_DECORATION=Ve.register({description:"folding-hidden-range-decoration",stickiness:1});const kme={},Lme="syntax";class tP{constructor(e,t,i,n,o){this.editorModel=e,this.providers=t,this.handleFoldingRangesChange=i,this.foldingRangesLimit=n,this.fallbackRangeProvider=o,this.id=Lme,this.disposables=new Y,o&&this.disposables.add(o);for(const r of t)typeof r.onDidChange=="function"&&this.disposables.add(r.onDidChange(i))}compute(e){return xme(this.providers,this.editorModel,e).then(t=>{var i,n;return t?Ime(t,this.foldingRangesLimit):(n=(i=this.fallbackRangeProvider)===null||i===void 0?void 0:i.compute(e))!==null&&n!==void 0?n:null})}dispose(){this.disposables.dispose()}}function xme(s,e,t){let i=null;const n=s.map((o,r)=>Promise.resolve(o.provideFoldingRanges(e,kme,t)).then(a=>{if(!t.isCancellationRequested&&Array.isArray(a)){Array.isArray(i)||(i=[]);const l=e.getLineCount();for(const c of a)c.start>0&&c.end>c.start&&c.end<=l&&i.push({start:c.start,end:c.end,rank:r,kind:c.kind})}},Ni));return Promise.all(n).then(o=>i)}class Dme{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,n){if(e>Mr||t>Mr)return;const o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=n,this._types[o]=i,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){const e=this._foldingRangesLimit.limit;if(this._length<=e){this._foldingRangesLimit.update(this._length,!1);const t=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let n=0;n<this._length;n++)t[n]=this._startIndexes[n],i[n]=this._endIndexes[n];return new Yo(t,i,this._types)}else{this._foldingRangesLimit.update(this._length,e);let t=0,i=this._nestingLevelCounts.length;for(let a=0;a<this._nestingLevelCounts.length;a++){const l=this._nestingLevelCounts[a];if(l){if(l+t>e){i=a;break}t+=l}}const n=new Uint32Array(e),o=new Uint32Array(e),r=[];for(let a=0,l=0;a<this._length;a++){const c=this._nestingLevels[a];(c<i||c===i&&t++<e)&&(n[l]=this._startIndexes[a],o[l]=this._endIndexes[a],r[l]=this._types[a],l++)}return new Yo(n,o,r)}}}function Ime(s,e){const t=s.sort((r,a)=>{let l=r.start-a.start;return l===0&&(l=r.rank-a.rank),l}),i=new Dme(e);let n;const o=[];for(const r of t)if(!n)n=r,i.add(r.start,r.end,r.kind&&r.kind.value,o.length);else if(r.start>n.start)if(r.end<=n.end)o.push(n),n=r,i.add(r.start,r.end,r.kind&&r.kind.value,o.length);else{if(r.start>n.end){do n=o.pop();while(n&&r.start>n.end);n&&o.push(n),n=r}i.add(r.start,r.end,r.kind&&r.kind.value,o.length)}return i.toIndentRanges()}var Tme=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Np=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Eme=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},Og;const Hn=new de("foldingEnabled",!1);let ll=Og=class extends H{static get(e){return e.getContribution(Og.ID)}static getFoldingRangeProviders(e,t){var i,n;const o=e.foldingRangeProvider.ordered(t);return(n=(i=Og._foldingRangeSelector)===null||i===void 0?void 0:i.call(Og,o,t))!==null&&n!==void 0?n:o}constructor(e,t,i,n,o,r){super(),this.contextKeyService=t,this.languageConfigurationService=i,this.languageFeaturesService=r,this.localToDispose=this._register(new Y),this.editor=e,this._foldingLimitReporter=new W6(e);const a=this.editor.getOptions();this._isEnabled=a.get(43),this._useFoldingProviders=a.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=a.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=a.get(46),this.updateDebounceInfo=o.for(r.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new Di(e),this.foldingDecorationProvider.showFoldingControls=a.get(109),this.foldingDecorationProvider.showFoldingHighlights=a.get(45),this.foldingEnabled=Hn.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(l=>{if(l.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),l.hasChanged(47)&&this.onModelChanged(),l.hasChanged(109)||l.hasChanged(45)){const c=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=c.get(109),this.foldingDecorationProvider.showFoldingHighlights=c.get(45),this.triggerFoldingModelChanged()}l.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),l.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),l.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){const t=this.foldingModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){const t=this.editor.getModel();if(!(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel)&&e&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new dme(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new pme(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new hr(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new xt(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{var t,i;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(t=this.updateScheduler)===null||t===void 0||t.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(i=this.rangeProvider)===null||i===void 0||i.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var e;(e=this.rangeProvider)===null||e===void 0||e.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;const t=new JM(e,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=t,this._useFoldingProviders&&this.foldingModel){const i=Og.getFoldingRangeProviders(this.languageFeaturesService,e);i.length>0&&(this.rangeProvider=new tP(e,i,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,t))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;(t=this.hiddenRangeModel)===null||t===void 0||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=new Wn,i=this.getRangeProvider(e.textModel),n=this.foldingRegionPromise=Vi(o=>i.compute(o));return n.then(o=>{if(o&&n===this.foldingRegionPromise){let r;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const d=o.setCollapsedAllOfType(so.Imports.value,!0);d&&(r=na.capture(this.editor),this._currentModelHasFoldedImports=d)}const a=this.editor.getSelections(),l=a?a.map(d=>d.startLineNumber):[];e.update(o,l),r==null||r.restore(this.editor);const c=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=c)}return e})}).then(void 0,e=>(He(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){const t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then(t=>{if(t){const i=this.editor.getSelections();if(i&&i.length>0){const n=[];for(const o of i){const r=o.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(r)&&n.push(...t.getAllRegionsAtLine(r,a=>a.isCollapsed&&r>a.startLineNumber))}n.length&&(t.toggleCollapseState(n),this.reveal(i[0].getPosition()))}}}).then(void 0,He)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let i=!1;switch(e.target.type){case 4:{const n=e.target.detail,o=e.target.element.offsetLeft;if(n.offsetX-o<4)return;i=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const n=this.editor.getModel();if(n&&t.startColumn===n.getLineMaxColumn(t.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){const t=this.foldingModel;if(!t||!this.mouseDownInfo||!e.target)return;const i=this.mouseDownInfo.lineNumber,n=this.mouseDownInfo.iconClicked,o=e.target.range;if(!o||o.startLineNumber!==i)return;if(n){if(e.target.type!==4)return}else{const a=this.editor.getModel();if(!a||o.startColumn!==a.getLineMaxColumn(i))return}const r=t.getRegionAtLine(i);if(r&&r.startLineNumber===i){const a=r.isCollapsed;if(n||a){const l=e.event.altKey;let c=[];if(l){const d=h=>!h.containedBy(r)&&!r.containedBy(h),u=t.getRegionsInside(null,d);for(const h of u)h.isCollapsed&&c.push(h);c.length===0&&(c=u)}else{const d=e.event.middleButton||e.event.shiftKey;if(d)for(const u of t.getRegionsInside(r))u.isCollapsed===a&&c.push(u);(a||!d||c.length===0)&&c.push(r)}t.toggleCollapseState(c),this.reveal({lineNumber:i,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};ll.ID="editor.contrib.folding";ll=Og=Tme([Np(1,Me),Np(2,Mt),Np(3,Li),Np(4,zs),Np(5,me)],ll);class W6{constructor(e){this.editor=e,this._onDidChange=new M,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(e,t){(e!==this._computed||t!==this._limited)&&(this._computed=e,this._limited=t,this._onDidChange.fire())}}class Yn extends ge{runEditorCommand(e,t,i){const n=e.get(Mt),o=ll.get(t);if(!o)return;const r=o.getFoldingModel();if(r)return this.reportTelemetry(e,t),r.then(a=>{if(a){this.invoke(o,a,t,i,n);const l=t.getSelection();l&&o.reveal(l.getStartPosition())}})}getSelectedLines(e){const t=e.getSelections();return t?t.map(i=>i.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(i=>i+1):this.getSelectedLines(t)}run(e,t){}}function V6(s){if(!Mo(s)){if(!no(s))return!1;const e=s;if(!Mo(e.levels)&&!Cd(e.levels)||!Mo(e.direction)&&!ao(e.direction)||!Mo(e.selectionLines)&&(!Array.isArray(e.selectionLines)||!e.selectionLines.every(Cd)))return!1}return!0}class Nme extends Yn{constructor(){super({id:"editor.unfold",label:f("vs/editor/contrib/folding/browser/folding","unfoldAction.label","Unfold"),alias:"Unfold",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:V6,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){const o=n&&n.levels||1,r=this.getLineNumbers(n,i);n&&n.direction==="up"?P6(t,!1,o,r):Zm(t,!1,o,r)}}class Ame extends Yn{constructor(){super({id:"editor.unfoldRecursively",label:f("vs/editor/contrib/folding/browser/folding","unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2142),weight:100}})}invoke(e,t,i,n){Zm(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}class Rme extends Yn{constructor(){super({id:"editor.fold",label:f("vs/editor/contrib/folding/browser/folding","foldAction.label","Fold"),alias:"Fold",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:V6,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){const o=this.getLineNumbers(n,i),r=n&&n.levels,a=n&&n.direction;typeof r!="number"&&typeof a!="string"?ume(t,!0,o):a==="up"?P6(t,!0,r||1,o):Zm(t,!0,r||1,o)}}class Mme extends Yn{constructor(){super({id:"editor.toggleFold",label:f("vs/editor/contrib/folding/browser/folding","toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2090),weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);M6(t,1,n)}}class Pme extends Yn{constructor(){super({id:"editor.foldRecursively",label:f("vs/editor/contrib/folding/browser/folding","foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2140),weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);Zm(t,!0,Number.MAX_VALUE,n)}}class Ome extends Yn{constructor(){super({id:"editor.foldAllBlockComments",label:f("vs/editor/contrib/folding/browser/folding","foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2138),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())XM(t,so.Comment.value,!0);else{const r=i.getModel();if(!r)return;const a=o.getLanguageConfiguration(r.getLanguageId()).comments;if(a&&a.blockCommentStartToken){const l=new RegExp("^\\s*"+cs(a.blockCommentStartToken));YM(t,l,!0)}}}}class Fme extends Yn{constructor(){super({id:"editor.foldAllMarkerRegions",label:f("vs/editor/contrib/folding/browser/folding","foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2077),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())XM(t,so.Region.value,!0);else{const r=i.getModel();if(!r)return;const a=o.getLanguageConfiguration(r.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){const l=new RegExp(a.markers.start);YM(t,l,!0)}}}}class Bme extends Yn{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:f("vs/editor/contrib/folding/browser/folding","unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2078),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())XM(t,so.Region.value,!1);else{const r=i.getModel();if(!r)return;const a=o.getLanguageConfiguration(r.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){const l=new RegExp(a.markers.start);YM(t,l,!1)}}}}class Wme extends Yn{constructor(){super({id:"editor.foldAllExcept",label:f("vs/editor/contrib/folding/browser/folding","foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2136),weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);O6(t,!0,n)}}class Vme extends Yn{constructor(){super({id:"editor.unfoldAllExcept",label:f("vs/editor/contrib/folding/browser/folding","unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2134),weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);O6(t,!1,n)}}class Hme extends Yn{constructor(){super({id:"editor.foldAll",label:f("vs/editor/contrib/folding/browser/folding","foldAllAction.label","Fold All"),alias:"Fold All",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2069),weight:100}})}invoke(e,t,i){Zm(t,!0)}}class zme extends Yn{constructor(){super({id:"editor.unfoldAll",label:f("vs/editor/contrib/folding/browser/folding","unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2088),weight:100}})}invoke(e,t,i){Zm(t,!1)}}class Ph extends Yn{getFoldingLevel(){return parseInt(this.id.substr(Ph.ID_PREFIX.length))}invoke(e,t,i){hme(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}}Ph.ID_PREFIX="editor.foldLevel";Ph.ID=s=>Ph.ID_PREFIX+s;class Ume extends Yn{constructor(){super({id:"editor.gotoParentFold",label:f("vs/editor/contrib/folding/browser/folding","gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);if(n.length>0){const o=gme(n[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class $me extends Yn{constructor(){super({id:"editor.gotoPreviousFold",label:f("vs/editor/contrib/folding/browser/folding","gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);if(n.length>0){const o=fme(n[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class jme extends Yn{constructor(){super({id:"editor.gotoNextFold",label:f("vs/editor/contrib/folding/browser/folding","gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);if(n.length>0){const o=mme(n[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class Kme extends Yn{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:f("vs/editor/contrib/folding/browser/folding","createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2135),weight:100}})}invoke(e,t,i){var n;const o=[],r=i.getSelections();if(r){for(const a of r){let l=a.endLineNumber;a.endColumn===1&&--l,l>a.startLineNumber&&(o.push({startLineNumber:a.startLineNumber,endLineNumber:l,type:void 0,isCollapsed:!0,source:1}),i.setSelection({startLineNumber:a.startLineNumber,startColumn:1,endLineNumber:a.startLineNumber,endColumn:1}))}if(o.length>0){o.sort((l,c)=>l.startLineNumber-c.startLineNumber);const a=Yo.sanitizeAndMerge(t.regions,o,(n=i.getModel())===null||n===void 0?void 0:n.getLineCount());t.updatePost(Yo.fromFoldRanges(a))}}}}class qme extends Yn{constructor(){super({id:"editor.removeManualFoldingRanges",label:f("vs/editor/contrib/folding/browser/folding","removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2137),weight:100}})}invoke(e,t,i){const n=i.getSelections();if(n){const o=[];for(const r of n){const{startLineNumber:a,endLineNumber:l}=r;o.push(l>=a?{startLineNumber:a,endLineNumber:l}:{endLineNumber:l,startLineNumber:a})}t.removeManualRanges(o),e.triggerFoldingModelChanged()}}}gt(ll.ID,ll,0);ne(Nme);ne(Ame);ne(Rme);ne(Pme);ne(Hme);ne(zme);ne(Ome);ne(Fme);ne(Bme);ne(Wme);ne(Vme);ne(Mme);ne(Ume);ne($me);ne(jme);ne(Kme);ne(qme);for(let s=1;s<=7;s++)Pj(new Ph({id:Ph.ID(s),label:f("vs/editor/contrib/folding/browser/folding","foldLevelAction.label","Fold Level {0}",s),alias:`Fold Level ${s}`,precondition:Hn,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2048|21+s),weight:100}}));lt.registerCommand("_executeFoldingRangeProvider",function(s,...e){return Eme(this,void 0,void 0,function*(){const[t]=e;if(!(t instanceof De))throw Ns();const i=s.get(me),n=s.get(Qt).getModel(t);if(!n)throw Ns();const o=s.get(ot);if(!o.getValue("editor.folding",{resource:t}))return[];const r=s.get(Mt),a=o.getValue("editor.foldingStrategy",{resource:t}),l={get limit(){return o.getValue("editor.foldingMaximumRegions",{resource:t})},update:(g,m)=>{}},c=new JM(n,r,l);let d=c;if(a!=="indentation"){const g=ll.getFoldingRangeProviders(i,n);g.length&&(d=new tP(n,g,()=>{},l,c))}const u=yield d.compute(Xe.None),h=[];try{if(u)for(let g=0;g<u.length;g++){const m=u.getType(g);h.push({start:u.getStartLineNumber(g),end:u.getEndLineNumber(g),kind:m?so.fromValue(m):void 0})}return h}finally{d.dispose()}})});class Gme extends ge{constructor(){super({id:"editor.action.fontZoomIn",label:f("vs/editor/contrib/fontZoom/browser/fontZoom","EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){ks.setZoomLevel(ks.getZoomLevel()+1)}}class Zme extends ge{constructor(){super({id:"editor.action.fontZoomOut",label:f("vs/editor/contrib/fontZoom/browser/fontZoom","EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){ks.setZoomLevel(ks.getZoomLevel()-1)}}class Qme extends ge{constructor(){super({id:"editor.action.fontZoomReset",label:f("vs/editor/contrib/fontZoom/browser/fontZoom","EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){ks.setZoomLevel(0)}}ne(Gme);ne(Zme);ne(Qme);var H6=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},cS=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},iP=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};let J_=class{constructor(e,t,i){this._editor=e,this._languageFeaturesService=t,this._workerService=i,this._disposables=new Y,this._sessionDisposables=new Y,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(n=>{n.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;const i=new BC;for(const n of t.autoFormatTriggerCharacters)i.add(n.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(n=>{const o=n.charCodeAt(n.length-1);i.has(o)&&this._trigger(String.fromCharCode(o))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),i=this._editor.getPosition(),n=new yi,o=this._editor.onDidChangeModelContent(r=>{if(r.isFlush){n.cancel(),o.dispose();return}for(let a=0,l=r.changes.length;a<l;a++)if(r.changes[a].range.endLineNumber<=i.lineNumber){n.cancel(),o.dispose();return}});WV(this._workerService,this._languageFeaturesService,t,i,e,t.getFormattingOptions(),n.token).then(r=>{n.token.isCancellationRequested||Bn(r)&&(bm.execute(this._editor,r,!0),kM(r))}).finally(()=>{o.dispose()})}};J_.ID="editor.contrib.autoFormat";J_=H6([cS(1,me),cS(2,vr)],J_);let ev=class{constructor(e,t,i){this.editor=e,this._languageFeaturesService=t,this._instantiationService=i,this._callOnDispose=new Y,this._callOnModel=new Y,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e)))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(BV,this.editor,e,2,ec.None,Xe.None).catch(He))}};ev.ID="editor.contrib.formatOnPaste";ev=H6([cS(1,me),cS(2,Ae)],ev);class Yme extends ge{constructor(){super({id:"editor.action.formatDocument",label:f("vs/editor/contrib/format/browser/formatActions","formatDocument.label","Format Document"),alias:"Format Document",precondition:Z.and(T.notInCompositeEditor,T.writable,T.hasDocumentFormattingProvider),kbOpts:{kbExpr:T.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return iP(this,void 0,void 0,function*(){if(t.hasModel()){const i=e.get(Ae);yield e.get(eu).showWhile(i.invokeFunction(qce,t,1,ec.None,Xe.None),250)}})}}class Xme extends ge{constructor(){super({id:"editor.action.formatSelection",label:f("vs/editor/contrib/format/browser/formatActions","formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Z.and(T.writable,T.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2084),weight:100},contextMenuOpts:{when:T.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return iP(this,void 0,void 0,function*(){if(!t.hasModel())return;const i=e.get(Ae),n=t.getModel(),o=t.getSelections().map(a=>a.isEmpty()?new k(a.startLineNumber,1,a.startLineNumber,n.getLineMaxColumn(a.startLineNumber)):a);yield e.get(eu).showWhile(i.invokeFunction(BV,t,o,1,ec.None,Xe.None),250)})}}gt(J_.ID,J_,2);gt(ev.ID,ev,2);ne(Yme);ne(Xme);lt.registerCommand("editor.action.format",s=>iP(void 0,void 0,void 0,function*(){const e=s.get(bt).getFocusedCodeEditor();if(!e||!e.hasModel())return;const t=s.get(ci);e.getSelection().isEmpty()?yield t.executeCommand("editor.action.formatDocument"):yield t.executeCommand("editor.action.formatSelection")}));var Jme=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ex=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},epe=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class uf{remove(){var e;(e=this.parent)===null||e===void 0||e.children.delete(this.id)}static findId(e,t){let i;typeof e=="string"?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,t.children.get(i)!==void 0&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let n=i;for(let o=0;t.children.get(n)!==void 0;o++)n=`${i}_${o}`;return n}static empty(e){return e.children.size===0}}class aN extends uf{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class z6 extends uf{constructor(e,t,i,n){super(),this.id=e,this.parent=t,this.label=i,this.order=n,this.children=new Map}}class Rl extends uf{static create(e,t,i){const n=new yi(i),o=new Rl(t.uri),r=e.ordered(t),a=r.map((c,d)=>{var u;const h=uf.findId(`provider_${d}`,o),g=new z6(h,o,(u=c.displayName)!==null&&u!==void 0?u:"Unknown Outline Provider",d);return Promise.resolve(c.provideDocumentSymbols(t,n.token)).then(m=>{for(const p of m||[])Rl._makeOutlineElement(p,g);return g},m=>(Ni(m),g)).then(m=>{uf.empty(m)?m.remove():o._groups.set(h,m)})}),l=e.onDidChange(()=>{const c=e.ordered(t);bi(c,r)||n.cancel()});return Promise.all(a).then(()=>n.token.isCancellationRequested&&!i.isCancellationRequested?Rl.create(e,t,i):o._compact()).finally(()=>{n.dispose(),l.dispose(),n.dispose()})}static _makeOutlineElement(e,t){const i=uf.findId(e,t),n=new aN(i,t,e);if(e.children)for(const o of e.children)Rl._makeOutlineElement(o,n);t.children.set(n.id,n)}constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let e=0;for(const[t,i]of this._groups)i.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{const t=Ye.first(this._groups.values());for(const[,i]of t.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof aN?e.push(t.symbol):e.push(...Ye.map(t.children.values(),i=>i.symbol));return e.sort((t,i)=>k.compareRangesUsingStarts(t.range,i.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return Rl._flattenDocumentSymbols(t,e,""),t.sort((i,n)=>P.compare(k.getStartPosition(i.range),k.getStartPosition(n.range))||P.compare(k.getEndPosition(n.range),k.getEndPosition(i.range)))}static _flattenDocumentSymbols(e,t,i){for(const n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&Rl._flattenDocumentSymbols(e,n.children,n.name)}}const dk=et("IOutlineModelService");let lN=class{constructor(e,t,i){this._languageFeaturesService=e,this._disposables=new Y,this._cache=new Yd(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved(n=>{this._cache.delete(n.id)}))}dispose(){this._disposables.dispose()}getOrCreate(e,t){return epe(this,void 0,void 0,function*(){const i=this._languageFeaturesService.documentSymbolProvider,n=i.ordered(e);let o=this._cache.get(e.id);if(!o||o.versionId!==e.getVersionId()||!bi(o.provider,n)){const a=new yi;o={versionId:e.getVersionId(),provider:n,promiseCnt:0,source:a,promise:Rl.create(i,e,a.token),model:void 0},this._cache.set(e.id,o);const l=Date.now();o.promise.then(c=>{o.model=c,this._debounceInformation.update(e,Date.now()-l)}).catch(c=>{this._cache.delete(e.id)})}if(o.model)return o.model;o.promiseCnt+=1;const r=t.onCancellationRequested(()=>{--o.promiseCnt===0&&(o.source.cancel(),this._cache.delete(e.id))});try{return yield o.promise}finally{r.dispose()}})}};lN=Jme([Ex(0,me),Ex(1,zs),Ex(2,Qt)],lN);ct(dk,lN,1);var tpe=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};lt.registerCommand("_executeDocumentSymbolProvider",function(s,...e){return tpe(this,void 0,void 0,function*(){const[t]=e;Lt(De.isUri(t));const i=s.get(dk),o=yield s.get(xo).createModelReference(t);try{return(yield i.getOrCreate(o.object.textEditorModel,Xe.None)).getTopLevelSymbols()}finally{o.dispose()}})});class en extends H{constructor(e,t){super(),this.contextKeyService=e,this.model=t,this.inlineCompletionVisible=en.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=en.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=en.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=en.suppressSuggestions.bindTo(this.contextKeyService),this._register(Rt(i=>{const n=this.model.read(i),o=n==null?void 0:n.state.read(i),r=!!(o!=null&&o.inlineCompletion)&&(o==null?void 0:o.ghostText)!==void 0&&!(o!=null&&o.ghostText.isEmpty());this.inlineCompletionVisible.set(r),o!=null&&o.ghostText&&(o!=null&&o.inlineCompletion)&&this.suppressSuggestions.set(o.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register(Rt(i=>{const n=this.model.read(i);let o=!1,r=!0;const a=n==null?void 0:n.ghostText.read(i);if(n!=null&&n.selectedSuggestItem&&a&&a.parts.length>0){const{column:l,lines:c}=a.parts[0],d=c[0],u=n.textModel.getLineIndentColumn(a.lineNumber);if(l<=u){let g=Zn(d);g===-1&&(g=d.length-1),o=g>0;const m=n.textModel.getOptions().tabSize;r=Wi.visibleColumnFromColumn(d,g+1,m)<m}}this.inlineCompletionSuggestsIndentation.set(o),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(r)}))}}en.inlineSuggestionVisible=new de("inlineSuggestionVisible",!1,f("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","inlineSuggestionVisible","Whether an inline suggestion is visible"));en.inlineSuggestionHasIndentation=new de("inlineSuggestionHasIndentation",!1,f("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));en.inlineSuggestionHasIndentationLessThanTabSize=new de("inlineSuggestionHasIndentationLessThanTabSize",!0,f("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));en.suppressSuggestions=new de("inlineSuggestionSuppressSuggestions",void 0,f("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"));function ipe(s,e){const t=new npe(s),i=e.map(n=>{const o=k.lift(n.range);return{startOffset:t.getOffset(o.getStartPosition()),endOffset:t.getOffset(o.getEndPosition()),text:n.text}});i.sort((n,o)=>o.startOffset-n.startOffset);for(const n of i)s=s.substring(0,n.startOffset)+n.text+s.substring(n.endOffset);return s}class npe{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}const ope=[];function spe(){return ope}class rpe{constructor(e,t){if(this.startColumn=e,this.endColumnExclusive=t,e>t)throw new Ti(`startColumn ${e} cannot be after endColumnExclusive ${t}`)}toRange(e){return new k(e,this.startColumn,e,this.endColumnExclusive)}equals(e){return this.startColumn===e.startColumn&&this.endColumnExclusive===e.endColumnExclusive}}function ape(s,e){const t=new Y,i=s.createDecorationsCollection();return t.add(fM({debugName:()=>`Apply decorations from ${e.debugName}`},n=>{const o=e.read(n);i.set(o)})),t.add({dispose:()=>{i.clear()}}),t}function cN(s,e){return new P(s.lineNumber+e.lineNumber-1,e.lineNumber===1?s.column+e.column-1:e.column)}function dN(s){let e=1,t=1;for(const i of s)i===`
`?(e++,t=1):t++;return new P(e,t)}class dS{constructor(e,t){this.lineNumber=e,this.parts=t}equals(e){return this.lineNumber===e.lineNumber&&this.parts.length===e.parts.length&&this.parts.every((t,i)=>t.equals(e.parts[i]))}renderForScreenReader(e){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1);return ipe(i,this.parts.map(o=>({range:{startLineNumber:1,endLineNumber:1,startColumn:o.column,endColumn:o.column},text:o.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(e=>e.lines.length===0)}get lineCount(){return 1+this.parts.reduce((e,t)=>e+t.lines.length-1,0)}}class uN{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}equals(e){return this.column===e.column&&this.lines.length===e.lines.length&&this.lines.every((t,i)=>t===e.lines[i])}}class hN{constructor(e,t,i,n=0){this.lineNumber=e,this.columnRange=t,this.newLines=i,this.additionalReservedLineCount=n,this.parts=[new uN(this.columnRange.endColumnExclusive,this.newLines,!1)]}renderForScreenReader(e){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(e=>e.lines.length===0)}equals(e){return this.lineNumber===e.lineNumber&&this.columnRange.equals(e.columnRange)&&this.newLines.length===e.newLines.length&&this.newLines.every((t,i)=>t===e.newLines[i])&&this.additionalReservedLineCount===e.additionalReservedLineCount}}function KB(s,e){return s===e?!0:!s||!e?!1:s instanceof dS&&e instanceof dS||s instanceof hN&&e instanceof hN?s.equals(e):!1}var lpe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},cpe=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};const qB="ghost-text";let gN=class extends H{constructor(e,t,i){super(),this.editor=e,this.model=t,this.languageService=i,this.isDisposed=Bt(this,!1),this.currentTextModel=gn(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=st(this,n=>{if(this.isDisposed.read(n))return;const o=this.currentTextModel.read(n);if(o!==this.model.targetTextModel.read(n))return;const r=this.model.ghostText.read(n);if(!r)return;const a=r instanceof hN?r.columnRange:void 0,l=[],c=[];function d(p,_){if(c.length>0){const b=c[c.length-1];_&&b.decorations.push(new Oo(b.content.length+1,b.content.length+1+p[0].length,_,0)),b.content+=p[0],p=p.slice(1)}for(const b of p)c.push({content:b,decorations:_?[new Oo(1,b.length+1,_,0)]:[]})}const u=o.getLineContent(r.lineNumber);let h,g=0;for(const p of r.parts){let _=p.lines;h===void 0?(l.push({column:p.column,text:_[0],preview:p.preview}),_=_.slice(1)):d([u.substring(g,p.column-1)],void 0),_.length>0&&(d(_,qB),h===void 0&&p.column<=u.length&&(h=p.column)),g=p.column-1}h!==void 0&&d([u.substring(g)],void 0);const m=h!==void 0?new rpe(h,u.length+1):void 0;return{replacedRange:a,inlineTexts:l,additionalLines:c,hiddenRange:m,lineNumber:r.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(n),targetTextModel:o}}),this.decorations=st(this,n=>{const o=this.uiState.read(n);if(!o)return[];const r=[];o.replacedRange&&r.push({range:o.replacedRange.toRange(o.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),o.hiddenRange&&r.push({range:o.hiddenRange.toRange(o.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const a of o.inlineTexts)r.push({range:k.fromPositions(new P(o.lineNumber,a.column)),options:{description:qB,after:{content:a.text,inlineClassName:a.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:$r.Left},showIfCollapsed:!0}});return r}),this.additionalLinesWidget=this._register(new dpe(this.editor,this.languageService.languageIdCodec,st(n=>{const o=this.uiState.read(n);return o?{lineNumber:o.lineNumber,additionalLines:o.additionalLines,minReservedLineCount:o.additionalReservedLineCount,targetTextModel:o.targetTextModel}:void 0}))),this._register(Re(()=>{this.isDisposed.set(!0,void 0)})),this._register(ape(this.editor,this.decorations))}ownsViewZone(e){return this.additionalLinesWidget.viewZoneId===e}};gN=lpe([cpe(2,qt)],gN);class dpe extends H{get viewZoneId(){return this._viewZoneId}constructor(e,t,i){super(),this.editor=e,this.languageIdCodec=t,this.lines=i,this._viewZoneId=void 0,this.editorOptionsChanged=ts("editorOptionChanged",ce.filter(this.editor.onDidChangeConfiguration,n=>n.hasChanged(33)||n.hasChanged(116)||n.hasChanged(98)||n.hasChanged(93)||n.hasChanged(51)||n.hasChanged(50)||n.hasChanged(66))),this._register(Rt(n=>{const o=this.lines.read(n);this.editorOptionsChanged.read(n),o?this.updateLines(o.lineNumber,o.additionalLines,o.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){const n=this.editor.getModel();if(!n)return;const{tabSize:o}=n.getOptions();this.editor.changeViewZones(r=>{this._viewZoneId&&(r.removeZone(this._viewZoneId),this._viewZoneId=void 0);const a=Math.max(t.length,i);if(a>0){const l=document.createElement("div");upe(l,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=r.addZone({afterLineNumber:e,heightInLines:a,domNode:l,afterColumnAffinity:1})}})}}function upe(s,e,t,i,n){const o=i.get(33),r=i.get(116),a="none",l=i.get(93),c=i.get(51),d=i.get(50),u=i.get(66),h=new Bm(1e4);h.appendString('<div class="suggest-preview-text">');for(let p=0,_=t.length;p<_;p++){const b=t[p],v=b.content;h.appendString('<div class="view-line'),h.appendString('" style="top:'),h.appendString(String(p*u)),h.appendString('px;width:1000000px;">');const w=Sv(v),C=Kf(v),S=ji.createEmpty(v,n);Dv(new Xd(d.isMonospace&&!o,d.canUseHalfwidthRightwardsArrow,v,!1,w,C,0,S,b.decorations,e,0,d.spaceWidth,d.middotWidth,d.wsmiddotWidth,r,a,l,c!==Jo.OFF,null),h),h.appendString("</div>")}h.appendString("</div>"),In(s,d);const g=h.build(),m=GB?GB.createHTML(g):g;s.innerHTML=m}const GB=uc("editorGhostText",{createHTML:s=>s});function hpe(s,e){const t=new C9,i=new y9(t,c=>e.getLanguageConfiguration(c)),n=new S9(new gpe([s]),i),o=TI(n,[],void 0,!0);let r="";const a=s.getLineContent();function l(c,d){if(c.kind===2)if(l(c.openingBracket,d),d=ii(d,c.openingBracket.length),c.child&&(l(c.child,d),d=ii(d,c.child.length)),c.closingBracket)l(c.closingBracket,d),d=ii(d,c.closingBracket.length);else{const h=i.getSingleLanguageBracketTokens(c.openingBracket.languageId).findClosingTokenText(c.openingBracket.bracketIds);r+=h}else if(c.kind!==3){if(c.kind===0||c.kind===1)r+=a.substring(d,ii(d,c.length));else if(c.kind===4)for(const u of c.children)l(u,d),d=ii(d,u.length)}}return l(o,ro),r}class gpe{constructor(e){this.lines=e,this.tokenization={getLineTokens:t=>this.lines[t-1]}}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}}class Xs{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const e=this.pos;let t=0,i=this.value.charCodeAt(e),n;if(n=Xs._table[i],typeof n=="number")return this.pos+=1,{type:n,pos:e,len:1};if(Xs.isDigitCharacter(i)){n=8;do t+=1,i=this.value.charCodeAt(e+t);while(Xs.isDigitCharacter(i));return this.pos+=t,{type:n,pos:e,len:t}}if(Xs.isVariableCharacter(i)){n=9;do i=this.value.charCodeAt(e+ ++t);while(Xs.isVariableCharacter(i)||Xs.isDigitCharacter(i));return this.pos+=t,{type:n,pos:e,len:t}}n=10;do t+=1,i=this.value.charCodeAt(e+t);while(!isNaN(i)&&typeof Xs._table[i]=="undefined"&&!Xs.isDigitCharacter(i)&&!Xs.isVariableCharacter(i));return this.pos+=t,{type:n,pos:e,len:t}}}Xs._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class Qm{constructor(){this._children=[]}appendChild(e){return e instanceof io&&this._children[this._children.length-1]instanceof io?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:i}=e,n=i.children.indexOf(e),o=i.children.slice(0);o.splice(n,1,...t),i._children=o,function r(a,l){for(const c of a)c.parent=l,r(c.children,c)}(t,i)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof o0)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class io extends Qm{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new io(this.value)}}class U6 extends Qm{}class ys extends U6{static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}constructor(e){super(),this.index=e}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof Ym?this._children[0]:void 0}clone(){const e=new ys(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}class Ym extends Qm{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof io&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const e=new Ym;return this.options.forEach(e.appendChild,e),e}}class nP extends Qm{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,n=e.replace(this.regexp,function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(o=>o instanceof Pr&&!!o.elseValue)&&(n=this._replace([])),n}_replace(e){let t="";for(const i of this._children)if(i instanceof Pr){let n=e[i.index]||"";n=i.resolve(n),t+=n}else t+=i.toString();return t}toString(){return""}clone(){const e=new nP;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}}class Pr extends Qm{constructor(e,t,i,n){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=n}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":e&&typeof this.ifValue=="string"?this.ifValue:!e&&typeof this.elseValue=="string"?this.elseValue:e||""}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(i=>i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((i,n)=>n===0?i.charAt(0).toLowerCase()+i.substr(1):i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}clone(){return new Pr(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class tv extends U6{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0?(this._children=[new io(t)],!0):!1}clone(){const e=new tv(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}function ZB(s,e){const t=[...s];for(;t.length>0;){const i=t.shift();if(!e(i))break;t.unshift(...i.children)}}class o0 extends Qm{get placeholderInfo(){if(!this._placeholders){const e=[];let t;this.walk(function(i){return i instanceof ys&&(e.push(i),t=!t||t.index<i.index?i:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk(n=>n===e?(i=!0,!1):(t+=n.len(),!0)),i?t:-1}fullLen(e){let t=0;return ZB([e],i=>(t+=i.len(),!0)),t}enclosingPlaceholders(e){const t=[];let{parent:i}=e;for(;i;)i instanceof ys&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof tv&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){const e=new o0;return this._children=this.children.map(t=>t.clone()),e}walk(e){ZB(this.children,e)}}class Dm{constructor(){this._scanner=new Xs,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){const n=new o0;return this.parseFragment(e,n),this.ensureFinalTabstop(n,i!=null?i:!1,t!=null?t:!1),n}parseFragment(e,t){const i=t.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(t););const n=new Map,o=[];t.walk(l=>(l instanceof ys&&(l.isFinalTabstop?n.set(0,void 0):!n.has(l.index)&&l.children.length>0?n.set(l.index,l.children):o.push(l)),!0));const r=(l,c)=>{const d=n.get(l.index);if(!d)return;const u=new ys(l.index);u.transform=l.transform;for(const h of d){const g=h.clone();u.appendChild(g),g instanceof ys&&n.has(g.index)&&!c.has(g.index)&&(c.add(g.index),r(g,c),c.delete(g.index))}t.replace(l,[u])},a=new Set;for(const l of o)r(l,a);return t.children.slice(i)}ensureFinalTabstop(e,t,i){(t||i&&e.placeholders.length>0)&&(e.placeholders.find(o=>o.index===0)||e.appendChild(new ys(0)))}_accept(e,t){if(e===void 0||this._token.type===e){const i=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),i}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){const n=this._scanner.next();if(n.type!==0&&n.type!==4&&n.type!==5)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new io(t)),!0):!1}_parseTabstopOrVariableName(e){let t;const i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new ys(Number(t)):new tv(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);const o=new ys(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new io("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else if(o.index>0&&this._accept(7)){const r=new Ym;for(;;){if(this._parseChoiceElement(r)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(r),this._accept(4)))return e.appendChild(o),!0}return this._backTo(i),!1}}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseChoiceElement(e){const t=this._token,i=[];for(;!(this._token.type===2||this._token.type===7);){let n;if((n=this._accept(5,!0))?n=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||n:n=this._accept(void 0,!0),!n)return this._backTo(t),!1;i.push(n)}return i.length===0?(this._backTo(t),!1):(e.appendChild(new io(i.join(""))),!0)}_parseComplexVariable(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);const o=new tv(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new io("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseTransform(e){const t=new nP;let i="",n="";for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(6,!0)||o,i+=o;continue}if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new io(o));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(i,n)}catch(o){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);const n=this._accept(8,!0);if(n)if(i){if(this._accept(4))return e.appendChild(new Pr(Number(n))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new Pr(Number(n))),!0;else return this._backTo(t),!1;if(this._accept(6)){const o=this._accept(9,!0);return!o||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new Pr(Number(n),o)),!0)}else if(this._accept(11)){const o=this._until(4);if(o)return e.appendChild(new Pr(Number(n),void 0,o,void 0)),!0}else if(this._accept(12)){const o=this._until(4);if(o)return e.appendChild(new Pr(Number(n),void 0,void 0,o)),!0}else if(this._accept(13)){const o=this._until(1);if(o){const r=this._until(4);if(r)return e.appendChild(new Pr(Number(n),void 0,o,r)),!0}}else{const o=this._until(4);if(o)return e.appendChild(new Pr(Number(n),void 0,void 0,o)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new io(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}var Nx=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function fpe(s,e,t,i,n=Xe.None,o){return Nx(this,void 0,void 0,function*(){const r=bpe(e,t),a=s.all(t),l=new BA;for(const b of a)b.groupId&&l.add(b.groupId,b);function c(b){if(!b.yieldsToGroupIds)return[];const v=[];for(const w of b.yieldsToGroupIds||[]){const C=l.get(w);for(const S of C)v.push(S)}return v}const d=new Map,u=new Set;function h(b,v){if(v=[...v,b],u.has(b))return v;u.add(b);try{const w=c(b);for(const C of w){const S=h(C,v);if(S)return S}}finally{u.delete(b)}}function g(b){const v=d.get(b);if(v)return v;const w=h(b,[]);w&&Ni(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${w.map(S=>S.toString?S.toString():""+S).join(" -> ")}`));const C=new VS;return d.set(b,C.p),(()=>Nx(this,void 0,void 0,function*(){if(!w){const S=c(b);for(const x of S){const L=yield g(x);if(L&&L.items.length>0)return}}try{return yield b.provideInlineCompletions(t,e,i,n)}catch(S){Ni(S);return}}))().then(S=>C.complete(S),S=>C.error(S)),C.p}const m=yield Promise.all(a.map(b=>Nx(this,void 0,void 0,function*(){return{provider:b,completions:yield g(b)}}))),p=new Map,_=[];for(const b of m){const v=b.completions;if(!v)continue;const w=new ppe(v,b.provider);_.push(w);for(const C of v.items){const S=uS.from(C,w,r,t,o);p.set(S.hash(),S)}}return new mpe(Array.from(p.values()),new Set(p.keys()),_)})}class mpe{constructor(e,t,i){this.completions=e,this.hashs=t,this.providerResults=i}has(e){return this.hashs.has(e.hash())}dispose(){for(const e of this.providerResults)e.removeRef()}}class ppe{constructor(e,t){this.inlineCompletions=e,this.provider=t,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}class uS{static from(e,t,i,n,o){let r,a,l=e.range?k.lift(e.range):i;if(typeof e.insertText=="string"){if(r=e.insertText,o&&e.completeBracketPairs){r=QB(r,l.getStartPosition(),n,o);const c=r.length-e.insertText.length;c!==0&&(l=new k(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+c))}a=void 0}else if("snippet"in e.insertText){const c=e.insertText.snippet.length;if(o&&e.completeBracketPairs){e.insertText.snippet=QB(e.insertText.snippet,l.getStartPosition(),n,o);const u=e.insertText.snippet.length-c;u!==0&&(l=new k(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+u))}const d=new Dm().parse(e.insertText.snippet);d.children.length===1&&d.children[0]instanceof io?(r=d.children[0].value,a=void 0):(r=d.toString(),a={snippet:e.insertText.snippet,range:l})}else PS(e.insertText);return new uS(r,e.command,l,r,a,e.additionalTextEdits||spe(),e,t)}constructor(e,t,i,n,o,r,a,l){this.filterText=e,this.command=t,this.range=i,this.insertText=n,this.snippetInfo=o,this.additionalTextEdits=r,this.sourceInlineCompletion=a,this.source=l,e=e.replace(/\r\n|\r/g,`
`),n=e.replace(/\r\n|\r/g,`
`)}withRange(e){return new uS(this.filterText,this.command,e,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}function bpe(s,e){const t=e.getWordAtPosition(s),i=e.getLineMaxColumn(s.lineNumber);return t?new k(s.lineNumber,t.startColumn,s.lineNumber,i):k.fromPositions(s,s.with(void 0,i))}function QB(s,e,t,i){const o=t.getLineContent(e.lineNumber).substring(0,e.column-1)+s,r=t.tokenization.tokenizeLineWithEdit(e,o.length-(e.column-1),s),a=r==null?void 0:r.sliceAndInflate(e.column-1,o.length,0);return a?hpe(a,i):s}class Im{constructor(e,t){this.range=e,this.text=t}removeCommonPrefix(e,t){const i=t?this.range.intersectRanges(t):this.range;if(!i)return this;const n=e.getValueInRange(i,1),o=hh(n,this.text),r=cN(this.range.getStartPosition(),dN(n.substring(0,o))),a=this.text.substring(o),l=k.fromPositions(r,this.range.getEndPosition());return new Im(l,a)}augments(e){return this.text.startsWith(e.text)&&_pe(this.range,e.range)}computeGhostText(e,t,i,n=0){let o=this.removeCommonPrefix(e);if(o.range.endLineNumber!==o.range.startLineNumber)return;const r=e.getLineContent(o.range.startLineNumber),a=Tt(r).length;if(o.range.startColumn-1<=a){const m=Tt(o.text).length,p=r.substring(o.range.startColumn-1,a),[_,b]=[o.range.getStartPosition(),o.range.getEndPosition()],v=_.column+p.length<=b.column?_.delta(0,p.length):b,w=k.fromPositions(v,b),C=o.text.startsWith(p)?o.text.substring(p.length):o.text.substring(m);o=new Im(w,C)}const c=e.getValueInRange(o.range),d=vpe(c,o.text);if(!d)return;const u=o.range.startLineNumber,h=new Array;if(t==="prefix"){const m=d.filter(p=>p.originalLength===0);if(m.length>1||m.length===1&&m[0].originalStart!==c.length)return}const g=o.text.length-n;for(const m of d){const p=o.range.startColumn+m.originalStart+m.originalLength;if(t==="subwordSmart"&&i&&i.lineNumber===o.range.startLineNumber&&p<i.column||m.originalLength>0)return;if(m.modifiedLength===0)continue;const _=m.modifiedStart+m.modifiedLength,b=Math.max(m.modifiedStart,Math.min(_,g)),v=o.text.substring(m.modifiedStart,b),w=o.text.substring(b,Math.max(m.modifiedStart,_));if(v.length>0){const C=Xa(v);h.push(new uN(p,C,!1))}if(w.length>0){const C=Xa(w);h.push(new uN(p,C,!0))}}return new dS(u,h)}}function _pe(s,e){return e.getStartPosition().equals(s.getStartPosition())&&e.getEndPosition().isBeforeOrEqual(s.getEndPosition())}let ma;function vpe(s,e){if((ma==null?void 0:ma.originalValue)===s&&(ma==null?void 0:ma.newValue)===e)return ma==null?void 0:ma.changes;{let t=XB(s,e,!0);if(t){const i=YB(t);if(i>0){const n=XB(s,e,!1);n&&YB(n)<i&&(t=n)}}return ma={originalValue:s,newValue:e,changes:t},t}}function YB(s){let e=0;for(const t of s)e+=t.originalLength;return e}function XB(s,e,t){if(s.length>5e3||e.length>5e3)return;function i(c){let d=0;for(let u=0,h=c.length;u<h;u++){const g=c.charCodeAt(u);g>d&&(d=g)}return d}const n=Math.max(i(s),i(e));function o(c){if(c<0)throw new Error("unexpected");return n+c+1}function r(c){let d=0,u=0;const h=new Int32Array(c.length);for(let g=0,m=c.length;g<m;g++)if(t&&c[g]==="("){const p=u*100+d;h[g]=o(2*p),d++}else if(t&&c[g]===")"){d=Math.max(d-1,0);const p=u*100+d;h[g]=o(2*p+1),d===0&&u++}else h[g]=c.charCodeAt(g);return h}const a=r(s),l=r(e);return new Da({getElements:()=>a},{getElements:()=>l}).ComputeDiff(!1).changes}var wpe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},JB=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Cpe=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};let fN=class extends H{constructor(e,t,i,n,o){super(),this.textModel=e,this.versionId=t,this._debounceValue=i,this.languageFeaturesService=n,this.languageConfigurationService=o,this._updateOperation=this._register(new pn),this.inlineCompletions=W1("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=W1("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(e,t,i){var n,o;const r=new ype(e,t,this.textModel.getVersionId()),a=t.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((n=this._updateOperation.value)===null||n===void 0)&&n.request.satisfies(r))return this._updateOperation.value.promise;if(!((o=a.get())===null||o===void 0)&&o.request.satisfies(r))return Promise.resolve(!0);const l=!!this._updateOperation.value;this._updateOperation.clear();const c=new yi,d=(()=>Cpe(this,void 0,void 0,function*(){if((l||t.triggerKind===Yl.Automatic)&&(yield Spe(this._debounceValue.get(this.textModel))),c.token.isCancellationRequested||this.textModel.getVersionId()!==r.versionId)return!1;const g=new Date,m=yield fpe(this.languageFeaturesService.inlineCompletionsProvider,e,this.textModel,t,c.token,this.languageConfigurationService);if(c.token.isCancellationRequested||this.textModel.getVersionId()!==r.versionId)return!1;const p=new Date;this._debounceValue.update(this.textModel,p.getTime()-g.getTime());const _=new xpe(m,r,this.textModel,this.versionId);if(i){const b=i.toInlineCompletion(void 0);i.canBeReused(this.textModel,e)&&!m.has(b)&&_.prepend(i.inlineCompletion,b.range,!0)}return this._updateOperation.clear(),Gt(b=>{a.set(_,b)}),!0}))(),u=new Lpe(r,c,d);return this._updateOperation.value=u,d}clear(e){this._updateOperation.clear(),this.inlineCompletions.set(void 0,e),this.suggestWidgetInlineCompletions.set(void 0,e)}clearSuggestWidgetInlineCompletions(e){var t;!((t=this._updateOperation.value)===null||t===void 0)&&t.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,e)}cancelUpdate(){this._updateOperation.clear()}};fN=wpe([JB(3,me),JB(4,Mt)],fN);function Spe(s,e){return new Promise(t=>{let i;const n=setTimeout(()=>{i&&i.dispose(),t()},s);e&&(i=e.onCancellationRequested(()=>{clearTimeout(n),i&&i.dispose(),t()}))})}class ype{constructor(e,t,i){this.position=e,this.context=t,this.versionId=i}satisfies(e){return this.position.equals(e.position)&&kpe(this.context.selectedSuggestionInfo,e.context.selectedSuggestionInfo,(t,i)=>t.equals(i))&&(e.context.triggerKind===Yl.Automatic||this.context.triggerKind===Yl.Explicit)&&this.versionId===e.versionId}}function kpe(s,e,t){return!s||!e?s===e:t(s,e)}class Lpe{constructor(e,t,i){this.request=e,this.cancellationTokenSource=t,this.promise=i}dispose(){this.cancellationTokenSource.cancel()}}class xpe{get inlineCompletions(){return this._inlineCompletions}constructor(e,t,i,n){this.inlineCompletionProviderResult=e,this.request=t,this.textModel=i,this.versionId=n,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=st(this,r=>{this.versionId.read(r);let a=!1;for(const l of this._inlineCompletions)a=a||l._updateRange(this.textModel);return a&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const o=i.deltaDecorations([],e.completions.map(r=>({range:r.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=e.completions.map((r,a)=>new e5(r,o[a],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(e=>e.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const e of this._prependedInlineCompletionItems)e.source.removeRef()}}prepend(e,t,i){i&&e.source.addRef();const n=this.textModel.deltaDecorations([],[{range:t,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new e5(e,n,this._rangeVersionId,t)),this._prependedInlineCompletionItems.push(e)}}class e5{get forwardStable(){var e;return(e=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&e!==void 0?e:!1}constructor(e,t,i,n){this.inlineCompletion=e,this.decorationId=t,this.rangeVersion=i,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=n!=null?n:e.range}toInlineCompletion(e){return this.inlineCompletion.withRange(this._getUpdatedRange(e))}toSingleTextEdit(e){return new Im(this._getUpdatedRange(e),this.inlineCompletion.insertText)}isVisible(e,t,i){const n=this._toFilterTextReplacement(i).removeCommonPrefix(e);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(i).getStartPosition())||t.lineNumber!==n.range.startLineNumber)return!1;const o=e.getValueInRange(n.range,1).toLowerCase(),r=n.text.toLowerCase(),a=Math.max(0,t.column-n.range.startColumn);let l=r.substring(0,a),c=r.substring(a),d=o.substring(0,a),u=o.substring(a);const h=e.getLineIndentColumn(n.range.startLineNumber);return n.range.startColumn<=h&&(d=d.trimStart(),d.length===0&&(u=u.trimStart()),l=l.trimStart(),l.length===0&&(c=c.trimStart())),l.startsWith(d)&&!!d7(u,c)}canBeReused(e,t){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(t)&&this.isVisible(e,t,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(e){return new Im(this._getUpdatedRange(e),this.inlineCompletion.filterText)}_isSmallerThanOriginal(e){return t5(this._getUpdatedRange(e)).isBefore(t5(this.inlineCompletion.range))}_getUpdatedRange(e){return this.rangeVersion.read(e),this._updatedRange}_updateRange(e){const t=e.getDecorationRange(this.decorationId);return t?this._updatedRange.equalsRange(t)?!1:(this._updatedRange=t,!0):(this._isValid=!1,!0)}}function t5(s){return s.startLineNumber===s.endLineNumber?new P(1,1+s.endColumn-s.startColumn):new P(1+s.endLineNumber-s.startLineNumber,s.endColumn)}var Ab=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const $e={Visible:ZM,HasFocusedSuggestion:new de("suggestWidgetHasFocusedSuggestion",!1,f("vs/editor/contrib/suggest/browser/suggest","suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new de("suggestWidgetDetailsVisible",!1,f("vs/editor/contrib/suggest/browser/suggest","suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new de("suggestWidgetMultipleSuggestions",!1,f("vs/editor/contrib/suggest/browser/suggest","suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new de("suggestionMakesTextEdit",!0,f("vs/editor/contrib/suggest/browser/suggest","suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new de("acceptSuggestionOnEnter",!0,f("vs/editor/contrib/suggest/browser/suggest","acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new de("suggestionHasInsertAndReplaceRange",!1,f("vs/editor/contrib/suggest/browser/suggest","suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new de("suggestionInsertMode",void 0,{type:"string",description:f("vs/editor/contrib/suggest/browser/suggest","suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new de("suggestionCanResolve",!1,f("vs/editor/contrib/suggest/browser/suggest","suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},bd=new D("suggestWidgetStatusBar");class Dpe{constructor(e,t,i,n){var o;this.position=e,this.completion=t,this.container=i,this.provider=n,this.isInvalid=!1,this.score=Yr.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:(o=t.label)===null||o===void 0?void 0:o.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),this.extensionId=t.extensionId,k.isIRange(t.range)?(this.editStart=new P(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new P(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new P(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||k.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new P(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new P(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new P(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||k.spansMultipleLines(t.range.insert)||k.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof n.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}resolve(e){return Ab(this,void 0,void 0,function*(){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),i=new Wn(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(n=>{Object.assign(this.completion,n),this._resolveDuration=i.elapsed()},n=>{ra(n)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{t.dispose()})}return this._resolveCache})}}class iv{constructor(e=2,t=new Set,i=new Set,n=new Map,o=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.providerItemsToReuse=n,this.showDeprecated=o}}iv.default=new iv;let Ipe;function Tpe(){return Ipe}class Epe{constructor(e,t,i,n){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=n}}function oP(s,e,t,i=iv.default,n={triggerKind:0},o=Xe.None){return Ab(this,void 0,void 0,function*(){const r=new Wn;t=t.clone();const a=e.getWordAtPosition(t),l=a?new k(t.lineNumber,a.startColumn,t.lineNumber,a.endColumn):k.fromPositions(t),c={replace:l,insert:l.setEndPosition(t.lineNumber,t.column)},d=[],u=new Y,h=[];let g=!1;const m=(_,b,v)=>{var w,C,S;let x=!1;if(!b)return x;for(const L of b.suggestions)if(!i.kindFilter.has(L.kind)){if(!i.showDeprecated&&(!((w=L==null?void 0:L.tags)===null||w===void 0)&&w.includes(1)))continue;L.range||(L.range=c),L.sortText||(L.sortText=typeof L.label=="string"?L.label:L.label.label),!g&&L.insertTextRules&&L.insertTextRules&4&&(g=Dm.guessNeedsClipboard(L.insertText)),d.push(new Dpe(t,L,b,_)),x=!0}return hA(b)&&u.add(b),h.push({providerName:(C=_._debugDisplayName)!==null&&C!==void 0?C:"unknown_provider",elapsedProvider:(S=b.duration)!==null&&S!==void 0?S:-1,elapsedOverall:v.elapsed()}),x},p=(()=>Ab(this,void 0,void 0,function*(){}))();for(const _ of s.orderedGroups(e)){let b=!1;if(yield Promise.all(_.map(v=>Ab(this,void 0,void 0,function*(){if(i.providerItemsToReuse.has(v)){const w=i.providerItemsToReuse.get(v);w.forEach(C=>d.push(C)),b=b||w.length>0;return}if(!(i.providerFilter.size>0&&!i.providerFilter.has(v)))try{const w=new Wn,C=yield v.provideCompletionItems(e,t,n,o);b=m(v,C,w)||b}catch(w){Ni(w)}}))),b||o.isCancellationRequested)break}return yield p,o.isCancellationRequested?(u.dispose(),Promise.reject(new Gd)):new Epe(d.sort(Rpe(i.snippetSortOrder)),g,{entries:h,elapsed:r.elapsed()},u)})}function sP(s,e){if(s.sortTextLow&&e.sortTextLow){if(s.sortTextLow<e.sortTextLow)return-1;if(s.sortTextLow>e.sortTextLow)return 1}return s.textLabel<e.textLabel?-1:s.textLabel>e.textLabel?1:s.completion.kind-e.completion.kind}function Npe(s,e){if(s.completion.kind!==e.completion.kind){if(s.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return sP(s,e)}function Ape(s,e){if(s.completion.kind!==e.completion.kind){if(s.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return sP(s,e)}const uk=new Map;uk.set(0,Npe);uk.set(2,Ape);uk.set(1,sP);function Rpe(s){return uk.get(s)}lt.registerCommand("_executeCompletionItemProvider",(s,...e)=>Ab(void 0,void 0,void 0,function*(){const[t,i,n,o]=e;Lt(De.isUri(t)),Lt(P.isIPosition(i)),Lt(typeof n=="string"||!n),Lt(typeof o=="number"||!o);const{completionProvider:r}=s.get(me),a=yield s.get(xo).createModelReference(t);try{const l={incomplete:!1,suggestions:[]},c=[],d=a.object.textEditorModel.validatePosition(i),u=yield oP(r,a.object.textEditorModel,d,void 0,{triggerCharacter:n!=null?n:void 0,triggerKind:n?1:0});for(const h of u.items)c.length<(o!=null?o:0)&&c.push(h.resolve(Xe.None)),l.incomplete=l.incomplete||h.container.incomplete,l.suggestions.push(h.completion);try{return yield Promise.all(c),l}finally{setTimeout(()=>u.disposable.dispose(),100)}}finally{a.dispose()}}));function Mpe(s,e){var t;(t=s.getContribution("editor.contrib.suggestController"))===null||t===void 0||t.triggerSuggest(new Set().add(e),void 0,!0)}class hf{static isAllOff(e){return e.other==="off"&&e.comments==="off"&&e.strings==="off"}static isAllOn(e){return e.other==="on"&&e.comments==="on"&&e.strings==="on"}static valueFor(e,t){switch(t){case 1:return e.comments;case 2:return e.strings;default:return e.other}}}function i5(s,e=En){return vJ(s,e)?s.charAt(0).toUpperCase()+s.slice(1):s}var Ppe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ope=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};class n5{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){const i=t.resolve(e);if(i!==void 0)return i}}}class o5{constructor(e,t,i,n){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=n}resolve(e){const{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let i=this._model.getValueInRange(this._selection)||void 0,n=this._selection.startLineNumber!==this._selection.endLineNumber;if(!i&&this._overtypingCapturer){const o=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);o&&(i=o.value,n=o.multiline)}if(i&&n&&e.snippet){const o=this._model.getLineContent(this._selection.startLineNumber),r=Tt(o,0,this._selection.startColumn-1);let a=r;e.snippet.walk(c=>c===e?!1:(c instanceof io&&(a=Tt(Xa(c.value).pop())),!0));const l=hh(a,r);i=i.replace(/(\r\n|\r|\n)(.*)/g,(c,d,u)=>`${d}${a.substr(l)}${u}`)}return i}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){const i=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return i&&i.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(t==="CURSOR_INDEX")return String(this._selectionIdx);if(t==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class s5{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if(t==="TM_FILENAME")return od(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){const i=od(this._model.uri.fsPath),n=i.lastIndexOf(".");return n<=0?i:i.slice(0,n)}else{if(t==="TM_DIRECTORY")return uW(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(ay(this._model.uri));if(t==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(t==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class r5{constructor(e,t,i,n){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=n}resolve(e){if(e.name!=="CLIPBOARD")return;const t=this._readClipboardText();if(t){if(this._spread){const i=t.split(/\r\n|\n|\r/).filter(n=>!_W(n));if(i.length===this._selectionCount)return i[this._selectionIdx]}return t}}}let hS=class{constructor(e,t,i){this._model=e,this._selection=t,this._languageConfigurationService=i}resolve(e){const{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),n=this._languageConfigurationService.getLanguageConfiguration(i).comments;if(n){if(t==="LINE_COMMENT")return n.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return n.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return n.blockCommentEndToken||void 0}}};hS=Ppe([Ope(2,Mt)],hS);class jr{constructor(){this._date=new Date}resolve(e){const{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return jr.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return jr.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return jr.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return jr.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(t==="CURRENT_TIMEZONE_OFFSET"){const i=this._date.getTimezoneOffset(),n=i>0?"-":"+",o=Math.trunc(Math.abs(i/60)),r=o<10?"0"+o:o,a=Math.abs(i)-o*60,l=a<10?"0"+a:a;return n+r+":"+l}}}jr.dayNames=[f("vs/editor/contrib/snippet/browser/snippetVariables","Sunday","Sunday"),f("vs/editor/contrib/snippet/browser/snippetVariables","Monday","Monday"),f("vs/editor/contrib/snippet/browser/snippetVariables","Tuesday","Tuesday"),f("vs/editor/contrib/snippet/browser/snippetVariables","Wednesday","Wednesday"),f("vs/editor/contrib/snippet/browser/snippetVariables","Thursday","Thursday"),f("vs/editor/contrib/snippet/browser/snippetVariables","Friday","Friday"),f("vs/editor/contrib/snippet/browser/snippetVariables","Saturday","Saturday")];jr.dayNamesShort=[f("vs/editor/contrib/snippet/browser/snippetVariables","SundayShort","Sun"),f("vs/editor/contrib/snippet/browser/snippetVariables","MondayShort","Mon"),f("vs/editor/contrib/snippet/browser/snippetVariables","TuesdayShort","Tue"),f("vs/editor/contrib/snippet/browser/snippetVariables","WednesdayShort","Wed"),f("vs/editor/contrib/snippet/browser/snippetVariables","ThursdayShort","Thu"),f("vs/editor/contrib/snippet/browser/snippetVariables","FridayShort","Fri"),f("vs/editor/contrib/snippet/browser/snippetVariables","SaturdayShort","Sat")];jr.monthNames=[f("vs/editor/contrib/snippet/browser/snippetVariables","January","January"),f("vs/editor/contrib/snippet/browser/snippetVariables","February","February"),f("vs/editor/contrib/snippet/browser/snippetVariables","March","March"),f("vs/editor/contrib/snippet/browser/snippetVariables","April","April"),f("vs/editor/contrib/snippet/browser/snippetVariables","May","May"),f("vs/editor/contrib/snippet/browser/snippetVariables","June","June"),f("vs/editor/contrib/snippet/browser/snippetVariables","July","July"),f("vs/editor/contrib/snippet/browser/snippetVariables","August","August"),f("vs/editor/contrib/snippet/browser/snippetVariables","September","September"),f("vs/editor/contrib/snippet/browser/snippetVariables","October","October"),f("vs/editor/contrib/snippet/browser/snippetVariables","November","November"),f("vs/editor/contrib/snippet/browser/snippetVariables","December","December")];jr.monthNamesShort=[f("vs/editor/contrib/snippet/browser/snippetVariables","JanuaryShort","Jan"),f("vs/editor/contrib/snippet/browser/snippetVariables","FebruaryShort","Feb"),f("vs/editor/contrib/snippet/browser/snippetVariables","MarchShort","Mar"),f("vs/editor/contrib/snippet/browser/snippetVariables","AprilShort","Apr"),f("vs/editor/contrib/snippet/browser/snippetVariables","MayShort","May"),f("vs/editor/contrib/snippet/browser/snippetVariables","JuneShort","Jun"),f("vs/editor/contrib/snippet/browser/snippetVariables","JulyShort","Jul"),f("vs/editor/contrib/snippet/browser/snippetVariables","AugustShort","Aug"),f("vs/editor/contrib/snippet/browser/snippetVariables","SeptemberShort","Sep"),f("vs/editor/contrib/snippet/browser/snippetVariables","OctoberShort","Oct"),f("vs/editor/contrib/snippet/browser/snippetVariables","NovemberShort","Nov"),f("vs/editor/contrib/snippet/browser/snippetVariables","DecemberShort","Dec")];class a5{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=Mie(this._workspaceService.getWorkspace());if(!Nie(t)){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(t);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if(YI(e))return od(e.uri.path);let t=od(e.configPath.path);return t.endsWith(XI)&&(t=t.substr(0,t.length-XI.length-1)),t}_resoveWorkspacePath(e){if(YI(e))return i5(e.uri.fsPath);const t=od(e.configPath.path);let i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?i5(i):"/"}}class l5{resolve(e){const{name:t}=e;if(t==="RANDOM")return Math.random().toString().slice(-6);if(t==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(t==="UUID")return ik()}}var Fpe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Bpe=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Ir;class Ss{constructor(e,t,i){this._editor=e,this._snippet=t,this._snippetLineLeadingWhitespace=i,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=TP(t.placeholders,ys.compareByIndex),this._placeholderGroupsIdx=-1}initialize(e){this._offset=e.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const i of this._snippet.placeholders){const n=this._snippet.offset(i),o=this._snippet.fullLen(i),r=k.fromPositions(e.getPositionAt(this._offset+n),e.getPositionAt(this._offset+n+o)),a=i.isFinalTabstop?Ss._decor.inactiveFinal:Ss._decor.inactive,l=t.addDecoration(r,a);this._placeholderDecorations.set(i,l)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const n=[];for(const o of this._placeholderGroups[this._placeholderGroupsIdx])if(o.transform){const r=this._placeholderDecorations.get(o),a=this._editor.getModel().getDecorationRange(r),l=this._editor.getModel().getValueInRange(a),c=o.transform.resolve(l).split(/\r\n|\r|\n/);for(let d=1;d<c.length;d++)c[d]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+c[d]);n.push(Zt.replace(a,c.join(this._editor.getModel().getEOL())))}n.length>0&&this._editor.executeEdits("snippet.placeholderTransform",n)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const i=this._editor.getModel().changeDecorations(n=>{const o=new Set,r=[];for(const a of this._placeholderGroups[this._placeholderGroupsIdx]){const l=this._placeholderDecorations.get(a),c=this._editor.getModel().getDecorationRange(l);r.push(new _e(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(a),n.changeDecorationOptions(l,a.isFinalTabstop?Ss._decor.activeFinal:Ss._decor.active),o.add(a);for(const d of this._snippet.enclosingPlaceholders(a)){const u=this._placeholderDecorations.get(d);n.changeDecorationOptions(u,d.isFinalTabstop?Ss._decor.activeFinal:Ss._decor.active),o.add(d)}}for(const[a,l]of this._placeholderDecorations)o.has(a)||n.changeDecorationOptions(l,a.isFinalTabstop?Ss._decor.inactiveFinal:Ss._decor.inactive);return r});return t?this.move(e):i!=null?i:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof ys){const i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[e]=this._snippet.placeholders;if(e.isFinalTabstop&&this._snippet.rightMostDescendant===e)return!0}return!1}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let i;for(const n of t){if(n.isFinalTabstop)break;i||(i=[],e.set(n.index,i));const o=this._placeholderDecorations.get(n),r=this._editor.getModel().getDecorationRange(o);if(!r){e.delete(n.index);break}i.push(r)}}return e}get activeChoice(){if(!this._placeholderDecorations)return;const e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(e!=null&&e.choice))return;const t=this._placeholderDecorations.get(e);if(!t)return;const i=this._editor.getModel().getDecorationRange(t);if(i)return{range:i,choice:e.choice}}get hasChoice(){let e=!1;return this._snippet.walk(t=>(e=t instanceof Ym,!e)),e}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(const n of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();console.assert(o._offset!==-1),console.assert(!o._placeholderDecorations);const r=o._snippet.placeholderInfo.last.index;for(const l of o._snippet.placeholderInfo.all)l.isFinalTabstop?l.index=n.index+(r+1)/this._nestingLevel:l.index=n.index+l.index/this._nestingLevel;this._snippet.replace(n,o._snippet.children);const a=this._placeholderDecorations.get(n);i.removeDecoration(a),this._placeholderDecorations.delete(n);for(const l of o._snippet.placeholders){const c=o._snippet.offset(l),d=o._snippet.fullLen(l),u=k.fromPositions(t.getPositionAt(o._offset+c),t.getPositionAt(o._offset+c+d)),h=i.addDecoration(u,Ss._decor.inactive);this._placeholderDecorations.set(l,h)}}this._placeholderGroups=TP(this._snippet.placeholders,ys.compareByIndex)})}}Ss._decor={active:Ve.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:Ve.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:Ve.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Ve.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const c5={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let gS=Ir=class{static adjustWhitespace(e,t,i,n,o){const r=e.getLineContent(t.lineNumber),a=Tt(r,0,t.column-1);let l;return n.walk(c=>{if(!(c instanceof io)||c.parent instanceof Ym||o&&!o.has(c))return!0;const d=c.value.split(/\r\n|\r|\n/);if(i){const h=n.offset(c);if(h===0)d[0]=e.normalizeIndentation(d[0]);else{l=l!=null?l:n.toString();const g=l.charCodeAt(h-1);(g===10||g===13)&&(d[0]=e.normalizeIndentation(a+d[0]))}for(let g=1;g<d.length;g++)d[g]=e.normalizeIndentation(a+d[g])}const u=d.join(e.getEOL());return u!==c.value&&(c.parent.replace(c,[new io(u)]),l=void 0),!0}),a}static adjustSelection(e,t,i,n){if(i!==0||n!==0){const{positionLineNumber:o,positionColumn:r}=t,a=r-i,l=r+n,c=e.validateRange({startLineNumber:o,startColumn:a,endLineNumber:o,endColumn:l});t=_e.createWithDirection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn,t.getDirection())}return t}static createEditsAndSnippetsFromSelections(e,t,i,n,o,r,a,l,c){const d=[],u=[];if(!e.hasModel())return{edits:d,snippets:u};const h=e.getModel(),g=e.invokeWithinContext(C=>C.get(vh)),m=e.invokeWithinContext(C=>new s5(C.get(cm),h)),p=()=>a,_=h.getValueInRange(Ir.adjustSelection(h,e.getSelection(),i,0)),b=h.getValueInRange(Ir.adjustSelection(h,e.getSelection(),0,n)),v=h.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),w=e.getSelections().map((C,S)=>({selection:C,idx:S})).sort((C,S)=>k.compareRangesUsingStarts(C.selection,S.selection));for(const{selection:C,idx:S}of w){let x=Ir.adjustSelection(h,C,i,0),L=Ir.adjustSelection(h,C,0,n);_!==h.getValueInRange(x)&&(x=C),b!==h.getValueInRange(L)&&(L=C);const I=C.setStartPosition(x.startLineNumber,x.startColumn).setEndPosition(L.endLineNumber,L.endColumn),E=new Dm().parse(t,!0,o),W=I.getStartPosition(),U=Ir.adjustWhitespace(h,W,r||S>0&&v!==h.getLineFirstNonWhitespaceColumn(C.positionLineNumber),E);E.resolveVariables(new n5([m,new r5(p,S,w.length,e.getOption(78)==="spread"),new o5(h,C,S,l),new hS(h,C,c),new jr,new a5(g),new l5])),d[S]=Zt.replace(I,E.toString()),d[S].identifier={major:S,minor:0},d[S]._isTracked=!0,u[S]=new Ss(e,E,U)}return{edits:d,snippets:u}}static createEditsAndSnippetsFromEdits(e,t,i,n,o,r,a){if(!e.hasModel()||t.length===0)return{edits:[],snippets:[]};const l=[],c=e.getModel(),d=new Dm,u=new o0,h=new n5([e.invokeWithinContext(m=>new s5(m.get(cm),c)),new r5(()=>o,0,e.getSelections().length,e.getOption(78)==="spread"),new o5(c,e.getSelection(),0,r),new hS(c,e.getSelection(),a),new jr,new a5(e.invokeWithinContext(m=>m.get(vh))),new l5]);t=t.sort((m,p)=>k.compareRangesUsingStarts(m.range,p.range));let g=0;for(let m=0;m<t.length;m++){const{range:p,template:_}=t[m];if(m>0){const S=t[m-1].range,x=k.fromPositions(S.getEndPosition(),p.getStartPosition()),L=new io(c.getValueInRange(x));u.appendChild(L),g+=L.value.length}const b=d.parseFragment(_,u);Ir.adjustWhitespace(c,p.getStartPosition(),!0,u,new Set(b)),u.resolveVariables(h);const v=u.toString(),w=v.slice(g);g=v.length;const C=Zt.replace(p,w);C.identifier={major:m,minor:0},C._isTracked=!0,l.push(C)}return d.ensureFinalTabstop(u,i,!0),{edits:l,snippets:[new Ss(e,u,"")]}}constructor(e,t,i=c5,n){this._editor=e,this._template=t,this._options=i,this._languageConfigurationService=n,this._templateMerges=[],this._snippets=[]}dispose(){St(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=typeof this._template=="string"?Ir.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):Ir.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=t,this._editor.executeEdits("snippet",e,i=>{const n=i.filter(o=>!!o.identifier);for(let o=0;o<t.length;o++)t[o].initialize(n[o].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):n.map(o=>_e.fromPositions(o.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=c5){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:i,snippets:n}=Ir.createEditsAndSnippetsFromSelections(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",i,o=>{const r=o.filter(l=>!!l.identifier);for(let l=0;l<n.length;l++)n[l].initialize(r[l].textChange);const a=n[0].isTrivialSnippet;if(!a){for(const l of this._snippets)l.merge(n);console.assert(n.length===0)}return this._snippets[0].hasPlaceholder&&!a?this._move(void 0):r.map(l=>_e.fromPositions(l.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const i of this._snippets){const n=i.move(e);t.push(...n)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;const t=new Map;for(const i of this._snippets){const n=i.computePossibleSelections();if(t.size===0)for(const[o,r]of n){r.sort(k.compareRangesUsingStarts);for(const a of e)if(r[0].containsRange(a)){t.set(o,[]);break}}if(t.size===0)return!1;t.forEach((o,r)=>{o.push(...n.get(r))})}e.sort(k.compareRangesUsingStarts);for(const[i,n]of t){if(n.length!==e.length){t.delete(i);continue}n.sort(k.compareRangesUsingStarts);for(let o=0;o<n.length;o++)if(!n[o].containsRange(e[o])){t.delete(i);continue}}return t.size>0}};gS=Ir=Fpe([Bpe(3,Mt)],gS);var Wpe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},kw=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Fg;const d5={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let bn=Fg=class{static get(e){return e.getContribution(Fg.ID)}constructor(e,t,i,n,o){this._editor=e,this._logService=t,this._languageFeaturesService=i,this._languageConfigurationService=o,this._snippetListener=new Y,this._modelVersionId=-1,this._inSnippet=Fg.InSnippetMode.bindTo(n),this._hasNextTabstop=Fg.HasNextTabstop.bindTo(n),this._hasPrevTabstop=Fg.HasPrevTabstop.bindTo(n)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,typeof t=="undefined"?d5:Object.assign(Object.assign({},d5),t))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){var i;if(this._editor.hasModel()){if(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof e!="string"&&this.cancel(),this._session?(Lt(typeof e=="string"),this._session.merge(e,t)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new gS(this._editor,e,t,this._languageConfigurationService),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),!((i=this._session)===null||i===void 0)&&i.hasChoice){const n={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(d,u)=>{if(!this._session||d!==this._editor.getModel()||!P.equals(this._editor.getPosition(),u))return;const{activeChoice:h}=this._session;if(!h||h.choice.options.length===0)return;const g=d.getValueInRange(h.range),m=!!h.choice.options.find(_=>_.value===g),p=[];for(let _=0;_<h.choice.options.length;_++){const b=h.choice.options[_];p.push({kind:13,label:b.value,insertText:b.value,sortText:"a".repeat(_+1),range:h.range,filterText:m?`${g}_${b.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:f("vs/editor/contrib/snippet/browser/snippetController2","next","Go to next placeholder...")}})}return{suggestions:p}}},o=this._editor.getModel();let r,a=!1;const l=()=>{r==null||r.dispose(),a=!1},c=()=>{a||(r=this._languageFeaturesService.completionProvider.register({language:o.getLanguageId(),pattern:o.uri.fsPath,scheme:o.uri.scheme,exclusive:!0},n),this._snippetListener.add(r),a=!0)};this._choiceCompletions={provider:n,enable:c,disable:l}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(n=>n.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var e;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:t}=this._session;if(!t||!this._choiceCompletions){(e=this._choiceCompletions)===null||e===void 0||e.disable(),this._currentChoice=void 0;return}this._currentChoice!==t.choice&&(this._currentChoice=t.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{Mpe(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(t=this._session)===null||t===void 0||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){var e;(e=this._session)===null||e===void 0||e.prev(),this._updateState()}next(){var e;(e=this._session)===null||e===void 0||e.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};bn.ID="snippetController2";bn.InSnippetMode=new de("inSnippetMode",!1,f("vs/editor/contrib/snippet/browser/snippetController2","inSnippetMode","Whether the editor in current in snippet mode"));bn.HasNextTabstop=new de("hasNextTabstop",!1,f("vs/editor/contrib/snippet/browser/snippetController2","hasNextTabstop","Whether there is a next tab stop when in snippet mode"));bn.HasPrevTabstop=new de("hasPrevTabstop",!1,f("vs/editor/contrib/snippet/browser/snippetController2","hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));bn=Fg=Wpe([kw(1,ps),kw(2,me),kw(3,Me),kw(4,Mt)],bn);gt(bn.ID,bn,4);const hk=nn.bindToContribution(bn.get);re(new hk({id:"jumpToNextSnippetPlaceholder",precondition:Z.and(bn.InSnippetMode,bn.HasNextTabstop),handler:s=>s.next(),kbOpts:{weight:100+30,kbExpr:T.editorTextFocus,primary:2}}));re(new hk({id:"jumpToPrevSnippetPlaceholder",precondition:Z.and(bn.InSnippetMode,bn.HasPrevTabstop),handler:s=>s.prev(),kbOpts:{weight:100+30,kbExpr:T.editorTextFocus,primary:1026}}));re(new hk({id:"leaveSnippet",precondition:bn.InSnippetMode,handler:s=>s.cancel(!0),kbOpts:{weight:100+30,kbExpr:T.editorTextFocus,primary:9,secondary:[1033]}}));re(new hk({id:"acceptSnippet",precondition:bn.InSnippetMode,handler:s=>s.finish()}));var Vpe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ax=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},yl=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},Zo;(function(s){s[s.Undo=0]="Undo",s[s.Redo=1]="Redo",s[s.AcceptWord=2]="AcceptWord",s[s.Other=3]="Other"})(Zo||(Zo={}));let mN=class extends H{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(e,t,i,n,o,r,a,l,c,d,u,h){super(),this.textModel=e,this.selectedSuggestItem=t,this.cursorPosition=i,this.textModelVersionId=n,this._debounceValue=o,this._suggestPreviewEnabled=r,this._suggestPreviewMode=a,this._inlineSuggestMode=l,this._enabled=c,this._instantiationService=d,this._commandService=u,this._languageConfigurationService=h,this._source=this._register(this._instantiationService.createInstance(fN,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=Bt(this,!1),this._forceUpdate=vV("forceUpdate"),this._selectedInlineCompletionId=Bt(this,void 0),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([Zo.Redo,Zo.Undo,Zo.AcceptWord]),this._fetchInlineCompletions=vae({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:Yl.Automatic}),handleChange:(m,p)=>(m.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(m.change)?p.preserveCurrentCompletion=!0:m.didChange(this._forceUpdate)&&(p.inlineCompletionTriggerKind=m.change),!0)},(m,p)=>{if(this._forceUpdate.read(m),!(this._enabled.read(m)&&this.selectedSuggestItem.read(m)||this._isActive.read(m))){this._source.cancelUpdate();return}this.textModelVersionId.read(m);const b=this.selectedInlineCompletion.get(),v=p.preserveCurrentCompletion||b!=null&&b.forwardStable?b:void 0,w=this._source.suggestWidgetInlineCompletions.get(),C=this.selectedSuggestItem.read(m);if(w&&!C){const L=this._source.inlineCompletions.get();Gt(I=>{L&&w.request.versionId>L.request.versionId&&this._source.inlineCompletions.set(w.clone(),I),this._source.clearSuggestWidgetInlineCompletions(I)})}const S=this.cursorPosition.read(m),x={triggerKind:p.inlineCompletionTriggerKind,selectedSuggestionInfo:C==null?void 0:C.toSelectedSuggestionInfo()};return this._source.fetch(S,x,v)}),this._filteredInlineCompletionItems=st(this,m=>{const p=this._source.inlineCompletions.read(m);if(!p)return[];const _=this.cursorPosition.read(m);return p.inlineCompletions.filter(v=>v.isVisible(this.textModel,_,m))}),this.selectedInlineCompletionIndex=st(this,m=>{const p=this._selectedInlineCompletionId.read(m),_=this._filteredInlineCompletionItems.read(m),b=this._selectedInlineCompletionId===void 0?-1:_.findIndex(v=>v.semanticId===p);return b===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):b}),this.selectedInlineCompletion=st(this,m=>{const p=this._filteredInlineCompletionItems.read(m),_=this.selectedInlineCompletionIndex.read(m);return p[_]}),this.lastTriggerKind=this._source.inlineCompletions.map(m=>m==null?void 0:m.request.context.triggerKind),this.inlineCompletionsCount=st(this,m=>{if(this.lastTriggerKind.read(m)===Yl.Explicit)return this._filteredInlineCompletionItems.read(m).length}),this.state=C4({owner:this,equalityComparer:(m,p)=>!m||!p?m===p:KB(m.ghostText,p.ghostText)&&m.inlineCompletion===p.inlineCompletion&&m.suggestItem===p.suggestItem},m=>{var p;const _=this.textModel,b=this.selectedSuggestItem.read(m);if(b){const v=b.toSingleTextEdit().removeCommonPrefix(_),w=this._computeAugmentedCompletion(v,m);if(!this._suggestPreviewEnabled.read(m)&&!w)return;const S=(p=w==null?void 0:w.edit)!==null&&p!==void 0?p:v,x=w?w.edit.text.length-v.text.length:0,L=this._suggestPreviewMode.read(m),I=this.cursorPosition.read(m),E=S.computeGhostText(_,L,I,x);return{ghostText:E!=null?E:new dS(S.range.endLineNumber,[]),inlineCompletion:w==null?void 0:w.completion,suggestItem:b}}else{if(!this._isActive.read(m))return;const v=this.selectedInlineCompletion.read(m);if(!v)return;const w=v.toSingleTextEdit(m),C=this._inlineSuggestMode.read(m),S=this.cursorPosition.read(m),x=w.computeGhostText(_,C,S);return x?{ghostText:x,inlineCompletion:v,suggestItem:void 0}:void 0}}),this.ghostText=C4({owner:this,equalityComparer:KB},m=>{const p=this.state.read(m);if(p)return p.ghostText}),this._register($_(this._fetchInlineCompletions));let g;this._register(Rt(m=>{var p,_;const b=this.state.read(m),v=b==null?void 0:b.inlineCompletion;if((v==null?void 0:v.semanticId)!==(g==null?void 0:g.semanticId)&&(g=v,v)){const w=v.inlineCompletion,C=w.source;(_=(p=C.provider).handleItemDidShow)===null||_===void 0||_.call(p,C.inlineCompletions,w.sourceInlineCompletion,w.insertText)}}))}trigger(e){return yl(this,void 0,void 0,function*(){this._isActive.set(!0,e),yield this._fetchInlineCompletions.get()})}triggerExplicitly(e){return yl(this,void 0,void 0,function*(){tE(e,t=>{this._isActive.set(!0,t),this._forceUpdate.trigger(t,Yl.Explicit)}),yield this._fetchInlineCompletions.get()})}stop(e){tE(e,t=>{this._isActive.set(!1,t),this._source.clear(t)})}_computeAugmentedCompletion(e,t){const i=this.textModel,n=this._source.suggestWidgetInlineCompletions.read(t),o=n?n.inlineCompletions:[this.selectedInlineCompletion.read(t)].filter(Hb);return uq(o,a=>{let l=a.toSingleTextEdit(t);return l=l.removeCommonPrefix(i,k.fromPositions(l.range.getStartPosition(),e.range.getEndPosition())),l.augments(e)?{edit:l,completion:a}:void 0})}_deltaSelectedInlineCompletionIndex(e){return yl(this,void 0,void 0,function*(){yield this.triggerExplicitly();const t=this._filteredInlineCompletionItems.get()||[];if(t.length>0){const i=(this.selectedInlineCompletionIndex.get()+e+t.length)%t.length;this._selectedInlineCompletionId.set(t[i].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return yl(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return yl(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(e){var t;return yl(this,void 0,void 0,function*(){if(e.getModel()!==this.textModel)throw new Ti;const i=this.state.get();if(!i||i.ghostText.isEmpty()||!i.inlineCompletion)return;const n=i.inlineCompletion.toInlineCompletion(void 0);e.pushUndoStop(),n.snippetInfo?(e.executeEdits("inlineSuggestion.accept",[Zt.replaceMove(n.range,""),...n.additionalTextEdits]),e.setPosition(n.snippetInfo.range.getStartPosition()),(t=bn.get(e))===null||t===void 0||t.insert(n.snippetInfo.snippet,{undoStopBefore:!1})):e.executeEdits("inlineSuggestion.accept",[Zt.replaceMove(n.range,n.insertText),...n.additionalTextEdits]),n.command&&n.source.addRef(),Gt(o=>{this._source.clear(o),this._isActive.set(!1,o)}),n.command&&(yield this._commandService.executeCommand(n.command.id,...n.command.arguments||[]).then(void 0,Ni),n.source.removeRef())})}acceptNextWord(e){return yl(this,void 0,void 0,function*(){yield this._acceptNext(e,(t,i)=>{const n=this.textModel.getLanguageIdAtPosition(t.lineNumber,t.column),o=this._languageConfigurationService.getLanguageConfiguration(n),r=new RegExp(o.wordDefinition.source,o.wordDefinition.flags.replace("g","")),a=i.match(r);let l=0;a&&a.index!==void 0?a.index===0?l=a[0].length:l=a.index:l=i.length;const d=/\s+/g.exec(i);return d&&d.index!==void 0&&d.index+d[0].length<l&&(l=d.index+d[0].length),l})})}acceptNextLine(e){return yl(this,void 0,void 0,function*(){yield this._acceptNext(e,(t,i)=>{const n=i.match(/\n/);return n&&n.index!==void 0?n.index+1:i.length})})}_acceptNext(e,t){return yl(this,void 0,void 0,function*(){if(e.getModel()!==this.textModel)throw new Ti;const i=this.state.get();if(!i||i.ghostText.isEmpty()||!i.inlineCompletion)return;const n=i.ghostText,o=i.inlineCompletion.toInlineCompletion(void 0);if(o.snippetInfo||o.filterText!==o.insertText){yield this.accept(e);return}const r=n.parts[0],a=new P(n.lineNumber,r.column),l=r.lines.join(`
`),c=t(a,l);if(c===l.length&&n.parts.length===1){this.accept(e);return}const d=l.substring(0,c);this._isAcceptingPartially=!0;try{e.pushUndoStop(),e.executeEdits("inlineSuggestion.accept",[Zt.replace(k.fromPositions(a),d)]);const u=dN(d);e.setPosition(cN(a,u))}finally{this._isAcceptingPartially=!1}if(o.source.provider.handlePartialAccept){const u=k.fromPositions(o.range.getStartPosition(),cN(a,dN(d))),h=e.getModel().getValueInRange(u,1);o.source.provider.handlePartialAccept(o.source.inlineCompletions,o.sourceInlineCompletion,h.length)}})}handleSuggestAccepted(e){var t,i;const n=e.toSingleTextEdit().removeCommonPrefix(this.textModel),o=this._computeAugmentedCompletion(n,void 0);if(!o)return;const r=o.completion.inlineCompletion;(i=(t=r.source.provider).handlePartialAccept)===null||i===void 0||i.call(t,r.source.inlineCompletions,r.sourceInlineCompletion,n.text.length)}};mN=Vpe([Ax(9,Ae),Ax(10,ci),Ax(11,Mt)],mN);var Hpe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},u5=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},nb;class rP{constructor(e){this.name=e}select(e,t,i){if(i.length===0)return 0;const n=i[0].score[0];for(let o=0;o<i.length;o++){const{score:r,completion:a}=i[o];if(r[0]!==n)break;if(a.preselect)return o}return 0}}class $6 extends rP{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}}class zpe extends rP{constructor(){super("recentlyUsed"),this._cache=new Yd(300,.66),this._seq=0}memorize(e,t,i){const n=`${e.getLanguageId()}/${i.textLabel}`;this._cache.set(n,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(i.length===0)return 0;const n=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(n))return super.select(e,t,i);const o=i[0].score[0];let r=-1,a=-1,l=-1;for(let c=0;c<i.length&&i[c].score[0]===o;c++){const d=`${e.getLanguageId()}/${i[c].textLabel}`,u=this._cache.peek(d);if(u&&u.touch>l&&u.type===i[c].completion.kind&&u.insertText===i[c].completion.insertText&&(l=u.touch,a=c),i[c].completion.preselect&&r===-1)return r=c}return a!==-1?a:r!==-1?r:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();const t=0;for(const[i,n]of e)n.touch=t,n.type=typeof n.type=="number"?n.type:jb.fromString(n.type),this._cache.set(i,n);this._seq=this._cache.size}}class Upe extends rP{constructor(){super("recentlyUsedByPrefix"),this._trie=Rf.forStrings(),this._seq=0}memorize(e,t,i){const{word:n}=e.getWordUntilPosition(t),o=`${e.getLanguageId()}/${n}`;this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){const{word:n}=e.getWordUntilPosition(t);if(!n)return super.select(e,t,i);const o=`${e.getLanguageId()}/${n}`;let r=this._trie.get(o);if(r||(r=this._trie.findSubstr(o)),r)for(let a=0;a<i.length;a++){const{kind:l,insertText:c}=i[a].completion;if(l===r.type&&c===r.insertText)return a}return super.select(e,t,i)}toJSON(){const e=[];return this._trie.forEach((t,i)=>e.push([i,t])),e.sort((t,i)=>-(t[1].touch-i[1].touch)).forEach((t,i)=>t[1].touch=i),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,i]of e)i.type=typeof i.type=="number"?i.type:jb.fromString(i.type),this._trie.set(t,i)}}}let nv=nb=class{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new Y,this._persistSoon=new xt(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(i=>{i.reason===C1.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(e,t){var i;const n=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(((i=this._strategy)===null||i===void 0?void 0:i.name)!==n){this._saveState();const o=nb._strategyCtors.get(n)||$6;this._strategy=new o;try{const a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,l=this._storageService.get(`${nb._storagePrefix}/${n}`,a);l&&this._strategy.fromJSON(JSON.parse(l))}catch(r){}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${nb._storagePrefix}/${this._strategy.name}`,i,t,1)}}};nv._strategyCtors=new Map([["recentlyUsedByPrefix",Upe],["recentlyUsed",zpe],["first",$6]]);nv._storagePrefix="suggest/memories";nv=nb=Hpe([u5(0,_r),u5(1,ot)],nv);const gk=et("ISuggestMemories");ct(gk,nv,1);var $pe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},jpe=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},pN;let ov=pN=class{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=pN.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(i=>i.hasChanged(122)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}_update(){const e=this._editor.getOption(122)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){const t=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const i=this._editor.getModel(),n=this._editor.getSelection(),o=i.getWordAtPosition(n.getStartPosition());if(!o){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(o.endColumn===n.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};ov.AtEnd=new de("atEndOfWord",!1);ov=pN=$pe([jpe(1,Me)],ov);var Kpe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},qpe=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},ob;let Oh=ob=class{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=ob.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},i){if(e.items.length===0){this.reset();return}if(ob._moveIndex(!0,e,t)===t){this.reset();return}this._acceptNext=i,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(e,t,i){let n=i;for(let o=t.items.length;o>0&&(n=(n+t.items.length+(e?1:-1))%t.items.length,!(n===i||!t.items[n].completion.additionalTextEdits));o--);return n}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(this._model)try{this._ignore=!0,this._index=ob._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};Oh.OtherSuggestions=new de("hasOtherSuggestions",!1);Oh=ob=Kpe([qpe(1,Me)],Oh);class Gpe{constructor(e,t,i,n){this._disposables=new Y,this._disposables.add(i.onDidSuggest(o=>{o.completionModel.items.length===0&&this.reset()})),this._disposables.add(i.onDidCancel(o=>{this.reset()})),this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(o=>{if(this._active&&!t.isFrozen()&&i.state!==0){const r=o.charCodeAt(o.length-1);this._active.acceptCharacters.has(r)&&e.getOption(0)&&n(this._active.item)}}))}_onItem(e){if(!e||!Bn(e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===e.item)return;const t=new BC;for(const i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var Zpe=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class Qo{provideSelectionRanges(e,t){return Zpe(this,void 0,void 0,function*(){const i=[];for(const n of t){const o=[];i.push(o);const r=new Map;yield new Promise(a=>Qo._bracketsRightYield(a,0,e,n,r)),yield new Promise(a=>Qo._bracketsLeftYield(a,0,e,n,r,o))}return i})}static _bracketsRightYield(e,t,i,n,o){const r=new Map,a=Date.now();for(;;){if(t>=Qo._maxRounds){e();break}if(!n){e();break}const l=i.bracketPairs.findNextBracket(n);if(!l){e();break}if(Date.now()-a>Qo._maxDuration){setTimeout(()=>Qo._bracketsRightYield(e,t+1,i,n,o));break}if(l.bracketInfo.isOpeningBracket){const d=l.bracketInfo.bracketText,u=r.has(d)?r.get(d):0;r.set(d,u+1)}else{const d=l.bracketInfo.getOpeningBrackets()[0].bracketText;let u=r.has(d)?r.get(d):0;if(u-=1,r.set(d,Math.max(0,u)),u<0){let h=o.get(d);h||(h=new oo,o.set(d,h)),h.push(l.range)}}n=l.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,n,o,r){const a=new Map,l=Date.now();for(;;){if(t>=Qo._maxRounds&&o.size===0){e();break}if(!n){e();break}const c=i.bracketPairs.findPrevBracket(n);if(!c){e();break}if(Date.now()-l>Qo._maxDuration){setTimeout(()=>Qo._bracketsLeftYield(e,t+1,i,n,o,r));break}if(c.bracketInfo.isOpeningBracket){const u=c.bracketInfo.bracketText;let h=a.has(u)?a.get(u):0;if(h-=1,a.set(u,Math.max(0,h)),h<0){const g=o.get(u);if(g){const m=g.shift();g.size===0&&o.delete(u);const p=k.fromPositions(c.range.getEndPosition(),m.getStartPosition()),_=k.fromPositions(c.range.getStartPosition(),m.getEndPosition());r.push({range:p}),r.push({range:_}),Qo._addBracketLeading(i,_,r)}}}else{const u=c.bracketInfo.getOpeningBrackets()[0].bracketText,h=a.has(u)?a.get(u):0;a.set(u,h+1)}n=c.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;const n=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(n);o!==0&&o!==t.startColumn&&(i.push({range:k.fromPositions(new P(n,o),t.getEndPosition())}),i.push({range:k.fromPositions(new P(n,1),t.getEndPosition())}));const r=n-1;if(r>0){const a=e.getLineFirstNonWhitespaceColumn(r);a===t.startColumn&&a!==e.getLineLastNonWhitespaceColumn(r)&&(i.push({range:k.fromPositions(new P(r,a),t.getEndPosition())}),i.push({range:k.fromPositions(new P(r,1),t.getEndPosition())}))}}}Qo._maxDuration=30;Qo._maxRounds=2;var Qpe=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class Wr{static create(e,t){return Qpe(this,void 0,void 0,function*(){if(!t.getOption(117).localityBonus||!t.hasModel())return Wr.None;const i=t.getModel(),n=t.getPosition();if(!e.canComputeWordRanges(i.uri))return Wr.None;const[o]=yield new Qo().provideSelectionRanges(i,[n]);if(o.length===0)return Wr.None;const r=yield e.computeWordRanges(i.uri,o[0].range);if(!r)return Wr.None;const a=i.getWordUntilPosition(n);return delete r[a.word],new class extends Wr{distance(l,c){if(!n.equals(t.getPosition()))return 0;if(c.kind===17)return 2<<20;const d=typeof c.label=="string"?c.label:c.label.label,u=r[d];if(W5(u))return 2<<20;const h=Wb(u,k.fromPositions(l),k.compareRangesUsingStarts),g=h>=0?u[h]:u[Math.max(0,~h-1)];let m=o.length;for(const p of o){if(!k.containsRange(p.range,g))break;m-=1}return m}}})}}Wr.None=new class extends Wr{distance(){return 0}};let h5=class{constructor(e,t){this.leadingLineContent=e,this.characterCountDelta=t}};class zc{constructor(e,t,i,n,o,r,a=py.default,l=void 0){this.clipboardText=l,this._snippetCompareFn=zc._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=n,this._options=o,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=a,r==="top"?this._snippetCompareFn=zc._compareCompletionItemsSnippetsUp:r==="bottom"&&(this._snippetCompareFn=zc._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const e=new Set;for(const[t,i]of this.getItemsByProvider())i.length>0&&i[0].container.incomplete&&e.add(t);return e}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext;let n="",o="";const r=this._refilterKind===1?this._items:this._filteredItems,a=[],l=!this._options.filterGraceful||r.length>2e3?wh:lne;for(let c=0;c<r.length;c++){const d=r[c];if(d.isInvalid)continue;const u=this._itemsByProvider.get(d.provider);u?u.push(d):this._itemsByProvider.set(d.provider,[d]);const h=d.position.column-d.editStart.column,g=h+i-(d.position.column-this._column);if(n.length!==g&&(n=g===0?"":t.slice(-g),o=n.toLowerCase()),d.word=n,g===0)d.score=Yr.Default;else{let m=0;for(;m<h;){const p=n.charCodeAt(m);if(p===32||p===9)m+=1;else break}if(m>=g)d.score=Yr.Default;else if(typeof d.completion.filterText=="string"){const p=l(n,o,m,d.completion.filterText,d.filterTextLow,0,this._fuzzyScoreOptions);if(!p)continue;$D(d.completion.filterText,d.textLabel)===0?d.score=p:(d.score=one(n,o,m,d.textLabel,d.labelLow,0),d.score[0]=p[0])}else{const p=l(n,o,m,d.textLabel,d.labelLow,0,this._fuzzyScoreOptions);if(!p)continue;d.score=p}}d.idx=c,d.distance=this._wordDistance.distance(d.position,d.completion),a.push(d),e.push(d.textLabel.length)}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?Gx(e.length-.85,e,(c,d)=>c-d):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return zc._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return zc._compareCompletionItems(e,t)}}var Ype=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},kc=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Xpe=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},bN;class _u{static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),i=e.getPosition();t.tokenization.tokenizeIfCheap(i.lineNumber);const n=t.getWordAtPosition(i);return!(!n||n.endColumn!==i.column&&n.startColumn+1!==i.column||!isNaN(Number(n.word)))}constructor(e,t,i){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.triggerOptions=i}}function Jpe(s,e,t){if(!e.getContextKeyValue(en.inlineSuggestionVisible.key))return!0;const i=e.getContextKeyValue(en.suppressSuggestions.key);return i!==void 0?!i:!s.getOption(62).suppressSuggestions}function ebe(s,e,t){if(!e.getContextKeyValue("inlineSuggestionVisible"))return!0;const i=e.getContextKeyValue(en.suppressSuggestions.key);return i!==void 0?!i:!s.getOption(62).suppressSuggestions}let _N=bN=class{constructor(e,t,i,n,o,r,a,l,c){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=n,this._logService=o,this._contextKeyService=r,this._configurationService=a,this._languageFeaturesService=l,this._envService=c,this._toDispose=new Y,this._triggerCharacterListener=new Y,this._triggerQuickSuggest=new gr,this._triggerState=void 0,this._completionDisposables=new Y,this._onDidCancel=new M,this._onDidTrigger=new M,this._onDidSuggest=new M,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new _e(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let d=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{d=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{d=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(u=>{d||this._onCursorChange(u)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!d&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){St(this._triggerCharacterListener),St([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(90)||!this._editor.hasModel()||!this._editor.getOption(120))return;const e=new Map;for(const i of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const n of i.triggerCharacters||[]){let o=e.get(n);o||(o=new Set,o.add(Tpe()),e.set(n,o)),o.add(i)}const t=i=>{var n;if(!ebe(this._editor,this._contextKeyService,this._configurationService)||_u.shouldAutoTrigger(this._editor))return;if(!i){const a=this._editor.getPosition();i=this._editor.getModel().getLineContent(a.lineNumber).substr(0,a.column-1)}let o="";gh(i.charCodeAt(i.length-1))?$i(i.charCodeAt(i.length-2))&&(o=i.substr(i.length-2)):o=i.charAt(i.length-1);const r=e.get(o);if(r){const a=new Map;if(this._completionModel)for(const[l,c]of this._completionModel.getItemsByProvider())r.has(l)||a.set(l,c);this.trigger({auto:!0,triggerKind:1,triggerCharacter:o,retrigger:!!this._completionModel,clipboardText:(n=this._completionModel)===null||n===void 0?void 0:n.clipboardText,completionOptions:{providerFilter:r,providerItemsToReuse:a}})}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(e=!1){var t;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(t=this._requestToken)===null||t===void 0||t.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;hf.isAllOff(this._editor.getOption(88))||this._editor.getOption(117).snippetsPreventQuickSuggestions&&(!((e=bn.get(this._editor))===null||e===void 0)&&e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!_u.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const t=this._editor.getModel(),i=this._editor.getPosition(),n=this._editor.getOption(88);if(!hf.isAllOff(n)){if(!hf.isAllOn(n)){t.tokenization.tokenizeIfCheap(i.lineNumber);const o=t.tokenization.getLineTokens(i.lineNumber),r=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(i.column-1-1,0)));if(hf.valueFor(n,r)!=="on")return}Jpe(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(t)&&this.trigger({auto:!0})}},this._editor.getOption(89)))}_refilterCompletionItems(){Lt(this._editor.hasModel()),Lt(this._triggerState!==void 0);const e=this._editor.getModel(),t=this._editor.getPosition(),i=new _u(e,t,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(i)}trigger(e){var t,i,n,o,r,a;if(!this._editor.hasModel())return;const l=this._editor.getModel(),c=new _u(l,this._editor.getPosition(),e);this.cancel(e.retrigger),this._triggerState=e,this._onDidTrigger.fire({auto:e.auto,shy:(t=e.shy)!==null&&t!==void 0?t:!1,position:this._editor.getPosition()}),this._context=c;let d={triggerKind:(i=e.triggerKind)!==null&&i!==void 0?i:0};e.triggerCharacter&&(d={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new yi;const u=this._editor.getOption(111);let h=1;switch(u){case"top":h=0;break;case"bottom":h=2;break}const{itemKind:g,showDeprecated:m}=bN._createSuggestFilter(this._editor),p=new iv(h,(o=(n=e.completionOptions)===null||n===void 0?void 0:n.kindFilter)!==null&&o!==void 0?o:g,(r=e.completionOptions)===null||r===void 0?void 0:r.providerFilter,(a=e.completionOptions)===null||a===void 0?void 0:a.providerItemsToReuse,m),_=Wr.create(this._editorWorkerService,this._editor),b=oP(this._languageFeaturesService.completionProvider,l,this._editor.getPosition(),p,d,this._requestToken.token);Promise.all([b,_]).then(([v,w])=>Xpe(this,void 0,void 0,function*(){var C;if((C=this._requestToken)===null||C===void 0||C.dispose(),!this._editor.hasModel())return;let S=e==null?void 0:e.clipboardText;if(!S&&v.needsClipboard&&(S=yield this._clipboardService.readText()),this._triggerState===void 0)return;const x=this._editor.getModel(),L=new _u(x,this._editor.getPosition(),e),I=Object.assign(Object.assign({},py.default),{firstMatchCanBeWeak:!this._editor.getOption(117).matchOnWordStartOnly});if(this._completionModel=new zc(v.items,this._context.column,{leadingLineContent:L.leadingLineContent,characterCountDelta:L.column-this._context.column},w,this._editor.getOption(117),this._editor.getOption(111),I,S),this._completionDisposables.add(v.disposable),this._onNewContext(L),this._reportDurationsTelemetry(v.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const E of v.items)E.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${E.provider._debugDisplayName}`,E.completion)})).catch(He)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){const t=new Set;e.getOption(111)==="none"&&t.add(27);const n=e.getOption(117);return n.showMethods||t.add(0),n.showFunctions||t.add(1),n.showConstructors||t.add(2),n.showFields||t.add(3),n.showVariables||t.add(4),n.showClasses||t.add(5),n.showStructs||t.add(6),n.showInterfaces||t.add(7),n.showModules||t.add(8),n.showProperties||t.add(9),n.showEvents||t.add(10),n.showOperators||t.add(11),n.showUnits||t.add(12),n.showValues||t.add(13),n.showConstants||t.add(14),n.showEnums||t.add(15),n.showEnumMembers||t.add(16),n.showKeywords||t.add(17),n.showWords||t.add(18),n.showColors||t.add(19),n.showFiles||t.add(20),n.showReferences||t.add(21),n.showColors||t.add(22),n.showFolders||t.add(23),n.showTypeParameters||t.add(24),n.showSnippets||t.add(27),n.showUsers||t.add(25),n.showIssues||t.add(26),{itemKind:t,showDeprecated:n.showDeprecated}}_onNewContext(e){if(this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(Tt(e.leadingLineContent)!==Tt(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){if(_u.shouldAutoTrigger(this._editor)&&this._context){const i=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:i}})}return}if(e.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&e.leadingWord.word.length!==0){const t=new Map,i=new Set;for(const[n,o]of this._completionModel.getItemsByProvider())o.length>0&&o[0].container.incomplete?i.add(n):t.set(n,o);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:i,providerItemsToReuse:t}})}else{const t=this._completionModel.lineContext;let i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){const n=_u.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(n&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:e.triggerOptions,isFrozen:i})}}}}};_N=bN=Ype([kc(1,vr),kc(2,pc),kc(3,ms),kc(4,ps),kc(5,Me),kc(6,ot),kc(7,me),kc(8,DR)],_N);class fk{constructor(e,t){this._disposables=new Y,this._lastOvertyped=[],this._locked=!1,this._disposables.add(e.onWillType(()=>{if(this._locked||!e.hasModel())return;const i=e.getSelections(),n=i.length;let o=!1;for(let a=0;a<n;a++)if(!i[a].isEmpty()){o=!0;break}if(!o){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const r=e.getModel();for(let a=0;a<n;a++){const l=i[a];if(r.getValueLengthInRange(l)>fk._maxSelectionLength)return;this._lastOvertyped[a]={value:r.getValueInRange(l),multiline:l.startLineNumber!==l.endLineNumber}}})),this._disposables.add(t.onDidTrigger(i=>{this._locked=!0})),this._disposables.add(t.onDidCancel(i=>{this._locked=!1}))}getLastOvertypedInfo(e){if(e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}fk._maxSelectionLength=51200;var tbe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Rx=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};class aP extends Ch{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=f("vs/editor/contrib/suggest/browser/suggestWidgetStatus",{key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,aP.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return(t=e.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"⏎")}}let vN=class{constructor(e,t,i,n,o){this._menuId=t,this._menuService=n,this._contextKeyService=o,this._menuDisposables=new Y,this.element=Q(e,te(".suggest-status-bar"));const r=a=>a instanceof dr?i.createInstance(aP,a,void 0):void 0;this._leftActions=new Vs(this.element,{actionViewItemProvider:r}),this._rightActions=new Vs(this.element,{actionViewItemProvider:r}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const i=[],n=[];for(const[o,r]of e.getActions())o==="left"?i.push(...r):n.push(...r);this._leftActions.clear(),this._leftActions.push(i),this._rightActions.clear(),this._rightActions.push(n)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};vN=tbe([Rx(2,Ae),Rx(3,dl),Rx(4,Me)],vN);var ibe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},nbe=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};function lP(s){return!!s&&!!(s.completion.documentation||s.completion.detail&&s.completion.detail!==s.completion.label)}let wN=class{constructor(e,t){this._editor=e,this._onDidClose=new M,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new M,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new Y,this._renderDisposeable=new Y,this._borderWidth=1,this._size=new ft(330,0),this.domNode=te(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(dc,{editor:e}),this._body=te(".body"),this._scrollbar=new Av(this._body,{alwaysConsumeMouseWheel:!0}),Q(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Q(this._body,te(".header")),this._close=Q(this._header,te("span"+Ie.asCSSSelector(se.close))),this._close.title=f("vs/editor/contrib/suggest/browser/suggestWidgetDetails","details.close","Close"),this._type=Q(this._header,te("p.type")),this._docs=Q(this._body,te("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(50),i=t.getMassagedFontFamily(),n=e.get(118)||t.fontSize,o=e.get(119)||t.lineHeight,r=t.fontWeight,a=`${n}px`,l=`${o}px`;this.domNode.style.fontSize=a,this.domNode.style.lineHeight=`${o/n}`,this.domNode.style.fontWeight=r,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=l,this._close.style.width=l}getLayoutInfo(){const e=this._editor.getOption(119)||this._editor.getOption(50).lineHeight,t=this._borderWidth,i=t*2;return{lineHeight:e,borderWidth:t,borderHeight:i,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=f("vs/editor/contrib/suggest/browser/suggestWidgetDetails","loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,n;this._renderDisposeable.clear();let{detail:o,documentation:r}=e.completion;if(t){let a="";a+=`score: ${e.score[0]}
`,a+=`prefix: ${(i=e.word)!==null&&i!==void 0?i:"(no prefix)"}
`,a+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}
`,a+=`distance: ${e.distance} (localityBonus-setting)
`,a+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}
`,a+=`commit_chars: ${(n=e.completion.commitCharacters)===null||n===void 0?void 0:n.join("")}
`,r=new xn().appendCodeblock("empty",a),o=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!lP(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),o){const a=o.length>1e5?`${o.substr(0,1e5)}…`:o;this._type.textContent=a,this._type.title=a,Ro(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(a))}else fn(this._type),this._type.title="",eo(this._type),this.domNode.classList.add("no-type");if(fn(this._docs),typeof r=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=r;else if(r){this._docs.classList.add("markdown-docs"),fn(this._docs);const a=this._markdownRenderer.render(r);this._docs.appendChild(a.element),this._renderDisposeable.add(a),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=a=>{a.preventDefault(),a.stopPropagation()},this._close.onclick=a=>{a.preventDefault(),a.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const i=new ft(e,t);ft.equals(i,this._size)||(this._size=i,wj(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};wN=ibe([nbe(1,Ae)],wN);class obe{constructor(e,t){this.widget=e,this._editor=t,this._disposables=new Y,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new WM,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let i,n,o=0,r=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,n=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(a=>{if(i&&n){this.widget.layout(a.dimension.width,a.dimension.height);let l=!1;a.west&&(r=n.width-a.dimension.width,l=!0),a.north&&(o=n.height-a.dimension.height,l=!0),l&&this._applyTopLeft({top:i.top+o,left:i.left+r})}a.done&&(i=void 0,n=void 0,o=0,r=0,this._userSize=a.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var a;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(a=this._userSize)!==null&&a!==void 0?a:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var i;const n=e.getBoundingClientRect();this._anchorBox=n,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,(i=this._userSize)!==null&&i!==void 0?i:this.widget.size,t)}_placeAtAnchor(e,t,i){var n;const o=Om(this.getDomNode().ownerDocument.body),r=this.widget.getLayoutInfo(),a=new ft(220,2*r.lineHeight),l=e.top,c=function(){const w=o.width-(e.left+e.width+r.borderWidth+r.horizontalPadding),C=-r.borderWidth+e.left+e.width,S=new ft(w,o.height-e.top-r.borderHeight-r.verticalPadding),x=S.with(void 0,e.top+e.height-r.borderHeight-r.verticalPadding);return{top:l,left:C,fit:w-t.width,maxSizeTop:S,maxSizeBottom:x,minSize:a.with(Math.min(w,a.width))}}(),d=function(){const w=e.left-r.borderWidth-r.horizontalPadding,C=Math.max(r.horizontalPadding,e.left-t.width-r.borderWidth),S=new ft(w,o.height-e.top-r.borderHeight-r.verticalPadding),x=S.with(void 0,e.top+e.height-r.borderHeight-r.verticalPadding);return{top:l,left:C,fit:w-t.width,maxSizeTop:S,maxSizeBottom:x,minSize:a.with(Math.min(w,a.width))}}(),u=function(){const w=e.left,C=-r.borderWidth+e.top+e.height,S=new ft(e.width-r.borderHeight,o.height-e.top-e.height-r.verticalPadding);return{top:C,left:w,fit:S.height-t.height,maxSizeBottom:S,maxSizeTop:S,minSize:a.with(S.width)}}(),h=[c,d,u],g=(n=h.find(w=>w.fit>=0))!==null&&n!==void 0?n:h.sort((w,C)=>C.fit-w.fit)[0],m=e.top+e.height-r.borderHeight;let p,_=t.height;const b=Math.max(g.maxSizeTop.height,g.maxSizeBottom.height);_>b&&(_=b);let v;i?_<=g.maxSizeTop.height?(p=!0,v=g.maxSizeTop):(p=!1,v=g.maxSizeBottom):_<=g.maxSizeBottom.height?(p=!1,v=g.maxSizeBottom):(p=!0,v=g.maxSizeTop),this._applyTopLeft({left:g.left,top:p?g.top:m-_}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!p,g===c,p,g!==c),this._resizable.minSize=g.minSize,this._resizable.maxSize=v,this._resizable.layout(_,Math.min(v.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var Zl;(function(s){s[s.FILE=0]="FILE",s[s.FOLDER=1]="FOLDER",s[s.ROOT_FOLDER=2]="ROOT_FOLDER"})(Zl||(Zl={}));const sbe=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Lw(s,e,t,i){const n=i===Zl.ROOT_FOLDER?["rootfolder-icon"]:i===Zl.FOLDER?["folder-icon"]:["file-icon"];if(t){let o;if(t.scheme===qe.data)o=Ad.parseMetaData(t).get(Ad.META_DATA_LABEL);else{const r=t.path.match(sbe);r?(o=xw(r[2].toLowerCase()),r[1]&&n.push(`${xw(r[1].toLowerCase())}-name-dir-icon`)):o=xw(t.authority.toLowerCase())}if(i===Zl.FOLDER)n.push(`${o}-name-folder-icon`);else{if(o){if(n.push(`${o}-name-file-icon`),n.push("name-file-icon"),o.length<=255){const a=o.split(".");for(let l=1;l<a.length;l++)n.push(`${a.slice(l).join(".")}-ext-file-icon`)}n.push("ext-file-icon")}const r=rbe(s,e,t);r&&n.push(`${xw(r)}-lang-file-icon`)}}return n}function rbe(s,e,t){if(!t)return null;let i=null;if(t.scheme===qe.data){const o=Ad.parseMetaData(t).get(Ad.META_DATA_MIME);o&&(i=e.getLanguageIdByMimeType(o))}else{const n=s.getModel(t);n&&(i=n.getLanguageId())}return i&&i!==ls?i:e.guessLanguageIdByFilepathOrFirstLine(t)}function xw(s){return s.replace(/[\11\12\14\15\40]/g,"/")}var abe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Mx=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Lc;function j6(s){return`suggest-aria-id:${s}`}const lbe=_i("suggest-more-info",se.chevronRight,f("vs/editor/contrib/suggest/browser/suggestWidgetRenderer","suggestMoreInfoIcon","Icon for more information in the suggest widget.")),cbe=new(Lc=class{extract(e,t){if(e.textLabel.match(Lc._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(Lc._regexStrict))return t[0]=e.completion.detail,!0;if(typeof e.completion.documentation=="string"){const i=Lc._regexRelaxed.exec(e.completion.documentation);if(i&&(i.index===0||i.index+i[0].length===e.completion.documentation.length))return t[0]=i[0],!0}return!1}},Lc._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Lc._regexStrict=new RegExp(`^${Lc._regexRelaxed.source}$`,"i"),Lc);let CN=class{constructor(e,t,i,n){this._editor=e,this._modelService=t,this._languageService=i,this._themeService=n,this._onDidToggleDetails=new M,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=new Y,i=e;i.classList.add("show-file-icons");const n=Q(e,te(".icon")),o=Q(n,te("span.colorspan")),r=Q(e,te(".contents")),a=Q(r,te(".main")),l=Q(a,te(".icon-label.codicon")),c=Q(a,te("span.left")),d=Q(a,te("span.right")),u=new P1(c,{supportHighlights:!0,supportIcons:!0});t.add(u);const h=Q(c,te("span.signature-label")),g=Q(c,te("span.qualifier-label")),m=Q(d,te("span.details-label")),p=Q(d,te("span.readMore"+Ie.asCSSSelector(lbe)));p.title=f("vs/editor/contrib/suggest/browser/suggestWidgetRenderer","readMore","Read More");const _=()=>{const b=this._editor.getOptions(),v=b.get(50),w=v.getMassagedFontFamily(),C=v.fontFeatureSettings,S=b.get(118)||v.fontSize,x=b.get(119)||v.lineHeight,L=v.fontWeight,I=v.letterSpacing,E=`${S}px`,W=`${x}px`,U=`${I}px`;i.style.fontSize=E,i.style.fontWeight=L,i.style.letterSpacing=U,a.style.fontFamily=w,a.style.fontFeatureSettings=C,a.style.lineHeight=W,n.style.height=W,n.style.width=W,p.style.height=W,p.style.width=W};return _(),t.add(this._editor.onDidChangeConfiguration(b=>{(b.hasChanged(50)||b.hasChanged(118)||b.hasChanged(119))&&_()})),{root:i,left:c,right:d,icon:n,colorspan:o,iconLabel:u,iconContainer:l,parametersLabel:h,qualifierLabel:g,detailsLabel:m,readMore:p,disposables:t}}renderElement(e,t,i){const{completion:n}=e;i.root.id=j6(t),i.colorspan.style.backgroundColor="";const o={labelEscapeNewLines:!0,matches:Wv(e.score)},r=[];if(n.kind===19&&cbe.extract(e,r))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=r[0];else if(n.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";const a=Lw(this._modelService,this._languageService,De.from({scheme:"fake",path:e.textLabel}),Zl.FILE),l=Lw(this._modelService,this._languageService,De.from({scheme:"fake",path:n.detail}),Zl.FILE);o.extraClasses=a.length>l.length?a:l}else n.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",o.extraClasses=[Lw(this._modelService,this._languageService,De.from({scheme:"fake",path:e.textLabel}),Zl.FOLDER),Lw(this._modelService,this._languageService,De.from({scheme:"fake",path:n.detail}),Zl.FOLDER)].flat()):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...Ie.asClassNameArray(jb.toIcon(n.kind))));n.tags&&n.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,o),typeof n.label=="string"?(i.parametersLabel.textContent="",i.detailsLabel.textContent=Px(n.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=Px(n.label.detail||""),i.detailsLabel.textContent=Px(n.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(117).showInlineDetails?Ro(i.detailsLabel):eo(i.detailsLabel),lP(e)?(i.right.classList.add("can-expand-details"),Ro(i.readMore),i.readMore.onmousedown=a=>{a.stopPropagation(),a.preventDefault()},i.readMore.onclick=a=>{a.stopPropagation(),a.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),eo(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};CN=abe([Mx(1,Qt),Mx(2,qt),Mx(3,qi)],CN);function Px(s){return s.replace(/\r\n|\r|\n/g,"")}var dbe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Dw=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},ube=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},Bg;N("editorSuggestWidget.background",{dark:li,light:li,hcDark:li,hcLight:li},f("vs/editor/contrib/suggest/browser/suggestWidget","editorSuggestWidgetBackground","Background color of the suggest widget."));N("editorSuggestWidget.border",{dark:Ha,light:Ha,hcDark:Ha,hcLight:Ha},f("vs/editor/contrib/suggest/browser/suggestWidget","editorSuggestWidgetBorder","Border color of the suggest widget."));const Iw=N("editorSuggestWidget.foreground",{dark:tr,light:tr,hcDark:tr,hcLight:tr},f("vs/editor/contrib/suggest/browser/suggestWidget","editorSuggestWidgetForeground","Foreground color of the suggest widget."));N("editorSuggestWidget.selectedForeground",{dark:$u,light:$u,hcDark:$u,hcLight:$u},f("vs/editor/contrib/suggest/browser/suggestWidget","editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget."));N("editorSuggestWidget.selectedIconForeground",{dark:Gg,light:Gg,hcDark:Gg,hcLight:Gg},f("vs/editor/contrib/suggest/browser/suggestWidget","editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const hbe=N("editorSuggestWidget.selectedBackground",{dark:ju,light:ju,hcDark:ju,hcLight:ju},f("vs/editor/contrib/suggest/browser/suggestWidget","editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));N("editorSuggestWidget.highlightForeground",{dark:ir,light:ir,hcDark:ir,hcLight:ir},f("vs/editor/contrib/suggest/browser/suggestWidget","editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget."));N("editorSuggestWidget.focusHighlightForeground",{dark:L0,light:L0,hcDark:L0,hcLight:L0},f("vs/editor/contrib/suggest/browser/suggestWidget","editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));N("editorSuggestWidgetStatus.foreground",{dark:Ce(Iw,.5),light:Ce(Iw,.5),hcDark:Ce(Iw,.5),hcLight:Ce(Iw,.5)},f("vs/editor/contrib/suggest/browser/suggestWidget","editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class gbe{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof Bd}`}restore(){var e;const t=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{const i=JSON.parse(t);if(ft.is(i))return ft.lift(i)}catch(i){}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let sv=Bg=class{constructor(e,t,i,n,o){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._pendingLayout=new pn,this._pendingShowDetails=new pn,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new gr,this._disposables=new Y,this._onDidSelect=new dh,this._onDidFocus=new dh,this._onDidHide=new M,this._onDidShow=new M,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new M,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new WM,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new fbe(this,e),this._persistedSize=new gbe(t,e);class r{constructor(g,m,p=!1,_=!1){this.persistedSize=g,this.currentSize=m,this.persistHeight=p,this.persistWidth=_}}let a;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),a=new r(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(h=>{var g,m,p,_;if(this._resize(h.dimension.width,h.dimension.height),a&&(a.persistHeight=a.persistHeight||!!h.north||!!h.south,a.persistWidth=a.persistWidth||!!h.east||!!h.west),!!h.done){if(a){const{itemHeight:b,defaultSize:v}=this.getLayoutInfo(),w=Math.round(b/2);let{width:C,height:S}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-S)<=w)&&(S=(m=(g=a.persistedSize)===null||g===void 0?void 0:g.height)!==null&&m!==void 0?m:v.height),(!a.persistWidth||Math.abs(a.currentSize.width-C)<=w)&&(C=(_=(p=a.persistedSize)===null||p===void 0?void 0:p.width)!==null&&_!==void 0?_:v.width),this._persistedSize.store(new ft(C,S))}this._contentWidget.unlockPreference(),a=void 0}})),this._messageElement=Q(this.element.domNode,te(".message")),this._listElement=Q(this.element.domNode,te(".tree"));const l=this._disposables.add(o.createInstance(wN,this.editor));l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new obe(l,this.editor);const c=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(117).showIcons);c();const d=o.createInstance(CN,this.editor);this._disposables.add(d),this._disposables.add(d.onDidToggleDetails(()=>this.toggleDetails())),this._list=new br("SuggestWidget",this._listElement,{getHeight:h=>this.getLayoutInfo().itemHeight,getTemplateId:h=>"suggestion"},[d],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>f("vs/editor/contrib/suggest/browser/suggestWidget","suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:h=>{let g=h.textLabel;if(typeof h.completion.label!="string"){const{detail:b,description:v}=h.completion.label;b&&v?g=f("vs/editor/contrib/suggest/browser/suggestWidget","label.full","{0} {1}, {2}",g,b,v):b?g=f("vs/editor/contrib/suggest/browser/suggestWidget","label.detail","{0} {1}",g,b):v&&(g=f("vs/editor/contrib/suggest/browser/suggestWidget","label.desc","{0}, {1}",g,v))}if(!h.isResolved||!this._isDetailsVisible())return g;const{documentation:m,detail:p}=h.completion,_=uh("{0}{1}",p||"",m?typeof m=="string"?m:m.value:"");return f("vs/editor/contrib/suggest/browser/suggestWidget","ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",g,_)}}}),this._list.style(Um({listInactiveFocusBackground:hbe,listInactiveFocusOutline:Ut})),this._status=o.createInstance(vN,this.element.domNode,bd);const u=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(117).showStatusBar);u(),this._disposables.add(n.onDidColorThemeChange(h=>this._onThemeChange(h))),this._onThemeChange(n.getColorTheme()),this._disposables.add(this._list.onMouseDown(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onTap(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onDidChangeSelection(h=>this._onListSelection(h))),this._disposables.add(this._list.onDidChangeFocus(h=>this._onListFocus(h))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(h=>{h.hasChanged(117)&&(u(),c())})),this._ctxSuggestWidgetVisible=$e.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=$e.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=$e.MultipleSuggestions.bindTo(i),this._ctxSuggestWidgetHasFocusedSuggestion=$e.HasFocusedSuggestion.bindTo(i),this._disposables.add(Si(this._details.widget.domNode,"keydown",h=>{this._onDetailsKeydown.fire(h)})),this._disposables.add(this.editor.onMouseDown(h=>this._onEditorMouseDown(h)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){typeof e.element=="undefined"||typeof e.index=="undefined"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=Qr(e.type)?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const i=e.elements[0],n=e.indexes[0];i!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=i,this._list.reveal(n),this._currentSuggestionDetails=Vi(o=>ube(this,void 0,void 0,function*(){const r=xd(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),a=o.onCancellationRequested(()=>r.dispose());try{return yield i.resolve(o)}finally{r.dispose(),a.dispose()}})),this._currentSuggestionDetails.then(()=>{n>=this._list.length||i!==this._list.element(n)||(this._ignoreFocusEvents=!0,this._list.splice(n,1,[i]),this._list.setFocus([n]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:j6(n)}))}).catch(He)),this._onDidFocus.fire({item:i,index:n,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:eo(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Bg.LOADING_MESSAGE,eo(this._listElement,this._status.element),Ro(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,Td(Bg.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Bg.NO_SUGGESTIONS_MESSAGE,eo(this._listElement,this._status.element),Ro(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,Td(Bg.NO_SUGGESTIONS_MESSAGE);break;case 3:eo(this._messageElement),Ro(this._listElement,this._status.element),this._show();break;case 4:eo(this._messageElement),Ro(this._listElement,this._status.element),this._show();break;case 5:eo(this._messageElement),Ro(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=xd(()=>this._setState(1),t)))}showSuggestions(e,t,i,n,o){var r,a;if(this._contentWidget.setPosition(this.editor.getPosition()),(r=this._loadingTimeout)===null||r===void 0||r.dispose(),(a=this._currentSuggestionDetails)===null||a===void 0||a.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&this._state!==2&&this._state!==0){this._setState(4);return}const l=this._completionModel.items.length,c=l===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(l>1),c){this._setState(n?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(t,0),this._list.setFocus(o?[]:[t])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=AC(()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(lP(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._pendingShowDetails.value=AC(()=>{this._pendingShowDetails.clear(),this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),i=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}isFrozen(){return this._state===4}_afterRender(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(e){var t,i,n;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const o=Om(this.element.domNode.ownerDocument.body),r=this.getLayoutInfo();e||(e=r.defaultSize);let a=e.height,l=e.width;if(this._status.element.style.height=`${r.itemHeight}px`,this._state===2||this._state===1)a=r.itemHeight+r.borderHeight,l=r.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ft(l,a),this._contentWidget.setPreference(2);else{const c=o.width-r.borderHeight-2*r.horizontalPadding;l>c&&(l=c);const d=this._completionModel?this._completionModel.stats.pLabelLen*r.typicalHalfwidthCharacterWidth:l,u=r.statusBarHeight+this._list.contentHeight+r.borderHeight,h=r.itemHeight+r.statusBarHeight,g=Pi(this.editor.getDomNode()),m=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),p=g.top+m.top+m.height,_=Math.min(o.height-p-r.verticalPadding,u),b=g.top+m.top-r.verticalPadding,v=Math.min(b,u);let w=Math.min(Math.max(v,_)+r.borderHeight,u);a===((t=this._cappedHeight)===null||t===void 0?void 0:t.capped)&&(a=this._cappedHeight.wanted),a<h&&(a=h),a>w&&(a=w);const C=150;a>_||this._forceRenderingAbove&&b>C?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),w=v):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),w=_),this.element.preferredSize=new ft(d,r.defaultSize.height),this.element.maxSize=new ft(c,w),this.element.minSize=new ft(220,h),this._cappedHeight=a===u?{wanted:(n=(i=this._cappedHeight)===null||i===void 0?void 0:i.wanted)!==null&&n!==void 0?n:e.height,capped:a}:void 0}this._resize(l,a)}_resize(e,t){const{width:i,height:n}=this.element.maxSize;e=Math.min(i,e),t=Math.min(n,t);const{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=`${t-o}px`,this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}getLayoutInfo(){const e=this.editor.getOption(50),t=Eo(this.editor.getOption(119)||e.lineHeight,8,1e3),i=!this.editor.getOption(117).showStatusBar||this._state===2||this._state===1?0:t,n=this._details.widget.borderWidth,o=2*n;return{itemHeight:t,statusBarHeight:i,borderWidth:n,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ft(430,i+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};sv.LOADING_MESSAGE=f("vs/editor/contrib/suggest/browser/suggestWidget","suggestWidget.loading","Loading...");sv.NO_SUGGESTIONS_MESSAGE=f("vs/editor/contrib/suggest/browser/suggestWidget","suggestWidget.noSuggestions","No suggestions.");sv=Bg=dbe([Dw(1,_r),Dw(2,Me),Dw(3,qi),Dw(4,Ae)],sv);class fbe{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:n}=this._widget.getLayoutInfo();return new ft(t+2*i+n,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var mbe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ig=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},SN;class pbe{constructor(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){const n=e.getOffsetAt(t),o=e.getPositionAt(n+1);this._marker=e.deltaDecorations([],[{range:k.fromPositions(t,o),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let or=SN=class{static get(e){return e.getContribution(SN.ID)}constructor(e,t,i,n,o,r,a){this._memoryService=t,this._commandService=i,this._contextKeyService=n,this._instantiationService=o,this._logService=r,this._telemetryService=a,this._lineSuffix=new pn,this._toDispose=new Y,this._selectors=new bbe(u=>u.priority),this._onWillInsertSuggestItem=new M,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=e,this.model=o.createInstance(_N,this.editor),this._selectors.register({priority:0,select:(u,h,g)=>this._memoryService.select(u,h,g)});const l=$e.InsertMode.bindTo(n);l.set(e.getOption(117).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>l.set(e.getOption(117).insertMode))),this.widget=this._toDispose.add(new Hw(()=>{const u=this._instantiationService.createInstance(sv,this.editor);this._toDispose.add(u),this._toDispose.add(u.onDidSelect(_=>this._insertSuggestion(_,0),this));const h=new Gpe(this.editor,u,this.model,_=>this._insertSuggestion(_,2));this._toDispose.add(h);const g=$e.MakesTextEdit.bindTo(this._contextKeyService),m=$e.HasInsertAndReplaceRange.bindTo(this._contextKeyService),p=$e.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(Re(()=>{g.reset(),m.reset(),p.reset()})),this._toDispose.add(u.onDidFocus(({item:_})=>{const b=this.editor.getPosition(),v=_.editStart.column,w=b.column;let C=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!_.completion.additionalTextEdits&&!(_.completion.insertTextRules&4)&&w-v===_.completion.insertText.length&&(C=this.editor.getModel().getValueInRange({startLineNumber:b.lineNumber,startColumn:v,endLineNumber:b.lineNumber,endColumn:w})!==_.completion.insertText),g.set(C),m.set(!P.equals(_.editInsertEnd,_.editReplaceEnd)),p.set(!!_.provider.resolveCompletionItem||!!_.completion.documentation||_.completion.detail!==_.completion.label)})),this._toDispose.add(u.onDetailsKeyDown(_=>{if(_.toKeyCodeChord().equals(new lc(!0,!1,!1,!1,33))||at&&_.toKeyCodeChord().equals(new lc(!1,!1,!1,!0,33))){_.stopPropagation();return}_.toKeyCodeChord().isModifierKey()||this.editor.focus()})),u})),this._overtypingCapturer=this._toDispose.add(new Hw(()=>this._toDispose.add(new fk(this.editor,this.model)))),this._alternatives=this._toDispose.add(new Hw(()=>this._toDispose.add(new Oh(this.editor,this._contextKeyService)))),this._toDispose.add(o.createInstance(ov,e)),this._toDispose.add(this.model.onDidTrigger(u=>{this.widget.value.showTriggered(u.auto,u.shy?250:50),this._lineSuffix.value=new pbe(this.editor.getModel(),u.position)})),this._toDispose.add(this.model.onDidSuggest(u=>{if(u.triggerOptions.shy)return;let h=-1;for(const m of this._selectors.itemsOrderedByPriorityDesc)if(h=m.select(this.editor.getModel(),this.editor.getPosition(),u.completionModel.items),h!==-1)break;h===-1&&(h=0);let g=!1;if(u.triggerOptions.auto){const m=this.editor.getOption(117);m.selectionMode==="never"||m.selectionMode==="always"?g=m.selectionMode==="never":m.selectionMode==="whenTriggerCharacter"?g=u.triggerOptions.triggerKind!==1:m.selectionMode==="whenQuickSuggestion"&&(g=u.triggerOptions.triggerKind===1&&!u.triggerOptions.refilter)}this.widget.value.showSuggestions(u.completionModel,h,u.isFrozen,u.triggerOptions.auto,g)})),this._toDispose.add(this.model.onDidCancel(u=>{u.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));const c=$e.AcceptSuggestionsOnEnter.bindTo(n),d=()=>{const u=this.editor.getOption(1);c.set(u==="on"||u==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>d())),d()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(e,t){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const i=bn.get(this.editor);if(!i)return;this._onWillInsertSuggestItem.fire({item:e.item});const n=this.editor.getModel(),o=n.getAlternativeVersionId(),{item:r}=e,a=[],l=new yi;t&1||this.editor.pushUndoStop();const c=this.getOverwriteInfo(r,!!(t&8));this._memoryService.memorize(n,this.editor.getPosition(),r);const d=r.isResolved;let u=-1,h=-1;if(Array.isArray(r.completion.additionalTextEdits)){this.model.cancel();const m=na.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",r.completion.additionalTextEdits.map(p=>Zt.replaceMove(k.lift(p.range),p.text))),m.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!d){const m=new Wn;let p;const _=n.onDidChangeContent(C=>{if(C.isFlush){l.cancel(),_.dispose();return}for(const S of C.changes){const x=k.getEndPosition(S.range);(!p||P.isBefore(x,p))&&(p=x)}}),b=t;t|=2;let v=!1;const w=this.editor.onWillType(()=>{w.dispose(),v=!0,b&2||this.editor.pushUndoStop()});a.push(r.resolve(l.token).then(()=>{if(!r.completion.additionalTextEdits||l.token.isCancellationRequested)return;if(p&&r.completion.additionalTextEdits.some(S=>P.isBefore(p,k.getStartPosition(S.range))))return!1;v&&this.editor.pushUndoStop();const C=na.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",r.completion.additionalTextEdits.map(S=>Zt.replaceMove(k.lift(S.range),S.text))),C.restoreRelativeVerticalPositionOfCursor(this.editor),(v||!(b&2))&&this.editor.pushUndoStop(),!0}).then(C=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",m.elapsed(),C),h=C===!0?1:C===!1?0:-2}).finally(()=>{_.dispose(),w.dispose()}))}let{insertText:g}=r.completion;if(r.completion.insertTextRules&4||(g=Dm.escape(g)),this.model.cancel(),i.insert(g,{overwriteBefore:c.overwriteBefore,overwriteAfter:c.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(r.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),t&2||this.editor.pushUndoStop(),r.completion.command)if(r.completion.command.id===s0.id)this.model.trigger({auto:!0,retrigger:!0});else{const m=new Wn;a.push(this._commandService.executeCommand(r.completion.command.id,...r.completion.command.arguments?[...r.completion.command.arguments]:[]).catch(p=>{r.completion.extensionId?Ni(p):He(p)}).finally(()=>{u=m.elapsed()}))}t&4&&this._alternatives.value.set(e,m=>{for(l.cancel();n.canUndo();){o!==n.getAlternativeVersionId()&&n.undo(),this._insertSuggestion(m,3|(t&8?8:0));break}}),this._alertCompletionItem(r),Promise.all(a).finally(()=>{this._reportSuggestionAcceptedTelemetry(r,n,d,u,h),this.model.clear(),l.dispose()})}_reportSuggestionAcceptedTelemetry(e,t,i,n,o){var r,a,l;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(a=(r=e.extensionId)===null||r===void 0?void 0:r.value)!==null&&a!==void 0?a:"unknown",providerId:(l=e.provider._debugDisplayName)!==null&&l!==void 0?l:"unknown",kind:e.completion.kind,basenameHash:_3(Ws(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:SJ(t.uri),resolveInfo:e.provider.resolveCompletionItem?i?1:0:-1,resolveDuration:e.resolveDuration,commandDuration:n,additionalEditsAsync:o})}getOverwriteInfo(e,t){Lt(this.editor.hasModel());let i=this.editor.getOption(117).insertMode==="replace";t&&(i=!i);const n=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,r=this.editor.getPosition().column-e.position.column,a=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:n+r,overwriteAfter:o+a}}_alertCompletionItem(e){if(Bn(e.completion.additionalTextEdits)){const t=f("vs/editor/contrib/suggest/browser/suggestController","aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);Fn(t)}}triggerSuggest(e,t,i){this.editor.hasModel()&&(this.model.trigger({auto:t!=null?t:!1,completionOptions:{providerFilter:e,kindFilter:i?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},n=o=>{if(o.completion.insertTextRules&4||o.completion.additionalTextEdits)return!0;const r=this.editor.getPosition(),a=o.editStart.column,l=r.column;return l-a!==o.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:r.lineNumber,startColumn:a,endLineNumber:r.lineNumber,endColumn:l})!==o.completion.insertText};ce.once(this.model.onDidTrigger)(o=>{const r=[];ce.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{St(r),i()},void 0,r),this.model.onDidSuggest(({completionModel:a})=>{if(St(r),a.items.length===0){i();return}const l=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),a.items),c=a.items[l];if(!n(c)){i();return}this.editor.pushUndoStop(),this._insertSuggestion({index:l,item:c,model:a},7)},void 0,r)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const i=this.widget.value.getFocusedItem();let n=0;e&&(n|=4),t&&(n|=8),this._insertSuggestion(i,n)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};or.ID="editor.contrib.suggestController";or=SN=mbe([Ig(1,gk),Ig(2,ci),Ig(3,Me),Ig(4,Ae),Ig(5,ps),Ig(6,ms)],or);class bbe{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,i)=>this.prioritySelector(i)-this.prioritySelector(t)),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class s0 extends ge{constructor(){super({id:s0.id,label:f("vs/editor/contrib/suggest/browser/suggestController","suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Z.and(T.writable,T.hasCompletionItemProvider,$e.Visible.toNegated()),kbOpts:{kbExpr:T.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,i){const n=or.get(t);if(!n)return;let o;i&&typeof i=="object"&&i.auto===!0&&(o=!0),n.triggerSuggest(void 0,o,void 0)}}s0.id="editor.action.triggerSuggest";gt(or.ID,or,2);ne(s0);const hs=100+90,fo=nn.bindToContribution(or.get);re(new fo({id:"acceptSelectedSuggestion",precondition:Z.and($e.Visible,$e.HasFocusedSuggestion),handler(s){s.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:Z.and($e.Visible,T.textInputFocus),weight:hs},{primary:3,kbExpr:Z.and($e.Visible,T.textInputFocus,$e.AcceptSuggestionsOnEnter,$e.MakesTextEdit),weight:hs}],menuOpts:[{menuId:bd,title:f("vs/editor/contrib/suggest/browser/suggestController","accept.insert","Insert"),group:"left",order:1,when:$e.HasInsertAndReplaceRange.toNegated()},{menuId:bd,title:f("vs/editor/contrib/suggest/browser/suggestController","accept.insert","Insert"),group:"left",order:1,when:Z.and($e.HasInsertAndReplaceRange,$e.InsertMode.isEqualTo("insert"))},{menuId:bd,title:f("vs/editor/contrib/suggest/browser/suggestController","accept.replace","Replace"),group:"left",order:1,when:Z.and($e.HasInsertAndReplaceRange,$e.InsertMode.isEqualTo("replace"))}]}));re(new fo({id:"acceptAlternativeSelectedSuggestion",precondition:Z.and($e.Visible,T.textInputFocus,$e.HasFocusedSuggestion),kbOpts:{weight:hs,kbExpr:T.textInputFocus,primary:1027,secondary:[1026]},handler(s){s.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:bd,group:"left",order:2,when:Z.and($e.HasInsertAndReplaceRange,$e.InsertMode.isEqualTo("insert")),title:f("vs/editor/contrib/suggest/browser/suggestController","accept.replace","Replace")},{menuId:bd,group:"left",order:2,when:Z.and($e.HasInsertAndReplaceRange,$e.InsertMode.isEqualTo("replace")),title:f("vs/editor/contrib/suggest/browser/suggestController","accept.insert","Insert")}]}));lt.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");re(new fo({id:"hideSuggestWidget",precondition:$e.Visible,handler:s=>s.cancelSuggestWidget(),kbOpts:{weight:hs,kbExpr:T.textInputFocus,primary:9,secondary:[1033]}}));re(new fo({id:"selectNextSuggestion",precondition:Z.and($e.Visible,Z.or($e.MultipleSuggestions,$e.HasFocusedSuggestion.negate())),handler:s=>s.selectNextSuggestion(),kbOpts:{weight:hs,kbExpr:T.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));re(new fo({id:"selectNextPageSuggestion",precondition:Z.and($e.Visible,Z.or($e.MultipleSuggestions,$e.HasFocusedSuggestion.negate())),handler:s=>s.selectNextPageSuggestion(),kbOpts:{weight:hs,kbExpr:T.textInputFocus,primary:12,secondary:[2060]}}));re(new fo({id:"selectLastSuggestion",precondition:Z.and($e.Visible,Z.or($e.MultipleSuggestions,$e.HasFocusedSuggestion.negate())),handler:s=>s.selectLastSuggestion()}));re(new fo({id:"selectPrevSuggestion",precondition:Z.and($e.Visible,Z.or($e.MultipleSuggestions,$e.HasFocusedSuggestion.negate())),handler:s=>s.selectPrevSuggestion(),kbOpts:{weight:hs,kbExpr:T.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));re(new fo({id:"selectPrevPageSuggestion",precondition:Z.and($e.Visible,Z.or($e.MultipleSuggestions,$e.HasFocusedSuggestion.negate())),handler:s=>s.selectPrevPageSuggestion(),kbOpts:{weight:hs,kbExpr:T.textInputFocus,primary:11,secondary:[2059]}}));re(new fo({id:"selectFirstSuggestion",precondition:Z.and($e.Visible,Z.or($e.MultipleSuggestions,$e.HasFocusedSuggestion.negate())),handler:s=>s.selectFirstSuggestion()}));re(new fo({id:"focusSuggestion",precondition:Z.and($e.Visible,$e.HasFocusedSuggestion.negate()),handler:s=>s.focusSuggestion(),kbOpts:{weight:hs,kbExpr:T.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}}));re(new fo({id:"focusAndAcceptSuggestion",precondition:Z.and($e.Visible,$e.HasFocusedSuggestion.negate()),handler:s=>{s.focusSuggestion(),s.acceptSelectedSuggestion(!0,!1)}}));re(new fo({id:"toggleSuggestionDetails",precondition:Z.and($e.Visible,$e.HasFocusedSuggestion),handler:s=>s.toggleSuggestionDetails(),kbOpts:{weight:hs,kbExpr:T.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:bd,group:"right",order:1,when:Z.and($e.DetailsVisible,$e.CanResolve),title:f("vs/editor/contrib/suggest/browser/suggestController","detail.more","show less")},{menuId:bd,group:"right",order:1,when:Z.and($e.DetailsVisible.toNegated(),$e.CanResolve),title:f("vs/editor/contrib/suggest/browser/suggestController","detail.less","show more")}]}));re(new fo({id:"toggleExplainMode",precondition:$e.Visible,handler:s=>s.toggleExplainMode(),kbOpts:{weight:100,primary:2138}}));re(new fo({id:"toggleSuggestionFocus",precondition:$e.Visible,handler:s=>s.toggleSuggestionFocus(),kbOpts:{weight:hs,kbExpr:T.textInputFocus,primary:2570,mac:{primary:778}}}));re(new fo({id:"insertBestCompletion",precondition:Z.and(T.textInputFocus,Z.equals("config.editor.tabCompletion","on"),ov.AtEnd,$e.Visible.toNegated(),Oh.OtherSuggestions.toNegated(),bn.InSnippetMode.toNegated()),handler:(s,e)=>{s.triggerSuggestAndAcceptBest(no(e)?Object.assign({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:hs,primary:2}}));re(new fo({id:"insertNextSuggestion",precondition:Z.and(T.textInputFocus,Z.equals("config.editor.tabCompletion","on"),Oh.OtherSuggestions,$e.Visible.toNegated(),bn.InSnippetMode.toNegated()),handler:s=>s.acceptNextSuggestion(),kbOpts:{weight:hs,kbExpr:T.textInputFocus,primary:2}}));re(new fo({id:"insertPrevSuggestion",precondition:Z.and(T.textInputFocus,Z.equals("config.editor.tabCompletion","on"),Oh.OtherSuggestions,$e.Visible.toNegated(),bn.InSnippetMode.toNegated()),handler:s=>s.acceptPrevSuggestion(),kbOpts:{weight:hs,kbExpr:T.textInputFocus,primary:1026}}));ne(class extends ge{constructor(){super({id:"editor.action.resetSuggestSize",label:f("vs/editor/contrib/suggest/browser/suggestController","suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(s,e){var t;(t=or.get(e))===null||t===void 0||t.resetWidgetSize()}});class _be extends H{get selectedItem(){return this._selectedItem}constructor(e,t,i,n){super(),this.editor=e,this.suggestControllerPreselector=t,this.checkModelVersion=i,this.onWillAccept=n,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=Bt(this,void 0),this._register(e.onKeyDown(r=>{r.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(r=>{r.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const o=or.get(this.editor);if(o){this._register(o.registerSelector({priority:100,select:(l,c,d)=>{var u;Gt(b=>this.checkModelVersion(b));const h=this.editor.getModel();if(!h)return-1;const g=(u=this.suggestControllerPreselector())===null||u===void 0?void 0:u.removeCommonPrefix(h);if(!g)return-1;const m=P.lift(c),p=d.map((b,v)=>{const C=Rb.fromSuggestion(o,h,m,b,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(h),S=g.augments(C);return{index:v,valid:S,prefixLength:C.text.length,suggestItem:b}}).filter(b=>b&&b.valid&&b.prefixLength>0),_=C3(p,Es(b=>b.prefixLength,Ql));return _?_.index:-1}}));let r=!1;const a=()=>{r||(r=!0,this._register(o.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(o.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(o.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(ce.once(o.model.onDidTrigger)(l=>{a()})),this._register(o.onWillInsertSuggestItem(l=>{const c=this.editor.getPosition(),d=this.editor.getModel();if(!c||!d)return;const u=Rb.fromSuggestion(o,d,c,l.item,this.isShiftKeyPressed);this.onWillAccept(u)}))}this.update(this._isActive)}update(e){const t=this.getSuggestItemInfo();(this._isActive!==e||!vbe(this._currentSuggestItemInfo,t))&&(this._isActive=e,this._currentSuggestItemInfo=t,Gt(i=>{this.checkModelVersion(i),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,i)}))}getSuggestItemInfo(){const e=or.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem(),i=this.editor.getPosition(),n=this.editor.getModel();if(!(!t||!i||!n))return Rb.fromSuggestion(e,n,i,t.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const e=or.get(this.editor);e==null||e.stopForceRenderingAbove()}forceRenderingAbove(){const e=or.get(this.editor);e==null||e.forceRenderingAbove()}}class Rb{static fromSuggestion(e,t,i,n,o){let{insertText:r}=n.completion,a=!1;if(n.completion.insertTextRules&4){const c=new Dm().parse(r);c.children.length<100&&gS.adjustWhitespace(t,i,!0,c),r=c.toString(),a=!0}const l=e.getOverwriteInfo(n,o);return new Rb(k.fromPositions(i.delta(0,-l.overwriteBefore),i.delta(0,Math.max(l.overwriteAfter,0))),r,n.completion.kind,a)}constructor(e,t,i,n){this.range=e,this.insertText=t,this.completionItemKind=i,this.isSnippetText=n}equals(e){return this.range.equalsRange(e.range)&&this.insertText===e.insertText&&this.completionItemKind===e.completionItemKind&&this.isSnippetText===e.isSnippetText}toSelectedSuggestionInfo(){return new pW(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new Im(this.range,this.insertText)}}function vbe(s,e){return s===e?!0:!s||!e?!1:s.equals(e)}var wbe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},xc=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},yN;let gs=yN=class extends H{static get(e){return e.getContribution(yN.ID)}constructor(e,t,i,n,o,r,a,l,c){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.configurationService=n,this.commandService=o,this.debounceService=r,this.languageFeaturesService=a,this.audioCueService=l,this._keybindingService=c,this.model=W1("inlineCompletionModel",void 0),this.textModelVersionId=Bt(this,-1),this.cursorPosition=Bt(this,new P(1,1)),this.suggestWidgetAdaptor=this._register(new _be(this.editor,()=>{var h,g;return(g=(h=this.model.get())===null||h===void 0?void 0:h.selectedInlineCompletion.get())===null||g===void 0?void 0:g.toSingleTextEdit(void 0)},h=>this.updateObservables(h,Zo.Other),h=>{Gt(g=>{var m;this.updateObservables(g,Zo.Other),(m=this.model.get())===null||m===void 0||m.handleSuggestAccepted(h)})})),this._enabled=gn(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this.ghostTextWidget=this._register(this.instantiationService.createInstance(gN,this.editor,{ghostText:this.model.map((h,g)=>h==null?void 0:h.ghostText.read(g)),minReservedLineCount:V1(0),targetTextModel:this.model.map(h=>h==null?void 0:h.textModel)})),this._debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(new en(this.contextKeyService,this.model)),this._register(ce.runAndSubscribe(e.onDidChangeModel,()=>Gt(h=>{this.model.set(void 0,h),this.updateObservables(h,Zo.Other);const g=e.getModel();if(g){const m=t.createInstance(mN,g,this.suggestWidgetAdaptor.selectedItem,this.cursorPosition,this.textModelVersionId,this._debounceValue,gn(e.onDidChangeConfiguration,()=>e.getOption(117).preview),gn(e.onDidChangeConfiguration,()=>e.getOption(117).previewMode),gn(e.onDidChangeConfiguration,()=>e.getOption(62).mode),this._enabled);this.model.set(m,h)}})));const d=h=>{var g;return h.isUndoing?Zo.Undo:h.isRedoing?Zo.Redo:!((g=this.model.get())===null||g===void 0)&&g.isAcceptingPartially?Zo.AcceptWord:Zo.Other};this._register(e.onDidChangeModelContent(h=>Gt(g=>this.updateObservables(g,d(h))))),this._register(e.onDidChangeCursorPosition(h=>Gt(g=>{var m;this.updateObservables(g,Zo.Other),(h.reason===3||h.source==="api")&&((m=this.model.get())===null||m===void 0||m.stop(g))}))),this._register(e.onDidType(()=>Gt(h=>{var g;this.updateObservables(h,Zo.Other),this._enabled.get()&&((g=this.model.get())===null||g===void 0||g.trigger(h))}))),this._register(this.commandService.onDidExecuteCommand(h=>{new Set([Df.Tab.id,Df.DeleteLeft.id,Df.DeleteRight.id,o6,"acceptSelectedSuggestion"]).has(h.commandId)&&e.hasTextFocus()&&this._enabled.get()&&Gt(m=>{var p;(p=this.model.get())===null||p===void 0||p.trigger(m)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.contextKeyService.getContextKeyValue("accessibleViewIsShown")||this.configurationService.getValue("editor.inlineSuggest.keepOnBlur")||e.getOption(62).keepOnBlur||zd.dropDownVisible||Gt(h=>{var g;(g=this.model.get())===null||g===void 0||g.stop(h)})})),this._register(Rt(h=>{var g;const m=(g=this.model.read(h))===null||g===void 0?void 0:g.state.read(h);m!=null&&m.suggestItem?m.ghostText.lineCount>=2&&this.suggestWidgetAdaptor.forceRenderingAbove():this.suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register(Re(()=>{this.suggestWidgetAdaptor.stopForceRenderingAbove()}));let u;this._register(Rt(h=>{const g=this.model.read(h),m=g==null?void 0:g.state.read(h);if(!g||!m||!m.inlineCompletion){u=void 0;return}if(m.inlineCompletion.semanticId!==u){u=m.inlineCompletion.semanticId;const p=g.textModel.getLineContent(m.ghostText.lineNumber);this.audioCueService.playAudioCue(ht.inlineSuggestion).then(()=>{this.editor.getOption(8)&&this.provideScreenReaderUpdate(m.ghostText.renderForScreenReader(p))})}})),this._register(new $E(this.editor,this.model,this.instantiationService)),this._register(this.configurationService.onDidChangeConfiguration(h=>{h.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this.configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this.configurationService.getValue("accessibility.verbosity.inlineCompletions")})}provideScreenReaderUpdate(e){const t=this.contextKeyService.getContextKeyValue("accessibleViewIsShown"),i=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let n;!t&&i&&this.editor.getOption(147)&&(n=f("showAccessibleViewHint","Inspect this in the accessible view ({0})",i.getAriaLabel())),Fn(n?e+", "+n:e)}updateObservables(e,t){var i,n;const o=this.editor.getModel();this.textModelVersionId.set((i=o==null?void 0:o.getVersionId())!==null&&i!==void 0?i:-1,e,t),this.cursorPosition.set((n=this.editor.getPosition())!==null&&n!==void 0?n:new P(1,1),e)}shouldShowHoverAt(e){var t;const i=(t=this.model.get())===null||t===void 0?void 0:t.ghostText.get();return i?i.parts.some(n=>e.containsPosition(new P(i.lineNumber,n.column))):!1}shouldShowHoverAtViewZone(e){return this.ghostTextWidget.ownsViewZone(e)}};gs.ID="editor.contrib.inlineCompletionsController";gs=yN=wbe([xc(1,Ae),xc(2,Me),xc(3,ot),xc(4,ci),xc(5,zs),xc(6,me),xc(7,Kv),xc(8,Et)],gs);var iu=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class mk extends ge{constructor(){super({id:mk.ID,label:f("vs/editor/contrib/inlineCompletions/browser/commands","action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Z.and(T.writable,en.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(e,t){var i;return iu(this,void 0,void 0,function*(){const n=gs.get(t);(i=n==null?void 0:n.model.get())===null||i===void 0||i.next()})}}mk.ID=r6;class pk extends ge{constructor(){super({id:pk.ID,label:f("vs/editor/contrib/inlineCompletions/browser/commands","action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Z.and(T.writable,en.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(e,t){var i;return iu(this,void 0,void 0,function*(){const n=gs.get(t);(i=n==null?void 0:n.model.get())===null||i===void 0||i.previous()})}}pk.ID=s6;class Cbe extends ge{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:f("vs/editor/contrib/inlineCompletions/browser/commands","action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:T.writable})}run(e,t){var i;return iu(this,void 0,void 0,function*(){const n=gs.get(t);(i=n==null?void 0:n.model.get())===null||i===void 0||i.triggerExplicitly()})}}class Sbe extends ge{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:f("vs/editor/contrib/inlineCompletions/browser/commands","action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:Z.and(T.writable,en.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2065,kbExpr:Z.and(T.writable,en.inlineSuggestionVisible)},menuOpts:[{menuId:D.InlineSuggestionToolbar,title:f("vs/editor/contrib/inlineCompletions/browser/commands","acceptWord","Accept Word"),group:"primary",order:2}]})}run(e,t){var i;return iu(this,void 0,void 0,function*(){const n=gs.get(t);yield(i=n==null?void 0:n.model.get())===null||i===void 0?void 0:i.acceptNextWord(n.editor)})}}class ybe extends ge{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:f("vs/editor/contrib/inlineCompletions/browser/commands","action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:Z.and(T.writable,en.inlineSuggestionVisible),kbOpts:{weight:100+1},menuOpts:[{menuId:D.InlineSuggestionToolbar,title:f("vs/editor/contrib/inlineCompletions/browser/commands","acceptLine","Accept Line"),group:"secondary",order:2}]})}run(e,t){var i;return iu(this,void 0,void 0,function*(){const n=gs.get(t);yield(i=n==null?void 0:n.model.get())===null||i===void 0?void 0:i.acceptNextLine(n.editor)})}}class kbe extends ge{constructor(){super({id:o6,label:f("vs/editor/contrib/inlineCompletions/browser/commands","action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:en.inlineSuggestionVisible,menuOpts:[{menuId:D.InlineSuggestionToolbar,title:f("vs/editor/contrib/inlineCompletions/browser/commands","accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:Z.and(en.inlineSuggestionVisible,T.tabMovesFocus.toNegated(),en.inlineSuggestionHasIndentationLessThanTabSize,$e.Visible.toNegated(),T.hoverFocused.toNegated())}})}run(e,t){var i;return iu(this,void 0,void 0,function*(){const n=gs.get(t);n&&((i=n.model.get())===null||i===void 0||i.accept(n.editor),n.editor.focus())})}}class bk extends ge{constructor(){super({id:bk.ID,label:f("vs/editor/contrib/inlineCompletions/browser/commands","action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:en.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(e,t){return iu(this,void 0,void 0,function*(){const i=gs.get(t);Gt(n=>{var o;(o=i==null?void 0:i.model.get())===null||o===void 0||o.stop(n)})})}}bk.ID="editor.action.inlineSuggest.hide";class _k extends fs{constructor(){super({id:_k.ID,title:f("vs/editor/contrib/inlineCompletions/browser/commands","action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:D.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:Z.equals("config.editor.inlineSuggest.showToolbar","always")})}run(e,t){return iu(this,void 0,void 0,function*(){const i=e.get(ot),o=i.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";i.updateValue("editor.inlineSuggest.showToolbar",o)})}}_k.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";var Lbe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ap=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};class xbe{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let kN=class{constructor(e,t,i,n,o,r){this._editor=e,this._languageService=t,this._openerService=i,this.accessibilityService=n,this._instantiationService=o,this._telemetryService=r,this.hoverOrdinal=4}suggestHoverAnchor(e){const t=gs.get(this._editor);if(!t)return null;const i=e.target;if(i.type===8){const n=i.detail;if(t.shouldShowHoverAtViewZone(n.viewZoneId))return new hC(1e3,this,k.fromPositions(this._editor.getModel().validatePosition(n.positionBefore||n.position)),e.event.posx,e.event.posy,!1)}return i.type===7&&t.shouldShowHoverAt(i.range)?new hC(1e3,this,i.range,e.event.posx,e.event.posy,!1):i.type===6&&i.detail.mightBeForeignElement&&t.shouldShowHoverAt(i.range)?new hC(1e3,this,i.range,e.event.posx,e.event.posy,!1):null}computeSync(e,t){if(this._editor.getOption(62).showToolbar==="always")return[];const i=gs.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new xbe(this,e.range,i)]:[]}renderHoverParts(e,t){const i=new Y,n=t[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(e,n,i);const o=n.controller.model.get(),r=this._instantiationService.createInstance(zd,this._editor,!1,V1(null),o.selectedInlineCompletionIndex,o.inlineCompletionsCount,o.selectedInlineCompletion.map(a=>{var l;return(l=a==null?void 0:a.inlineCompletion.source.inlineCompletions.commands)!==null&&l!==void 0?l:[]}));return e.fragment.appendChild(r.getDomNode()),o.triggerExplicitly(),i.add(r),i}renderScreenReaderText(e,t,i){const n=te,o=n("div.hover-row.markdown-hover"),r=Q(o,n("div.hover-contents",{"aria-live":"assertive"})),a=i.add(new dc({editor:this._editor},this._languageService,this._openerService)),l=c=>{i.add(a.onDidRenderAsync(()=>{r.className="hover-contents code-hover-contents",e.onContentsChanged()}));const d=f("vs/editor/contrib/inlineCompletions/browser/hoverParticipant","inlineSuggestionFollows","Suggestion:"),u=i.add(a.render(new xn().appendText(d).appendCodeblock("text",c)));r.replaceChildren(u.element)};i.add(Rt(c=>{var d;const u=(d=t.controller.model.read(c))===null||d===void 0?void 0:d.ghostText.read(c);if(u){const h=this._editor.getModel().getLineContent(u.lineNumber);l(u.renderForScreenReader(h))}else mn(r)})),e.fragment.appendChild(o)}};kN=Lbe([Ap(1,qt),Ap(2,$o),Ap(3,hc),Ap(4,Ae),Ap(5,ms)],kN);gt(gs.ID,gs,3);ne(Cbe);ne(mk);ne(pk);ne(Sbe);ne(ybe);ne(kbe);ne(bk);jt(_k);lg.register(kN);function To(s,e){let t=0;for(let i=0;i<s.length;i++)s.charAt(i)==="	"?t+=e:t++;return t}function Mb(s,e,t){s=s<0?0:s;let i="";if(!t){const n=Math.floor(s/e);s=s%e;for(let o=0;o<n;o++)i+="	"}for(let n=0;n<s;n++)i+=" ";return i}var Dbe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ibe=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};function K6(s,e,t,i,n){if(s.getLineCount()===1&&s.getLineMaxColumn(1)===1)return[];const o=e.getLanguageConfiguration(s.getLanguageId()).indentationRules;if(!o)return[];for(i=Math.min(i,s.getLineCount());t<=i&&o.unIndentedLinePattern;){const _=s.getLineContent(t);if(!o.unIndentedLinePattern.test(_))break;t++}if(t>i-1)return[];const{tabSize:r,indentSize:a,insertSpaces:l}=s.getOptions(),c=(_,b)=>(b=b||1,xs.shiftIndent(_,_.length+b,r,a,l)),d=(_,b)=>(b=b||1,xs.unshiftIndent(_,_.length+b,r,a,l)),u=[];let h;const g=s.getLineContent(t);let m=g;if(n!=null){h=n;const _=Tt(g);m=h+g.substring(_.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(m)&&(h=d(h),m=h+g.substring(_.length)),g!==m&&u.push(Zt.replaceMove(new _e(t,1,t,_.length+1),QC(h,a,l)))}else h=Tt(g);let p=h;o.increaseIndentPattern&&o.increaseIndentPattern.test(m)?(p=c(p),h=c(h)):o.indentNextLinePattern&&o.indentNextLinePattern.test(m)&&(p=c(p)),t++;for(let _=t;_<=i;_++){const b=s.getLineContent(_),v=Tt(b),w=p+b.substring(v.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(w)&&(p=d(p),h=d(h)),v!==p&&u.push(Zt.replaceMove(new _e(_,1,_,v.length+1),QC(p,a,l))),!(o.unIndentedLinePattern&&o.unIndentedLinePattern.test(b))&&(o.increaseIndentPattern&&o.increaseIndentPattern.test(w)?(h=c(h),p=h):o.indentNextLinePattern&&o.indentNextLinePattern.test(w)?p=c(p):p=h)}return u}class vk extends ge{constructor(){super({id:vk.ID,label:f("vs/editor/contrib/indentation/browser/indentation","indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:T.writable})}run(e,t){const i=t.getModel();if(!i)return;const n=i.getOptions(),o=t.getSelection();if(!o)return;const r=new Abe(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}vk.ID="editor.action.indentationToSpaces";class wk extends ge{constructor(){super({id:wk.ID,label:f("vs/editor/contrib/indentation/browser/indentation","indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:T.writable})}run(e,t){const i=t.getModel();if(!i)return;const n=i.getOptions(),o=t.getSelection();if(!o)return;const r=new Rbe(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}wk.ID="editor.action.indentationToTabs";class cP extends ge{constructor(e,t,i){super(i),this.insertSpaces=e,this.displaySizeOnly=t}run(e,t){const i=e.get(ca),n=e.get(Qt),o=t.getModel();if(!o)return;const r=n.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),a=o.getOptions(),l=[1,2,3,4,5,6,7,8].map(d=>({id:d.toString(),label:d.toString(),description:d===r.tabSize&&d===a.tabSize?f("vs/editor/contrib/indentation/browser/indentation","configuredTabSize","Configured Tab Size"):d===r.tabSize?f("vs/editor/contrib/indentation/browser/indentation","defaultTabSize","Default Tab Size"):d===a.tabSize?f("vs/editor/contrib/indentation/browser/indentation","currentTabSize","Current Tab Size"):void 0})),c=Math.min(o.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(l,{placeHolder:f("vs/editor/contrib/indentation/browser/indentation",{key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:l[c]}).then(d=>{if(d&&o&&!o.isDisposed()){const u=parseInt(d.label,10);this.displaySizeOnly?o.updateOptions({tabSize:u}):o.updateOptions({tabSize:u,indentSize:u,insertSpaces:this.insertSpaces})}})},50)}}class Ck extends cP{constructor(){super(!1,!1,{id:Ck.ID,label:f("vs/editor/contrib/indentation/browser/indentation","indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}Ck.ID="editor.action.indentUsingTabs";class Sk extends cP{constructor(){super(!0,!1,{id:Sk.ID,label:f("vs/editor/contrib/indentation/browser/indentation","indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}Sk.ID="editor.action.indentUsingSpaces";class yk extends cP{constructor(){super(!0,!0,{id:yk.ID,label:f("vs/editor/contrib/indentation/browser/indentation","changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}}yk.ID="editor.action.changeTabDisplaySize";class kk extends ge{constructor(){super({id:kk.ID,label:f("vs/editor/contrib/indentation/browser/indentation","detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(Qt),n=t.getModel();if(!n)return;const o=i.getCreationOptions(n.getLanguageId(),n.uri,n.isForSimpleWidget);n.detectIndentation(o.insertSpaces,o.tabSize)}}kk.ID="editor.action.detectIndentation";class Tbe extends ge{constructor(){super({id:"editor.action.reindentlines",label:f("vs/editor/contrib/indentation/browser/indentation","editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:T.writable})}run(e,t){const i=e.get(Mt),n=t.getModel();if(!n)return;const o=K6(n,i,1,n.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class Ebe extends ge{constructor(){super({id:"editor.action.reindentselectedlines",label:f("vs/editor/contrib/indentation/browser/indentation","editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:T.writable})}run(e,t){const i=e.get(Mt),n=t.getModel();if(!n)return;const o=t.getSelections();if(o===null)return;const r=[];for(const a of o){let l=a.startLineNumber,c=a.endLineNumber;if(l!==c&&a.endColumn===1&&c--,l===1){if(l===c)continue}else l--;const d=K6(n,i,l,c);r.push(...d)}r.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop())}}class Nbe{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(const i of e)i.range&&typeof i.text=="string"&&this._edits.push(i)}getEditOperations(e,t){for(const n of this._edits)t.addEditOperation(k.lift(n.range),n.text);let i=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}let rv=class{constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new Y,this.callOnModel=new Y,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){const t=this.editor.getSelections();if(t===null||t.length>1)return;const i=this.editor.getModel();if(!i||!i.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;const n=this.editor.getOption(12),{tabSize:o,indentSize:r,insertSpaces:a}=i.getOptions(),l=[],c={shiftIndent:g=>xs.shiftIndent(g,g.length+1,o,r,a),unshiftIndent:g=>xs.unshiftIndent(g,g.length+1,o,r,a)};let d=e.startLineNumber;for(;d<=e.endLineNumber;){if(this.shouldIgnoreLine(i,d)){d++;continue}break}if(d>e.endLineNumber)return;let u=i.getLineContent(d);if(!/\S/.test(u.substring(0,e.startColumn-1))){const g=hb(n,i,i.getLanguageId(),d,c,this._languageConfigurationService);if(g!==null){const m=Tt(u),p=To(g,o),_=To(m,o);if(p!==_){const b=Mb(p,o,a);l.push({range:new k(d,1,d,m.length+1),text:b}),u=b+u.substr(m.length)}else{const b=c9(i,d,this._languageConfigurationService);if(b===0||b===8)return}}}const h=d;for(;d<e.endLineNumber;){if(!/\S/.test(i.getLineContent(d+1))){d++;continue}break}if(d!==e.endLineNumber){const m=hb(n,{tokenization:{getLineTokens:p=>i.tokenization.getLineTokens(p),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(p,_)=>i.getLanguageIdAtPosition(p,_)},getLineContent:p=>p===h?u:i.getLineContent(p)},i.getLanguageId(),d+1,c,this._languageConfigurationService);if(m!==null){const p=To(m,o),_=To(Tt(i.getLineContent(d+1)),o);if(p!==_){const b=p-_;for(let v=d+1;v<=e.endLineNumber;v++){const w=i.getLineContent(v),C=Tt(w),x=To(C,o)+b,L=Mb(x,o,a);L!==C&&l.push({range:new k(v,1,v,C.length+1),text:L})}}}}if(l.length>0){this.editor.pushUndoStop();const g=new Nbe(l,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",g),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);const i=e.getLineFirstNonWhitespaceColumn(t);if(i===0)return!0;const n=e.tokenization.getLineTokens(t);if(n.getCount()>0){const o=n.findTokenIndexAtOffset(i);if(o>=0&&n.getStandardTokenType(o)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};rv.ID="editor.contrib.autoIndentOnPaste";rv=Dbe([Ibe(1,Mt)],rv);function q6(s,e,t,i){if(s.getLineCount()===1&&s.getLineMaxColumn(1)===1)return;let n="";for(let r=0;r<t;r++)n+=" ";const o=new RegExp(n,"gi");for(let r=1,a=s.getLineCount();r<=a;r++){let l=s.getLineFirstNonWhitespaceColumn(r);if(l===0&&(l=s.getLineMaxColumn(r)),l===1)continue;const c=new k(r,1,r,l),d=s.getValueInRange(c),u=i?d.replace(/\t/ig,n):d.replace(o,"	");e.addEditOperation(c,u)}}class Abe{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),q6(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class Rbe{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),q6(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}gt(rv.ID,rv,2);ne(vk);ne(wk);ne(Ck);ne(Sk);ne(yk);ne(kk);ne(Tbe);ne(Ebe);var fS=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class G6{constructor(e,t){this.range=e,this.direction=t}}class dP{constructor(e,t,i){this.hint=e,this.anchor=t,this.provider=i,this._isResolved=!1}with(e){const t=new dP(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(e){return fS(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,e.isCancellationRequested?void 0:this.resolve(e);this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(e){var t,i;return fS(this,void 0,void 0,function*(){try{const n=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=(t=n==null?void 0:n.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(i=n==null?void 0:n.label)!==null&&i!==void 0?i:this.hint.label,this._isResolved=!0}catch(n){Ni(n),this._isResolved=!1}})}}class av{static create(e,t,i,n){return fS(this,void 0,void 0,function*(){const o=[],r=e.ordered(t).reverse().map(a=>i.map(l=>fS(this,void 0,void 0,function*(){try{const c=yield a.provideInlayHints(t,l,n);c!=null&&c.hints.length&&o.push([c,a])}catch(c){Ni(c)}})));if(yield Promise.all(r.flat()),n.isCancellationRequested||t.isDisposed())throw new Gd;return new av(i,o,t)})}constructor(e,t,i){this._disposables=new Y,this.ranges=e,this.provider=new Set;const n=[];for(const[o,r]of t){this._disposables.add(o),this.provider.add(r);for(const a of o.hints){const l=i.validatePosition(a.position);let c="before";const d=av._getRangeAtPosition(i,l);let u;d.getStartPosition().isBefore(l)?(u=k.fromPositions(d.getStartPosition(),l),c="after"):(u=k.fromPositions(l,d.getEndPosition()),c="before"),n.push(new dP(a,new G6(u,c),r))}}this.items=n.sort((o,r)=>P.compare(o.hint.position,r.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){const i=t.lineNumber,n=e.getWordAtPosition(t);if(n)return new k(i,n.startColumn,i,n.endColumn);e.tokenization.tokenizeIfCheap(i);const o=e.tokenization.getLineTokens(i),r=t.column-1,a=o.findTokenIndexAtOffset(r);let l=o.getStartOffset(a),c=o.getEndOffset(a);return c-l===1&&(l===r&&a>1?(l=o.getStartOffset(a-1),c=o.getEndOffset(a-1)):c===r&&a<o.getCount()-1&&(l=o.getStartOffset(a+1),c=o.getEndOffset(a+1))),new k(i,l+1,i,c+1)}}function Mbe(s){return De.from({scheme:qe.command,path:s.id,query:s.arguments&&encodeURIComponent(JSON.stringify(s.arguments))}).toString()}var Pb=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function Pbe(s,e,t,i){var n;return Pb(this,void 0,void 0,function*(){const o=s.get(xo),r=s.get(pr),a=s.get(ci),l=s.get(Ae),c=s.get(Li);if(yield i.item.resolve(Xe.None),!i.part.location)return;const d=i.part.location,u=[],h=new Set(hn.getMenuItems(D.EditorContext).map(m=>Ug(m)?m.command.id:ik()));for(const m of Gn.all())h.has(m.desc.id)&&u.push(new lo(m.desc.id,dr.label(m.desc,{renderShortTitle:!0}),void 0,!0,()=>Pb(this,void 0,void 0,function*(){const p=yield o.createModelReference(d.uri);try{const _=new Cm(p.object.textEditorModel,k.getStartPosition(d.range)),b=i.item.anchor.range;yield l.invokeFunction(m.runEditorCommand.bind(m),e,_,b)}finally{p.dispose()}})));if(i.part.command){const{command:m}=i.part;u.push(new tn),u.push(new lo(m.id,m.title,void 0,!0,()=>Pb(this,void 0,void 0,function*(){var p;try{yield a.executeCommand(m.id,...(p=m.arguments)!==null&&p!==void 0?p:[])}catch(_){c.notify({severity:dy.Error,source:i.item.provider.displayName,message:_})}})))}const g=e.getOption(126);r.showContextMenu({domForShadowRoot:g&&(n=e.getDomNode())!==null&&n!==void 0?n:void 0,getAnchor:()=>{const m=Pi(t);return{x:m.left,y:m.top+m.height+8}},getActions:()=>u,onHide:()=>{e.focus()},autoSelectFirstItem:!0})})}function Z6(s,e,t,i){return Pb(this,void 0,void 0,function*(){const o=yield s.get(xo).createModelReference(i.uri);yield t.invokeWithinContext(r=>Pb(this,void 0,void 0,function*(){const a=e.hasSideBySideModifier,l=r.get(Me),c=ko.inPeekEditor.getValue(l),d=!a&&t.getOption(87)&&!c;return new n0({openToSide:a,openInPeek:d,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(r,new Cm(o.object.textEditorModel,k.getStartPosition(i.range)),k.lift(i.range))})),o.dispose()})}var Obe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Tg=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Wg=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},pC;class mS{constructor(){this._entries=new Yd(50)}get(e){const t=mS._key(e);return this._entries.get(t)}set(e,t){const i=mS._key(e);this._entries.set(i,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}const Q6=et("IInlayHintsCache");ct(Q6,mS,1);class LN{constructor(e,t){this.item=e,this.index=t}get part(){const e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}}class Fbe{constructor(e,t){this.part=e,this.hasTriggerModifier=t}}let Fh=pC=class{static get(e){var t;return(t=e.getContribution(pC.ID))!==null&&t!==void 0?t:void 0}constructor(e,t,i,n,o,r,a){this._editor=e,this._languageFeaturesService=t,this._inlayHintsCache=n,this._commandService=o,this._notificationService=r,this._instaService=a,this._disposables=new Y,this._sessionDisposables=new Y,this._decorationsMetadata=new Map,this._ruleFactory=new Tv(this._editor),this._activeRenderMode=0,this._debounceInfo=i.for(t.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(t.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(l=>{l.hasChanged(139)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const e=this._editor.getOption(139);if(e.enabled==="off")return;const t=this._editor.getModel();if(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))return;const i=this._inlayHintsCache.get(t);i&&this._updateHintsDecorators([t.getFullModelRange()],i),this._sessionDisposables.add(Re(()=>{t.isDisposed()||this._cacheHintsForFastRestore(t)}));let n;const o=new Set,r=new xt(()=>Wg(this,void 0,void 0,function*(){const a=Date.now();n==null||n.dispose(!0),n=new yi;const l=t.onWillDispose(()=>n==null?void 0:n.cancel());try{const c=n.token,d=yield av.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),c);if(r.delay=this._debounceInfo.update(t,Date.now()-a),c.isCancellationRequested){d.dispose();return}for(const u of d.provider)typeof u.onDidChangeInlayHints=="function"&&!o.has(u)&&(o.add(u),this._sessionDisposables.add(u.onDidChangeInlayHints(()=>{r.isScheduled()||r.schedule()})));this._sessionDisposables.add(d),this._updateHintsDecorators(d.ranges,d.items),this._cacheHintsForFastRestore(t)}catch(c){He(c)}finally{n.dispose(),l.dispose()}}),this._debounceInfo.get(t));if(this._sessionDisposables.add(r),this._sessionDisposables.add(Re(()=>n==null?void 0:n.dispose(!0))),r.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(a=>{(a.scrollTopChanged||!r.isScheduled())&&r.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(a=>{const l=Math.max(r.delay,1250);r.schedule(l)})),e.enabled==="on")this._activeRenderMode=0;else{let a,l;e.enabled==="onUnlessPressed"?(a=0,l=1):(a=1,l=0),this._activeRenderMode=a,this._sessionDisposables.add(Vl.getInstance().event(c=>{if(!this._editor.hasModel())return;const d=c.altKey&&c.ctrlKey&&!(c.shiftKey||c.metaKey)?l:a;if(d!==this._activeRenderMode){this._activeRenderMode=d;const u=this._editor.getModel(),h=this._copyInlayHintsWithCurrentAnchor(u);this._updateHintsDecorators([u.getFullModelRange()],h),r.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>r.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const e=new Y,t=e.add(new qy(this._editor)),i=new Y;return e.add(i),e.add(t.onMouseMoveOrRelevantKeyDown(n=>{const[o]=n,r=this._getInlayHintLabelPart(o),a=this._editor.getModel();if(!r||!a){i.clear();return}const l=new yi;i.add(Re(()=>l.dispose(!0))),r.item.resolve(l.token),this._activeInlayHintPart=r.part.command||r.part.location?new Fbe(r,o.hasTriggerModifier):void 0;const c=a.validatePosition(r.item.hint.position).lineNumber,d=new k(c,1,c,a.getLineMaxColumn(c)),u=this._getInlineHintsForRange(d);this._updateHintsDecorators([d],u),i.add(Re(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([d],u)}))})),e.add(t.onCancel(()=>i.clear())),e.add(t.onExecute(n=>Wg(this,void 0,void 0,function*(){const o=this._getInlayHintLabelPart(n);if(o){const r=o.part;r.location?this._instaService.invokeFunction(Z6,n,this._editor,r.location):oD.is(r.command)&&(yield this._invokeCommand(r.command,o.item))}}))),e}_getInlineHintsForRange(e){const t=new Set;for(const i of this._decorationsMetadata.values())e.containsRange(i.item.anchor.range)&&t.add(i.item);return Array.from(t)}_installDblClickGesture(e){return this._editor.onMouseUp(t=>Wg(this,void 0,void 0,function*(){if(t.event.detail!==2)return;const i=this._getInlayHintLabelPart(t);if(i&&(t.event.preventDefault(),yield i.item.resolve(Xe.None),Bn(i.item.hint.textEdits))){const n=i.item.hint.textEdits.map(o=>Zt.replace(k.lift(o.range),o.text));this._editor.executeEdits("inlayHint.default",n),e()}}))}_installContextMenu(){return this._editor.onContextMenu(e=>Wg(this,void 0,void 0,function*(){if(!(e.event.target instanceof HTMLElement))return;const t=this._getInlayHintLabelPart(e);t&&(yield this._instaService.invokeFunction(Pbe,this._editor,e.event.target,t))}))}_getInlayHintLabelPart(e){var t;if(e.target.type!==6)return;const i=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;if(i instanceof Md&&(i==null?void 0:i.attachedData)instanceof LN)return i.attachedData}_invokeCommand(e,t){var i;return Wg(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(e.id,...(i=e.arguments)!==null&&i!==void 0?i:[])}catch(n){this._notificationService.notify({severity:dy.Error,source:t.provider.displayName,message:n})}})}_cacheHintsForFastRestore(e){const t=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,t)}_copyInlayHintsWithCurrentAnchor(e){const t=new Map;for(const[i,n]of this._decorationsMetadata){if(t.has(n.item))continue;const o=e.getDecorationRange(i);if(o){const r=new G6(o,n.item.anchor.direction),a=n.item.with({anchor:r});t.set(n.item,a)}}return Array.from(t.values())}_getHintsRanges(){const t=this._editor.getModel(),i=this._editor.getVisibleRangesPlusViewportAboveBelow(),n=[];for(const o of i.sort(k.compareRangesUsingStarts)){const r=t.validateRange(new k(o.startLineNumber-30,o.startColumn,o.endLineNumber+30,o.endColumn));n.length===0||!k.areIntersectingOrTouching(n[n.length-1],r)?n.push(r):n[n.length-1]=k.plusRange(n[n.length-1],r)}return n}_updateHintsDecorators(e,t){var i,n;const o=[],r=(p,_,b,v,w)=>{const C={content:b,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:_.className,cursorStops:v,attachedData:w};o.push({item:p,classNameRef:_,decoration:{range:p.anchor.range,options:{description:"InlayHint",showIfCollapsed:p.anchor.range.isEmpty(),collapseOnReplaceEdit:!p.anchor.range.isEmpty(),stickiness:0,[p.anchor.direction]:this._activeRenderMode===0?C:void 0}}})},a=(p,_)=>{const b=this._ruleFactory.createClassNameRef({width:`${l/3|0}px`,display:"inline-block"});r(p,b," ",_?$r.Right:$r.None)},{fontSize:l,fontFamily:c,padding:d,isUniform:u}=this._getLayoutInfo(),h="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(h,c);for(const p of t){p.hint.paddingLeft&&a(p,!1);const _=typeof p.hint.label=="string"?[{label:p.hint.label}]:p.hint.label;for(let b=0;b<_.length;b++){const v=_[b],w=b===0,C=b===_.length-1,S={fontSize:`${l}px`,fontFamily:`var(${h}), ${Fo.fontFamily}`,verticalAlign:u?"baseline":"middle",unicodeBidi:"isolate"};Bn(p.hint.textEdits)&&(S.cursor="default"),this._fillInColors(S,p.hint),(v.command||v.location)&&((i=this._activeInlayHintPart)===null||i===void 0?void 0:i.part.item)===p&&this._activeInlayHintPart.part.index===b&&(S.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(S.color=ti(bZ),S.cursor="pointer")),d&&(w&&C?(S.padding=`1px ${Math.max(1,l/4)|0}px`,S.borderRadius=`${l/4|0}px`):w?(S.padding=`1px 0 1px ${Math.max(1,l/4)|0}px`,S.borderRadius=`${l/4|0}px 0 0 ${l/4|0}px`):C?(S.padding=`1px ${Math.max(1,l/4)|0}px 1px 0`,S.borderRadius=`0 ${l/4|0}px ${l/4|0}px 0`):S.padding="1px 0 1px 0"),r(p,this._ruleFactory.createClassNameRef(S),Bbe(v.label),C&&!p.hint.paddingRight?$r.Right:$r.None,new LN(p,b))}if(p.hint.paddingRight&&a(p,!0),o.length>pC._MAX_DECORATORS)break}const g=[];for(const p of e)for(const{id:_}of(n=this._editor.getDecorationsInRange(p))!==null&&n!==void 0?n:[]){const b=this._decorationsMetadata.get(_);b&&(g.push(_),b.classNameRef.dispose(),this._decorationsMetadata.delete(_))}const m=na.capture(this._editor);this._editor.changeDecorations(p=>{const _=p.deltaDecorations(g,o.map(b=>b.decoration));for(let b=0;b<_.length;b++){const v=o[b];this._decorationsMetadata.set(_[b],v)}}),m.restore(this._editor)}_fillInColors(e,t){t.kind===DC.Parameter?(e.backgroundColor=ti(CZ),e.color=ti(wZ)):t.kind===DC.Type?(e.backgroundColor=ti(vZ),e.color=ti(_Z)):(e.backgroundColor=ti(jl),e.color=ti($l))}_getLayoutInfo(){const e=this._editor.getOption(139),t=e.padding,i=this._editor.getOption(52),n=this._editor.getOption(49);let o=e.fontSize;(!o||o<5||o>i)&&(o=i);const r=e.fontFamily||n;return{fontSize:o,fontFamily:r,padding:t,isUniform:!t&&r===n&&o===i}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};Fh.ID="editor.contrib.InlayHints";Fh._MAX_DECORATORS=1500;Fh=pC=Obe([Tg(1,me),Tg(2,zs),Tg(3,Q6),Tg(4,ci),Tg(5,Li),Tg(6,Ae)],Fh);function Bbe(s){const e=" ";return s.replace(/[ \t]/g,e)}lt.registerCommand("_executeInlayHintProvider",(s,...e)=>Wg(void 0,void 0,void 0,function*(){const[t,i]=e;Lt(De.isUri(t)),Lt(k.isIRange(i));const{inlayHintsProvider:n}=s.get(me),o=yield s.get(xo).createModelReference(t);try{const r=yield av.create(n,o.object.textEditorModel,[k.lift(i)],Xe.None),a=r.items.map(l=>l.hint);return setTimeout(()=>r.dispose(),0),a}finally{o.dispose()}}));var Wbe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Rp=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},g5=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},Vbe=globalThis&&globalThis.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],t;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=s[o]&&function(r){return new Promise(function(a,l){r=s[o](r),n(a,l,r.done,r.value)})}}function n(o,r,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},r)}};class f5 extends hC{constructor(e,t,i,n){super(10,t,e.item.anchor.range,i,n,!0),this.part=e}}let xN=class extends tS{constructor(e,t,i,n,o,r){super(e,t,i,n,r),this._resolverService=o,this.hoverOrdinal=6}suggestHoverAnchor(e){var t;if(!Fh.get(this._editor)||e.target.type!==6)return null;const n=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;return n instanceof Md&&n.attachedData instanceof LN?new f5(n.attachedData,this,e.event.posx,e.event.posy):null}computeSync(){return[]}computeAsync(e,t,i){return e instanceof f5?new Ii(n=>g5(this,void 0,void 0,function*(){var o,r,a,l;const{part:c}=e;if(yield c.item.resolve(i),i.isCancellationRequested)return;let d;typeof c.item.hint.tooltip=="string"?d=new xn().appendText(c.item.hint.tooltip):c.item.hint.tooltip&&(d=c.item.hint.tooltip),d&&n.emitOne(new Hr(this,e.range,[d],!1,0)),Bn(c.item.hint.textEdits)&&n.emitOne(new Hr(this,e.range,[new xn().appendText(f("vs/editor/contrib/inlayHints/browser/inlayHintsHover","hint.dbl","Double-click to insert"))],!1,10001));let u;if(typeof c.part.tooltip=="string"?u=new xn().appendText(c.part.tooltip):c.part.tooltip&&(u=c.part.tooltip),u&&n.emitOne(new Hr(this,e.range,[u],!1,1)),c.part.location||c.part.command){let _;const v=this._editor.getOption(77)==="altKey"?at?f("vs/editor/contrib/inlayHints/browser/inlayHintsHover","links.navigate.kb.meta.mac","cmd + click"):f("vs/editor/contrib/inlayHints/browser/inlayHintsHover","links.navigate.kb.meta","ctrl + click"):at?f("vs/editor/contrib/inlayHints/browser/inlayHintsHover","links.navigate.kb.alt.mac","option + click"):f("vs/editor/contrib/inlayHints/browser/inlayHintsHover","links.navigate.kb.alt","alt + click");c.part.location&&c.part.command?_=new xn().appendText(f("vs/editor/contrib/inlayHints/browser/inlayHintsHover","hint.defAndCommand","Go to Definition ({0}), right click for more",v)):c.part.location?_=new xn().appendText(f("vs/editor/contrib/inlayHints/browser/inlayHintsHover","hint.def","Go to Definition ({0})",v)):c.part.command&&(_=new xn(`[${f("vs/editor/contrib/inlayHints/browser/inlayHintsHover","hint.cmd","Execute Command")}](${Mbe(c.part.command)} "${c.part.command.title}") (${v})`,{isTrusted:!0})),_&&n.emitOne(new Hr(this,e.range,[_],!1,1e4))}const h=yield this._resolveInlayHintLabelPartHover(c,i);try{for(var g=!0,m=Vbe(h),p;p=yield m.next(),o=p.done,!o;g=!0){l=p.value,g=!1;const _=l;n.emitOne(_)}}catch(_){r={error:_}}finally{try{!g&&!o&&(a=m.return)&&(yield a.call(m))}finally{if(r)throw r.error}}})):Ii.EMPTY}_resolveInlayHintLabelPartHover(e,t){return g5(this,void 0,void 0,function*(){if(!e.part.location)return Ii.EMPTY;const{uri:i,range:n}=e.part.location,o=yield this._resolverService.createModelReference(i);try{const r=o.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(r)?HM(this._languageFeaturesService.hoverProvider,r,new P(n.startLineNumber,n.startColumn),t).filter(a=>!hm(a.hover.contents)).map(a=>new Hr(this,e.item.anchor.range,a.hover.contents,!1,2+a.ordinal)):Ii.EMPTY}finally{o.dispose()}})}};xN=Wbe([Rp(1,qt),Rp(2,$o),Rp(3,ot),Rp(4,xo),Rp(5,me)],xN);gt(Fh.ID,Fh,1);lg.register(xN);class Hbe{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new _e(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new _e(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}var zbe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ube=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},bC;let $d=bC=class{static get(e){return e.getContribution(bC.ID)}constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(e,t){var i;(i=this.currentRequest)===null||i===void 0||i.cancel();const n=this.editor.getSelection(),o=this.editor.getModel();if(!o||!n)return;let r=n;if(r.startLineNumber!==r.endLineNumber)return;const a=new MV(this.editor,5),l=o.uri;return this.editorWorkerService.canNavigateValueSet(l)?(this.currentRequest=Vi(c=>this.editorWorkerService.navigateValueSet(l,r,t)),this.currentRequest.then(c=>{var d;if(!c||!c.range||!c.value||!a.validate(this.editor))return;const u=k.lift(c.range);let h=c.range;const g=c.value.length-(r.endColumn-r.startColumn);h={startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.startColumn+c.value.length},g>1&&(r=new _e(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn+g-1));const m=new Hbe(u,r,c.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,m),this.editor.pushUndoStop(),this.decorations.set([{range:h,options:bC.DECORATION}]),(d=this.decorationRemover)===null||d===void 0||d.cancel(),this.decorationRemover=Ld(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(He)}).catch(He)):Promise.resolve(void 0)}};$d.ID="editor.contrib.inPlaceReplaceController";$d.DECORATION=Ve.register({description:"in-place-replace",className:"valueSetReplacement"});$d=bC=zbe([Ube(1,vr)],$d);class $be extends ge{constructor(){super({id:"editor.action.inPlaceReplace.up",label:f("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:3159,weight:100}})}run(e,t){const i=$d.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}class jbe extends ge{constructor(){super({id:"editor.action.inPlaceReplace.down",label:f("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:3161,weight:100}})}run(e,t){const i=$d.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}gt($d.ID,$d,4);ne($be);ne(jbe);class Kbe extends ge{constructor(){super({id:"expandLineSelection",label:f("vs/editor/contrib/lineSelection/browser/lineSelection","expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:T.textInputFocus,primary:2090}})}run(e,t,i){if(i=i||{},!t.hasModel())return;const n=t._getViewModel();n.model.pushStackElement(),n.setCursorStates(i.source,3,sn.expandLineSelection(n,n.getCursorStates())),n.revealPrimaryCursor(i.source,!0)}}ne(Kbe);class qbe{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){const i=Gbe(e,this._cursors);for(let n=0,o=i.length;n<o;n++){const r=i[n];t.addEditOperation(r.range,r.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}function Gbe(s,e){e.sort((r,a)=>r.lineNumber===a.lineNumber?r.column-a.column:r.lineNumber-a.lineNumber);for(let r=e.length-2;r>=0;r--)e[r].lineNumber===e[r+1].lineNumber&&e.splice(r,1);const t=[];let i=0,n=0;const o=e.length;for(let r=1,a=s.getLineCount();r<=a;r++){const l=s.getLineContent(r),c=l.length+1;let d=0;if(n<o&&e[n].lineNumber===r&&(d=e[n].column,n++,d===c)||l.length===0)continue;const u=Gr(l);let h=0;if(u===-1)h=1;else if(u!==l.length-1)h=u+2;else continue;h=Math.max(d,h),t[i++]=Zt.delete(new k(r,h,r,c))}return t}class Y6{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const n=[];for(let r=i.startLineNumber;r<=i.endLineNumber;r++)n.push(e.getLineContent(r));const o=n.join(`
`);o===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new k(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?t.addEditOperation(new k(i.startLineNumber,1,i.startLineNumber,1),o+`
`):t.addEditOperation(new k(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),`
`+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let n=i.startLineNumber,o=i.startColumn,r=i.endLineNumber,a=i.endColumn;this._startLineNumberDelta!==0&&(n=n+this._startLineNumberDelta,o=1),this._endLineNumberDelta!==0&&(r=r+this._endLineNumberDelta,a=1),i=_e.createWithDirection(n,o,r,a,this._selectionDirection)}return i}}var Zbe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Qbe=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let DN=class{constructor(e,t,i,n){this._languageConfigurationService=n,this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){const i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let n=this._selection;n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const{tabSize:o,indentSize:r,insertSpaces:a}=e.getOptions(),l=this.buildIndentConverter(o,r,a),c={tokenization:{getLineTokens:d=>e.tokenization.getLineTokens(d),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(d,u)=>e.getLanguageIdAtPosition(d,u)},getLineContent:null};if(n.startLineNumber===n.endLineNumber&&e.getLineMaxColumn(n.startLineNumber)===1){const d=n.startLineNumber,u=this._isMovingDown?d+1:d-1;e.getLineMaxColumn(u)===1?t.addEditOperation(new k(1,1,1,1),null):(t.addEditOperation(new k(d,1,d,1),e.getLineContent(u)),t.addEditOperation(new k(u,1,u,e.getLineMaxColumn(u)),null)),n=new _e(u,1,u,1)}else{let d,u;if(this._isMovingDown){d=n.endLineNumber+1,u=e.getLineContent(d),t.addEditOperation(new k(d-1,e.getLineMaxColumn(d-1),d,e.getLineMaxColumn(d)),null);let h=u;if(this.shouldAutoIndent(e,n)){const g=this.matchEnterRule(e,l,o,d,n.startLineNumber-1);if(g!==null){const p=Tt(e.getLineContent(d)),_=g+To(p,o);h=Mb(_,o,a)+this.trimStart(u)}else{c.getLineContent=_=>_===n.startLineNumber?e.getLineContent(d):e.getLineContent(_);const p=hb(this._autoIndent,c,e.getLanguageIdAtPosition(d,1),n.startLineNumber,l,this._languageConfigurationService);if(p!==null){const _=Tt(e.getLineContent(d)),b=To(p,o),v=To(_,o);b!==v&&(h=Mb(b,o,a)+this.trimStart(u))}}t.addEditOperation(new k(n.startLineNumber,1,n.startLineNumber,1),h+`
`);const m=this.matchEnterRuleMovingDown(e,l,o,n.startLineNumber,d,h);if(m!==null)m!==0&&this.getIndentEditsOfMovingBlock(e,t,n,o,a,m);else{c.getLineContent=_=>_===n.startLineNumber?h:_>=n.startLineNumber+1&&_<=n.endLineNumber+1?e.getLineContent(_-1):e.getLineContent(_);const p=hb(this._autoIndent,c,e.getLanguageIdAtPosition(d,1),n.startLineNumber+1,l,this._languageConfigurationService);if(p!==null){const _=Tt(e.getLineContent(n.startLineNumber)),b=To(p,o),v=To(_,o);if(b!==v){const w=b-v;this.getIndentEditsOfMovingBlock(e,t,n,o,a,w)}}}}else t.addEditOperation(new k(n.startLineNumber,1,n.startLineNumber,1),h+`
`)}else if(d=n.startLineNumber-1,u=e.getLineContent(d),t.addEditOperation(new k(d,1,d+1,1),null),t.addEditOperation(new k(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),`
`+u),this.shouldAutoIndent(e,n)){c.getLineContent=g=>g===d?e.getLineContent(n.startLineNumber):e.getLineContent(g);const h=this.matchEnterRule(e,l,o,n.startLineNumber,n.startLineNumber-2);if(h!==null)h!==0&&this.getIndentEditsOfMovingBlock(e,t,n,o,a,h);else{const g=hb(this._autoIndent,c,e.getLanguageIdAtPosition(n.startLineNumber,1),d,l,this._languageConfigurationService);if(g!==null){const m=Tt(e.getLineContent(n.startLineNumber)),p=To(g,o),_=To(m,o);if(p!==_){const b=p-_;this.getIndentEditsOfMovingBlock(e,t,n,o,a,b)}}}}}this._selectionId=t.trackSelection(n)}buildIndentConverter(e,t,i){return{shiftIndent:n=>xs.shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>xs.unshiftIndent(n,n.length+1,e,t,i)}}parseEnterResult(e,t,i,n,o){if(o){let r=o.indentation;o.indentAction===Ei.None||o.indentAction===Ei.Indent?r=o.indentation+o.appendText:o.indentAction===Ei.IndentOutdent?r=o.indentation:o.indentAction===Ei.Outdent&&(r=t.unshiftIndent(o.indentation)+o.appendText);const a=e.getLineContent(n);if(this.trimStart(a).indexOf(this.trimStart(r))>=0){const l=Tt(e.getLineContent(n));let c=Tt(r);const d=c9(e,n,this._languageConfigurationService);d!==null&&d&2&&(c=t.unshiftIndent(c));const u=To(c,i),h=To(l,i);return u-h}}return null}matchEnterRuleMovingDown(e,t,i,n,o,r){if(Gr(r)>=0){const a=e.getLineMaxColumn(o),l=xf(this._autoIndent,e,new k(o,a,o,a),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,l)}else{let a=n-1;for(;a>=1;){const d=e.getLineContent(a);if(Gr(d)>=0)break;a--}if(a<1||n>e.getLineCount())return null;const l=e.getLineMaxColumn(a),c=xf(this._autoIndent,e,new k(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,c)}}matchEnterRule(e,t,i,n,o,r){let a=o;for(;a>=1;){let d;if(a===o&&r!==void 0?d=r:d=e.getLineContent(a),Gr(d)>=0)break;a--}if(a<1||n>e.getLineCount())return null;const l=e.getLineMaxColumn(a),c=xf(this._autoIndent,e,new k(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,c)}trimStart(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const i=e.getLanguageIdAtPosition(t.startLineNumber,1),n=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(i!==n||this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport===null)}getIndentEditsOfMovingBlock(e,t,i,n,o,r){for(let a=i.startLineNumber;a<=i.endLineNumber;a++){const l=e.getLineContent(a),c=Tt(l),u=To(c,n)+r,h=Mb(u,n,o);h!==c&&(t.addEditOperation(new k(a,1,a,c.length+1),h),a===i.endLineNumber&&i.endColumn<=c.length+1&&h===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};DN=Zbe([Qbe(3,Mt)],DN);class _d{static getCollator(){return _d._COLLATOR||(_d._COLLATOR=new Intl.Collator),_d._COLLATOR}constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}getEditOperations(e,t){const i=Ybe(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(e===null)return!1;const n=X6(e,t,i);if(!n)return!1;for(let o=0,r=n.before.length;o<r;o++)if(n.before[o]!==n.after[o])return!0;return!1}}_d._COLLATOR=null;function X6(s,e,t){const i=e.startLineNumber;let n=e.endLineNumber;if(e.endColumn===1&&n--,i>=n)return null;const o=[];for(let a=i;a<=n;a++)o.push(s.getLineContent(a));let r=o.slice(0);return r.sort(_d.getCollator().compare),t===!0&&(r=r.reverse()),{startLineNumber:i,endLineNumber:n,before:o,after:r}}function Ybe(s,e,t){const i=X6(s,e,t);return i?Zt.replace(new k(i.startLineNumber,1,i.endLineNumber,s.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}class J6 extends ge{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map((r,a)=>({selection:r,index:a,ignore:!1}));i.sort((r,a)=>k.compareRangesUsingStarts(r.selection,a.selection));let n=i[0];for(let r=1;r<i.length;r++){const a=i[r];n.selection.endLineNumber===a.selection.startLineNumber&&(n.index<a.index?a.ignore=!0:(n.ignore=!0,n=a))}const o=[];for(const r of i)o.push(new Y6(r.selection,this.down,r.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class Xbe extends J6{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:D.MenubarSelectionMenu,group:"2_line",title:f("vs/editor/contrib/linesOperations/browser/linesOperations",{key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class Jbe extends J6{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:D.MenubarSelectionMenu,group:"2_line",title:f("vs/editor/contrib/linesOperations/browser/linesOperations",{key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class e_e extends ge{constructor(){super({id:"editor.action.duplicateSelection",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:T.writable,menuOpts:{menuId:D.MenubarSelectionMenu,group:"2_line",title:f("vs/editor/contrib/linesOperations/browser/linesOperations",{key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const n=[],o=t.getSelections(),r=t.getModel();for(const a of o)if(a.isEmpty())n.push(new Y6(a,!0));else{const l=new _e(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);n.push(new zY(l,r.getValueInRange(a)))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class eH extends ge{constructor(e,t){super(t),this.down=e}run(e,t){const i=e.get(Mt),n=[],o=t.getSelections()||[],r=t.getOption(12);for(const a of o)n.push(new DN(a,this.down,r,i));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class t_e extends eH{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:D.MenubarSelectionMenu,group:"2_line",title:f("vs/editor/contrib/linesOperations/browser/linesOperations",{key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class i_e extends eH{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:D.MenubarSelectionMenu,group:"2_line",title:f("vs/editor/contrib/linesOperations/browser/linesOperations",{key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class tH extends ge{constructor(e,t){super(t),this.descending=e}run(e,t){const i=t.getSelections()||[];for(const o of i)if(!_d.canRun(t.getModel(),o,this.descending))return;const n=[];for(let o=0,r=i.length;o<r;o++)n[o]=new _d(i[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class n_e extends tH{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:T.writable})}}class o_e extends tH{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:T.writable})}}class s_e extends ge{constructor(){super({id:"editor.action.removeDuplicateLines",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:T.writable})}run(e,t){if(!t.hasModel())return;const i=t.getModel();if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return;const n=[],o=[];let r=0;for(const a of t.getSelections()){const l=new Set,c=[];for(let g=a.startLineNumber;g<=a.endLineNumber;g++){const m=i.getLineContent(g);l.has(m)||(c.push(m),l.add(m))}const d=new _e(a.startLineNumber,1,a.endLineNumber,i.getLineMaxColumn(a.endLineNumber)),u=a.startLineNumber-r,h=new _e(u,1,u+c.length-1,c[c.length-1].length);n.push(Zt.replace(d,c.join(`
`))),o.push(h),r+=a.endLineNumber-a.startLineNumber+1-c.length}t.pushUndoStop(),t.executeEdits(this.id,n,o),t.pushUndoStop()}}class Lk extends ge{constructor(){super({id:Lk.ID,label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:Oi(2089,2102),weight:100}})}run(e,t,i){let n=[];i.reason==="auto-save"&&(n=(t.getSelections()||[]).map(a=>new P(a.positionLineNumber,a.positionColumn)));const o=t.getSelection();if(o===null)return;const r=new qbe(o,n);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop()}}Lk.ID="editor.action.trimTrailingWhitespace";class r_e extends ge{constructor(){super({id:"editor.action.deleteLines",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.delete","Delete Line"),alias:"Delete Line",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;const i=this._getLinesToRemove(t),n=t.getModel();if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;let o=0;const r=[],a=[];for(let l=0,c=i.length;l<c;l++){const d=i[l];let u=d.startLineNumber,h=d.endLineNumber,g=1,m=n.getLineMaxColumn(h);h<n.getLineCount()?(h+=1,m=1):u>1&&(u-=1,g=n.getLineMaxColumn(u)),r.push(Zt.replace(new _e(u,g,h,m),"")),a.push(new _e(u-o,d.positionColumn,u-o,d.positionColumn)),o+=d.endLineNumber-d.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,r,a),t.pushUndoStop()}_getLinesToRemove(e){const t=e.getSelections().map(o=>{let r=o.endLineNumber;return o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(r-=1),{startLineNumber:o.startLineNumber,selectionStartColumn:o.selectionStartColumn,endLineNumber:r,positionColumn:o.positionColumn}});t.sort((o,r)=>o.startLineNumber===r.startLineNumber?o.endLineNumber-r.endLineNumber:o.startLineNumber-r.startLineNumber);const i=[];let n=t[0];for(let o=1;o<t.length;o++)n.endLineNumber+1>=t[o].startLineNumber?n.endLineNumber=t[o].endLineNumber:(i.push(n),n=t[o]);return i.push(n),i}}class a_e extends ge{constructor(){super({id:"editor.action.indentLines",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.indent","Indent Line"),alias:"Indent Line",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:2142,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,Yt.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class l_e extends ge{constructor(){super({id:"editor.action.outdentLines",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:2140,weight:100}})}run(e,t){Df.Outdent.runEditorCommand(e,t,null)}}class c_e extends ge{constructor(){super({id:"editor.action.insertLineBefore",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,Yt.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class d_e extends ge{constructor(){super({id:"editor.action.insertLineAfter",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,Yt.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class iH extends ge{run(e,t){if(!t.hasModel())return;const i=t.getSelection(),n=this._getRangesToDelete(t),o=[];for(let l=0,c=n.length-1;l<c;l++){const d=n[l],u=n[l+1];k.intersectRanges(d,u)===null?o.push(d):n[l+1]=k.plusRange(d,u)}o.push(n[n.length-1]);const r=this._getEndCursorState(i,o),a=o.map(l=>Zt.replace(l,""));t.pushUndoStop(),t.executeEdits(this.id,a,r),t.pushUndoStop()}}class u_e extends iH{constructor(){super({id:"deleteAllLeft",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null;const n=[];let o=0;return t.forEach(r=>{let a;if(r.endColumn===1&&o>0){const l=r.startLineNumber-o;a=new _e(l,r.startColumn,l,r.startColumn)}else a=new _e(r.startLineNumber,r.startColumn,r.startLineNumber,r.startColumn);o+=r.endLineNumber-r.startLineNumber,r.intersectRanges(e)?i=a:n.push(a)}),i&&n.unshift(i),n}_getRangesToDelete(e){const t=e.getSelections();if(t===null)return[];let i=t;const n=e.getModel();return n===null?[]:(i.sort(k.compareRangesUsingStarts),i=i.map(o=>{if(o.isEmpty())if(o.startColumn===1){const r=Math.max(1,o.startLineNumber-1),a=o.startLineNumber===1?1:n.getLineLength(r)+1;return new k(r,a,o.startLineNumber,1)}else return new k(o.startLineNumber,1,o.startLineNumber,o.startColumn);else return new k(o.startLineNumber,1,o.endLineNumber,o.endColumn)}),i)}}class h_e extends iH{constructor(){super({id:"deleteAllRight",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null;const n=[];for(let o=0,r=t.length,a=0;o<r;o++){const l=t[o],c=new _e(l.startLineNumber-a,l.startColumn,l.startLineNumber-a,l.startColumn);l.intersectRanges(e)?i=c:n.push(c)}return i&&n.unshift(i),n}_getRangesToDelete(e){const t=e.getModel();if(t===null)return[];const i=e.getSelections();if(i===null)return[];const n=i.map(o=>{if(o.isEmpty()){const r=t.getLineMaxColumn(o.startLineNumber);return o.startColumn===r?new k(o.startLineNumber,o.startColumn,o.startLineNumber+1,1):new k(o.startLineNumber,o.startColumn,o.startLineNumber,r)}return o});return n.sort(k.compareRangesUsingStarts),n}}class g_e extends ge{constructor(){super({id:"editor.action.joinLines",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","lines.joinLines","Join Lines"),alias:"Join Lines",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){const i=t.getSelections();if(i===null)return;let n=t.getSelection();if(n===null)return;i.sort(k.compareRangesUsingStarts);const o=[],r=i.reduce((h,g)=>h.isEmpty()?h.endLineNumber===g.startLineNumber?(n.equalsSelection(h)&&(n=g),g):g.startLineNumber>h.endLineNumber+1?(o.push(h),g):new _e(h.startLineNumber,h.startColumn,g.endLineNumber,g.endColumn):g.startLineNumber>h.endLineNumber?(o.push(h),g):new _e(h.startLineNumber,h.startColumn,g.endLineNumber,g.endColumn));o.push(r);const a=t.getModel();if(a===null)return;const l=[],c=[];let d=n,u=0;for(let h=0,g=o.length;h<g;h++){const m=o[h],p=m.startLineNumber,_=1;let b=0,v,w;const C=a.getLineLength(m.endLineNumber)-m.endColumn;if(m.isEmpty()||m.startLineNumber===m.endLineNumber){const L=m.getStartPosition();L.lineNumber<a.getLineCount()?(v=p+1,w=a.getLineMaxColumn(v)):(v=L.lineNumber,w=a.getLineMaxColumn(L.lineNumber))}else v=m.endLineNumber,w=a.getLineMaxColumn(v);let S=a.getLineContent(p);for(let L=p+1;L<=v;L++){const I=a.getLineContent(L),E=a.getLineFirstNonWhitespaceColumn(L);if(E>=1){let W=!0;S===""&&(W=!1),W&&(S.charAt(S.length-1)===" "||S.charAt(S.length-1)==="	")&&(W=!1,S=S.replace(/[\s\uFEFF\xA0]+$/g," "));const U=I.substr(E-1);S+=(W?" ":"")+U,W?b=U.length+1:b=U.length}else b=0}const x=new k(p,_,v,w);if(!x.isEmpty()){let L;m.isEmpty()?(l.push(Zt.replace(x,S)),L=new _e(x.startLineNumber-u,S.length-b+1,p-u,S.length-b+1)):m.startLineNumber===m.endLineNumber?(l.push(Zt.replace(x,S)),L=new _e(m.startLineNumber-u,m.startColumn,m.endLineNumber-u,m.endColumn)):(l.push(Zt.replace(x,S)),L=new _e(m.startLineNumber-u,m.startColumn,m.startLineNumber-u,S.length-C)),k.intersectRanges(x,n)!==null?d=L:c.push(L)}u+=x.endLineNumber-x.startLineNumber}c.unshift(d),t.pushUndoStop(),t.executeEdits(this.id,l,c),t.pushUndoStop()}}class f_e extends ge{constructor(){super({id:"editor.action.transpose",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","editor.transpose","Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:T.writable})}run(e,t){const i=t.getSelections();if(i===null)return;const n=t.getModel();if(n===null)return;const o=[];for(let r=0,a=i.length;r<a;r++){const l=i[r];if(!l.isEmpty())continue;const c=l.getStartPosition(),d=n.getLineMaxColumn(c.lineNumber);if(c.column>=d){if(c.lineNumber===n.getLineCount())continue;const u=new k(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),h=n.getValueInRange(u).split("").reverse().join("");o.push(new Sn(new _e(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),h))}else{const u=new k(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),h=n.getValueInRange(u).split("").reverse().join("");o.push(new rR(u,h,new _e(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class Xm extends ge{run(e,t){const i=t.getSelections();if(i===null)return;const n=t.getModel();if(n===null)return;const o=t.getOption(129),r=[];for(const a of i)if(a.isEmpty()){const l=a.getStartPosition(),c=t.getConfiguredWordAtPosition(l);if(!c)continue;const d=new k(l.lineNumber,c.startColumn,l.lineNumber,c.endColumn),u=n.getValueInRange(d);r.push(Zt.replace(d,this._modifyText(u,o)))}else{const l=n.getValueInRange(a);r.push(Zt.replace(a,this._modifyText(l,o)))}t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop()}}class m_e extends Xm{constructor(){super({id:"editor.action.transformToUppercase",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:T.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class p_e extends Xm{constructor(){super({id:"editor.action.transformToLowercase",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:T.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class cg{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return this.get()!==null}}class lv extends Xm{constructor(){super({id:"editor.action.transformToTitlecase",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:T.writable})}_modifyText(e,t){const i=lv.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,n=>n.toLocaleUpperCase()):e}}lv.titleBoundary=new cg("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class vd extends Xm{constructor(){super({id:"editor.action.transformToSnakecase",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:T.writable})}_modifyText(e,t){const i=vd.caseBoundary.get(),n=vd.singleLetters.get();return!i||!n?e:e.replace(i,"$1_$2").replace(n,"$1_$2$3").toLocaleLowerCase()}}vd.caseBoundary=new cg("(\\p{Ll})(\\p{Lu})","gmu");vd.singleLetters=new cg("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class cv extends Xm{constructor(){super({id:"editor.action.transformToCamelcase",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:T.writable})}_modifyText(e,t){const i=cv.wordBoundary.get();if(!i)return e;const n=e.split(i);return n.shift()+n.map(r=>r.substring(0,1).toLocaleUpperCase()+r.substring(1)).join("")}}cv.wordBoundary=new cg("[_\\s-]","gm");class sc extends Xm{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(t=>t.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:f("vs/editor/contrib/linesOperations/browser/linesOperations","editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:T.writable})}_modifyText(e,t){const i=sc.caseBoundary.get(),n=sc.singleLetters.get(),o=sc.underscoreBoundary.get();return!i||!n||!o?e:e.replace(o,"$1-$3").replace(i,"$1-$2").replace(n,"$1-$2").toLocaleLowerCase()}}sc.caseBoundary=new cg("(\\p{Ll})(\\p{Lu})","gmu");sc.singleLetters=new cg("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu");sc.underscoreBoundary=new cg("(\\S)(_)(\\S)","gm");ne(Xbe);ne(Jbe);ne(e_e);ne(t_e);ne(i_e);ne(n_e);ne(o_e);ne(s_e);ne(Lk);ne(r_e);ne(a_e);ne(l_e);ne(c_e);ne(d_e);ne(u_e);ne(h_e);ne(g_e);ne(f_e);ne(m_e);ne(p_e);vd.caseBoundary.isSupported()&&vd.singleLetters.isSupported()&&ne(vd);cv.wordBoundary.isSupported()&&ne(cv);lv.titleBoundary.isSupported()&&ne(lv);sc.isSupported()&&ne(sc);var b_e=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Tw=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},IN=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},_C;const nH=new de("LinkedEditingInputVisible",!1),__e="linked-editing-decoration";let jd=_C=class extends H{static get(e){return e.getContribution(_C.ID)}constructor(e,t,i,n,o){super(),this.languageConfigurationService=n,this._syncRangesToken=0,this._localToDispose=this._register(new Y),this._editor=e,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=nH.bindTo(t),this._debounceInformation=o.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new Y),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(r=>{(r.hasChanged(69)||r.hasChanged(92))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(e){const t=this._editor.getModel(),i=t!==null&&(this._editor.getOption(69)||this._editor.getOption(92))&&this._providers.has(t);if(i===this._enabled&&!e||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||t===null))return;this._localToDispose.add(ce.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));const n=new hr(this._debounceInformation.get(t)),o=()=>{var l;this._rangeUpdateTriggerPromise=n.trigger(()=>this.updateRanges(),(l=this._debounceDuration)!==null&&l!==void 0?l:this._debounceInformation.get(t))},r=new hr(0),a=l=>{this._rangeSyncTriggerPromise=r.trigger(()=>this._syncRanges(l))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{o()})),this._localToDispose.add(this._editor.onDidChangeModelContent(l=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const c=this._currentDecorations.getRange(0);if(c&&l.changes.every(d=>c.intersectRanges(d.range))){a(this._syncRangesToken);return}}o()})),this._localToDispose.add({dispose:()=>{n.dispose(),r.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||this._currentDecorations.length===0)return;const t=this._editor.getModel(),i=this._currentDecorations.getRange(0);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const n=t.getValueInRange(i);if(this._currentWordPattern){const r=n.match(this._currentWordPattern);if((r?r[0].length:0)!==n.length)return this.clearRanges()}const o=[];for(let r=1,a=this._currentDecorations.length;r<a;r++){const l=this._currentDecorations.getRange(r);if(l)if(l.startLineNumber!==l.endLineNumber)o.push({range:l,text:n});else{let c=t.getValueInRange(l),d=n,u=l.startColumn,h=l.endColumn;const g=hh(c,d);u+=g,c=c.substr(g),d=d.substr(g);const m=TC(c,d);h-=m,c=c.substr(0,c.length-m),d=d.substr(0,d.length-m),(u!==h||d.length!==0)&&o.push({range:new k(l.startLineNumber,u,l.endLineNumber,h),text:d})}}if(o.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const r=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(r)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(e=!1){return IN(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1){this.clearRanges();return}const i=this._editor.getModel(),n=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===n){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const r=this._currentDecorations.getRange(0);if(r&&r.containsPosition(t))return}}this.clearRanges(),this._currentRequestPosition=t,this._currentRequestModelVersion=n;const o=Vi(r=>IN(this,void 0,void 0,function*(){try{const a=new Wn(!1),l=yield oH(this._providers,i,t,r);if(this._debounceInformation.update(i,a.elapsed()),o!==this._currentRequest||(this._currentRequest=null,n!==i.getVersionId()))return;let c=[];l!=null&&l.ranges&&(c=l.ranges),this._currentWordPattern=(l==null?void 0:l.wordPattern)||this._languageWordPattern;let d=!1;for(let h=0,g=c.length;h<g;h++)if(k.containsPosition(c[h],t)){if(d=!0,h!==0){const m=c[h];c.splice(h,1),c.unshift(m)}break}if(!d){this.clearRanges();return}const u=c.map(h=>({range:h,options:_C.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(u),this._syncRangesToken++}catch(a){ra(a)||He(a),(this._currentRequest===o||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=o,o})}};jd.ID="editor.contrib.linkedEditing";jd.DECORATION=Ve.register({description:"linked-editing",stickiness:0,className:__e});jd=_C=b_e([Tw(1,Me),Tw(2,me),Tw(3,Mt),Tw(4,zs)],jd);class v_e extends ge{constructor(){super({id:"editor.action.linkedEditing",label:f("vs/editor/contrib/linkedEditing/browser/linkedEditing","linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:Z.and(T.writable,T.hasRenameProvider),kbOpts:{kbExpr:T.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(bt),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return De.isUri(n)&&P.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(r=>{r&&(r.setPosition(o),r.invokeWithinContext(a=>(this.reportTelemetry(a,r),this.run(a,r))))},He):super.runCommand(e,t)}run(e,t){const i=jd.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const w_e=nn.bindToContribution(jd.get);re(new w_e({id:"cancelLinkedEditingInput",precondition:nH,handler:s=>s.clearRanges(),kbOpts:{kbExpr:T.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function oH(s,e,t,i){const n=s.ordered(e);return o3(n.map(o=>()=>IN(this,void 0,void 0,function*(){try{return yield o.provideLinkedEditingRanges(e,t,i)}catch(r){Ni(r);return}})),o=>!!o&&Bn(o==null?void 0:o.ranges))}N("editor.linkedEditingBackground",{dark:V.fromHex("#f00").transparent(.3),light:V.fromHex("#f00").transparent(.3),hcDark:V.fromHex("#f00").transparent(.3),hcLight:V.white},f("vs/editor/contrib/linkedEditing/browser/linkedEditing","editorLinkedEditingBackground","Background color when the editor auto renames on type."));hl("_executeLinkedEditingProvider",(s,e,t)=>{const{linkedEditingRangeProvider:i}=s.get(me);return oH(i,e,t,Xe.None)});gt(jd.ID,jd,1);ne(v_e);var sH=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};let C_e=class{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return sH(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}};class pS{constructor(e){this._disposables=new Y;let t=[];for(const[i,n]of e){const o=i.links.map(r=>new C_e(r,n));t=pS._union(t,o),hA(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){const i=[];let n,o,r,a;for(n=0,r=0,o=e.length,a=t.length;n<o&&r<a;){const l=e[n],c=t[r];if(k.areIntersectingOrTouching(l.range,c.range)){n++;continue}k.compareRangesUsingStarts(l.range,c.range)<0?(i.push(l),n++):(i.push(c),r++)}for(;n<o;n++)i.push(e[n]);for(;r<a;r++)i.push(t[r]);return i}}function rH(s,e,t){const i=[],n=s.ordered(e).reverse().map((o,r)=>Promise.resolve(o.provideLinks(e,t)).then(a=>{a&&(i[r]=[a,o])},Ni));return Promise.all(n).then(()=>{const o=new pS(Qa(i));return t.isCancellationRequested?(o.dispose(),new pS([])):o})}lt.registerCommand("_executeLinkProvider",(s,...e)=>sH(void 0,void 0,void 0,function*(){let[t,i]=e;Lt(t instanceof De),typeof i!="number"&&(i=0);const{linkProvider:n}=s.get(me),o=s.get(Qt).getModel(t);if(!o)return[];const r=yield rH(n,o,Xe.None);if(!r)return[];for(let l=0;l<Math.min(i,r.links.length);l++)yield r.links[l].resolve(Xe.None);const a=r.links.slice(0);return r.dispose(),a}));var S_e=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ew=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},y_e=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},TN;let Tm=TN=class extends H{static get(e){return e.getContribution(TN.ID)}constructor(e,t,i,n,o){super(),this.editor=e,this.openerService=t,this.notificationService=i,this.languageFeaturesService=n,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=o.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new xt(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const r=this._register(new qy(e));this._register(r.onMouseMoveOrRelevantKeyDown(([a,l])=>{this._onEditorMouseMove(a,l)})),this._register(r.onExecute(a=>{this.onEditorMouseUp(a)})),this._register(r.onCancel(a=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration(a=>{a.hasChanged(70)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent(a=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel(a=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage(a=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(a=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return y_e(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(70))return;const e=this.editor.getModel();if(!e.isTooLargeForSyncing()&&this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=Vi(t=>rH(this.providers,e,t));try{const t=new Wn(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(t){He(t)}finally{this.computePromise=null}}})}updateDecorations(e){const t=this.editor.getOption(77)==="altKey",i=[],n=Object.keys(this.currentOccurrences);for(const r of n){const a=this.currentOccurrences[r];i.push(a.decorationId)}const o=[];if(e)for(const r of e)o.push(Vf.decoration(r,t));this.editor.changeDecorations(r=>{const a=r.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let l=0,c=a.length;l<c;l++){const d=new Vf(e[l],a[l]);this.currentOccurrences[d.decorationId]=d}})}_onEditorMouseMove(e,t){const i=this.editor.getOption(77)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const n=this.getLinkOccurrence(e.target.position);n&&this.editor.changeDecorations(o=>{n.activate(o,i),this.activeLinkDecorationId=n.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e=this.editor.getOption(77)==="altKey";if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:n}=e;n.resolve(Xe.None).then(o=>{if(typeof o=="string"&&this.editor.hasModel()){const r=this.editor.getModel().uri;if(r.scheme===qe.file&&o.startsWith(`${qe.file}:`)){const a=De.parse(o);if(a.scheme===qe.file){const l=ba(a);let c=null;l.startsWith("/./")?c=`.${l.substr(1)}`:l.startsWith("//./")&&(c=`.${l.substr(2)}`),c&&(o=yJ(r,c))}}}return this.openerService.open(o,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},o=>{const r=o instanceof Error?o.message:o;r==="invalid"?this.notificationService.warn(f("vs/editor/contrib/links/browser/links","invalid.url","Failed to open this link because it is not well-formed: {0}",n.url.toString())):r==="missing"?this.notificationService.warn(f("vs/editor/contrib/links/browser/links","missing.url","Failed to open this link because its target is missing.")):He(o)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const n=this.currentOccurrences[i.id];if(n)return n}return null}isEnabled(e,t){return!!(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.computeLinks.cancel(),this.activeLinksList&&((e=this.activeLinksList)===null||e===void 0||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};Tm.ID="editor.linkDetector";Tm=TN=S_e([Ew(1,$o),Ew(2,Li),Ew(3,me),Ew(4,zs)],Tm);const m5={general:Ve.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Ve.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class Vf{static decoration(e,t){return{range:e.range,options:Vf._getOptions(e,t,!1)}}static _getOptions(e,t,i){const n=Object.assign({},i?m5.active:m5.general);return n.hoverMessage=k_e(e,t),n}constructor(e,t){this.link=e,this.decorationId=t}activate(e,t){e.changeDecorationOptions(this.decorationId,Vf._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,Vf._getOptions(this.link,t,!1))}}function k_e(s,e){const t=s.url&&/^command:/i.test(s.url.toString()),i=s.tooltip?s.tooltip:t?f("vs/editor/contrib/links/browser/links","links.navigate.executeCmd","Execute command"):f("vs/editor/contrib/links/browser/links","links.navigate.follow","Follow link"),n=e?at?f("vs/editor/contrib/links/browser/links","links.navigate.kb.meta.mac","cmd + click"):f("vs/editor/contrib/links/browser/links","links.navigate.kb.meta","ctrl + click"):at?f("vs/editor/contrib/links/browser/links","links.navigate.kb.alt.mac","option + click"):f("vs/editor/contrib/links/browser/links","links.navigate.kb.alt","alt + click");if(s.url){let o="";if(/^command:/i.test(s.url.toString())){const a=s.url.toString().match(/^command:([^?#]+)/);if(a){const l=a[1];o=f("vs/editor/contrib/links/browser/links","tooltip.explanation","Execute command {0}",l)}}return new xn("",!0).appendLink(s.url.toString(!0).replace(/ /g,"%20"),i,o).appendMarkdown(` (${n})`)}else return new xn().appendText(`${i} (${n})`)}class L_e extends ge{constructor(){super({id:"editor.action.openLink",label:f("vs/editor/contrib/links/browser/links","label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const i=Tm.get(t);if(!i||!t.hasModel())return;const n=t.getSelections();for(const o of n){const r=i.getLinkOccurrence(o.getEndPosition());r&&i.openLinkOccurrence(r,!1)}}}gt(Tm.ID,Tm,1);ne(L_e);class EN extends H{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(t=>{const i=this._editor.getOption(116);i>=0&&t.target.type===6&&t.target.position.column>=i&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}EN.ID="editor.contrib.longLinesHelper";gt(EN.ID,EN,2);const Nw=N("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},f("vs/editor/contrib/wordHighlighter/browser/highlightDecorations","wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);N("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},f("vs/editor/contrib/wordHighlighter/browser/highlightDecorations","wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0);N("editor.wordHighlightTextBackground",{light:Nw,dark:Nw,hcDark:Nw,hcLight:Nw},f("vs/editor/contrib/wordHighlighter/browser/highlightDecorations","wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const Aw=N("editor.wordHighlightBorder",{light:null,dark:null,hcDark:Ut,hcLight:Ut},f("vs/editor/contrib/wordHighlighter/browser/highlightDecorations","wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));N("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:Ut,hcLight:Ut},f("vs/editor/contrib/wordHighlighter/browser/highlightDecorations","wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable."));N("editor.wordHighlightTextBorder",{light:Aw,dark:Aw,hcDark:Aw,hcLight:Aw},f("vs/editor/contrib/wordHighlighter/browser/highlightDecorations","wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const x_e=N("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},f("vs/editor/contrib/wordHighlighter/browser/highlightDecorations","overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),D_e=N("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},f("vs/editor/contrib/wordHighlighter/browser/highlightDecorations","overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),I_e=N("editorOverviewRuler.wordHighlightTextForeground",{dark:Kp,light:Kp,hcDark:Kp,hcLight:Kp},f("vs/editor/contrib/wordHighlighter/browser/highlightDecorations","overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),T_e=Ve.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:ti(D_e),position:ds.Center},minimap:{color:ti(XS),position:Bo.Inline}}),E_e=Ve.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:ti(I_e),position:ds.Center},minimap:{color:ti(XS),position:Bo.Inline}}),N_e=Ve.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:ti(Kp),position:ds.Center},minimap:{color:ti(XS),position:Bo.Inline}}),A_e=Ve.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),R_e=Ve.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:ti(x_e),position:ds.Center},minimap:{color:ti(XS),position:Bo.Inline}});function M_e(s){return s===Kb.Write?T_e:s===Kb.Text?E_e:R_e}function P_e(s){return s?A_e:N_e}mr((s,e)=>{const t=s.getColor(YA);t&&e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`)});var O_e=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},F_e=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},NN;function nu(s,e){const t=e.filter(i=>!s.find(n=>n.equals(i)));if(t.length>=1){const i=t.map(o=>`line ${o.viewState.position.lineNumber} column ${o.viewState.position.column}`).join(", "),n=t.length===1?f("vs/editor/contrib/multicursor/browser/multicursor","cursorAdded","Cursor added: {0}",i):f("vs/editor/contrib/multicursor/browser/multicursor","cursorsAdded","Cursors added: {0}",i);Td(n)}}class B_e extends ge{constructor(){super({id:"editor.action.insertCursorAbove",label:f("vs/editor/contrib/multicursor/browser/multicursor","mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:D.MenubarSelectionMenu,group:"3_multi",title:f("vs/editor/contrib/multicursor/browser/multicursor",{key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&i.logicalLine===!1&&(n=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const r=o.getCursorStates();o.setCursorStates(i.source,3,sn.addCursorUp(o,r,n)),o.revealTopMostCursor(i.source),nu(r,o.getCursorStates())}}class W_e extends ge{constructor(){super({id:"editor.action.insertCursorBelow",label:f("vs/editor/contrib/multicursor/browser/multicursor","mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:D.MenubarSelectionMenu,group:"3_multi",title:f("vs/editor/contrib/multicursor/browser/multicursor",{key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&i.logicalLine===!1&&(n=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const r=o.getCursorStates();o.setCursorStates(i.source,3,sn.addCursorDown(o,r,n)),o.revealBottomMostCursor(i.source),nu(r,o.getCursorStates())}}class V_e extends ge{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:f("vs/editor/contrib/multicursor/browser/multicursor","mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:D.MenubarSelectionMenu,group:"3_multi",title:f("vs/editor/contrib/multicursor/browser/multicursor",{key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let n=e.startLineNumber;n<e.endLineNumber;n++){const o=t.getLineMaxColumn(n);i.push(new _e(n,o,n,o))}e.endColumn>1&&i.push(new _e(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),n=t.getSelections(),o=t._getViewModel(),r=o.getCursorStates(),a=[];n.forEach(l=>this.getCursorsForSelection(l,i,a)),a.length>0&&t.setSelections(a),nu(r,o.getCursorStates())}}class H_e extends ge{constructor(){super({id:"editor.action.addCursorsToBottom",label:f("vs/editor/contrib/multicursor/browser/multicursor","mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),n=t.getModel().getLineCount(),o=[];for(let l=i[0].startLineNumber;l<=n;l++)o.push(new _e(l,i[0].startColumn,l,i[0].endColumn));const r=t._getViewModel(),a=r.getCursorStates();o.length>0&&t.setSelections(o),nu(a,r.getCursorStates())}}class z_e extends ge{constructor(){super({id:"editor.action.addCursorsToTop",label:f("vs/editor/contrib/multicursor/browser/multicursor","mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),n=[];for(let a=i[0].startLineNumber;a>=1;a--)n.push(new _e(a,i[0].startColumn,a,i[0].endColumn));const o=t._getViewModel(),r=o.getCursorStates();n.length>0&&t.setSelections(n),nu(r,o.getCursorStates())}}class Rw{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class dv{static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new dv(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let n=!1,o,r;const a=e.getSelections();a.length===1&&a[0].isEmpty()?(n=!0,o=!0,r=!0):(o=i.wholeWord,r=i.matchCase);const l=e.getSelection();let c,d=null;if(l.isEmpty()){const u=e.getConfiguredWordAtPosition(l.getStartPosition());if(!u)return null;c=u.word,d=new _e(l.startLineNumber,u.startColumn,l.startLineNumber,u.endColumn)}else c=e.getModel().getValueInRange(l).replace(/\r\n/g,`
`);return new dv(e,t,n,c,o,r,d)}constructor(e,t,i,n,o,r,a){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=n,this.wholeWord=o,this.matchCase=r,this.currentMatch=a}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Rw(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Rw(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const n=this.currentMatch;return this.currentMatch=null,n}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1);return i?new _e(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Rw(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Rw(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const n=this.currentMatch;return this.currentMatch=null,n}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1);return i?new _e(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1,1073741824):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1,1073741824)}}class Bh extends H{static get(e){return e.getContribution(Bh.ID)}constructor(e){super(),this._sessionDispose=this._register(new Y),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=dv.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(n=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(n=>{(n.matchCase||n.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new _e(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const n=e.getState().matchCase;if(!aH(this._editor.getModel(),t,n)){const r=this._editor.getModel(),a=[];for(let l=0,c=t.length;l<c;l++)a[l]=this._expandEmptyToWord(r,t[l]);this._editor.setSelections(a);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex){const n=this._editor.getModel();i.searchScope?t=n.findMatches(i.searchString,i.searchScope,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(129):null,!1,1073741824):t=n.findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(129):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(i.searchScope)}if(t.length>0){const n=this._editor.getSelection();for(let o=0,r=t.length;o<r;o++){const a=t[o];if(a.range.intersectRanges(n)){t[o]=t[0],t[0]=a;break}}this._setSelections(t.map(o=>new _e(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn)))}}}Bh.ID="editor.contrib.multiCursorController";class Jm extends ge{run(e,t){const i=Bh.get(t);if(!i)return;const n=t._getViewModel();if(n){const o=n.getCursorStates(),r=uo.get(t);if(r)this._run(i,r);else{const a=e.get(Ae).createInstance(uo,t);this._run(i,a),a.dispose()}nu(o,n.getCursorStates())}}}class U_e extends Jm{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:f("vs/editor/contrib/multicursor/browser/multicursor","addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:2082,weight:100},menuOpts:{menuId:D.MenubarSelectionMenu,group:"3_multi",title:f("vs/editor/contrib/multicursor/browser/multicursor",{key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class $_e extends Jm{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:f("vs/editor/contrib/multicursor/browser/multicursor","addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:D.MenubarSelectionMenu,group:"3_multi",title:f("vs/editor/contrib/multicursor/browser/multicursor",{key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class j_e extends Jm{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:f("vs/editor/contrib/multicursor/browser/multicursor","moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:Oi(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class K_e extends Jm{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:f("vs/editor/contrib/multicursor/browser/multicursor","moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class q_e extends Jm{constructor(){super({id:"editor.action.selectHighlights",label:f("vs/editor/contrib/multicursor/browser/multicursor","selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:3114,weight:100},menuOpts:{menuId:D.MenubarSelectionMenu,group:"3_multi",title:f("vs/editor/contrib/multicursor/browser/multicursor",{key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class G_e extends Jm{constructor(){super({id:"editor.action.changeAll",label:f("vs/editor/contrib/multicursor/browser/multicursor","changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:Z.and(T.writable,T.editorTextFocus),kbOpts:{kbExpr:T.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class Z_e{constructor(e,t,i,n,o){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=n,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,o&&this._model===o._model&&this._searchText===o._searchText&&this._matchCase===o._matchCase&&this._wordSeparators===o._wordSeparators&&this._modelVersionId===o._modelVersionId&&(this._cachedFindMatches=o._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(k.compareRangesUsingStarts)),this._cachedFindMatches}}let uv=NN=class extends H{constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(107),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new xt(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(n=>{this._isEnabled=e.getOption(107)})),this._register(e.onDidChangeCursorSelection(n=>{this._isEnabled&&(n.selection.isEmpty()?n.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(n=>{this._setState(null)})),this._register(e.onDidChangeModelContent(n=>{this._isEnabled&&this.updateSoon.schedule()}));const i=uo.get(e);i&&this._register(i.getState().onFindReplaceStateChange(n=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(NN._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t||!i.hasModel())return null;const n=i.getSelection();if(n.startLineNumber!==n.endLineNumber)return null;const o=Bh.get(i);if(!o)return null;const r=uo.get(i);if(!r)return null;let a=o.getSession(r);if(!a){const d=i.getSelections();if(d.length>1){const h=r.getState().matchCase;if(!aH(i.getModel(),d,h))return null}a=dv.create(i,r)}if(!a||a.currentMatch||/^[ \t]+$/.test(a.searchText)||a.searchText.length>200)return null;const l=r.getState(),c=l.matchCase;if(l.isRevealed){let d=l.searchString;c||(d=d.toLowerCase());let u=a.searchText;if(c||(u=u.toLowerCase()),d===u&&a.matchCase===l.matchCase&&a.wholeWord===l.wholeWord&&!l.isRegex)return null}return new Z_e(i.getModel(),a.searchText,a.matchCase,a.wholeWord?i.getOption(129):null,e)}_setState(e){if(this.state=e,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=this.state.findMatches(),n=this.editor.getSelections();n.sort(k.compareRangesUsingStarts);const o=[];for(let l=0,c=0,d=i.length,u=n.length;l<d;){const h=i[l];if(c>=u)o.push(h),l++;else{const g=k.compareRangesUsingStarts(h,n[c]);g<0?((n[c].isEmpty()||!k.areIntersecting(h,n[c]))&&o.push(h),l++):(g>0||l++,c++)}}const r=this._languageFeaturesService.documentHighlightProvider.has(t)&&this.editor.getOption(80),a=o.map(l=>({range:l,options:P_e(r)}));this._decorations.set(a)}dispose(){this._setState(null),super.dispose()}};uv.ID="editor.contrib.selectionHighlighter";uv=NN=O_e([F_e(1,me)],uv);function aH(s,e,t){const i=p5(s,e[0],!t);for(let n=1,o=e.length;n<o;n++){const r=e[n];if(r.isEmpty())return!1;const a=p5(s,r,!t);if(i!==a)return!1}return!0}function p5(s,e,t){const i=s.getValueInRange(e);return t?i.toLowerCase():i}class Q_e extends ge{constructor(){super({id:"editor.action.focusNextCursor",label:f("vs/editor/contrib/multicursor/browser/multicursor","mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:f("vs/editor/contrib/multicursor/browser/multicursor","mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const n=t._getViewModel();if(n.cursorConfig.readOnly)return;n.model.pushStackElement();const o=Array.from(n.getCursorStates()),r=o.shift();r&&(o.push(r),n.setCursorStates(i.source,3,o),n.revealPrimaryCursor(i.source,!0),nu(o,n.getCursorStates()))}}class Y_e extends ge{constructor(){super({id:"editor.action.focusPreviousCursor",label:f("vs/editor/contrib/multicursor/browser/multicursor","mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:f("vs/editor/contrib/multicursor/browser/multicursor","mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const n=t._getViewModel();if(n.cursorConfig.readOnly)return;n.model.pushStackElement();const o=Array.from(n.getCursorStates()),r=o.pop();r&&(o.unshift(r),n.setCursorStates(i.source,3,o),n.revealPrimaryCursor(i.source,!0),nu(o,n.getCursorStates()))}}gt(Bh.ID,Bh,4);gt(uv.ID,uv,1);ne(B_e);ne(W_e);ne(V_e);ne(U_e);ne($_e);ne(j_e);ne(K_e);ne(q_e);ne(G_e);ne(H_e);ne(z_e);ne(Q_e);ne(Y_e);var lH=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const Wh={Visible:new de("parameterHintsVisible",!1),MultipleSignatures:new de("parameterHintsMultipleSignatures",!1)};function cH(s,e,t,i,n){return lH(this,void 0,void 0,function*(){const o=s.ordered(e);for(const r of o)try{const a=yield r.provideSignatureHelp(e,t,n,i);if(a)return a}catch(a){Ni(a)}})}lt.registerCommand("_executeSignatureHelpProvider",(s,...e)=>lH(void 0,void 0,void 0,function*(){const[t,i,n]=e;Lt(De.isUri(t)),Lt(P.isIPosition(i)),Lt(typeof n=="string"||!n);const o=s.get(me),r=yield s.get(xo).createModelReference(t);try{const a=yield cH(o.signatureHelpProvider,r.object.textEditorModel,P.lift(i),{triggerKind:Ka.Invoke,isRetrigger:!1,triggerCharacter:n},Xe.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{r.dispose()}}));var X_e=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},Fc;(function(s){s.Default={type:0};class e{constructor(n,o){this.request=n,this.previouslyActiveHints=o,this.type=2}}s.Pending=e;class t{constructor(n){this.hints=n,this.type=1}}s.Active=t})(Fc||(Fc={}));class xk extends H{constructor(e,t,i=xk.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new M),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Fc.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new pn),this.triggerChars=new BC,this.retriggerChars=new BC,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new hr(i),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(n=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(n=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(n=>this.onCursorChange(n))),this._register(this.editor.onDidChangeModelContent(n=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(n=>this.onDidType(n))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=Fc.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!this.providers.has(i))return;const n=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(n),t).catch(He)}next(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,n=this.editor.getOption(85).cycle;if((e<2||i)&&!n){this.cancel();return}this.updateActiveSignature(i&&n?0:t+1)}previous(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t===0,n=this.editor.getOption(85).cycle;if((e<2||i)&&!n){this.cancel();return}this.updateActiveSignature(i&&n?e-1:t-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new Fc.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return X_e(this,void 0,void 0,function*(){const t=this.state.type===1||this.state.type===2,i=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const n=this._pendingTriggers.reduce(J_e);this._pendingTriggers=[];const o={triggerKind:n.triggerKind,triggerCharacter:n.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const r=this.editor.getModel(),a=this.editor.getPosition();this.state=new Fc.Pending(Vi(l=>cH(this.providers,r,a,o,l)),i);try{const l=yield this.state.request;return e!==this.triggerId?(l==null||l.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l==null||l.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new Fc.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return e===this.triggerId&&(this.state=Fc.Default),He(l),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const e=this.editor.getModel();if(e)for(const t of this.providers.ordered(e)){for(const i of t.signatureHelpTriggerCharacters||[])if(i.length){const n=i.charCodeAt(0);this.triggerChars.add(n),this.retriggerChars.add(n)}for(const i of t.signatureHelpRetriggerCharacters||[])i.length&&this.retriggerChars.add(i.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:Ka.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:Ka.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Ka.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(85).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}xk.DEFAULT_DELAY=120;function J_e(s,e){switch(e.triggerKind){case Ka.Invoke:return e;case Ka.ContentChange:return s;case Ka.TriggerCharacter:default:return e}}var eve=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ox=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},AN;const Ko=te,tve=_i("parameter-hints-next",se.chevronDown,f("vs/editor/contrib/parameterHints/browser/parameterHintsWidget","parameterHintsNextIcon","Icon for show next parameter hint.")),ive=_i("parameter-hints-previous",se.chevronUp,f("vs/editor/contrib/parameterHints/browser/parameterHintsWidget","parameterHintsPreviousIcon","Icon for show previous parameter hint."));let bS=AN=class extends H{constructor(e,t,i,n,o){super(),this.editor=e,this.model=t,this.renderDisposeables=this._register(new Y),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new dc({editor:e},o,n)),this.keyVisible=Wh.Visible.bindTo(i),this.keyMultipleSignatures=Wh.MultipleSignatures.bindTo(i)}createParameterHintDOMNodes(){const e=Ko(".editor-widget.parameter-hints-widget"),t=Q(e,Ko(".phwrapper"));t.tabIndex=-1;const i=Q(t,Ko(".controls")),n=Q(i,Ko(".button"+Ie.asCSSSelector(ive))),o=Q(i,Ko(".overloads")),r=Q(i,Ko(".button"+Ie.asCSSSelector(tve)));this._register($(n,"click",h=>{je.stop(h),this.previous()})),this._register($(r,"click",h=>{je.stop(h),this.next()}));const a=Ko(".body"),l=new Av(a,{alwaysConsumeMouseWheel:!0});this._register(l),t.appendChild(l.getDomNode());const c=Q(a,Ko(".signature")),d=Q(a,Ko(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:c,overloads:o,docs:d,scrollbar:l},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(h=>{this.visible&&this.editor.layoutContentWidget(this)}));const u=()=>{if(!this.domNodes)return;const h=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${h.fontSize}px`,this.domNodes.element.style.lineHeight=`${h.lineHeight/h.fontSize}`};u(),this._register(ce.chain(this.editor.onDidChangeConfiguration.bind(this.editor),h=>h.filter(g=>g.hasChanged(50)))(u)),this._register(this.editor.onDidLayoutChange(h=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var e;(e=this.domNodes)===null||e===void 0||e.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var e;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(e=this.domNodes)===null||e===void 0||e.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const n=e.signatures[e.activeSignature];if(!n)return;const o=Q(this.domNodes.signature,Ko(".code")),r=this.editor.getOption(50);o.style.fontSize=`${r.fontSize}px`,o.style.fontFamily=r.fontFamily;const a=n.parameters.length>0,l=(t=n.activeParameter)!==null&&t!==void 0?t:e.activeParameter;if(a)this.renderParameters(o,n,l);else{const u=Q(o,Ko("span"));u.textContent=n.label}const c=n.parameters[l];if(c!=null&&c.documentation){const u=Ko("span.documentation");if(typeof c.documentation=="string")u.textContent=c.documentation;else{const h=this.renderMarkdownDocs(c.documentation);u.appendChild(h.element)}Q(this.domNodes.docs,Ko("p",{},u))}if(n.documentation!==void 0)if(typeof n.documentation=="string")Q(this.domNodes.docs,Ko("p",{},n.documentation));else{const u=this.renderMarkdownDocs(n.documentation);Q(this.domNodes.docs,u.element)}const d=this.hasDocs(n,c);if(this.domNodes.signature.classList.toggle("has-docs",d),this.domNodes.docs.classList.toggle("empty",!d),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,c){let u="";const h=n.parameters[l];Array.isArray(h.label)?u=n.label.substring(h.label[0],h.label[1]):u=h.label,h.documentation&&(u+=typeof h.documentation=="string"?`, ${h.documentation}`:`, ${h.documentation.value}`),n.documentation&&(u+=typeof n.documentation=="string"?`, ${n.documentation}`:`, ${n.documentation.value}`),this.announcedLabel!==u&&(Fn(f("vs/editor/contrib/parameterHints/browser/parameterHintsWidget","hint","{0}, hint",u)),this.announcedLabel=u)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var i;(i=this.domNodes)===null||i===void 0||i.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&Vu(t.documentation).length>0||t&&typeof t.documentation=="object"&&Vu(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&Vu(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&Vu(e.documentation.value).length>0)}renderParameters(e,t,i){const[n,o]=this.getParameterLabelOffsets(t,i),r=document.createElement("span");r.textContent=t.label.substring(0,n);const a=document.createElement("span");a.textContent=t.label.substring(n,o),a.className="parameter active";const l=document.createElement("span");l.textContent=t.label.substring(o),Q(e,r,a,l)}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const n=new RegExp(`(\\W|^)${cs(i.label)}(?=\\W|$)`,"g");n.test(e.label);const o=n.lastIndex-i.label.length;return o>=0?[o,n.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return AN.ID}updateMaxHeight(){if(!this.domNodes)return;const t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;const i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};bS.ID="editor.widget.parameterHintsWidget";bS=AN=eve([Ox(2,Me),Ox(3,$o),Ox(4,qt)],bS);N("editorHoverWidget.highlightForeground",{dark:ir,light:ir,hcDark:ir,hcLight:ir},f("vs/editor/contrib/parameterHints/browser/parameterHintsWidget","editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var nve=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},b5=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},RN;let Vh=RN=class extends H{static get(e){return e.getContribution(RN.ID)}constructor(e,t,i){super(),this.editor=e,this.model=this._register(new xk(e,i.signatureHelpProvider)),this._register(this.model.onChangedHints(n=>{var o;n?(this.widget.value.show(),this.widget.value.render(n)):(o=this.widget.rawValue)===null||o===void 0||o.hide()})),this.widget=new Qd(()=>this._register(t.createInstance(bS,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var e;(e=this.widget.rawValue)===null||e===void 0||e.previous()}next(){var e;(e=this.widget.rawValue)===null||e===void 0||e.next()}trigger(e){this.model.trigger(e,0)}};Vh.ID="editor.controller.parameterHints";Vh=RN=nve([b5(1,Ae),b5(2,me)],Vh);class ove extends ge{constructor(){super({id:"editor.action.triggerParameterHints",label:f("vs/editor/contrib/parameterHints/browser/parameterHints","parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:T.hasSignatureHelpProvider,kbOpts:{kbExpr:T.editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=Vh.get(t);i==null||i.trigger({triggerKind:Ka.Invoke})}}gt(Vh.ID,Vh,2);ne(ove);const uP=100+75,hP=nn.bindToContribution(Vh.get);re(new hP({id:"closeParameterHints",precondition:Wh.Visible,handler:s=>s.cancel(),kbOpts:{weight:uP,kbExpr:T.focus,primary:9,secondary:[1033]}}));re(new hP({id:"showPrevParameterHint",precondition:Z.and(Wh.Visible,Wh.MultipleSignatures),handler:s=>s.previous(),kbOpts:{weight:uP,kbExpr:T.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));re(new hP({id:"showNextParameterHint",precondition:Z.and(Wh.Visible,Wh.MultipleSignatures),handler:s=>s.next(),kbOpts:{weight:uP,kbExpr:T.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var sve=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Fx=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};const Dk=new de("renameInputVisible",!1,f("vs/editor/contrib/rename/browser/renameInputField","renameInputVisible","Whether the rename input widget is visible"));let MN=class{constructor(e,t,i,n,o){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=n,this._disposables=new Y,this.allowEditorOverflow=!0,this._visibleContextKey=Dk.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(50)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",f("vs/editor/contrib/rename/browser/renameInputField","renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(e){var t,i,n,o;if(!this._input||!this._domNode)return;const r=e.getColor(Fa),a=e.getColor(GA);this._domNode.style.backgroundColor=String((t=e.getColor(li))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=r?` 0 0 8px 2px ${r}`:"",this._domNode.style.border=a?`1px solid ${a}`:"",this._domNode.style.color=String((i=e.getColor(O3))!==null&&i!==void 0?i:""),this._input.style.backgroundColor=String((n=e.getColor(P3))!==null&&n!==void 0?n:"");const l=e.getColor(F3);this._input.style.borderWidth=l?"1px":"0px",this._input.style.borderStyle=l?"solid":"none",this._input.style.borderColor=(o=l==null?void 0:l.toString())!==null&&o!==void 0?o:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(50);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=`${e.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var e,t;const[i,n]=this._acceptKeybindings;return this._label.innerText=f("vs/editor/contrib/rename/browser/renameInputField",{key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(e=this._keybindingService.lookupKeybinding(i))===null||e===void 0?void 0:e.getLabel(),(t=this._keybindingService.lookupKeybinding(n))===null||t===void 0?void 0:t.getLabel()),null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){var t;(t=this._currentAcceptInput)===null||t===void 0||t.call(this,e)}cancelInput(e){var t;(t=this._currentCancelInput)===null||t===void 0||t.call(this,e)}getInput(e,t,i,n,o,r){this._domNode.classList.toggle("preview",o),this._position=new P(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);const a=new Y;return new Promise(l=>{this._currentCancelInput=c=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l(c),!0),this._currentAcceptInput=c=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l({newName:this._input.value,wantsPreview:o&&c})},a.add(r.onCancellationRequested(()=>this.cancelInput(!0))),a.add(this._editor.onDidBlurEditorWidget(()=>{var c;return this.cancelInput(!(!((c=this._domNode)===null||c===void 0)&&c.ownerDocument.hasFocus()))})),this._show()}).finally(()=>{a.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};MN=sve([Fx(2,qi),Fx(3,Et),Fx(4,Me)],MN);var rve=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},vu=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},lh=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},PN;class gP{constructor(e,t,i){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=i.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return lh(this,void 0,void 0,function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const n=this._providers[this._providerRenameIdx];if(!n.resolveRenameLocation)break;const o=yield n.resolveRenameLocation(this.model,this.position,e);if(o){if(o.rejectReason){t.push(o.rejectReason);continue}return o}}const i=this.model.getWordAtPosition(this.position);return i?{range:new k(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join(`
`):void 0}:{range:k.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0}})}provideRenameEdits(e,t){return lh(this,void 0,void 0,function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)})}_provideRenameEdits(e,t,i,n){return lh(this,void 0,void 0,function*(){const o=this._providers[t];if(!o)return{edits:[],rejectReason:i.join(`
`)};const r=yield o.provideRenameEdits(this.model,this.position,e,n);if(r){if(r.rejectReason)return this._provideRenameEdits(e,t+1,i.concat(r.rejectReason),n)}else return this._provideRenameEdits(e,t+1,i.concat(f("vs/editor/contrib/rename/browser/rename","no result","No result.")),n);return r})}}function ave(s,e,t,i){return lh(this,void 0,void 0,function*(){const n=new gP(e,t,s),o=yield n.resolveRenameLocation(Xe.None);return o!=null&&o.rejectReason?{edits:[],rejectReason:o.rejectReason}:n.provideRenameEdits(i,Xe.None)})}let Hh=PN=class{static get(e){return e.getContribution(PN.ID)}constructor(e,t,i,n,o,r,a,l){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=n,this._progressService=o,this._logService=r,this._configService=a,this._languageFeaturesService=l,this._disposableStore=new Y,this._cts=new yi,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(MN,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var e,t;return lh(this,void 0,void 0,function*(){if(this._cts.dispose(!0),this._cts=new yi,!this.editor.hasModel())return;const i=this.editor.getPosition(),n=new gP(this.editor.getModel(),i,this._languageFeaturesService.renameProvider);if(!n.hasProvider())return;const o=new Pd(this.editor,5,void 0,this._cts.token);let r;try{const m=n.resolveRenameLocation(o.token);this._progressService.showWhile(m,250),r=yield m}catch(m){(e=Wo.get(this.editor))===null||e===void 0||e.showMessage(m||f("vs/editor/contrib/rename/browser/rename","resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i);return}finally{o.dispose()}if(!r)return;if(r.rejectReason){(t=Wo.get(this.editor))===null||t===void 0||t.showMessage(r.rejectReason,i);return}if(o.token.isCancellationRequested)return;const a=new Pd(this.editor,5,r.range,this._cts.token),l=this.editor.getSelection();let c=0,d=r.text.length;!k.isEmpty(l)&&!k.spansMultipleLines(l)&&k.containsRange(r.range,l)&&(c=Math.max(0,l.startColumn-r.range.startColumn),d=Math.min(r.range.endColumn,l.endColumn)-r.range.startColumn);const u=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),h=yield this._renameInputField.getInput(r.range,r.text,c,d,u,a.token);if(typeof h=="boolean"){h&&this.editor.focus(),a.dispose();return}this.editor.focus();const g=WS(n.provideRenameEdits(h.newName,a.token),a.token).then(m=>lh(this,void 0,void 0,function*(){if(!(!m||!this.editor.hasModel())){if(m.rejectReason){this._notificationService.info(m.rejectReason);return}this.editor.setSelection(k.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(m,{editor:this.editor,showPreview:h.wantsPreview,label:f("vs/editor/contrib/rename/browser/rename","label","Renaming '{0}' to '{1}'",r==null?void 0:r.text,h.newName),code:"undoredo.rename",quotableLabel:f("vs/editor/contrib/rename/browser/rename","quotableLabel","Renaming {0} to {1}",r==null?void 0:r.text,h.newName),respectAutoSaveConfig:!0}).then(p=>{p.ariaSummary&&Fn(f("vs/editor/contrib/rename/browser/rename","aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",r.text,h.newName,p.ariaSummary))}).catch(p=>{this._notificationService.error(f("vs/editor/contrib/rename/browser/rename","rename.failedApply","Rename failed to apply edits")),this._logService.error(p)})}}),m=>{this._notificationService.error(f("vs/editor/contrib/rename/browser/rename","rename.failed","Rename failed to compute edits")),this._logService.error(m)}).finally(()=>{a.dispose()});return this._progressService.showWhile(g,250),g})}acceptRenameInput(e){this._renameInputField.acceptInput(e)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};Hh.ID="editor.contrib.renameController";Hh=PN=rve([vu(1,Ae),vu(2,Li),vu(3,Bv),vu(4,eu),vu(5,ps),vu(6,VA),vu(7,me)],Hh);class lve extends ge{constructor(){super({id:"editor.action.rename",label:f("vs/editor/contrib/rename/browser/rename","rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Z.and(T.writable,T.hasRenameProvider),kbOpts:{kbExpr:T.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get(bt),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return De.isUri(n)&&P.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(r=>{r&&(r.setPosition(o),r.invokeWithinContext(a=>(this.reportTelemetry(a,r),this.run(a,r))))},He):super.runCommand(e,t)}run(e,t){const i=Hh.get(t);return i?i.run():Promise.resolve()}}gt(Hh.ID,Hh,4);ne(lve);const fP=nn.bindToContribution(Hh.get);re(new fP({id:"acceptRenameInput",precondition:Dk,handler:s=>s.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:Z.and(T.focus,Z.not("isComposing")),primary:3}}));re(new fP({id:"acceptRenameInputWithPreview",precondition:Z.and(Dk,Z.has("config.editor.rename.enablePreview")),handler:s=>s.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:Z.and(T.focus,Z.not("isComposing")),primary:1024+3}}));re(new fP({id:"cancelRenameInput",precondition:Dk,handler:s=>s.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:T.focus,primary:9,secondary:[1033]}}));hl("_executeDocumentRenameProvider",function(s,e,t,...i){const[n]=i;Lt(typeof n=="string");const{renameProvider:o}=s.get(me);return ave(o,e,t,n)});hl("_executePrepareRename",function(s,e,t){return lh(this,void 0,void 0,function*(){const{renameProvider:i}=s.get(me),o=yield new gP(e,t,i).resolveRenameLocation(Xe.None);if(o!=null&&o.rejectReason)throw new Error(o.rejectReason);return o})});Jt.as(la.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:f("vs/editor/contrib/rename/browser/rename","enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});function cve(s){for(let e=0,t=s.length;e<t;e+=4){const i=s[e+0],n=s[e+1],o=s[e+2],r=s[e+3];s[e+0]=r,s[e+1]=o,s[e+2]=n,s[e+3]=i}}function dve(s){const e=new Uint8Array(s.buffer,s.byteOffset,s.length*4);return Z5()||cve(e),US.wrap(e)}function dH(s){const e=new Uint32Array(uve(s));let t=0;if(e[t++]=s.id,s.type==="full")e[t++]=1,e[t++]=s.data.length,e.set(s.data,t),t+=s.data.length;else{e[t++]=2,e[t++]=s.deltas.length;for(const i of s.deltas)e[t++]=i.start,e[t++]=i.deleteCount,i.data?(e[t++]=i.data.length,e.set(i.data,t),t+=i.data.length):e[t++]=0}return dve(e)}function uve(s){let e=0;if(e+=1+1,s.type==="full")e+=1+s.data.length;else{e+=1,e+=(1+1+1)*s.deltas.length;for(const t of s.deltas)t.data&&(e+=t.data.length)}return e}var Kd=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};function Ik(s){return s&&!!s.data}function uH(s){return s&&Array.isArray(s.edits)}class hve{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}}function hH(s,e){return s.has(e)}function gve(s,e){const t=s.orderedGroups(e);return t.length>0?t[0]:[]}function gH(s,e,t,i,n){return Kd(this,void 0,void 0,function*(){const o=gve(s,e),r=yield Promise.all(o.map(a=>Kd(this,void 0,void 0,function*(){let l,c=null;try{l=yield a.provideDocumentSemanticTokens(e,a===t?i:null,n)}catch(d){c=d,l=null}return(!l||!Ik(l)&&!uH(l))&&(l=null),new hve(a,l,c)})));for(const a of r){if(a.error)throw a.error;if(a.tokens)return a}return r.length>0?r[0]:null})}function fve(s,e){const t=s.orderedGroups(e);return t.length>0?t[0]:null}class mve{constructor(e,t){this.provider=e,this.tokens=t}}function pve(s,e){return s.has(e)}function fH(s,e){const t=s.orderedGroups(e);return t.length>0?t[0]:[]}function mP(s,e,t,i){return Kd(this,void 0,void 0,function*(){const n=fH(s,e),o=yield Promise.all(n.map(r=>Kd(this,void 0,void 0,function*(){let a;try{a=yield r.provideDocumentRangeSemanticTokens(e,t,i)}catch(l){Ni(l),a=null}return(!a||!Ik(a))&&(a=null),new mve(r,a)})));for(const r of o)if(r.tokens)return r;return o.length>0?o[0]:null})}lt.registerCommand("_provideDocumentSemanticTokensLegend",(s,...e)=>Kd(void 0,void 0,void 0,function*(){const[t]=e;Lt(t instanceof De);const i=s.get(Qt).getModel(t);if(!i)return;const{documentSemanticTokensProvider:n}=s.get(me),o=fve(n,i);return o?o[0].getLegend():s.get(ci).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)}));lt.registerCommand("_provideDocumentSemanticTokens",(s,...e)=>Kd(void 0,void 0,void 0,function*(){const[t]=e;Lt(t instanceof De);const i=s.get(Qt).getModel(t);if(!i)return;const{documentSemanticTokensProvider:n}=s.get(me);if(!hH(n,i))return s.get(ci).executeCommand("_provideDocumentRangeSemanticTokens",t,i.getFullModelRange());const o=yield gH(n,i,null,null,Xe.None);if(!o)return;const{provider:r,tokens:a}=o;if(!a||!Ik(a))return;const l=dH({id:0,type:"full",data:a.data});return a.resultId&&r.releaseDocumentSemanticTokens(a.resultId),l}));lt.registerCommand("_provideDocumentRangeSemanticTokensLegend",(s,...e)=>Kd(void 0,void 0,void 0,function*(){const[t,i]=e;Lt(t instanceof De);const n=s.get(Qt).getModel(t);if(!n)return;const{documentRangeSemanticTokensProvider:o}=s.get(me),r=fH(o,n);if(r.length===0)return;if(r.length===1)return r[0].getLegend();if(!i||!k.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),r[0].getLegend();const a=yield mP(o,n,k.lift(i),Xe.None);if(a)return a.provider.getLegend()}));lt.registerCommand("_provideDocumentRangeSemanticTokens",(s,...e)=>Kd(void 0,void 0,void 0,function*(){const[t,i]=e;Lt(t instanceof De),Lt(k.isIRange(i));const n=s.get(Qt).getModel(t);if(!n)return;const{documentRangeSemanticTokensProvider:o}=s.get(me),r=yield mP(o,n,k.lift(i),Xe.None);if(!(!r||!r.tokens))return dH({id:0,type:"full",data:r.tokens.data})}));const pP="editor.semanticHighlighting";function ON(s,e,t){var i;const n=(i=t.getValue(pP,{overrideIdentifier:s.getLanguageId(),resource:s.uri}))===null||i===void 0?void 0:i.enabled;return typeof n=="boolean"?n:e.getColorTheme().semanticHighlighting}var mH=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},La=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Mc;let FN=class extends H{constructor(e,t,i,n,o,r){super(),this._watchers=Object.create(null);const a=d=>{this._watchers[d.uri.toString()]=new hv(d,e,i,o,r)},l=(d,u)=>{u.dispose(),delete this._watchers[d.uri.toString()]},c=()=>{for(const d of t.getModels()){const u=this._watchers[d.uri.toString()];ON(d,i,n)?u||a(d):u&&l(d,u)}};this._register(t.onModelAdded(d=>{ON(d,i,n)&&a(d)})),this._register(t.onModelRemoved(d=>{const u=this._watchers[d.uri.toString()];u&&l(d,u)})),this._register(n.onDidChangeConfiguration(d=>{d.affectsConfiguration(pP)&&c()})),this._register(i.onDidColorThemeChange(c))}dispose(){for(const e of Object.values(this._watchers))e.dispose();super.dispose()}};FN=mH([La(0,uy),La(1,Qt),La(2,qi),La(3,ot),La(4,zs),La(5,me)],FN);let hv=Mc=class extends H{constructor(e,t,i,n,o){super(),this._semanticTokensStylingService=t,this._isDisposed=!1,this._model=e,this._provider=o.documentSemanticTokensProvider,this._debounceInformation=n.for(this._provider,"DocumentSemanticTokens",{min:Mc.REQUEST_MIN_DELAY,max:Mc.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new xt(()=>this._fetchDocumentSemanticTokensNow(),Mc.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const r=()=>{St(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const a of this._provider.all(e))typeof a.onDidChange=="function"&&this._documentProvidersChangeListeners.push(a.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};r(),this._register(this._provider.onDidChange(()=>{r(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(i.onDidColorThemeChange(a=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),St(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!hH(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const e=new yi,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,n=gH(this._provider,this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e,this._providersChangedDuringRequest=!1;const o=[],r=this._model.onDidChangeContent(l=>{o.push(l)}),a=new Wn(!1);n.then(l=>{if(this._debounceInformation.update(this._model,a.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),!l)this._setDocumentSemanticTokens(null,null,null,o);else{const{provider:c,tokens:d}=l,u=this._semanticTokensStylingService.getStyling(c);this._setDocumentSemanticTokens(c,d||null,u,o)}},l=>{l&&(ra(l)||typeof l.message=="string"&&l.message.indexOf("busy")!==-1)||He(l),this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),(o.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(e,t,i,n,o){o=Math.min(o,i.length-n,e.length-t);for(let r=0;r<o;r++)i[n+r]=e[t+r]}_setDocumentSemanticTokens(e,t,i,n){const o=this._currentDocumentResponse,r=()=>{(n.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!i){this._model.tokenization.setSemanticTokens(null,!1);return}if(!t){this._model.tokenization.setSemanticTokens(null,!0),r();return}if(uH(t)){if(!o){this._model.tokenization.setSemanticTokens(null,!0);return}if(t.edits.length===0)t={resultId:t.resultId,data:o.data};else{let a=0;for(const h of t.edits)a+=(h.data?h.data.length:0)-h.deleteCount;const l=o.data,c=new Uint32Array(l.length+a);let d=l.length,u=c.length;for(let h=t.edits.length-1;h>=0;h--){const g=t.edits[h];if(g.start>l.length){i.warnInvalidEditStart(o.resultId,t.resultId,h,g.start,l.length),this._model.tokenization.setSemanticTokens(null,!0);return}const m=d-(g.start+g.deleteCount);m>0&&(Mc._copy(l,d-m,c,u-m,m),u-=m),g.data&&(Mc._copy(g.data,0,c,u-g.data.length,g.data.length),u-=g.data.length),d=g.start}d>0&&Mc._copy(l,0,c,0,d),t={resultId:t.resultId,data:c}}}if(Ik(t)){this._currentDocumentResponse=new bve(e,t.resultId,t.data);const a=Y9(t,i,this._model.getLanguageId());if(n.length>0)for(const l of n)for(const c of a)for(const d of l.changes)c.applyEdit(d.range,d.text);this._model.tokenization.setSemanticTokens(a,!0)}else this._model.tokenization.setSemanticTokens(null,!0);r()}};hv.REQUEST_MIN_DELAY=300;hv.REQUEST_MAX_DELAY=2e3;hv=Mc=mH([La(1,uy),La(2,qi),La(3,zs),La(4,me)],hv);class bve{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}Ay(FN);var _ve=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Mp=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let gv=class extends H{constructor(e,t,i,n,o,r){super(),this._semanticTokensStylingService=t,this._themeService=i,this._configurationService=n,this._editor=e,this._provider=r.documentRangeSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new xt(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const a=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{a()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),a()})),this._register(this._editor.onDidChangeModelContent(l=>{this._cancelAll(),a()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),a()})),this._register(this._configurationService.onDidChangeConfiguration(l=>{l.affectsConfiguration(pP)&&(this._cancelAll(),a())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),a()})),a()}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.tokenization.hasCompleteSemanticTokens())return;if(!ON(e,this._themeService,this._configurationService)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}if(!pve(this._provider,e)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(i=>this._requestRange(e,i)))}_requestRange(e,t){const i=e.getVersionId(),n=Vi(r=>Promise.resolve(mP(this._provider,e,t,r))),o=new Wn(!1);return n.then(r=>{if(this._debounceInformation.update(e,o.elapsed()),!r||!r.tokens||e.isDisposed()||e.getVersionId()!==i)return;const{provider:a,tokens:l}=r,c=this._semanticTokensStylingService.getStyling(a);e.tokenization.setPartialSemanticTokens(t,Y9(l,c,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(n),()=>this._removeOutstandingRequest(n)),n}};gv.ID="editor.contrib.viewportSemanticTokens";gv=_ve([Mp(1,uy),Mp(2,qi),Mp(3,ot),Mp(4,zs),Mp(5,me)],gv);gt(gv.ID,gv,1);class vve{constructor(e=!0){this.selectSubwords=e}provideSelectionRanges(e,t){const i=[];for(const n of t){const o=[];i.push(o),this.selectSubwords&&this._addInWordRanges(o,e,n),this._addWordRanges(o,e,n),this._addWhitespaceLine(o,e,n),o.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){const n=t.getWordAtPosition(i);if(!n)return;const{word:o,startColumn:r}=n,a=i.column-r;let l=a,c=a,d=0;for(;l>=0;l--){const u=o.charCodeAt(l);if(l!==a&&(u===95||u===45))break;if(Uc(u)&&Sa(d))break;d=u}for(l+=1;c<o.length;c++){const u=o.charCodeAt(c);if(Sa(u)&&Uc(d))break;if(u===95||u===45)break;d=u}l<c&&e.push({range:new k(i.lineNumber,r+l,i.lineNumber,r+c)})}_addWordRanges(e,t,i){const n=t.getWordAtPosition(i);n&&e.push({range:new k(i.lineNumber,n.startColumn,i.lineNumber,n.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(i.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(i.lineNumber)===0&&e.push({range:new k(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}var wve=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Cve=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Tk=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},BN;class bP{constructor(e,t){this.index=e,this.ranges=t}mov(e){const t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new bP(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}let Em=BN=class{static get(e){return e.getContribution(BN.ID)}constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}dispose(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}run(e){return Tk(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),i=this._editor.getModel();if(this._state||(yield bH(this._languageFeaturesService.selectionRangeProvider,i,t.map(o=>o.getPosition()),this._editor.getOption(112),Xe.None).then(o=>{var r;if(!(!Bn(o)||o.length!==t.length)&&!(!this._editor.hasModel()||!bi(this._editor.getSelections(),t,(a,l)=>a.equalsSelection(l)))){for(let a=0;a<o.length;a++)o[a]=o[a].filter(l=>l.containsPosition(t[a].getStartPosition())&&l.containsPosition(t[a].getEndPosition())),o[a].unshift(t[a]);this._state=o.map(a=>new bP(0,a)),(r=this._selectionListener)===null||r===void 0||r.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var a;this._ignoreSelection||((a=this._selectionListener)===null||a===void 0||a.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(o=>o.mov(e));const n=this._state.map(o=>_e.fromPositions(o.ranges[o.index].getStartPosition(),o.ranges[o.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(n)}finally{this._ignoreSelection=!1}})}};Em.ID="editor.contrib.smartSelectController";Em=BN=wve([Cve(1,me)],Em);class pH extends ge{constructor(e,t){super(t),this._forward=e}run(e,t){return Tk(this,void 0,void 0,function*(){const i=Em.get(t);i&&(yield i.run(this._forward))})}}class Sve extends pH{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:f("vs/editor/contrib/smartSelect/browser/smartSelect","smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:D.MenubarSelectionMenu,group:"1_basic",title:f("vs/editor/contrib/smartSelect/browser/smartSelect",{key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}lt.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class yve extends pH{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:f("vs/editor/contrib/smartSelect/browser/smartSelect","smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:D.MenubarSelectionMenu,group:"1_basic",title:f("vs/editor/contrib/smartSelect/browser/smartSelect",{key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}gt(Em.ID,Em,4);ne(Sve);ne(yve);function bH(s,e,t,i,n){return Tk(this,void 0,void 0,function*(){const o=s.all(e).concat(new vve(i.selectSubwords));o.length===1&&o.unshift(new Qo);const r=[],a=[];for(const l of o)r.push(Promise.resolve(l.provideSelectionRanges(e,t,n)).then(c=>{if(Bn(c)&&c.length===t.length)for(let d=0;d<t.length;d++){a[d]||(a[d]=[]);for(const u of c[d])k.isIRange(u.range)&&k.containsPosition(u.range,t[d])&&a[d].push(k.lift(u.range))}},Ni));return yield Promise.all(r),a.map(l=>{if(l.length===0)return[];l.sort((h,g)=>P.isBefore(h.getStartPosition(),g.getStartPosition())?1:P.isBefore(g.getStartPosition(),h.getStartPosition())||P.isBefore(h.getEndPosition(),g.getEndPosition())?-1:P.isBefore(g.getEndPosition(),h.getEndPosition())?1:0);const c=[];let d;for(const h of l)(!d||k.containsRange(h,d)&&!k.equalsRange(h,d))&&(c.push(h),d=h);if(!i.selectLeadingAndTrailingWhitespace)return c;const u=[c[0]];for(let h=1;h<c.length;h++){const g=c[h-1],m=c[h];if(m.startLineNumber!==g.startLineNumber||m.endLineNumber!==g.endLineNumber){const p=new k(g.startLineNumber,e.getLineFirstNonWhitespaceColumn(g.startLineNumber),g.endLineNumber,e.getLineLastNonWhitespaceColumn(g.endLineNumber));p.containsRange(g)&&!p.equalsRange(g)&&m.containsRange(p)&&!m.equalsRange(p)&&u.push(p);const _=new k(g.startLineNumber,1,g.endLineNumber,e.getLineMaxColumn(g.endLineNumber));_.containsRange(g)&&!_.equalsRange(p)&&m.containsRange(_)&&!m.equalsRange(_)&&u.push(_)}u.push(m)}return u})})}lt.registerCommand("_executeSelectionRangeProvider",function(s,...e){return Tk(this,void 0,void 0,function*(){const[t,i]=e;Lt(De.isUri(t));const n=s.get(me).selectionRangeProvider,o=yield s.get(xo).createModelReference(t);try{return bH(n,o.object.textEditorModel,i,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},Xe.None)}finally{o.dispose()}})});const kve=Object.freeze({View:{value:f("vs/platform/action/common/actionCommonCategories","view","View"),original:"View"},Help:{value:f("vs/platform/action/common/actionCommonCategories","help","Help"),original:"Help"},Test:{value:f("vs/platform/action/common/actionCommonCategories","test","Test"),original:"Test"},File:{value:f("vs/platform/action/common/actionCommonCategories","file","File"),original:"File"},Preferences:{value:f("vs/platform/action/common/actionCommonCategories","preferences","Preferences"),original:"Preferences"},Developer:{value:f("vs/platform/action/common/actionCommonCategories",{key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}});var Lve=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class _5{constructor(e,t,i,n=null){this.startLineNumbers=e,this.endLineNumbers=t,this.lastLineRelativePosition=i,this.showEndForLine=n}equals(e){return!!e&&this.lastLineRelativePosition===e.lastLineRelativePosition&&this.showEndForLine===e.showEndForLine&&bi(this.startLineNumbers,e.startLineNumbers)&&bi(this.endLineNumbers,e.endLineNumbers)}}const v5=uc("stickyScrollViewLayer",{createHTML:s=>s}),Bx="data-sticky-line-index",w5="data-sticky-is-line",xve="data-sticky-is-line-number",C5="data-sticky-is-folding-icon";class Dve extends H{constructor(e){super(),this._editor=e,this._foldingIconStore=new Y,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(66),this._stickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",e instanceof Bd),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const t=()=>{this._linesDomNode.style.left=this._editor.getOption(114).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(114)&&t(),i.hasChanged(66)&&(this._lineHeight=this._editor.getOption(66))})),this._register(this._editor.onDidScrollChange(i=>{i.scrollLeftChanged&&t(),i.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{t(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),t(),this._register(this._editor.onDidLayoutChange(i=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getStickyLineForLine(e){return this._stickyLines.find(t=>t.lineNumber===e)}getCurrentLines(){return this._lineNumbers}setState(e,t,i=1/0){if((!this._previousState&&!e||this._previousState&&this._previousState.equals(e))&&i===1/0)return;this._previousState=e;const n=this._stickyLines;if(this._clearStickyWidget(),!e||!this._editor._getViewModel())return;if(e.startLineNumbers.length*this._lineHeight+e.lastLineRelativePosition>0){this._lastLineRelativePosition=e.lastLineRelativePosition;const r=[...e.startLineNumbers];e.showEndForLine!==null&&(r[e.showEndForLine]=e.endLineNumbers[e.showEndForLine]),this._lineNumbers=r}else this._lastLineRelativePosition=0,this._lineNumbers=[];this._renderRootNode(n,t,i)}_updateWidgetWidth(){const e=this._editor.getLayoutInfo(),t=e.contentLeft;this._lineNumbersDomNode.style.width=`${t}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-e.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${e.width-e.verticalScrollbarWidth}px`}_clearStickyWidget(){this._stickyLines=[],this._foldingIconStore.clear(),fn(this._lineNumbersDomNode),fn(this._linesDomNode),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(e){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${e?.5:0}s`)}_setFoldingIconsVisibility(e){for(const t of this._stickyLines){const i=t.foldingIcon;i&&i.setVisible(e?!0:i.isCollapsed)}}_renderRootNode(e,t,i=1/0){return Lve(this,void 0,void 0,function*(){const n=this._editor.getLayoutInfo();for(const[r,a]of this._lineNumbers.entries()){const l=e[r],c=a>=i||(l==null?void 0:l.lineNumber)!==a?this._renderChildNode(r,a,t,n):this._updateTopAndZIndexOfStickyLine(l);c&&(this._linesDomNode.appendChild(c.lineDomNode),this._lineNumbersDomNode.appendChild(c.lineNumberDomNode),this._stickyLines.push(c))}t&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const o=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;if(o===0){this._clearStickyWidget();return}this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${o}px`,this._linesDomNodeScrollable.style.height=`${o}px`,this._rootDomNode.style.height=`${o}px`,this._rootDomNode.style.marginLeft="0px",this._updateMinContentWidth(),this._editor.layoutOverlayWidget(this)})}_setFoldingHoverListeners(){this._editor.getOption(109)==="mouseover"&&(this._foldingIconStore.add($(this._lineNumbersDomNode,ae.MOUSE_ENTER,t=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add($(this._lineNumbersDomNode,ae.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(e,t,i,n){const o=this._editor._getViewModel();if(!o)return;const r=o.coordinatesConverter.convertModelPositionToViewPosition(new P(t,1)).lineNumber,a=o.getViewLineRenderingData(r),l=this._editor.getOption(67);let c;try{c=Oo.filter(a.inlineDecorations,r,a.minColumn,a.maxColumn)}catch(C){c=[]}const d=new Xd(!0,!0,a.content,a.continuesWithWrappedLine,a.isBasicASCII,a.containsRTL,0,a.tokens,c,a.tabSize,a.startVisibleColumn,1,1,1,500,"none",!0,!0,null),u=new Bm(2e3),h=Dv(d,u);let g;v5?g=v5.createHTML(u.build()):g=u.build();const m=document.createElement("span");m.setAttribute(Bx,String(e)),m.setAttribute(w5,""),m.setAttribute("role","listitem"),m.tabIndex=0,m.className="sticky-line-content",m.classList.add(`stickyLine${t}`),m.style.lineHeight=`${this._lineHeight}px`,m.innerHTML=g;const p=document.createElement("span");p.setAttribute(Bx,String(e)),p.setAttribute(xve,""),p.className="sticky-line-number",p.style.lineHeight=`${this._lineHeight}px`;const _=n.contentLeft;p.style.width=`${_}px`;const b=document.createElement("span");l.renderType===1||l.renderType===3&&t%10===0?b.innerText=t.toString():l.renderType===2&&(b.innerText=Math.abs(t-this._editor.getPosition().lineNumber).toString()),b.className="sticky-line-number-inner",b.style.lineHeight=`${this._lineHeight}px`,b.style.width=`${n.lineNumbersWidth}px`,b.style.paddingLeft=`${n.lineNumbersLeft}px`,p.appendChild(b);const v=this._renderFoldingIconForLine(i,t);v&&p.appendChild(v.domNode),this._editor.applyFontInfo(m),this._editor.applyFontInfo(b),p.style.lineHeight=`${this._lineHeight}px`,m.style.lineHeight=`${this._lineHeight}px`,p.style.height=`${this._lineHeight}px`,m.style.height=`${this._lineHeight}px`;const w=new Ive(e,t,m,p,v,h.characterMapping);return this._updateTopAndZIndexOfStickyLine(w)}_updateTopAndZIndexOfStickyLine(e){var t;const i=e.index,n=e.lineDomNode,o=e.lineNumberDomNode,r=i===this._lineNumbers.length-1,a="0",l="1";n.style.zIndex=r?a:l,o.style.zIndex=r?a:l;const c=`${i*this._lineHeight+this._lastLineRelativePosition+(!((t=e.foldingIcon)===null||t===void 0)&&t.isCollapsed?1:0)}px`,d=`${i*this._lineHeight}px`;return n.style.top=r?c:d,o.style.top=r?c:d,e}_renderFoldingIconForLine(e,t){const i=this._editor.getOption(109);if(!e||i==="never")return;const n=e.regions,o=n.findRange(t),r=n.getStartLineNumber(o);if(!(t===r))return;const l=n.isCollapsed(o),c=new Tve(l,r,n.getEndLineNumber(o),this._lineHeight);return c.setVisible(this._isOnGlyphMargin?!0:l||i==="always"),c.domNode.setAttribute(C5,""),c}_updateMinContentWidth(){this._minContentWidthInPx=0;for(const e of this._stickyLines)e.lineDomNode.scrollWidth>this._minContentWidthInPx&&(this._minContentWidthInPx=e.lineDomNode.scrollWidth);this._minContentWidthInPx+=this._editor.getLayoutInfo().verticalScrollbarWidth}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(e){0<=e&&e<this._stickyLines.length&&this._stickyLines[e].lineDomNode.focus()}getEditorPositionFromNode(e){if(!e||e.children.length>0)return null;const t=this._getRenderedStickyLineFromChildDomNode(e);if(!t)return null;const i=tR(t.characterMapping,e,0);return new P(t.lineNumber,i)}getLineNumberFromChildDomNode(e){var t,i;return(i=(t=this._getRenderedStickyLineFromChildDomNode(e))===null||t===void 0?void 0:t.lineNumber)!==null&&i!==void 0?i:null}_getRenderedStickyLineFromChildDomNode(e){const t=this.getLineIndexFromChildDomNode(e);return t===null||t<0||t>=this._stickyLines.length?null:this._stickyLines[t]}getLineIndexFromChildDomNode(e){const t=this._getAttributeValue(e,Bx);return t?parseInt(t,10):null}isInStickyLine(e){return this._getAttributeValue(e,w5)!==void 0}isInFoldingIconDomNode(e){return this._getAttributeValue(e,C5)!==void 0}_getAttributeValue(e,t){for(;e&&e!==this._rootDomNode;){const i=e.getAttribute(t);if(i!==null)return i;e=e.parentElement}}}class Ive{constructor(e,t,i,n,o,r){this.index=e,this.lineNumber=t,this.lineDomNode=i,this.lineNumberDomNode=n,this.foldingIcon=o,this.characterMapping=r}}class Tve{constructor(e,t,i,n){this.isCollapsed=e,this.foldingStartLine=t,this.foldingEndLine=i,this.dimension=n,this.domNode=document.createElement("div"),this.domNode.style.width=`${n}px`,this.domNode.style.height=`${n}px`,this.domNode.className=Ie.asClassName(e?ck:lk)}setVisible(e){this.domNode.style.cursor=e?"pointer":"default",this.domNode.style.opacity=e?"1":"0"}}class Ob{constructor(e,t){this.startLineNumber=e,this.endLineNumber=t}}class _S{constructor(e,t,i){this.range=e,this.children=t,this.parent=i}}class _H{constructor(e,t,i,n){this.uri=e,this.version=t,this.element=i,this.outlineProviderId=n}}var Ek=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},fv=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},S5=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},Fb;(function(s){s.OUTLINE_MODEL="outlineModel",s.FOLDING_PROVIDER_MODEL="foldingProviderModel",s.INDENTATION_MODEL="indentationModel"})(Fb||(Fb={}));var id;(function(s){s[s.VALID=0]="VALID",s[s.INVALID=1]="INVALID",s[s.CANCELED=2]="CANCELED"})(id||(id={}));let WN=class extends H{constructor(e,t,i,n){super(),this._editor=e,this._languageConfigurationService=t,this._languageFeaturesService=i,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new hr(300)),this._updateOperation=this._register(new Y);const o=new VN(i),r=new zN(this._editor,i),a=new HN(this._editor,t);switch(n){case Fb.OUTLINE_MODEL:this._modelProviders.push(o),this._modelProviders.push(r),this._modelProviders.push(a);break;case Fb.FOLDING_PROVIDER_MODEL:this._modelProviders.push(r),this._modelProviders.push(a);break;case Fb.INDENTATION_MODEL:this._modelProviders.push(a);break}}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(e,t,i){return S5(this,void 0,void 0,function*(){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>S5(this,void 0,void 0,function*(){for(const n of this._modelProviders){const{statusPromise:o,modelPromise:r}=n.computeStickyModel(e,t,i);this._modelPromise=r;const a=yield o;if(this._modelPromise!==r)return null;switch(a){case id.CANCELED:return this._updateOperation.clear(),null;case id.VALID:return n.stickyModel}}return null})).catch(n=>(He(n),null))})}};WN=Ek([fv(1,Mt),fv(2,me)],WN);class vH{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,id.INVALID}computeStickyModel(e,t,i){if(i.isCancellationRequested||!this.isProviderValid(e))return{statusPromise:this._invalid(),modelPromise:null};const n=Vi(o=>this.createModelFromProvider(e,t,o));return{statusPromise:n.then(o=>this.isModelValid(o)?i.isCancellationRequested?id.CANCELED:(this._stickyModel=this.createStickyModel(e,t,i,o),id.VALID):this._invalid()).then(void 0,o=>(He(o),id.CANCELED)),modelPromise:n}}isModelValid(e){return!0}isProviderValid(e){return!0}}let VN=class extends vH{constructor(e){super(),this._languageFeaturesService=e}createModelFromProvider(e,t,i){return Rl.create(this._languageFeaturesService.documentSymbolProvider,e,i)}createStickyModel(e,t,i,n){var o;const{stickyOutlineElement:r,providerID:a}=this._stickyModelFromOutlineModel(n,(o=this._stickyModel)===null||o===void 0?void 0:o.outlineProviderId);return new _H(e.uri,t,r,a)}isModelValid(e){return e&&e.children.size>0}_stickyModelFromOutlineModel(e,t){let i;if(Ye.first(e.children.values())instanceof z6){const a=Ye.find(e.children.values(),l=>l.id===t);if(a)i=a.children;else{let l="",c=-1,d;for(const[u,h]of e.children.entries()){const g=this._findSumOfRangesOfGroup(h);g>c&&(d=h,c=g,l=h.id)}t=l,i=d.children}}else i=e.children;const n=[],o=Array.from(i.values()).sort((a,l)=>{const c=new Ob(a.symbol.range.startLineNumber,a.symbol.range.endLineNumber),d=new Ob(l.symbol.range.startLineNumber,l.symbol.range.endLineNumber);return this._comparator(c,d)});for(const a of o)n.push(this._stickyModelFromOutlineElement(a,a.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new _S(void 0,n,void 0),providerID:t}}_stickyModelFromOutlineElement(e,t){const i=[];for(const o of e.children.values())if(o.symbol.selectionRange.startLineNumber!==o.symbol.range.endLineNumber)if(o.symbol.selectionRange.startLineNumber!==t)i.push(this._stickyModelFromOutlineElement(o,o.symbol.selectionRange.startLineNumber));else for(const r of o.children.values())i.push(this._stickyModelFromOutlineElement(r,o.symbol.selectionRange.startLineNumber));i.sort((o,r)=>this._comparator(o.range,r.range));const n=new Ob(e.symbol.selectionRange.startLineNumber,e.symbol.range.endLineNumber);return new _S(n,i,void 0)}_comparator(e,t){return e.startLineNumber!==t.startLineNumber?e.startLineNumber-t.startLineNumber:t.endLineNumber-e.endLineNumber}_findSumOfRangesOfGroup(e){let t=0;for(const i of e.children.values())t+=this._findSumOfRangesOfGroup(i);return e instanceof aN?t+e.symbol.range.endLineNumber-e.symbol.selectionRange.startLineNumber:t}};VN=Ek([fv(0,me)],VN);class wH extends vH{constructor(e){super(),this._foldingLimitReporter=new W6(e)}createStickyModel(e,t,i,n){const o=this._fromFoldingRegions(n);return new _H(e.uri,t,o,void 0)}isModelValid(e){return e!==null}_fromFoldingRegions(e){const t=e.length,i=[],n=new _S(void 0,[],void 0);for(let o=0;o<t;o++){const r=e.getParentIndex(o);let a;r!==-1?a=i[r]:a=n;const l=new _S(new Ob(e.getStartLineNumber(o),e.getEndLineNumber(o)+1),[],a);a.children.push(l),i.push(l)}return n}}let HN=class extends wH{constructor(e,t){super(e),this._languageConfigurationService=t}createModelFromProvider(e,t,i){return new JM(e,this._languageConfigurationService,this._foldingLimitReporter).compute(i)}};HN=Ek([fv(1,Mt)],HN);let zN=class extends wH{constructor(e,t){super(e),this._languageFeaturesService=t}isProviderValid(e){return ll.getFoldingRangeProviders(this._languageFeaturesService,e).length>0}createModelFromProvider(e,t,i){const n=ll.getFoldingRangeProviders(this._languageFeaturesService,e);return new tP(e,n,()=>this.createModelFromProvider(e,t,i),this._foldingLimitReporter,void 0).compute(i)}};zN=Ek([fv(1,me)],zN);var Eve=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},y5=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},k5=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class Nve{constructor(e,t,i){this.startLineNumber=e,this.endLineNumber=t,this.nestingDepth=i}}let UN=class extends H{constructor(e,t,i){super(),this._languageFeaturesService=t,this._languageConfigurationService=i,this._onDidChangeStickyScroll=this._register(new M),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=e,this._sessionStore=this._register(new Y),this._updateSoon=this._register(new xt(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(114)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._stickyModelProvider=null,this._sessionStore.clear(),this._options=this._editor.getOption(114),this._options.enabled&&(this._stickyModelProvider=this._sessionStore.add(new WN(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel)),this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update())}getVersionId(){var e;return(e=this._model)===null||e===void 0?void 0:e.version}update(){var e;return k5(this,void 0,void 0,function*(){(e=this._cts)===null||e===void 0||e.dispose(!0),this._cts=new yi,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(e){return k5(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const t=this._editor.getModel(),i=t.getVersionId(),n=yield this._stickyModelProvider.update(t,i,e);e.isCancellationRequested||(this._model=n)})}updateIndex(e){return e===-1?e=0:e<0&&(e=-e-2),e}getCandidateStickyLinesIntersectingFromStickyModel(e,t,i,n,o){if(t.children.length===0)return;let r=o;const a=[];for(let d=0;d<t.children.length;d++){const u=t.children[d];u.range&&a.push(u.range.startLineNumber)}const l=this.updateIndex(Wb(a,e.startLineNumber,(d,u)=>d-u)),c=this.updateIndex(Wb(a,e.startLineNumber+n,(d,u)=>d-u));for(let d=l;d<=c;d++){const u=t.children[d];if(!u)return;if(u.range){const h=u.range.startLineNumber,g=u.range.endLineNumber;e.startLineNumber<=g+1&&h-1<=e.endLineNumber&&h!==r&&(r=h,i.push(new Nve(h,g-1,n+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(e,u,i,n+1,h))}else this.getCandidateStickyLinesIntersectingFromStickyModel(e,u,i,n,o)}}getCandidateStickyLinesIntersecting(e){var t,i;if(!(!((t=this._model)===null||t===void 0)&&t.element))return[];let n=[];this.getCandidateStickyLinesIntersectingFromStickyModel(e,this._model.element,n,0,-1);const o=(i=this._editor._getViewModel())===null||i===void 0?void 0:i.getHiddenAreas();if(o)for(const r of o)n=n.filter(a=>!(a.startLineNumber>=r.startLineNumber&&a.endLineNumber<=r.endLineNumber+1));return n}};UN=Eve([y5(1,me),y5(2,Mt)],UN);var Ave=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Eg=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Wx=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},$N;let cl=$N=class extends H{constructor(e,t,i,n,o,r,a){super(),this._editor=e,this._contextMenuService=t,this._languageFeaturesService=i,this._instaService=n,this._contextKeyService=a,this._sessionStore=new Y,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new Dve(this._editor),this._stickyLineCandidateProvider=new UN(this._editor,i,o),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new _5([],[],0),this._readConfiguration();const l=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(d=>{(d.hasChanged(114)||d.hasChanged(72)||d.hasChanged(66)||d.hasChanged(109))&&this._readConfiguration()})),this._register($(l,ae.CONTEXT_MENU,d=>Wx(this,void 0,void 0,function*(){this._onContextMenu(d)}))),this._stickyScrollFocusedContextKey=T.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=T.stickyScrollVisible.bindTo(this._contextKeyService);const c=this._register(Ja(l));this._register(c.onDidBlur(d=>{this._positionRevealed===!1&&l.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(c.onDidFocus(d=>{this.focus()})),this._registerMouseListeners(),this._register($(l,ae.MOUSE_DOWN,d=>{this._onMouseDown=!0}))}static get(e){return e.getContribution($N.ID)}_disposeFocusStickyScrollStore(){var e;this._stickyScrollFocusedContextKey.set(!1),(e=this._focusDisposableStore)===null||e===void 0||e.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new Y,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(e){this._focusedStickyElementIndex=e?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const e=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:e[this._focusedStickyElementIndex],column:1})}_revealPosition(e){this._reveaInEditor(e,()=>this._editor.revealPosition(e))}_revealLineInCenterIfOutsideViewport(e){this._reveaInEditor(e,()=>this._editor.revealLineInCenterIfOutsideViewport(e.lineNumber,0))}_reveaInEditor(e,t){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,t(),this._editor.setSelection(k.fromPositions(e)),this._editor.focus()}_registerMouseListeners(){const e=this._register(new Y),t=this._register(new qy(this._editor,{extractLineNumberFromMouseEvent:o=>{const r=this._stickyScrollWidget.getEditorPositionFromNode(o.target.element);return r?r.lineNumber:0}})),i=o=>{if(!this._editor.hasModel()||o.target.type!==12||o.target.detail!==this._stickyScrollWidget.getId())return null;const r=o.target.element;if(!r||r.innerText!==r.innerHTML)return null;const a=this._stickyScrollWidget.getEditorPositionFromNode(r);return a?{range:new k(a.lineNumber,a.column,a.lineNumber,a.column+r.innerText.length),textElement:r}:null},n=this._stickyScrollWidget.getDomNode();this._register(Si(n,ae.CLICK,o=>{if(o.ctrlKey||o.altKey||o.metaKey||!o.leftButton)return;if(o.shiftKey){const c=this._stickyScrollWidget.getLineIndexFromChildDomNode(o.target);if(c===null)return;const d=new P(this._endLineNumbers[c],1);this._revealLineInCenterIfOutsideViewport(d);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(o.target)){const c=this._stickyScrollWidget.getLineNumberFromChildDomNode(o.target);this._toggleFoldingRegionForLine(c);return}if(!this._stickyScrollWidget.isInStickyLine(o.target))return;let l=this._stickyScrollWidget.getEditorPositionFromNode(o.target);if(!l){const c=this._stickyScrollWidget.getLineNumberFromChildDomNode(o.target);if(c===null)return;l=new P(c,1)}this._revealPosition(l)})),this._register(Si(n,ae.MOUSE_MOVE,o=>{if(o.shiftKey){const r=this._stickyScrollWidget.getLineIndexFromChildDomNode(o.target);if(r===null||this._showEndForLine!==null&&this._showEndForLine===r)return;this._showEndForLine=r,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register($(n,ae.MOUSE_LEAVE,o=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(t.onMouseMoveOrRelevantKeyDown(([o,r])=>{const a=i(o);if(!a||!o.hasTriggerModifier||!this._editor.hasModel()){e.clear();return}const{range:l,textElement:c}=a;if(!l.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=l,e.clear();else if(c.style.textDecoration==="underline")return;const d=new yi;e.add(Re(()=>d.dispose(!0)));let u;Jy(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new P(l.startLineNumber,l.startColumn+1),d.token).then(h=>{if(!d.token.isCancellationRequested)if(h.length!==0){this._candidateDefinitionsLength=h.length;const g=c;u!==g?(e.clear(),u=g,u.style.textDecoration="underline",e.add(Re(()=>{u.style.textDecoration="none"}))):u||(u=g,u.style.textDecoration="underline",e.add(Re(()=>{u.style.textDecoration="none"})))}else e.clear()})})),this._register(t.onCancel(()=>{e.clear()})),this._register(t.onExecute(o=>Wx(this,void 0,void 0,function*(){if(o.target.type!==12||o.target.detail!==this._stickyScrollWidget.getId())return;const r=this._stickyScrollWidget.getEditorPositionFromNode(o.target.element);r&&(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:r.lineNumber,column:1})),this._instaService.invokeFunction(Z6,o,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor}))})))}_onContextMenu(e){const t=new Ds(e);this._contextMenuService.showContextMenu({menuId:D.StickyScrollContext,getAnchor:()=>t})}_toggleFoldingRegionForLine(e){if(!this._foldingModel||e===null)return;const t=this._stickyScrollWidget.getStickyLineForLine(e),i=t==null?void 0:t.foldingIcon;if(!i)return;M6(this._foldingModel,Number.MAX_VALUE,[e]),i.isCollapsed=!i.isCollapsed;const n=(i.isCollapsed?this._editor.getTopForLineNumber(i.foldingEndLine):this._editor.getTopForLineNumber(i.foldingStartLine))-this._editor.getOption(66)*t.index+1;this._editor.setScrollTop(n),this._renderStickyScroll(e)}_readConfiguration(){const e=this._editor.getOption(114);if(e.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else e.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(i=>{i.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(i=>this._onTokensChange(i))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(67).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll()}))}_needsUpdate(e){const t=this._stickyScrollWidget.getCurrentLines();for(const i of t)for(const n of e.ranges)if(i>=n.fromLineNumber&&i<=n.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._renderStickyScroll(-1)}_onDidResize(){const t=this._editor.getLayoutInfo().height/this._editor.getOption(66);this._maxStickyLines=Math.round(t*.25)}_renderStickyScroll(e=1/0){var t,i;return Wx(this,void 0,void 0,function*(){const n=this._editor.getModel();if(!n||n.isTooLargeForTokenization()){this._foldingModel=null,this._stickyScrollWidget.setState(void 0,null,e);return}const o=this._stickyLineCandidateProvider.getVersionId();if(o===void 0||o===n.getVersionId())if(this._foldingModel=(i=yield(t=ll.get(this._editor))===null||t===void 0?void 0:t.getFoldingModel())!==null&&i!==void 0?i:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const r=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(r)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}})}findScrollWidgetState(){const e=this._editor.getOption(66),t=Math.min(this._maxStickyLines,this._editor.getOption(114).maxLineCount),i=this._editor.getScrollTop();let n=0;const o=[],r=[],a=this._editor.getVisibleRanges();if(a.length!==0){const l=new Ob(a[0].startLineNumber,a[a.length-1].endLineNumber),c=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(l);for(const d of c){const u=d.startLineNumber,h=d.endLineNumber,g=d.nestingDepth;if(h-u>0){const m=(g-1)*e,p=g*e,_=this._editor.getBottomForLineNumber(u)-i,b=this._editor.getTopForLineNumber(h)-i,v=this._editor.getBottomForLineNumber(h)-i;if(m>b&&m<=v){o.push(u),r.push(h+1),n=v-p;break}else p>_&&p<=v&&(o.push(u),r.push(h+1));if(o.length===t)break}}}return this._endLineNumbers=r,new _5(o,r,n,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};cl.ID="store.contrib.stickyScrollController";cl=$N=Ave([Eg(1,pr),Eg(2,me),Eg(3,Ae),Eg(4,Mt),Eg(5,zs),Eg(6,Me)],cl);var Rve=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class Mve extends fs{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:f("vs/editor/contrib/stickyScroll/browser/stickyScrollActions","toggleStickyScroll","Toggle Sticky Scroll"),mnemonicTitle:f("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",{key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Sticky Scroll"),original:"Toggle Sticky Scroll"},category:kve.View,toggled:{condition:Z.equals("config.editor.stickyScroll.enabled",!0),title:f("vs/editor/contrib/stickyScroll/browser/stickyScrollActions","stickyScroll","Sticky Scroll"),mnemonicTitle:f("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",{key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:D.CommandPalette},{id:D.MenubarAppearanceMenu,group:"4_editor",order:3},{id:D.StickyScrollContext}]})}run(e){return Rve(this,void 0,void 0,function*(){const t=e.get(ot),i=!t.getValue("editor.stickyScroll.enabled");return t.updateValue("editor.stickyScroll.enabled",i)})}}const Nk=100;class Pve extends aa{constructor(){super({id:"editor.action.focusStickyScroll",title:{value:f("vs/editor/contrib/stickyScroll/browser/stickyScrollActions","focusStickyScroll","Focus Sticky Scroll"),mnemonicTitle:f("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",{key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll"),original:"Focus Sticky Scroll"},precondition:Z.and(Z.has("config.editor.stickyScroll.enabled"),T.stickyScrollVisible),menu:[{id:D.CommandPalette}]})}runEditorCommand(e,t){var i;(i=cl.get(t))===null||i===void 0||i.focus()}}class Ove extends aa{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:{value:f("vs/editor/contrib/stickyScroll/browser/stickyScrollActions","selectNextStickyScrollLine.title","Select next sticky scroll line"),original:"Select next sticky scroll line"},precondition:T.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:Nk,primary:18}})}runEditorCommand(e,t){var i;(i=cl.get(t))===null||i===void 0||i.focusNext()}}class Fve extends aa{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:{value:f("vs/editor/contrib/stickyScroll/browser/stickyScrollActions","selectPreviousStickyScrollLine.title","Select previous sticky scroll line"),original:"Select previous sticky scroll line"},precondition:T.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:Nk,primary:16}})}runEditorCommand(e,t){var i;(i=cl.get(t))===null||i===void 0||i.focusPrevious()}}class Bve extends aa{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:{value:f("vs/editor/contrib/stickyScroll/browser/stickyScrollActions","goToFocusedStickyScrollLine.title","Go to focused sticky scroll line"),original:"Go to focused sticky scroll line"},precondition:T.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:Nk,primary:3}})}runEditorCommand(e,t){var i;(i=cl.get(t))===null||i===void 0||i.goToFocused()}}class Wve extends aa{constructor(){super({id:"editor.action.selectEditor",title:{value:f("vs/editor/contrib/stickyScroll/browser/stickyScrollActions","selectEditor.title","Select Editor"),original:"Select Editor"},precondition:T.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:Nk,primary:9}})}runEditorCommand(e,t){var i;(i=cl.get(t))===null||i===void 0||i.selectEditor()}}gt(cl.ID,cl,1);jt(Mve);jt(Pve);jt(Fve);jt(Ove);jt(Bve);jt(Wve);var _P=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ch=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Vve=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},Du;class Hve{constructor(e,t,i,n,o,r){this.range=e,this.insertText=t,this.filterText=i,this.additionalTextEdits=n,this.command=o,this.completion=r}}let jN=class extends lU{constructor(e,t,i,n,o,r){super(o.disposable),this.model=e,this.line=t,this.word=i,this.completionModel=n,this._suggestMemoryService=r}canBeReused(e,t,i){return this.model===e&&this.line===t&&this.word.word.length>0&&this.word.startColumn===i.startColumn&&this.word.endColumn<i.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var e;const t=[],{items:i}=this.completionModel,n=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},i),o=Ye.slice(i,n),r=Ye.slice(i,0,n);let a=5;for(const l of Ye.concat(o,r)){if(l.score===Yr.Default)continue;const c=new k(l.editStart.lineNumber,l.editStart.column,l.editInsertEnd.lineNumber,l.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),d=l.completion.insertTextRules&&l.completion.insertTextRules&4?{snippet:l.completion.insertText}:l.completion.insertText;t.push(new Hve(c,d,(e=l.filterTextLow)!==null&&e!==void 0?e:l.labelLow,l.completion.additionalTextEdits,l.completion.command,l)),a-->=0&&l.resolve(Xe.None)}return t}};jN=_P([ch(5,gk)],jN);let KN=class{constructor(e,t,i,n){this._getEditorOption=e,this._languageFeatureService=t,this._clipboardService=i,this._suggestMemoryService=n}provideInlineCompletions(e,t,i,n){var o;return Vve(this,void 0,void 0,function*(){if(i.selectedSuggestionInfo)return;const r=this._getEditorOption(88,e);if(hf.isAllOff(r))return;e.tokenization.tokenizeIfCheap(t.lineNumber);const a=e.tokenization.getLineTokens(t.lineNumber),l=a.getStandardTokenType(a.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(hf.valueFor(r,l)!=="inline")return;let c=e.getWordAtPosition(t),d;if(c!=null&&c.word||(d=this._getTriggerCharacterInfo(e,t)),!(c!=null&&c.word)&&!d||(c||(c=e.getWordUntilPosition(t)),c.endColumn!==t.column))return;let u;const h=e.getValueInRange(new k(t.lineNumber,1,t.lineNumber,t.column));if(!d&&(!((o=this._lastResult)===null||o===void 0)&&o.canBeReused(e,t.lineNumber,c))){const g=new h5(h,t.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=g,this._lastResult.acquire(),u=this._lastResult}else{const g=yield oP(this._languageFeatureService.completionProvider,e,t,new iv(void 0,void 0,d==null?void 0:d.providers),d&&{triggerKind:1,triggerCharacter:d.ch},n);let m;g.needsClipboard&&(m=yield this._clipboardService.readText());const p=new zc(g.items,t.column,new h5(h,0),Wr.None,this._getEditorOption(117,e),this._getEditorOption(111,e),{boostFullMatch:!1,firstMatchCanBeWeak:!1},m);u=new jN(e,t.lineNumber,c,p,g,this._suggestMemoryService)}return this._lastResult=u,u})}handleItemDidShow(e,t){t.completion.resolve(Xe.None)}freeInlineCompletions(e){e.release()}_getTriggerCharacterInfo(e,t){var i;const n=e.getValueInRange(k.fromPositions({lineNumber:t.lineNumber,column:t.column-1},t)),o=new Set;for(const r of this._languageFeatureService.completionProvider.all(e))!((i=r.triggerCharacters)===null||i===void 0)&&i.includes(n)&&o.add(r);if(o.size!==0)return{providers:o,ch:n}}};KN=_P([ch(1,me),ch(2,pc),ch(3,gk)],KN);let vS=Du=class{constructor(e,t,i,n){if(++Du._counter===1){const o=n.createInstance(KN,(r,a)=>{var l;return((l=i.listCodeEditors().find(d=>d.getModel()===a))!==null&&l!==void 0?l:e).getOption(r)});Du._disposable=t.inlineCompletionsProvider.register("*",o)}}dispose(){var e;--Du._counter===0&&((e=Du._disposable)===null||e===void 0||e.dispose(),Du._disposable=void 0)}};vS._counter=0;vS=Du=_P([ch(1,me),ch(2,bt),ch(3,Ae)],vS);gt("suggest.inlineCompletionsProvider",vS,0);class zve extends ge{constructor(){super({id:"editor.action.forceRetokenize",label:f("vs/editor/contrib/tokenization/browser/tokenization","forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getModel();i.tokenization.resetTokenization();const n=new Wn;i.tokenization.forceTokenization(i.getLineCount()),n.stop(),console.log(`tokenization took ${n.elapsed()}`)}}ne(zve);class Ak extends fs{constructor(){super({id:Ak.ID,title:{value:f("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",{key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(){const t=!em.getTabFocusMode();em.setTabFocusMode(t),Fn(t?f("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):f("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}Ak.ID="editor.action.toggleTabFocusMode";jt(Ak);var Uve=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},$ve=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let qN=class extends H{get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}constructor(e,t,i={},n){var o;super(),this._link=t,this._enabled=!0,this.el=Q(e,te("a.monaco-link",{tabIndex:(o=t.tabIndex)!==null&&o!==void 0?o:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const r=this._register(new tt(this.el,"click")),a=this._register(new tt(this.el,"keypress")),l=ce.chain(a.event,u=>u.map(h=>new Wt(h)).filter(h=>h.keyCode===3)),c=this._register(new tt(this.el,At.Tap)).event;this._register(Nt.addTarget(this.el));const d=ce.any(r.event,l,c);this._register(d(u=>{this.enabled&&(je.stop(u,!0),i!=null&&i.opener?i.opener(this._link.href):n.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};qN=Uve([$ve(3,$o)],qN);var CH=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},SH=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};const jve=26;let GN=class extends H{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(ZN))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show(Object.assign(Object.assign({},e),{onClose:()=>{var t;this.hide(),(t=e.onClose)===null||t===void 0||t.call(e)}})),this._editor.setBanner(this.banner.element,jve)}};GN=CH([SH(1,Ae)],GN);let ZN=class extends H{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(dc,{}),this.element=te("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){if(e.ariaLabel)return e.ariaLabel;if(typeof e.message=="string")return e.message}getBannerMessage(e){if(typeof e=="string"){const t=te("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){fn(this.element)}show(e){fn(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const i=Q(this.element,te("div.icon-container"));i.setAttribute("aria-hidden","true"),e.icon&&i.appendChild(te(`div${Ie.asCSSSelector(e.icon)}`));const n=Q(this.element,te("div.message-container"));if(n.setAttribute("aria-hidden","true"),n.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=Q(this.element,te("div.message-actions-container")),e.actions)for(const r of e.actions)this._register(this.instantiationService.createInstance(qN,this.messageActionsContainer,Object.assign(Object.assign({},r),{tabIndex:-1}),{}));const o=Q(this.element,te("div.action-container"));this.actionBar=this._register(new Vs(o)),this.actionBar.push(this._register(new lo("banner.close","Close Banner",Ie.asClassName(lV),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};ZN=CH([SH(0,Ae)],ZN);var vP=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Hf=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Mn=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const Kve=_i("extensions-warning-message",se.warning,f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","warningIcon","Icon shown with a warning message in the extensions editor."));let Nm=class extends H{constructor(e,t,i,n){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=o=>{if(o&&o.hasMore){if(this._bannerClosed)return;const r=Math.max(o.ambiguousCharacterCount,o.nonBasicAsciiCharacterCount,o.invisibleCharacterCount);let a;if(o.nonBasicAsciiCharacterCount>=r)a={message:f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new tp};else if(o.ambiguousCharacterCount>=r)a={message:f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new ou};else if(o.invisibleCharacterCount>=r)a={message:f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new ep};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:a.message,icon:Kve,actions:[{label:a.command.shortLabel,href:`command:${a.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(n.createInstance(GN,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(124),this._register(i.onDidChangeTrust(o=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(o=>{o.hasChanged(124)&&(this._options=e.getOption(124),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=qve(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(i=>i===!1))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(i=>i.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(i=>i==="_os"?new Intl.NumberFormat().resolvedOptions().locale:i==="_vscode"?dz:i)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new QN(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new Gve(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};Nm.ID="editor.contrib.unicodeHighlighter";Nm=vP([Hf(1,vr),Hf(2,r7),Hf(3,Ae)],Nm);function qve(s,e){return{nonBasicASCII:e.nonBasicASCII===Go?!s:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===Go?!s:e.includeComments,includeStrings:e.includeStrings===Go?!s:e.includeStrings,allowedCharacters:e.allowedCharacters,allowedLocales:e.allowedLocales}}let QN=class extends H{constructor(e,t,i,n){super(),this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=n,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new xt(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);const i=[];if(!t.hasMore)for(const n of t.ranges)i.push({range:n,options:wS.instance.getDecorationFromOptions(this._options)});this._decorations.set(i)})}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel();if(!CR(t,e))return null;const i=t.getValueInRange(e.range);return{reason:yH(i,this._options),inComment:SR(t,e),inString:yR(t,e)}}};QN=vP([Hf(3,vr)],QN);class Gve extends H{constructor(e,t,i){super(),this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new xt(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const n of e){const o=OA.computeUnicodeHighlights(this._model,this._options,n);for(const r of o.ranges)i.ranges.push(r);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||o.hasMore}if(!i.hasMore)for(const n of i.ranges)t.push({range:n,options:wS.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorations.set(t)}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel(),i=t.getValueInRange(e.range);return CR(t,e)?{reason:yH(i,this._options),inComment:SR(t,e),inString:yR(t,e)}:null}}let YN=class{constructor(e,t,i){this._editor=e,this._languageService=t,this._openerService=i,this.hoverOrdinal=5}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),n=this._editor.getContribution(Nm.ID);if(!n)return[];const o=[],r=new Set;let a=300;for(const l of t){const c=n.getDecorationInfo(l);if(!c)continue;const u=i.getValueInRange(l.range).codePointAt(0),h=Vx(u);let g;switch(c.reason.kind){case 0:{Sv(c.reason.confusableWith)?g=f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",h,Vx(c.reason.confusableWith.codePointAt(0))):g=f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",h,Vx(c.reason.confusableWith.codePointAt(0)));break}case 1:g=f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.characterIsInvisible","The character {0} is invisible.",h);break;case 2:g=f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",h);break}if(r.has(g))continue;r.add(g);const m={codePoint:u,reason:c.reason,inComment:c.inComment,inString:c.inString},p=f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.adjustSettings","Adjust settings"),_=`command:${r0.ID}?${encodeURIComponent(JSON.stringify(m))}`,b=new xn("",!0).appendMarkdown(g).appendText(" ").appendLink(_,p);o.push(new Hr(this,l.range,[b],!1,a++))}return o}renderHoverParts(e,t){return J8(e,t,this._editor,this._languageService,this._openerService)}};YN=vP([Hf(1,qt),Hf(2,$o)],YN);function XN(s){return`U+${s.toString(16).padStart(4,"0")}`}function Vx(s){let e=`\`${XN(s)}\``;return qa.isInvisibleCharacter(s)||(e+=` "${`${Zve(s)}`}"`),e}function Zve(s){return s===96?"`` ` ``":"`"+String.fromCodePoint(s)+"`"}function yH(s,e){return OA.computeUnicodeHighlightReason(s,e)}class wS{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){const i=`${e}${t}`;let n=this.map.get(i);return n||(n=Ve.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(i,n)),n}}wS.instance=new wS;class Qve extends ge{constructor(){super({id:ou.ID,label:f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(e,t,i){return Mn(this,void 0,void 0,function*(){const n=e==null?void 0:e.get(ot);n&&this.runAction(n)})}runAction(e){return Mn(this,void 0,void 0,function*(){yield e.updateValue(vo.includeComments,!1,2)})}}class Yve extends ge{constructor(){super({id:ou.ID,label:f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(e,t,i){return Mn(this,void 0,void 0,function*(){const n=e==null?void 0:e.get(ot);n&&this.runAction(n)})}runAction(e){return Mn(this,void 0,void 0,function*(){yield e.updateValue(vo.includeStrings,!1,2)})}}class ou extends ge{constructor(){super({id:ou.ID,label:f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,t,i){return Mn(this,void 0,void 0,function*(){const n=e==null?void 0:e.get(ot);n&&this.runAction(n)})}runAction(e){return Mn(this,void 0,void 0,function*(){yield e.updateValue(vo.ambiguousCharacters,!1,2)})}}ou.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class ep extends ge{constructor(){super({id:ep.ID,label:f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,t,i){return Mn(this,void 0,void 0,function*(){const n=e==null?void 0:e.get(ot);n&&this.runAction(n)})}runAction(e){return Mn(this,void 0,void 0,function*(){yield e.updateValue(vo.invisibleCharacters,!1,2)})}}ep.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class tp extends ge{constructor(){super({id:tp.ID,label:f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,t,i){return Mn(this,void 0,void 0,function*(){const n=e==null?void 0:e.get(ot);n&&this.runAction(n)})}runAction(e){return Mn(this,void 0,void 0,function*(){yield e.updateValue(vo.nonBasicASCII,!1,2)})}}tp.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class r0 extends ge{constructor(){super({id:r0.ID,label:f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,t,i){return Mn(this,void 0,void 0,function*(){const{codePoint:n,reason:o,inString:r,inComment:a}=i,l=String.fromCodePoint(n),c=e.get(ca),d=e.get(ot);function u(m){return qa.isInvisibleCharacter(m)?f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",XN(m)):f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${XN(m)} "${l}"`)}const h=[];if(o.kind===0)for(const m of o.notAmbiguousInLocales)h.push({label:f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',m),run:()=>Mn(this,void 0,void 0,function*(){Jve(d,[m])})});if(h.push({label:u(n),run:()=>Xve(d,[n])}),a){const m=new Qve;h.push({label:m.label,run:()=>Mn(this,void 0,void 0,function*(){return m.runAction(d)})})}else if(r){const m=new Yve;h.push({label:m.label,run:()=>Mn(this,void 0,void 0,function*(){return m.runAction(d)})})}if(o.kind===0){const m=new ou;h.push({label:m.label,run:()=>Mn(this,void 0,void 0,function*(){return m.runAction(d)})})}else if(o.kind===1){const m=new ep;h.push({label:m.label,run:()=>Mn(this,void 0,void 0,function*(){return m.runAction(d)})})}else if(o.kind===2){const m=new tp;h.push({label:m.label,run:()=>Mn(this,void 0,void 0,function*(){return m.runAction(d)})})}else e0e(o);const g=yield c.pick(h,{title:f("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});g&&(yield g.run())})}}r0.ID="editor.action.unicodeHighlight.showExcludeOptions";function Xve(s,e){return Mn(this,void 0,void 0,function*(){const t=s.getValue(vo.allowedCharacters);let i;typeof t=="object"&&t?i=t:i={};for(const n of e)i[String.fromCodePoint(n)]=!0;yield s.updateValue(vo.allowedCharacters,i,2)})}function Jve(s,e){var t;return Mn(this,void 0,void 0,function*(){const i=(t=s.inspect(vo.allowedLocales).user)===null||t===void 0?void 0:t.value;let n;typeof i=="object"&&i?n=Object.assign({},i):n={};for(const o of e)n[o]=!0;yield s.updateValue(vo.allowedLocales,n,2)})}function e0e(s){throw new Error(`Unexpected value: ${s}`)}ne(ou);ne(ep);ne(tp);ne(r0);gt(Nm.ID,Nm,1);lg.register(YN);var t0e=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},L5=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},i0e=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const kH="ignoreUnusualLineTerminators";function n0e(s,e,t){s.setModelProperty(e.uri,kH,t)}function o0e(s,e){return s.getModelProperty(e.uri,kH)}let mv=class extends H{constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._isPresentingDialog=!1,this._config=this._editor.getOption(125),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(125)&&(this._config=this._editor.getOption(125),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(n=>{n.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return i0e(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators()||o0e(this._codeEditorService,e)===!0||this._editor.getOption(90))return;if(this._config==="auto"){e.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let i;try{this._isPresentingDialog=!0,i=yield this._dialogService.confirm({title:f("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","unusualLineTerminators.title","Unusual Line Terminators"),message:f("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","unusualLineTerminators.message","Detected unusual line terminators"),detail:f("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",Ws(e.uri)),primaryButton:f("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",{key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:f("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}if(!i.confirmed){n0e(this._codeEditorService,e,!0);return}e.removeUnusualLineTerminators(this._editor.getSelections())})}};mv.ID="editor.contrib.unusualLineTerminatorsDetector";mv=t0e([L5(1,Fv),L5(2,bt)],mv);gt(mv.ID,mv,1);var s0e=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},x5=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},JN;const Rk=new de("hasWordHighlights",!1);function LH(s,e,t,i){const n=s.ordered(e);return o3(n.map(o=>()=>Promise.resolve(o.provideDocumentHighlights(e,t,i)).then(void 0,Ni)),Bn)}class xH{constructor(e,t,i){this._model=e,this._selection=t,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=Vi(e=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){const i=e.getWordAtPosition(t.getPosition());return i?new k(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){const n=t.startLineNumber,o=t.startColumn,r=t.endColumn,a=this._getCurrentWordRange(e,t);let l=!!(this._wordRange&&this._wordRange.equalsRange(a));for(let c=0,d=i.length;!l&&c<d;c++){const u=i.getRange(c);u&&u.startLineNumber===n&&u.startColumn<=o&&u.endColumn>=r&&(l=!0)}return l}cancel(){this.result.cancel()}}class r0e extends xH{constructor(e,t,i,n){super(e,t,i),this._providers=n}_compute(e,t,i,n){return LH(this._providers,e,t.getPosition(),n).then(o=>o||[])}}class a0e extends xH{constructor(e,t,i){super(e,t,i),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,i,n){return Ld(250,n).then(()=>{if(!t.isEmpty())return[];const o=e.getWordAtPosition(t.getPosition());return!o||o.word.length>1e3?[]:e.findMatches(o.word,!0,!1,!0,i,!1).map(a=>({range:a.range,kind:Kb.Text}))})}isValid(e,t,i){const n=t.isEmpty();return this._selectionIsEmpty!==n?!1:super.isValid(e,t,i)}}function l0e(s,e,t,i){return s.has(e)?new r0e(e,t,i,s):new a0e(e,t,i)}hl("_executeDocumentHighlights",(s,e,t)=>{const i=s.get(me);return LH(i.documentHighlightProvider,e,t,Xe.None)});class c0e{constructor(e,t,i,n){this.toUnhook=new Y,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this.linkedHighlighters=i,this._hasWordHighlights=Rk.bindTo(n),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(80),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(o=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(o)})),this.toUnhook.add(e.onDidChangeModelContent(o=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(o=>{const r=this.editor.getOption(80);this.occurrencesHighlight!==r&&(this.occurrencesHighlight=r,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(k.compareRangesUsingStarts)}moveNext(){const e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))+1)%e.length,n=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);const o=this._getWord();if(o){const r=this.editor.getModel().getLineContent(n.startLineNumber);Fn(`${r}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,n=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);const o=this._getWord();if(o){const r=this.editor.getModel().getLineContent(n.startLineNumber);Fn(`${r}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()}_getWord(){const e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:i})}_run(){const e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber){this._stopAll();return}const t=e.startColumn,i=e.endColumn,n=this._getWord();if(!n||n.startColumn>t||n.endColumn<i){this._stopAll();return}const o=this.workerRequest&&this.workerRequest.isValid(this.model,e,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),o)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const r=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=l0e(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(129)),this.workerRequest.result.then(a=>{r===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=a||[],this._beginRenderDecorations())},He)}}_beginRenderDecorations(){const e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;const e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:M_e(t.kind)});this.decorations.set(e),this._hasWordHighlights.set(this.hasDecorations());for(const t of this.linkedHighlighters())(t==null?void 0:t.editor.getModel())===this.editor.getModel()&&(t._stopAll(),t.decorations.set(e),t._hasWordHighlights.set(t.hasDecorations()))}dispose(){this._stopAll(),this.toUnhook.dispose()}}let zh=JN=class extends H{static get(e){return e.getContribution(JN.ID)}constructor(e,t,i){super(),this.wordHighlighter=null,this.linkedContributions=new Set;const n=()=>{e.hasModel()&&!e.getModel().isTooLargeForTokenization()&&(this.wordHighlighter=new c0e(e,i.documentHighlightProvider,()=>Ye.map(this.linkedContributions,o=>o.wordHighlighter),t))};this._register(e.onDidChangeModel(o=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),n()})),n()}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){var e;(e=this.wordHighlighter)===null||e===void 0||e.moveNext()}moveBack(){var e;(e=this.wordHighlighter)===null||e===void 0||e.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};zh.ID="editor.contrib.wordHighlighter";zh=JN=s0e([x5(1,Me),x5(2,me)],zh);class DH extends ge{constructor(e,t){super(t),this._isNext=e}run(e,t){const i=zh.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}}class d0e extends DH{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:f("vs/editor/contrib/wordHighlighter/browser/wordHighlighter","wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:Rk,kbOpts:{kbExpr:T.editorTextFocus,primary:65,weight:100}})}}class u0e extends DH{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:f("vs/editor/contrib/wordHighlighter/browser/wordHighlighter","wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:Rk,kbOpts:{kbExpr:T.editorTextFocus,primary:1089,weight:100}})}}class h0e extends ge{constructor(){super({id:"editor.action.wordHighlight.trigger",label:f("vs/editor/contrib/wordHighlighter/browser/wordHighlighter","wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:Rk.toNegated(),kbOpts:{kbExpr:T.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const n=zh.get(t);n&&n.restoreViewState(!0)}}gt(zh.ID,zh,0);ne(d0e);ne(u0e);ne(h0e);class Mk extends nn{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const n=Fs(t.getOption(129)),o=t.getModel(),a=t.getSelections().map(l=>{const c=new P(l.positionLineNumber,l.positionColumn),d=this._move(n,o,c,this._wordNavigationType);return this._moveTo(l,d,this._inSelectionMode)});if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,a.map(l=>ut.fromModelSelection(l))),a.length===1){const l=new P(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(l,0)}}_moveTo(e,t,i){return i?new _e(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new _e(t.lineNumber,t.column,t.lineNumber,t.column)}}class su extends Mk{_move(e,t,i,n){return pt.moveWordLeft(e,t,i,n)}}class ru extends Mk{_move(e,t,i,n){return pt.moveWordRight(e,t,i,n)}}class g0e extends su{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class f0e extends su{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class m0e extends su{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:Z.and(T.textInputFocus,(e=Z.and(Iv,Sy))===null||e===void 0?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class p0e extends su{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class b0e extends su{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class _0e extends su{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:Z.and(T.textInputFocus,(e=Z.and(Iv,Sy))===null||e===void 0?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class v0e extends su{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,n){return super._move(Fs(sa.wordSeparators.defaultValue),t,i,n)}}class w0e extends su{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,n){return super._move(Fs(sa.wordSeparators.defaultValue),t,i,n)}}class C0e extends ru{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class S0e extends ru{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:Z.and(T.textInputFocus,(e=Z.and(Iv,Sy))===null||e===void 0?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class y0e extends ru{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class k0e extends ru{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class L0e extends ru{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:Z.and(T.textInputFocus,(e=Z.and(Iv,Sy))===null||e===void 0?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class x0e extends ru{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class D0e extends ru{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,n){return super._move(Fs(sa.wordSeparators.defaultValue),t,i,n)}}class I0e extends ru{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,n){return super._move(Fs(sa.wordSeparators.defaultValue),t,i,n)}}class Pk extends nn{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){const n=e.get(Mt);if(!t.hasModel())return;const o=Fs(t.getOption(129)),r=t.getModel(),a=t.getSelections(),l=t.getOption(6),c=t.getOption(11),d=n.getLanguageConfiguration(r.getLanguageId()).getAutoClosingPairs(),u=t._getViewModel(),h=a.map(g=>{const m=this._delete({wordSeparators:o,model:r,selection:g,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(9),autoClosingBrackets:l,autoClosingQuotes:c,autoClosingPairs:d,autoClosedCharacters:u.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Sn(m,"")});t.pushUndoStop(),t.executeCommands(this.id,h),t.pushUndoStop()}}class wP extends Pk{_delete(e,t){const i=pt.deleteWordLeft(e,t);return i||new k(1,1,1,1)}}class CP extends Pk{_delete(e,t){const i=pt.deleteWordRight(e,t);if(i)return i;const n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return new k(n,o,n,o)}}class T0e extends wP{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:T.writable})}}class E0e extends wP{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:T.writable})}}class N0e extends wP{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class A0e extends CP{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:T.writable})}}class R0e extends CP{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:T.writable})}}class M0e extends CP{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class P0e extends ge{constructor(){super({id:"deleteInsideWord",precondition:T.writable,label:f("vs/editor/contrib/wordOperations/browser/wordOperations","deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;const n=Fs(t.getOption(129)),o=t.getModel(),a=t.getSelections().map(l=>{const c=pt.deleteInsideWord(n,o,l);return new Sn(c,"")});t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}}re(new g0e);re(new f0e);re(new m0e);re(new p0e);re(new b0e);re(new _0e);re(new C0e);re(new S0e);re(new y0e);re(new k0e);re(new L0e);re(new x0e);re(new v0e);re(new w0e);re(new D0e);re(new I0e);re(new T0e);re(new E0e);re(new N0e);re(new A0e);re(new R0e);re(new M0e);ne(P0e);class O0e extends Pk{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){const i=iy.deleteWordPartLeft(e);return i||new k(1,1,1,1)}}class F0e extends Pk{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){const i=iy.deleteWordPartRight(e);if(i)return i;const n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return new k(n,o,n,o)}}class IH extends Mk{_move(e,t,i,n){return iy.moveWordPartLeft(e,t,i)}}class B0e extends IH{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}lt.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class W0e extends IH{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}lt.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class TH extends Mk{_move(e,t,i,n){return iy.moveWordPartRight(e,t,i)}}class V0e extends TH{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class H0e extends TH{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}re(new O0e);re(new F0e);re(new B0e);re(new W0e);re(new V0e);re(new H0e);class eA extends H{constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const e=Wo.get(this.editor);if(e&&this.editor.hasModel()){let t=this.editor.getOptions().get(91);t||(this.editor.isSimpleWidget?t=new xn(f("vs/editor/contrib/readOnlyMessage/browser/contribution","editor.simple.readonly","Cannot edit in read-only input")):t=new xn(f("vs/editor/contrib/readOnlyMessage/browser/contribution","editor.readonly","Cannot edit in read-only editor"))),e.showMessage(t,this.editor.getPosition())}}}eA.ID="editor.contrib.readOnlyMessageController";gt(eA.ID,eA,2);class tA extends H{constructor(e){super(),this.editor=e,this.widget=null,Xr&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const e=!this.editor.getOption(90);!this.widget&&e?this.widget=new Ok(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}tA.ID="editor.contrib.iPadShowKeyboard";class Ok extends H{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register($(this._domNode,"touchstart",t=>{this.editor.focus()})),this._register($(this._domNode,"focus",t=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return Ok.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}Ok.ID="editor.contrib.ShowKeyboardWidget";gt(tA.ID,tA,3);var z0e=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},D5=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},iA;let Am=iA=class extends H{static get(e){return e.getContribution(iA.ID)}constructor(e,t,i){super(),this._editor=e,this._languageService=i,this._widget=null,this._register(this._editor.onDidChangeModel(n=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(n=>this.stop())),this._register(ei.onDidChange(n=>this.stop())),this._register(this._editor.onKeyUp(n=>n.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new Fk(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};Am.ID="editor.contrib.inspectTokens";Am=iA=z0e([D5(1,bs),D5(2,qt)],Am);class U0e extends ge{constructor(){super({id:"editor.action.inspectTokens",label:JI.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){const i=Am.get(t);i==null||i.launch()}}function $0e(s){let e="";for(let t=0,i=s.length;t<i;t++){const n=s.charCodeAt(t);switch(n){case 9:e+="→";break;case 32:e+="·";break;default:e+=String.fromCharCode(n)}}return e}function j0e(s,e){const t=ei.get(e);if(t)return t;const i=s.encodeLanguageId(e);return{getInitialState:()=>Jf,tokenize:(n,o,r)=>zA(e,r),tokenizeEncoded:(n,o,r)=>ZS(i,r)}}class Fk extends H{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=j0e(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(i=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return Fk._ID}_compute(e){const t=this._getTokensAtLine(e.lineNumber);let i=0;for(let l=t.tokens1.length-1;l>=0;l--){const c=t.tokens1[l];if(e.column-1>=c.offset){i=l;break}}let n=0;for(let l=t.tokens2.length>>>1;l>=0;l--)if(e.column-1>=t.tokens2[l<<1]){n=l;break}const o=this._model.getLineContent(e.lineNumber);let r="";if(i<t.tokens1.length){const l=t.tokens1[i].offset,c=i+1<t.tokens1.length?t.tokens1[i+1].offset:o.length;r=o.substring(l,c)}mn(this._domNode,te("h2.tm-token",void 0,$0e(r),te("span.tm-token-length",void 0,`${r.length} ${r.length===1?"char":"chars"}`))),Q(this._domNode,te("hr.tokens-inspect-separator",{style:"clear:both"}));const a=(n<<1)+1<t.tokens2.length?this._decodeMetadata(t.tokens2[(n<<1)+1]):null;Q(this._domNode,te("table.tm-metadata-table",void 0,te("tbody",void 0,te("tr",void 0,te("td.tm-metadata-key",void 0,"language"),te("td.tm-metadata-value",void 0,`${a?a.languageId:"-?-"}`)),te("tr",void 0,te("td.tm-metadata-key",void 0,"token type"),te("td.tm-metadata-value",void 0,`${a?this._tokenTypeToString(a.tokenType):"-?-"}`)),te("tr",void 0,te("td.tm-metadata-key",void 0,"font style"),te("td.tm-metadata-value",void 0,`${a?this._fontStyleToString(a.fontStyle):"-?-"}`)),te("tr",void 0,te("td.tm-metadata-key",void 0,"foreground"),te("td.tm-metadata-value",void 0,`${a?V.Format.CSS.formatHex(a.foreground):"-?-"}`)),te("tr",void 0,te("td.tm-metadata-key",void 0,"background"),te("td.tm-metadata-value",void 0,`${a?V.Format.CSS.formatHex(a.background):"-?-"}`))))),Q(this._domNode,te("hr.tokens-inspect-separator")),i<t.tokens1.length&&Q(this._domNode,te("span.tm-token-type",void 0,t.tokens1[i].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const t=ei.getColorMap(),i=Ln.getLanguageId(e),n=Ln.getTokenType(e),o=Ln.getFontStyle(e),r=Ln.getForeground(e),a=Ln.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(i),tokenType:n,fontStyle:o,foreground:t[r],background:t[a]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return e&1&&(t+="italic "),e&2&&(t+="bold "),e&4&&(t+="underline "),e&8&&(t+="strikethrough "),t.length===0&&(t="---"),t}_getTokensAtLine(e){const t=this._getStateBeforeLine(e),i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t),n=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,t);return{startState:t,tokens1:i.tokens,tokens2:n.tokens,endState:i.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let i=1;i<e;i++)t=this._tokenizationSupport.tokenize(this._model.getLineContent(i),!0,t).endState;return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}Fk._ID="editor.contrib.inspectTokensWidget";gt(Am.ID,Am,4);ne(U0e);var K0e=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},I5=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},sb;let CS=sb=class{constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=Jt.as(tg.Quickaccess)}provide(e){const t=new Y;return t.add(e.onDidAccept(()=>{const[i]=e.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(i=>{const n=this.registry.getQuickAccessProvider(i.substr(sb.PREFIX.length));n&&n.prefix&&n.prefix!==sb.PREFIX&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders().filter(i=>i.prefix!==sb.PREFIX),t}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((t,i)=>t.prefix.localeCompare(i.prefix)).flatMap(t=>this.createPicks(t))}createPicks(e){return e.helpEntries.map(t=>{const i=t.prefix||e.prefix,n=i||"…";return{prefix:i,label:n,keybinding:t.commandId?this.keybindingService.lookupKeybinding(t.commandId):void 0,ariaLabel:f("vs/platform/quickinput/browser/helpQuickAccess","helpPickAriaLabel","{0}, {1}",n,t.description),description:t.description}})}};CS.PREFIX="?";CS=sb=K0e([I5(0,ca),I5(1,Et)],CS);Jt.as(tg.Quickaccess).registerQuickAccessProvider({ctor:CS,prefix:"",helpEntries:[{description:eT.helpQuickAccessActionLabel}]});class EH{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const n=new Y;e.canAcceptInBackground=!!(!((i=this.options)===null||i===void 0)&&i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const o=n.add(new pn);return o.value=this.doProvide(e,t),n.add(this.onDidActiveTextEditorControlChange(()=>{o.value=void 0,o.value=this.doProvide(e,t)})),n}doProvide(e,t){var i;const n=new Y,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){const r={editor:o},a=OV(o);if(a){let l=(i=o.saveViewState())!==null&&i!==void 0?i:void 0;n.add(a.onDidChangeCursorPosition(()=>{var c;l=(c=o.saveViewState())!==null&&c!==void 0?c:void 0})),r.restoreViewState=()=>{l&&o===this.activeTextEditorControl&&o.restoreViewState(l)},n.add(Sd(t.onCancellationRequested)(()=>{var c;return(c=r.restoreViewState)===null||c===void 0?void 0:c.call(r)}))}n.add(Re(()=>this.clearDecorations(o))),n.add(this.provideWithTextEditor(r,e,t))}else n.add(this.provideWithoutTextEditor(e,t));return n}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus();const i=e.getModel();i&&"getLineContent"in i&&Td(`${i.getLineContent(t.range.startLineNumber)}`)}getModel(e){var t;return PV(e)?(t=e.getModel())===null||t===void 0?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(i=>{const n=[];this.rangeHighlightDecorationId&&(n.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),n.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const o=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:ti(t9),position:ds.Full}}}],[r,a]=i.deltaDecorations(n,o);this.rangeHighlightDecorationId={rangeHighlightId:r,overviewRulerDecorationId:a}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(i=>{i.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class Bk extends EH{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=f("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,H.None}provideWithTextEditor(e,t,i){const n=e.editor,o=new Y;o.add(t.onDidAccept(l=>{const[c]=t.selectedItems;if(c){if(!this.isValidLineNumber(n,c.lineNumber))return;this.gotoLocation(e,{range:this.toRange(c.lineNumber,c.column),keyMods:t.keyMods,preserveFocus:l.inBackground}),l.inBackground||t.hide()}}));const r=()=>{const l=this.parsePosition(n,t.value.trim().substr(Bk.PREFIX.length)),c=this.getPickLabel(n,l.lineNumber,l.column);if(t.items=[{lineNumber:l.lineNumber,column:l.column,label:c}],t.ariaLabel=c,!this.isValidLineNumber(n,l.lineNumber)){this.clearDecorations(n);return}const d=this.toRange(l.lineNumber,l.column);n.revealRangeInCenter(d,0),this.addDecorations(n,d)};r(),o.add(t.onDidChangeValue(()=>r()));const a=OV(n);return a&&a.getOptions().get(67).renderType===2&&(a.updateOptions({lineNumbers:"on"}),o.add(Re(()=>a.updateOptions({lineNumbers:"relative"})))),o}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map(o=>parseInt(o,10)).filter(o=>!isNaN(o)),n=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:n+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?f("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):f("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","gotoLineLabel","Go to line {0}.",t);const n=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?f("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",n.lineNumber,n.column,o):f("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",n.lineNumber,n.column)}isValidLineNumber(e,t){return!t||typeof t!="number"?!1:t>0&&t<=this.lineCount(e)}isValidColumn(e,t,i){if(!i||typeof i!="number")return!1;const n=this.getModel(e);if(!n)return!1;const o={lineNumber:t,column:i};return n.validatePosition(o).equals(o)}lineCount(e){var t,i;return(i=(t=this.getModel(e))===null||t===void 0?void 0:t.getLineCount())!==null&&i!==void 0?i:0}}Bk.PREFIX=":";var q0e=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},G0e=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let pv=class extends Bk{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=ce.None}get activeTextEditorControl(){var e;return(e=this.editorService.getFocusedCodeEditor())!==null&&e!==void 0?e:void 0}};pv=q0e([G0e(0,bt)],pv);let SP=class NH extends ge{constructor(){super({id:NH.ID,label:m1.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(ca).quickAccess.show(pv.PREFIX)}};SP.ID="editor.action.gotoLine";ne(SP);Jt.as(tg.Quickaccess).registerQuickAccessProvider({ctor:pv,prefix:pv.PREFIX,helpEntries:[{description:m1.gotoLineActionLabel,commandId:SP.ID}]});const AH=[void 0,[]];function Hx(s,e,t=0,i=0){const n=e;return n.values&&n.values.length>1?Z0e(s,n.values,t,i):RH(s,e,t,i)}function Z0e(s,e,t,i){let n=0;const o=[];for(const r of e){const[a,l]=RH(s,r,t,i);if(typeof a!="number")return AH;n+=a,o.push(...l)}return[n,Q0e(o)]}function RH(s,e,t,i){const n=wh(e.original,e.originalLowercase,t,s,s.toLowerCase(),i,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return n?[n[0],Wv(n)]:AH}function Q0e(s){const e=s.sort((n,o)=>n.start-o.start),t=[];let i;for(const n of e)!i||!Y0e(i,n)?(i=n,t.push(n)):(i.start=Math.min(i.start,n.start),i.end=Math.max(i.end,n.end));return t}function Y0e(s,e){return!(s.end<e.start||e.end<s.start)}function T5(s){return s.startsWith('"')&&s.endsWith('"')}const MH=" ";function nA(s){typeof s!="string"&&(s="");const e=s.toLowerCase(),{pathNormalized:t,normalized:i,normalizedLowercase:n}=E5(s),o=t.indexOf(qr)>=0,r=T5(s);let a;const l=s.split(MH);if(l.length>1)for(const c of l){const d=T5(c),{pathNormalized:u,normalized:h,normalizedLowercase:g}=E5(c);h&&(a||(a=[]),a.push({original:c,originalLowercase:c.toLowerCase(),pathNormalized:u,normalized:h,normalizedLowercase:g,expectContiguousMatch:d}))}return{original:s,originalLowercase:e,pathNormalized:t,normalized:i,normalizedLowercase:n,values:a,containsPathSeparator:o,expectContiguousMatch:r}}function E5(s){let e;En?e=s.replace(/\//g,qr):e=s.replace(/\\/g,qr);const t=GU(e).replace(/\s|"/g,"");return{pathNormalized:e,normalized:t,normalizedLowercase:t.toLowerCase()}}function N5(s){return Array.isArray(s)?nA(s.map(e=>e.original).join(MH)):nA(s.original)}var X0e=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},A5=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},Pp=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},zf;let Za=zf=class extends EH{constructor(e,t,i=Object.create(null)){super(i),this._languageFeaturesService=e,this._outlineModelService=t,this.options=i,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),H.None}provideWithTextEditor(e,t,i){const n=e.editor,o=this.getModel(n);return o?this._languageFeaturesService.documentSymbolProvider.has(o)?this.doProvideWithEditorSymbols(e,o,t,i):this.doProvideWithoutEditorSymbols(e,o,t,i):H.None}doProvideWithoutEditorSymbols(e,t,i,n){const o=new Y;return this.provideLabelPick(i,f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),Pp(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(t,o))||n.isCancellationRequested||o.add(this.doProvideWithEditorSymbols(e,t,i,n))}),o}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return Pp(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(e))return!0;const i=new VS,n=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(e)&&(n.dispose(),i.complete(!0))}));return t.add(Re(()=>i.complete(!1))),i.p})}doProvideWithEditorSymbols(e,t,i,n){var o;const r=e.editor,a=new Y;a.add(i.onDidAccept(u=>{const[h]=i.selectedItems;h&&h.range&&(this.gotoLocation(e,{range:h.range.selection,keyMods:i.keyMods,preserveFocus:u.inBackground}),u.inBackground||i.hide())})),a.add(i.onDidTriggerItemButton(({item:u})=>{u&&u.range&&(this.gotoLocation(e,{range:u.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));const l=this.getDocumentSymbols(t,n);let c;const d=u=>Pp(this,void 0,void 0,function*(){c==null||c.dispose(!0),i.busy=!1,c=new yi(n),i.busy=!0;try{const h=nA(i.value.substr(zf.PREFIX.length).trim()),g=yield this.doGetSymbolPicks(l,h,void 0,c.token);if(n.isCancellationRequested)return;if(g.length>0){if(i.items=g,u&&h.original.length===0){const m=VC(g,p=>!!(p.type!=="separator"&&p.range&&k.containsPosition(p.range.decoration,u)));m&&(i.activeItems=[m])}}else h.original.length>0?this.provideLabelPick(i,f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","noSymbolResults","No editor symbols"))}finally{n.isCancellationRequested||(i.busy=!1)}});return a.add(i.onDidChangeValue(()=>d(void 0))),d((o=r.getSelection())===null||o===void 0?void 0:o.getPosition()),a.add(i.onDidChangeActive(()=>{const[u]=i.activeItems;u&&u.range&&(r.revealRangeInCenter(u.range.selection,0),this.addDecorations(r,u.range.decoration))})),a}doGetSymbolPicks(e,t,i,n){var o,r;return Pp(this,void 0,void 0,function*(){const a=yield e;if(n.isCancellationRequested)return[];const l=t.original.indexOf(zf.SCOPE_PREFIX)===0,c=l?1:0;let d,u;t.values&&t.values.length>1?(d=N5(t.values[0]),u=N5(t.values.slice(1))):d=t;let h;const g=(r=(o=this.options)===null||o===void 0?void 0:o.openSideBySideDirection)===null||r===void 0?void 0:r.call(o);g&&(h=[{iconClass:g==="right"?Ie.asClassName(se.splitHorizontal):Ie.asClassName(se.splitVertical),tooltip:g==="right"?f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","openToSide","Open to the Side"):f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","openToBottom","Open to the Bottom")}]);const m=[];for(let b=0;b<a.length;b++){const v=a[b],w=KU(v.name),C=`$(${xC.toIcon(v.kind).id}) ${w}`,S=C.length-w.length;let x=v.containerName;i!=null&&i.extraContainerLabel&&(x?x=`${i.extraContainerLabel} • ${x}`:x=i.extraContainerLabel);let L,I,E,W;if(t.original.length>c){let F=!1;if(d!==t&&([L,I]=Hx(C,Object.assign(Object.assign({},t),{values:void 0}),c,S),typeof L=="number"&&(F=!0)),typeof L!="number"&&([L,I]=Hx(C,d,c,S),typeof L!="number"))continue;if(!F&&u){if(x&&u.original.length>0&&([E,W]=Hx(x,u)),typeof E!="number")continue;typeof L=="number"&&(L+=E)}}const U=v.tags&&v.tags.indexOf(1)>=0;m.push({index:b,kind:v.kind,score:L,label:C,ariaLabel:zU(v.name,v.kind),description:x,highlights:U?void 0:{label:I,description:W},range:{selection:k.collapseToStart(v.selectionRange),decoration:v.range},strikethrough:U,buttons:h})}const p=m.sort((b,v)=>l?this.compareByKindAndScore(b,v):this.compareByScore(b,v));let _=[];if(l){let C=function(){v&&typeof b=="number"&&w>0&&(v.label=uh(Ux[b]||zx,w))},b,v,w=0;for(const S of p)b!==S.kind?(C(),b=S.kind,w=1,v={type:"separator"},_.push(v)):w++,_.push(S);C()}else p.length>0&&(_=[{label:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","symbols","symbols ({0})",m.length),type:"separator"},...p]);return _})}compareByScore(e,t){if(typeof e.score!="number"&&typeof t.score=="number")return 1;if(typeof e.score=="number"&&typeof t.score!="number")return-1;if(typeof e.score=="number"&&typeof t.score=="number"){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=Ux[e.kind]||zx,n=Ux[t.kind]||zx,o=i.localeCompare(n);return o===0?this.compareByScore(e,t):o}getDocumentSymbols(e,t){return Pp(this,void 0,void 0,function*(){const i=yield this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()})}};Za.PREFIX="@";Za.SCOPE_PREFIX=":";Za.PREFIX_BY_CATEGORY=`${zf.PREFIX}${zf.SCOPE_PREFIX}`;Za=zf=X0e([A5(0,me),A5(1,dk)],Za);const zx=f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","property","properties ({0})"),Ux={5:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","method","methods ({0})"),11:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","function","functions ({0})"),8:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","_constructor","constructors ({0})"),12:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","variable","variables ({0})"),4:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","class","classes ({0})"),22:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","struct","structs ({0})"),23:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","event","events ({0})"),24:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","operator","operators ({0})"),10:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","interface","interfaces ({0})"),2:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","namespace","namespaces ({0})"),3:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","package","packages ({0})"),25:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","typeParameter","type parameters ({0})"),1:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","modules","modules ({0})"),6:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","property","properties ({0})"),9:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","enum","enumerations ({0})"),21:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","enumMember","enumeration members ({0})"),14:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","string","strings ({0})"),0:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","file","files ({0})"),17:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","array","arrays ({0})"),15:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","number","numbers ({0})"),16:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","boolean","booleans ({0})"),18:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","object","objects ({0})"),19:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","key","keys ({0})"),7:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","field","fields ({0})"),13:f("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","constant","constants ({0})")};var J0e=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},$x=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let oA=class extends Za{constructor(e,t,i){super(t,i),this.editorService=e,this.onDidActiveTextEditorControlChange=ce.None}get activeTextEditorControl(){var e;return(e=this.editorService.getFocusedCodeEditor())!==null&&e!==void 0?e:void 0}};oA=J0e([$x(0,bt),$x(1,me),$x(2,dk)],oA);class a0 extends ge{constructor(){super({id:a0.ID,label:x_.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:T.hasDocumentSymbolProvider,kbOpts:{kbExpr:T.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(ca).quickAccess.show(Za.PREFIX,{itemActivation:Ar.NONE})}}a0.ID="editor.action.quickOutline";ne(a0);Jt.as(tg.Quickaccess).registerQuickAccessProvider({ctor:oA,prefix:Za.PREFIX,helpEntries:[{description:x_.quickOutlineActionLabel,prefix:Za.PREFIX,commandId:a0.ID},{description:x_.quickOutlineByCategoryActionLabel,prefix:Za.PREFIX_BY_CATEGORY}]});function jx(s,e){return e&&(s.stack||s.stacktrace)?f("vs/base/common/errorMessage","stackTrace.format","{0}: {1}",M5(s),R5(s.stack)||R5(s.stacktrace)):M5(s)}function R5(s){return Array.isArray(s)?s.join(`
`):s}function M5(s){return s.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${s.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof s.code=="string"&&typeof s.errno=="number"&&typeof s.syscall=="string"?f("vs/base/common/errorMessage","nodeExceptionMessage","A system error occurred ({0})",s.message):s.message||f("vs/base/common/errorMessage","error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function PH(s=null,e=!1){if(!s)return f("vs/base/common/errorMessage","error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(s)){const t=Qa(s),i=PH(t[0],e);return t.length>1?f("vs/base/common/errorMessage","error.moreErrors","{0} ({1} errors in total)",i,t.length):i}if(ao(s))return s;if(s.detail){const t=s.detail;if(t.error)return jx(t.error,e);if(t.exception)return jx(t.exception,e)}return s.stack?jx(s,e):s.message?s.message:f("vs/base/common/errorMessage","error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function ewe(s){var e;const t=new Map;for(const i of s)t.set(i,((e=t.get(i))!==null&&e!==void 0?e:0)+1);return t}class Bb{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(e,t){const i=this.computeEmbedding(e),n=new Map,o=[];for(const[r,a]of this.documents){if(t.isCancellationRequested)return[];for(const l of a.chunks){const c=this.computeSimilarityScore(l,i,n);c>0&&o.push({key:r,score:c})}}return o}static termFrequencies(e){return ewe(Bb.splitTerms(e))}static*splitTerms(e){const t=i=>i.toLowerCase();for(const[i]of e.matchAll(new RegExp("\\b\\p{Letter}[\\p{Letter}\\d]{2,}\\b","gu"))){yield t(i);const n=i.split(new RegExp("(?<=[a-z])(?=[A-Z])","g"));if(n.length>1)for(const o of n)o.length>2&&new RegExp("\\p{Letter}{3,}","gu").test(o)&&(yield t(o))}}updateDocuments(e){var t;for(const{key:i}of e)this.deleteDocument(i);for(const i of e){const n=[];for(const o of i.textChunks){const r=Bb.termFrequencies(o);for(const a of r.keys())this.chunkOccurrences.set(a,((t=this.chunkOccurrences.get(a))!==null&&t!==void 0?t:0)+1);n.push({text:o,tf:r})}this.chunkCount+=n.length,this.documents.set(i.key,{chunks:n})}return this}deleteDocument(e){const t=this.documents.get(e);if(t){this.documents.delete(e),this.chunkCount-=t.chunks.length;for(const i of t.chunks)for(const n of i.tf.keys()){const o=this.chunkOccurrences.get(n);if(typeof o=="number"){const r=o-1;r<=0?this.chunkOccurrences.delete(n):this.chunkOccurrences.set(n,r)}}}}computeSimilarityScore(e,t,i){let n=0;for(const[o,r]of Object.entries(t)){const a=e.tf.get(o);if(!a)continue;let l=i.get(o);typeof l!="number"&&(l=this.computeIdf(o),i.set(o,l));const c=a*l;n+=c*r}return n}computeEmbedding(e){const t=Bb.termFrequencies(e);return this.computeTfidf(t)}computeIdf(e){var t;const i=(t=this.chunkOccurrences.get(e))!==null&&t!==void 0?t:0;return i>0?Math.log((this.chunkCount+1)/i):0}computeTfidf(e){const t=Object.create(null);for(const[i,n]of e){const o=this.computeIdf(i);o>0&&(t[i]=n*o)}return t}}function twe(s){var e,t;const i=s.slice(0);i.sort((o,r)=>r.score-o.score);const n=(t=(e=i[0])===null||e===void 0?void 0:e.score)!==null&&t!==void 0?t:0;if(n>0)for(const o of i)o.score/=n;return i}var Op=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},gf;(function(s){s[s.NO_ACTION=0]="NO_ACTION",s[s.CLOSE_PICKER=1]="CLOSE_PICKER",s[s.REFRESH_PICKER=2]="REFRESH_PICKER",s[s.REMOVE_ITEM=3]="REMOVE_ITEM"})(gf||(gf={}));function Kx(s){const e=s;return Array.isArray(e.items)}function P5(s){const e=s;return!!e.picks&&e.additionalPicks instanceof Promise}class iwe extends H{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t,i){var n;const o=new Y;e.canAcceptInBackground=!!(!((n=this.options)===null||n===void 0)&&n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let r;const a=o.add(new pn),l=()=>Op(this,void 0,void 0,function*(){const c=a.value=new Y;r==null||r.dispose(!0),e.busy=!1,r=new yi(t);const d=r.token,u=e.value.substr(this.prefix.length).trim(),h=this._getPicks(u,c,d,i),g=(p,_)=>{var b;let v,w;if(Kx(p)?(v=p.items,w=p.active):v=p,v.length===0){if(_)return!1;(u.length>0||e.hideInput)&&(!((b=this.options)===null||b===void 0)&&b.noResultsPick)&&(zb(this.options.noResultsPick)?v=[this.options.noResultsPick(u)]:v=[this.options.noResultsPick])}return e.items=v,w&&(e.activeItems=[w]),!0},m=p=>Op(this,void 0,void 0,function*(){let _=!1,b=!1;yield Promise.all([(()=>Op(this,void 0,void 0,function*(){typeof p.mergeDelay=="number"&&(yield Ld(p.mergeDelay),d.isCancellationRequested)||b||(_=g(p.picks,!0))}))(),(()=>Op(this,void 0,void 0,function*(){e.busy=!0;try{const v=yield p.additionalPicks;if(d.isCancellationRequested)return;let w,C;Kx(p.picks)?(w=p.picks.items,C=p.picks.active):w=p.picks;let S,x;if(Kx(v)?(S=v.items,x=v.active):S=v,S.length>0||!_){let L;if(!C&&!x){const I=e.activeItems[0];I&&w.indexOf(I)!==-1&&(L=I)}g({items:[...w,...S],active:C||x||L})}}finally{d.isCancellationRequested||(e.busy=!1),b=!0}}))()])});if(h!==null)if(P5(h))yield m(h);else if(!(h instanceof Promise))g(h);else{e.busy=!0;try{const p=yield h;if(d.isCancellationRequested)return;P5(p)?yield m(p):g(p)}finally{d.isCancellationRequested||(e.busy=!1)}}});return o.add(e.onDidChangeValue(()=>l())),l(),o.add(e.onDidAccept(c=>{const[d]=e.selectedItems;typeof(d==null?void 0:d.accept)=="function"&&(c.inBackground||e.hide(),d.accept(e.keyMods,c))})),o.add(e.onDidTriggerItemButton(({button:c,item:d})=>Op(this,void 0,void 0,function*(){var u,h;if(typeof d.trigger=="function"){const g=(h=(u=d.buttons)===null||u===void 0?void 0:u.indexOf(c))!==null&&h!==void 0?h:-1;if(g>=0){const m=d.trigger(g,e.keyMods),p=typeof m=="number"?m:yield m;if(t.isCancellationRequested)return;switch(p){case gf.NO_ACTION:break;case gf.CLOSE_PICKER:e.hide();break;case gf.REFRESH_PICKER:l();break;case gf.REMOVE_ITEM:{const _=e.items.indexOf(d);if(_!==-1){const b=e.items.slice(),v=b.splice(_,1),w=e.activeItems.filter(S=>S!==v[0]),C=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=b,w&&(e.activeItems=w),e.keepScrollPosition=C}break}}}}}))),o}}var OH=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Wu=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},qx=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})},Iu,Ui;let Uh=Iu=class extends iwe{constructor(e,t,i,n,o,r){super(Iu.PREFIX,e),this.instantiationService=t,this.keybindingService=i,this.commandService=n,this.telemetryService=o,this.dialogService=r,this.commandsHistory=this._register(this.instantiationService.createInstance($h)),this.options=e}_getPicks(e,t,i,n){var o,r,a,l;return qx(this,void 0,void 0,function*(){const c=yield this.getCommandPicks(i);if(i.isCancellationRequested)return[];const d=Sd(()=>{const b=new Bb;b.updateDocuments(c.map(w=>({key:w.commandId,textChunks:[w.label+(w.commandAlias?` ${w.commandAlias}`:"")]})));const v=b.calculateScores(e,i);return twe(v).filter(w=>w.score>Iu.TFIDF_THRESHOLD).slice(0,Iu.TFIDF_MAX_RESULTS)}),u=[];for(const b of c){const v=(o=Iu.WORD_FILTER(e,b.label))!==null&&o!==void 0?o:void 0,w=b.commandAlias&&(r=Iu.WORD_FILTER(e,b.commandAlias))!==null&&r!==void 0?r:void 0;if(v||w)b.highlights={label:v,detail:this.options.showAlias?w:void 0},u.push(b);else if(e===b.commandId)u.push(b);else if(e.length>=3){const C=d();if(i.isCancellationRequested)return[];const S=C.find(x=>x.key===b.commandId);S&&(b.tfIdfScore=S.score,u.push(b))}}const h=new Map;for(const b of u){const v=h.get(b.label);v?(b.description=b.commandId,v.description=v.commandId):h.set(b.label,b)}u.sort((b,v)=>{if(b.tfIdfScore&&v.tfIdfScore)return b.tfIdfScore===v.tfIdfScore?b.label.localeCompare(v.label):v.tfIdfScore-b.tfIdfScore;if(b.tfIdfScore)return 1;if(v.tfIdfScore)return-1;const w=this.commandsHistory.peek(b.commandId),C=this.commandsHistory.peek(v.commandId);if(w&&C)return w>C?-1:1;if(w)return-1;if(C)return 1;if(this.options.suggestedCommandIds){const S=this.options.suggestedCommandIds.has(b.commandId),x=this.options.suggestedCommandIds.has(v.commandId);if(S&&x)return 0;if(S)return-1;if(x)return 1}return b.label.localeCompare(v.label)});const g=[];let m=!1,p=!0,_=!!this.options.suggestedCommandIds;for(let b=0;b<u.length;b++){const v=u[b];b===0&&this.commandsHistory.peek(v.commandId)&&(g.push({type:"separator",label:f("vs/platform/quickinput/browser/commandsQuickAccess","recentlyUsed","recently used")}),m=!0),p&&v.tfIdfScore!==void 0&&(g.push({type:"separator",label:f("vs/platform/quickinput/browser/commandsQuickAccess","suggested","similar commands")}),p=!1),_&&v.tfIdfScore===void 0&&!this.commandsHistory.peek(v.commandId)&&(!((a=this.options.suggestedCommandIds)===null||a===void 0)&&a.has(v.commandId))&&(g.push({type:"separator",label:f("vs/platform/quickinput/browser/commandsQuickAccess","commonlyUsed","commonly used")}),m=!0,_=!1),m&&v.tfIdfScore===void 0&&!this.commandsHistory.peek(v.commandId)&&!(!((l=this.options.suggestedCommandIds)===null||l===void 0)&&l.has(v.commandId))&&(g.push({type:"separator",label:f("vs/platform/quickinput/browser/commandsQuickAccess","morecCommands","other commands")}),m=!1),g.push(this.toCommandPick(v,n))}return this.hasAdditionalCommandPicks(e,i)?{picks:g,additionalPicks:(()=>qx(this,void 0,void 0,function*(){var b;const v=yield this.getAdditionalCommandPicks(c,u,e,i);if(i.isCancellationRequested)return[];const w=v.map(C=>this.toCommandPick(C,n));return p&&((b=w[0])===null||b===void 0?void 0:b.type)!=="separator"&&w.unshift({type:"separator",label:f("vs/platform/quickinput/browser/commandsQuickAccess","suggested","similar commands")}),w}))()}:g})}toCommandPick(e,t){if(e.type==="separator")return e;const i=this.keybindingService.lookupKeybinding(e.commandId),n=i?f("vs/platform/quickinput/browser/commandsQuickAccess","commandPickAriaLabelWithKeybinding","{0}, {1}",e.label,i.getAriaLabel()):e.label;return Object.assign(Object.assign({},e),{ariaLabel:n,detail:this.options.showAlias&&e.commandAlias!==e.label?e.commandAlias:void 0,keybinding:i,accept:()=>qx(this,void 0,void 0,function*(){var o,r;this.commandsHistory.push(e.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.commandId,from:(o=t==null?void 0:t.from)!==null&&o!==void 0?o:"quick open"});try{!((r=e.args)===null||r===void 0)&&r.length?yield this.commandService.executeCommand(e.commandId,...e.args):yield this.commandService.executeCommand(e.commandId)}catch(a){ra(a)||this.dialogService.error(f("vs/platform/quickinput/browser/commandsQuickAccess","canNotRun","Command '{0}' resulted in an error",e.label),PH(a))}})})}};Uh.PREFIX=">";Uh.TFIDF_THRESHOLD=.5;Uh.TFIDF_MAX_RESULTS=5;Uh.WORD_FILTER=RR(E_,ene,c7);Uh=Iu=OH([Wu(1,Ae),Wu(2,Et),Wu(3,ci),Wu(4,ms),Wu(5,Fv)],Uh);let $h=Ui=class extends H{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>this.updateConfiguration(e)))}updateConfiguration(e){e&&!e.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=Ui.getConfiguredCommandHistoryLength(this.configurationService),Ui.cache&&Ui.cache.limit!==this.configuredCommandsHistoryLength&&(Ui.cache.limit=this.configuredCommandsHistoryLength,Ui.saveState(this.storageService)))}load(){const e=this.storageService.get(Ui.PREF_KEY_CACHE,0);let t;if(e)try{t=JSON.parse(e)}catch(n){}const i=Ui.cache=new Yd(this.configuredCommandsHistoryLength,1);if(t){let n;t.usesLRU?n=t.entries:n=t.entries.sort((o,r)=>o.value-r.value),n.forEach(o=>i.set(o.key,o.value))}Ui.counter=this.storageService.getNumber(Ui.PREF_KEY_COUNTER,0,Ui.counter)}push(e){Ui.cache&&(Ui.cache.set(e,Ui.counter++),Ui.saveState(this.storageService))}peek(e){var t;return(t=Ui.cache)===null||t===void 0?void 0:t.peek(e)}static saveState(e){if(!Ui.cache)return;const t={usesLRU:!0,entries:[]};Ui.cache.forEach((i,n)=>t.entries.push({key:n,value:i})),e.store(Ui.PREF_KEY_CACHE,JSON.stringify(t),0,0),e.store(Ui.PREF_KEY_COUNTER,Ui.counter,0,0)}static getConfiguredCommandHistoryLength(e){var t,i;const o=(i=(t=e.getValue().workbench)===null||t===void 0?void 0:t.commandPalette)===null||i===void 0?void 0:i.history;return typeof o=="number"?o:Ui.DEFAULT_COMMANDS_HISTORY_LENGTH}};$h.DEFAULT_COMMANDS_HISTORY_LENGTH=50;$h.PREF_KEY_CACHE="commandPalette.mru.cache";$h.PREF_KEY_COUNTER="commandPalette.mru.counter";$h.counter=1;$h=Ui=OH([Wu(0,_r),Wu(1,ot)],$h);class nwe extends Uh{constructor(e,t,i,n,o,r){super(e,t,i,n,o,r)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:WR(i.label)||i.id});return t}}var owe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ng=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}},O5=globalThis&&globalThis.__awaiter||function(s,e,t,i){function n(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function a(d){try{c(i.next(d))}catch(u){r(u)}}function l(d){try{c(i.throw(d))}catch(u){r(u)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};let bv=class extends nwe{get activeTextEditorControl(){var e;return(e=this.codeEditorService.getFocusedCodeEditor())!==null&&e!==void 0?e:void 0}constructor(e,t,i,n,o,r){super({showAlias:!1},e,i,n,o,r),this.codeEditorService=t}getCommandPicks(){return O5(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return O5(this,void 0,void 0,function*(){return[]})}};bv=owe([Ng(0,Ae),Ng(1,bt),Ng(2,Et),Ng(3,ci),Ng(4,ms),Ng(5,Fv)],bv);class l0 extends ge{constructor(){super({id:l0.ID,label:p1.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(ca).quickAccess.show(bv.PREFIX)}}l0.ID="editor.action.quickCommand";ne(l0);Jt.as(tg.Quickaccess).registerQuickAccessProvider({ctor:bv,prefix:bv.PREFIX,helpEntries:[{description:p1.quickCommandHelp,commandId:l0.ID}]});var swe=globalThis&&globalThis.__decorate||function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var a=s.length-1;a>=0;a--)(r=s[a])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ag=globalThis&&globalThis.__param||function(s,e){return function(t,i){e(t,i,s)}};let sA=class extends Vd{constructor(e,t,i,n,o,r,a){super(!0,e,t,i,n,o,r,a)}};sA=swe([Ag(1,Me),Ag(2,bt),Ag(3,Li),Ag(4,Ae),Ag(5,_r),Ag(6,ot)],sA);gt(Vd.ID,sA,4);class rwe extends ge{constructor(){super({id:"editor.action.toggleHighContrast",label:tT.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const i=e.get(bs),n=i.getColorTheme();Qr(n.type)?(i.setTheme(this._originalThemeName||(nm(n.type)?Ff:Wl)),this._originalThemeName=null):(i.setTheme(nm(n.type)?oh:sh),this._originalThemeName=n.themeName)}}ne(rwe);export{ve as _,cde as e,Gv as m,i8 as t};
